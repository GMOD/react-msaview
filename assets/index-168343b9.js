function phe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pa(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var UY={exports:{}},NE={},GY={exports:{}},Fn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=Symbol.for("react.element"),hhe=Symbol.for("react.portal"),mhe=Symbol.for("react.fragment"),ghe=Symbol.for("react.strict_mode"),vhe=Symbol.for("react.profiler"),bhe=Symbol.for("react.provider"),yhe=Symbol.for("react.context"),xhe=Symbol.for("react.forward_ref"),whe=Symbol.for("react.suspense"),_he=Symbol.for("react.memo"),She=Symbol.for("react.lazy"),w8=Symbol.iterator;function Che(e){return e===null||typeof e!="object"?null:(e=w8&&e[w8]||e["@@iterator"],typeof e=="function"?e:null)}var WY={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qY=Object.assign,XY={};function ky(e,t,n){this.props=e,this.context=t,this.refs=XY,this.updater=n||WY}ky.prototype.isReactComponent={};ky.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ky.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KY(){}KY.prototype=ky.prototype;function bB(e,t,n){this.props=e,this.context=t,this.refs=XY,this.updater=n||WY}var yB=bB.prototype=new KY;yB.constructor=bB;qY(yB,ky.prototype);yB.isPureReactComponent=!0;var _8=Array.isArray,YY=Object.prototype.hasOwnProperty,xB={current:null},ZY={key:!0,ref:!0,__self:!0,__source:!0};function QY(e,t,n){var r,o={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)YY.call(t,r)&&!ZY.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return{$$typeof:l_,type:e,key:i,ref:a,props:o,_owner:xB.current}}function Phe(e,t){return{$$typeof:l_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wB(e){return typeof e=="object"&&e!==null&&e.$$typeof===l_}function Mhe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var S8=/\/+/g;function Ok(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mhe(""+e.key):t.toString(36)}function _P(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case l_:case hhe:a=!0}}if(a)return a=e,o=o(a),e=r===""?"."+Ok(a,0):r,_8(o)?(n="",e!=null&&(n=e.replace(S8,"$&/")+"/"),_P(o,t,n,"",function(c){return c})):o!=null&&(wB(o)&&(o=Phe(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(S8,"$&/")+"/")+e)),t.push(o)),1;if(a=0,r=r===""?".":r+":",_8(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Ok(i,s);a+=_P(i,t,n,l,o)}else if(l=Che(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Ok(i,s++),a+=_P(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function hC(e,t,n){if(e==null)return e;var r=[],o=0;return _P(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Ahe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ma={current:null},SP={transition:null},Ehe={ReactCurrentDispatcher:Ma,ReactCurrentBatchConfig:SP,ReactCurrentOwner:xB};Fn.Children={map:hC,forEach:function(e,t,n){hC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hC(e,function(){t++}),t},toArray:function(e){return hC(e,function(t){return t})||[]},only:function(e){if(!wB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fn.Component=ky;Fn.Fragment=mhe;Fn.Profiler=vhe;Fn.PureComponent=bB;Fn.StrictMode=ghe;Fn.Suspense=whe;Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ehe;Fn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=qY({},e.props),o=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=xB.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)YY.call(t,l)&&!ZY.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:l_,type:e.type,key:o,ref:i,props:r,_owner:a}};Fn.createContext=function(e){return e={$$typeof:yhe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bhe,_context:e},e.Consumer=e};Fn.createElement=QY;Fn.createFactory=function(e){var t=QY.bind(null,e);return t.type=e,t};Fn.createRef=function(){return{current:null}};Fn.forwardRef=function(e){return{$$typeof:xhe,render:e}};Fn.isValidElement=wB;Fn.lazy=function(e){return{$$typeof:She,_payload:{_status:-1,_result:e},_init:Ahe}};Fn.memo=function(e,t){return{$$typeof:_he,type:e,compare:t===void 0?null:t}};Fn.startTransition=function(e){var t=SP.transition;SP.transition={};try{e()}finally{SP.transition=t}};Fn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fn.useCallback=function(e,t){return Ma.current.useCallback(e,t)};Fn.useContext=function(e){return Ma.current.useContext(e)};Fn.useDebugValue=function(){};Fn.useDeferredValue=function(e){return Ma.current.useDeferredValue(e)};Fn.useEffect=function(e,t){return Ma.current.useEffect(e,t)};Fn.useId=function(){return Ma.current.useId()};Fn.useImperativeHandle=function(e,t,n){return Ma.current.useImperativeHandle(e,t,n)};Fn.useInsertionEffect=function(e,t){return Ma.current.useInsertionEffect(e,t)};Fn.useLayoutEffect=function(e,t){return Ma.current.useLayoutEffect(e,t)};Fn.useMemo=function(e,t){return Ma.current.useMemo(e,t)};Fn.useReducer=function(e,t,n){return Ma.current.useReducer(e,t,n)};Fn.useRef=function(e){return Ma.current.useRef(e)};Fn.useState=function(e){return Ma.current.useState(e)};Fn.useSyncExternalStore=function(e,t,n){return Ma.current.useSyncExternalStore(e,t,n)};Fn.useTransition=function(){return Ma.current.useTransition()};Fn.version="18.2.0";GY.exports=Fn;var C=GY.exports;const ke=Pc(C),AM=phe({__proto__:null,default:ke},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var The=C,Ohe=Symbol.for("react.element"),Ihe=Symbol.for("react.fragment"),khe=Object.prototype.hasOwnProperty,Rhe=The.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lhe={key:!0,ref:!0,__self:!0,__source:!0};function JY(e,t,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)khe.call(t,r)&&!Lhe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Ohe,type:e,key:i,ref:a,props:o,_owner:Rhe.current}}NE.Fragment=Ihe;NE.jsx=JY;NE.jsxs=JY;UY.exports=NE;var N=UY.exports,MD={},eZ={exports:{}},js={},tZ={exports:{}},nZ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,j){var V=$.length;$.push(j);e:for(;0<V;){var q=V-1>>>1,Q=$[q];if(0<o(Q,j))$[q]=j,$[V]=Q,V=q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],V=$.pop();if(V!==j){$[0]=V;e:for(var q=0,Q=$.length,H=Q>>>1;q<H;){var X=2*(q+1)-1,J=$[X],G=X+1,ie=$[G];if(0>o(J,V))G<Q&&0>o(ie,J)?($[q]=ie,$[G]=V,q=G):($[q]=J,$[X]=V,q=X);else if(G<Q&&0>o(ie,V))$[q]=ie,$[G]=V,q=G;else break e}}return j}function o($,j){var V=$.sortIndex-j.sortIndex;return V!==0?V:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,d=null,f=3,p=!1,h=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=$)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function y($){if(g=!1,x($),!h)if(n(l)!==null)h=!0,k(w);else{var j=n(c);j!==null&&B(y,j.startTime-$)}}function w($,j){h=!1,g&&(g=!1,m(P),P=-1),p=!0;var V=f;try{for(x(j),d=n(l);d!==null&&(!(d.expirationTime>j)||$&&!O());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Q=q(d.expirationTime<=j);j=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),x(j)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var X=n(c);X!==null&&B(y,X.startTime-j),H=!1}return H}finally{d=null,f=V,p=!1}}var _=!1,S=null,P=-1,M=5,I=-1;function O(){return!(e.unstable_now()-I<M)}function L(){if(S!==null){var $=e.unstable_now();I=$;var j=!0;try{j=S(!0,$)}finally{j?R():(_=!1,S=null)}}else _=!1}var R;if(typeof b=="function")R=function(){b(L)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,E=T.port2;T.port1.onmessage=L,R=function(){E.postMessage(null)}}else R=function(){v(L,0)};function k($){S=$,_||(_=!0,R())}function B($,j){P=v(function(){$(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,k(w))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var V=f;f=j;try{return $()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var V=f;f=$;try{return j()}finally{f=V}},e.unstable_scheduleCallback=function($,j,V){var q=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,$){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=V+Q,$={id:u++,callback:j,priorityLevel:$,startTime:V,expirationTime:Q,sortIndex:-1},V>q?($.sortIndex=V,t(c,$),n(l)===null&&$===n(c)&&(g?(m(P),P=-1):g=!0,B(y,V-q))):($.sortIndex=Q,t(l,$),h||p||(h=!0,k(w))),$},e.unstable_shouldYield=O,e.unstable_wrapCallback=function($){var j=f;return function(){var V=f;f=j;try{return $.apply(this,arguments)}finally{f=V}}}})(nZ);tZ.exports=nZ;var $he=tZ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rZ=C,Os=$he;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oZ=new Set,kx={};function Ym(e,t){bb(e,t),bb(e+"Capture",t)}function bb(e,t){for(kx[e]=t,e=0;e<t.length;e++)oZ.add(t[e])}var Pd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AD=Object.prototype.hasOwnProperty,Dhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C8={},P8={};function Fhe(e){return AD.call(P8,e)?!0:AD.call(C8,e)?!1:Dhe.test(e)?P8[e]=!0:(C8[e]=!0,!1)}function Nhe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bhe(e,t,n,r){if(t===null||typeof t>"u"||Nhe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Aa(e,t,n,r,o,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fi[e]=new Aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fi[t]=new Aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fi[e]=new Aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fi[e]=new Aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fi[e]=new Aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fi[e]=new Aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fi[e]=new Aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fi[e]=new Aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fi[e]=new Aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var _B=/[\-:]([a-z])/g;function SB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_B,SB);Fi[t]=new Aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_B,SB);Fi[t]=new Aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_B,SB);Fi[t]=new Aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fi[e]=new Aa(e,1,!1,e.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new Aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fi[e]=new Aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function CB(e,t,n,r){var o=Fi.hasOwnProperty(t)?Fi[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bhe(t,n,o,r)&&(n=null),r||o===null?Fhe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xd=rZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mC=Symbol.for("react.element"),Mv=Symbol.for("react.portal"),Av=Symbol.for("react.fragment"),PB=Symbol.for("react.strict_mode"),ED=Symbol.for("react.profiler"),iZ=Symbol.for("react.provider"),aZ=Symbol.for("react.context"),MB=Symbol.for("react.forward_ref"),TD=Symbol.for("react.suspense"),OD=Symbol.for("react.suspense_list"),AB=Symbol.for("react.memo"),Tf=Symbol.for("react.lazy"),sZ=Symbol.for("react.offscreen"),M8=Symbol.iterator;function O0(e){return e===null||typeof e!="object"?null:(e=M8&&e[M8]||e["@@iterator"],typeof e=="function"?e:null)}var co=Object.assign,Ik;function M1(e){if(Ik===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ik=t&&t[1]||""}return`
`+Ik+e}var kk=!1;function Rk(e,t){if(!e||kk)return"";kk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var l=`
`+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{kk=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M1(e):""}function jhe(e){switch(e.tag){case 5:return M1(e.type);case 16:return M1("Lazy");case 13:return M1("Suspense");case 19:return M1("SuspenseList");case 0:case 2:case 15:return e=Rk(e.type,!1),e;case 11:return e=Rk(e.type.render,!1),e;case 1:return e=Rk(e.type,!0),e;default:return""}}function ID(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Av:return"Fragment";case Mv:return"Portal";case ED:return"Profiler";case PB:return"StrictMode";case TD:return"Suspense";case OD:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aZ:return(e.displayName||"Context")+".Consumer";case iZ:return(e._context.displayName||"Context")+".Provider";case MB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AB:return t=e.displayName||null,t!==null?t:ID(e.type)||"Memo";case Tf:t=e._payload,e=e._init;try{return ID(e(t))}catch{}}return null}function zhe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ID(t);case 8:return t===PB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yp(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lZ(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hhe(e){var t=lZ(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gC(e){e._valueTracker||(e._valueTracker=Hhe(e))}function cZ(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lZ(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function EM(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kD(e,t){var n=t.checked;return co({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function A8(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=yp(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uZ(e,t){t=t.checked,t!=null&&CB(e,"checked",t,!1)}function RD(e,t){uZ(e,t);var n=yp(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?LD(e,t.type,n):t.hasOwnProperty("defaultValue")&&LD(e,t.type,yp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function E8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function LD(e,t,n){(t!=="number"||EM(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var A1=Array.isArray;function Qv(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yp(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function $D(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(yt(91));return co({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function T8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(yt(92));if(A1(n)){if(1<n.length)throw Error(yt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yp(n)}}function dZ(e,t){var n=yp(t.value),r=yp(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function O8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fZ(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DD(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fZ(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vC,pZ=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vC=vC||document.createElement("div"),vC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vhe=["Webkit","ms","Moz","O"];Object.keys(tx).forEach(function(e){Vhe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tx[t]=tx[e]})});function hZ(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tx.hasOwnProperty(e)&&tx[e]?(""+t).trim():t+"px"}function mZ(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=hZ(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Uhe=co({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FD(e,t){if(t){if(Uhe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(yt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(yt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(yt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(yt(62))}}function ND(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BD=null;function EB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jD=null,Jv=null,eb=null;function I8(e){if(e=d_(e)){if(typeof jD!="function")throw Error(yt(280));var t=e.stateNode;t&&(t=VE(t),jD(e.stateNode,e.type,t))}}function gZ(e){Jv?eb?eb.push(e):eb=[e]:Jv=e}function vZ(){if(Jv){var e=Jv,t=eb;if(eb=Jv=null,I8(e),t)for(e=0;e<t.length;e++)I8(t[e])}}function bZ(e,t){return e(t)}function yZ(){}var Lk=!1;function xZ(e,t,n){if(Lk)return e(t,n);Lk=!0;try{return bZ(e,t,n)}finally{Lk=!1,(Jv!==null||eb!==null)&&(yZ(),vZ())}}function Lx(e,t){var n=e.stateNode;if(n===null)return null;var r=VE(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(yt(231,t,typeof n));return n}var zD=!1;if(Pd)try{var I0={};Object.defineProperty(I0,"passive",{get:function(){zD=!0}}),window.addEventListener("test",I0,I0),window.removeEventListener("test",I0,I0)}catch{zD=!1}function Ghe(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var nx=!1,TM=null,OM=!1,HD=null,Whe={onError:function(e){nx=!0,TM=e}};function qhe(e,t,n,r,o,i,a,s,l){nx=!1,TM=null,Ghe.apply(Whe,arguments)}function Xhe(e,t,n,r,o,i,a,s,l){if(qhe.apply(this,arguments),nx){if(nx){var c=TM;nx=!1,TM=null}else throw Error(yt(198));OM||(OM=!0,HD=c)}}function Zm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wZ(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function k8(e){if(Zm(e)!==e)throw Error(yt(188))}function Khe(e){var t=e.alternate;if(!t){if(t=Zm(e),t===null)throw Error(yt(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return k8(o),e;if(i===r)return k8(o),t;i=i.sibling}throw Error(yt(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(yt(189))}}if(n.alternate!==r)throw Error(yt(190))}if(n.tag!==3)throw Error(yt(188));return n.stateNode.current===n?e:t}function _Z(e){return e=Khe(e),e!==null?SZ(e):null}function SZ(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SZ(e);if(t!==null)return t;e=e.sibling}return null}var CZ=Os.unstable_scheduleCallback,R8=Os.unstable_cancelCallback,Yhe=Os.unstable_shouldYield,Zhe=Os.unstable_requestPaint,Po=Os.unstable_now,Qhe=Os.unstable_getCurrentPriorityLevel,TB=Os.unstable_ImmediatePriority,PZ=Os.unstable_UserBlockingPriority,IM=Os.unstable_NormalPriority,Jhe=Os.unstable_LowPriority,MZ=Os.unstable_IdlePriority,BE=null,pu=null;function eme(e){if(pu&&typeof pu.onCommitFiberRoot=="function")try{pu.onCommitFiberRoot(BE,e,void 0,(e.current.flags&128)===128)}catch{}}var ac=Math.clz32?Math.clz32:rme,tme=Math.log,nme=Math.LN2;function rme(e){return e>>>=0,e===0?32:31-(tme(e)/nme|0)|0}var bC=64,yC=4194304;function E1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kM(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~o;s!==0?r=E1(s):(i&=a,i!==0&&(r=E1(i)))}else a=n&~o,a!==0?r=E1(a):i!==0&&(r=E1(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ac(t),o=1<<n,r|=e[n],t&=~o;return r}function ome(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ime(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ac(i),s=1<<a,l=o[a];l===-1?(!(s&n)||s&r)&&(o[a]=ome(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function VD(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function AZ(){var e=bC;return bC<<=1,!(bC&4194240)&&(bC=64),e}function $k(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function c_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ac(t),e[t]=n}function ame(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ac(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function OB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ac(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sr=0;function EZ(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TZ,IB,OZ,IZ,kZ,UD=!1,xC=[],Qf=null,Jf=null,ep=null,$x=new Map,Dx=new Map,Df=[],sme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L8(e,t){switch(e){case"focusin":case"focusout":Qf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":ep=null;break;case"pointerover":case"pointerout":$x.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dx.delete(t.pointerId)}}function k0(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=d_(t),t!==null&&IB(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function lme(e,t,n,r,o){switch(t){case"focusin":return Qf=k0(Qf,e,t,n,r,o),!0;case"dragenter":return Jf=k0(Jf,e,t,n,r,o),!0;case"mouseover":return ep=k0(ep,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return $x.set(i,k0($x.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Dx.set(i,k0(Dx.get(i)||null,e,t,n,r,o)),!0}return!1}function RZ(e){var t=jh(e.target);if(t!==null){var n=Zm(t);if(n!==null){if(t=n.tag,t===13){if(t=wZ(n),t!==null){e.blockedOn=t,kZ(e.priority,function(){OZ(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function CP(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=GD(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);BD=r,n.target.dispatchEvent(r),BD=null}else return t=d_(n),t!==null&&IB(t),e.blockedOn=n,!1;t.shift()}return!0}function $8(e,t,n){CP(e)&&n.delete(t)}function cme(){UD=!1,Qf!==null&&CP(Qf)&&(Qf=null),Jf!==null&&CP(Jf)&&(Jf=null),ep!==null&&CP(ep)&&(ep=null),$x.forEach($8),Dx.forEach($8)}function R0(e,t){e.blockedOn===t&&(e.blockedOn=null,UD||(UD=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,cme)))}function Fx(e){function t(o){return R0(o,e)}if(0<xC.length){R0(xC[0],e);for(var n=1;n<xC.length;n++){var r=xC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qf!==null&&R0(Qf,e),Jf!==null&&R0(Jf,e),ep!==null&&R0(ep,e),$x.forEach(t),Dx.forEach(t),n=0;n<Df.length;n++)r=Df[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Df.length&&(n=Df[0],n.blockedOn===null);)RZ(n),n.blockedOn===null&&Df.shift()}var tb=Xd.ReactCurrentBatchConfig,RM=!0;function ume(e,t,n,r){var o=Sr,i=tb.transition;tb.transition=null;try{Sr=1,kB(e,t,n,r)}finally{Sr=o,tb.transition=i}}function dme(e,t,n,r){var o=Sr,i=tb.transition;tb.transition=null;try{Sr=4,kB(e,t,n,r)}finally{Sr=o,tb.transition=i}}function kB(e,t,n,r){if(RM){var o=GD(e,t,n,r);if(o===null)Gk(e,t,r,LM,n),L8(e,r);else if(lme(o,e,t,n,r))r.stopPropagation();else if(L8(e,r),t&4&&-1<sme.indexOf(e)){for(;o!==null;){var i=d_(o);if(i!==null&&TZ(i),i=GD(e,t,n,r),i===null&&Gk(e,t,r,LM,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Gk(e,t,r,null,n)}}var LM=null;function GD(e,t,n,r){if(LM=null,e=EB(r),e=jh(e),e!==null)if(t=Zm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wZ(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return LM=e,null}function LZ(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qhe()){case TB:return 1;case PZ:return 4;case IM:case Jhe:return 16;case MZ:return 536870912;default:return 16}default:return 16}}var Hf=null,RB=null,PP=null;function $Z(){if(PP)return PP;var e,t=RB,n=t.length,r,o="value"in Hf?Hf.value:Hf.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===o[i-r];r++);return PP=o.slice(e,1<r?1-r:void 0)}function MP(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wC(){return!0}function D8(){return!1}function zs(e){function t(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wC:D8,this.isPropagationStopped=D8,this}return co(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wC)},persist:function(){},isPersistent:wC}),t}var Ry={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},LB=zs(Ry),u_=co({},Ry,{view:0,detail:0}),fme=zs(u_),Dk,Fk,L0,jE=co({},u_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$B,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==L0&&(L0&&e.type==="mousemove"?(Dk=e.screenX-L0.screenX,Fk=e.screenY-L0.screenY):Fk=Dk=0,L0=e),Dk)},movementY:function(e){return"movementY"in e?e.movementY:Fk}}),F8=zs(jE),pme=co({},jE,{dataTransfer:0}),hme=zs(pme),mme=co({},u_,{relatedTarget:0}),Nk=zs(mme),gme=co({},Ry,{animationName:0,elapsedTime:0,pseudoElement:0}),vme=zs(gme),bme=co({},Ry,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yme=zs(bme),xme=co({},Ry,{data:0}),N8=zs(xme),wme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_me={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cme(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sme[e])?!!t[e]:!1}function $B(){return Cme}var Pme=co({},u_,{key:function(e){if(e.key){var t=wme[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=MP(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_me[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$B,charCode:function(e){return e.type==="keypress"?MP(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?MP(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mme=zs(Pme),Ame=co({},jE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B8=zs(Ame),Eme=co({},u_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$B}),Tme=zs(Eme),Ome=co({},Ry,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ime=zs(Ome),kme=co({},jE,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rme=zs(kme),Lme=[9,13,27,32],DB=Pd&&"CompositionEvent"in window,rx=null;Pd&&"documentMode"in document&&(rx=document.documentMode);var $me=Pd&&"TextEvent"in window&&!rx,DZ=Pd&&(!DB||rx&&8<rx&&11>=rx),j8=String.fromCharCode(32),z8=!1;function FZ(e,t){switch(e){case"keyup":return Lme.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NZ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ev=!1;function Dme(e,t){switch(e){case"compositionend":return NZ(t);case"keypress":return t.which!==32?null:(z8=!0,j8);case"textInput":return e=t.data,e===j8&&z8?null:e;default:return null}}function Fme(e,t){if(Ev)return e==="compositionend"||!DB&&FZ(e,t)?(e=$Z(),PP=RB=Hf=null,Ev=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DZ&&t.locale!=="ko"?null:t.data;default:return null}}var Nme={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nme[e.type]:t==="textarea"}function BZ(e,t,n,r){gZ(r),t=$M(t,"onChange"),0<t.length&&(n=new LB("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ox=null,Nx=null;function Bme(e){YZ(e,0)}function zE(e){var t=Iv(e);if(cZ(t))return e}function jme(e,t){if(e==="change")return t}var jZ=!1;if(Pd){var Bk;if(Pd){var jk="oninput"in document;if(!jk){var V8=document.createElement("div");V8.setAttribute("oninput","return;"),jk=typeof V8.oninput=="function"}Bk=jk}else Bk=!1;jZ=Bk&&(!document.documentMode||9<document.documentMode)}function U8(){ox&&(ox.detachEvent("onpropertychange",zZ),Nx=ox=null)}function zZ(e){if(e.propertyName==="value"&&zE(Nx)){var t=[];BZ(t,Nx,e,EB(e)),xZ(Bme,t)}}function zme(e,t,n){e==="focusin"?(U8(),ox=t,Nx=n,ox.attachEvent("onpropertychange",zZ)):e==="focusout"&&U8()}function Hme(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zE(Nx)}function Vme(e,t){if(e==="click")return zE(t)}function Ume(e,t){if(e==="input"||e==="change")return zE(t)}function Gme(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gc=typeof Object.is=="function"?Object.is:Gme;function Bx(e,t){if(gc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!AD.call(t,o)||!gc(e[o],t[o]))return!1}return!0}function G8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W8(e,t){var n=G8(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=G8(n)}}function HZ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HZ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VZ(){for(var e=window,t=EM();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=EM(e.document)}return t}function FB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wme(e){var t=VZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HZ(n.ownerDocument.documentElement,n)){if(r!==null&&FB(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=W8(n,i);var a=W8(n,r);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qme=Pd&&"documentMode"in document&&11>=document.documentMode,Tv=null,WD=null,ix=null,qD=!1;function q8(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qD||Tv==null||Tv!==EM(r)||(r=Tv,"selectionStart"in r&&FB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ix&&Bx(ix,r)||(ix=r,r=$M(WD,"onSelect"),0<r.length&&(t=new LB("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tv)))}function _C(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ov={animationend:_C("Animation","AnimationEnd"),animationiteration:_C("Animation","AnimationIteration"),animationstart:_C("Animation","AnimationStart"),transitionend:_C("Transition","TransitionEnd")},zk={},UZ={};Pd&&(UZ=document.createElement("div").style,"AnimationEvent"in window||(delete Ov.animationend.animation,delete Ov.animationiteration.animation,delete Ov.animationstart.animation),"TransitionEvent"in window||delete Ov.transitionend.transition);function HE(e){if(zk[e])return zk[e];if(!Ov[e])return e;var t=Ov[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UZ)return zk[e]=t[n];return e}var GZ=HE("animationend"),WZ=HE("animationiteration"),qZ=HE("animationstart"),XZ=HE("transitionend"),KZ=new Map,X8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dp(e,t){KZ.set(e,t),Ym(t,[e])}for(var Hk=0;Hk<X8.length;Hk++){var Vk=X8[Hk],Xme=Vk.toLowerCase(),Kme=Vk[0].toUpperCase()+Vk.slice(1);Dp(Xme,"on"+Kme)}Dp(GZ,"onAnimationEnd");Dp(WZ,"onAnimationIteration");Dp(qZ,"onAnimationStart");Dp("dblclick","onDoubleClick");Dp("focusin","onFocus");Dp("focusout","onBlur");Dp(XZ,"onTransitionEnd");bb("onMouseEnter",["mouseout","mouseover"]);bb("onMouseLeave",["mouseout","mouseover"]);bb("onPointerEnter",["pointerout","pointerover"]);bb("onPointerLeave",["pointerout","pointerover"]);Ym("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ym("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ym("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ym("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ym("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ym("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var T1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yme=new Set("cancel close invalid load scroll toggle".split(" ").concat(T1));function K8(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xhe(r,t,void 0,e),e.currentTarget=null}function YZ(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;K8(o,s,c),i=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;K8(o,s,c),i=l}}}if(OM)throw e=HD,OM=!1,HD=null,e}function Ur(e,t){var n=t[QD];n===void 0&&(n=t[QD]=new Set);var r=e+"__bubble";n.has(r)||(ZZ(t,e,2,!1),n.add(r))}function Uk(e,t,n){var r=0;t&&(r|=4),ZZ(n,e,r,t)}var SC="_reactListening"+Math.random().toString(36).slice(2);function jx(e){if(!e[SC]){e[SC]=!0,oZ.forEach(function(n){n!=="selectionchange"&&(Yme.has(n)||Uk(n,!1,e),Uk(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[SC]||(t[SC]=!0,Uk("selectionchange",!1,t))}}function ZZ(e,t,n,r){switch(LZ(t)){case 1:var o=ume;break;case 4:o=dme;break;default:o=kB}n=o.bind(null,t,n,e),o=void 0,!zD||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gk(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;s!==null;){if(a=jh(s),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}s=s.parentNode}}r=r.return}xZ(function(){var c=i,u=EB(n),d=[];e:{var f=KZ.get(e);if(f!==void 0){var p=LB,h=e;switch(e){case"keypress":if(MP(n)===0)break e;case"keydown":case"keyup":p=Mme;break;case"focusin":h="focus",p=Nk;break;case"focusout":h="blur",p=Nk;break;case"beforeblur":case"afterblur":p=Nk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=F8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Tme;break;case GZ:case WZ:case qZ:p=vme;break;case XZ:p=Ime;break;case"scroll":p=fme;break;case"wheel":p=Rme;break;case"copy":case"cut":case"paste":p=yme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B8}var g=(t&4)!==0,v=!g&&e==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var b=c,x;b!==null;){x=b;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,m!==null&&(y=Lx(b,m),y!=null&&g.push(zx(b,y,x)))),v)break;b=b.return}0<g.length&&(f=new p(f,h,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==BD&&(h=n.relatedTarget||n.fromElement)&&(jh(h)||h[Md]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?jh(h):null,h!==null&&(v=Zm(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(g=F8,y="onMouseLeave",m="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=B8,y="onPointerLeave",m="onPointerEnter",b="pointer"),v=p==null?f:Iv(p),x=h==null?f:Iv(h),f=new g(y,b+"leave",p,n,u),f.target=v,f.relatedTarget=x,y=null,jh(u)===c&&(g=new g(m,b+"enter",h,n,u),g.target=x,g.relatedTarget=v,y=g),v=y,p&&h)t:{for(g=p,m=h,b=0,x=g;x;x=Mg(x))b++;for(x=0,y=m;y;y=Mg(y))x++;for(;0<b-x;)g=Mg(g),b--;for(;0<x-b;)m=Mg(m),x--;for(;b--;){if(g===m||m!==null&&g===m.alternate)break t;g=Mg(g),m=Mg(m)}g=null}else g=null;p!==null&&Y8(d,f,p,g,!1),h!==null&&v!==null&&Y8(d,v,h,g,!0)}}e:{if(f=c?Iv(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=jme;else if(H8(f))if(jZ)w=Ume;else{w=Hme;var _=zme}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Vme);if(w&&(w=w(e,c))){BZ(d,w,n,u);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&LD(f,"number",f.value)}switch(_=c?Iv(c):window,e){case"focusin":(H8(_)||_.contentEditable==="true")&&(Tv=_,WD=c,ix=null);break;case"focusout":ix=WD=Tv=null;break;case"mousedown":qD=!0;break;case"contextmenu":case"mouseup":case"dragend":qD=!1,q8(d,n,u);break;case"selectionchange":if(qme)break;case"keydown":case"keyup":q8(d,n,u)}var S;if(DB)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ev?FZ(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(DZ&&n.locale!=="ko"&&(Ev||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ev&&(S=$Z()):(Hf=u,RB="value"in Hf?Hf.value:Hf.textContent,Ev=!0)),_=$M(c,P),0<_.length&&(P=new N8(P,e,null,n,u),d.push({event:P,listeners:_}),S?P.data=S:(S=NZ(n),S!==null&&(P.data=S)))),(S=$me?Dme(e,n):Fme(e,n))&&(c=$M(c,"onBeforeInput"),0<c.length&&(u=new N8("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}YZ(d,t)})}function zx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $M(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Lx(e,n),i!=null&&r.unshift(zx(e,i,o)),i=Lx(e,t),i!=null&&r.push(zx(e,i,o))),e=e.return}return r}function Mg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y8(e,t,n,r,o){for(var i=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,o?(l=Lx(n,i),l!=null&&a.unshift(zx(n,l,s))):o||(l=Lx(n,i),l!=null&&a.push(zx(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zme=/\r\n?/g,Qme=/\u0000|\uFFFD/g;function Z8(e){return(typeof e=="string"?e:""+e).replace(Zme,`
`).replace(Qme,"")}function CC(e,t,n){if(t=Z8(t),Z8(e)!==t&&n)throw Error(yt(425))}function DM(){}var XD=null,KD=null;function YD(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ZD=typeof setTimeout=="function"?setTimeout:void 0,Jme=typeof clearTimeout=="function"?clearTimeout:void 0,Q8=typeof Promise=="function"?Promise:void 0,ege=typeof queueMicrotask=="function"?queueMicrotask:typeof Q8<"u"?function(e){return Q8.resolve(null).then(e).catch(tge)}:ZD;function tge(e){setTimeout(function(){throw e})}function Wk(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Fx(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Fx(t)}function tp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ly=Math.random().toString(36).slice(2),ru="__reactFiber$"+Ly,Hx="__reactProps$"+Ly,Md="__reactContainer$"+Ly,QD="__reactEvents$"+Ly,nge="__reactListeners$"+Ly,rge="__reactHandles$"+Ly;function jh(e){var t=e[ru];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Md]||n[ru]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=J8(e);e!==null;){if(n=e[ru])return n;e=J8(e)}return t}e=n,n=e.parentNode}return null}function d_(e){return e=e[ru]||e[Md],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Iv(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(yt(33))}function VE(e){return e[Hx]||null}var JD=[],kv=-1;function Fp(e){return{current:e}}function Gr(e){0>kv||(e.current=JD[kv],JD[kv]=null,kv--)}function Br(e,t){kv++,JD[kv]=e.current,e.current=t}var xp={},ta=Fp(xp),Za=Fp(!1),hm=xp;function yb(e,t){var n=e.type.contextTypes;if(!n)return xp;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Qa(e){return e=e.childContextTypes,e!=null}function FM(){Gr(Za),Gr(ta)}function eH(e,t,n){if(ta.current!==xp)throw Error(yt(168));Br(ta,t),Br(Za,n)}function QZ(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(yt(108,zhe(e)||"Unknown",o));return co({},n,r)}function NM(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xp,hm=ta.current,Br(ta,e),Br(Za,Za.current),!0}function tH(e,t,n){var r=e.stateNode;if(!r)throw Error(yt(169));n?(e=QZ(e,t,hm),r.__reactInternalMemoizedMergedChildContext=e,Gr(Za),Gr(ta),Br(ta,e)):Gr(Za),Br(Za,n)}var sd=null,UE=!1,qk=!1;function JZ(e){sd===null?sd=[e]:sd.push(e)}function oge(e){UE=!0,JZ(e)}function Np(){if(!qk&&sd!==null){qk=!0;var e=0,t=Sr;try{var n=sd;for(Sr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sd=null,UE=!1}catch(o){throw sd!==null&&(sd=sd.slice(e+1)),CZ(TB,Np),o}finally{Sr=t,qk=!1}}return null}var Rv=[],Lv=0,BM=null,jM=0,ul=[],dl=0,mm=null,md=1,gd="";function yh(e,t){Rv[Lv++]=jM,Rv[Lv++]=BM,BM=e,jM=t}function eQ(e,t,n){ul[dl++]=md,ul[dl++]=gd,ul[dl++]=mm,mm=e;var r=md;e=gd;var o=32-ac(r)-1;r&=~(1<<o),n+=1;var i=32-ac(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,md=1<<32-ac(t)+o|n<<o|r,gd=i+e}else md=1<<i|n<<o|r,gd=e}function NB(e){e.return!==null&&(yh(e,1),eQ(e,1,0))}function BB(e){for(;e===BM;)BM=Rv[--Lv],Rv[Lv]=null,jM=Rv[--Lv],Rv[Lv]=null;for(;e===mm;)mm=ul[--dl],ul[dl]=null,gd=ul[--dl],ul[dl]=null,md=ul[--dl],ul[dl]=null}var As=null,Ps=null,Qr=!1,Jl=null;function tQ(e,t){var n=ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,As=e,Ps=tp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,As=e,Ps=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mm!==null?{id:md,overflow:gd}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ml(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,As=e,Ps=null,!0):!1;default:return!1}}function eF(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tF(e){if(Qr){var t=Ps;if(t){var n=t;if(!nH(e,t)){if(eF(e))throw Error(yt(418));t=tp(n.nextSibling);var r=As;t&&nH(e,t)?tQ(r,n):(e.flags=e.flags&-4097|2,Qr=!1,As=e)}}else{if(eF(e))throw Error(yt(418));e.flags=e.flags&-4097|2,Qr=!1,As=e}}}function rH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;As=e}function PC(e){if(e!==As)return!1;if(!Qr)return rH(e),Qr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YD(e.type,e.memoizedProps)),t&&(t=Ps)){if(eF(e))throw nQ(),Error(yt(418));for(;t;)tQ(e,t),t=tp(t.nextSibling)}if(rH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(yt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ps=tp(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ps=null}}else Ps=As?tp(e.stateNode.nextSibling):null;return!0}function nQ(){for(var e=Ps;e;)e=tp(e.nextSibling)}function xb(){Ps=As=null,Qr=!1}function jB(e){Jl===null?Jl=[e]:Jl.push(e)}var ige=Xd.ReactCurrentBatchConfig;function Wl(e,t){if(e&&e.defaultProps){t=co({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var zM=Fp(null),HM=null,$v=null,zB=null;function HB(){zB=$v=HM=null}function VB(e){var t=zM.current;Gr(zM),e._currentValue=t}function nF(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nb(e,t){HM=e,zB=$v=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ka=!0),e.firstContext=null)}function _l(e){var t=e._currentValue;if(zB!==e)if(e={context:e,memoizedValue:t,next:null},$v===null){if(HM===null)throw Error(yt(308));$v=e,HM.dependencies={lanes:0,firstContext:e}}else $v=$v.next=e;return t}var zh=null;function UB(e){zh===null?zh=[e]:zh.push(e)}function rQ(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,UB(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ad(e,r)}function Ad(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Of=!1;function GB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oQ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function np(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Xn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ad(e,n)}return o=r.interleaved,o===null?(t.next=t,UB(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ad(e,n)}function AP(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OB(e,n)}}function oH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function VM(e,t,n,r){var o=e.updateQueue;Of=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;a=0,u=c=l=null,s=i;do{var f=s.lane,p=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;switch(f=t,p=n,g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=co({},d,f);break e;case 2:Of=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;f=s,s=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do a|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);vm|=a,e.lanes=a,e.memoizedState=d}}function iH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(yt(191,o));o.call(r)}}}var iQ=new rZ.Component().refs;function rF(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:co({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var GE={isMounted:function(e){return(e=e._reactInternals)?Zm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ya(),o=op(e),i=xd(r,o);i.payload=t,n!=null&&(i.callback=n),t=np(e,i,o),t!==null&&(sc(t,e,o,r),AP(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ya(),o=op(e),i=xd(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=np(e,i,o),t!==null&&(sc(t,e,o,r),AP(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ya(),r=op(e),o=xd(n,r);o.tag=2,t!=null&&(o.callback=t),t=np(e,o,r),t!==null&&(sc(t,e,r,n),AP(t,e,r))}};function aH(e,t,n,r,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Bx(n,r)||!Bx(o,i):!0}function aQ(e,t,n){var r=!1,o=xp,i=t.contextType;return typeof i=="object"&&i!==null?i=_l(i):(o=Qa(t)?hm:ta.current,r=t.contextTypes,i=(r=r!=null)?yb(e,o):xp),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=GE,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function sH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&GE.enqueueReplaceState(t,t.state,null)}function oF(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=iQ,GB(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=_l(i):(i=Qa(t)?hm:ta.current,o.context=yb(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rF(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&GE.enqueueReplaceState(o,o.state,null),VM(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function $0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(yt(309));var r=n.stateNode}if(!r)throw Error(yt(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var s=o.refs;s===iQ&&(s=o.refs={}),a===null?delete s[i]:s[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(yt(284));if(!n._owner)throw Error(yt(290,e))}return e}function MC(e,t){throw e=Object.prototype.toString.call(t),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lH(e){var t=e._init;return t(e._payload)}function sQ(e){function t(m,b){if(e){var x=m.deletions;x===null?(m.deletions=[b],m.flags|=16):x.push(b)}}function n(m,b){if(!e)return null;for(;b!==null;)t(m,b),b=b.sibling;return null}function r(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function o(m,b){return m=ip(m,b),m.index=0,m.sibling=null,m}function i(m,b,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<b?(m.flags|=2,b):x):(m.flags|=2,b)):(m.flags|=1048576,b)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,b,x,y){return b===null||b.tag!==6?(b=eR(x,m.mode,y),b.return=m,b):(b=o(b,x),b.return=m,b)}function l(m,b,x,y){var w=x.type;return w===Av?u(m,b,x.props.children,y,x.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tf&&lH(w)===b.type)?(y=o(b,x.props),y.ref=$0(m,b,x),y.return=m,y):(y=RP(x.type,x.key,x.props,null,m.mode,y),y.ref=$0(m,b,x),y.return=m,y)}function c(m,b,x,y){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=tR(x,m.mode,y),b.return=m,b):(b=o(b,x.children||[]),b.return=m,b)}function u(m,b,x,y,w){return b===null||b.tag!==7?(b=Xh(x,m.mode,y,w),b.return=m,b):(b=o(b,x),b.return=m,b)}function d(m,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=eR(""+b,m.mode,x),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mC:return x=RP(b.type,b.key,b.props,null,m.mode,x),x.ref=$0(m,null,b),x.return=m,x;case Mv:return b=tR(b,m.mode,x),b.return=m,b;case Tf:var y=b._init;return d(m,y(b._payload),x)}if(A1(b)||O0(b))return b=Xh(b,m.mode,x,null),b.return=m,b;MC(m,b)}return null}function f(m,b,x,y){var w=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(m,b,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mC:return x.key===w?l(m,b,x,y):null;case Mv:return x.key===w?c(m,b,x,y):null;case Tf:return w=x._init,f(m,b,w(x._payload),y)}if(A1(x)||O0(x))return w!==null?null:u(m,b,x,y,null);MC(m,x)}return null}function p(m,b,x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(x)||null,s(b,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mC:return m=m.get(y.key===null?x:y.key)||null,l(b,m,y,w);case Mv:return m=m.get(y.key===null?x:y.key)||null,c(b,m,y,w);case Tf:var _=y._init;return p(m,b,x,_(y._payload),w)}if(A1(y)||O0(y))return m=m.get(x)||null,u(b,m,y,w,null);MC(b,y)}return null}function h(m,b,x,y){for(var w=null,_=null,S=b,P=b=0,M=null;S!==null&&P<x.length;P++){S.index>P?(M=S,S=null):M=S.sibling;var I=f(m,S,x[P],y);if(I===null){S===null&&(S=M);break}e&&S&&I.alternate===null&&t(m,S),b=i(I,b,P),_===null?w=I:_.sibling=I,_=I,S=M}if(P===x.length)return n(m,S),Qr&&yh(m,P),w;if(S===null){for(;P<x.length;P++)S=d(m,x[P],y),S!==null&&(b=i(S,b,P),_===null?w=S:_.sibling=S,_=S);return Qr&&yh(m,P),w}for(S=r(m,S);P<x.length;P++)M=p(S,m,P,x[P],y),M!==null&&(e&&M.alternate!==null&&S.delete(M.key===null?P:M.key),b=i(M,b,P),_===null?w=M:_.sibling=M,_=M);return e&&S.forEach(function(O){return t(m,O)}),Qr&&yh(m,P),w}function g(m,b,x,y){var w=O0(x);if(typeof w!="function")throw Error(yt(150));if(x=w.call(x),x==null)throw Error(yt(151));for(var _=w=null,S=b,P=b=0,M=null,I=x.next();S!==null&&!I.done;P++,I=x.next()){S.index>P?(M=S,S=null):M=S.sibling;var O=f(m,S,I.value,y);if(O===null){S===null&&(S=M);break}e&&S&&O.alternate===null&&t(m,S),b=i(O,b,P),_===null?w=O:_.sibling=O,_=O,S=M}if(I.done)return n(m,S),Qr&&yh(m,P),w;if(S===null){for(;!I.done;P++,I=x.next())I=d(m,I.value,y),I!==null&&(b=i(I,b,P),_===null?w=I:_.sibling=I,_=I);return Qr&&yh(m,P),w}for(S=r(m,S);!I.done;P++,I=x.next())I=p(S,m,P,I.value,y),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?P:I.key),b=i(I,b,P),_===null?w=I:_.sibling=I,_=I);return e&&S.forEach(function(L){return t(m,L)}),Qr&&yh(m,P),w}function v(m,b,x,y){if(typeof x=="object"&&x!==null&&x.type===Av&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mC:e:{for(var w=x.key,_=b;_!==null;){if(_.key===w){if(w=x.type,w===Av){if(_.tag===7){n(m,_.sibling),b=o(_,x.props.children),b.return=m,m=b;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tf&&lH(w)===_.type){n(m,_.sibling),b=o(_,x.props),b.ref=$0(m,_,x),b.return=m,m=b;break e}n(m,_);break}else t(m,_);_=_.sibling}x.type===Av?(b=Xh(x.props.children,m.mode,y,x.key),b.return=m,m=b):(y=RP(x.type,x.key,x.props,null,m.mode,y),y.ref=$0(m,b,x),y.return=m,m=y)}return a(m);case Mv:e:{for(_=x.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(m,b.sibling),b=o(b,x.children||[]),b.return=m,m=b;break e}else{n(m,b);break}else t(m,b);b=b.sibling}b=tR(x,m.mode,y),b.return=m,m=b}return a(m);case Tf:return _=x._init,v(m,b,_(x._payload),y)}if(A1(x))return h(m,b,x,y);if(O0(x))return g(m,b,x,y);MC(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(m,b.sibling),b=o(b,x),b.return=m,m=b):(n(m,b),b=eR(x,m.mode,y),b.return=m,m=b),a(m)):n(m,b)}return v}var wb=sQ(!0),lQ=sQ(!1),f_={},hu=Fp(f_),Vx=Fp(f_),Ux=Fp(f_);function Hh(e){if(e===f_)throw Error(yt(174));return e}function WB(e,t){switch(Br(Ux,t),Br(Vx,e),Br(hu,f_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:DD(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=DD(t,e)}Gr(hu),Br(hu,t)}function _b(){Gr(hu),Gr(Vx),Gr(Ux)}function cQ(e){Hh(Ux.current);var t=Hh(hu.current),n=DD(t,e.type);t!==n&&(Br(Vx,e),Br(hu,n))}function qB(e){Vx.current===e&&(Gr(hu),Gr(Vx))}var no=Fp(0);function UM(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xk=[];function XB(){for(var e=0;e<Xk.length;e++)Xk[e]._workInProgressVersionPrimary=null;Xk.length=0}var EP=Xd.ReactCurrentDispatcher,Kk=Xd.ReactCurrentBatchConfig,gm=0,so=null,Ko=null,hi=null,GM=!1,ax=!1,Gx=0,age=0;function ji(){throw Error(yt(321))}function KB(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gc(e[n],t[n]))return!1;return!0}function YB(e,t,n,r,o,i){if(gm=i,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,EP.current=e===null||e.memoizedState===null?uge:dge,e=n(r,o),ax){i=0;do{if(ax=!1,Gx=0,25<=i)throw Error(yt(301));i+=1,hi=Ko=null,t.updateQueue=null,EP.current=fge,e=n(r,o)}while(ax)}if(EP.current=WM,t=Ko!==null&&Ko.next!==null,gm=0,hi=Ko=so=null,GM=!1,t)throw Error(yt(300));return e}function ZB(){var e=Gx!==0;return Gx=0,e}function qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?so.memoizedState=hi=e:hi=hi.next=e,hi}function Sl(){if(Ko===null){var e=so.alternate;e=e!==null?e.memoizedState:null}else e=Ko.next;var t=hi===null?so.memoizedState:hi.next;if(t!==null)hi=t,Ko=e;else{if(e===null)throw Error(yt(310));Ko=e,e={memoizedState:Ko.memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},hi===null?so.memoizedState=hi=e:hi=hi.next=e}return hi}function Wx(e,t){return typeof t=="function"?t(e):t}function Yk(e){var t=Sl(),n=t.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=e;var r=Ko,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var s=a=null,l=null,c=i;do{var u=c.lane;if((gm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,so.lanes|=u,vm|=u}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=s,gc(r,t.memoizedState)||(Ka=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,so.lanes|=i,vm|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zk(e){var t=Sl(),n=t.queue;if(n===null)throw Error(yt(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);gc(i,t.memoizedState)||(Ka=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uQ(){}function dQ(e,t){var n=so,r=Sl(),o=t(),i=!gc(r.memoizedState,o);if(i&&(r.memoizedState=o,Ka=!0),r=r.queue,QB(hQ.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||hi!==null&&hi.memoizedState.tag&1){if(n.flags|=2048,qx(9,pQ.bind(null,n,r,o,t),void 0,null),gi===null)throw Error(yt(349));gm&30||fQ(n,t,o)}return o}function fQ(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=so.updateQueue,t===null?(t={lastEffect:null,stores:null},so.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pQ(e,t,n,r){t.value=n,t.getSnapshot=r,mQ(t)&&gQ(e)}function hQ(e,t,n){return n(function(){mQ(t)&&gQ(e)})}function mQ(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gc(e,n)}catch{return!0}}function gQ(e){var t=Ad(e,1);t!==null&&sc(t,e,1,-1)}function cH(e){var t=qc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:e},t.queue=e,e=e.dispatch=cge.bind(null,so,e),[t.memoizedState,e]}function qx(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=so.updateQueue,t===null?(t={lastEffect:null,stores:null},so.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vQ(){return Sl().memoizedState}function TP(e,t,n,r){var o=qc();so.flags|=e,o.memoizedState=qx(1|t,n,void 0,r===void 0?null:r)}function WE(e,t,n,r){var o=Sl();r=r===void 0?null:r;var i=void 0;if(Ko!==null){var a=Ko.memoizedState;if(i=a.destroy,r!==null&&KB(r,a.deps)){o.memoizedState=qx(t,n,i,r);return}}so.flags|=e,o.memoizedState=qx(1|t,n,i,r)}function uH(e,t){return TP(8390656,8,e,t)}function QB(e,t){return WE(2048,8,e,t)}function bQ(e,t){return WE(4,2,e,t)}function yQ(e,t){return WE(4,4,e,t)}function xQ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wQ(e,t,n){return n=n!=null?n.concat([e]):null,WE(4,4,xQ.bind(null,t,e),n)}function JB(){}function _Q(e,t){var n=Sl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&KB(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SQ(e,t){var n=Sl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&KB(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function CQ(e,t,n){return gm&21?(gc(n,t)||(n=AZ(),so.lanes|=n,vm|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ka=!0),e.memoizedState=n)}function sge(e,t){var n=Sr;Sr=n!==0&&4>n?n:4,e(!0);var r=Kk.transition;Kk.transition={};try{e(!1),t()}finally{Sr=n,Kk.transition=r}}function PQ(){return Sl().memoizedState}function lge(e,t,n){var r=op(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MQ(e))AQ(t,n);else if(n=rQ(e,t,n,r),n!==null){var o=ya();sc(n,e,r,o),EQ(n,t,r)}}function cge(e,t,n){var r=op(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MQ(e))AQ(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,gc(s,a)){var l=t.interleaved;l===null?(o.next=o,UB(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=rQ(e,t,o,r),n!==null&&(o=ya(),sc(n,e,r,o),EQ(n,t,r))}}function MQ(e){var t=e.alternate;return e===so||t!==null&&t===so}function AQ(e,t){ax=GM=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function EQ(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OB(e,n)}}var WM={readContext:_l,useCallback:ji,useContext:ji,useEffect:ji,useImperativeHandle:ji,useInsertionEffect:ji,useLayoutEffect:ji,useMemo:ji,useReducer:ji,useRef:ji,useState:ji,useDebugValue:ji,useDeferredValue:ji,useTransition:ji,useMutableSource:ji,useSyncExternalStore:ji,useId:ji,unstable_isNewReconciler:!1},uge={readContext:_l,useCallback:function(e,t){return qc().memoizedState=[e,t===void 0?null:t],e},useContext:_l,useEffect:uH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,TP(4194308,4,xQ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return TP(4194308,4,e,t)},useInsertionEffect:function(e,t){return TP(4,2,e,t)},useMemo:function(e,t){var n=qc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lge.bind(null,so,e),[r.memoizedState,e]},useRef:function(e){var t=qc();return e={current:e},t.memoizedState=e},useState:cH,useDebugValue:JB,useDeferredValue:function(e){return qc().memoizedState=e},useTransition:function(){var e=cH(!1),t=e[0];return e=sge.bind(null,e[1]),qc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=so,o=qc();if(Qr){if(n===void 0)throw Error(yt(407));n=n()}else{if(n=t(),gi===null)throw Error(yt(349));gm&30||fQ(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,uH(hQ.bind(null,r,i,e),[e]),r.flags|=2048,qx(9,pQ.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qc(),t=gi.identifierPrefix;if(Qr){var n=gd,r=md;n=(r&~(1<<32-ac(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=age++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dge={readContext:_l,useCallback:_Q,useContext:_l,useEffect:QB,useImperativeHandle:wQ,useInsertionEffect:bQ,useLayoutEffect:yQ,useMemo:SQ,useReducer:Yk,useRef:vQ,useState:function(){return Yk(Wx)},useDebugValue:JB,useDeferredValue:function(e){var t=Sl();return CQ(t,Ko.memoizedState,e)},useTransition:function(){var e=Yk(Wx)[0],t=Sl().memoizedState;return[e,t]},useMutableSource:uQ,useSyncExternalStore:dQ,useId:PQ,unstable_isNewReconciler:!1},fge={readContext:_l,useCallback:_Q,useContext:_l,useEffect:QB,useImperativeHandle:wQ,useInsertionEffect:bQ,useLayoutEffect:yQ,useMemo:SQ,useReducer:Zk,useRef:vQ,useState:function(){return Zk(Wx)},useDebugValue:JB,useDeferredValue:function(e){var t=Sl();return Ko===null?t.memoizedState=e:CQ(t,Ko.memoizedState,e)},useTransition:function(){var e=Zk(Wx)[0],t=Sl().memoizedState;return[e,t]},useMutableSource:uQ,useSyncExternalStore:dQ,useId:PQ,unstable_isNewReconciler:!1};function Sb(e,t){try{var n="",r=t;do n+=jhe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Qk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function iF(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pge=typeof WeakMap=="function"?WeakMap:Map;function TQ(e,t,n){n=xd(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){XM||(XM=!0,mF=r),iF(e,t)},n}function OQ(e,t,n){n=xd(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){iF(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iF(e,t),typeof r!="function"&&(rp===null?rp=new Set([this]):rp.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function dH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pge;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Age.bind(null,e,t,n),t.then(e,e))}function fH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xd(-1,1),t.tag=2,np(n,t,1))),n.lanes|=1),e)}var hge=Xd.ReactCurrentOwner,Ka=!1;function ma(e,t,n,r){t.child=e===null?lQ(t,null,n,r):wb(t,e.child,n,r)}function hH(e,t,n,r,o){n=n.render;var i=t.ref;return nb(t,o),r=YB(e,t,n,r,i,o),n=ZB(),e!==null&&!Ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ed(e,t,o)):(Qr&&n&&NB(t),t.flags|=1,ma(e,t,r,o),t.child)}function mH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!s4(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,IQ(e,t,i,r,o)):(e=RP(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bx,n(a,r)&&e.ref===t.ref)return Ed(e,t,o)}return t.flags|=1,e=ip(i,r),e.ref=t.ref,e.return=t,t.child=e}function IQ(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Bx(i,r)&&e.ref===t.ref)if(Ka=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ka=!0);else return t.lanes=e.lanes,Ed(e,t,o)}return aF(e,t,n,r,o)}function kQ(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(Fv,bs),bs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Br(Fv,bs),bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Br(Fv,bs),bs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Br(Fv,bs),bs|=r;return ma(e,t,o,n),t.child}function RQ(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aF(e,t,n,r,o){var i=Qa(n)?hm:ta.current;return i=yb(t,i),nb(t,o),n=YB(e,t,n,r,i,o),r=ZB(),e!==null&&!Ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ed(e,t,o)):(Qr&&r&&NB(t),t.flags|=1,ma(e,t,n,o),t.child)}function gH(e,t,n,r,o){if(Qa(n)){var i=!0;NM(t)}else i=!1;if(nb(t,o),t.stateNode===null)OP(e,t),aQ(t,n,r),oF(t,n,r,o),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=_l(c):(c=Qa(n)?hm:ta.current,c=yb(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&sH(t,a,r,c),Of=!1;var f=t.memoizedState;a.state=f,VM(t,r,a,o),l=t.memoizedState,s!==r||f!==l||Za.current||Of?(typeof u=="function"&&(rF(t,n,u,r),l=t.memoizedState),(s=Of||aH(t,n,s,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oQ(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Wl(t.type,s),a.props=c,d=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_l(l):(l=Qa(n)?hm:ta.current,l=yb(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==l)&&sH(t,a,r,l),Of=!1,f=t.memoizedState,a.state=f,VM(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||Za.current||Of?(typeof p=="function"&&(rF(t,n,p,r),h=t.memoizedState),(c=Of||aH(t,n,c,r,f,h,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sF(e,t,n,r,i,o)}function sF(e,t,n,r,o,i){RQ(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return o&&tH(t,n,!1),Ed(e,t,i);r=t.stateNode,hge.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=wb(t,e.child,null,i),t.child=wb(t,null,s,i)):ma(e,t,s,i),t.memoizedState=r.state,o&&tH(t,n,!0),t.child}function LQ(e){var t=e.stateNode;t.pendingContext?eH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&eH(e,t.context,!1),WB(e,t.containerInfo)}function vH(e,t,n,r,o){return xb(),jB(o),t.flags|=256,ma(e,t,n,r),t.child}var lF={dehydrated:null,treeContext:null,retryLane:0};function cF(e){return{baseLanes:e,cachePool:null,transitions:null}}function $Q(e,t,n){var r=t.pendingProps,o=no.current,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Br(no,o&1),e===null)return tF(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=KE(a,r,0,null),e=Xh(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cF(n),t.memoizedState=lF,e):e4(t,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return mge(e,t,a,r,s,o,n);if(i){i=r.fallback,a=t.mode,o=e.child,s=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ip(o,l),r.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=ip(s,i):(i=Xh(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?cF(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=lF,r}return i=e.child,e=i.sibling,r=ip(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function e4(e,t){return t=KE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function AC(e,t,n,r){return r!==null&&jB(r),wb(t,e.child,null,n),e=e4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mge(e,t,n,r,o,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Qk(Error(yt(422))),AC(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=KE({mode:"visible",children:r.children},o,0,null),i=Xh(i,o,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&wb(t,e.child,null,a),t.child.memoizedState=cF(a),t.memoizedState=lF,i);if(!(t.mode&1))return AC(e,t,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(yt(419)),r=Qk(i,r,void 0),AC(e,t,a,r)}if(s=(a&e.childLanes)!==0,Ka||s){if(r=gi,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ad(e,o),sc(r,e,o,-1))}return a4(),r=Qk(Error(yt(421))),AC(e,t,a,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ege.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Ps=tp(o.nextSibling),As=t,Qr=!0,Jl=null,e!==null&&(ul[dl++]=md,ul[dl++]=gd,ul[dl++]=mm,md=e.id,gd=e.overflow,mm=t),t=e4(t,r.children),t.flags|=4096,t)}function bH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nF(e.return,t,n)}function Jk(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function DQ(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ma(e,t,r.children,n),r=no.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bH(e,n,t);else if(e.tag===19)bH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Br(no,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&UM(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Jk(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&UM(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Jk(t,!0,n,null,i);break;case"together":Jk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function OP(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ed(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vm|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(yt(153));if(t.child!==null){for(e=t.child,n=ip(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ip(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gge(e,t,n){switch(t.tag){case 3:LQ(t),xb();break;case 5:cQ(t);break;case 1:Qa(t.type)&&NM(t);break;case 4:WB(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Br(zM,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Br(no,no.current&1),t.flags|=128,null):n&t.child.childLanes?$Q(e,t,n):(Br(no,no.current&1),e=Ed(e,t,n),e!==null?e.sibling:null);Br(no,no.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return DQ(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Br(no,no.current),r)break;return null;case 22:case 23:return t.lanes=0,kQ(e,t,n)}return Ed(e,t,n)}var FQ,uF,NQ,BQ;FQ=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uF=function(){};NQ=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Hh(hu.current);var i=null;switch(n){case"input":o=kD(e,o),r=kD(e,r),i=[];break;case"select":o=co({},o,{value:void 0}),r=co({},r,{value:void 0}),i=[];break;case"textarea":o=$D(e,o),r=$D(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=DM)}FD(n,r);var a;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var s=o[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kx.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kx.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ur("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};BQ=function(e,t,n,r){n!==r&&(t.flags|=4)};function D0(e,t){if(!Qr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function zi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vge(e,t,n){var r=t.pendingProps;switch(BB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(t),null;case 1:return Qa(t.type)&&FM(),zi(t),null;case 3:return r=t.stateNode,_b(),Gr(Za),Gr(ta),XB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(PC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jl!==null&&(bF(Jl),Jl=null))),uF(e,t),zi(t),null;case 5:qB(t);var o=Hh(Ux.current);if(n=t.type,e!==null&&t.stateNode!=null)NQ(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(yt(166));return zi(t),null}if(e=Hh(hu.current),PC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ru]=t,r[Hx]=i,e=(t.mode&1)!==0,n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(o=0;o<T1.length;o++)Ur(T1[o],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":A8(r,i),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",r);break;case"textarea":T8(r,i),Ur("invalid",r)}FD(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&CC(r.textContent,s,e),o=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&CC(r.textContent,s,e),o=["children",""+s]):kx.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ur("scroll",r)}switch(n){case"input":gC(r),E8(r,i,!0);break;case"textarea":gC(r),O8(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=DM)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fZ(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ru]=t,e[Hx]=r,FQ(e,t,!1,!1),t.stateNode=e;e:{switch(a=ND(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),o=r;break;case"iframe":case"object":case"embed":Ur("load",e),o=r;break;case"video":case"audio":for(o=0;o<T1.length;o++)Ur(T1[o],e);o=r;break;case"source":Ur("error",e),o=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),o=r;break;case"details":Ur("toggle",e),o=r;break;case"input":A8(e,r),o=kD(e,r),Ur("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=co({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":T8(e,r),o=$D(e,r),Ur("invalid",e);break;default:o=r}FD(n,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?mZ(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pZ(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Rx(e,l):typeof l=="number"&&Rx(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kx.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ur("scroll",e):l!=null&&CB(e,i,l,a))}switch(n){case"input":gC(e),E8(e,r,!1);break;case"textarea":gC(e),O8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+yp(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qv(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qv(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=DM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return zi(t),null;case 6:if(e&&t.stateNode!=null)BQ(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(yt(166));if(n=Hh(Ux.current),Hh(hu.current),PC(t)){if(r=t.stateNode,n=t.memoizedProps,r[ru]=t,(i=r.nodeValue!==n)&&(e=As,e!==null))switch(e.tag){case 3:CC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&CC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ru]=t,t.stateNode=r}return zi(t),null;case 13:if(Gr(no),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qr&&Ps!==null&&t.mode&1&&!(t.flags&128))nQ(),xb(),t.flags|=98560,i=!1;else if(i=PC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(yt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(yt(317));i[ru]=t}else xb(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;zi(t),i=!1}else Jl!==null&&(bF(Jl),Jl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||no.current&1?Qo===0&&(Qo=3):a4())),t.updateQueue!==null&&(t.flags|=4),zi(t),null);case 4:return _b(),uF(e,t),e===null&&jx(t.stateNode.containerInfo),zi(t),null;case 10:return VB(t.type._context),zi(t),null;case 17:return Qa(t.type)&&FM(),zi(t),null;case 19:if(Gr(no),i=t.memoizedState,i===null)return zi(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)D0(i,!1);else{if(Qo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=UM(e),a!==null){for(t.flags|=128,D0(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Br(no,no.current&1|2),t.child}e=e.sibling}i.tail!==null&&Po()>Cb&&(t.flags|=128,r=!0,D0(i,!1),t.lanes=4194304)}else{if(!r)if(e=UM(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),D0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Qr)return zi(t),null}else 2*Po()-i.renderingStartTime>Cb&&n!==1073741824&&(t.flags|=128,r=!0,D0(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Po(),t.sibling=null,n=no.current,Br(no,r?n&1|2:n&1),t):(zi(t),null);case 22:case 23:return i4(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bs&1073741824&&(zi(t),t.subtreeFlags&6&&(t.flags|=8192)):zi(t),null;case 24:return null;case 25:return null}throw Error(yt(156,t.tag))}function bge(e,t){switch(BB(t),t.tag){case 1:return Qa(t.type)&&FM(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _b(),Gr(Za),Gr(ta),XB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qB(t),null;case 13:if(Gr(no),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(yt(340));xb()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gr(no),null;case 4:return _b(),null;case 10:return VB(t.type._context),null;case 22:case 23:return i4(),null;case 24:return null;default:return null}}var EC=!1,Xi=!1,yge=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Dv(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vo(e,t,r)}else n.current=null}function dF(e,t,n){try{n()}catch(r){vo(e,t,r)}}var yH=!1;function xge(e,t){if(XD=RM,e=VZ(),FB(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(s=a+o),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===o&&(s=a),f===i&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(KD={focusedElem:e,selectionRange:n},RM=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,v=h.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Wl(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(y){vo(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return h=yH,yH=!1,h}function sx(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&dF(t,n,i)}o=o.next}while(o!==r)}}function qE(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fF(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jQ(e){var t=e.alternate;t!==null&&(e.alternate=null,jQ(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ru],delete t[Hx],delete t[QD],delete t[nge],delete t[rge])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zQ(e){return e.tag===5||e.tag===3||e.tag===4}function xH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zQ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pF(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=DM));else if(r!==4&&(e=e.child,e!==null))for(pF(e,t,n),e=e.sibling;e!==null;)pF(e,t,n),e=e.sibling}function hF(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hF(e,t,n),e=e.sibling;e!==null;)hF(e,t,n),e=e.sibling}var Ci=null,Yl=!1;function af(e,t,n){for(n=n.child;n!==null;)HQ(e,t,n),n=n.sibling}function HQ(e,t,n){if(pu&&typeof pu.onCommitFiberUnmount=="function")try{pu.onCommitFiberUnmount(BE,n)}catch{}switch(n.tag){case 5:Xi||Dv(n,t);case 6:var r=Ci,o=Yl;Ci=null,af(e,t,n),Ci=r,Yl=o,Ci!==null&&(Yl?(e=Ci,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ci.removeChild(n.stateNode));break;case 18:Ci!==null&&(Yl?(e=Ci,n=n.stateNode,e.nodeType===8?Wk(e.parentNode,n):e.nodeType===1&&Wk(e,n),Fx(e)):Wk(Ci,n.stateNode));break;case 4:r=Ci,o=Yl,Ci=n.stateNode.containerInfo,Yl=!0,af(e,t,n),Ci=r,Yl=o;break;case 0:case 11:case 14:case 15:if(!Xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dF(n,t,a),o=o.next}while(o!==r)}af(e,t,n);break;case 1:if(!Xi&&(Dv(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){vo(n,t,s)}af(e,t,n);break;case 21:af(e,t,n);break;case 22:n.mode&1?(Xi=(r=Xi)||n.memoizedState!==null,af(e,t,n),Xi=r):af(e,t,n);break;default:af(e,t,n)}}function wH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yge),t.forEach(function(r){var o=Tge.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ci=s.stateNode,Yl=!1;break e;case 3:Ci=s.stateNode.containerInfo,Yl=!0;break e;case 4:Ci=s.stateNode.containerInfo,Yl=!0;break e}s=s.return}if(Ci===null)throw Error(yt(160));HQ(i,a,o),Ci=null,Yl=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){vo(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VQ(t,e),t=t.sibling}function VQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dl(t,e),Rc(e),r&4){try{sx(3,e,e.return),qE(3,e)}catch(g){vo(e,e.return,g)}try{sx(5,e,e.return)}catch(g){vo(e,e.return,g)}}break;case 1:Dl(t,e),Rc(e),r&512&&n!==null&&Dv(n,n.return);break;case 5:if(Dl(t,e),Rc(e),r&512&&n!==null&&Dv(n,n.return),e.flags&32){var o=e.stateNode;try{Rx(o,"")}catch(g){vo(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&uZ(o,i),ND(s,a);var c=ND(s,i);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?mZ(o,d):u==="dangerouslySetInnerHTML"?pZ(o,d):u==="children"?Rx(o,d):CB(o,u,d,c)}switch(s){case"input":RD(o,i);break;case"textarea":dZ(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qv(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qv(o,!!i.multiple,i.defaultValue,!0):Qv(o,!!i.multiple,i.multiple?[]:"",!1))}o[Hx]=i}catch(g){vo(e,e.return,g)}}break;case 6:if(Dl(t,e),Rc(e),r&4){if(e.stateNode===null)throw Error(yt(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){vo(e,e.return,g)}}break;case 3:if(Dl(t,e),Rc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fx(t.containerInfo)}catch(g){vo(e,e.return,g)}break;case 4:Dl(t,e),Rc(e);break;case 13:Dl(t,e),Rc(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(r4=Po())),r&4&&wH(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Xi=(c=Xi)||u,Dl(t,e),Xi=c):Dl(t,e),Rc(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Dt=e,u=e.child;u!==null;){for(d=Dt=u;Dt!==null;){switch(f=Dt,p=f.child,f.tag){case 0:case 11:case 14:case 15:sx(4,f,f.return);break;case 1:Dv(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){vo(r,n,g)}}break;case 5:Dv(f,f.return);break;case 22:if(f.memoizedState!==null){SH(d);continue}}p!==null?(p.return=f,Dt=p):SH(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=hZ("display",a))}catch(g){vo(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){vo(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dl(t,e),Rc(e),r&4&&wH(e);break;case 21:break;default:Dl(t,e),Rc(e)}}function Rc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zQ(n)){var r=n;break e}n=n.return}throw Error(yt(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Rx(o,""),r.flags&=-33);var i=xH(e);hF(e,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,s=xH(e);pF(e,s,a);break;default:throw Error(yt(161))}}catch(l){vo(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wge(e,t,n){Dt=e,UQ(e)}function UQ(e,t,n){for(var r=(e.mode&1)!==0;Dt!==null;){var o=Dt,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||EC;if(!a){var s=o.alternate,l=s!==null&&s.memoizedState!==null||Xi;s=EC;var c=Xi;if(EC=a,(Xi=l)&&!c)for(Dt=o;Dt!==null;)a=Dt,l=a.child,a.tag===22&&a.memoizedState!==null?CH(o):l!==null?(l.return=a,Dt=l):CH(o);for(;i!==null;)Dt=i,UQ(i),i=i.sibling;Dt=o,EC=s,Xi=c}_H(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Dt=i):_H(e)}}function _H(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xi||qE(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xi)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Wl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iH(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iH(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Fx(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}Xi||t.flags&512&&fF(t)}catch(f){vo(t,t.return,f)}}if(t===e){Dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function SH(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function CH(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qE(4,t)}catch(l){vo(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){vo(t,o,l)}}var i=t.return;try{fF(t)}catch(l){vo(t,i,l)}break;case 5:var a=t.return;try{fF(t)}catch(l){vo(t,a,l)}}}catch(l){vo(t,t.return,l)}if(t===e){Dt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Dt=s;break}Dt=t.return}}var _ge=Math.ceil,qM=Xd.ReactCurrentDispatcher,t4=Xd.ReactCurrentOwner,bl=Xd.ReactCurrentBatchConfig,Xn=0,gi=null,No=null,$i=0,bs=0,Fv=Fp(0),Qo=0,Xx=null,vm=0,XE=0,n4=0,lx=null,Ua=null,r4=0,Cb=1/0,rd=null,XM=!1,mF=null,rp=null,TC=!1,Vf=null,KM=0,cx=0,gF=null,IP=-1,kP=0;function ya(){return Xn&6?Po():IP!==-1?IP:IP=Po()}function op(e){return e.mode&1?Xn&2&&$i!==0?$i&-$i:ige.transition!==null?(kP===0&&(kP=AZ()),kP):(e=Sr,e!==0||(e=window.event,e=e===void 0?16:LZ(e.type)),e):1}function sc(e,t,n,r){if(50<cx)throw cx=0,gF=null,Error(yt(185));c_(e,n,r),(!(Xn&2)||e!==gi)&&(e===gi&&(!(Xn&2)&&(XE|=n),Qo===4&&Ff(e,$i)),Ja(e,r),n===1&&Xn===0&&!(t.mode&1)&&(Cb=Po()+500,UE&&Np()))}function Ja(e,t){var n=e.callbackNode;ime(e,t);var r=kM(e,e===gi?$i:0);if(r===0)n!==null&&R8(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R8(n),t===1)e.tag===0?oge(PH.bind(null,e)):JZ(PH.bind(null,e)),ege(function(){!(Xn&6)&&Np()}),n=null;else{switch(EZ(r)){case 1:n=TB;break;case 4:n=PZ;break;case 16:n=IM;break;case 536870912:n=MZ;break;default:n=IM}n=QQ(n,GQ.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function GQ(e,t){if(IP=-1,kP=0,Xn&6)throw Error(yt(327));var n=e.callbackNode;if(rb()&&e.callbackNode!==n)return null;var r=kM(e,e===gi?$i:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=YM(e,r);else{t=r;var o=Xn;Xn|=2;var i=qQ();(gi!==e||$i!==t)&&(rd=null,Cb=Po()+500,qh(e,t));do try{Pge();break}catch(s){WQ(e,s)}while(1);HB(),qM.current=i,Xn=o,No!==null?t=0:(gi=null,$i=0,t=Qo)}if(t!==0){if(t===2&&(o=VD(e),o!==0&&(r=o,t=vF(e,o))),t===1)throw n=Xx,qh(e,0),Ff(e,r),Ja(e,Po()),n;if(t===6)Ff(e,r);else{if(o=e.current.alternate,!(r&30)&&!Sge(o)&&(t=YM(e,r),t===2&&(i=VD(e),i!==0&&(r=i,t=vF(e,i))),t===1))throw n=Xx,qh(e,0),Ff(e,r),Ja(e,Po()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(yt(345));case 2:xh(e,Ua,rd);break;case 3:if(Ff(e,r),(r&130023424)===r&&(t=r4+500-Po(),10<t)){if(kM(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ya(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ZD(xh.bind(null,e,Ua,rd),t);break}xh(e,Ua,rd);break;case 4:if(Ff(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-ac(r);i=1<<a,a=t[a],a>o&&(o=a),r&=~i}if(r=o,r=Po()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_ge(r/1960))-r,10<r){e.timeoutHandle=ZD(xh.bind(null,e,Ua,rd),r);break}xh(e,Ua,rd);break;case 5:xh(e,Ua,rd);break;default:throw Error(yt(329))}}}return Ja(e,Po()),e.callbackNode===n?GQ.bind(null,e):null}function vF(e,t){var n=lx;return e.current.memoizedState.isDehydrated&&(qh(e,t).flags|=256),e=YM(e,t),e!==2&&(t=Ua,Ua=n,t!==null&&bF(t)),e}function bF(e){Ua===null?Ua=e:Ua.push.apply(Ua,e)}function Sge(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!gc(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ff(e,t){for(t&=~n4,t&=~XE,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ac(t),r=1<<n;e[n]=-1,t&=~r}}function PH(e){if(Xn&6)throw Error(yt(327));rb();var t=kM(e,0);if(!(t&1))return Ja(e,Po()),null;var n=YM(e,t);if(e.tag!==0&&n===2){var r=VD(e);r!==0&&(t=r,n=vF(e,r))}if(n===1)throw n=Xx,qh(e,0),Ff(e,t),Ja(e,Po()),n;if(n===6)throw Error(yt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xh(e,Ua,rd),Ja(e,Po()),null}function o4(e,t){var n=Xn;Xn|=1;try{return e(t)}finally{Xn=n,Xn===0&&(Cb=Po()+500,UE&&Np())}}function bm(e){Vf!==null&&Vf.tag===0&&!(Xn&6)&&rb();var t=Xn;Xn|=1;var n=bl.transition,r=Sr;try{if(bl.transition=null,Sr=1,e)return e()}finally{Sr=r,bl.transition=n,Xn=t,!(Xn&6)&&Np()}}function i4(){bs=Fv.current,Gr(Fv)}function qh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jme(n)),No!==null)for(n=No.return;n!==null;){var r=n;switch(BB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&FM();break;case 3:_b(),Gr(Za),Gr(ta),XB();break;case 5:qB(r);break;case 4:_b();break;case 13:Gr(no);break;case 19:Gr(no);break;case 10:VB(r.type._context);break;case 22:case 23:i4()}n=n.return}if(gi=e,No=e=ip(e.current,null),$i=bs=t,Qo=0,Xx=null,n4=XE=vm=0,Ua=lx=null,zh!==null){for(t=0;t<zh.length;t++)if(n=zh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}zh=null}return e}function WQ(e,t){do{var n=No;try{if(HB(),EP.current=WM,GM){for(var r=so.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}GM=!1}if(gm=0,hi=Ko=so=null,ax=!1,Gx=0,t4.current=null,n===null||n.return===null){Qo=1,Xx=t,No=null;break}e:{var i=e,a=n.return,s=n,l=t;if(t=$i,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fH(a);if(p!==null){p.flags&=-257,pH(p,a,s,i,t),p.mode&1&&dH(i,c,t),t=p,l=c;var h=t.updateQueue;if(h===null){var g=new Set;g.add(l),t.updateQueue=g}else h.add(l);break e}else{if(!(t&1)){dH(i,c,t),a4();break e}l=Error(yt(426))}}else if(Qr&&s.mode&1){var v=fH(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),pH(v,a,s,i,t),jB(Sb(l,s));break e}}i=l=Sb(l,s),Qo!==4&&(Qo=2),lx===null?lx=[i]:lx.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=TQ(i,l,t);oH(i,m);break e;case 1:s=l;var b=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(rp===null||!rp.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=OQ(i,s,t);oH(i,y);break e}}i=i.return}while(i!==null)}KQ(n)}catch(w){t=w,No===n&&n!==null&&(No=n=n.return);continue}break}while(1)}function qQ(){var e=qM.current;return qM.current=WM,e===null?WM:e}function a4(){(Qo===0||Qo===3||Qo===2)&&(Qo=4),gi===null||!(vm&268435455)&&!(XE&268435455)||Ff(gi,$i)}function YM(e,t){var n=Xn;Xn|=2;var r=qQ();(gi!==e||$i!==t)&&(rd=null,qh(e,t));do try{Cge();break}catch(o){WQ(e,o)}while(1);if(HB(),Xn=n,qM.current=r,No!==null)throw Error(yt(261));return gi=null,$i=0,Qo}function Cge(){for(;No!==null;)XQ(No)}function Pge(){for(;No!==null&&!Yhe();)XQ(No)}function XQ(e){var t=ZQ(e.alternate,e,bs);e.memoizedProps=e.pendingProps,t===null?KQ(e):No=t,t4.current=null}function KQ(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bge(n,t),n!==null){n.flags&=32767,No=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qo=6,No=null;return}}else if(n=vge(n,t,bs),n!==null){No=n;return}if(t=t.sibling,t!==null){No=t;return}No=t=e}while(t!==null);Qo===0&&(Qo=5)}function xh(e,t,n){var r=Sr,o=bl.transition;try{bl.transition=null,Sr=1,Mge(e,t,n,r)}finally{bl.transition=o,Sr=r}return null}function Mge(e,t,n,r){do rb();while(Vf!==null);if(Xn&6)throw Error(yt(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(yt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ame(e,i),e===gi&&(No=gi=null,$i=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||TC||(TC=!0,QQ(IM,function(){return rb(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bl.transition,bl.transition=null;var a=Sr;Sr=1;var s=Xn;Xn|=4,t4.current=null,xge(e,n),VQ(n,e),Wme(KD),RM=!!XD,KD=XD=null,e.current=n,wge(n),Zhe(),Xn=s,Sr=a,bl.transition=i}else e.current=n;if(TC&&(TC=!1,Vf=e,KM=o),i=e.pendingLanes,i===0&&(rp=null),eme(n.stateNode),Ja(e,Po()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(XM)throw XM=!1,e=mF,mF=null,e;return KM&1&&e.tag!==0&&rb(),i=e.pendingLanes,i&1?e===gF?cx++:(cx=0,gF=e):cx=0,Np(),null}function rb(){if(Vf!==null){var e=EZ(KM),t=bl.transition,n=Sr;try{if(bl.transition=null,Sr=16>e?16:e,Vf===null)var r=!1;else{if(e=Vf,Vf=null,KM=0,Xn&6)throw Error(yt(331));var o=Xn;for(Xn|=4,Dt=e.current;Dt!==null;){var i=Dt,a=i.child;if(Dt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Dt=c;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:sx(8,u,i)}var d=u.child;if(d!==null)d.return=u,Dt=d;else for(;Dt!==null;){u=Dt;var f=u.sibling,p=u.return;if(jQ(u),u===c){Dt=null;break}if(f!==null){f.return=p,Dt=f;break}Dt=p}}}var h=i.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Dt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Dt=a;else e:for(;Dt!==null;){if(i=Dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sx(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Dt=m;break e}Dt=i.return}}var b=e.current;for(Dt=b;Dt!==null;){a=Dt;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,Dt=x;else e:for(a=b;Dt!==null;){if(s=Dt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:qE(9,s)}}catch(w){vo(s,s.return,w)}if(s===a){Dt=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,Dt=y;break e}Dt=s.return}}if(Xn=o,Np(),pu&&typeof pu.onPostCommitFiberRoot=="function")try{pu.onPostCommitFiberRoot(BE,e)}catch{}r=!0}return r}finally{Sr=n,bl.transition=t}}return!1}function MH(e,t,n){t=Sb(n,t),t=TQ(e,t,1),e=np(e,t,1),t=ya(),e!==null&&(c_(e,1,t),Ja(e,t))}function vo(e,t,n){if(e.tag===3)MH(e,e,n);else for(;t!==null;){if(t.tag===3){MH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rp===null||!rp.has(r))){e=Sb(n,e),e=OQ(t,e,1),t=np(t,e,1),e=ya(),t!==null&&(c_(t,1,e),Ja(t,e));break}}t=t.return}}function Age(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ya(),e.pingedLanes|=e.suspendedLanes&n,gi===e&&($i&n)===n&&(Qo===4||Qo===3&&($i&130023424)===$i&&500>Po()-r4?qh(e,0):n4|=n),Ja(e,t)}function YQ(e,t){t===0&&(e.mode&1?(t=yC,yC<<=1,!(yC&130023424)&&(yC=4194304)):t=1);var n=ya();e=Ad(e,t),e!==null&&(c_(e,t,n),Ja(e,n))}function Ege(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),YQ(e,n)}function Tge(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(yt(314))}r!==null&&r.delete(t),YQ(e,n)}var ZQ;ZQ=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Za.current)Ka=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ka=!1,gge(e,t,n);Ka=!!(e.flags&131072)}else Ka=!1,Qr&&t.flags&1048576&&eQ(t,jM,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;OP(e,t),e=t.pendingProps;var o=yb(t,ta.current);nb(t,n),o=YB(null,t,r,e,o,n);var i=ZB();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qa(r)?(i=!0,NM(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,GB(t),o.updater=GE,t.stateNode=o,o._reactInternals=t,oF(t,r,e,n),t=sF(null,t,r,!0,i,n)):(t.tag=0,Qr&&i&&NB(t),ma(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(OP(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ige(r),e=Wl(r,e),o){case 0:t=aF(null,t,r,e,n);break e;case 1:t=gH(null,t,r,e,n);break e;case 11:t=hH(null,t,r,e,n);break e;case 14:t=mH(null,t,r,Wl(r.type,e),n);break e}throw Error(yt(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wl(r,o),aF(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wl(r,o),gH(e,t,r,o,n);case 3:e:{if(LQ(t),e===null)throw Error(yt(387));r=t.pendingProps,i=t.memoizedState,o=i.element,oQ(e,t),VM(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Sb(Error(yt(423)),t),t=vH(e,t,r,n,o);break e}else if(r!==o){o=Sb(Error(yt(424)),t),t=vH(e,t,r,n,o);break e}else for(Ps=tp(t.stateNode.containerInfo.firstChild),As=t,Qr=!0,Jl=null,n=lQ(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xb(),r===o){t=Ed(e,t,n);break e}ma(e,t,r,n)}t=t.child}return t;case 5:return cQ(t),e===null&&tF(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,YD(r,o)?a=null:i!==null&&YD(r,i)&&(t.flags|=32),RQ(e,t),ma(e,t,a,n),t.child;case 6:return e===null&&tF(t),null;case 13:return $Q(e,t,n);case 4:return WB(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wb(t,null,r,n):ma(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wl(r,o),hH(e,t,r,o,n);case 7:return ma(e,t,t.pendingProps,n),t.child;case 8:return ma(e,t,t.pendingProps.children,n),t.child;case 12:return ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=o.value,Br(zM,r._currentValue),r._currentValue=a,i!==null)if(gc(i.value,a)){if(i.children===o.children&&!Za.current){t=Ed(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=xd(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),nF(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(yt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nF(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ma(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,nb(t,n),o=_l(o),r=r(o),t.flags|=1,ma(e,t,r,n),t.child;case 14:return r=t.type,o=Wl(r,t.pendingProps),o=Wl(r.type,o),mH(e,t,r,o,n);case 15:return IQ(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wl(r,o),OP(e,t),t.tag=1,Qa(r)?(e=!0,NM(t)):e=!1,nb(t,n),aQ(t,r,o),oF(t,r,o,n),sF(null,t,r,!0,e,n);case 19:return DQ(e,t,n);case 22:return kQ(e,t,n)}throw Error(yt(156,t.tag))};function QQ(e,t){return CZ(e,t)}function Oge(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ml(e,t,n,r){return new Oge(e,t,n,r)}function s4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ige(e){if(typeof e=="function")return s4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===MB)return 11;if(e===AB)return 14}return 2}function ip(e,t){var n=e.alternate;return n===null?(n=ml(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function RP(e,t,n,r,o,i){var a=2;if(r=e,typeof e=="function")s4(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Av:return Xh(n.children,o,i,t);case PB:a=8,o|=8;break;case ED:return e=ml(12,n,t,o|2),e.elementType=ED,e.lanes=i,e;case TD:return e=ml(13,n,t,o),e.elementType=TD,e.lanes=i,e;case OD:return e=ml(19,n,t,o),e.elementType=OD,e.lanes=i,e;case sZ:return KE(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iZ:a=10;break e;case aZ:a=9;break e;case MB:a=11;break e;case AB:a=14;break e;case Tf:a=16,r=null;break e}throw Error(yt(130,e==null?e:typeof e,""))}return t=ml(a,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Xh(e,t,n,r){return e=ml(7,e,r,t),e.lanes=n,e}function KE(e,t,n,r){return e=ml(22,e,r,t),e.elementType=sZ,e.lanes=n,e.stateNode={isHidden:!1},e}function eR(e,t,n){return e=ml(6,e,null,t),e.lanes=n,e}function tR(e,t,n){return t=ml(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kge(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$k(0),this.expirationTimes=$k(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$k(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function l4(e,t,n,r,o,i,a,s,l){return e=new kge(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ml(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GB(i),e}function Rge(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mv,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function JQ(e){if(!e)return xp;e=e._reactInternals;e:{if(Zm(e)!==e||e.tag!==1)throw Error(yt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(yt(171))}if(e.tag===1){var n=e.type;if(Qa(n))return QZ(e,n,t)}return t}function eJ(e,t,n,r,o,i,a,s,l){return e=l4(n,r,!0,e,o,i,a,s,l),e.context=JQ(null),n=e.current,r=ya(),o=op(n),i=xd(r,o),i.callback=t??null,np(n,i,o),e.current.lanes=o,c_(e,o,r),Ja(e,r),e}function YE(e,t,n,r){var o=t.current,i=ya(),a=op(o);return n=JQ(n),t.context===null?t.context=n:t.pendingContext=n,t=xd(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=np(o,t,a),e!==null&&(sc(e,o,a,i),AP(e,o,a)),a}function ZM(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function AH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function c4(e,t){AH(e,t),(e=e.alternate)&&AH(e,t)}function Lge(){return null}var tJ=typeof reportError=="function"?reportError:function(e){console.error(e)};function u4(e){this._internalRoot=e}ZE.prototype.render=u4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(yt(409));YE(e,t,null,null)};ZE.prototype.unmount=u4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bm(function(){YE(null,e,null,null)}),t[Md]=null}};function ZE(e){this._internalRoot=e}ZE.prototype.unstable_scheduleHydration=function(e){if(e){var t=IZ();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Df.length&&t!==0&&t<Df[n].priority;n++);Df.splice(n,0,e),n===0&&RZ(e)}};function d4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function QE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function EH(){}function $ge(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=ZM(a);i.call(c)}}var a=eJ(t,r,e,0,null,!1,!1,"",EH);return e._reactRootContainer=a,e[Md]=a.current,jx(e.nodeType===8?e.parentNode:e),bm(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var s=r;r=function(){var c=ZM(l);s.call(c)}}var l=l4(e,0,!1,null,null,!1,!1,"",EH);return e._reactRootContainer=l,e[Md]=l.current,jx(e.nodeType===8?e.parentNode:e),bm(function(){YE(t,l,n,r)}),l}function JE(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var l=ZM(a);s.call(l)}}YE(t,a,e,o)}else a=$ge(n,t,e,o,r);return ZM(a)}TZ=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=E1(t.pendingLanes);n!==0&&(OB(t,n|1),Ja(t,Po()),!(Xn&6)&&(Cb=Po()+500,Np()))}break;case 13:bm(function(){var r=Ad(e,1);if(r!==null){var o=ya();sc(r,e,1,o)}}),c4(e,1)}};IB=function(e){if(e.tag===13){var t=Ad(e,134217728);if(t!==null){var n=ya();sc(t,e,134217728,n)}c4(e,134217728)}};OZ=function(e){if(e.tag===13){var t=op(e),n=Ad(e,t);if(n!==null){var r=ya();sc(n,e,t,r)}c4(e,t)}};IZ=function(){return Sr};kZ=function(e,t){var n=Sr;try{return Sr=e,t()}finally{Sr=n}};jD=function(e,t,n){switch(t){case"input":if(RD(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=VE(r);if(!o)throw Error(yt(90));cZ(r),RD(r,o)}}}break;case"textarea":dZ(e,n);break;case"select":t=n.value,t!=null&&Qv(e,!!n.multiple,t,!1)}};bZ=o4;yZ=bm;var Dge={usingClientEntryPoint:!1,Events:[d_,Iv,VE,gZ,vZ,o4]},F0={findFiberByHostInstance:jh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fge={bundleType:F0.bundleType,version:F0.version,rendererPackageName:F0.rendererPackageName,rendererConfig:F0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_Z(e),e===null?null:e.stateNode},findFiberByHostInstance:F0.findFiberByHostInstance||Lge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var OC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!OC.isDisabled&&OC.supportsFiber)try{BE=OC.inject(Fge),pu=OC}catch{}}js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dge;js.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d4(t))throw Error(yt(200));return Rge(e,t,null,n)};js.createRoot=function(e,t){if(!d4(e))throw Error(yt(299));var n=!1,r="",o=tJ;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=l4(e,1,!1,null,null,n,!1,r,o),e[Md]=t.current,jx(e.nodeType===8?e.parentNode:e),new u4(t)};js.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(yt(188)):(e=Object.keys(e).join(","),Error(yt(268,e)));return e=_Z(t),e=e===null?null:e.stateNode,e};js.flushSync=function(e){return bm(e)};js.hydrate=function(e,t,n){if(!QE(t))throw Error(yt(200));return JE(null,e,t,!0,n)};js.hydrateRoot=function(e,t,n){if(!d4(e))throw Error(yt(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=tJ;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=eJ(t,null,e,1,n??null,o,!1,i,a),e[Md]=t.current,jx(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ZE(t)};js.render=function(e,t,n){if(!QE(t))throw Error(yt(200));return JE(null,e,t,!1,n)};js.unmountComponentAtNode=function(e){if(!QE(e))throw Error(yt(40));return e._reactRootContainer?(bm(function(){JE(null,null,e,!1,function(){e._reactRootContainer=null,e[Md]=null})}),!0):!1};js.unstable_batchedUpdates=o4;js.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!QE(n))throw Error(yt(200));if(e==null||e._reactInternals===void 0)throw Error(yt(38));return JE(e,t,n,!1,r)};js.version="18.2.0-next-9e3b772b8-20220608";function nJ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nJ)}catch(e){console.error(e)}}nJ(),eZ.exports=js;var Td=eZ.exports;const IC=Pc(Td);var TH=Td;MD.createRoot=TH.createRoot,MD.hydrateRoot=TH.hydrateRoot;function vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Nge={};function f4(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Nge}var rJ=Object.assign,QM=Object.getOwnPropertyDescriptor,mu=Object.defineProperty,p_=Object.prototype,yF=[];Object.freeze(yF);var p4={};Object.freeze(p4);var Bge=typeof Proxy<"u",jge=Object.toString();function oJ(){Bge||vn("Proxy not available")}function iJ(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Nv=function(){};function Is(e){return typeof e=="function"}function ym(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function eT(e){return e!==null&&typeof e=="object"}function Od(e){if(!eT(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===jge}function aJ(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function h_(e,t,n){mu(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function sJ(e,t,n){mu(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Bp(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return eT(r)&&r[n]===!0}}function $y(e){return e instanceof Map}function m_(e){return e instanceof Set}var lJ=typeof Object.getOwnPropertySymbols<"u";function zge(e){var t=Object.keys(e);if(!lJ)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return p_.propertyIsEnumerable.call(e,r)})):t}var Pb=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:lJ?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function cJ(e){return e===null?null:typeof e=="object"?""+e:e}function wd(e,t){return p_.hasOwnProperty.call(e,t)}var Hge=Object.getOwnPropertyDescriptors||function(t){var n={};return Pb(t).forEach(function(r){n[r]=QM(t,r)}),n};function OH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gge(r.key),r)}}function h4(e,t,n){return t&&OH(e.prototype,t),n&&OH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xm(){return xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xm.apply(this,arguments)}function uJ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xF(e,t)}function xF(e,t){return xF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},xF(e,t)}function nR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vge(e,t){if(e){if(typeof e=="string")return IH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IH(e,t)}}function IH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bv(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Vge(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:String(t)}var lu=Symbol("mobx-stored-annotations");function lc(e){function t(n,r){g_(n,r,e)}return Object.assign(t,e)}function g_(e,t,n){wd(e,lu)||h_(e,lu,xm({},e[lu])),eve(n)||(e[lu][t]=n)}function Wge(e){return wd(e,lu)||h_(e,lu,xm({},e[lu])),e[lu]}var Yt=Symbol("mobx administration"),v_=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=er.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return RJ(this)},t.reportChanged=function(){Ji(),LJ(this),xt.stateVersion=xt.stateVersion<Number.MAX_SAFE_INTEGER?xt.stateVersion+1:Number.MIN_SAFE_INTEGER,ea()},t.toString=function(){return this.name_},e}(),m4=Bp("Atom",v_);function Mb(e,t,n){t===void 0&&(t=Nv),n===void 0&&(n=Nv);var r=new v_(e);return t!==Nv&&GJ(r,t),n!==Nv&&b4(r,n),r}function qge(e,t){return e===t}function Xge(e,t){return E4(e,t)}function Kge(e,t){return E4(e,t,1)}function Yge(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wm={identity:qge,structural:Xge,default:Yge,shallow:Kge};function Ab(e,t,n){return aT(e)?e:Array.isArray(e)?Ar.array(e,{name:n}):Od(e)?Ar.object(e,void 0,{name:n}):$y(e)?Ar.map(e,{name:n}):m_(e)?Ar.set(e,{name:n}):typeof e=="function"&&!rT(e)&&!Yx(e)?aJ(e)?Ib(e):Eb(n,e):e}function Zge(e,t,n){if(e==null||ri(e)||ia(e)||yi(e)||Sa(e))return e;if(Array.isArray(e))return Ar.array(e,{name:n,deep:!1});if(Od(e))return Ar.object(e,void 0,{name:n,deep:!1});if($y(e))return Ar.map(e,{name:n,deep:!1});if(m_(e))return Ar.set(e,{name:n,deep:!1})}function tT(e){return e}function Qge(e,t){return E4(e,t)?t:e}var dJ="override",Jge=lc({annotationType_:dJ,make_:tve,extend_:nve});function eve(e){return e.annotationType_===dJ}function tve(e,t){return 0}function nve(e,t,n,r){vn("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function b_(e,t){return{annotationType_:e,options_:t,make_:rve,extend_:ove}}function rve(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(rT(n.value))return 1;var i=fJ(e,this,t,n,!1);return mu(r,t,i),2}function ove(e,t,n,r){var o=fJ(e,this,t,n);return e.defineProperty_(t,o,r)}function ive(e,t,n,r){t.annotationType_,r.value}function fJ(e,t,n,r,o){var i,a,s,l,c,u,d;o===void 0&&(o=xt.safeDescriptors),ive(e,t,n,r);var f=r.value;if((i=t.options_)!=null&&i.bound){var p;f=f.bind((p=e.proxy_)!=null?p:e.target_)}return{value:_m((a=(s=t.options_)==null?void 0:s.name)!=null?a:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function pJ(e,t){return{annotationType_:e,options_:t,make_:ave,extend_:sve}}function ave(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!wd(e.target_,t)||!Yx(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Yx(n.value))return 1;var i=hJ(e,this,t,n,!1,!1);return mu(r,t,i),2}function sve(e,t,n,r){var o,i=hJ(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,i,r)}function lve(e,t,n,r){t.annotationType_,r.value}function hJ(e,t,n,r,o,i){i===void 0&&(i=xt.safeDescriptors),lve(e,t,n,r);var a=r.value;if(Yx(a)||(a=Ib(a)),o){var s;a=a.bind((s=e.proxy_)!=null?s:e.target_),a.isMobXFlow=!0}return{value:a,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function g4(e,t){return{annotationType_:e,options_:t,make_:cve,extend_:uve}}function cve(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function uve(e,t,n,r){return dve(e,this,t,n),e.defineComputedProperty_(t,xm({},this.options_,{get:n.get,set:n.set}),r)}function dve(e,t,n,r){t.annotationType_,r.get}function nT(e,t){return{annotationType_:e,options_:t,make_:fve,extend_:pve}}function fve(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function pve(e,t,n,r){var o,i;return hve(e,this),e.defineObservableProperty_(t,n.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:Ab,r)}function hve(e,t,n,r){t.annotationType_}var mve="true",gve=mJ();function mJ(e){return{annotationType_:mve,options_:e,make_:vve,extend_:bve}}function vve(e,t,n,r){var o,i;if(n.get)return Qm.make_(e,t,n,r);if(n.set){var a=_m(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:xt.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(mu(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var s;if(aJ(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Ib.bound:Ib;return c.make_(e,t,n,r)}var u=(s=this.options_)!=null&&s.autoBind?Eb.bound:Eb;return u.make_(e,t,n,r)}var d=((o=this.options_)==null?void 0:o.deep)===!1?Ar.ref:Ar;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function bve(e,t,n,r){var o,i;if(n.get)return Qm.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:xt.safeDescriptors?e.isPlainObject_:!0,set:_m(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var s=((i=this.options_)==null?void 0:i.deep)===!1?Ar.ref:Ar;return s.extend_(e,t,n,r)}var yve="observable",xve="observable.ref",wve="observable.shallow",_ve="observable.struct",gJ={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(gJ);function kC(e){return e||gJ}var vJ=nT(yve),Sve=nT(xve,{enhancer:tT}),Cve=nT(wve,{enhancer:Zge}),Pve=nT(_ve,{enhancer:Qge}),bJ=lc(vJ);function RC(e){return e.deep===!0?Ab:e.deep===!1?tT:Ave(e.defaultDecorator)}function Mve(e){var t;return e?(t=e.defaultDecorator)!=null?t:mJ(e):void 0}function Ave(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Ab}function yJ(e,t,n){if(ym(t)){g_(e,t,vJ);return}return aT(e)?e:Od(e)?Ar.object(e,t,n):Array.isArray(e)?Ar.array(e,t):$y(e)?Ar.map(e,t):m_(e)?Ar.set(e,t):typeof e=="object"&&e!==null?e:Ar.box(e,t)}rJ(yJ,bJ);var Eve={box:function(t,n){var r=kC(n);return new Kh(t,RC(r),r.name,!0,r.equals)},array:function(t,n){var r=kC(n);return(xt.useProxies===!1||r.proxy===!1?Lbe:Pbe)(t,RC(r),r.name)},map:function(t,n){var r=kC(n);return new lT(t,RC(r),r.name)},set:function(t,n){var r=kC(n);return new M4(t,RC(r),r.name)},object:function(t,n,r){return y4(xt.useProxies===!1||(r==null?void 0:r.proxy)===!1?C_({},r):wbe({},r),t,n)},ref:lc(Sve),shallow:lc(Cve),deep:bJ,struct:lc(Pve)},Ar=rJ(yJ,Eve),xJ="computed",Tve="computed.struct",wJ=g4(xJ),Ove=g4(Tve,{equals:wm.structural}),Qm=function(t,n){if(ym(n))return g_(t,n,wJ);if(Od(t))return lc(g4(xJ,t));var r=Od(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Kx(r)};Object.assign(Qm,wJ);Qm.struct=lc(Ove);var kH,RH,JM=0,Ive=1,kve=(kH=(RH=QM(function(){},"name"))==null?void 0:RH.configurable)!=null?kH:!1,LH={value:"action",configurable:!0,writable:!1,enumerable:!1};function _m(e,t,n,r){n===void 0&&(n=!1);function o(){return _J(e,n,t,r||this,arguments)}return o.isMobxAction=!0,kve&&(LH.value=e,mu(o,"name",LH)),o}function _J(e,t,n,r,o){var i=SJ(e,t);try{return n.apply(r,o)}catch(a){throw i.error_=a,a}finally{CJ(i)}}function SJ(e,t,n,r){var o=!1,i=0,a=xt.trackingDerivation,s=!t||!a;Ji();var l=xt.allowStateChanges;s&&(Fy(),l=x_(!0));var c=Zh(!0),u={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:o,startTime_:i,actionId_:Ive++,parentActionId_:JM};return JM=u.actionId_,u}function CJ(e){JM!==e.actionId_&&vn(30),JM=e.parentActionId_,e.error_!==void 0&&(xt.suppressReactionErrors=!0),w_(e.prevAllowStateChanges_),_d(e.prevAllowStateReads_),ea(),e.runAsAction_&&ap(e.prevDerivation_),xt.suppressReactionErrors=!1}function y_(e,t){var n=x_(e);try{return t()}finally{w_(n)}}function x_(e){var t=xt.allowStateChanges;return xt.allowStateChanges=e,t}function w_(e){xt.allowStateChanges=e}var PJ;PJ=Symbol.toPrimitive;var Kh=function(e){uJ(t,e);function t(r,o,i,a,s){var l;return i===void 0&&(i="ObservableValue"),s===void 0&&(s=wm.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=o,l.name_=i,l.equals=s,l.value_=o(r,void 0,i),l}var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==xt.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(fl(this)){var i=pl(this,{object:this,type:gu,newValue:o});if(!i)return xt.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?xt.UNCHANGED:o},n.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),cc(this)&&uc(this,{type:gu,object:this,newValue:o,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return __(this,o)},n.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:gu,newValue:this.value_,oldValue:void 0}),S_(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return cJ(this.get())},n[PJ]=function(){return this.valueOf()},t}(v_),v4=Bp("ObservableValue",Kh),MJ;MJ=Symbol.toPrimitive;var Kx=function(){function e(n){this.dependenciesState_=er.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=er.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new eA(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Yh.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||vn(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=_m("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?wm.structural:wm.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Hve(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&vn(32,this.name_,this.derivation),xt.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)wF(this)&&(this.warnAboutUntrackedRead_(),Ji(),this.value_=this.computeValue_(!1),ea());else if(RJ(this),wF(this)){var r=xt.trackingContext;this.keepAlive_&&!r&&(xt.trackingContext=this),this.trackAndCompute()&&zve(this),xt.trackingContext=r}var o=this.value_;if(LP(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter_&&vn(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else vn(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===er.NOT_TRACKING_,i=this.computeValue_(!0),a=o||LP(r)||LP(i)||!this.equals_(r,i);return a&&(this.value_=i),a},t.computeValue_=function(r){this.isComputing_=!0;var o=x_(!1),i;if(r)i=AJ(this,this.derivation,this.scope_);else if(xt.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new eA(a)}return w_(o),this.isComputing_=!1,i},t.suspend_=function(){this.keepAlive_||(_F(this),this.value_=void 0)},t.observe_=function(r,o){var i=this,a=!0,s=void 0;return Ob(function(){var l=i.get();if(!a||o){var c=Fy();r({observableKind:"computed",debugObjectName:i.name_,type:gu,object:i,newValue:l,oldValue:s}),ap(c)}a=!1,s=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return cJ(this.get())},t[MJ]=function(){return this.valueOf()},e}(),Sm=Bp("ComputedValue",Kx),er;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(er||(er={}));var Yh;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Yh||(Yh={}));var eA=function(t){this.cause=void 0,this.cause=t};function LP(e){return e instanceof eA}function wF(e){switch(e.dependenciesState_){case er.UP_TO_DATE_:return!1;case er.NOT_TRACKING_:case er.STALE_:return!0;case er.POSSIBLY_STALE_:{for(var t=Zh(!0),n=Fy(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(Sm(a)){if(xt.disableErrorBoundaries)a.get();else try{a.get()}catch{return ap(n),_d(t),!0}if(e.dependenciesState_===er.STALE_)return ap(n),_d(t),!0}}return EJ(e),ap(n),_d(t),!1}}}function Rve(){return xt.trackingDerivation!==null}function AJ(e,t,n){var r=Zh(!0);EJ(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++xt.runId;var o=xt.trackingDerivation;xt.trackingDerivation=e,xt.inBatch++;var i;if(xt.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(a){i=new eA(a)}return xt.inBatch--,xt.trackingDerivation=o,Lve(e),_d(r),i}function Lve(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=er.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var s=n[a];s.diffValue_===0&&(s.diffValue_=1,o!==a&&(n[o]=s),o++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue_===0&&IJ(l,e),l.diffValue_=0}for(;o--;){var c=n[o];c.diffValue_===1&&(c.diffValue_=0,jve(c,e))}r!==er.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function _F(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)IJ(t[n],e);e.dependenciesState_=er.NOT_TRACKING_}function Dy(e){var t=Fy();try{return e()}finally{ap(t)}}function Fy(){var e=xt.trackingDerivation;return xt.trackingDerivation=null,e}function ap(e){xt.trackingDerivation=e}function Zh(e){var t=xt.allowStateReads;return xt.allowStateReads=e,t}function _d(e){xt.allowStateReads=e}function EJ(e){if(e.dependenciesState_!==er.UP_TO_DATE_){e.dependenciesState_=er.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=er.UP_TO_DATE_}}var $ve=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],ux=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},$P=!0,TJ=!1,xt=function(){var e=f4();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&($P=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ux().version&&($P=!1),$P?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ux):(setTimeout(function(){TJ||vn(35)},1),new ux)}();function Dve(){if((xt.pendingReactions.length||xt.inBatch||xt.isRunningReactions)&&vn(36),TJ=!0,$P){var e=f4();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),xt=new ux}}function OJ(){return xt}function Fve(){var e=new ux;for(var t in e)$ve.indexOf(t)===-1&&(xt[t]=e[t]);xt.allowStateChanges=!xt.enforceActions}function Nve(e){return e.observers_&&e.observers_.size>0}function Bve(e){return e.observers_}function jve(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function IJ(e,t){e.observers_.delete(t),e.observers_.size===0&&kJ(e)}function kJ(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,xt.pendingUnobservations.push(e))}function Ji(){xt.inBatch++}function ea(){if(--xt.inBatch===0){$J();for(var e=xt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Kx&&n.suspend_())}xt.pendingUnobservations=[]}}function RJ(e){var t=xt.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&xt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&xt.inBatch>0&&kJ(e),!1)}function LJ(e){e.lowestObserverState_!==er.STALE_&&(e.lowestObserverState_=er.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===er.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=er.STALE_}))}function zve(e){e.lowestObserverState_!==er.STALE_&&(e.lowestObserverState_=er.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===er.POSSIBLY_STALE_?t.dependenciesState_=er.STALE_:t.dependenciesState_===er.UP_TO_DATE_&&(e.lowestObserverState_=er.UP_TO_DATE_)}))}function Hve(e){e.lowestObserverState_===er.UP_TO_DATE_&&(e.lowestObserverState_=er.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===er.UP_TO_DATE_&&(t.dependenciesState_=er.POSSIBLY_STALE_,t.onBecomeStale_())}))}var wp=function(){function e(n,r,o,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=er.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Yh.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,xt.pendingReactions.push(this),$J())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Ji(),this.isScheduled_=!1;var r=xt.trackingContext;if(xt.trackingContext=this,wF(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}xt.trackingContext=r,ea()}},t.track=function(r){if(!this.isDisposed_){Ji(),this.isRunning_=!0;var o=xt.trackingContext;xt.trackingContext=this;var i=AJ(this,r,void 0);xt.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&_F(this),LP(i)&&this.reportExceptionInDerivation_(i.cause),ea()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(xt.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";xt.suppressReactionErrors||console.error(i,r),xt.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Ji(),_F(this),ea()))},t.getDisposer_=function(){var r=this.dispose.bind(this);return r[Yt]=this,r},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){r===void 0&&(r=!1),oee(this,r)},e}();function Vve(e){return xt.globalReactionErrorHandlers.push(e),function(){var t=xt.globalReactionErrorHandlers.indexOf(e);t>=0&&xt.globalReactionErrorHandlers.splice(t,1)}}var Uve=100,SF=function(t){return t()};function $J(){xt.inBatch>0||xt.isRunningReactions||SF(Gve)}function Gve(){xt.isRunningReactions=!0;for(var e=xt.pendingReactions,t=0;e.length>0;){++t===Uve&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}xt.isRunningReactions=!1}var tA=Bp("Reaction",wp);function Wve(e){var t=SF;SF=function(r){return e(function(){return t(r)})}}function dx(){return!1}function DJ(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var FJ="action",qve="action.bound",NJ="autoAction",Xve="autoAction.bound",BJ="<unnamed action>",jJ=b_(FJ),Kve=b_(qve,{bound:!0}),zJ=b_(NJ,{autoAction:!0}),Yve=b_(Xve,{autoAction:!0,bound:!0});function HJ(e){var t=function(r,o){if(Is(r))return _m(r.name||BJ,r,e);if(Is(o))return _m(r,o,e);if(ym(o))return g_(r,o,e?zJ:jJ);if(ym(r))return lc(b_(e?NJ:FJ,{name:r,autoAction:e}))};return t}var Jo=HJ(!1);Object.assign(Jo,jJ);var Eb=HJ(!0);Object.assign(Eb,zJ);Jo.bound=lc(Kve);Eb.bound=lc(Yve);function Tb(e){return _J(e.name||BJ,!1,e,this,void 0)}function rT(e){return Is(e)&&e.isMobxAction===!0}function Ob(e,t){var n,r;t===void 0&&(t=p4);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",i=!t.scheduler&&!t.delay,a;if(i)a=new wp(o,function(){this.track(c)},t.onError,t.requiresObservable);else{var s=VJ(t),l=!1;a=new wp(o,function(){l||(l=!0,s(function(){l=!1,a.isDisposed_||a.track(c)}))},t.onError,t.requiresObservable)}function c(){e(a)}return a.schedule_(),a.getDisposer_()}var Zve=function(t){return t()};function VJ(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Zve}function UJ(e,t,n){var r;n===void 0&&(n=p4);var o=(r=n.name)!=null?r:"Reaction",i=Jo(o,n.onError?Qve(n.onError,t):t),a=!n.scheduler&&!n.delay,s=VJ(n),l=!0,c=!1,u,d,f=n.compareStructural?wm.structural:n.equals||wm.default,p=new wp(o,function(){l||a?h():c||(c=!0,s(h))},n.onError,n.requiresObservable);function h(){if(c=!1,!p.isDisposed_){var g=!1;p.track(function(){var v=y_(!1,function(){return e(p)});g=l||!f(u,v),d=u,u=v}),(l&&n.fireImmediately||!l&&g)&&i(u,d,p),l=!1}}return p.schedule_(),p.getDisposer_()}function Qve(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var Jve="onBO",ebe="onBUO";function GJ(e,t,n){return WJ(Jve,e,t,n)}function b4(e,t,n){return WJ(ebe,e,t,n)}function WJ(e,t,n,r){var o=typeof r=="function"?Cl(t,n):Cl(t),i=Is(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var s=o[a];s&&(s.delete(i),s.size===0&&delete o[a])}}var tbe="never",LC="always",nbe="observed";function qJ(e){e.isolateGlobalState===!0&&Dve();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(xt.useProxies=t===LC?!0:t===tbe?!1:typeof Proxy<"u"),t==="ifavailable"&&(xt.verifyProxies=!0),n!==void 0){var r=n===LC?LC:n===nbe;xt.enforceActions=r,xt.allowStateChanges=!(r===!0||r===LC)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(xt[o]=!!e[o])}),xt.allowStateReads=!xt.observableRequiresReaction,e.reactionScheduler&&Wve(e.reactionScheduler)}function y4(e,t,n,r){var o=Hge(t),i=C_(e,r)[Yt];Ji();try{Pb(o).forEach(function(a){i.extend_(a,o[a],n&&a in n?n[a]:!0)})}finally{ea()}return e}function XJ(e,t){return KJ(Cl(e,t))}function KJ(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=obe(e.observing_).map(KJ)),t}function rbe(e,t){return YJ(Cl(e,t))}function YJ(e){var t={name:e.name_};return Nve(e)&&(t.observers=Array.from(Bve(e)).map(YJ)),t}function obe(e){return Array.from(new Set(e))}var ibe=0;function oT(){this.message="FLOW_CANCELLED"}oT.prototype=Object.create(Error.prototype);function abe(e){return e instanceof oT}var $H=pJ("flow"),sbe=pJ("flow.bound",{bound:!0}),Ib=Object.assign(function(t,n){if(ym(n))return g_(t,n,$H);var r=t,o=r.name||"<unnamed flow>",i=function(){var s=this,l=arguments,c=++ibe,u=Jo(o+" - runid: "+c+" - init",r).apply(s,l),d,f=void 0,p=new Promise(function(h,g){var v=0;d=g;function m(y){f=void 0;var w;try{w=Jo(o+" - runid: "+c+" - yield "+v++,u.next).call(u,y)}catch(_){return g(_)}x(w)}function b(y){f=void 0;var w;try{w=Jo(o+" - runid: "+c+" - yield "+v++,u.throw).call(u,y)}catch(_){return g(_)}x(w)}function x(y){if(Is(y==null?void 0:y.then)){y.then(x,g);return}return y.done?h(y.value):(f=Promise.resolve(y.value),f.then(m,b))}m(void 0)});return p.cancel=Jo(o+" - runid: "+c+" - cancel",function(){try{f&&DH(f);var h=u.return(void 0),g=Promise.resolve(h.value);g.then(Nv,Nv),DH(g),d(new oT)}catch(v){d(v)}}),p};return i.isMobXFlow=!0,i},$H);Ib.bound=lc(sbe);function DH(e){Is(e.cancel)&&e.cancel()}function lbe(e){return e}function Yx(e){return(e==null?void 0:e.isMobXFlow)===!0}function x4(e,t,n){var r;return yi(e)||ia(e)||v4(e)?r=vc(e):ri(e)&&(r=vc(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function iT(e,t,n){return Is(n)?ube(e,t,n):cbe(e,t)}function cbe(e,t){return vc(e).intercept_(t)}function ube(e,t,n){return vc(e,t).intercept_(n)}function ZJ(e,t){if(t===void 0)return Sm(e);if(ri(e)===!1||!e[Yt].values_.has(t))return!1;var n=Cl(e,t);return Sm(n)}function dbe(e){return ZJ(e)}function QJ(e,t){return ZJ(e,t)}function JJ(e,t){return e?t!==void 0?ri(e)?e[Yt].values_.has(t):!1:ri(e)||!!e[Yt]||m4(e)||tA(e)||Sm(e):!1}function aT(e){return JJ(e)}function eee(e,t){return JJ(e,t)}function Zx(e){if(ri(e))return e[Yt].keys_();if(yi(e)||Sa(e))return Array.from(e.keys());if(ia(e))return e.map(function(t,n){return n});vn(5)}function w4(e){if(ri(e))return Zx(e).map(function(t){return e[t]});if(yi(e))return Zx(e).map(function(t){return e.get(t)});if(Sa(e))return Array.from(e.values());if(ia(e))return e.slice();vn(6)}function tee(e){if(ri(e))return Zx(e).map(function(t){return[t,e[t]]});if(yi(e))return Zx(e).map(function(t){return[t,e.get(t)]});if(Sa(e))return Array.from(e.entries());if(ia(e))return e.map(function(t,n){return[n,t]});vn(7)}function _4(e,t,n){if(arguments.length===2&&!Sa(e)){Ji();var r=t;try{for(var o in r)_4(e,o,r[o])}finally{ea()}return}ri(e)?e[Yt].set_(t,n):yi(e)?e.set(t,n):Sa(e)?e.add(t):ia(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&vn("Invalid index: '"+t+"'"),Ji(),t>=e.length&&(e.length=t+1),e[t]=n,ea()):vn(8)}function fbe(e,t){ri(e)?e[Yt].delete_(t):yi(e)||Sa(e)?e.delete(t):ia(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):vn(9)}function nee(e,t){if(ri(e))return e[Yt].has_(t);if(yi(e))return e.has(t);if(Sa(e))return e.has(t);if(ia(e))return t>=0&&t<e.length;vn(10)}function pbe(e,t){if(nee(e,t)){if(ri(e))return e[Yt].get_(t);if(yi(e))return e.get(t);if(ia(e))return e[t];vn(11)}}function S4(e,t,n){if(ri(e))return e[Yt].defineProperty_(t,n);vn(39)}function ree(e){if(ri(e))return e[Yt].ownKeys_();vn(38)}function sT(e,t,n,r){return Is(n)?mbe(e,t,n,r):hbe(e,t,n)}function hbe(e,t,n){return vc(e).observe_(t,n)}function mbe(e,t,n,r){return vc(e,t).observe_(n,r)}function $C(e,t,n){return e.set(t,n),n}function av(e,t){if(e==null||typeof e!="object"||e instanceof Date||!aT(e))return e;if(v4(e)||Sm(e))return av(e.get(),t);if(t.has(e))return t.get(e);if(ia(e)){var n=$C(t,e,new Array(e.length));return e.forEach(function(a,s){n[s]=av(a,t)}),n}if(Sa(e)){var r=$C(t,e,new Set);return e.forEach(function(a){r.add(av(a,t))}),r}if(yi(e)){var o=$C(t,e,new Map);return e.forEach(function(a,s){o.set(s,av(a,t))}),o}else{var i=$C(t,e,{});return ree(e).forEach(function(a){p_.propertyIsEnumerable.call(e,a)&&(i[a]=av(e[a],t))}),i}}function gbe(e,t){return av(e,new Map)}function oee(){vn("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[n.length-1]=="boolean"&&(e=n.pop());var o=vbe(n);if(!o)return vn("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Yh.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?Yh.BREAK:Yh.LOG}function vbe(e){switch(e.length){case 0:return xt.trackingDerivation;case 1:return Cl(e[0]);case 2:return Cl(e[0],e[1])}}function ou(e,t){t===void 0&&(t=void 0),Ji();try{return e.apply(t)}finally{ea()}}function bbe(e,t,n){return arguments.length===1||t&&typeof t=="object"?ybe(e,t):iee(e,t,n||{})}function iee(e,t,n){var r;if(typeof n.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!a[Yt].isDisposed_)if(a(),n.onError)n.onError(o);else throw o},n.timeout)}n.name="When";var i=_m("When-effect",t),a=Ob(function(s){var l=y_(!1,e);l&&(s.dispose(),r&&clearTimeout(r),i())},n);return a}function ybe(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,i=new Promise(function(a,s){var l,c=iee(e,a,xm({},t,{onError:s}));r=function(){c(),s(new Error("WHEN_CANCELLED"))},o=function(){c(),s(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",o)}).finally(function(){var a;return t==null||(a=t.signal)==null||a.removeEventListener==null?void 0:a.removeEventListener("abort",o)});return i.cancel=r,i}function Ag(e){return e[Yt]}var xbe={has:function(t,n){return Ag(t).has_(n)},get:function(t,n){return Ag(t).get_(n)},set:function(t,n,r){var o;return ym(n)?(o=Ag(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return ym(n)?(r=Ag(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=Ag(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return Ag(t).ownKeys_()},preventExtensions:function(t){vn(13)}};function wbe(e,t){var n,r;return oJ(),e=C_(e,t),(r=(n=e[Yt]).proxy_)!=null?r:n.proxy_=new Proxy(e,xbe)}function fl(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function __(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),iJ(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function pl(e,t){var n=Fy();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&(t=r[o](t),t&&!t.type&&vn(14),!!t);o++);return t}finally{ap(n)}}function cc(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function S_(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),iJ(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function uc(e,t){var n=Fy(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](t);ap(n)}}function C4(e,t,n){var r=C_(e,n)[Yt];Ji();try{var o;(o=t)!=null||(t=Wge(e)),Pb(t).forEach(function(i){return r.make_(i,t[i])})}finally{ea()}return e}var rR=Symbol("mobx-keys");function _be(e,t,n){if(Od(e))return y4(e,e,t,n);var r=C_(e,n)[Yt];if(!e[rR]){var o=Object.getPrototypeOf(e),i=new Set([].concat(Pb(e),Pb(o)));i.delete("constructor"),i.delete(Yt),h_(o,rR,i)}Ji();try{e[rR].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}finally{ea()}return e}var FH="splice",gu="update",Sbe=1e4,Cbe={get:function(t,n){var r=t[Yt];return n===Yt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):wd(nA,n)?nA[n]:t[n]},set:function(t,n,r){var o=t[Yt];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){vn(15)}},P4=function(){function e(n,r,o,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new v_(n),this.enhancer_=function(a,s){return r(a,s,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return __(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),S_(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&vn("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),a=0;a<r-o;a++)i[a]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&vn(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&hee(r+o+1)},t.spliceWithArray_=function(r,o,i){var a=this;this.atom_;var s=this.values_.length;if(r===void 0?r=0:r>s?r=s:r<0&&(r=Math.max(0,s+r)),arguments.length===1?o=s-r:o==null?o=0:o=Math.max(0,Math.min(o,s-r)),i===void 0&&(i=yF),fl(this)){var l=pl(this,{object:this.proxy_,type:FH,index:r,removedCount:o,added:i});if(!l)return yF;o=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var c=i.length-o;this.updateArrayLength_(s,c)}var u=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,o,i){if(i.length<Sbe){var a;return(a=this.values_).splice.apply(a,[r,o].concat(i))}else{var s=this.values_.slice(r,r+o),l=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var c=0;c<i.length;c++)this.values_[r+c]=i[c];for(var u=0;u<l.length;u++)this.values_[r+i.length+u]=l[u];return s}},t.notifyArrayChildUpdate_=function(r,o,i){var a=!this.owned_&&dx(),s=cc(this),l=s||a?{observableKind:"array",object:this.proxy_,type:gu,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),s&&uc(this,l)},t.notifyArraySplice_=function(r,o,i){var a=!this.owned_&&dx(),s=cc(this),l=s||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:FH,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),s&&uc(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var i=this.values_;if(this.legacyMode_&&r>i.length&&vn(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(fl(this)){var s=pl(this,{type:gu,object:this.proxy_,index:r,newValue:o});if(!s)return;o=s.newValue}o=this.enhancer_(o,a);var l=o!==a;l&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else{for(var c=new Array(r+1-i.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=o,this.spliceWithArray_(i.length,0,c)}},e}();function Pbe(e,t,n,r){n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),oJ();var o=new P4(n,t,r,!1);sJ(o.values_,Yt,o);var i=new Proxy(o.values_,Cbe);if(o.proxy_=i,e&&e.length){var a=x_(!0);o.spliceWithArray_(0,0,e),w_(a)}return i}var nA={clear:function(){return this.splice(0)},replace:function(t){var n=this[Yt];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[Yt];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[Yt].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Yt],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Yt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Yt],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return xt.trackingDerivation&&vn(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){xt.trackingDerivation&&vn(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Yt],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};oi("concat",Kd);oi("flat",Kd);oi("includes",Kd);oi("indexOf",Kd);oi("join",Kd);oi("lastIndexOf",Kd);oi("slice",Kd);oi("toString",Kd);oi("toLocaleString",Kd);oi("every",jp);oi("filter",jp);oi("find",jp);oi("findIndex",jp);oi("flatMap",jp);oi("forEach",jp);oi("map",jp);oi("some",jp);oi("reduce",aee);oi("reduceRight",aee);function oi(e,t){typeof Array.prototype[e]=="function"&&(nA[e]=t(e))}function Kd(e){return function(){var t=this[Yt];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function jp(e){return function(t,n){var r=this,o=this[Yt];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[e](function(a,s){return t.call(n,a,s,r)})}}function aee(e){return function(){var t=this,n=this[Yt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(i,a,s){return o(i,a,s,t)},r[e].apply(r,arguments)}}var Mbe=Bp("ObservableArrayAdministration",P4);function ia(e){return eT(e)&&Mbe(e[Yt])}var see,lee,Abe={},Uf="add",rA="delete";see=Symbol.iterator;lee=Symbol.toStringTag;var lT=function(){function e(n,r,o){var i=this;r===void 0&&(r=Ab),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Yt]=Abe,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,Is(Map)||vn(18),this.keysAtom_=Mb("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,y_(!0,function(){i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!xt.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Kh(this.has_(r),tT,"ObservableMap.key?",!1);this.hasMap_.set(r,a),b4(a,function(){return o.hasMap_.delete(r)})}return i.get()},t.set=function(r,o){var i=this.has_(r);if(fl(this)){var a=pl(this,{type:i?gu:Uf,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,fl(this)){var i=pl(this,{type:rA,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=dx(),s=cc(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:rA,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ou(function(){var c;o.keysAtom_.reportChanged(),(c=o.hasMap_.get(r))==null||c.setNewValue_(!1);var u=o.data_.get(r);u.setNewValue_(void 0),o.data_.delete(r)}),s&&uc(this,l),!0}return!1},t.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==xt.UNCHANGED){var a=dx(),s=cc(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:gu,object:this,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),s&&uc(this,l)}},t.addValue_=function(r,o){var i=this;this.keysAtom_,ou(function(){var c,u=new Kh(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,u),o=u.value_,(c=i.hasMap_.get(r))==null||c.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=dx(),s=cc(this),l=s||a?{observableKind:"map",debugObjectName:this.name_,type:Uf,object:this,name:r,newValue:o}:null;s&&uc(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return Qx({next:function(){var a=o.next(),s=a.done,l=a.value;return{done:s,value:s?void 0:r.get(l)}}})},t.entries=function(){var r=this,o=this.keys();return Qx({next:function(){var a=o.next(),s=a.done,l=a.value;return{done:s,value:s?void 0:[l,r.get(l)]}}})},t[see]=function(){return this.entries()},t.forEach=function(r,o){for(var i=Bv(this),a;!(a=i()).done;){var s=a.value,l=s[0],c=s[1];r.call(o,c,l,this)}},t.merge=function(r){var o=this;return yi(r)&&(r=new Map(r)),ou(function(){Od(r)?zge(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],s=i[1];return o.set(a,s)}):$y(r)?(r.constructor!==Map&&vn(19,r),r.forEach(function(i,a){return o.set(a,i)})):r!=null&&vn(20,r)}),this},t.clear=function(){var r=this;ou(function(){Dy(function(){for(var o=Bv(r.keys()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},t.replace=function(r){var o=this;return ou(function(){for(var i=Ebe(r),a=new Map,s=!1,l=Bv(o.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!i.has(u)){var d=o.delete(u);if(d)s=!0;else{var f=o.data_.get(u);a.set(u,f)}}}for(var p=Bv(i.entries()),h;!(h=p()).done;){var g=h.value,v=g[0],m=g[1],b=o.data_.has(v);if(o.set(v,m),o.data_.has(v)){var x=o.data_.get(v);a.set(v,x),b||(s=!0)}}if(!s)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var y=o.data_.keys(),w=a.keys(),_=y.next(),S=w.next();!_.done;){if(_.value!==S.value){o.keysAtom_.reportChanged();break}_=y.next(),S=w.next()}o.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return S_(this,r)},t.intercept_=function(r){return __(this,r)},h4(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:lee,get:function(){return"Map"}}]),e}(),yi=Bp("ObservableMap",lT);function Ebe(e){if($y(e)||yi(e))return e;if(Array.isArray(e))return new Map(e);if(Od(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return vn(21,e)}var cee,uee,Tbe={};cee=Symbol.iterator;uee=Symbol.toStringTag;var M4=function(){function e(n,r,o){r===void 0&&(r=Ab),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[Yt]=Tbe,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,Is(Set)||vn(22),this.atom_=Mb(this.name_),this.enhancer_=function(i,a){return r(i,a,o)},n&&this.replace(n)}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ou(function(){Dy(function(){for(var o=Bv(r.data_.values()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},t.forEach=function(r,o){for(var i=Bv(this),a;!(a=i()).done;){var s=a.value;r.call(o,s,s,this)}},t.add=function(r){var o=this;if(this.atom_,fl(this)){var i=pl(this,{type:Uf,object:this,newValue:r});if(!i)return this}if(!this.has(r)){ou(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=!1,s=cc(this),l=s||a?{observableKind:"set",debugObjectName:this.name_,type:Uf,object:this,newValue:r}:null;s&&uc(this,l)}return this},t.delete=function(r){var o=this;if(fl(this)){var i=pl(this,{type:rA,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,s=cc(this),l=s||a?{observableKind:"set",debugObjectName:this.name_,type:rA,object:this,oldValue:r}:null;return ou(function(){o.atom_.reportChanged(),o.data_.delete(r)}),s&&uc(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),i=Array.from(this.values());return Qx({next:function(){var s=r;return r+=1,s<i.length?{value:[o[s],i[s]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,i=Array.from(this.data_.values());return Qx({next:function(){return o<i.length?{value:r.dehanceValue_(i[o++]),done:!1}:{done:!0}}})},t.replace=function(r){var o=this;return Sa(r)&&(r=new Set(r)),ou(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):m_(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&vn("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return S_(this,r)},t.intercept_=function(r){return __(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[cee]=function(){return this.values()},h4(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:uee,get:function(){return"Set"}}]),e}(),Sa=Bp("ObservableSet",M4),NH=Object.create(null),BH="remove",dee=function(){function e(n,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=gve),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new v_("ObservableObject.keys"),this.isPlainObject_=Od(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof Kx)return i.set(o),!0;if(fl(this)){var a=pl(this,{type:gu,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=i.prepareNewValue_(o),o!==xt.UNCHANGED){var s=cc(this),l=!1,c=s||l?{type:gu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),s&&uc(this,c)}return!0},t.get_=function(r){return xt.trackingDerivation&&!wd(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,i){return i===void 0&&(i=!1),wd(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!xt.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Kh(r in this.target_,tT,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var i;if((i=this.target_[lu])!=null&&i[r])return;vn(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==p_;){var s=QM(a,r);if(s){var l=o.make_(this,r,s,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}zH(this,o,r)}},t.extend_=function(r,o,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,a);var s=i.extend_(this,r,o,a);return s&&zH(this,i,r),s},t.defineProperty_=function(r,o,i){i===void 0&&(i=!1);try{Ji();var a=this.delete_(r);if(!a)return a;if(fl(this)){var s=pl(this,{object:this.proxy_||this.target_,name:r,type:Uf,newValue:o.value});if(!s)return null;var l=s.newValue;o.value!==l&&(o=xm({},o,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else mu(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{ea()}return!0},t.defineObservableProperty_=function(r,o,i,a){a===void 0&&(a=!1);try{Ji();var s=this.delete_(r);if(!s)return s;if(fl(this)){var l=pl(this,{object:this.proxy_||this.target_,name:r,type:Uf,newValue:o});if(!l)return null;o=l.newValue}var c=jH(r),u={configurable:xt.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(a){if(!Reflect.defineProperty(this.target_,r,u))return!1}else mu(this.target_,r,u);var d=new Kh(o,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ea()}return!0},t.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1);try{Ji();var a=this.delete_(r);if(!a)return a;if(fl(this)){var s=pl(this,{object:this.proxy_||this.target_,name:r,type:Uf,newValue:void 0});if(!s)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var l=jH(r),c={configurable:xt.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,c))return!1}else mu(this.target_,r,c);this.values_.set(r,new Kx(o)),this.notifyPropertyAddition_(r,void 0)}finally{ea()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),!wd(this.target_,r))return!0;if(fl(this)){var i=pl(this,{object:this.proxy_||this.target_,name:r,type:BH});if(!i)return null}try{var a,s;Ji();var l=cc(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(l||c)){var f;d=(f=QM(this.target_,r))==null?void 0:f.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Kh&&(d=u.value_),LJ(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(s=a.get(r))==null||s.set(r in this.target_),l||c){var p={type:BH,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};l&&uc(this,p)}}finally{ea()}return!0},t.observe_=function(r,o){return S_(this,r)},t.intercept_=function(r){return __(this,r)},t.notifyPropertyAddition_=function(r,o){var i,a,s=cc(this),l=!1;if(s||l){var c=s||l?{type:Uf,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;s&&uc(this,c)}(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Pb(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function C_(e,t){var n;if(wd(e,Yt))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new dee(e,new Map,String(r),Mve(t));return h_(e,Yt,o),e}var Obe=Bp("ObservableObjectAdministration",dee);function jH(e){return NH[e]||(NH[e]={get:function(){return this[Yt].getObservablePropValue_(e)},set:function(n){return this[Yt].setObservablePropValue_(e,n)}})}function ri(e){return eT(e)?Obe(e[Yt]):!1}function zH(e,t,n){var r;(r=e.target_[lu])==null||delete r[n]}var Ibe=pee(0),oR=0,fee=function(){};function kbe(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}kbe(fee,Array.prototype);var A4=function(e,t,n){uJ(r,e);function r(i,a,s,l){var c;s===void 0&&(s="ObservableArray"),l===void 0&&(l=!1),c=e.call(this)||this;var u=new P4(s,a,l,!0);if(u.proxy_=nR(c),sJ(nR(c),Yt,u),i&&i.length){var d=x_(!0);c.spliceWithArray(0,0,i),w_(d)}return Object.defineProperty(nR(c),"0",Ibe),c}var o=r.prototype;return o.concat=function(){this[Yt].atom_.reportObserved();for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return Array.prototype.concat.apply(this.slice(),s.map(function(c){return ia(c)?c.slice():c}))},o[n]=function(){var i=this,a=0;return Qx({next:function(){return a<i.length?{value:i[a++],done:!1}:{done:!0,value:void 0}}})},h4(r,[{key:"length",get:function(){return this[Yt].getArrayLength_()},set:function(a){this[Yt].setArrayLength_(a)}},{key:t,get:function(){return"Array"}}]),r}(fee,Symbol.toStringTag,Symbol.iterator);Object.entries(nA).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&h_(A4.prototype,t,n)});function pee(e){return{enumerable:!1,configurable:!0,get:function(){return this[Yt].get_(e)},set:function(n){this[Yt].set_(e,n)}}}function Rbe(e){mu(A4.prototype,""+e,pee(e))}function hee(e){if(e>oR){for(var t=oR;t<e+100;t++)Rbe(t);oR=e}}hee(1e3);function Lbe(e,t,n){return new A4(e,t,n)}function Cl(e,t){if(typeof e=="object"&&e!==null){if(ia(e))return t!==void 0&&vn(23),e[Yt].atom_;if(Sa(e))return e.atom_;if(yi(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||vn(25,t,oA(e)),n}if(ri(e)){if(!t)return vn(26);var r=e[Yt].values_.get(t);return r||vn(27,t,oA(e)),r}if(m4(e)||Sm(e)||tA(e))return e}else if(Is(e)&&tA(e[Yt]))return e[Yt];vn(28)}function vc(e,t){if(e||vn(29),t!==void 0)return vc(Cl(e,t));if(m4(e)||Sm(e)||tA(e)||yi(e)||Sa(e))return e;if(e[Yt])return e[Yt];vn(24,e)}function oA(e,t){var n;if(t!==void 0)n=Cl(e,t);else{if(rT(e))return e.name;ri(e)||yi(e)||Sa(e)?n=vc(e):n=Cl(e)}return n.name_}var HH=p_.toString;function E4(e,t,n){return n===void 0&&(n=-1),CF(e,t,n)}function CF(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var a=HH.call(e);if(a!==HH.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=VH(e),t=VH(t);var s=a==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(Is(l)&&l instanceof l&&Is(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var u=r.length;u--;)if(r[u]===e)return o[u]===t;if(r.push(e),o.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!CF(e[u],t[u],n-1,r,o))return!1}else{var d=Object.keys(e),f;if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(f=d[u],!(wd(t,f)&&CF(e[f],t[f],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function VH(e){return ia(e)?e.slice():$y(e)||yi(e)||m_(e)||Sa(e)?Array.from(e.entries()):e}function Qx(e){return e[Symbol.iterator]=$be,e}function $be(){return this}["Symbol","Map","Set"].forEach(function(e){var t=f4();typeof t[e]>"u"&&vn("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:DJ,extras:{getDebugName:oA},$mobx:Yt});const Dbe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Yt,FlowCancellationError:oT,ObservableMap:lT,ObservableSet:M4,Reaction:wp,_allowStateChanges:y_,_allowStateChangesInsideComputed:Tb,_allowStateReadsEnd:_d,_allowStateReadsStart:Zh,_autoAction:Eb,_endAction:CJ,_getAdministration:vc,_getGlobalState:OJ,_interceptReads:x4,_isComputingDerivation:Rve,_resetGlobalState:Fve,_startAction:SJ,action:Jo,autorun:Ob,comparer:wm,computed:Qm,configure:qJ,createAtom:Mb,defineProperty:S4,entries:tee,extendObservable:y4,flow:Ib,flowResult:lbe,get:pbe,getAtom:Cl,getDebugName:oA,getDependencyTree:XJ,getObserverTree:rbe,has:nee,intercept:iT,isAction:rT,isBoxedObservable:v4,isComputed:dbe,isComputedProp:QJ,isFlow:Yx,isFlowCancellationError:abe,isObservable:aT,isObservableArray:ia,isObservableMap:yi,isObservableObject:ri,isObservableProp:eee,isObservableSet:Sa,keys:Zx,makeAutoObservable:_be,makeObservable:C4,observable:Ar,observe:sT,onBecomeObserved:GJ,onBecomeUnobserved:b4,onReactionError:Vve,override:Jge,ownKeys:ree,reaction:UJ,remove:fbe,runInAction:Tb,set:_4,spy:DJ,toJS:gbe,trace:oee,transaction:ou,untracked:Dy,values:w4,when:bbe},Symbol.toStringTag,{value:"Module"}));if(!C.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!C4)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Fbe(e){e()}function mee(e){e||(e=Fbe),qJ({reactionScheduler:e})}function Nbe(e){return XJ(e)}var Bbe=1e4,jbe=1e4,zbe=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Bbe),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(i,a){o-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,jbe))}}),e}(),Hbe=typeof FinalizationRegistry<"u"?FinalizationRegistry:zbe,PF=new Hbe(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),gee=!1;function vee(e){gee=e}function kb(){return gee}var UH=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function GH(e){return"observer".concat(e)}var Vbe=function(){function e(){}return e}();function Ube(){return new Vbe}function T4(e,t){if(t===void 0&&(t="observed"),kb())return e();var n=UH(ke.useState(Ube),1),r=n[0],o=UH(ke.useState(),2),i=o[1],a=function(){return i([])},s=ke.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current;l.reaction||(l.reaction=new wp(GH(t),function(){l.mounted?a():l.changedBeforeMount=!0}),PF.register(r,l,l)),ke.useDebugValue(l.reaction,Nbe),ke.useEffect(function(){return PF.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,a()):(l.reaction=new wp(GH(t),function(){a()}),a()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}},[]);var c,u;if(l.reaction.track(function(){try{c=e()}catch(d){u=d}}),u)throw u;return c}var bee=typeof Symbol=="function"&&Symbol.for,WH=bee?Symbol.for("react.forward_ref"):typeof C.forwardRef=="function"&&C.forwardRef(function(e){return null}).$$typeof,qH=bee?Symbol.for("react.memo"):typeof C.memo=="function"&&C.memo(function(e){return null}).$$typeof;function Gbe(e,t){var n;if(qH&&e.$$typeof===qH)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(kb())return e;var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,o=e,i=e.displayName||e.name;if(WH&&e.$$typeof===WH&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(s,l){return T4(function(){return o(s,l)},i)};return i!==""&&(a.displayName=i),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=C.forwardRef(a)),a=C.memo(a),qbe(e,a),a}var Wbe={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function qbe(e,t){Object.keys(e).forEach(function(n){Wbe[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}function yee(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:T4(r)}yee.displayName="Observer";function Xbe(e,t){return C.useState(function(){return Ar(e(),t,{autoBind:!0})})[0]}var Kbe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function xee(e){var t=Kbe(C.useState(function(){return Ar(e,{},{deep:!1})}),1),n=t[0];return Tb(function(){Object.assign(n,e)}),n}function Ybe(e,t){var n=t&&xee(t);return C.useState(function(){return Ar(e(n),void 0,{autoBind:!0})})[0]}var iR;mee(Td.unstable_batchedUpdates);iR=PF.finalizeAllImmediately;function Zbe(e,t){return t===void 0&&(t="observed"),T4(e,t)}function Qbe(e){vee(e)}var XH=0;function Jbe(e){if(typeof Symbol=="function")return Symbol(e);var t="__$mobx-react "+e+" ("+XH+")";return XH++,t}var aR={};function _u(e){return aR[e]||(aR[e]=Jbe(e)),aR[e]}function wee(e,t){if(KH(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!KH(e[n[o]],t[n[o]]))return!1;return!0}function KH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var eye={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function tye(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach(function(r){!eye[r]&&n.indexOf(r)===-1&&Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}function ud(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var YH=_u("patchMixins"),_ee=_u("patchedDefinition");function nye(e,t){var n=e[YH]=e[YH]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function ZH(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return e!=null&&(a=e.apply(this,o)),a}finally{t.locks--,t.locks===0&&t.methods.forEach(function(s){s.apply(n,o)})}}function QH(e,t){var n=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];ZH.call.apply(ZH,[this,e,t].concat(i))};return n}function MF(e,t,n){var r=nye(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!(o&&o[_ee])){var i=e[t],a=See(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function See(e,t,n,r,o){var i,a=QH(o,r);return i={},i[_ee]=!0,i.get=function(){return a},i.set=function(l){if(this===e)a=QH(l,r);else{var c=See(this,t,n,r,l);Object.defineProperty(this,t,c)}},i.configurable=!0,i.enumerable=n,i}var ob=Yt||"$mobx",JH=_u("isMobXReactObserver"),AF=_u("isUnmounted"),iA=_u("skipRender"),DP=_u("isForcingUpdate");function rye(e){var t=e.prototype;if(e[JH]){var n=FP(t);console.warn("The provided component class ("+n+`)
                has already been declared as an observer component.`)}else e[JH]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==C.PureComponent){if(!t.shouldComponentUpdate)t.shouldComponentUpdate=eV;else if(t.shouldComponentUpdate!==eV)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}sR(t,"props"),sR(t,"state"),e.contextType&&sR(t,"context");var r=t.render;if(typeof r!="function"){var o=FP(t);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=kb()?r:oye.call(this,r),this.render()},MF(t,"componentDidMount",function(){this[AF]=!1,this.render[ob]||C.Component.prototype.forceUpdate.call(this)}),MF(t,"componentWillUnmount",function(){if(!kb()){var i=this.render[ob];if(i)i.dispose(),this.render[ob]=null;else{var a=FP(this);console.warn("The reactive render of an observer class component ("+a+`)
                was overridden after MobX attached. This may result in a memory leak if the
                overridden reactive render was not properly disposed.`)}this[AF]=!0}}),e}function FP(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function oye(e){var t=this;ud(this,iA,!1),ud(this,DP,!1);var n=FP(this),r=e.bind(this),o=!1,i=function(){var l=new wp(n+".render()",function(){if(!o&&(o=!0,t[AF]!==!0)){var c=!0;try{ud(t,DP,!0),t[iA]||C.Component.prototype.forceUpdate.call(t),c=!1}finally{ud(t,DP,!1),c&&(l.dispose(),t.render[ob]=null)}}});return l.reactComponent=t,l};function a(){var s;o=!1;var l=(s=a[ob])!=null?s:a[ob]=i(),c=void 0,u=void 0;if(l.track(function(){try{u=y_(!1,r)}catch(d){c=d}}),c)throw c;return u}return a}function eV(e,t){return kb()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t?!0:!wee(this.props,e)}function sR(e,t){var n=_u("reactProp_"+t+"_valueHolder"),r=_u("reactProp_"+t+"_atomHolder");function o(){return this[r]||ud(this,r,Mb("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var a=!1;return Zh&&_d&&(a=Zh(!0)),o.call(this).reportObserved(),Zh&&_d&&_d(a),this[n]},set:function(a){!this[DP]&&!wee(this[n],a)?(ud(this,n,a),ud(this,iA,!0),o.call(this).reportChanged(),ud(this,iA,!1)):ud(this,n,a)}})}function Wn(e){return e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(C.Component,e)||Object.prototype.isPrototypeOf.call(C.PureComponent,e)?rye(e):Gbe(e)}function aA(){return aA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(this,arguments)}function iye(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var aye=["children"],sA=ke.createContext({});function Cee(e){var t=e.children,n=iye(e,aye),r=ke.useContext(sA),o=ke.useRef(aA({},r,n)),i=o.current;return ke.createElement(sA.Provider,{value:i},t)}Cee.displayName="MobXProvider";function tV(e,t,n,r){var o=ke.forwardRef(function(i,a){var s=aA({},i),l=ke.useContext(sA);return Object.assign(s,e(l||{},s)||{}),a&&(s.ref=a),ke.createElement(t,s)});return r&&(o=Wn(o)),o.isMobxInjector=!0,tye(t,o),o.wrappedComponent=t,o.displayName=sye(t,n),o}function sye(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?n="inject-with-"+t+"("+r+")":n="inject("+r+")",n}function lye(e){return function(t,n){return e.forEach(function(r){if(!(r in n)){if(!(r in t))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=t[r]}}),n}}function cye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(typeof arguments[0]=="function"){var r=arguments[0];return function(o){return tV(r,o,r.name,!0)}}else return function(o){return tV(lye(t),o,t.join("-"),!1)}}var NP=_u("disposeOnUnmountProto"),BP=_u("disposeOnUnmountInst");function uye(){var e=this;[].concat(this[NP]||[],this[BP]||[]).forEach(function(t){var n=typeof t=="string"?e[t]:t;n!=null&&(Array.isArray(n)?n.map(function(r){return r()}):n())})}function Pee(e,t){if(Array.isArray(t))return t.map(function(l){return Pee(e,l)});var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(!(n===ke.Component||n===ke.PureComponent||r===ke.Component||r===ke.PureComponent||o===ke.Component||o===ke.PureComponent))throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if(typeof t!="string"&&typeof t!="function"&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var i=typeof t=="string",a=!!e[NP]||!!e[BP],s=i?e[NP]||(e[NP]=[]):e[BP]||(e[BP]=[]);if(s.push(t),a||MF(e,"componentWillUnmount",uye),typeof t!="string")return t}function Mee(e){function t(r,o,i,a,s,l){for(var c=arguments.length,u=new Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return Dy(function(){if(a=a||"<<anonymous>>",l=l||i,o[i]==null){if(r){var f=o[i]===null?"null":"undefined";return new Error("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `"+f+"`.")}return null}else return e.apply(void 0,[o,i,a,s,l].concat(u))})}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function dye(e,t){return e==="symbol"||t["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&t instanceof Symbol}function Aee(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":dye(t,e)?"symbol":t}function fye(e){var t=Aee(e);if(t==="object"){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Ny(e,t){return Mee(function(n,r,o,i,a){return Dy(function(){if(e&&Aee(n[r])===t.toLowerCase())return null;var s;switch(t){case"Array":s=ia;break;case"Object":s=ri;break;case"Map":s=yi;break;default:throw new Error("Unexpected mobxType: "+t)}var l=n[r];if(!s(l)){var c=fye(l),u=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+c+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+u+".")}return null})})}function Eee(e,t){return Mee(function(n,r,o,i,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];return Dy(function(){if(typeof t!="function")return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var u=Ny(e,"Array")(n,r,o,i,a);if(u instanceof Error)return u;for(var d=n[r],f=0;f<d.length;f++)if(u=t.apply(void 0,[d,f,o,i,a+"["+f+"]"].concat(l)),u instanceof Error)return u;return null})})}var pye=Ny(!1,"Array"),hye=Eee.bind(null,!1),mye=Ny(!1,"Map"),gye=Ny(!1,"Object"),vye=Ny(!0,"Array"),bye=Eee.bind(null,!0),yye=Ny(!0,"Object"),xye={observableArray:pye,observableArrayOf:hye,observableMap:mye,observableObject:gye,arrayOrObservableArray:vye,arrayOrObservableArrayOf:bye,objectOrObservableObject:yye};if(!C.Component)throw new Error("mobx-react requires React to be available");if(!Ar)throw new Error("mobx-react requires mobx to be available");const wye=Object.freeze(Object.defineProperty({__proto__:null,MobXProviderContext:sA,Observer:yee,PropTypes:xye,Provider:Cee,disposeOnUnmount:Pee,enableStaticRendering:vee,inject:cye,isUsingStaticRendering:kb,observer:Wn,observerBatching:mee,useAsObservableSource:xee,useLocalObservable:Xbe,useLocalStore:Ybe,useObserver:Zbe,useStaticRendering:Qbe},Symbol.toStringTag,{value:"Module"}));var Tee="warn";function Oee(e){Tee=e}function Iee(){return Tee}function _ye(e){Oee(e)}var mi;(function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"})(mi||(mi={}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var EF=function(e,t){return EF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},EF(e,t)};function Jr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");EF(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ya=function(){return Ya=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ya.apply(this,arguments)};function Sye(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function kee(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O4(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function zp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O4(arguments[t]));return e}function P_(e){return Bt(e).type}function Cye(e,t){return Bt(e).getChildType(t)}function Ree(e,t){return Bt(e).onPatch(t)}function Lee(e,t){return Bt(e).onSnapshot(t)}function Rb(e,t){Bt(e).applyPatches(F4(t))}function Pye(e,t){var n={patches:[],reversedInversePatches:[]},r={},o,i={get recording(){return!!o},get patches(){return r.patches||(r.patches=n.patches.slice()),r.patches},get reversedInversePatches(){return r.reversedInversePatches||(r.reversedInversePatches=n.reversedInversePatches.slice()),r.reversedInversePatches},get inversePatches(){return r.inversePatches||(r.inversePatches=n.reversedInversePatches.slice().reverse()),r.inversePatches},stop:function(){o&&(o(),o=void 0)},resume:function(){o||(o=Ree(e,function(a,s){t&&!t(a,s,R4())||(n.patches.push(a),n.reversedInversePatches.unshift(s),r.patches=void 0,r.inversePatches=void 0,r.reversedInversePatches=void 0)}))},replay:function(a){Rb(a||e,n.patches)},undo:function(a){Rb(a||e,n.reversedInversePatches)}};return i.resume(),i}function Mye(e){var t=Bt(e);if(!t.isRoot)throw $t("`protect` can only be invoked on root nodes");t.isProtectionEnabled=!0}function Aye(e){var t=Bt(e);if(!t.isRoot)throw $t("`unprotect` can only be invoked on root nodes");t.isProtectionEnabled=!1}function Eye(e){return Bt(e).isProtected}function $ee(e,t){return Bt(e).applySnapshot(t)}function M_(e,t){t===void 0&&(t=!0);var n=Bt(e);return t?n.snapshot:n.type.getSnapshot(n,!1)}function Tye(e,t){t===void 0&&(t=1);for(var n=Bt(e).parent;n;){if(--t===0)return!0;n=n.parent}return!1}function Oye(e,t){t===void 0&&(t=1);for(var n=t,r=Bt(e).parent;r;){if(--n===0)return r.storedValue;r=r.parent}throw $t("Failed to find the parent of "+Bt(e)+" at depth "+t)}function Iye(e,t){for(var n=Bt(e).parent;n;){if(t.is(n.storedValue))return!0;n=n.parent}return!1}function kye(e,t){for(var n=Bt(e).parent;n;){if(t.is(n.storedValue))return n.storedValue;n=n.parent}throw $t("Failed to find the parent of "+Bt(e)+" of a given type")}function Dee(e){return Bt(e).root.storedValue}function Fee(e){return Bt(e).path}function Rye(e){return Fb(Bt(e).path)}function Lye(e){return Bt(e).isRoot}function $ye(e,t){var n=tte(Bt(e),t);return n?n.value:void 0}function Dye(e,t,n){var r=Bt(t).root.identifierCache.resolve(e,jy(n));return r==null?void 0:r.value}function Nee(e){return Bt(e).identifier}function Fye(e,t){t===void 0&&(t=!0);try{var n=e();if(n==null)return;if(hr(n))return t?I4(n)?n:void 0:n;throw $t("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof N4)return;throw r}}function Nye(e,t){t===void 0&&(t=!0);try{var n=e();if(n==null)return!1;if(hr(n))return t?I4(n):!0;throw $t("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof N4)return!1;throw r}}function Bee(e,t){var n=tte(Bt(e),t,!1);if(n!==void 0)try{return n.value}catch{return}}function Bye(e,t){return ete(Bt(e),Bt(t))}function jye(e,t){t===void 0&&(t=!0);var n=Bt(e);return n.type.create(n.snapshot,t===!0?n.root.environment:t===!1?void 0:t)}function zye(e){return Bt(e).detach(),e}function Hye(e){var t=Bt(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)}function I4(e){return Bt(e).observableIsAlive}function cA(e,t){var n=Bt(e);return n.addDisposer(t),t}function Vye(e){var t=Bt(e),n=t.root.environment;return n||Cm}function jee(e,t){var n=Bt(e);n.getChildren().forEach(function(r){hr(r.storedValue)&&jee(r.storedValue,t)}),t(n.storedValue)}function zee(e){var t;return hr(e)?t=P_(e):t=e,{name:t.name,properties:Ya({},t.properties)}}function Uye(e){var t=Bt(e).type,n=Ya(Ya({},zee(t)),{actions:[],volatile:[],views:[]}),r=Object.getOwnPropertyNames(e);return r.forEach(function(o){if(!(o in n.properties)){var i=Object.getOwnPropertyDescriptor(e,o);if(i.get){QJ(e,o)?n.views.push(o):n.volatile.push(o);return}i.value._isMSTAction===!0?n.actions.push(o):eee(e,o)?n.volatile.push(o):n.views.push(o)}}),n}function Gye(e){return e}function Wye(e){return e}function qye(e){return e}function Xye(e){return Bt(e).nodeId}var Hee=function(){function e(t,n,r,o){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:Ti.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=o,this.baseSetParent(n,r)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){var n=this.isAlive;this._state=t;var r=this.isAlive;this.aliveAtom&&n!==r&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this._hookSubscribers&&this._hookSubscribers.emit(t,this,t)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return this._hookSubscribers||(this._hookSubscribers=new ite),this._hookSubscribers.register(t,n)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){this._parent=t,this._subpath=n,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return t&&(this.pathAtom||(this.pathAtom=Mb("path")),this.pathAtom.reportObserved()),this.parent?(this._escapedSubpath===void 0&&(this._escapedSubpath=this._subpath?sp(this._subpath):""),this.parent.getEscapedPath(t)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.parent===null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Ti.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Ti.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=Mb("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(this.state===Ti.CREATED){if(this.parent){if(this.parent.state!==Ti.FINALIZED)return;this.fireHook(mi.afterAttach)}this.state=Ti.FINALIZED,t&&t()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Ti.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(mi.beforeDestroy)}}),e}(),Jx=function(e){Jr(t,e);function t(n,r,o,i,a){var s=e.call(this,n,r,o,i)||this;try{s.storedValue=n.createNewInstance(a)}catch(l){throw s.state=Ti.DEAD,l}return s.state=Ti.CREATED,s.finalizeCreation(),s}return Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw $t("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this.parent!==n,i=this.subpath!==r;!o&&!i||(this.environment=void 0,this.baseSetParent(this.parent,r))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+n+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===Ti.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.fireInternalHook(n)}}),t}(Hee);Jx.prototype.die=Jo(Jx.prototype.die);var Kye=1,Yye={onError:function(e){throw e}},ks=function(e){Jr(t,e);function t(n,r,o,i,a){var s=e.call(this,n,r,o,i)||this;if(Object.defineProperty(s,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++Kye}),Object.defineProperty(s,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(s,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(s,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(s,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(s,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(s,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),s._snapshotComputed=Qm(function(){return s.getSnapshot()}),s.unbox=s.unbox.bind(s),s._initialSnapshot=a,s.identifierAttribute=n.identifierAttribute,r||(s.identifierCache=new g0e),s._childNodes=n.initializeChildNodes(s,s._initialSnapshot),s.identifier=null,s.unnormalizedIdentifier=null,s.identifierAttribute&&s._initialSnapshot){var l=s._initialSnapshot[s.identifierAttribute];if(l===void 0){var c=s._childNodes[s.identifierAttribute];c&&(l=c.value)}if(typeof l!="string"&&typeof l!="number")throw $t("Instance identifier '"+s.identifierAttribute+"' for type '"+s.type.name+"' must be a string or a number");s.identifier=jy(l),s.unnormalizedIdentifier=l}return r?r.root.identifierCache.addNodeToCache(s):s.identifierCache.addNodeToCache(s),s}return Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.createObservableInstanceIfNeeded(),this._applyPatches(n)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.createObservableInstanceIfNeeded(),this._applySnapshot(n)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState===0&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n,r;this._observableInstanceState=1;for(var o=[],i=this.parent;i&&i._observableInstanceState===0;)o.unshift(i),i=i.parent;try{for(var a=lA(o),s=a.next();!s.done;s=a.next()){var l=s.value;l.createObservableInstanceIfNeeded()}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}var c=this.type;try{this.storedValue=c.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,c.finalizeNewInstance(this,this.storedValue)}catch(u){throw this.state=Ti.DEAD,u}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=Cm,this.state=Ti.CREATED,this.fireHook(mi.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var n=this.parent;return n?n.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(mi.beforeDetach);var n=this.state;this.state=Ti.DETACHING;var r=this.root,o=r.environment,i=r.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=o,this.identifierCache=i}finally{this.state=n}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=n!==this.parent,i=r!==this.subpath;!o&&!i||(o?(this.environment=void 0,n.root.identifierCache.mergeCache(this),this.baseSetParent(n,r),this.fireHook(mi.afterAttach)):i&&this.baseSetParent(this.parent,r))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this;this.fireInternalHook(n);var o=this.storedValue&&typeof this.storedValue=="object"&&this.storedValue[n];typeof o=="function"&&(Tb?Tb(function(){o.apply(r.storedValue)}):o.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?this._observableInstanceState===2?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var n=this.type,r=this._childNodes,o=this._initialSnapshot;this._cachedInitialSnapshot=n.processInitialSnapshot(r,o),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isRunningAction?!0:this.isRoot?!1:this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=Iee();if(!this.isAlive&&r!=="ignore"){var o=this._getAssertAliveError(n);switch(r){case"error":throw $t(o);case"warn":E0e(o)}}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.getEscapedPath(!1)||this.pathUponDeath||"",o=n.subpath&&sp(n.subpath)||"",i=n.actionContext||k4();i&&i.type!=="action"&&i.parentActionEvent&&(i=i.parentActionEvent);var a="";if(i&&i.name!=null){var s=i&&i.context&&Fee(i.context)||r;a=s+"."+i.name+"()"}return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+r+"', Subpath: '"+o+"', Action: '"+a+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.assertAlive({subpath:n}),this._autoUnbox=!1;try{return this._observableInstanceState===2?this.type.getChildNode(this,n):this._childNodes[n]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(Cm),this._autoUnbox=!1;try{return this._observableInstanceState===2?this.type.getChildren(this):rte(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.type.getChildType(n)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(this.assertAlive(n),!this.isRunningAction()&&this.isProtected)throw $t("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this.type.removeChild(this,n)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n&&(this.assertAlive({subpath:n.subpath||n.subpathUponDeath}),this._autoUnbox?n.value:n)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=(this.isAlive?this.path:this.pathUponDeath)||"<root>",r=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+n+r+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this.baseFinalizeCreation(function(){var r,o;try{for(var i=lA(n.getChildren()),a=i.next();!a.done;a=i.next()){var s=a.value;s.finalizeCreation()}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}n.fireInternalHook(mi.afterCreationFinalization)})}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw $t("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;this._applyPatches=ew(this.storedValue,"@APPLY_PATCHES",function(r){r.forEach(function(o){if(!o.path){n.type.applySnapshot(n,o.value);return}var i=Fb(o.path),a=nte(n,i.slice(0,-1));a.applyPatchLocally(i[i.length-1],o)})}),this._applySnapshot=ew(this.storedValue,"@APPLY_SNAPSHOT",function(r){if(r!==n.snapshot)return n.type.applySnapshot(n,r)}),Qh(this.storedValue,"$treenode",this),Qh(this.storedValue,"toJSON",b0e)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){!this.isAlive||this.state===Ti.DETACHING||(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._observableInstanceState!==0&&(this.getChildren().forEach(function(n){n.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(r){r.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var n=this.snapshot;this._snapshotUponDeath=n,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",n)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this._internalEventsEmit("snapshot",n)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._internalEventsRegister("patch",n)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(this._internalEventsHasSubscribers("patch")){var o=C0e({},n,{path:r.path.substr(this.path.length)+"/"+n.path}),i=O4(L0e(o),2),a=i[0],s=i[1];this._internalEventsEmit("patch",a,s)}this.parent&&this.parent.emitPatch(n,r)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._internalEventsHas("dispose",n)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this.hasDisposer(n)){this._internalEventsRegister("dispose",n,!0);return}throw $t("cannot add a disposer when it is already registered for execution")}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this._internalEventsHas("dispose",n))throw $t("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",n)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(this.middlewares){var r=this.middlewares.indexOf(n);r>=0&&this.middlewares.splice(r,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this;r===void 0&&(r=!0);var i={handler:n,includeHooks:r};return this.middlewares?this.middlewares.push(i):this.middlewares=[i],function(){o.removeMiddleware(i)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){this.assertWritable({subpath:n}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,n,r)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;if(!this._hasSnapshotReaction){var r=UJ(function(){return n.snapshot},function(o){return n.emitSnapshot(o)},Yye);this.addDisposer(r),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return!!this._internalEvents&&this._internalEvents.hasSubscribers(n)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o){return o===void 0&&(o=!1),this._internalEvents||(this._internalEvents=new ite),this._internalEvents.register(n,r,o)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return!!this._internalEvents&&this._internalEvents.has(n,r)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){this._internalEvents&&this._internalEvents.unregister(n,r)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(n){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];this._internalEvents&&(r=this._internalEvents).emit.apply(r,zp([n],o))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(n){this._internalEvents&&this._internalEvents.clear(n)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(Hee);ks.prototype.createObservableInstance=Jo(ks.prototype.createObservableInstance);ks.prototype.detach=Jo(ks.prototype.detach);ks.prototype.die=Jo(ks.prototype.die);var Vee,Sn;(function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"})(Sn||(Sn={}));var Uee="cannotDetermine",Zye=Symbol("$type"),Id=function(){function e(t){Object.defineProperty(this,Vee,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return Sd(this,t),this.instantiate(null,"",n,t).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){throw $t("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return t===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=Jee(t);if(r){var o=P_(t);return this.isAssignableFrom(o)?Rs():Hs(n,t)}return this.isValidSnapshot(t,n)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.validate(t,[{path:"",type:this}]).length===0}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw $t("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw $t("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw $t("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw $t("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();Vee=Zye;Id.prototype.create=Jo(Id.prototype.create);var Lb=function(e){Jr(t,e);function t(n){var r=e.call(this,n)||this;return Object.defineProperty(r,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return n===void 0&&(n=this.getDefaultSnapshot()),e.prototype.create.call(this,n,r)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.createObservableInstanceIfNeeded(),n.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return!n.identifierAttribute||n.identifier===jy(r[n.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return n.isDetaching?!1:n.snapshot===r||hr(r)&&Bt(r)===n?!0:n.type===this&&ote(r)&&!hr(r)&&this.isMatchingSnapshotId(n,r)?(n.applySnapshot(r),!0):!1}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=this.tryToReconcileNode(n,r);if(a)return n.setParent(o,i),n;if(n.die(),hr(r)&&this.isAssignableFrom(P_(r))){var s=Bt(r);return s.setParent(o,i),s}return this.instantiate(o,i,void 0,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Id);Lb.prototype.create=Jo(Lb.prototype.create);var By=function(e){Jr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){if(!n.isDetaching&&n.type===this&&n.storedValue===r)return n;var a=this.instantiate(o,i,void 0,r);return n.die(),a}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Id);function na(e){return typeof e=="object"&&e&&e.isType===!0}var Lc=new Map;function Qye(e){return function(n,r,o){switch(n.type){case"action":if(!e.filter||e.filter(n)===!0){var i=e.onStart(n);e.onResume(n,i),Lc.set(n.id,{call:n,context:i,async:!1});try{var a=r(n);return e.onSuspend(n,i),Lc.get(n.id).async===!1&&(Lc.delete(n.id),e.onSuccess(n,i,a)),a}catch(l){throw Lc.delete(n.id),e.onFail(n,i,l),l}}else return r(n);case"flow_spawn":{var s=Lc.get(n.rootId);return s.async=!0,r(n)}case"flow_resume":case"flow_resume_error":{var s=Lc.get(n.rootId);e.onResume(n,s.context);try{return r(n)}finally{e.onSuspend(n,s.context)}}case"flow_throw":{var s=Lc.get(n.rootId);return Lc.delete(n.rootId),e.onFail(n,s.context,n.args[0]),r(n)}case"flow_return":{var s=Lc.get(n.rootId);return Lc.delete(n.rootId),e.onSuccess(n,s.context,n.args[0]),r(n)}}}}var Jye=function(){function e(t,n){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),t&&t.onStart(n)}return Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,t))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0}),e}();function e0e(e){var t=new WeakMap;return function(r,o){var i=r.parentActionEvent?t.get(r.parentActionEvent):void 0;if(r.type==="action"){var a=Ya(Ya({},r),{env:i&&i.call.env,parentCall:i&&i.call}),s=!e.filter||e.filter(a),l=s?e:void 0,c=new Jye(l,a);t.set(r,c);var u=void 0;try{u=o(r)}catch(f){throw c.finish(f),f}return c.hasFlowsPending||c.finish(),u}else{if(!i)return o(r);switch(r.type){case"flow_spawn":return i.incFlowsPending(),o(r);case"flow_resume":case"flow_resume_error":return o(r);case"flow_throw":{var d=r.args[0];try{return o(r)}finally{i.decFlowsPending(),i.hasFlowsPending||i.finish(d)}}case"flow_return":try{return o(r)}finally{i.decFlowsPending(),i.hasFlowsPending||i.finish()}}}}}function t0e(e,t,n,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if(Db(r))return r;if(hr(r))return DC("[MSTNode: "+P_(r).name+"]");if(typeof r=="function")return DC("[function]");if(typeof r=="object"&&!Vh(r)&&!D4(r))return DC("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(o){return DC(""+o)}}function n0e(e,t){return t&&typeof t=="object"&&"$MST_DATE"in t?new Date(t.$MST_DATE):t}function DC(e){return{$MST_UNSERIALIZABLE:!0,type:e}}function Gee(e,t){Tb(function(){F4(t).forEach(function(n){return r0e(e,n)})})}function r0e(e,t){var n=Bee(e,t.path||"");if(!n)throw $t("Invalid action path: "+(t.path||""));var r=Bt(n);if(t.name==="@APPLY_PATCHES")return Rb.call(null,n,t.args[0]);if(t.name==="@APPLY_SNAPSHOT")return $ee.call(null,n,t.args[0]);if(typeof n[t.name]!="function")throw $t("Action '"+t.name+"' does not exist in '"+r.path+"'");return n[t.name].apply(n,t.args?t.args.map(function(o){return n0e(r,o)}):[])}function o0e(e,t){var n=[],r=function(a){var s=t?t(a,R4()):!0;s&&n.push(a)},o,i={actions:n,get recording(){return!!o},stop:function(){o&&(o(),o=void 0)},resume:function(){o||(o=Wee(e,r))},replay:function(a){Gee(a,n)}};return i.resume(),i}function Wee(e,t,n){return n===void 0&&(n=!1),Kee(e,function(o,i){if(o.type==="action"&&o.id===o.rootId){var a=Bt(o.context),s={name:o.name,path:ete(Bt(e),a),args:o.args.map(function(c,u){return t0e(a,o.name,u,c)})};if(n){var l=i(o);return t(s),l}else return t(s),i(o)}else return i(o)})}var i0e=1,fx;function k4(){return fx}function qee(){return i0e++}function TF(e,t){var n=Bt(e.context);e.type==="action"&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var o=fx;fx=e;try{return l0e(n,e,t)}finally{fx=o,n._isRunningAction=r}}function Xee(e){if(e)return e.type==="action"?e:e.parentActionEvent}function ew(e,t,n){var r=function(){var o=qee(),i=fx,a=Xee(i);return TF({type:"action",name:t,id:o,args:ate(arguments),context:e,tree:Dee(e),rootId:i?i.rootId:o,parentId:i?i.id:0,allParentIds:i?zp(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:a},n)};return r._isMSTAction=!0,r}function Kee(e,t,n){n===void 0&&(n=!0);var r=Bt(e);return r.addMiddleWare(t,n)}function a0e(e,t,n){n===void 0&&(n=!0);var r={handler:e,includeHooks:n};return t.$mst_middleware=t.$mst_middleware||[],t.$mst_middleware.push(r),t}var s0e=function(){function e(t,n){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),n.$mst_middleware&&this.middlewares.push(n.$mst_middleware);for(var r=t;r;)r.middlewares&&this.middlewares.push(r.middlewares),r=r.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this.middlewares[this.arrayIndex];if(t){var n=t[this.inArrayIndex++];return n||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),e}();function l0e(e,t,n){var r=new s0e(e,n);if(r.isEmpty)return Jo(n).apply(null,t.args);var o=null;function i(a){var s=r.getNextMiddleware(),l=s&&s.handler;if(!l)return Jo(n).apply(null,a.args);if(!s.includeHooks&&mi[a.name])return i(a);function c(d,f){o=i(d),f&&(o=f(o))}function u(d){o=d}return l(a,c,u),o}return i(t)}function R4(){for(var e=k4();e&&e.type!=="action";)e=e.parentActionEvent;return e}function Yee(e,t,n){for(var r=typeof t=="number"?t:t.id,o=n?e:e.parentActionEvent;o;){if(o.id===r)return!0;o=o.parentActionEvent}return!1}function c0e(e,t){return Yee(e,t,!1)}function u0e(e,t){return Yee(e,t,!0)}function d0e(e){try{return JSON.stringify(e)}catch(t){return"<Unserializable: "+t+">"}}function Zee(e){return typeof e=="function"?"<function"+(e.name?" "+e.name:"")+">":hr(e)?"<"+e+">":"`"+d0e(e)+"`"}function f0e(e){return e.length<280?e:e.substring(0,272)+"......"+e.substring(e.length-8)}function p0e(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map(function(s){var l=s.path;return l}).filter(function(s){return s.length>0}).join("/"),o=r.length>0?'at path "/'+r+'" ':"",i=hr(t)?"value of type "+Bt(t).type.name+":":Db(t)?"value":"snapshot",a=n&&hr(t)&&n.is(Bt(t).snapshot);return""+o+i+" "+Zee(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?bte(n)||Db(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function L4(e,t,n){return e.concat([{path:t,type:n}])}function Rs(){return $b}function Hs(e,t,n){return[{context:e,value:t,message:n}]}function cT(e){return e.reduce(function(t,n){return t.concat(n)},[])}function Sd(e,t){T0e()&&Qee(e,t)}function Qee(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw $t(h0e(e,t,n))}function h0e(e,t,n){if(n.length!==0)return"Error while converting "+f0e(Zee(t))+" to `"+e.name+`\`:

    `+n.map(p0e).join(`
    `)}var m0e=0,g0e=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:m0e++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:Ar.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:Ar.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this.lastCacheModificationPerId.get(t);this.lastCacheModificationPerId.set(t,n===void 0?1:n+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this.lastCacheModificationPerId.get(t)||0;return this.cacheId+"-"+n}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){if(n===void 0&&(n=!0),t.identifierAttribute){var r=t.identifier;this.cache.has(r)||this.cache.set(r,Ar.array([],uT));var o=this.cache.get(r);if(o.indexOf(t)!==-1)throw $t("Already registered");o.push(t),n&&this.updateLastCacheModificationPerId(r)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this;w4(t.identifierCache.cache).forEach(function(r){return r.forEach(function(o){n.addNodeToCache(o)})})}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(t.identifierAttribute){var n=t.identifier,r=this.cache.get(n);r&&(r.remove(t),r.length||this.cache.delete(n),this.updateLastCacheModificationPerId(t.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this,r=new e,o=t.path;return tee(this.cache).forEach(function(i){for(var a=O4(i,2),s=a[0],l=a[1],c=!1,u=l.length-1;u>=0;u--)l[u].path.indexOf(o)===0&&(r.addNodeToCache(l[u],!1),l.splice(u,1),c=!0);c&&n.updateLastCacheModificationPerId(s)}),r}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=this.cache.get(n);return r?r.some(function(o){return t.isAssignableFrom(o.type)}):!1}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=this.cache.get(n);if(!r)return null;var o=r.filter(function(i){return t.isAssignableFrom(i.type)});switch(o.length){case 0:return null;case 1:return o[0];default:throw $t("Cannot resolve a reference to type '"+t.name+"' with id: '"+n+"' unambigously, there are multiple candidates: "+o.map(function(i){return i.path}).join(", "))}}}),e}();function $4(e,t,n,r,o){var i=Jee(o);if(i){if(i.parent)throw $t("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+i.path+"'");return t&&i.setParent(t,n),i}return new ks(e,t,n,r,o)}function Jm(e,t,n,r,o){return new Jx(e,t,n,r,o)}function v0e(e){return e instanceof Jx||e instanceof ks}var Ti;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"})(Ti||(Ti={}));function hr(e){return!!(e&&e.$treenode)}function Bt(e){if(!hr(e))throw $t("Value "+e+" is no MST Node");return e.$treenode}function Jee(e){return e&&e.$treenode||null}function b0e(){return Bt(this).snapshot}var y0e=function(e){return".."};function ete(e,t){if(e.root!==t.root)throw $t("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var n=Fb(e.path),r=Fb(t.path),o=0;o<n.length&&n[o]===r[o];o++);return n.slice(o).map(y0e).join("/")+uA(r.slice(o))}function tte(e,t,n){return n===void 0&&(n=!0),nte(e,Fb(t),n)}function nte(e,t,n){n===void 0&&(n=!0);for(var r=e,o=0;o<t.length;o++){var i=t[o];if(i===".."){if(r=r.parent,r)continue}else{if(i===".")continue;if(r){if(r instanceof Jx)try{var a=r.value;hr(a)&&(r=Bt(a))}catch(l){if(!n)return;throw l}if(r instanceof ks){var s=r.getChildType(i);if(s&&(r=r.getChildNode(i),r))continue}}}if(n)throw $t("Could not resolve '"+i+"' in path '"+(uA(t.slice(0,o))||"/")+"' while resolving '"+uA(t)+"'");return}return r}function rte(e){if(!e)return $b;var t=Object.keys(e);if(!t.length)return $b;var n=new Array(t.length);return t.forEach(function(r,o){n[o]=e[r]}),n}function x0e(e){return ste(e)}var w0e=Object.toString(),$b=Object.freeze([]),Cm=Object.freeze({}),uT=OJ().useProxies?{deep:!1}:{deep:!1,proxy:!1};Object.freeze(uT);function $t(e){return e===void 0&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function _0e(e){return e}var S0e=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function D4(e){return Array.isArray(e)||ia(e)}function F4(e){return e?D4(e)?e:[e]:$b}function C0e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)e[i]=o[i]}return e}function Vh(e){var t;if(e===null||typeof e!="object")return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)===null||t===void 0?void 0:t.toString())===w0e}function ote(e){return e!==null&&typeof e=="object"&&!(e instanceof Date)&&!(e instanceof RegExp)}function Db(e,t){return t===void 0&&(t=!0),e==null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"||t&&e instanceof Date}function P0e(e){return typeof e!="function"}function M0e(e,t,n){ri(e)?S4(e,t,n):Object.defineProperty(e,t,n)}function Qh(e,t,n){M0e(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}var A0e=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=this;return n===void 0&&(n=!1),n?this.handlers.unshift(t):this.handlers.push(t),function(){r.unregister(t)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.handlers.indexOf(t)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this.handlers.indexOf(t);n>=0&&this.handlers.splice(n,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.handlers.slice();r.forEach(function(o){return o.apply(void 0,zp(t))})}}),e}(),ite=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=this.eventHandlers&&this.eventHandlers[t];return!!n&&n.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){r===void 0&&(r=!1),this.eventHandlers||(this.eventHandlers={});var o=this.eventHandlers[t];return o||(o=this.eventHandlers[t]=new A0e),o.register(n,r)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=this.eventHandlers&&this.eventHandlers[t];return!!r&&r.has(n)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=this.eventHandlers&&this.eventHandlers[t];r&&r.unregister(n)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.eventHandlers&&delete this.eventHandlers[t]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this.eventHandlers&&this.eventHandlers[t];i&&(n=i).emit.apply(n,zp(r))}}),e}();function ate(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function lR(e,t){return e.indexOf(t)===0}function E0e(e){console.warn(new Error("[mobx-state-tree] "+e))}function T0e(){return typeof process<"u"&&process.env&&{}.ENABLE_TYPE_CHECK==="true"}function cR(e){typeof queueMicrotask=="function"?queueMicrotask(e):typeof setImmediate=="function"?setImmediate(e):setTimeout(e,1)}function ste(e){return R0e(e.name,e)}function O0e(e){return e}function I0e(e){return function(){var t,n=[];for(t=0;t<arguments.length;t++)n[t]=arguments[t];return kee(this,function(r){switch(r.label){case 0:return[4,e.apply(void 0,zp(n))];case 1:return[2,r.sent()]}})}}function k0e(e){return kee(this,function(t){switch(t.label){case 0:return[4,e];case 1:return[2,t.sent()]}})}function R0e(e,t){var n=function(){var o=qee(),i=k4();if(!i)throw $t("a mst flow must always have a parent context");var a=Xee(i);if(!a)throw $t("a mst flow must always have a parent action context");var s={name:e,id:o,tree:i.tree,context:i.context,parentId:i.id,allParentIds:zp(i.allParentIds,[i.id]),rootId:i.rootId,parentEvent:i,parentActionEvent:a},l=arguments;function c(u,d,f){return u.$mst_middleware=n.$mst_middleware,TF(Ya(Ya({},s),{type:d,args:[f]}),u)}return new Promise(function(u,d){var f,p=function(){f=t.apply(null,arguments),h(void 0)};p.$mst_middleware=n.$mst_middleware,TF(Ya(Ya({},s),{type:"flow_spawn",args:ate(l)}),p);function h(m){var b;try{var x=c(function(y){b=f.next(y)},"flow_resume",m);x instanceof Error&&(b=f.throw(x))}catch(y){cR(function(){c(function(w){d(y)},"flow_throw",y)});return}v(b)}function g(m){var b;try{c(function(x){b=f.throw(x)},"flow_resume_error",m)}catch(x){cR(function(){c(function(y){d(x)},"flow_throw",x)});return}v(b)}function v(m){if(m.done){cR(function(){c(function(b){u(b)},"flow_return",m.value)});return}if(!m.value||typeof m.value.then!="function")throw $t("Only promises can be yielded to `async`, got: "+m);return m.value.then(h,g)}})};return n}function L0e(e){if(!("oldValue"in e))throw $t("Patches without `oldValue` field cannot be inversed");return[$0e(e),D0e(e)]}function $0e(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function D0e(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function F0e(e){return typeof e=="number"}function sp(e){return F0e(e)===!0?""+e:e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function lte(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function uA(e){if(e.length===0)return"";var t=function(n){return n.map(sp).join("/")};return e[0]==="."||e[0]===".."?t(e):"/"+t(e)}function Fb(e){var t=e.split("/").map(lte),n=e===""||e==="."||e===".."||lR(e,"/")||lR(e,"./")||lR(e,"../");if(!n)throw $t("a json path must be either rooted, empty or relative, but got '"+e+"'");return t[0]===""&&t.shift(),t}var uR=Symbol("$preProcessorFailed"),N0e=function(e){Jr(t,e);function t(n,r,o){var i=e.call(this,o||n.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._processors.preProcessor?this._processors.preProcessor.call(null,n):n}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(n){try{return this.preProcessSnapshot(n)}catch{return uR}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._processors.postProcessor?this._processors.postProcessor.call(null,n):n}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this;B0e(n.type,this,"create");var o=n.getSnapshot;n.getSnapshot=function(){return r.postProcessSnapshot(o.call(n))},xte(this._subtype)||(n.getReconciliationType=function(){return r})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=hr(i)?i:this.preProcessSnapshot(i),s=this._subtype.instantiate(n,r,o,a);return this._fixNode(s),s}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=this._subtype.reconcile(n,hr(r)?r:this.preProcessSnapshot(r),o,i);return a!==n&&this._fixNode(a),a}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){r===void 0&&(r=!0);var o=this._subtype.getSnapshot(n);return r?this.postProcessSnapshot(o):o}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this.preProcessSnapshotSafe(n);return o===uR?Hs(r,n,"Failed to preprocess value"):this._subtype.validate(o,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=na(n)?this._subtype:hr(n)?M_(n,!1):this.preProcessSnapshotSafe(n);return r===uR?!1:this._subtype.validate(r,[{path:"",type:this._subtype}]).length===0}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(!(this._subtype instanceof Lb))return!1;var o=this.preProcessSnapshot(r);return this._subtype.isMatchingSnapshotId(n,o)}}),t}(Id);function B0e(e,t){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];try{for(var a=lA(o),s=a.next();!s.done;s=a.next()){var l=s.value;e[l]=t[l].bind(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function j0e(e,t,n){return new N0e(e,t,n)}var nV="Map.put can only be used to store complex values that have an identifier type attribute";function cte(e,t){var n,r,o=e.getSubTypes();if(o===Uee)return!1;if(o){var i=F4(o);try{for(var a=lA(i),s=a.next();!s.done;s=a.next()){var l=s.value;if(!cte(l,t))return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return e instanceof tw&&t.push(e),!0}var Nf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"})(Nf||(Nf={}));var z0e=function(e){Jr(t,e);function t(n){return e.call(this,n,Ar.ref.enhancer)||this}return Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return e.prototype.get.call(this,""+n)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return e.prototype.has.call(this,""+n)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return e.prototype.delete.call(this,""+n)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return e.prototype.set.call(this,""+n,r)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!n)throw $t("Map.put cannot be used to set empty values");if(hr(n)){var r=Bt(n);if(r.identifier===null)throw $t(nV);return this.set(r.identifier,n),n}else if(ote(n)){var o=Bt(this),i=o.type;if(i.identifierMode!==Nf.YES)throw $t(nV);var a=i.mapIdentifierAttribute,s=n[a];if(!B4(s)){var l=this.put(i.getChildType().create(n,o.environment));return this.put(M_(l))}var c=jy(s);return this.set(c,n),this.get(c)}else throw $t("Map.put can only be used to store complex values")}}),t}(lT),dA=function(e){Jr(t,e);function t(n,r,o){o===void 0&&(o=[]);var i=e.call(this,n)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:Nf.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=o,i}return Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.hookInitializers.length>0?this.hookInitializers.concat(n):[n];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this._determineIdentifierMode(),$4(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===Nf.UNKNOWN){var n=[];if(cte(this._subType,n)){var r=n.reduce(function(o,i){if(!i.identifierAttribute)return o;if(o&&o!==i.identifierAttribute)throw $t("The objects in a map should all have the same identifier attribute, expected '"+o+"', but child of type '"+i.name+"' declared attribute '"+i.identifierAttribute+"' as identifier");return i.identifierAttribute},void 0);r?(this.identifierMode=Nf.YES,this.mapIdentifierAttribute=r):this.identifierMode=Nf.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){r===void 0&&(r={});var o=n.type._subType,i={};return Object.keys(r).forEach(function(a){i[a]=o.instantiate(n,a,void 0,r[a])}),i}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return new z0e(n)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){x4(r,n.unbox);var o=n.type;o.hookInitializers.forEach(function(i){var a=i(r);Object.keys(a).forEach(function(s){var l=a[s],c=ew(r,s,l);Qh(r,s,c)})}),iT(r,this.willChange),sT(r,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return w4(n.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=n.storedValue.get(""+r);if(!o)throw $t("Not a child "+r);return o}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=Bt(n.object),o=n.name;r.assertWritable({subpath:o});var i=r.type,a=i._subType;switch(n.type){case"update":{var s=n.newValue,l=n.object.get(o);if(s===l)return null;Sd(a,s),n.newValue=a.reconcile(r.getChildNode(o),n.newValue,r,o),i.processIdentifier(o,n.newValue)}break;case"add":Sd(a,n.newValue),n.newValue=a.instantiate(r,o,void 0,n.newValue),i.processIdentifier(o,n.newValue);break}return n}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(this.identifierMode===Nf.YES&&r instanceof ks){var o=r.identifier;if(o!==n)throw $t("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+o+"', but expected: '"+n+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r={};return n.getChildren().forEach(function(o){r[o.subpath]=o.snapshot}),r}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r={};return Object.keys(n).forEach(function(o){r[o]=n[o].getSnapshot()}),r}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=Bt(n.object);switch(n.type){case"update":return void r.emitPatch({op:"replace",path:sp(n.name),value:n.newValue.snapshot,oldValue:n.oldValue?n.oldValue.snapshot:void 0},r);case"add":return void r.emitPatch({op:"add",path:sp(n.name),value:n.newValue.snapshot,oldValue:void 0},r);case"delete":var o=n.oldValue.snapshot;return n.oldValue.die(),void r.emitPatch({op:"remove",path:sp(n.name),oldValue:o},r)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o){var i=n.storedValue;switch(o.op){case"add":case"replace":i.set(r,o.value);break;case"remove":i.delete(r);break}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){Sd(this,r);var o=n.storedValue,i={};if(Array.from(o.keys()).forEach(function(s){i[s]=!1}),r)for(var a in r)o.set(a,r[a]),i[""+a]=!0;Object.keys(i).forEach(function(s){i[s]===!1&&o.delete(s)})}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this;return Vh(n)?cT(Object.keys(n).map(function(i){return o._subType.validate(n[i],L4(r,i,o._subType))})):Hs(r,n,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Cm}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){n.storedValue.delete(r)}}),t}(Lb);dA.prototype.applySnapshot=Jo(dA.prototype.applySnapshot);function H0e(e){return new dA("map<string, "+e.name+">",e)}function V0e(e){return na(e)&&(e.flags&Sn.Map)>0}var fA=function(e){Jr(t,e);function t(n,r,o){o===void 0&&(o=[]);var i=e.call(this,n)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=o,i}return Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.hookInitializers.length>0?this.hookInitializers.concat(n):[n];return new t(this.name,this._subType,r)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return $4(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){r===void 0&&(r=[]);var o=n.type._subType,i={};return r.forEach(function(a,s){var l=""+s;i[l]=o.instantiate(n,l,void 0,a)}),i}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return Ar.array(rte(n),uT)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){vc(r).dehancer=n.unbox;var o=n.type;o.hookInitializers.forEach(function(i){var a=i(r);Object.keys(a).forEach(function(s){var l=a[s],c=ew(r,s,l);Qh(r,s,c)})}),iT(r,this.willChange),sT(r,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=Number(r);if(o<n.storedValue.length)return n.storedValue[o];throw $t("Not a child: "+r)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=Bt(n.object);r.assertWritable({subpath:""+n.index});var o=r.type._subType,i=r.getChildren();switch(n.type){case"update":{if(n.newValue===n.object[n.index])return null;var a=rV(r,o,[i[n.index]],[n.newValue],[n.index]);if(!a)return null;n.newValue=a[0]}break;case"splice":{var s=n.index,l=n.removedCount,c=n.added,u=rV(r,o,i.slice(s,s+l),c,c.map(function(f,p){return s+p}));if(!u)return null;n.added=u;for(var d=s+l;d<i.length;d++)i[d].setParent(r,""+(d+c.length-l))}break}return n}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.getChildren().map(function(r){return r.snapshot})}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=[];return Object.keys(n).forEach(function(o){r.push(n[o].getSnapshot())}),r}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=Bt(n.object);switch(n.type){case"update":return void r.emitPatch({op:"replace",path:""+n.index,value:n.newValue.snapshot,oldValue:n.oldValue?n.oldValue.snapshot:void 0},r);case"splice":for(var o=n.removedCount-1;o>=0;o--)r.emitPatch({op:"remove",path:""+(n.index+o),oldValue:n.removed[o].snapshot},r);for(var o=0;o<n.addedCount;o++)r.emitPatch({op:"add",path:""+(n.index+o),value:r.getChildNode(""+(n.index+o)).snapshot,oldValue:void 0},r);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o){var i=n.storedValue,a=r==="-"?i.length:Number(r);switch(o.op){case"replace":i[a]=o.value;break;case"add":i.splice(a,0,o.value);break;case"remove":i.splice(a,1);break}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){Sd(this,r);var o=n.storedValue;o.replace(r)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this;return D4(n)?cT(n.map(function(i,a){return o._subType.validate(i,L4(r,""+a,o._subType))})):Hs(r,n,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return $b}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){n.storedValue.splice(Number(r),1)}}),t}(Lb);fA.prototype.applySnapshot=Jo(fA.prototype.applySnapshot);function U0e(e){return new fA(e.name+"[]",e)}function rV(e,t,n,r,o){for(var i=!0,a=0;;a++){var s=a<=r.length-1,l=n[a],c=s?r[a]:void 0,u=""+o[a];if(v0e(c)&&(c=c.storedValue),!l&&!s)break;if(!s)i=!1,n.splice(a,1),l instanceof ks&&l.createObservableInstanceIfNeeded(),l.die(),a--;else if(l)if(oV(l,c))n[a]=dR(t,e,u,c,l);else{for(var f=void 0,p=a;p<n.length;p++)if(oV(n[p],c)){f=n.splice(p,1)[0];break}i=!1;var d=dR(t,e,u,c,f);n.splice(a,0,d)}else{if(hr(c)&&Bt(c).parent===e)throw $t("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+u+"', but it lives already at '"+Bt(c).path+"'");i=!1;var d=dR(t,e,u,c);n.splice(a,0,d)}}return i?null:n}function dR(e,t,n,r,o){Sd(e,r);function i(){if(hr(r)){var s=Bt(r);if(s.assertAlive(Cm),s.parent!==null&&s.parent===t)return s.setParent(t,n),s}return o?e.reconcile(o,r,t,n):e.instantiate(t,n,void 0,r)}var a=i();return o&&o!==a&&(o instanceof ks&&o.createObservableInstanceIfNeeded(),o.die()),a}function oV(e,t){if(!e.isAlive)return!1;if(hr(t)){var n=Bt(t);return n.isAlive&&n===e}if(e.snapshot===t)return!0;if(!(e instanceof ks))return!1;var r=e.getReconciliationType();return e.identifier!==null&&e.identifierAttribute&&Vh(t)&&r.is(t)&&r.isMatchingSnapshotId(e,t)}function G0e(e){return na(e)&&(e.flags&Sn.Array)>0}var iV="preProcessSnapshot",aV="postProcessSnapshot";function W0e(){return Bt(this).toString()}var sV={name:"AnonymousModel",properties:{},initializers:$b};function q0e(e){return Object.keys(e).reduce(function(t,n){var r,o,i;if(n in mi)throw $t("Hook '"+n+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(t,n);if("get"in a)throw $t("Getters are not supported as properties. Please use views instead");var s=a.value;if(s==null)throw $t("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(Db(s))return Object.assign({},t,(r={},r[n]=Jh(Z0e(s),s),r));if(s instanceof dA)return Object.assign({},t,(o={},o[n]=Jh(s,{}),o));if(s instanceof fA)return Object.assign({},t,(i={},i[n]=Jh(s,[]),i));if(na(s))return t;throw $t("Invalid type definition for property '"+n+"', cannot infer a type from a value like '"+s+"' ("+typeof s+")")},e)}var tw=function(e){Jr(t,e);function t(n){var r=e.call(this,n.name||sV.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return r.cloneAndEnhance({name:o})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return r.cloneAndEnhance({properties:o})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(o){var i=r.preProcessor;return i?r.cloneAndEnhance({preProcessor:function(a){return i(o(a))}}):r.cloneAndEnhance({preProcessor:o})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(o){var i=r.postProcessor;return i?r.cloneAndEnhance({postProcessor:function(a){return o(i(a))}}):r.cloneAndEnhance({postProcessor:o})}}),Object.assign(r,sV,n),r.properties=q0e(r.properties),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=void 0;return this.forAllProps(function(r,o){if(o.flags&Sn.Identifier){if(n)throw $t("Cannot define property '"+r+"' as object identifier, property '"+n+"' is already defined as identifier property");n=r}}),n}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return new t({name:n.name||this.name,properties:Object.assign({},this.properties,n.properties),initializers:this.initializers.concat(n.initializers||[]),preProcessor:n.preProcessor||this.preProcessor,postProcessor:n.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=function(i){return r.instantiateActions(i,n(i)),i};return this.cloneAndEnhance({initializers:[o]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(!Vh(r))throw $t("actions initializer should return a plain object containing actions");Object.keys(r).forEach(function(o){if(o===iV)throw $t("Cannot define action '"+iV+"', it should be defined using 'type.preProcessSnapshot(fn)' instead");if(o===aV)throw $t("Cannot define action '"+aV+"', it should be defined using 'type.postProcessSnapshot(fn)' instead");var i=r[o],a=n[o];if(o in mi&&a){var s=i;i=function(){a.apply(null,arguments),s.apply(null,arguments)}}var l=i.$mst_middleware,c=i.bind(r);c.$mst_middleware=l;var u=ew(n,o,c);r[o]=u,Qh(n,o,u)})}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this;if(typeof n!="function")throw $t("You passed an "+typeof n+" to volatile state as an argument, when function is expected");var o=function(i){return r.instantiateVolatileState(i,n(i)),i};return this.cloneAndEnhance({initializers:[o]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(!Vh(r))throw $t("volatile state initializer should return a plain object containing state");_4(n,r)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=function(i){var a=n(i),s=a.actions,l=a.views,c=a.state,u=Sye(a,["actions","views","state"]);for(var d in u)throw $t("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+d+"'");return c&&r.instantiateVolatileState(i,c),l&&r.instantiateViews(i,l),s&&r.instantiateActions(i,s),i};return this.cloneAndEnhance({initializers:[o]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=function(i){return r.instantiateViews(i,n(i)),i};return this.cloneAndEnhance({initializers:[o]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(!Vh(r))throw $t("views initializer should return a plain object containing views");Object.getOwnPropertyNames(r).forEach(function(o){var i,a=Object.getOwnPropertyDescriptor(r,o);if("get"in a)S4(n,o,a),C4(n,(i={},i[o]=Qm,i));else if(typeof a.value=="function")Qh(n,o,a.value);else throw $t("A view member should either be a function or getter based property")})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=hr(i)?i:this.applySnapshotPreProcessor(i);return $4(this,n,r,o,a)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){r===void 0&&(r={});var o=n.type,i={};return o.forAllProps(function(a,s){i[a]=s.instantiate(n,a,void 0,r[a])}),i}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return Ar.object(n,Cm,uT)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){Qh(r,"toString",W0e),this.forAllProps(function(o){x4(r,o,n.unbox)}),this.initializers.reduce(function(o,i){return i(o)},r),iT(r,this.willChange),sT(r,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=n,o=Bt(r.object),i=r.name;o.assertWritable({subpath:i});var a=o.type.properties[i];return a&&(Sd(a,r.newValue),r.newValue=a.reconcile(o.getChildNode(i),r.newValue,o,i)),r}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=n,o=Bt(r.object),i=o.type.properties[r.name];if(i){var a=r.oldValue?r.oldValue.snapshot:void 0;o.emitPatch({op:"replace",path:sp(r.name),value:r.newValue.snapshot,oldValue:a},o)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this,o=[];return this.forAllProps(function(i){o.push(r.getChildNode(n,i))}),o}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(!(r in this.properties))throw $t("Not a value property: "+r);var o=vc(n.storedValue,r),i=o.raw();if(!i)throw $t("Node not available for property "+r);return i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this;r===void 0&&(r=!0);var i={};return this.forAllProps(function(a,s){Cl(n.storedValue,a).reportObserved(),i[a]=o.getChildNode(n,a).snapshot}),r?this.applySnapshotPostProcessor(i):i}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r={};return Object.keys(n).forEach(function(o){r[o]=n[o].getSnapshot()}),this.applySnapshotPostProcessor(r)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o){if(!(o.op==="replace"||o.op==="add"))throw $t("object does not support operation "+o.op);n.storedValue[r]=o.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){Sd(this,r);var o=this.applySnapshotPreProcessor(r);this.forAllProps(function(i){n.storedValue[i]=o[i]})}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.preProcessor;return r?r.call(null,n):n}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.postProcessor;return r?r.call(null,n):n}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.properties[n]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this,i=this.applySnapshotPreProcessor(n);return Vh(i)?cT(this.propertyNames.map(function(a){return o.properties[a].validate(i[a],L4(r,a,o.properties[a]))})):Hs(r,i,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this;this.propertyNames.forEach(function(o){return n(o,r.properties[o])})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this;return"{ "+this.propertyNames.map(function(r){return r+": "+n.properties[r].describe()}).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Cm}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){n.storedValue[r]=void 0}}),t}(Lb);tw.prototype.applySnapshot=Jo(tw.prototype.applySnapshot);function X0e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=typeof e[0]=="string"?e.shift():"AnonymousModel",r=e.shift()||{};return new tw({name:n,properties:r})}function K0e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=typeof e[0]=="string",r=n?e[0]:"AnonymousModel";return n&&e.shift(),e.reduce(function(o,i){return o.cloneAndEnhance({name:o.name+"_"+i.name,properties:i.properties,initializers:i.initializers,preProcessor:function(a){return i.applySnapshotPreProcessor(o.applySnapshotPreProcessor(a))},postProcessor:function(a){return i.applySnapshotPostProcessor(o.applySnapshotPostProcessor(a))}})}).named(r)}function ute(e){return na(e)&&(e.flags&Sn.Object)>0}var eg=function(e){Jr(t,e);function t(n,r,o,i){i===void 0&&(i=_0e);var a=e.call(this,n)||this;return Object.defineProperty(a,"flags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"checker",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(a,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),a.flags=r,a}return Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return Jm(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.initializer(n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(Db(n)&&this.checker(n))return Rs();var o=this.name==="Date"?"Date or a unix milliseconds timestamp":this.name;return Hs(r,n,"Value is not a "+o)}}),t}(By),dte=new eg("string",Sn.String,function(e){return typeof e=="string"}),fte=new eg("number",Sn.Number,function(e){return typeof e=="number"}),Y0e=new eg("integer",Sn.Integer,function(e){return S0e(e)}),pte=new eg("boolean",Sn.Boolean,function(e){return typeof e=="boolean"}),hte=new eg("null",Sn.Null,function(e){return e===null}),mte=new eg("undefined",Sn.Undefined,function(e){return e===void 0}),gte=new eg("Date",Sn.Date,function(e){return typeof e=="number"||e instanceof Date},function(e){return e instanceof Date?e:new Date(e)});gte.getSnapshot=function(e){return e.storedValue.getTime()};var vte=gte;function Z0e(e){switch(typeof e){case"string":return dte;case"number":return fte;case"boolean":return pte;case"object":if(e instanceof Date)return vte}throw $t("Cannot determine primitive type from value "+e)}function bte(e){return na(e)&&(e.flags&(Sn.String|Sn.Number|Sn.Integer|Sn.Boolean|Sn.Date))>0}var Q0e=function(e){Jr(t,e);function t(n){var r=e.call(this,JSON.stringify(n))||this;return Object.defineProperty(r,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Literal}),r.value=n,r}return Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return Jm(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return Db(n)&&n===this.value?Rs():Hs(r,n,"Value is not a literal "+JSON.stringify(this.value))}}),t}(By);function yte(e){return new Q0e(e)}function J0e(e){return na(e)&&(e.flags&Sn.Literal)>0}var e1e=function(e){Jr(t,e);function t(n,r,o,i){var a=e.call(this,n)||this;return Object.defineProperty(a,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(a,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(a,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this._subtype.instantiate(n,r,o,i)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this._subtype.validate(n,r);if(o.length>0)return o;var i=hr(n)?Bt(n).snapshot:n;return this._predicate(i)?Rs():Hs(r,n,this._message(n))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this._subtype.reconcile(n,r,o,i)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Id);function t1e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=typeof e[0]=="string"?e.shift():na(e[0])?e[0].name:null,r=e[0],o=e[1],i=e[2]?e[2]:function(a){return"Value does not respect the refinement predicate"};return new e1e(n,r,o,i)}function n1e(e){return(e.flags&Sn.Refinement)>0}function r1e(e,t){var n=typeof e=="string"?t:e,r=dT.apply(void 0,zp(n.map(function(o){return yte(""+o)})));return typeof e=="string"&&(r.name=e),r}var o1e=function(e){Jr(t,e);function t(n,r,o){var i=e.call(this,n)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),o=Ya({eager:!0,dispatcher:void 0},o),i._dispatcher=o.dispatcher,o.eager||(i._eager=!1),i}return Object.defineProperty(t.prototype,"flags",{get:function(){var n=Sn.Union;return this._types.forEach(function(r){n|=r.flags}),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._types.some(function(r){return r.isAssignableFrom(n)})}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(n){return n.describe()}).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=this.determineType(i,void 0);if(!a)throw $t("No matching type for union "+this.describe());return a.instantiate(n,r,o,i)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=this.determineType(r,n.getReconciliationType());if(!a)throw $t("No matching type for union "+this.describe());return a.reconcile(n,r,o,i)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return this._dispatcher?this._dispatcher(n):r?r.is(n)?r:this._types.filter(function(o){return o!==r}).find(function(o){return o.is(n)}):this._types.find(function(o){return o.is(n)})}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(this._dispatcher)return this._dispatcher(n).validate(n,r);for(var o=[],i=0,a=0;a<this._types.length;a++){var s=this._types[a],l=s.validate(n,r);if(l.length===0){if(this._eager)return Rs();i++}else o.push(l)}return i===1?Rs():Hs(r,n,"No type is applicable for the union").concat(cT(o))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(Id);function dT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=na(e)?void 0:e,o=na(e)?zp([e],t):t,i="("+o.map(function(a){return a.name}).join(" | ")+")";return new o1e(i,o,r)}function xte(e){return(e.flags&Sn.Union)>0}var i1e=function(e){Jr(t,e);function t(n,r,o){var i=e.call(this,n.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:o}),i}return Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|Sn.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){if(this.optionalValues.indexOf(i)>=0){var a=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(n,r,o,a)}return this._subtype.instantiate(n,r,o,i)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this._subtype.reconcile(n,this.optionalValues.indexOf(r)<0&&this._subtype.is(r)?r:this.getDefaultInstanceOrSnapshot(),o,i)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=typeof this._defaultValue=="function"?this._defaultValue():this._defaultValue;return typeof this._defaultValue=="function"&&Sd(this,n),n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return this.optionalValues.indexOf(n)>=0?Rs():this._subtype.validate(n,r)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this._subtype.isAssignableFrom(n)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Id);function a1e(e,t){if(typeof t!="function"&&hr(t))throw $t("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead")}function Jh(e,t,n){return a1e(e,t),new i1e(e,t,n||s1e)}var s1e=[void 0];function l1e(e){return na(e)&&(e.flags&Sn.Optional)>0}var c1e=Jh(mte,void 0),u1e=Jh(hte,null);function wte(e){return dT(e,c1e)}function d1e(e){return dT(e,u1e)}var f1e=function(e){Jr(t,e);function t(n,r){var o=e.call(this,n)||this;return Object.defineProperty(o,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o}return Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|Sn.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(!this._subType){var r=void 0;try{r=this._definition()}catch(o){if(o instanceof ReferenceError)r=void 0;else throw o}if(n&&r===void 0)throw $t("Late type seems to be used too early, the definition (still) returns undefined");r&&(this._subType=r)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this.getSubType(!0).instantiate(n,r,o,i)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return this.getSubType(!0).reconcile(n,r,o,i)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.getSubType(!1);return n?n.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this.getSubType(!1);return o?o.validate(n,r):Rs()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=this.getSubType(!1);return r?r.isAssignableFrom(n):!1}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var n=this.getSubType(!1);return n||Uee}}),t}(Id);function p1e(e,t){var n=typeof e=="string"?e:"late("+e.toString()+")",r=typeof e=="string"?t:e;return new f1e(n,r)}function h1e(e){return na(e)&&(e.flags&Sn.Late)>0}var _te=function(e){Jr(t,e);function t(n){var r=e.call(this,n?"frozen("+n.name+")":"frozen")||this;return Object.defineProperty(r,"subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Frozen}),r}return Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){return Jm(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return P0e(n)?this.subType?this.subType.validate(n,r):Rs():Hs(r,n,"Value is not serializable and cannot be frozen")}}),t}(By),lV=new _te;function m1e(e){return arguments.length===0?lV:na(e)?new _te(e):Jh(lV,e)}function g1e(e){return na(e)&&(e.flags&Sn.Frozen)>0}function v1e(e){switch(e){case mi.beforeDestroy:return"destroy";case mi.beforeDetach:return"detach";default:return}}var b1e=function(){function e(t,n){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),B4(t))this.identifier=t;else if(hr(t)){var r=Bt(t);if(!r.identifierAttribute)throw $t("Can only store references with a defined identifier attribute.");var o=r.unnormalizedIdentifier;if(o==null)throw $t("Can only store references to tree nodes with a defined identifier.");this.identifier=o}else throw $t("Can only store references to tree nodes or identifiers, got: '"+t+"'")}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=jy(this.identifier),r=t.root,o=r.identifierCache.getLastCacheModificationPerId(n);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==o){var i=this.targetType,a=r.identifierCache.resolve(i,n);if(!a)throw new N4("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+t.path+")");this.resolvedReference={node:a,lastCacheModification:o}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),N4=function(e){Jr(t,e);function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Error),Ste=function(e){Jr(t,e);function t(n,r){var o=e.call(this,"reference("+n.name+")")||this;return Object.defineProperty(o,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Reference}),o}return Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.targetType.isAssignableFrom(n)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return B4(n)?Rs():Hs(r,n,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=r.parent;if(!(!a||!a.isAlive)){var s=a.storedValue;s&&this.onInvalidated({cause:n,parent:s,invalidTarget:i?i.storedValue:void 0,invalidId:o,replaceRef:function(l){Rb(r.root.storedValue,{op:"replace",value:l,path:r.path})},removeRef:function(){ute(a.type)?this.replaceRef(void 0):Rb(r.root.storedValue,{op:"remove",path:r.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){var o=this,i=this.getValue(n);if(i){var a=Bt(i),s=function(u,d){var f=v1e(d);f&&o.fireInvalidated(f,n,r,a)},l=a.registerHook(mi.beforeDetach,s),c=a.registerHook(mi.beforeDestroy,s);return function(){l(),c()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o){var i=this;if(this.onInvalidated){var a;n.registerHook(mi.beforeDestroy,function(){a&&a()});var s=function(l){a&&a();var c=n.parent,u=c&&c.storedValue;if(c&&c.isAlive&&u){var d=void 0;o?d=!!o.get(r,u):d=n.root.identifierCache.has(i.targetType,jy(r)),d?a=i.addTargetNodeWatcher(n,r):l||i.fireInvalidated("invalidSnapshotReference",n,r,null)}};n.state===Ti.FINALIZED?s(!0):(n.isRoot||n.root.registerHook(mi.afterCreationFinalization,function(){n.parent&&n.parent.createObservableInstanceIfNeeded()}),n.registerHook(mi.afterAttach,function(){s(!1)}))}}}),t}(By),y1e=function(e){Jr(t,e);function t(n,r){return e.call(this,n,r)||this}return Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n.isAlive){var r=n.storedValue;return r.resolvedValue}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=n.storedValue;return r.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=hr(i)?Nee(i):i,s=new b1e(i,this.targetType),l=Jm(this,n,r,o,s);return s.node=l,this.watchTargetNodeForInvalidations(l,a,void 0),l}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){if(!n.isDetaching&&n.type===this){var a=hr(r),s=n.storedValue;if(!a&&s.identifier===r||a&&s.resolvedValue===r)return n.setParent(o,i),n}var l=this.instantiate(o,i,void 0,r);return n.die(),l}}),t}(Ste),x1e=function(e){Jr(t,e);function t(n,r,o){var i=e.call(this,n,o)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(n){if(n.isAlive){var r=this.options.get(n.storedValue,n.parent?n.parent.storedValue:null);return r}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=hr(i)?this.options.set(i,n?n.storedValue:null):i,s=Jm(this,n,r,o,a);return this.watchTargetNodeForInvalidations(s,a,this.options),s}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=hr(r)?this.options.set(r,n?n.storedValue:null):r;if(!n.isDetaching&&n.type===this&&n.storedValue===a)return n.setParent(o,i),n;var s=this.instantiate(o,i,void 0,a);return n.die(),s}}),t}(Ste);function Cte(e,t){var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new x1e(e,{get:n.get,set:n.set},r):new y1e(e,r)}function w1e(e){return(e.flags&Sn.Reference)>0}function _1e(e,t){var n=Cte(e,Ya(Ya({},t),{onInvalidated:function(r){t&&t.onInvalidated&&t.onInvalidated(r),r.removeRef()}}));return t&&t.acceptsUndefined===!1?n:wte(n)}var Pte=function(e){Jr(t,e);function t(n,r){var o=e.call(this,n)||this;return Object.defineProperty(o,"validType",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Identifier}),o}return Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){if(!n||!(n.type instanceof tw))throw $t("Identifier types can only be instantiated as direct child of a model type");return Jm(this,n,r,o,i)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){if(n.storedValue!==r)throw $t("Tried to change identifier from '"+n.storedValue+"' to '"+r+"'. Changing identifiers is not allowed.");return n.setParent(o,i),n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){return typeof n!==this.validType?Hs(r,n,"Value is not a valid "+this.describe()+", expected a "+this.validType):Rs()}}),t}(By),S1e=function(e){Jr(t,e);function t(){var n=e.call(this,"identifier","string")||this;return Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Identifier}),n}return Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(Pte),C1e=function(e){Jr(t,e);function t(){return e.call(this,"identifierNumber","number")||this}return Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return n.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(Pte),P1e=new S1e,M1e=new C1e;function A1e(e){return na(e)&&(e.flags&Sn.Identifier)>0}function jy(e){return""+e}function B4(e){return typeof e=="string"||typeof e=="number"}function E1e(e){return new T1e(e)}var T1e=function(e){Jr(t,e);function t(n){var r=e.call(this,n.name)||this;return Object.defineProperty(r,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:Sn.Custom}),r}return Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r){if(this.options.isTargetType(n))return Rs();var o=this.options.getValidationMessage(n);return o?Hs(r,n,"Invalid value for type '"+this.name+"': "+o):Rs()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(n){return this.options.toSnapshot(n.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=this.options.isTargetType(i)?i:this.options.fromSnapshot(i,n&&n.root.environment);return Jm(this,n,r,o,a)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(n,r,o,i){var a=!this.options.isTargetType(r);if(!n.isDetaching){var s=n.type===this&&(a?r===n.snapshot:r===n.storedValue);if(s)return n.setParent(o,i),n}var l=a?this.options.fromSnapshot(r,o.root.environment):r,c=this.instantiate(o,i,void 0,l);return n.die(),c}}),t}(By),Qt={enumeration:r1e,model:X0e,compose:K0e,custom:E1e,reference:Cte,safeReference:_1e,union:dT,optional:Jh,literal:yte,maybe:wte,maybeNull:d1e,refinement:t1e,string:dte,boolean:pte,number:fte,integer:Y0e,Date:vte,map:H0e,array:U0e,frozen:m1e,identifier:P1e,identifierNumber:M1e,late:p1e,undefined:mte,null:hte,snapshotProcessor:j0e};const O1e=Object.freeze(Object.defineProperty({__proto__:null,addDisposer:cA,addMiddleware:Kee,applyAction:Gee,applyPatch:Rb,applySnapshot:$ee,cast:Gye,castFlowReturn:O0e,castToReferenceSnapshot:qye,castToSnapshot:Wye,clone:jye,createActionTrackingMiddleware:Qye,createActionTrackingMiddleware2:e0e,decorate:a0e,destroy:Hye,detach:zye,escapeJsonPath:sp,flow:ste,getChildType:Cye,getEnv:Vye,getIdentifier:Nee,getLivelinessChecking:Iee,getMembers:Uye,getNodeId:Xye,getParent:Oye,getParentOfType:kye,getPath:Fee,getPathParts:Rye,getPropertyMembers:zee,getRelativePath:Bye,getRoot:Dee,getRunningActionContext:R4,getSnapshot:M_,getType:P_,hasParent:Tye,hasParentOfType:Iye,isActionContextChildOf:c0e,isActionContextThisOrChildOf:u0e,isAlive:I4,isArrayType:G0e,isFrozenType:g1e,isIdentifierType:A1e,isLateType:h1e,isLiteralType:J0e,isMapType:V0e,isModelType:ute,isOptionalType:l1e,isPrimitiveType:bte,isProtected:Eye,isReferenceType:w1e,isRefinementType:n1e,isRoot:Lye,isStateTreeNode:hr,isType:na,isUnionType:xte,isValidReference:Nye,joinJsonPath:uA,onAction:Wee,onPatch:Ree,onSnapshot:Lee,process:x0e,protect:Mye,recordActions:o0e,recordPatches:Pye,resolveIdentifier:Dye,resolvePath:$ye,setLivelinessChecking:Oee,setLivelynessChecking:_ye,splitJsonPath:Fb,toGenerator:k0e,toGeneratorFunction:I0e,tryReference:Fye,tryResolve:Bee,typecheck:Qee,types:Qt,unescapeJsonPath:lte,unprotect:Aye,walk:jee},Symbol.toStringTag,{value:"Module"})),I1e={black:"#000",white:"#fff"},Nb=I1e,k1e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wh=k1e,R1e={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},L1e=R1e,$1e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_h=$1e,D1e={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},F1e=D1e,N1e={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},B1e=N1e,j1e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Sh=j1e,z1e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ch=z1e,H1e={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},V1e=H1e,U1e={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},G1e=U1e,W1e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ph=W1e,q1e={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},X1e=q1e,K1e={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},Y1e=K1e,Z1e={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},Q1e=Z1e,J1e={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},exe=J1e,txe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},sv=txe,nxe={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},rxe=nxe,oxe={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},ixe=oxe,axe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Mte=axe,sxe={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"},lxe=sxe,Ate=Object.freeze(Object.defineProperty({__proto__:null,amber:exe,blue:Sh,blueGrey:lxe,brown:ixe,common:Nb,cyan:V1e,deepOrange:rxe,deepPurple:F1e,green:Ph,grey:Mte,indigo:B1e,lightBlue:Ch,lightGreen:X1e,lime:Y1e,orange:sv,pink:L1e,purple:_h,red:wh,teal:G1e,yellow:Q1e},Symbol.toStringTag,{value:"Module"}));function fR(e,t){return()=>null}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}const cxe=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));function Rh(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function Ete(e){if(!Rh(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Ete(e[n])}),t}function jo(e,t,n={clone:!0}){const r=n.clone?A({},e):e;return Rh(e)&&Rh(t)&&Object.keys(t).forEach(o=>{o!=="__proto__"&&(Rh(t[o])&&o in e&&Rh(e[o])?r[o]=jo(e[o],t[o],n):n.clone?r[o]=Rh(t[o])?Ete(t[o]):t[o]:r[o]=t[o])}),r}var Tte={exports:{}},uxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dxe=uxe,fxe=dxe;function Ote(){}function Ite(){}Ite.resetWarningCache=Ote;var pxe=function(){function e(r,o,i,a,s,l){if(l!==fxe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ite,resetWarningCache:Ote};return n.PropTypes=n,n};Tte.exports=pxe();var kte=Tte.exports;const nt=Pc(kte);function os(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var Or={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4=Symbol.for("react.element"),z4=Symbol.for("react.portal"),fT=Symbol.for("react.fragment"),pT=Symbol.for("react.strict_mode"),hT=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),hxe=Symbol.for("react.server_context"),vT=Symbol.for("react.forward_ref"),bT=Symbol.for("react.suspense"),yT=Symbol.for("react.suspense_list"),xT=Symbol.for("react.memo"),wT=Symbol.for("react.lazy"),mxe=Symbol.for("react.offscreen"),Rte;Rte=Symbol.for("react.module.reference");function Il(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case j4:switch(e=e.type,e){case fT:case hT:case pT:case bT:case yT:return e;default:switch(e=e&&e.$$typeof,e){case hxe:case gT:case vT:case wT:case xT:case mT:return e;default:return t}}case z4:return t}}}Or.ContextConsumer=gT;Or.ContextProvider=mT;Or.Element=j4;Or.ForwardRef=vT;Or.Fragment=fT;Or.Lazy=wT;Or.Memo=xT;Or.Portal=z4;Or.Profiler=hT;Or.StrictMode=pT;Or.Suspense=bT;Or.SuspenseList=yT;Or.isAsyncMode=function(){return!1};Or.isConcurrentMode=function(){return!1};Or.isContextConsumer=function(e){return Il(e)===gT};Or.isContextProvider=function(e){return Il(e)===mT};Or.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===j4};Or.isForwardRef=function(e){return Il(e)===vT};Or.isFragment=function(e){return Il(e)===fT};Or.isLazy=function(e){return Il(e)===wT};Or.isMemo=function(e){return Il(e)===xT};Or.isPortal=function(e){return Il(e)===z4};Or.isProfiler=function(e){return Il(e)===hT};Or.isStrictMode=function(e){return Il(e)===pT};Or.isSuspense=function(e){return Il(e)===bT};Or.isSuspenseList=function(e){return Il(e)===yT};Or.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fT||e===hT||e===pT||e===bT||e===yT||e===mxe||typeof e=="object"&&e!==null&&(e.$$typeof===wT||e.$$typeof===xT||e.$$typeof===mT||e.$$typeof===gT||e.$$typeof===vT||e.$$typeof===Rte||e.getModuleId!==void 0)};Or.typeOf=Il;function Be(e){if(typeof e!="string")throw new Error(os(7));return e.charAt(0).toUpperCase()+e.slice(1)}function nw(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function bc(e,t=166){let n;function r(...o){const i=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(i,t)}return r.clear=()=>{clearTimeout(n)},r}function Lte(e,t){return()=>null}function vu(e,t){return C.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Kn(e){return e&&e.ownerDocument||document}function ei(e){return Kn(e).defaultView||window}function $te(e,t){return()=>null}function Bb(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const gxe=typeof window<"u"?C.useLayoutEffect:C.useEffect,ar=gxe;let cV=0;function vxe(e){const[t,n]=C.useState(e),r=e||t;return C.useEffect(()=>{t==null&&(cV+=1,n(`mui-${cV}`))},[t]),r}const uV=AM["useId"];function fr(e){if(uV!==void 0){const t=uV();return e??t}return vxe(e)}function Dte(e,t,n,r,o){return null}function xa({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=C.useRef(e!==void 0),[i,a]=C.useState(t),s=o?e:i,l=C.useCallback(c=>{o||a(c)},[]);return[s,l]}function Dn(e){const t=C.useRef(e);return ar(()=>{t.current=e}),C.useCallback((...n)=>(0,t.current)(...n),[])}function wn(...e){return C.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Bb(n,t)})},e)}let _T=!0,OF=!1,dV;const bxe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function yxe(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&bxe[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function xxe(e){e.metaKey||e.altKey||e.ctrlKey||(_T=!0)}function pR(){_T=!1}function wxe(){this.visibilityState==="hidden"&&OF&&(_T=!0)}function _xe(e){e.addEventListener("keydown",xxe,!0),e.addEventListener("mousedown",pR,!0),e.addEventListener("pointerdown",pR,!0),e.addEventListener("touchstart",pR,!0),e.addEventListener("visibilitychange",wxe,!0)}function Sxe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return _T||yxe(t)}function tg(){const e=C.useCallback(o=>{o!=null&&_xe(o.ownerDocument)},[]),t=C.useRef(!1);function n(){return t.current?(OF=!0,window.clearTimeout(dV),dV=window.setTimeout(()=>{OF=!1},100),t.current=!1,!0):!1}function r(o){return Sxe(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function Fte(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let Eg;function Nte(){if(Eg)return Eg;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Eg="reverse",e.scrollLeft>0?Eg="default":(e.scrollLeft=1,e.scrollLeft===0&&(Eg="negative")),document.body.removeChild(e),Eg}function fV(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(Nte()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}const Cxe=e=>{const t=C.useRef({});return C.useEffect(()=>{t.current=e}),t.current},H4=Cxe,Pxe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},Bte=Pxe;function V4(e,t){const n=A({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=A({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},!i||!Object.keys(i)?n[r]=o:!o||!Object.keys(o)?n[r]=i:(n[r]=A({},i),Object.keys(o).forEach(a=>{n[r][a]=V4(o[a],i[a])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function Qe(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((i,a)=>{if(a){const s=t(a);s!==""&&i.push(s),n&&n[a]&&i.push(n[a])}return i},[]).join(" ")}),r}const pV=e=>e,Mxe=()=>{let e=pV;return{configure(t){e=t},generate(t){return e(t)},reset(){e=pV}}},Axe=Mxe(),U4=Axe,Exe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function lt(e,t,n="Mui"){const r=Exe[t];return r?`${n}-${r}`:`${U4.generate(e)}-${t}`}function ut(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=lt(e,o,n)}),r}const Su="$$material";function De(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function jte(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Txe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Oxe=jte(function(e){return Txe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function Ixe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function kxe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Rxe=function(){function e(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kxe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Ixe(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",pA="-moz-",nr="-webkit-",zte="comm",G4="rule",W4="decl",Lxe="@import",Hte="@keyframes",$xe=Math.abs,ST=String.fromCharCode,Dxe=Object.assign;function Fxe(e,t){return Oi(e,0)^45?(((t<<2^Oi(e,0))<<2^Oi(e,1))<<2^Oi(e,2))<<2^Oi(e,3):0}function Vte(e){return e.trim()}function Nxe(e,t){return(e=t.exec(e))?e[0]:e}function rr(e,t,n){return e.replace(t,n)}function IF(e,t){return e.indexOf(t)}function Oi(e,t){return e.charCodeAt(t)|0}function rw(e,t,n){return e.slice(t,n)}function eu(e){return e.length}function q4(e){return e.length}function FC(e,t){return t.push(e),e}function Bxe(e,t){return e.map(t).join("")}var CT=1,jb=1,Ute=0,is=0,$o=0,zy="";function PT(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:CT,column:jb,length:a,return:""}}function N0(e,t){return Dxe(PT("",null,null,"",null,null,0),e,{length:-e.length},t)}function jxe(){return $o}function zxe(){return $o=is>0?Oi(zy,--is):0,jb--,$o===10&&(jb=1,CT--),$o}function Es(){return $o=is<Ute?Oi(zy,is++):0,jb++,$o===10&&(jb=1,CT++),$o}function bu(){return Oi(zy,is)}function jP(){return is}function A_(e,t){return rw(zy,e,t)}function ow(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gte(e){return CT=jb=1,Ute=eu(zy=e),is=0,[]}function Wte(e){return zy="",e}function zP(e){return Vte(A_(is-1,kF(e===91?e+2:e===40?e+1:e)))}function Hxe(e){for(;($o=bu())&&$o<33;)Es();return ow(e)>2||ow($o)>3?"":" "}function Vxe(e,t){for(;--t&&Es()&&!($o<48||$o>102||$o>57&&$o<65||$o>70&&$o<97););return A_(e,jP()+(t<6&&bu()==32&&Es()==32))}function kF(e){for(;Es();)switch($o){case e:return is;case 34:case 39:e!==34&&e!==39&&kF($o);break;case 40:e===41&&kF(e);break;case 92:Es();break}return is}function Uxe(e,t){for(;Es()&&e+$o!==47+10;)if(e+$o===42+42&&bu()===47)break;return"/*"+A_(t,is-1)+"*"+ST(e===47?e:Es())}function Gxe(e){for(;!ow(bu());)Es();return A_(e,is)}function Wxe(e){return Wte(HP("",null,null,null,[""],e=Gte(e),0,[0],e))}function HP(e,t,n,r,o,i,a,s,l){for(var c=0,u=0,d=a,f=0,p=0,h=0,g=1,v=1,m=1,b=0,x="",y=o,w=i,_=r,S=x;v;)switch(h=b,b=Es()){case 40:if(h!=108&&Oi(S,d-1)==58){IF(S+=rr(zP(b),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=zP(b);break;case 9:case 10:case 13:case 32:S+=Hxe(h);break;case 92:S+=Vxe(jP()-1,7);continue;case 47:switch(bu()){case 42:case 47:FC(qxe(Uxe(Es(),jP()),t,n),l);break;default:S+="/"}break;case 123*g:s[c++]=eu(S)*m;case 125*g:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+u:m==-1&&(S=rr(S,/\f/g,"")),p>0&&eu(S)-d&&FC(p>32?mV(S+";",r,n,d-1):mV(rr(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(FC(_=hV(S,t,n,c,u,o,s,x,y=[],w=[],d),i),b===123)if(u===0)HP(S,t,_,_,y,i,d,s,w);else switch(f===99&&Oi(S,3)===110?100:f){case 100:case 109:case 115:HP(e,_,_,r&&FC(hV(e,_,_,0,0,o,s,x,o,y=[],d),w),o,w,d,s,r?y:w);break;default:HP(S,_,_,_,[""],w,0,s,w)}}c=u=p=0,g=m=1,x=S="",d=a;break;case 58:d=1+eu(S),p=h;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&zxe()==125)continue}switch(S+=ST(b),b*g){case 38:m=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(eu(S)-1)*m,m=1;break;case 64:bu()===45&&(S+=zP(Es())),f=bu(),u=d=eu(x=S+=Gxe(jP())),b++;break;case 45:h===45&&eu(S)==2&&(g=0)}}return i}function hV(e,t,n,r,o,i,a,s,l,c,u){for(var d=o-1,f=o===0?i:[""],p=q4(f),h=0,g=0,v=0;h<r;++h)for(var m=0,b=rw(e,d+1,d=$xe(g=a[h])),x=e;m<p;++m)(x=Vte(g>0?f[m]+" "+b:rr(b,/&\f/g,f[m])))&&(l[v++]=x);return PT(e,t,n,o===0?G4:s,l,c,u)}function qxe(e,t,n){return PT(e,t,n,zte,ST(jxe()),rw(e,2,-2),0)}function mV(e,t,n,r){return PT(e,t,n,W4,rw(e,0,r),rw(e,r+1,-1),r)}function ib(e,t){for(var n="",r=q4(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Xxe(e,t,n,r){switch(e.type){case Lxe:case W4:return e.return=e.return||e.value;case zte:return"";case Hte:return e.return=e.value+"{"+ib(e.children,r)+"}";case G4:e.value=e.props.join(",")}return eu(n=ib(e.children,r))?e.return=e.value+"{"+n+"}":""}function Kxe(e){var t=q4(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}function Yxe(e){return function(t){t.root||(t=t.return)&&e(t)}}var gV=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var o=t(r);return n.set(r,o),o}},Zxe=function(t,n,r){for(var o=0,i=0;o=i,i=bu(),o===38&&i===12&&(n[r]=1),!ow(i);)Es();return A_(t,is)},Qxe=function(t,n){var r=-1,o=44;do switch(ow(o)){case 0:o===38&&bu()===12&&(n[r]=1),t[r]+=Zxe(is-1,n,r);break;case 2:t[r]+=zP(o);break;case 4:if(o===44){t[++r]=bu()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ST(o)}while(o=Es());return t},Jxe=function(t,n){return Wte(Qxe(Gte(t),n))},vV=new WeakMap,ewe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!vV.get(r))&&!o){vV.set(t,!0);for(var i=[],a=Jxe(n,i),s=r.props,l=0,c=0;l<a.length;l++)for(var u=0;u<s.length;u++,c++)t.props[c]=i[l]?a[l].replace(/&\f/g,s[u]):s[u]+" "+a[l]}}},twe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function qte(e,t){switch(Fxe(e,t)){case 5103:return nr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return nr+e+pA+e+Vi+e+e;case 6828:case 4268:return nr+e+Vi+e+e;case 6165:return nr+e+Vi+"flex-"+e+e;case 5187:return nr+e+rr(e,/(\w+).+(:[^]+)/,nr+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return nr+e+Vi+"flex-item-"+rr(e,/flex-|-self/,"")+e;case 4675:return nr+e+Vi+"flex-line-pack"+rr(e,/align-content|flex-|-self/,"")+e;case 5548:return nr+e+Vi+rr(e,"shrink","negative")+e;case 5292:return nr+e+Vi+rr(e,"basis","preferred-size")+e;case 6060:return nr+"box-"+rr(e,"-grow","")+nr+e+Vi+rr(e,"grow","positive")+e;case 4554:return nr+rr(e,/([^-])(transform)/g,"$1"+nr+"$2")+e;case 6187:return rr(rr(rr(e,/(zoom-|grab)/,nr+"$1"),/(image-set)/,nr+"$1"),e,"")+e;case 5495:case 3959:return rr(e,/(image-set\([^]*)/,nr+"$1$`$1");case 4968:return rr(rr(e,/(.+:)(flex-)?(.*)/,nr+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nr+e+e;case 4095:case 3583:case 4068:case 2532:return rr(e,/(.+)-inline(.+)/,nr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(eu(e)-1-t>6)switch(Oi(e,t+1)){case 109:if(Oi(e,t+4)!==45)break;case 102:return rr(e,/(.+:)(.+)-([^]+)/,"$1"+nr+"$2-$3$1"+pA+(Oi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~IF(e,"stretch")?qte(rr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Oi(e,t+1)!==115)break;case 6444:switch(Oi(e,eu(e)-3-(~IF(e,"!important")&&10))){case 107:return rr(e,":",":"+nr)+e;case 101:return rr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nr+(Oi(e,14)===45?"inline-":"")+"box$3$1"+nr+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Oi(e,t+11)){case 114:return nr+e+Vi+rr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return nr+e+Vi+rr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return nr+e+Vi+rr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return nr+e+Vi+e+e}return e}var nwe=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case W4:t.return=qte(t.value,t.length);break;case Hte:return ib([N0(t,{value:rr(t.value,"@","@"+nr)})],o);case G4:if(t.length)return Bxe(t.props,function(i){switch(Nxe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ib([N0(t,{props:[rr(i,/:(read-\w+)/,":"+pA+"$1")]})],o);case"::placeholder":return ib([N0(t,{props:[rr(i,/:(plac\w+)/,":"+nr+"input-$1")]}),N0(t,{props:[rr(i,/:(plac\w+)/,":"+pA+"$1")]}),N0(t,{props:[rr(i,/:(plac\w+)/,Vi+"input-$1")]})],o)}return""})}},rwe=[nwe],Xte=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var o=t.stylisPlugins||rwe,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),m=1;m<v.length;m++)i[v[m]]=!0;s.push(g)});var l,c=[ewe,twe];{var u,d=[Xxe,Yxe(function(g){u.insert(g)})],f=Kxe(c.concat(o,d)),p=function(v){return ib(Wxe(v),f)};l=function(v,m,b,x){u=b,p(v?v+"{"+m.styles+"}":m.styles),x&&(h.inserted[m.name]=!0)}}var h={key:n,sheet:new Rxe({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return h.sheet.hydrate(s),h},Kte={exports:{}},Cr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xi=typeof Symbol=="function"&&Symbol.for,X4=xi?Symbol.for("react.element"):60103,K4=xi?Symbol.for("react.portal"):60106,MT=xi?Symbol.for("react.fragment"):60107,AT=xi?Symbol.for("react.strict_mode"):60108,ET=xi?Symbol.for("react.profiler"):60114,TT=xi?Symbol.for("react.provider"):60109,OT=xi?Symbol.for("react.context"):60110,Y4=xi?Symbol.for("react.async_mode"):60111,IT=xi?Symbol.for("react.concurrent_mode"):60111,kT=xi?Symbol.for("react.forward_ref"):60112,RT=xi?Symbol.for("react.suspense"):60113,owe=xi?Symbol.for("react.suspense_list"):60120,LT=xi?Symbol.for("react.memo"):60115,$T=xi?Symbol.for("react.lazy"):60116,iwe=xi?Symbol.for("react.block"):60121,awe=xi?Symbol.for("react.fundamental"):60117,swe=xi?Symbol.for("react.responder"):60118,lwe=xi?Symbol.for("react.scope"):60119;function Vs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case X4:switch(e=e.type,e){case Y4:case IT:case MT:case ET:case AT:case RT:return e;default:switch(e=e&&e.$$typeof,e){case OT:case kT:case $T:case LT:case TT:return e;default:return t}}case K4:return t}}}function Yte(e){return Vs(e)===IT}Cr.AsyncMode=Y4;Cr.ConcurrentMode=IT;Cr.ContextConsumer=OT;Cr.ContextProvider=TT;Cr.Element=X4;Cr.ForwardRef=kT;Cr.Fragment=MT;Cr.Lazy=$T;Cr.Memo=LT;Cr.Portal=K4;Cr.Profiler=ET;Cr.StrictMode=AT;Cr.Suspense=RT;Cr.isAsyncMode=function(e){return Yte(e)||Vs(e)===Y4};Cr.isConcurrentMode=Yte;Cr.isContextConsumer=function(e){return Vs(e)===OT};Cr.isContextProvider=function(e){return Vs(e)===TT};Cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===X4};Cr.isForwardRef=function(e){return Vs(e)===kT};Cr.isFragment=function(e){return Vs(e)===MT};Cr.isLazy=function(e){return Vs(e)===$T};Cr.isMemo=function(e){return Vs(e)===LT};Cr.isPortal=function(e){return Vs(e)===K4};Cr.isProfiler=function(e){return Vs(e)===ET};Cr.isStrictMode=function(e){return Vs(e)===AT};Cr.isSuspense=function(e){return Vs(e)===RT};Cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===MT||e===IT||e===ET||e===AT||e===RT||e===owe||typeof e=="object"&&e!==null&&(e.$$typeof===$T||e.$$typeof===LT||e.$$typeof===TT||e.$$typeof===OT||e.$$typeof===kT||e.$$typeof===awe||e.$$typeof===swe||e.$$typeof===lwe||e.$$typeof===iwe)};Cr.typeOf=Vs;Kte.exports=Cr;var cwe=Kte.exports,Z4=cwe,uwe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dwe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zte={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q4={};Q4[Z4.ForwardRef]=fwe;Q4[Z4.Memo]=Zte;function bV(e){return Z4.isMemo(e)?Zte:Q4[e.$$typeof]||uwe}var pwe=Object.defineProperty,hwe=Object.getOwnPropertyNames,yV=Object.getOwnPropertySymbols,mwe=Object.getOwnPropertyDescriptor,gwe=Object.getPrototypeOf,xV=Object.prototype;function Qte(e,t,n){if(typeof t!="string"){if(xV){var r=gwe(t);r&&r!==xV&&Qte(e,r,n)}var o=hwe(t);yV&&(o=o.concat(yV(t)));for(var i=bV(e),a=bV(t),s=0;s<o.length;++s){var l=o[s];if(!dwe[l]&&!(n&&n[l])&&!(a&&a[l])&&!(i&&i[l])){var c=mwe(t,l);try{pwe(e,l,c)}catch{}}}}return e}var vwe=Qte;const bwe=Pc(vwe);var ywe=function(e,t){return bwe(e,t)};const xwe=ywe;var wwe=!0;function E_(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):r+=o+" "}),r}var T_=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||wwe===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},Hy=function(t,n,r){T_(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var i=n;do t.insert(n===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};const _we=Object.freeze(Object.defineProperty({__proto__:null,getRegisteredStyles:E_,insertStyles:Hy,registerStyles:T_},Symbol.toStringTag,{value:"Module"}));function Swe(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Cwe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Pwe=/[A-Z]|^ms/g,Mwe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Jte=function(t){return t.charCodeAt(1)===45},wV=function(t){return t!=null&&typeof t!="boolean"},hR=jte(function(e){return Jte(e)?e:e.replace(Pwe,"-$&").toLowerCase()}),_V=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Mwe,function(r,o,i){return tu={name:o,styles:i,next:tu},o})}return Cwe[t]!==1&&!Jte(t)&&typeof n=="number"&&n!==0?n+"px":n};function iw(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return tu={name:n.name,styles:n.styles,next:tu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)tu={name:r.name,styles:r.styles,next:tu},r=r.next;var o=n.styles+";";return o}return Awe(e,t,n)}case"function":{if(e!==void 0){var i=tu,a=n(e);return tu=i,iw(e,t,a)}break}}if(t==null)return n;var s=t[n];return s!==void 0?s:n}function Awe(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=iw(e,t,n[o])+";";else for(var i in n){var a=n[i];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=i+"{"+t[a]+"}":wV(a)&&(r+=hR(i)+":"+_V(i,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)wV(a[s])&&(r+=hR(i)+":"+_V(i,a[s])+";");else{var l=iw(e,t,a);switch(i){case"animation":case"animationName":{r+=hR(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var SV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tu,ng=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,i="";tu=void 0;var a=t[0];a==null||a.raw===void 0?(o=!1,i+=iw(r,n,a)):i+=a[0];for(var s=1;s<t.length;s++)i+=iw(r,n,t[s]),o&&(i+=a[s]);SV.lastIndex=0;for(var l="",c;(c=SV.exec(i))!==null;)l+="-"+c[1];var u=Swe(i)+l;return{name:u,styles:i,next:tu}};const Ewe=Object.freeze(Object.defineProperty({__proto__:null,serializeStyles:ng},Symbol.toStringTag,{value:"Module"}));var Twe=function(t){return t()},ene=AM["useInsertionEffect"]?AM["useInsertionEffect"]:!1,J4=ene||Twe,CV=ene||C.useLayoutEffect,ej={}.hasOwnProperty,tj=C.createContext(typeof HTMLElement<"u"?Xte({key:"css"}):null),tne=tj.Provider,nne=function(){return C.useContext(tj)},O_=function(t){return C.forwardRef(function(n,r){var o=C.useContext(tj);return t(n,o,r)})},yc=C.createContext({}),Owe=function(){return C.useContext(yc)},Iwe=function(t,n){if(typeof n=="function"){var r=n(t);return r}return A({},t,n)},kwe=gV(function(e){return gV(function(t){return Iwe(e,t)})}),Rwe=function(t){var n=C.useContext(yc);return t.theme!==n&&(n=kwe(n)(t.theme)),C.createElement(yc.Provider,{value:n},t.children)};function Lwe(e){var t=e.displayName||e.name||"Component",n=function(i,a){var s=C.useContext(yc);return C.createElement(e,A({theme:s,ref:a},i))},r=C.forwardRef(n);return r.displayName="WithTheme("+t+")",xwe(r,e)}var RF="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$we=function(t,n){var r={};for(var o in n)ej.call(n,o)&&(r[o]=n[o]);return r[RF]=t,r},Dwe=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return T_(n,r,o),J4(function(){return Hy(n,r,o)}),null},Fwe=O_(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[RF],i=[r],a="";typeof e.className=="string"?a=E_(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=ng(i,void 0,C.useContext(yc));a+=t.key+"-"+s.name;var l={};for(var c in e)ej.call(e,c)&&c!=="css"&&c!==RF&&(l[c]=e[c]);return l.ref=n,l.className=a,C.createElement(C.Fragment,null,C.createElement(Dwe,{cache:t,serialized:s,isStringTag:typeof o=="string"}),C.createElement(o,l))}),PV=function(t,n){var r=arguments;if(n==null||!ej.call(n,"css"))return C.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Fwe,i[1]=$we(t,n);for(var a=2;a<o;a++)i[a]=r[a];return C.createElement.apply(null,i)},rne=O_(function(e,t){var n=e.styles,r=ng([n],void 0,C.useContext(yc)),o=C.useRef();return CV(function(){var i=t.key+"-global",a=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",i),a.hydrate([l])),o.current=[a,s],function(){a.flush()}},[t]),CV(function(){var i=o.current,a=i[0],s=i[1];if(s){i[1]=!1;return}if(r.next!==void 0&&Hy(t,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function xc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ng(t)}var Us=function(){var t=xc.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Nwe=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=e(i);else{a="";for(var s in i)i[s]&&s&&(a&&(a+=" "),a+=s)}break}default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function Bwe(e,t,n){var r=[],o=E_(e,r,n);return r.length<2?n:o+t(r)}var jwe=function(t){var n=t.cache,r=t.serializedArr;return J4(function(){for(var o=0;o<r.length;o++)Hy(n,r[o],!1)}),null},zwe=O_(function(e,t){var n=!1,r=[],o=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=ng(u,t.registered);return r.push(f),T_(t,f,!1),t.key+"-"+f.name},i=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Bwe(t.registered,o,Nwe(u))},a={css:o,cx:i,theme:C.useContext(yc)},s=e.children(a);return n=!0,C.createElement(C.Fragment,null,C.createElement(jwe,{cache:t,serializedArr:r}),s)});const Hwe=Object.freeze(Object.defineProperty({__proto__:null,CacheProvider:tne,ClassNames:zwe,Global:rne,ThemeContext:yc,ThemeProvider:Rwe,__unsafe_useEmotionCache:nne,createElement:PV,css:xc,jsx:PV,keyframes:Us,useTheme:Owe,withEmotionCache:O_,withTheme:Lwe},Symbol.toStringTag,{value:"Module"}));var Vwe=Oxe,Uwe=function(t){return t!=="theme"},MV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Vwe:Uwe},AV=function(t,n,r){var o;if(n){var i=n.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(a){return t.__emotion_forwardProp(a)&&i(a)}:i}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},Gwe=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return T_(n,r,o),J4(function(){return Hy(n,r,o)}),null},Wwe=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,i,a;n!==void 0&&(i=n.label,a=n.target);var s=AV(t,n,r),l=s||MV(o),c=!l("as");return function(){var u=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var h=O_(function(g,v,m){var b=c&&g.as||o,x="",y=[],w=g;if(g.theme==null){w={};for(var _ in g)w[_]=g[_];w.theme=C.useContext(yc)}typeof g.className=="string"?x=E_(v.registered,y,g.className):g.className!=null&&(x=g.className+" ");var S=ng(d.concat(y),v.registered,w);x+=v.key+"-"+S.name,a!==void 0&&(x+=" "+a);var P=c&&s===void 0?MV(b):l,M={};for(var I in g)c&&I==="as"||P(I)&&(M[I]=g[I]);return M.className=x,M.ref=m,C.createElement(C.Fragment,null,C.createElement(Gwe,{cache:v,serialized:S,isStringTag:typeof b=="string"}),C.createElement(b,M))});return h.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",h.defaultProps=t.defaultProps,h.__emotion_real=h,h.__emotion_base=o,h.__emotion_styles=d,h.__emotion_forwardProp=s,Object.defineProperty(h,"toString",{value:function(){return"."+a}}),h.withComponent=function(g,v){return e(g,A({},n,v,{shouldForwardProp:AV(h,v,!0)})).apply(void 0,d)},h}};const qwe=Wwe;var Xwe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LF=qwe.bind();Xwe.forEach(function(e){LF[e]=LF(e)});const Kwe=LF;let $F;typeof document=="object"&&($F=Xte({key:"css",prepend:!0}));function one(e){const{injectFirst:t,children:n}=e;return t&&$F?N.jsx(tne,{value:$F,children:n}):n}function Ywe(e){return e==null||Object.keys(e).length===0}function VP(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?o=>t(Ywe(o)?n:o):t;return N.jsx(rne,{styles:r})}/**
 * @mui/styled-engine v5.12.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ine(e,t){return Kwe(e,t)}const Zwe=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Qwe=["values","unit","step"],Jwe=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>A({},n,{[r.key]:r.val}),{})};function ane(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=De(e,Qwe),i=Jwe(t),a=Object.keys(i);function s(f){return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof t[f]=="number"?t[f]:f)-r/100}${n})`}function c(f,p){const h=a.indexOf(p);return`@media (min-width:${typeof t[f]=="number"?t[f]:f}${n}) and (max-width:${(h!==-1&&typeof t[a[h]]=="number"?t[a[h]]:p)-r/100}${n})`}function u(f){return a.indexOf(f)+1<a.length?c(f,a[a.indexOf(f)+1]):s(f)}function d(f){const p=a.indexOf(f);return p===0?s(a[1]):p===a.length-1?l(a[p]):c(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return A({keys:a,values:i,up:s,down:l,between:c,only:u,not:d,unit:n},o)}const e_e={borderRadius:4},t_e=e_e;function px(e,t){return t?jo(e,t,{clone:!1}):e}const nj={xs:0,sm:600,md:900,lg:1200,xl:1536},EV={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${nj[e]}px)`};function as(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const i=r.breakpoints||EV;return t.reduce((a,s,l)=>(a[i.up(i.keys[l])]=n(t[l]),a),{})}if(typeof t=="object"){const i=r.breakpoints||EV;return Object.keys(t).reduce((a,s)=>{if(Object.keys(i.values||nj).indexOf(s)!==-1){const l=i.up(s);a[l]=n(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return n(t)}function sne(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,o)=>{const i=e.up(o);return r[i]={},r},{}))||{}}function lne(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function n_e(e,...t){const n=sne(e),r=[n,...t].reduce((o,i)=>jo(o,i),{});return lne(Object.keys(n),r)}function r_e(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((o,i)=>{i<e.length&&(n[o]=!0)}):r.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function em({values:e,breakpoints:t,base:n}){const r=n||r_e(e,t),o=Object.keys(r);if(o.length===0)return e;let i;return o.reduce((a,s,l)=>(Array.isArray(e)?(a[s]=e[l]!=null?e[l]:e[i],i=l):typeof e=="object"?(a[s]=e[s]!=null?e[s]:e[i],i=s):a[s]=e,a),{})}function zb(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function hA(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=zb(e,n)||r,t&&(o=t(o,r,e)),o}function mr(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,c=zb(l,r)||{};return as(a,s,d=>{let f=hA(c,o,d);return d===f&&typeof d=="string"&&(f=hA(c,o,`${t}${d==="default"?"":Be(d)}`,d)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[t],i}function o_e(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const i_e={m:"margin",p:"padding"},a_e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TV={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s_e=o_e(e=>{if(e.length>2)if(TV[e])e=TV[e];else return[e];const[t,n]=e.split(""),r=i_e[t],o=a_e[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),rj=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],oj=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...rj,...oj];function I_(e,t,n,r){var o;const i=(o=zb(e,t,!1))!=null?o:n;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function ij(e){return I_(e,"spacing",8)}function Pm(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function l_e(e,t){return n=>e.reduce((r,o)=>(r[o]=Pm(t,n),r),{})}function c_e(e,t,n,r){if(t.indexOf(n)===-1)return null;const o=s_e(n),i=l_e(o,r),a=e[n];return as(e,a,i)}function cne(e,t){const n=ij(e.theme);return Object.keys(e).map(r=>c_e(e,t,r,n)).reduce(px,{})}function mo(e){return cne(e,rj)}mo.propTypes={};mo.filterProps=rj;function go(e){return cne(e,oj)}go.propTypes={};go.filterProps=oj;function une(e=8){if(e.mui)return e;const t=ij({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const a=t(i);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function DT(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>t[i]?px(o,t[i](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function iu(e){return typeof e!="number"?e:`${e}px solid`}const u_e=mr({prop:"border",themeKey:"borders",transform:iu}),d_e=mr({prop:"borderTop",themeKey:"borders",transform:iu}),f_e=mr({prop:"borderRight",themeKey:"borders",transform:iu}),p_e=mr({prop:"borderBottom",themeKey:"borders",transform:iu}),h_e=mr({prop:"borderLeft",themeKey:"borders",transform:iu}),m_e=mr({prop:"borderColor",themeKey:"palette"}),g_e=mr({prop:"borderTopColor",themeKey:"palette"}),v_e=mr({prop:"borderRightColor",themeKey:"palette"}),b_e=mr({prop:"borderBottomColor",themeKey:"palette"}),y_e=mr({prop:"borderLeftColor",themeKey:"palette"}),FT=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=I_(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Pm(t,r)});return as(e,e.borderRadius,n)}return null};FT.propTypes={};FT.filterProps=["borderRadius"];DT(u_e,d_e,f_e,p_e,h_e,m_e,g_e,v_e,b_e,y_e,FT);const NT=e=>{if(e.gap!==void 0&&e.gap!==null){const t=I_(e.theme,"spacing",8),n=r=>({gap:Pm(t,r)});return as(e,e.gap,n)}return null};NT.propTypes={};NT.filterProps=["gap"];const BT=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=I_(e.theme,"spacing",8),n=r=>({columnGap:Pm(t,r)});return as(e,e.columnGap,n)}return null};BT.propTypes={};BT.filterProps=["columnGap"];const jT=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=I_(e.theme,"spacing",8),n=r=>({rowGap:Pm(t,r)});return as(e,e.rowGap,n)}return null};jT.propTypes={};jT.filterProps=["rowGap"];const x_e=mr({prop:"gridColumn"}),w_e=mr({prop:"gridRow"}),__e=mr({prop:"gridAutoFlow"}),S_e=mr({prop:"gridAutoColumns"}),C_e=mr({prop:"gridAutoRows"}),P_e=mr({prop:"gridTemplateColumns"}),M_e=mr({prop:"gridTemplateRows"}),A_e=mr({prop:"gridTemplateAreas"}),E_e=mr({prop:"gridArea"});DT(NT,BT,jT,x_e,w_e,__e,S_e,C_e,P_e,M_e,A_e,E_e);function ab(e,t){return t==="grey"?t:e}const T_e=mr({prop:"color",themeKey:"palette",transform:ab}),O_e=mr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ab}),I_e=mr({prop:"backgroundColor",themeKey:"palette",transform:ab});DT(T_e,O_e,I_e);function Ss(e){return e<=1&&e!==0?`${e*100}%`:e}const k_e=mr({prop:"width",transform:Ss}),aj=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,o,i;return{maxWidth:((r=e.theme)==null||(o=r.breakpoints)==null||(i=o.values)==null?void 0:i[n])||nj[n]||Ss(n)}};return as(e,e.maxWidth,t)}return null};aj.filterProps=["maxWidth"];const R_e=mr({prop:"minWidth",transform:Ss}),L_e=mr({prop:"height",transform:Ss}),$_e=mr({prop:"maxHeight",transform:Ss}),D_e=mr({prop:"minHeight",transform:Ss});mr({prop:"size",cssProperty:"width",transform:Ss});mr({prop:"size",cssProperty:"height",transform:Ss});const F_e=mr({prop:"boxSizing"});DT(k_e,aj,R_e,L_e,$_e,D_e,F_e);const N_e={border:{themeKey:"borders",transform:iu},borderTop:{themeKey:"borders",transform:iu},borderRight:{themeKey:"borders",transform:iu},borderBottom:{themeKey:"borders",transform:iu},borderLeft:{themeKey:"borders",transform:iu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:FT},color:{themeKey:"palette",transform:ab},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ab},backgroundColor:{themeKey:"palette",transform:ab},p:{style:go},pt:{style:go},pr:{style:go},pb:{style:go},pl:{style:go},px:{style:go},py:{style:go},padding:{style:go},paddingTop:{style:go},paddingRight:{style:go},paddingBottom:{style:go},paddingLeft:{style:go},paddingX:{style:go},paddingY:{style:go},paddingInline:{style:go},paddingInlineStart:{style:go},paddingInlineEnd:{style:go},paddingBlock:{style:go},paddingBlockStart:{style:go},paddingBlockEnd:{style:go},m:{style:mo},mt:{style:mo},mr:{style:mo},mb:{style:mo},ml:{style:mo},mx:{style:mo},my:{style:mo},margin:{style:mo},marginTop:{style:mo},marginRight:{style:mo},marginBottom:{style:mo},marginLeft:{style:mo},marginX:{style:mo},marginY:{style:mo},marginInline:{style:mo},marginInlineStart:{style:mo},marginInlineEnd:{style:mo},marginBlock:{style:mo},marginBlockStart:{style:mo},marginBlockEnd:{style:mo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:NT},rowGap:{style:jT},columnGap:{style:BT},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ss},maxWidth:{style:aj},minWidth:{transform:Ss},height:{transform:Ss},maxHeight:{transform:Ss},minHeight:{transform:Ss},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},k_=N_e;function B_e(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function j_e(e,t){return typeof e=="function"?e(t):e}function z_e(){function e(n,r,o,i){const a={[n]:r,theme:o},s=i[n];if(!s)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=s;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=zb(o,c)||{};return d?d(a):as(a,r,h=>{let g=hA(f,u,h);return h===g&&typeof h=="string"&&(g=hA(f,u,`${n}${h==="default"?"":Be(h)}`,h)),l===!1?g:{[l]:g}})}function t(n){var r;const{sx:o,theme:i={}}=n||{};if(!o)return null;const a=(r=i.unstable_sxConfig)!=null?r:k_;function s(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=sne(i.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const h=j_e(c[p],i);if(h!=null)if(typeof h=="object")if(a[p])f=px(f,e(p,h,i,a));else{const g=as({theme:i},h,v=>({[p]:v}));B_e(g,h)?f[p]=t({sx:h,theme:i}):f=px(f,g)}else f=px(f,e(p,h,i,a))}),lne(d,f)}return Array.isArray(o)?o.map(s):s(o)}return t}const dne=z_e();dne.filterProps=["sx"];const Vy=dne,H_e=["breakpoints","palette","spacing","shape"];function Uy(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:i={}}=e,a=De(e,H_e),s=ane(n),l=une(o);let c=jo({breakpoints:s,direction:"ltr",components:{},palette:A({mode:"light"},r),spacing:l,shape:A({},t_e,i)},a);return c=t.reduce((u,d)=>jo(u,d),c),c.unstable_sxConfig=A({},k_,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return Vy({sx:d,theme:this})},c}function V_e(e){return Object.keys(e).length===0}function zT(e=null){const t=C.useContext(yc);return!t||V_e(t)?e:t}const U_e=Uy();function R_(e=U_e){return zT(e)}function G_e({styles:e,themeId:t,defaultTheme:n={}}){const r=R_(n),o=typeof e=="function"?e(t&&r[t]||r):e;return N.jsx(VP,{styles:o})}const W_e=["sx"],q_e=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:k_;return Object.keys(e).forEach(i=>{o[i]?r.systemProps[i]=e[i]:r.otherProps[i]=e[i]}),r};function L_(e){const{sx:t}=e,n=De(e,W_e),{systemProps:r,otherProps:o}=q_e(n);let i;return Array.isArray(t)?i=[r,...t]:typeof t=="function"?i=(...a)=>{const s=t(...a);return Rh(s)?A({},r,s):r}:i=A({},r,t),A({},o,{sx:i})}function fne(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fne(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ne(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=fne(e))&&(r&&(r+=" "),r+=t);return r}const X_e=["className","component"];function K_e(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=ine("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Vy);return C.forwardRef(function(l,c){const u=R_(n),d=L_(l),{className:f,component:p="div"}=d,h=De(d,X_e);return N.jsx(i,A({as:p,ref:c,className:Ne(f,o?o(r):r),theme:t&&u[t]||u},h))})}const Y_e=["variant"];function OV(e){return e.length===0}function pne(e){const{variant:t}=e,n=De(e,Y_e);let r=t||"";return Object.keys(n).sort().forEach(o=>{o==="color"?r+=OV(r)?e[o]:Be(e[o]):r+=`${OV(r)?o:Be(o)}${Be(e[o].toString())}`}),r}const Z_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Q_e(e){return Object.keys(e).length===0}function J_e(e){return typeof e=="string"&&e.charCodeAt(0)>96}const eSe=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,tSe=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(o=>{const i=pne(o.props);r[i]=o.style}),r},nSe=(e,t,n,r)=>{var o,i;const{ownerState:a={}}=e,s=[],l=n==null||(o=n.components)==null||(i=o[r])==null?void 0:i.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{a[d]!==c.props[d]&&e[d]!==c.props[d]&&(u=!1)}),u&&s.push(t[pne(c.props)])}),s};function hx(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const rSe=Uy();function B0({defaultTheme:e,theme:t,themeId:n}){return Q_e(t)?e:t[n]||t}function hne(e={}){const{themeId:t,defaultTheme:n=rSe,rootShouldForwardProp:r=hx,slotShouldForwardProp:o=hx}=e,i=a=>Vy(A({},a,{theme:B0(A({},a,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,(a,s={})=>{Zwe(a,y=>y.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f}=s,p=De(s,Z_e),h=u!==void 0?u:c&&c!=="Root"||!1,g=d||!1;let v,m=hx;c==="Root"?m=r:c?m=o:J_e(a)&&(m=void 0);const b=ine(a,A({shouldForwardProp:m,label:v},p)),x=(y,...w)=>{const _=w?w.map(I=>typeof I=="function"&&I.__emotion_real!==I?O=>I(A({},O,{theme:B0(A({},O,{defaultTheme:n,themeId:t}))})):I):[];let S=y;l&&f&&_.push(I=>{const O=B0(A({},I,{defaultTheme:n,themeId:t})),L=eSe(l,O);if(L){const R={};return Object.entries(L).forEach(([T,E])=>{R[T]=typeof E=="function"?E(A({},I,{theme:O})):E}),f(I,R)}return null}),l&&!h&&_.push(I=>{const O=B0(A({},I,{defaultTheme:n,themeId:t}));return nSe(I,tSe(l,O),O,l)}),g||_.push(i);const P=_.length-w.length;if(Array.isArray(y)&&P>0){const I=new Array(P).fill("");S=[...y,...I],S.raw=[...y.raw,...I]}else typeof y=="function"&&y.__emotion_real!==y&&(S=I=>y(A({},I,{theme:B0(A({},I,{defaultTheme:n,themeId:t}))})));const M=b(S,..._);return a.muiName&&(M.muiName=a.muiName),M};return b.withConfig&&(x.withConfig=b.withConfig),x}}const oSe=hne(),sj=oSe;function lj(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:V4(t.components[n].defaultProps,r)}function $_({props:e,name:t,defaultTheme:n,themeId:r}){let o=R_(n);return r&&(o=o[r]||o),lj({theme:o,name:t,props:e})}function cj(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function uj(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function iSe(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function wc(e){if(e.type)return e;if(e.charAt(0)==="#")return wc(uj(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(os(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(os(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const aSe=e=>{const t=wc(e);return t.values.slice(0,3).map((n,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")},O1=(e,t)=>{try{return aSe(e)}catch{return e}};function Gy(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function mne(e){if(e.indexOf("#")===0)return e;const{values:t}=wc(e);return`#${t.map((n,r)=>iSe(r===3?Math.round(255*n):n)).join("")}`}function dj(e){e=wc(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=(c,u=(c+n/30)%12)=>o-i*Math.max(Math.min(u-3,9-u,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(s+="a",l.push(t[3])),Gy({type:s,values:l})}function aw(e){e=wc(e);let t=e.type==="hsl"||e.type==="hsla"?wc(dj(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function fj(e,t){const n=aw(e),r=aw(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Pt(e,t){return e=wc(e),t=cj(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Gy(e)}function NC(e,t,n){try{return Pt(e,t)}catch{return e}}function ss(e,t){if(e=wc(e),t=cj(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Gy(e)}function kr(e,t,n){try{return ss(e,t)}catch{return e}}function ls(e,t){if(e=wc(e),t=cj(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Gy(e)}function Rr(e,t,n){try{return ls(e,t)}catch{return e}}function Hb(e,t=.15){return aw(e)>.5?ss(e,t):ls(e,t)}function I1(e,t,n){try{return I1(e,t)}catch{return e}}const sSe=C.createContext(null),gne=sSe;function pj(){return C.useContext(gne)}const lSe=typeof Symbol=="function"&&Symbol.for,cSe=lSe?Symbol.for("mui.nested"):"__THEME_NESTED__";function uSe(e,t){return typeof t=="function"?t(e):A({},e,t)}function dSe(e){const{children:t,theme:n}=e,r=pj(),o=C.useMemo(()=>{const i=r===null?n:uSe(r,n);return i!=null&&(i[cSe]=r!==null),i},[n,r]);return N.jsx(gne.Provider,{value:o,children:t})}const IV={};function kV(e,t,n,r=!1){return C.useMemo(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const i=n(o),a=e?A({},t,{[e]:i}):i;return r?()=>a:a}return e?A({},t,{[e]:n}):A({},t,n)},[e,t,n,r])}function vne(e){const{children:t,theme:n,themeId:r}=e,o=zT(IV),i=pj()||IV,a=kV(r,o,n),s=kV(r,i,n,!0);return N.jsx(dSe,{theme:s,children:N.jsx(yc.Provider,{value:a,children:t})})}const hj="mode",mj="color-scheme",bne="data-color-scheme";function fSe(e){const{defaultMode:t="light",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=hj,colorSchemeStorageKey:i=mj,attribute:a=bne,colorSchemeNode:s="document.documentElement"}=e||{};return N.jsx("script",{dangerouslySetInnerHTML:{__html:`(function() { try {
        var mode = localStorage.getItem('${o}') || '${t}';
        var cssColorScheme = mode;
        var colorScheme = '';
        if (mode === 'system') {
          // handle system mode
          var mql = window.matchMedia('(prefers-color-scheme: dark)');
          if (mql.matches) {
            cssColorScheme = 'dark';
            colorScheme = localStorage.getItem('${i}-dark') || '${r}';
          } else {
            cssColorScheme = 'light';
            colorScheme = localStorage.getItem('${i}-light') || '${n}';
          }
        }
        if (mode === 'light') {
          colorScheme = localStorage.getItem('${i}-light') || '${n}';
        }
        if (mode === 'dark') {
          colorScheme = localStorage.getItem('${i}-dark') || '${r}';
        }
        if (colorScheme) {
          ${s}.setAttribute('${a}', colorScheme);
        }
      } catch (e) {} })();`}},"mui-color-scheme-init")}function RV(e){if(typeof window<"u"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function yne(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function pSe(e){return yne(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function mR(e,t){if(typeof window>"u")return;let n;try{n=localStorage.getItem(e)||void 0,n||localStorage.setItem(e,t)}catch{}return n||t}function hSe(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:i=hj,colorSchemeStorageKey:a=mj,storageWindow:s=typeof window>"u"?void 0:window}=e,l=o.join(","),[c,u]=C.useState(()=>{const v=mR(i,t),m=mR(`${a}-light`,n),b=mR(`${a}-dark`,r);return{mode:v,systemMode:RV(v),lightColorScheme:m,darkColorScheme:b}}),d=pSe(c),f=C.useCallback(v=>{u(m=>{if(v===m.mode)return m;const b=v||t;try{localStorage.setItem(i,b)}catch{}return A({},m,{mode:b,systemMode:RV(b)})})},[i,t]),p=C.useCallback(v=>{v?typeof v=="string"?v&&!l.includes(v)?console.error(`\`${v}\` does not exist in \`theme.colorSchemes\`.`):u(m=>{const b=A({},m);return yne(m,x=>{try{localStorage.setItem(`${a}-${x}`,v)}catch{}x==="light"&&(b.lightColorScheme=v),x==="dark"&&(b.darkColorScheme=v)}),b}):u(m=>{const b=A({},m),x=v.light===null?n:v.light,y=v.dark===null?r:v.dark;if(x)if(!l.includes(x))console.error(`\`${x}\` does not exist in \`theme.colorSchemes\`.`);else{b.lightColorScheme=x;try{localStorage.setItem(`${a}-light`,x)}catch{}}if(y)if(!l.includes(y))console.error(`\`${y}\` does not exist in \`theme.colorSchemes\`.`);else{b.darkColorScheme=y;try{localStorage.setItem(`${a}-dark`,y)}catch{}}return b}):u(m=>{try{localStorage.setItem(`${a}-light`,n),localStorage.setItem(`${a}-dark`,r)}catch{}return A({},m,{lightColorScheme:n,darkColorScheme:r})})},[l,a,n,r]),h=C.useCallback(v=>{c.mode==="system"&&u(m=>A({},m,{systemMode:v!=null&&v.matches?"dark":"light"}))},[c.mode]),g=C.useRef(h);return g.current=h,C.useEffect(()=>{const v=(...b)=>g.current(...b),m=window.matchMedia("(prefers-color-scheme: dark)");return m.addListener(v),v(m),()=>m.removeListener(v)},[]),C.useEffect(()=>{const v=m=>{const b=m.newValue;typeof m.key=="string"&&m.key.startsWith(a)&&(!b||l.match(b))&&(m.key.endsWith("light")&&p({light:b}),m.key.endsWith("dark")&&p({dark:b})),m.key===i&&(!b||["light","dark","system"].includes(b))&&f(b||t)};if(s)return s.addEventListener("storage",v),()=>s.removeEventListener("storage",v)},[p,f,i,a,l,t,s]),A({},c,{colorScheme:d,setMode:f,setColorScheme:p})}const mSe=["colorSchemes","components","generateCssVars","cssVarPrefix"],gSe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function vSe(e){const{themeId:t,theme:n={},attribute:r=bne,modeStorageKey:o=hj,colorSchemeStorageKey:i=mj,defaultMode:a="light",defaultColorScheme:s,disableTransitionOnChange:l=!1,resolveTheme:c,excludeVariablesFromRoot:u}=e;(!n.colorSchemes||typeof s=="string"&&!n.colorSchemes[s]||typeof s=="object"&&!n.colorSchemes[s==null?void 0:s.light]||typeof s=="object"&&!n.colorSchemes[s==null?void 0:s.dark])&&console.error(`MUI: \`${s}\` does not exist in \`theme.colorSchemes\`.`);const d=C.createContext(void 0),f=()=>{const m=C.useContext(d);if(!m)throw new Error(os(19));return m};function p({children:m,theme:b=n,modeStorageKey:x=o,colorSchemeStorageKey:y=i,attribute:w=r,defaultMode:_=a,defaultColorScheme:S=s,disableTransitionOnChange:P=l,storageWindow:M=typeof window>"u"?void 0:window,documentNode:I=typeof document>"u"?void 0:document,colorSchemeNode:O=typeof document>"u"?void 0:document.documentElement,colorSchemeSelector:L=":root",disableNestedContext:R=!1,disableStyleSheetGeneration:T=!1}){const E=C.useRef(!1),k=pj(),B=C.useContext(d),$=!!B&&!R,j=b[t],V=j||b,{colorSchemes:q={},components:Q={},generateCssVars:H=()=>({vars:{},css:{}}),cssVarPrefix:X}=V,J=De(V,mSe),G=Object.keys(q),ie=typeof S=="string"?S:S.light,Y=typeof S=="string"?S:S.dark,{mode:le,setMode:te,systemMode:re,lightColorScheme:ae,darkColorScheme:pe,colorScheme:we,setColorScheme:fe}=hSe({supportedColorSchemes:G,defaultLightColorScheme:ie,defaultDarkColorScheme:Y,modeStorageKey:x,colorSchemeStorageKey:y,defaultMode:_,storageWindow:M});let _e=le,W=we;$&&(_e=B.mode,W=B.colorScheme);const oe=(()=>_e||(_==="system"?a:_))(),Ce=(()=>W||(oe==="dark"?Y:ie))(),{css:ve,vars:me}=H(),ye=A({},J,{components:Q,colorSchemes:q,cssVarPrefix:X,vars:me,getColorSchemeSelector:D=>`[${w}="${D}"] &`}),Le={},Te={};Object.entries(q).forEach(([D,F])=>{const{css:K,vars:he}=H(D);ye.vars=jo(ye.vars,he),D===Ce&&(Object.keys(F).forEach(Ae=>{F[Ae]&&typeof F[Ae]=="object"?ye[Ae]=A({},ye[Ae],F[Ae]):ye[Ae]=F[Ae]}),ye.palette&&(ye.palette.colorScheme=D));const ge=(()=>typeof S=="string"?S:_==="dark"?S.dark:S.light)();if(D===ge){if(u){const Ae={};u(X).forEach(Ke=>{Ae[Ke]=K[Ke],delete K[Ke]}),Le[`[${w}="${D}"]`]=Ae}Le[`${L}, [${w}="${D}"]`]=K}else Te[`${L===":root"?"":L}[${w}="${D}"]`]=K}),ye.vars=jo(ye.vars,me),C.useEffect(()=>{W&&O&&O.setAttribute(w,W)},[W,w,O]),C.useEffect(()=>{let D;if(P&&E.current&&I){const F=I.createElement("style");F.appendChild(I.createTextNode(gSe)),I.head.appendChild(F),window.getComputedStyle(I.body),D=setTimeout(()=>{I.head.removeChild(F)},1)}return()=>{clearTimeout(D)}},[W,P,I]),C.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]);const Me=C.useMemo(()=>({mode:_e,systemMode:re,setMode:te,lightColorScheme:ae,darkColorScheme:pe,colorScheme:W,setColorScheme:fe,allColorSchemes:G}),[G,W,pe,ae,_e,fe,te,re]);let $e=!0;(T||$&&(k==null?void 0:k.cssVarPrefix)===X)&&($e=!1);const U=N.jsxs(C.Fragment,{children:[$e&&N.jsxs(C.Fragment,{children:[N.jsx(VP,{styles:{[L]:ve}}),N.jsx(VP,{styles:Le}),N.jsx(VP,{styles:Te})]}),N.jsx(vne,{themeId:j?t:void 0,theme:c?c(ye):ye,children:m})]});return $?U:N.jsx(d.Provider,{value:Me,children:U})}const h=typeof s=="string"?s:s.light,g=typeof s=="string"?s:s.dark;return{CssVarsProvider:p,useColorScheme:f,getInitColorSchemeScript:m=>fSe(A({attribute:r,colorSchemeStorageKey:i,defaultMode:a,defaultLightColorScheme:h,defaultDarkColorScheme:g,modeStorageKey:o},m))}}function bSe(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const LV=(e,t,n,r=[])=>{let o=e;t.forEach((i,a)=>{a===t.length-1?Array.isArray(o)?o[Number(i)]=n:o&&typeof o=="object"&&(o[i]=n):o&&typeof o=="object"&&(o[i]||(o[i]=r.includes(i)?[]:{}),o=o[i])})},ySe=(e,t,n)=>{function r(o,i=[],a=[]){Object.entries(o).forEach(([s,l])=>{(!n||n&&!n([...i,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...i,s],Array.isArray(l)?[...a,s]:a):t([...i,s],l,a))})}r(e)},xSe=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().indexOf("opacity")>=0?t:`${t}px`:t;function gR(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},a={};return ySe(e,(s,l,c)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(s,l))){const u=`--${n?`${n}-`:""}${s.join("-")}`;Object.assign(o,{[u]:xSe(s,l)}),LV(i,s,`var(${u})`,c),LV(a,s,`var(${u}, ${l})`,c)}},s=>s[0]==="vars"),{css:o,vars:i,varsWithDefaults:a}}const wSe=["colorSchemes","components"],_Se=["light"];function SSe(e,t){const{colorSchemes:n={}}=e,r=De(e,wSe),{vars:o,css:i,varsWithDefaults:a}=gR(r,t);let s=a;const l={},{light:c}=n,u=De(n,_Se);if(Object.entries(u||{}).forEach(([f,p])=>{const{vars:h,css:g,varsWithDefaults:v}=gR(p,t);s=jo(s,v),l[f]={css:g,vars:h}}),c){const{css:f,vars:p,varsWithDefaults:h}=gR(c,t);s=jo(s,h),l.light={css:f,vars:p}}return{vars:s,generateCssVars:f=>f?{css:A({},l[f].css),vars:l[f].vars}:{css:A({},i),vars:o}}}const CSe=["className","component","disableGutters","fixed","maxWidth","classes"],PSe=Uy(),MSe=sj("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Be(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),ASe=e=>$_({props:e,name:"MuiContainer",defaultTheme:PSe}),ESe=(e,t)=>{const n=l=>lt(t,l),{classes:r,fixed:o,disableGutters:i,maxWidth:a}=e,s={root:["root",a&&`maxWidth${Be(String(a))}`,o&&"fixed",i&&"disableGutters"]};return Qe(s,n,r)};function TSe(e={}){const{createStyledComponent:t=MSe,useThemeProps:n=ASe,componentName:r="MuiContainer"}=e,o=t(({theme:a,ownerState:s})=>A({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!s.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}),({theme:a,ownerState:s})=>s.fixed&&Object.keys(a.breakpoints.values).reduce((l,c)=>{const u=c,d=a.breakpoints.values[u];return d!==0&&(l[a.breakpoints.up(u)]={maxWidth:`${d}${a.breakpoints.unit}`}),l},{}),({theme:a,ownerState:s})=>A({},s.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},s.maxWidth&&s.maxWidth!=="xs"&&{[a.breakpoints.up(s.maxWidth)]:{maxWidth:`${a.breakpoints.values[s.maxWidth]}${a.breakpoints.unit}`}}));return C.forwardRef(function(s,l){const c=n(s),{className:u,component:d="div",disableGutters:f=!1,fixed:p=!1,maxWidth:h="lg"}=c,g=De(c,CSe),v=A({},c,{component:d,disableGutters:f,fixed:p,maxWidth:h}),m=ESe(v,r);return N.jsx(o,A({as:d,ownerState:v,className:Ne(m.root,u),ref:l},g))})}function kd(e){return e?`Level${e}`:""}function D_(e){return e.unstable_level>0&&e.container}function xne(e){return function(n){return`var(--Grid-${n}Spacing${kd(e.unstable_level)})`}}function gj(e){return function(n){return e.unstable_level===0?`var(--Grid-${n}Spacing)`:`var(--Grid-${n}Spacing${kd(e.unstable_level-1)})`}}function vj(e){return e.unstable_level===0?"var(--Grid-columns)":`var(--Grid-columns${kd(e.unstable_level-1)})`}const OSe=(e,t)=>e.filter(n=>t.includes(n)),Wy=(e,t,n)=>{const r=e.keys[0];Array.isArray(t)?t.forEach((o,i)=>{n((a,s)=>{i<=e.keys.length-1&&(i===0?Object.assign(a,s):a[e.up(e.keys[i])]=s)},o)}):t&&typeof t=="object"?(Object.keys(t).length>e.keys.length?e.keys:OSe(e.keys,Object.keys(t))).forEach(i=>{if(e.keys.indexOf(i)!==-1){const a=t[i];a!==void 0&&n((s,l)=>{r===i?Object.assign(s,l):s[e.up(i)]=l},a)}}):(typeof t=="number"||typeof t=="string")&&n((o,i)=>{Object.assign(o,i)},t)},ISe=({theme:e,ownerState:t})=>{const n=xne(t),r={};return Wy(e.breakpoints,t.gridSize,(o,i)=>{let a={};i===!0&&(a={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(a={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / ${vj(t)}${D_(t)?` + ${n("column")}`:""})`}),o(r,a)}),r},kSe=({theme:e,ownerState:t})=>{const n={};return Wy(e.breakpoints,t.gridOffset,(r,o)=>{let i={};o==="auto"&&(i={marginLeft:"auto"}),typeof o=="number"&&(i={marginLeft:o===0?"0px":`calc(100% * ${o} / ${vj(t)})`}),r(n,i)}),n},RSe=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=D_(t)?{[`--Grid-columns${kd(t.unstable_level)}`]:vj(t)}:{"--Grid-columns":12};return Wy(e.breakpoints,t.columns,(r,o)=>{r(n,{[`--Grid-columns${kd(t.unstable_level)}`]:o})}),n},LSe=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=gj(t),r=D_(t)?{[`--Grid-rowSpacing${kd(t.unstable_level)}`]:n("row")}:{};return Wy(e.breakpoints,t.rowSpacing,(o,i)=>{var a;o(r,{[`--Grid-rowSpacing${kd(t.unstable_level)}`]:typeof i=="string"?i:(a=e.spacing)==null?void 0:a.call(e,i)})}),r},$Se=({theme:e,ownerState:t})=>{if(!t.container)return{};const n=gj(t),r=D_(t)?{[`--Grid-columnSpacing${kd(t.unstable_level)}`]:n("column")}:{};return Wy(e.breakpoints,t.columnSpacing,(o,i)=>{var a;o(r,{[`--Grid-columnSpacing${kd(t.unstable_level)}`]:typeof i=="string"?i:(a=e.spacing)==null?void 0:a.call(e,i)})}),r},DSe=({theme:e,ownerState:t})=>{if(!t.container)return{};const n={};return Wy(e.breakpoints,t.direction,(r,o)=>{r(n,{flexDirection:o})}),n},FSe=({ownerState:e})=>{const t=xne(e),n=gj(e);return A({minWidth:0,boxSizing:"border-box"},e.container&&A({display:"flex",flexWrap:"wrap"},e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},{margin:`calc(${t("row")} / -2) calc(${t("column")} / -2)`},e.disableEqualOverflow&&{margin:`calc(${t("row")} * -1) 0px 0px calc(${t("column")} * -1)`}),(!e.container||D_(e))&&A({padding:`calc(${n("row")} / 2) calc(${n("column")} / 2)`},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:`${n("row")} 0px 0px ${n("column")}`}))},NSe=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{r!==!1&&r!==void 0&&t.push(`grid-${n}-${String(r)}`)}),t},BSe=(e,t="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(e))return[`spacing-${t}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const r=[];return Object.entries(e).forEach(([o,i])=>{n(i)&&r.push(`spacing-${o}-${String(i)}`)}),r}return[]},jSe=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([t,n])=>`direction-${t}-${n}`):[`direction-xs-${String(e)}`],zSe=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],HSe=Uy(),VSe=sj("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function USe(e){return $_({props:e,name:"MuiGrid",defaultTheme:HSe})}function GSe(e={}){const{createStyledComponent:t=VSe,useThemeProps:n=USe,componentName:r="MuiGrid"}=e,o=C.createContext(void 0),i=(l,c)=>{const{container:u,direction:d,spacing:f,wrap:p,gridSize:h}=l,g={root:["root",u&&"container",p!=="wrap"&&`wrap-xs-${String(p)}`,...jSe(d),...NSe(h),...u?BSe(f,c.breakpoints.keys[0]):[]]};return Qe(g,v=>lt(r,v),{})},a=t(RSe,$Se,LSe,ISe,DSe,FSe,kSe),s=C.forwardRef(function(c,u){var d,f,p,h,g,v,m,b;const x=R_(),y=n(c),w=L_(y),_=C.useContext(o),{className:S,children:P,columns:M=12,container:I=!1,component:O="div",direction:L="row",wrap:R="wrap",spacing:T=0,rowSpacing:E=T,columnSpacing:k=T,disableEqualOverflow:B,unstable_level:$=0}=w,j=De(w,zSe);let V=B;$&&B!==void 0&&(V=c.disableEqualOverflow);const q={},Q={},H={};Object.entries(j).forEach(([re,ae])=>{x.breakpoints.values[re]!==void 0?q[re]=ae:x.breakpoints.values[re.replace("Offset","")]!==void 0?Q[re.replace("Offset","")]=ae:H[re]=ae});const X=(d=c.columns)!=null?d:$?void 0:M,J=(f=c.spacing)!=null?f:$?void 0:T,G=(p=(h=c.rowSpacing)!=null?h:c.spacing)!=null?p:$?void 0:E,ie=(g=(v=c.columnSpacing)!=null?v:c.spacing)!=null?g:$?void 0:k,Y=A({},w,{level:$,columns:X,container:I,direction:L,wrap:R,spacing:J,rowSpacing:G,columnSpacing:ie,gridSize:q,gridOffset:Q,disableEqualOverflow:(m=(b=V)!=null?b:_)!=null?m:!1,parentDisableEqualOverflow:_}),le=i(Y,x);let te=N.jsx(a,A({ref:u,as:O,ownerState:Y,className:Ne(le.root,S)},H,{children:C.Children.map(P,re=>{if(C.isValidElement(re)&&vu(re,["Grid"])){var ae;return C.cloneElement(re,{unstable_level:(ae=re.props.unstable_level)!=null?ae:$+1})}return re})}));return V!==void 0&&V!==(_??!1)&&(te=N.jsx(o.Provider,{value:V,children:te})),te});return s.muiName="Grid",s}const WSe=["component","direction","spacing","divider","children","className","useFlexGap"],qSe=Uy(),XSe=sj("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function KSe(e){return $_({props:e,name:"MuiStack",defaultTheme:qSe})}function YSe(e,t){const n=C.Children.toArray(e).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(C.cloneElement(t,{key:`separator-${i}`})),r),[])}const ZSe=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],QSe=({ownerState:e,theme:t})=>{let n=A({display:"flex",flexDirection:"column"},as({theme:t},em({values:e.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(e.spacing){const r=ij(t),o=Object.keys(t.breakpoints.values).reduce((l,c)=>((typeof e.spacing=="object"&&e.spacing[c]!=null||typeof e.direction=="object"&&e.direction[c]!=null)&&(l[c]=!0),l),{}),i=em({values:e.direction,base:o}),a=em({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const f=c>0?i[u[c-1]]:"column";i[l]=f}}),n=jo(n,as({theme:t},a,(l,c)=>e.useFlexGap?{gap:Pm(r,l)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${ZSe(c?i[c]:e.direction)}`]:Pm(r,l)}}))}return n=n_e(t.breakpoints,n),n};function JSe(e={}){const{createStyledComponent:t=XSe,useThemeProps:n=KSe,componentName:r="MuiStack"}=e,o=()=>Qe({root:["root"]},l=>lt(r,l),{}),i=t(QSe);return C.forwardRef(function(l,c){const u=n(l),d=L_(u),{component:f="div",direction:p="column",spacing:h=0,divider:g,children:v,className:m,useFlexGap:b=!1}=d,x=De(d,WSe),y={direction:p,spacing:h,useFlexGap:b},w=o();return N.jsx(i,A({as:f,ownerState:y,ref:c,className:Ne(w.root,m)},x,{children:g?YSe(v,g):v}))})}const eCe=["defaultProps","mixins","overrides","palette","props","styleOverrides"],tCe=["type","mode"];function wne(e){const{defaultProps:t={},mixins:n={},overrides:r={},palette:o={},props:i={},styleOverrides:a={}}=e,s=De(e,eCe),l=A({},s,{components:{}});Object.keys(t).forEach(g=>{const v=l.components[g]||{};v.defaultProps=t[g],l.components[g]=v}),Object.keys(i).forEach(g=>{const v=l.components[g]||{};v.defaultProps=i[g],l.components[g]=v}),Object.keys(a).forEach(g=>{const v=l.components[g]||{};v.styleOverrides=a[g],l.components[g]=v}),Object.keys(r).forEach(g=>{const v=l.components[g]||{};v.styleOverrides=r[g],l.components[g]=v}),l.spacing=une(e.spacing);const c=ane(e.breakpoints||{}),u=l.spacing;l.mixins=A({gutters:(g={})=>A({paddingLeft:u(2),paddingRight:u(2)},g,{[c.up("sm")]:A({paddingLeft:u(3),paddingRight:u(3)},g[c.up("sm")])})},n);const{type:d,mode:f}=o,p=De(o,tCe),h=f||d||"light";return l.palette=A({text:{hint:h==="dark"?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.38)"},mode:h,type:h},p),l}function nCe(e,t){return A({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const rCe=["mode","contrastThreshold","tonalOffset"],$V={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nb.white,default:Nb.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},vR={text:{primary:Nb.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nb.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function DV(e,t,n,r){const o=r.light||r,i=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=ls(e.main,o):t==="dark"&&(e.dark=ss(e.main,i)))}function oCe(e="light"){return e==="dark"?{main:Sh[200],light:Sh[50],dark:Sh[400]}:{main:Sh[700],light:Sh[400],dark:Sh[800]}}function iCe(e="light"){return e==="dark"?{main:_h[200],light:_h[50],dark:_h[400]}:{main:_h[500],light:_h[300],dark:_h[700]}}function aCe(e="light"){return e==="dark"?{main:wh[500],light:wh[300],dark:wh[700]}:{main:wh[700],light:wh[400],dark:wh[800]}}function sCe(e="light"){return e==="dark"?{main:Ch[400],light:Ch[300],dark:Ch[700]}:{main:Ch[700],light:Ch[500],dark:Ch[900]}}function lCe(e="light"){return e==="dark"?{main:Ph[400],light:Ph[300],dark:Ph[700]}:{main:Ph[800],light:Ph[500],dark:Ph[900]}}function cCe(e="light"){return e==="dark"?{main:sv[400],light:sv[300],dark:sv[700]}:{main:"#ed6c02",light:sv[500],dark:sv[900]}}function uCe(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=De(e,rCe),i=e.primary||oCe(t),a=e.secondary||iCe(t),s=e.error||aCe(t),l=e.info||sCe(t),c=e.success||lCe(t),u=e.warning||cCe(t);function d(g){return fj(g,vR.text.primary)>=n?vR.text.primary:$V.text.primary}const f=({color:g,name:v,mainShade:m=500,lightShade:b=300,darkShade:x=700})=>{if(g=A({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(os(11,v?` (${v})`:"",m));if(typeof g.main!="string")throw new Error(os(12,v?` (${v})`:"",JSON.stringify(g.main)));return DV(g,"light",b,r),DV(g,"dark",x,r),g.contrastText||(g.contrastText=d(g.main)),g},p={dark:vR,light:$V};return jo(A({common:A({},Nb),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:s,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:Mte,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[t]),o)}const dCe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function fCe(e){return Math.round(e*1e5)/1e5}const FV={textTransform:"uppercase"},NV='"Roboto", "Helvetica", "Arial", sans-serif';function HT(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=NV,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=De(n,dCe),p=o/14,h=d||(m=>`${m/c*p}rem`),g=(m,b,x,y,w)=>A({fontFamily:r,fontWeight:m,fontSize:h(b),lineHeight:x},r===NV?{letterSpacing:`${fCe(y/b)}em`}:{},w,u),v={h1:g(i,96,1.167,-1.5),h2:g(i,60,1.2,-.5),h3:g(a,48,1.167,0),h4:g(a,34,1.235,.25),h5:g(a,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(a,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(a,16,1.5,.15),body2:g(a,14,1.43,.15),button:g(s,14,1.75,.4,FV),caption:g(a,12,1.66,.4),overline:g(a,12,2.66,1,FV),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return jo(A({htmlFontSize:c,pxToRem:h,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},v),f,{clone:!1})}const pCe=.2,hCe=.14,mCe=.12;function qr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${pCe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${hCe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${mCe})`].join(",")}const gCe=["none",qr(0,2,1,-1,0,1,1,0,0,1,3,0),qr(0,3,1,-2,0,2,2,0,0,1,5,0),qr(0,3,3,-2,0,3,4,0,0,1,8,0),qr(0,2,4,-1,0,4,5,0,0,1,10,0),qr(0,3,5,-1,0,5,8,0,0,1,14,0),qr(0,3,5,-1,0,6,10,0,0,1,18,0),qr(0,4,5,-2,0,7,10,1,0,2,16,1),qr(0,5,5,-3,0,8,10,1,0,3,14,2),qr(0,5,6,-3,0,9,12,1,0,3,16,2),qr(0,6,6,-3,0,10,14,1,0,4,18,3),qr(0,6,7,-4,0,11,15,1,0,4,20,3),qr(0,7,8,-4,0,12,17,2,0,5,22,4),qr(0,7,8,-4,0,13,19,2,0,5,24,4),qr(0,7,9,-4,0,14,21,2,0,5,26,4),qr(0,8,9,-5,0,15,22,2,0,6,28,5),qr(0,8,10,-5,0,16,24,2,0,6,30,5),qr(0,8,11,-5,0,17,26,2,0,6,32,5),qr(0,9,11,-5,0,18,28,2,0,7,34,6),qr(0,9,12,-6,0,19,29,2,0,7,36,6),qr(0,10,13,-6,0,20,31,3,0,8,38,7),qr(0,10,13,-6,0,21,33,3,0,8,40,7),qr(0,10,14,-6,0,22,35,3,0,8,42,7),qr(0,11,14,-7,0,23,36,3,0,9,44,8),qr(0,11,15,-7,0,24,38,3,0,9,46,8)],vCe=gCe,bCe=["duration","easing","delay"],bj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},VT={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function BV(e){return`${Math.round(e)}ms`}function yCe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function xCe(e){const t=A({},bj,e.easing),n=A({},VT,e.duration);return A({getAutoHeightDuration:yCe,create:(o=["all"],i={})=>{const{duration:a=n.standard,easing:s=t.easeInOut,delay:l=0}=i;return De(i,bCe),(Array.isArray(o)?o:[o]).map(c=>`${c} ${typeof a=="string"?a:BV(a)} ${s} ${typeof l=="string"?l:BV(l)}`).join(",")}},e,{easing:t,duration:n})}const wCe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_Ce=wCe,SCe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _p(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:i={}}=e,a=De(e,SCe);if(e.vars)throw new Error(os(18));const s=uCe(r),l=Uy(e);let c=jo(l,{mixins:nCe(l.breakpoints,n),palette:s,shadows:vCe.slice(),typography:HT(s,i),transitions:xCe(o),zIndex:A({},_Ce)});return c=jo(c,a),c=t.reduce((u,d)=>jo(u,d),c),c.unstable_sxConfig=A({},k_,a==null?void 0:a.unstable_sxConfig),c.unstable_sx=function(d){return Vy({sx:d,theme:this})},c}function _ne(...e){return _p(...e)}function Sne(e,...t){return _p(jo({unstable_strictMode:!0},e),...t)}let jV=!1;function Cne(e){return jV||(console.warn(["MUI: createStyles from @mui/material/styles is deprecated.","Please use @mui/styles/createStyles"].join(`
`)),jV=!0),e}function zV(e){return String(parseFloat(e)).length===String(e).length}function UT(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Zc(e){return parseFloat(e)}function CCe(e){return(t,n)=>{const r=UT(t);if(r===n)return t;let o=Zc(t);r!=="px"&&(r==="em"||r==="rem")&&(o=Zc(t)*Zc(e));let i=o;if(n!=="px")if(n==="em")i=o/Zc(e);else if(n==="rem")i=o/Zc(e);else return t;return parseFloat(i.toFixed(5))+n}}function PCe({size:e,grid:t}){const n=e-e%t,r=n+t;return e-n<r-e?n:r}function MCe({lineHeight:e,pixels:t,htmlFontSize:n}){return t/(e*n)}function ACe({cssProperty:e,min:t,max:n,unit:r="rem",breakpoints:o=[600,900,1200],transform:i=null}){const a={[e]:`${t}${r}`},s=(n-t)/o[o.length-1];return o.forEach(l=>{let c=t+s*l;i!==null&&(c=i(c)),a[`@media (min-width:${l}px)`]={[e]:`${Math.round(c*1e4)/1e4}${r}`}}),a}function Pne(e,t={}){const{breakpoints:n=["sm","md","lg"],disableAlign:r=!1,factor:o=2,variants:i=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=t,a=A({},e);a.typography=A({},a.typography);const s=a.typography,l=CCe(s.htmlFontSize),c=n.map(u=>a.breakpoints.values[u]);return i.forEach(u=>{const d=s[u],f=parseFloat(l(d.fontSize,"rem"));if(f<=1)return;const p=f,h=1+(p-1)/o;let{lineHeight:g}=d;if(!zV(g)&&!r)throw new Error(os(6));zV(g)||(g=parseFloat(l(g,"rem"))/parseFloat(f));let v=null;r||(v=m=>PCe({size:m,grid:MCe({pixels:4,lineHeight:g,htmlFontSize:s.htmlFontSize})})),s[u]=A({},d,ACe({cssProperty:"fontSize",min:h,max:p,unit:"rem",breakpoints:c,transform:v}))}),a}const ECe=_p(),GT=ECe;function Ir(){const e=R_(GT);return e[Su]||e}function dt({props:e,name:t}){return $_({props:e,name:t,defaultTheme:GT,themeId:Su})}const aa=e=>hx(e)&&e!=="classes",F_=hx,TCe=hne({themeId:Su,defaultTheme:GT,rootShouldForwardProp:aa}),Ee=TCe,OCe=["theme"];function yj(e){let{theme:t}=e,n=De(e,OCe);const r=t[Su];return N.jsx(vne,A({},n,{themeId:r?Su:void 0,theme:r||t}))}function Mne(){throw new Error(os(14))}function Ane(){throw new Error(os(15))}function Ene(){throw new Error(os(16))}function xj(e){var t;return!!e[0].match(/(cssVarPrefix|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const ICe=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},sw=ICe,kCe=["colorSchemes","cssVarPrefix","shouldSkipGeneratingVar"],RCe=["palette"],LCe=[...Array(25)].map((e,t)=>{if(t===0)return;const n=sw(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function $Ce(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function at(e,t,n){!e[t]&&n&&(e[t]=n)}function sf(e,t){`${t}Channel`in e||(e[`${t}Channel`]=O1(e[t],`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, e.g. "12 12 12") or undefined if you want to remove the channel token.`))}const $c=e=>{try{return e()}catch{}},DCe=(e="mui")=>bSe(e);function wj(e={},...t){var n,r,o,i,a,s;const{colorSchemes:l={},cssVarPrefix:c="mui",shouldSkipGeneratingVar:u=xj}=e,d=De(e,kCe),f=DCe(c),p=_p(A({},d,l.light&&{palette:(n=l.light)==null?void 0:n.palette})),{palette:h}=p,g=De(p,RCe),{palette:v}=_p({palette:A({mode:"dark"},(r=l.dark)==null?void 0:r.palette)});let m=A({},g,{cssVarPrefix:c,getCssVar:f,colorSchemes:A({},l,{light:A({},l.light,{palette:h,opacity:A({inputPlaceholder:.42,inputUnderline:.42,switchTrackDisabled:.12,switchTrack:.38},(o=l.light)==null?void 0:o.opacity),overlays:((i=l.light)==null?void 0:i.overlays)||[]}),dark:A({},l.dark,{palette:v,opacity:A({inputPlaceholder:.5,inputUnderline:.7,switchTrackDisabled:.2,switchTrack:.3},(a=l.dark)==null?void 0:a.opacity),overlays:((s=l.dark)==null?void 0:s.overlays)||LCe})})});Object.keys(m.colorSchemes).forEach(w=>{const _=m.colorSchemes[w].palette,S=P=>{const M=P.split("-"),I=M[1],O=M[2];return f(P,_[I][O])};if(w==="light"?(at(_.common,"background","#fff"),at(_.common,"onBackground","#000")):(at(_.common,"background","#000"),at(_.common,"onBackground","#fff")),$Ce(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w==="light"){at(_.Alert,"errorColor",kr(_.error.light,.6)),at(_.Alert,"infoColor",kr(_.info.light,.6)),at(_.Alert,"successColor",kr(_.success.light,.6)),at(_.Alert,"warningColor",kr(_.warning.light,.6)),at(_.Alert,"errorFilledBg",S("palette-error-main")),at(_.Alert,"infoFilledBg",S("palette-info-main")),at(_.Alert,"successFilledBg",S("palette-success-main")),at(_.Alert,"warningFilledBg",S("palette-warning-main")),at(_.Alert,"errorFilledColor",$c(()=>h.getContrastText(_.error.main))),at(_.Alert,"infoFilledColor",$c(()=>h.getContrastText(_.info.main))),at(_.Alert,"successFilledColor",$c(()=>h.getContrastText(_.success.main))),at(_.Alert,"warningFilledColor",$c(()=>h.getContrastText(_.warning.main))),at(_.Alert,"errorStandardBg",Rr(_.error.light,.9)),at(_.Alert,"infoStandardBg",Rr(_.info.light,.9)),at(_.Alert,"successStandardBg",Rr(_.success.light,.9)),at(_.Alert,"warningStandardBg",Rr(_.warning.light,.9)),at(_.Alert,"errorIconColor",S("palette-error-main")),at(_.Alert,"infoIconColor",S("palette-info-main")),at(_.Alert,"successIconColor",S("palette-success-main")),at(_.Alert,"warningIconColor",S("palette-warning-main")),at(_.AppBar,"defaultBg",S("palette-grey-100")),at(_.Avatar,"defaultBg",S("palette-grey-400")),at(_.Button,"inheritContainedBg",S("palette-grey-300")),at(_.Button,"inheritContainedHoverBg",S("palette-grey-A100")),at(_.Chip,"defaultBorder",S("palette-grey-400")),at(_.Chip,"defaultAvatarColor",S("palette-grey-700")),at(_.Chip,"defaultIconColor",S("palette-grey-700")),at(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),at(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),at(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),at(_.LinearProgress,"primaryBg",Rr(_.primary.main,.62)),at(_.LinearProgress,"secondaryBg",Rr(_.secondary.main,.62)),at(_.LinearProgress,"errorBg",Rr(_.error.main,.62)),at(_.LinearProgress,"infoBg",Rr(_.info.main,.62)),at(_.LinearProgress,"successBg",Rr(_.success.main,.62)),at(_.LinearProgress,"warningBg",Rr(_.warning.main,.62)),at(_.Skeleton,"bg",`rgba(${S("palette-text-primaryChannel")} / 0.11)`),at(_.Slider,"primaryTrack",Rr(_.primary.main,.62)),at(_.Slider,"secondaryTrack",Rr(_.secondary.main,.62)),at(_.Slider,"errorTrack",Rr(_.error.main,.62)),at(_.Slider,"infoTrack",Rr(_.info.main,.62)),at(_.Slider,"successTrack",Rr(_.success.main,.62)),at(_.Slider,"warningTrack",Rr(_.warning.main,.62));const P=I1(_.background.default,.8);at(_.SnackbarContent,"bg",P),at(_.SnackbarContent,"color",$c(()=>h.getContrastText(P))),at(_.SpeedDialAction,"fabHoverBg",I1(_.background.paper,.15)),at(_.StepConnector,"border",S("palette-grey-400")),at(_.StepContent,"border",S("palette-grey-400")),at(_.Switch,"defaultColor",S("palette-common-white")),at(_.Switch,"defaultDisabledColor",S("palette-grey-100")),at(_.Switch,"primaryDisabledColor",Rr(_.primary.main,.62)),at(_.Switch,"secondaryDisabledColor",Rr(_.secondary.main,.62)),at(_.Switch,"errorDisabledColor",Rr(_.error.main,.62)),at(_.Switch,"infoDisabledColor",Rr(_.info.main,.62)),at(_.Switch,"successDisabledColor",Rr(_.success.main,.62)),at(_.Switch,"warningDisabledColor",Rr(_.warning.main,.62)),at(_.TableCell,"border",Rr(NC(_.divider,1),.88)),at(_.Tooltip,"bg",NC(_.grey[700],.92))}else{at(_.Alert,"errorColor",Rr(_.error.light,.6)),at(_.Alert,"infoColor",Rr(_.info.light,.6)),at(_.Alert,"successColor",Rr(_.success.light,.6)),at(_.Alert,"warningColor",Rr(_.warning.light,.6)),at(_.Alert,"errorFilledBg",S("palette-error-dark")),at(_.Alert,"infoFilledBg",S("palette-info-dark")),at(_.Alert,"successFilledBg",S("palette-success-dark")),at(_.Alert,"warningFilledBg",S("palette-warning-dark")),at(_.Alert,"errorFilledColor",$c(()=>v.getContrastText(_.error.dark))),at(_.Alert,"infoFilledColor",$c(()=>v.getContrastText(_.info.dark))),at(_.Alert,"successFilledColor",$c(()=>v.getContrastText(_.success.dark))),at(_.Alert,"warningFilledColor",$c(()=>v.getContrastText(_.warning.dark))),at(_.Alert,"errorStandardBg",kr(_.error.light,.9)),at(_.Alert,"infoStandardBg",kr(_.info.light,.9)),at(_.Alert,"successStandardBg",kr(_.success.light,.9)),at(_.Alert,"warningStandardBg",kr(_.warning.light,.9)),at(_.Alert,"errorIconColor",S("palette-error-main")),at(_.Alert,"infoIconColor",S("palette-info-main")),at(_.Alert,"successIconColor",S("palette-success-main")),at(_.Alert,"warningIconColor",S("palette-warning-main")),at(_.AppBar,"defaultBg",S("palette-grey-900")),at(_.AppBar,"darkBg",S("palette-background-paper")),at(_.AppBar,"darkColor",S("palette-text-primary")),at(_.Avatar,"defaultBg",S("palette-grey-600")),at(_.Button,"inheritContainedBg",S("palette-grey-800")),at(_.Button,"inheritContainedHoverBg",S("palette-grey-700")),at(_.Chip,"defaultBorder",S("palette-grey-700")),at(_.Chip,"defaultAvatarColor",S("palette-grey-300")),at(_.Chip,"defaultIconColor",S("palette-grey-300")),at(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),at(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),at(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),at(_.LinearProgress,"primaryBg",kr(_.primary.main,.5)),at(_.LinearProgress,"secondaryBg",kr(_.secondary.main,.5)),at(_.LinearProgress,"errorBg",kr(_.error.main,.5)),at(_.LinearProgress,"infoBg",kr(_.info.main,.5)),at(_.LinearProgress,"successBg",kr(_.success.main,.5)),at(_.LinearProgress,"warningBg",kr(_.warning.main,.5)),at(_.Skeleton,"bg",`rgba(${S("palette-text-primaryChannel")} / 0.13)`),at(_.Slider,"primaryTrack",kr(_.primary.main,.5)),at(_.Slider,"secondaryTrack",kr(_.secondary.main,.5)),at(_.Slider,"errorTrack",kr(_.error.main,.5)),at(_.Slider,"infoTrack",kr(_.info.main,.5)),at(_.Slider,"successTrack",kr(_.success.main,.5)),at(_.Slider,"warningTrack",kr(_.warning.main,.5));const P=I1(_.background.default,.98);at(_.SnackbarContent,"bg",P),at(_.SnackbarContent,"color",$c(()=>v.getContrastText(P))),at(_.SpeedDialAction,"fabHoverBg",I1(_.background.paper,.15)),at(_.StepConnector,"border",S("palette-grey-600")),at(_.StepContent,"border",S("palette-grey-600")),at(_.Switch,"defaultColor",S("palette-grey-300")),at(_.Switch,"defaultDisabledColor",S("palette-grey-600")),at(_.Switch,"primaryDisabledColor",kr(_.primary.main,.55)),at(_.Switch,"secondaryDisabledColor",kr(_.secondary.main,.55)),at(_.Switch,"errorDisabledColor",kr(_.error.main,.55)),at(_.Switch,"infoDisabledColor",kr(_.info.main,.55)),at(_.Switch,"successDisabledColor",kr(_.success.main,.55)),at(_.Switch,"warningDisabledColor",kr(_.warning.main,.55)),at(_.TableCell,"border",kr(NC(_.divider,1),.68)),at(_.Tooltip,"bg",NC(_.grey[700],.92))}sf(_.background,"default"),sf(_.common,"background"),sf(_.common,"onBackground"),sf(_,"divider"),Object.keys(_).forEach(P=>{const M=_[P];M&&typeof M=="object"&&(M.main&&at(_[P],"mainChannel",O1(M.main)),M.light&&at(_[P],"lightChannel",O1(M.light)),M.dark&&at(_[P],"darkChannel",O1(M.dark)),M.contrastText&&at(_[P],"contrastTextChannel",O1(M.contrastText)),P==="text"&&(sf(_[P],"primary"),sf(_[P],"secondary")),P==="action"&&(M.active&&sf(_[P],"active"),M.selected&&sf(_[P],"selected")))})}),m=t.reduce((w,_)=>jo(w,_),m);const b={prefix:c,shouldSkipGeneratingVar:u},{vars:x,generateCssVars:y}=SSe(m,b);return m.vars=x,m.generateCssVars=y,m.shouldSkipGeneratingVar=u,m.unstable_sxConfig=A({},k_,d==null?void 0:d.unstable_sxConfig),m.unstable_sx=function(_){return Vy({sx:_,theme:this})},m}const FCe=e=>[...[...Array(24)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n+1}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],_j=FCe,NCe=wj(),{CssVarsProvider:Tne,useColorScheme:One,getInitColorSchemeScript:Ine}=vSe({themeId:Su,theme:NCe,attribute:"data-mui-color-scheme",modeStorageKey:"mui-mode",colorSchemeStorageKey:"mui-color-scheme",defaultColorScheme:{light:"light",dark:"dark"},resolveTheme:e=>{const t=A({},e,{typography:HT(e.palette,e.typography)});return t.unstable_sx=function(r){return Vy({sx:r,theme:this})},t},excludeVariablesFromRoot:_j});function kne(){throw new Error(os(20))}const BCe=Object.freeze(Object.defineProperty({__proto__:null,Experimental_CssVarsProvider:Tne,StyledEngineProvider:one,THEME_ID:Su,ThemeProvider:yj,adaptV4Theme:wne,alpha:Pt,createMuiTheme:_ne,createStyles:Cne,createTheme:_p,css:xc,darken:ss,decomposeColor:wc,duration:VT,easing:bj,emphasize:Hb,experimentalStyled:Ee,experimental_extendTheme:wj,experimental_sx:kne,getContrastRatio:fj,getInitColorSchemeScript:Ine,getLuminance:aw,getOverlayAlpha:sw,hexToRgb:uj,hslToRgb:dj,keyframes:Us,lighten:ls,makeStyles:Mne,private_createTypography:HT,private_excludeVariablesFromRoot:_j,recomposeColor:Gy,responsiveFontSizes:Pne,rgbToHex:mne,shouldSkipGeneratingVar:xj,styled:Ee,unstable_createMuiStrictModeTheme:Sne,unstable_getUnit:UT,unstable_toUnitless:Zc,useColorScheme:One,useTheme:Ir,useThemeProps:dt,withStyles:Ane,withTheme:Ene},Symbol.toStringTag,{value:"Module"}));function dc(e){return typeof e=="string"}function k1(e,t,n){return e===void 0||dc(e)?t:A({},t,{ownerState:A({},t.ownerState,n)})}function jCe(e,t,n=(r,o)=>r===o){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}const zCe={disableDefaultClasses:!1},HCe=C.createContext(zCe);function Rne(e){const{disableDefaultClasses:t}=C.useContext(HCe);return n=>t?"":e(n)}function Lne(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function DF(e,t){return typeof e=="function"?e(t):e}function HV(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function VCe(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const p=Ne(o==null?void 0:o.className,r==null?void 0:r.className,i,n==null?void 0:n.className),h=A({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),g=A({},n,o,r);return p.length>0&&(g.className=p),Object.keys(h).length>0&&(g.style=h),{props:g,internalRef:void 0}}const a=Lne(A({},o,r)),s=HV(r),l=HV(o),c=t(a),u=Ne(c==null?void 0:c.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),d=A({},c==null?void 0:c.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),f=A({},c,n,l,s);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const UCe=["elementType","externalSlotProps","ownerState"];function Yo(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o}=e,i=De(e,UCe),a=DF(r,o),{props:s,internalRef:l}=VCe(A({},i,{externalSlotProps:a})),c=wn(l,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return k1(n,A({},s,{ref:c}),o)}function GCe(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,i=H4({badgeContent:t,max:r});let a=n;n===!1&&t===0&&!o&&(a=!0);const{badgeContent:s,max:l=r}=a?i:e,c=s&&Number(s)>l?`${l}+`:s;return{badgeContent:s,invisible:a,max:l,displayValue:c}}function VV(e){return e.substring(2).toLowerCase()}function WCe(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function WT(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,a=C.useRef(!1),s=C.useRef(null),l=C.useRef(!1),c=C.useRef(!1);C.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=wn(t.ref,s),d=Dn(h=>{const g=c.current;c.current=!1;const v=Kn(s.current);if(!l.current||!s.current||"clientX"in h&&WCe(h,v))return;if(a.current){a.current=!1;return}let m;h.composedPath?m=h.composedPath().indexOf(s.current)>-1:m=!v.documentElement.contains(h.target)||s.current.contains(h.target),!m&&(n||!g)&&o(h)}),f=h=>g=>{c.current=!0;const v=t.props[h];v&&v(g)},p={ref:u};return i!==!1&&(p[i]=f(i)),C.useEffect(()=>{if(i!==!1){const h=VV(i),g=Kn(s.current),v=()=>{a.current=!0};return g.addEventListener(h,d),g.addEventListener("touchmove",v),()=>{g.removeEventListener(h,d),g.removeEventListener("touchmove",v)}}},[d,i]),r!==!1&&(p[r]=f(r)),C.useEffect(()=>{if(r!==!1){const h=VV(r),g=Kn(s.current);return g.addEventListener(h,d),()=>{g.removeEventListener(h,d)}}},[d,r]),N.jsx(C.Fragment,{children:C.cloneElement(t,p)})}const qCe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function XCe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function KCe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function YCe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||KCe(e))}function ZCe(e){const t=[],n=[];return Array.from(e.querySelectorAll(qCe)).forEach((r,o)=>{const i=XCe(r);i===-1||!YCe(r)||(i===0?t.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(t)}function QCe(){return!0}function Sj(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=ZCe,isEnabled:a=QCe,open:s}=e,l=C.useRef(!1),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),p=C.useRef(!1),h=C.useRef(null),g=wn(t.ref,h),v=C.useRef(null);C.useEffect(()=>{!s||!h.current||(p.current=!n)},[n,s]),C.useEffect(()=>{if(!s||!h.current)return;const x=Kn(h.current);return h.current.contains(x.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),p.current&&h.current.focus()),()=>{o||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),C.useEffect(()=>{if(!s||!h.current)return;const x=Kn(h.current),y=S=>{const{current:P}=h;if(P!==null){if(!x.hasFocus()||r||!a()||l.current){l.current=!1;return}if(!P.contains(x.activeElement)){if(S&&f.current!==S.target||x.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let O=[];if((x.activeElement===c.current||x.activeElement===u.current)&&(O=i(h.current)),O.length>0){var M,I;const L=!!((M=v.current)!=null&&M.shiftKey&&((I=v.current)==null?void 0:I.key)==="Tab"),R=O[0],T=O[O.length-1];typeof R!="string"&&typeof T!="string"&&(L?T.focus():R.focus())}else P.focus()}}},w=S=>{v.current=S,!(r||!a()||S.key!=="Tab")&&x.activeElement===h.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())};x.addEventListener("focusin",y),x.addEventListener("keydown",w,!0);const _=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&y(null)},50);return()=>{clearInterval(_),x.removeEventListener("focusin",y),x.removeEventListener("keydown",w,!0)}},[n,r,o,a,s,i]);const m=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0,f.current=x.target;const y=t.props.onFocus;y&&y(x)},b=x=>{d.current===null&&(d.current=x.relatedTarget),p.current=!0};return N.jsxs(C.Fragment,{children:[N.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),C.cloneElement(t,{ref:g,onFocus:m}),N.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:u,"data-testid":"sentinelEnd"})]})}var es="top",Pl="bottom",Ml="right",ts="left",Cj="auto",N_=[es,Pl,Ml,ts],Vb="start",lw="end",JCe="clippingParents",$ne="viewport",j0="popper",e2e="reference",UV=N_.reduce(function(e,t){return e.concat([t+"-"+Vb,t+"-"+lw])},[]),Dne=[].concat(N_,[Cj]).reduce(function(e,t){return e.concat([t,t+"-"+Vb,t+"-"+lw])},[]),t2e="beforeRead",n2e="read",r2e="afterRead",o2e="beforeMain",i2e="main",a2e="afterMain",s2e="beforeWrite",l2e="write",c2e="afterWrite",u2e=[t2e,n2e,r2e,o2e,i2e,a2e,s2e,l2e,c2e];function Cu(e){return e?(e.nodeName||"").toLowerCase():null}function Ls(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mm(e){var t=Ls(e).Element;return e instanceof t||e instanceof Element}function yl(e){var t=Ls(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Pj(e){if(typeof ShadowRoot>"u")return!1;var t=Ls(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function d2e(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},i=t.elements[n];!yl(i)||!Cu(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(a){var s=o[a];s===!1?i.removeAttribute(a):i.setAttribute(a,s===!0?"":s)}))})}function f2e(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],i=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=a.reduce(function(l,c){return l[c]="",l},{});!yl(o)||!Cu(o)||(Object.assign(o.style,s),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const p2e={name:"applyStyles",enabled:!0,phase:"write",fn:d2e,effect:f2e,requires:["computeStyles"]};function yu(e){return e.split("-")[0]}var tm=Math.max,mA=Math.min,Ub=Math.round;function FF(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Fne(){return!/^((?!chrome|android).)*safari/i.test(FF())}function Gb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&yl(e)&&(o=e.offsetWidth>0&&Ub(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ub(r.height)/e.offsetHeight||1);var a=Mm(e)?Ls(e):window,s=a.visualViewport,l=!Fne()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/o,u=(r.top+(l&&s?s.offsetTop:0))/i,d=r.width/o,f=r.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function Mj(e){var t=Gb(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Nne(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Pj(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rd(e){return Ls(e).getComputedStyle(e)}function h2e(e){return["table","td","th"].indexOf(Cu(e))>=0}function Hp(e){return((Mm(e)?e.ownerDocument:e.document)||window.document).documentElement}function qT(e){return Cu(e)==="html"?e:e.assignedSlot||e.parentNode||(Pj(e)?e.host:null)||Hp(e)}function GV(e){return!yl(e)||Rd(e).position==="fixed"?null:e.offsetParent}function m2e(e){var t=/firefox/i.test(FF()),n=/Trident/i.test(FF());if(n&&yl(e)){var r=Rd(e);if(r.position==="fixed")return null}var o=qT(e);for(Pj(o)&&(o=o.host);yl(o)&&["html","body"].indexOf(Cu(o))<0;){var i=Rd(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function B_(e){for(var t=Ls(e),n=GV(e);n&&h2e(n)&&Rd(n).position==="static";)n=GV(n);return n&&(Cu(n)==="html"||Cu(n)==="body"&&Rd(n).position==="static")?t:n||m2e(e)||t}function Aj(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function mx(e,t,n){return tm(e,mA(t,n))}function g2e(e,t,n){var r=mx(e,t,n);return r>n?n:r}function Bne(){return{top:0,right:0,bottom:0,left:0}}function jne(e){return Object.assign({},Bne(),e)}function zne(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var v2e=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,jne(typeof t!="number"?t:zne(t,N_))};function b2e(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=yu(n.placement),l=Aj(s),c=[ts,Ml].indexOf(s)>=0,u=c?"height":"width";if(!(!i||!a)){var d=v2e(o.padding,n),f=Mj(i),p=l==="y"?es:ts,h=l==="y"?Pl:Ml,g=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],v=a[l]-n.rects.reference[l],m=B_(i),b=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,x=g/2-v/2,y=d[p],w=b-f[u]-d[h],_=b/2-f[u]/2+x,S=mx(y,_,w),P=l;n.modifiersData[r]=(t={},t[P]=S,t.centerOffset=S-_,t)}}function y2e(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Nne(t.elements.popper,o)&&(t.elements.arrow=o))}const x2e={name:"arrow",enabled:!0,phase:"main",fn:b2e,effect:y2e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wb(e){return e.split("-")[1]}var w2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _2e(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ub(n*o)/o||0,y:Ub(r*o)/o||0}}function WV(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=a.x,p=f===void 0?0:f,h=a.y,g=h===void 0?0:h,v=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var m=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),x=ts,y=es,w=window;if(c){var _=B_(n),S="clientHeight",P="clientWidth";if(_===Ls(n)&&(_=Hp(n),Rd(_).position!=="static"&&s==="absolute"&&(S="scrollHeight",P="scrollWidth")),_=_,o===es||(o===ts||o===Ml)&&i===lw){y=Pl;var M=d&&_===w&&w.visualViewport?w.visualViewport.height:_[S];g-=M-r.height,g*=l?1:-1}if(o===ts||(o===es||o===Pl)&&i===lw){x=Ml;var I=d&&_===w&&w.visualViewport?w.visualViewport.width:_[P];p-=I-r.width,p*=l?1:-1}}var O=Object.assign({position:s},c&&w2e),L=u===!0?_2e({x:p,y:g},Ls(n)):{x:p,y:g};if(p=L.x,g=L.y,l){var R;return Object.assign({},O,(R={},R[y]=b?"0":"",R[x]=m?"0":"",R.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",R))}return Object.assign({},O,(t={},t[y]=b?g+"px":"",t[x]=m?p+"px":"",t.transform="",t))}function S2e(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,a=i===void 0?!0:i,s=n.roundOffsets,l=s===void 0?!0:s,c={placement:yu(t.placement),variation:Wb(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,WV(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,WV(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const C2e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:S2e,data:{}};var BC={passive:!0};function P2e(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,a=r.resize,s=a===void 0?!0:a,l=Ls(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,BC)}),s&&l.addEventListener("resize",n.update,BC),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,BC)}),s&&l.removeEventListener("resize",n.update,BC)}}const M2e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:P2e,data:{}};var A2e={left:"right",right:"left",bottom:"top",top:"bottom"};function UP(e){return e.replace(/left|right|bottom|top/g,function(t){return A2e[t]})}var E2e={start:"end",end:"start"};function qV(e){return e.replace(/start|end/g,function(t){return E2e[t]})}function Ej(e){var t=Ls(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Tj(e){return Gb(Hp(e)).left+Ej(e).scrollLeft}function T2e(e,t){var n=Ls(e),r=Hp(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=Fne();(c||!c&&t==="fixed")&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+Tj(e),y:l}}function O2e(e){var t,n=Hp(e),r=Ej(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=tm(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=tm(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Tj(e),l=-r.scrollTop;return Rd(o||n).direction==="rtl"&&(s+=tm(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}function Oj(e){var t=Rd(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Hne(e){return["html","body","#document"].indexOf(Cu(e))>=0?e.ownerDocument.body:yl(e)&&Oj(e)?e:Hne(qT(e))}function gx(e,t){var n;t===void 0&&(t=[]);var r=Hne(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Ls(r),a=o?[i].concat(i.visualViewport||[],Oj(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(gx(qT(a)))}function NF(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function I2e(e,t){var n=Gb(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function XV(e,t,n){return t===$ne?NF(T2e(e,n)):Mm(t)?I2e(t,n):NF(O2e(Hp(e)))}function k2e(e){var t=gx(qT(e)),n=["absolute","fixed"].indexOf(Rd(e).position)>=0,r=n&&yl(e)?B_(e):e;return Mm(r)?t.filter(function(o){return Mm(o)&&Nne(o,r)&&Cu(o)!=="body"}):[]}function R2e(e,t,n,r){var o=t==="clippingParents"?k2e(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce(function(l,c){var u=XV(e,c,r);return l.top=tm(u.top,l.top),l.right=mA(u.right,l.right),l.bottom=mA(u.bottom,l.bottom),l.left=tm(u.left,l.left),l},XV(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Vne(e){var t=e.reference,n=e.element,r=e.placement,o=r?yu(r):null,i=r?Wb(r):null,a=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(o){case es:l={x:a,y:t.y-n.height};break;case Pl:l={x:a,y:t.y+t.height};break;case Ml:l={x:t.x+t.width,y:s};break;case ts:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var c=o?Aj(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Vb:l[c]=l[c]-(t[u]/2-n[u]/2);break;case lw:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function cw(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,a=i===void 0?e.strategy:i,s=n.boundary,l=s===void 0?JCe:s,c=n.rootBoundary,u=c===void 0?$ne:c,d=n.elementContext,f=d===void 0?j0:d,p=n.altBoundary,h=p===void 0?!1:p,g=n.padding,v=g===void 0?0:g,m=jne(typeof v!="number"?v:zne(v,N_)),b=f===j0?e2e:j0,x=e.rects.popper,y=e.elements[h?b:f],w=R2e(Mm(y)?y:y.contextElement||Hp(e.elements.popper),l,u,a),_=Gb(e.elements.reference),S=Vne({reference:_,element:x,strategy:"absolute",placement:o}),P=NF(Object.assign({},x,S)),M=f===j0?P:_,I={top:w.top-M.top+m.top,bottom:M.bottom-w.bottom+m.bottom,left:w.left-M.left+m.left,right:M.right-w.right+m.right},O=e.modifiersData.offset;if(f===j0&&O){var L=O[o];Object.keys(I).forEach(function(R){var T=[Ml,Pl].indexOf(R)>=0?1:-1,E=[es,Pl].indexOf(R)>=0?"y":"x";I[R]+=L[E]*T})}return I}function L2e(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Dne:l,u=Wb(r),d=u?s?UV:UV.filter(function(h){return Wb(h)===u}):N_,f=d.filter(function(h){return c.indexOf(h)>=0});f.length===0&&(f=d);var p=f.reduce(function(h,g){return h[g]=cw(e,{placement:g,boundary:o,rootBoundary:i,padding:a})[yu(g)],h},{});return Object.keys(p).sort(function(h,g){return p[h]-p[g]})}function $2e(e){if(yu(e)===Cj)return[];var t=UP(e);return[qV(e),t,qV(t)]}function D2e(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,g=n.allowedAutoPlacements,v=t.options.placement,m=yu(v),b=m===v,x=l||(b||!h?[UP(v)]:$2e(v)),y=[v].concat(x).reduce(function(X,J){return X.concat(yu(J)===Cj?L2e(t,{placement:J,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:g}):J)},[]),w=t.rects.reference,_=t.rects.popper,S=new Map,P=!0,M=y[0],I=0;I<y.length;I++){var O=y[I],L=yu(O),R=Wb(O)===Vb,T=[es,Pl].indexOf(L)>=0,E=T?"width":"height",k=cw(t,{placement:O,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),B=T?R?Ml:ts:R?Pl:es;w[E]>_[E]&&(B=UP(B));var $=UP(B),j=[];if(i&&j.push(k[L]<=0),s&&j.push(k[B]<=0,k[$]<=0),j.every(function(X){return X})){M=O,P=!1;break}S.set(O,j)}if(P)for(var V=h?3:1,q=function(J){var G=y.find(function(ie){var Y=S.get(ie);if(Y)return Y.slice(0,J).every(function(le){return le})});if(G)return M=G,"break"},Q=V;Q>0;Q--){var H=q(Q);if(H==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}const F2e={name:"flip",enabled:!0,phase:"main",fn:D2e,requiresIfExists:["offset"],data:{_skip:!1}};function KV(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function YV(e){return[es,Ml,Pl,ts].some(function(t){return e[t]>=0})}function N2e(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=cw(t,{elementContext:"reference"}),s=cw(t,{altBoundary:!0}),l=KV(a,r),c=KV(s,o,i),u=YV(l),d=YV(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const B2e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:N2e};function j2e(e,t,n){var r=yu(e),o=[ts,es].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ts,Ml].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function z2e(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,a=Dne.reduce(function(u,d){return u[d]=j2e(d,t.rects,i),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}const H2e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:z2e};function V2e(e){var t=e.state,n=e.name;t.modifiersData[n]=Vne({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const U2e={name:"popperOffsets",enabled:!0,phase:"read",fn:V2e,data:{}};function G2e(e){return e==="x"?"y":"x"}function W2e(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,h=n.tetherOffset,g=h===void 0?0:h,v=cw(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),m=yu(t.placement),b=Wb(t.placement),x=!b,y=Aj(m),w=G2e(y),_=t.modifiersData.popperOffsets,S=t.rects.reference,P=t.rects.popper,M=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,I=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(_){if(i){var R,T=y==="y"?es:ts,E=y==="y"?Pl:Ml,k=y==="y"?"height":"width",B=_[y],$=B+v[T],j=B-v[E],V=p?-P[k]/2:0,q=b===Vb?S[k]:P[k],Q=b===Vb?-P[k]:-S[k],H=t.elements.arrow,X=p&&H?Mj(H):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Bne(),G=J[T],ie=J[E],Y=mx(0,S[k],X[k]),le=x?S[k]/2-V-Y-G-I.mainAxis:q-Y-G-I.mainAxis,te=x?-S[k]/2+V+Y+ie+I.mainAxis:Q+Y+ie+I.mainAxis,re=t.elements.arrow&&B_(t.elements.arrow),ae=re?y==="y"?re.clientTop||0:re.clientLeft||0:0,pe=(R=O==null?void 0:O[y])!=null?R:0,we=B+le-pe-ae,fe=B+te-pe,_e=mx(p?mA($,we):$,B,p?tm(j,fe):j);_[y]=_e,L[y]=_e-B}if(s){var W,oe=y==="x"?es:ts,Ce=y==="x"?Pl:Ml,ve=_[w],me=w==="y"?"height":"width",ye=ve+v[oe],Le=ve-v[Ce],Te=[es,ts].indexOf(m)!==-1,Me=(W=O==null?void 0:O[w])!=null?W:0,$e=Te?ye:ve-S[me]-P[me]-Me+I.altAxis,U=Te?ve+S[me]+P[me]-Me-I.altAxis:Le,D=p&&Te?g2e($e,ve,U):mx(p?$e:ye,ve,p?U:Le);_[w]=D,L[w]=D-ve}t.modifiersData[r]=L}}const q2e={name:"preventOverflow",enabled:!0,phase:"main",fn:W2e,requiresIfExists:["offset"]};function X2e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function K2e(e){return e===Ls(e)||!yl(e)?Ej(e):X2e(e)}function Y2e(e){var t=e.getBoundingClientRect(),n=Ub(t.width)/e.offsetWidth||1,r=Ub(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Z2e(e,t,n){n===void 0&&(n=!1);var r=yl(t),o=yl(t)&&Y2e(t),i=Hp(t),a=Gb(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Cu(t)!=="body"||Oj(i))&&(s=K2e(t)),yl(t)?(l=Gb(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=Tj(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Q2e(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&o(l)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function J2e(e){var t=Q2e(e);return u2e.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function ePe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function tPe(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var ZV={placement:"bottom",modifiers:[],strategy:"absolute"};function QV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nPe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?ZV:o;return function(s,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ZV,i),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(m){var b=typeof m=="function"?m(u.options):m;g(),u.options=Object.assign({},i,u.options,b),u.scrollParents={reference:Mm(s)?gx(s):s.contextElement?gx(s.contextElement):[],popper:gx(l)};var x=J2e(tPe([].concat(r,u.options.modifiers)));return u.orderedModifiers=x.filter(function(y){return y.enabled}),h(),p.update()},forceUpdate:function(){if(!f){var m=u.elements,b=m.reference,x=m.popper;if(QV(b,x)){u.rects={reference:Z2e(b,B_(x),u.options.strategy==="fixed"),popper:Mj(x)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var w=u.orderedModifiers[y],_=w.fn,S=w.options,P=S===void 0?{}:S,M=w.name;typeof _=="function"&&(u=_({state:u,options:P,name:M,instance:p})||u)}}}},update:ePe(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){g(),f=!0}};if(!QV(s,l))return p;p.setOptions(c).then(function(v){!f&&c.onFirstUpdate&&c.onFirstUpdate(v)});function h(){u.orderedModifiers.forEach(function(v){var m=v.name,b=v.options,x=b===void 0?{}:b,y=v.effect;if(typeof y=="function"){var w=y({state:u,name:m,instance:p,options:x}),_=function(){};d.push(w||_)}})}function g(){d.forEach(function(v){return v()}),d=[]}return p}}var rPe=[M2e,U2e,C2e,p2e,H2e,F2e,q2e,x2e,B2e],oPe=nPe({defaultModifiers:rPe});function iPe(e){return typeof e=="function"?e():e}const aPe=C.forwardRef(function(t,n){const{children:r,container:o,disablePortal:i=!1}=t,[a,s]=C.useState(null),l=wn(C.isValidElement(r)?r.ref:null,n);if(ar(()=>{i||s(iPe(o)||document.body)},[o,i]),ar(()=>{if(a&&!i)return Bb(n,a),()=>{Bb(n,null)}},[n,a,i]),i){if(C.isValidElement(r)){const c={ref:l};return C.cloneElement(r,c)}return N.jsx(C.Fragment,{children:r})}return N.jsx(C.Fragment,{children:a&&Td.createPortal(r,a)})}),Ij=aPe;function sPe(e){return lt("MuiPopper",e)}ut("MuiPopper",["root"]);const lPe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],cPe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function uPe(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function BF(e){return typeof e=="function"?e():e}function dPe(e){return e.nodeType!==void 0}const fPe=()=>Qe({root:["root"]},Rne(sPe)),pPe={},hPe=C.forwardRef(function(t,n){var r;const{anchorEl:o,children:i,direction:a,disablePortal:s,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:p={},slots:h={},TransitionProps:g}=t,v=De(t,lPe),m=C.useRef(null),b=wn(m,n),x=C.useRef(null),y=wn(x,f),w=C.useRef(y);ar(()=>{w.current=y},[y]),C.useImperativeHandle(f,()=>x.current,[]);const _=uPe(u,a),[S,P]=C.useState(_),[M,I]=C.useState(BF(o));C.useEffect(()=>{x.current&&x.current.forceUpdate()}),C.useEffect(()=>{o&&I(BF(o))},[o]),ar(()=>{if(!M||!c)return;const E=$=>{P($.placement)};let k=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:$})=>{E($)}}];l!=null&&(k=k.concat(l)),d&&d.modifiers!=null&&(k=k.concat(d.modifiers));const B=oPe(M,m.current,A({placement:_},d,{modifiers:k}));return w.current(B),()=>{B.destroy(),w.current(null)}},[M,s,l,c,d,_]);const O={placement:S};g!==null&&(O.TransitionProps=g);const L=fPe(),R=(r=h.root)!=null?r:"div",T=Yo({elementType:R,externalSlotProps:p.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:b},ownerState:t,className:L.root});return N.jsx(R,A({},T,{children:typeof i=="function"?i(O):i}))}),mPe=C.forwardRef(function(t,n){const{anchorEl:r,children:o,container:i,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=pPe,popperRef:p,style:h,transition:g=!1,slotProps:v={},slots:m={}}=t,b=De(t,cPe),[x,y]=C.useState(!0),w=()=>{y(!1)},_=()=>{y(!0)};if(!l&&!u&&(!g||x))return null;let S;if(i)S=i;else if(r){const I=BF(r);S=I&&dPe(I)?Kn(I).body:Kn(null).body}const P=!u&&l&&(!g||x)?"none":void 0,M=g?{in:u,onEnter:w,onExited:_}:void 0;return N.jsx(Ij,{disablePortal:s,container:S,children:N.jsx(hPe,A({anchorEl:r,direction:a,disablePortal:s,modifiers:c,ref:n,open:g?!x:u,placement:d,popperOptions:f,popperRef:p,slotProps:v,slots:m},b,{style:A({position:"fixed",top:0,left:0,display:P},h),TransitionProps:M,children:o}))})}),gPe=mPe;function vPe(e){const t=Kn(e);return t.body===e?ei(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function vx(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function JV(e){return parseInt(ei(e).getComputedStyle(e).paddingRight,10)||0}function bPe(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function eU(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,a=>{const s=i.indexOf(a)===-1,l=!bPe(a);s&&l&&vx(a,o)})}function bR(e,t){let n=-1;return e.some((r,o)=>t(r)?(n=o,!0):!1),n}function yPe(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(vPe(r)){const a=Fte(Kn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${JV(r)+a}px`;const s=Kn(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${JV(l)+a}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=Kn(r).body;else{const a=r.parentElement,s=ei(r);i=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:a,property:s})=>{i?a.style.setProperty(s,i):a.style.removeProperty(s)})}}function xPe(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class Une{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&vx(t.modalRef,!1);const o=xPe(n);eU(n,t.mount,t.modalRef,o,!0);const i=bR(this.containers,a=>a.container===n);return i!==-1?(this.containers[i].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),r)}mount(t,n){const r=bR(this.containers,i=>i.modals.indexOf(t)!==-1),o=this.containers[r];o.restore||(o.restore=yPe(o,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const o=bR(this.containers,a=>a.modals.indexOf(t)!==-1),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(t),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),t.modalRef&&vx(t.modalRef,n),eU(i.container,t.mount,t.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&vx(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function wPe(e){return lt("MuiModal",e)}const _Pe=ut("MuiModal",["root","hidden","backdrop"]),SPe=_Pe,CPe=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],PPe=e=>{const{open:t,exited:n}=e;return Qe({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Rne(wPe))};function MPe(e){return typeof e=="function"?e():e}function APe(e){return e?e.props.hasOwnProperty("in"):!1}const EPe=new Une,TPe=C.forwardRef(function(t,n){var r,o;const{children:i,closeAfterTransition:a=!1,container:s,disableAutoFocus:l=!1,disableEnforceFocus:c=!1,disableEscapeKeyDown:u=!1,disablePortal:d=!1,disableRestoreFocus:f=!1,disableScrollLock:p=!1,hideBackdrop:h=!1,keepMounted:g=!1,manager:v=EPe,onBackdropClick:m,onClose:b,onKeyDown:x,open:y,onTransitionEnter:w,onTransitionExited:_,slotProps:S={},slots:P={}}=t,M=De(t,CPe),I=v,[O,L]=C.useState(!y),R=C.useRef({}),T=C.useRef(null),E=C.useRef(null),k=wn(E,n),B=APe(i),$=(r=t["aria-hidden"])!=null?r:!0,j=()=>Kn(T.current),V=()=>(R.current.modalRef=E.current,R.current.mountNode=T.current,R.current),q=()=>{I.mount(V(),{disableScrollLock:p}),E.current&&(E.current.scrollTop=0)},Q=Dn(()=>{const W=MPe(s)||j().body;I.add(V(),W),E.current&&q()}),H=C.useCallback(()=>I.isTopModal(V()),[I]),X=Dn(W=>{T.current=W,!(!W||!E.current)&&(y&&H()?q():vx(E.current,$))}),J=C.useCallback(()=>{I.remove(V(),$)},[I,$]);C.useEffect(()=>()=>{J()},[J]),C.useEffect(()=>{y?Q():(!B||!a)&&J()},[y,J,B,a,Q]);const G=A({},t,{closeAfterTransition:a,disableAutoFocus:l,disableEnforceFocus:c,disableEscapeKeyDown:u,disablePortal:d,disableRestoreFocus:f,disableScrollLock:p,exited:O,hideBackdrop:h,keepMounted:g}),ie=PPe(G),Y=()=>{L(!1),w&&w()},le=()=>{L(!0),_&&_(),a&&J()},te=W=>{W.target===W.currentTarget&&(m&&m(W),b&&b(W,"backdropClick"))},re=W=>{x&&x(W),!(W.key!=="Escape"||!H())&&(u||(W.stopPropagation(),b&&b(W,"escapeKeyDown")))},ae={};i.props.tabIndex===void 0&&(ae.tabIndex="-1"),B&&(ae.onEnter=nw(Y,i.props.onEnter),ae.onExited=nw(le,i.props.onExited));const pe=(o=P.root)!=null?o:"div",we=Yo({elementType:pe,externalSlotProps:S.root,externalForwardedProps:M,additionalProps:{ref:k,role:"presentation",onKeyDown:re},className:ie.root,ownerState:G}),fe=P.backdrop,_e=Yo({elementType:fe,externalSlotProps:S.backdrop,additionalProps:{"aria-hidden":!0,onClick:te,open:y},className:ie.backdrop,ownerState:G});return!g&&!y&&(!B||O)?null:N.jsx(Ij,{ref:X,container:s,disablePortal:d,children:N.jsxs(pe,A({},we,{children:[!h&&fe?N.jsx(fe,A({},_e)):null,N.jsx(Sj,{disableEnforceFocus:c,disableAutoFocus:l,disableRestoreFocus:f,isEnabled:H,open:y,children:C.cloneElement(i,ae)})]}))})}),OPe=TPe;function Gne(e){const{children:t,defer:n=!1,fallback:r=null}=e,[o,i]=C.useState(!1);return ar(()=>{n||i(!0)},[n]),C.useEffect(()=>{n&&i(!0)},[n]),N.jsx(C.Fragment,{children:o?t:r})}const IPe=2;function Wne(e,t){return e-t}function z0(e,t,n){return e==null?t:Math.min(Math.max(t,e),n)}function tU(e,t){var n;const{index:r}=(n=e.reduce((o,i,a)=>{const s=Math.abs(t-i);return o===null||s<o.distance||s===o.distance?{distance:s,index:a}:o},null))!=null?n:{};return r}function jC(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let r=0;r<n.changedTouches.length;r+=1){const o=n.changedTouches[r];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function gA(e,t,n){return(e-t)*100/(n-t)}function kPe(e,t,n){return(n-t)*e+t}function RPe(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function LPe(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(RPe(t)))}function nU({values:e,newValue:t,index:n}){const r=e.slice();return r[n]=t,r.sort(Wne)}function zC({sliderRef:e,activeIndex:t,setActive:n}){var r,o;const i=Kn(e.current);if(!((r=e.current)!=null&&r.contains(i.activeElement))||Number(i==null||(o=i.activeElement)==null?void 0:o.getAttribute("data-index"))!==t){var a;(a=e.current)==null||a.querySelector(`[type="range"][data-index="${t}"]`).focus()}n&&n(t)}function HC(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?jCe(e,t):!1}const $Pe={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},DPe=e=>e;let VC;function yR(){return VC===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?VC=CSS.supports("touch-action","none"):VC=!0),VC}function FPe(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:o=!1,isRtl:i=!1,marks:a=!1,max:s=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",rootRef:p,scale:h=DPe,step:g=1,tabIndex:v,value:m}=e,b=C.useRef(),[x,y]=C.useState(-1),[w,_]=C.useState(-1),[S,P]=C.useState(!1),M=C.useRef(0),[I,O]=xa({controlled:m,default:n??l,name:"Slider"}),L=u&&((Te,Me,$e)=>{const U=Te.nativeEvent||Te,D=new U.constructor(U.type,U);Object.defineProperty(D,"target",{writable:!0,value:{value:Me,name:c}}),u(D,Me,$e)}),R=Array.isArray(I);let T=R?I.slice().sort(Wne):[I];T=T.map(Te=>z0(Te,l,s));const E=a===!0&&g!==null?[...Array(Math.floor((s-l)/g)+1)].map((Te,Me)=>({value:l+g*Me})):a||[],k=E.map(Te=>Te.value),{isFocusVisibleRef:B,onBlur:$,onFocus:j,ref:V}=tg(),[q,Q]=C.useState(-1),H=C.useRef(),X=wn(V,H),J=wn(p,X),G=Te=>Me=>{var $e;const U=Number(Me.currentTarget.getAttribute("data-index"));j(Me),B.current===!0&&Q(U),_(U),Te==null||($e=Te.onFocus)==null||$e.call(Te,Me)},ie=Te=>Me=>{var $e;$(Me),B.current===!1&&Q(-1),_(-1),Te==null||($e=Te.onBlur)==null||$e.call(Te,Me)};ar(()=>{if(r&&H.current.contains(document.activeElement)){var Te;(Te=document.activeElement)==null||Te.blur()}},[r]),r&&x!==-1&&y(-1),r&&q!==-1&&Q(-1);const Y=Te=>Me=>{var $e;($e=Te.onChange)==null||$e.call(Te,Me);const U=Number(Me.currentTarget.getAttribute("data-index")),D=T[U],F=k.indexOf(D);let K=Me.target.valueAsNumber;if(E&&g==null&&(K=K<D?k[F-1]:k[F+1]),K=z0(K,l,s),E&&g==null){const he=k.indexOf(T[U]);K=K<T[U]?k[he-1]:k[he+1]}if(R){o&&(K=z0(K,T[U-1]||-1/0,T[U+1]||1/0));const he=K;K=nU({values:T,newValue:K,index:U});let ge=U;o||(ge=K.indexOf(he)),zC({sliderRef:H,activeIndex:ge})}O(K),Q(U),L&&!HC(K,I)&&L(Me,K,U),d&&d(Me,K)},le=C.useRef();let te=f;i&&f==="horizontal"&&(te+="-reverse");const re=({finger:Te,move:Me=!1})=>{const{current:$e}=H,{width:U,height:D,bottom:F,left:K}=$e.getBoundingClientRect();let he;te.indexOf("vertical")===0?he=(F-Te.y)/D:he=(Te.x-K)/U,te.indexOf("-reverse")!==-1&&(he=1-he);let ge;if(ge=kPe(he,l,s),g)ge=LPe(ge,g,l);else{const Ke=tU(k,ge);ge=k[Ke]}ge=z0(ge,l,s);let Ae=0;if(R){Me?Ae=le.current:Ae=tU(T,ge),o&&(ge=z0(ge,T[Ae-1]||-1/0,T[Ae+1]||1/0));const Ke=ge;ge=nU({values:T,newValue:ge,index:Ae}),o&&Me||(Ae=ge.indexOf(Ke),le.current=Ae)}return{newValue:ge,activeIndex:Ae}},ae=Dn(Te=>{const Me=jC(Te,b);if(!Me)return;if(M.current+=1,Te.type==="mousemove"&&Te.buttons===0){pe(Te);return}const{newValue:$e,activeIndex:U}=re({finger:Me,move:!0});zC({sliderRef:H,activeIndex:U,setActive:y}),O($e),!S&&M.current>IPe&&P(!0),L&&!HC($e,I)&&L(Te,$e,U)}),pe=Dn(Te=>{const Me=jC(Te,b);if(P(!1),!Me)return;const{newValue:$e}=re({finger:Me,move:!0});y(-1),Te.type==="touchend"&&_(-1),d&&d(Te,$e),b.current=void 0,fe()}),we=Dn(Te=>{if(r)return;yR()||Te.preventDefault();const Me=Te.changedTouches[0];Me!=null&&(b.current=Me.identifier);const $e=jC(Te,b);if($e!==!1){const{newValue:D,activeIndex:F}=re({finger:$e});zC({sliderRef:H,activeIndex:F,setActive:y}),O(D),L&&!HC(D,I)&&L(Te,D,F)}M.current=0;const U=Kn(H.current);U.addEventListener("touchmove",ae),U.addEventListener("touchend",pe)}),fe=C.useCallback(()=>{const Te=Kn(H.current);Te.removeEventListener("mousemove",ae),Te.removeEventListener("mouseup",pe),Te.removeEventListener("touchmove",ae),Te.removeEventListener("touchend",pe)},[pe,ae]);C.useEffect(()=>{const{current:Te}=H;return Te.addEventListener("touchstart",we,{passive:yR()}),()=>{Te.removeEventListener("touchstart",we,{passive:yR()}),fe()}},[fe,we]),C.useEffect(()=>{r&&fe()},[r,fe]);const _e=Te=>Me=>{var $e;if(($e=Te.onMouseDown)==null||$e.call(Te,Me),r||Me.defaultPrevented||Me.button!==0)return;Me.preventDefault();const U=jC(Me,b);if(U!==!1){const{newValue:F,activeIndex:K}=re({finger:U});zC({sliderRef:H,activeIndex:K,setActive:y}),O(F),L&&!HC(F,I)&&L(Me,F,K)}M.current=0;const D=Kn(H.current);D.addEventListener("mousemove",ae),D.addEventListener("mouseup",pe)},W=gA(R?T[0]:l,l,s),oe=gA(T[T.length-1],l,s)-W,Ce=(Te={})=>{const Me={onMouseDown:_e(Te||{})},$e=A({},Te,Me);return A({ref:J},$e)},ve=Te=>Me=>{var $e;($e=Te.onMouseOver)==null||$e.call(Te,Me);const U=Number(Me.currentTarget.getAttribute("data-index"));_(U)},me=Te=>Me=>{var $e;($e=Te.onMouseLeave)==null||$e.call(Te,Me),_(-1)};return{active:x,axis:te,axisProps:$Pe,dragging:S,focusedThumbIndex:q,getHiddenInputProps:(Te={})=>{var Me;const $e={onChange:Y(Te||{}),onFocus:G(Te||{}),onBlur:ie(Te||{})},U=A({},Te,$e);return A({tabIndex:v,"aria-labelledby":t,"aria-orientation":f,"aria-valuemax":h(s),"aria-valuemin":h(l),name:c,type:"range",min:e.min,max:e.max,step:(Me=e.step)!=null?Me:void 0,disabled:r},U,{style:A({},Bte,{direction:i?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Ce,getThumbProps:(Te={})=>{const Me={onMouseOver:ve(Te||{}),onMouseLeave:me(Te||{})};return A({},Te,Me)},marks:E,open:w,range:R,rootRef:J,trackLeap:oe,trackOffset:W,values:T}}function NPe(e){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:i}=e,a=C.useRef();C.useEffect(()=>{if(!o)return;function m(b){b.defaultPrevented||(b.key==="Escape"||b.key==="Esc")&&(r==null||r(b,"escapeKeyDown"))}return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[o,r]);const s=Dn((m,b)=>{r==null||r(m,b)}),l=Dn(m=>{!r||m==null||(clearTimeout(a.current),a.current=setTimeout(()=>{s(null,"timeout")},m))});C.useEffect(()=>(o&&l(t),()=>{clearTimeout(a.current)}),[o,t,l]);const c=m=>{r==null||r(m,"clickaway")},u=()=>{clearTimeout(a.current)},d=C.useCallback(()=>{t!=null&&l(i??t*.5)},[t,i,l]),f=m=>b=>{const x=m.onBlur;x==null||x(b),d()},p=m=>b=>{const x=m.onFocus;x==null||x(b),u()},h=m=>b=>{const x=m.onMouseEnter;x==null||x(b),u()},g=m=>b=>{const x=m.onMouseLeave;x==null||x(b),d()};return C.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,d,o]),{getRootProps:(m={})=>{const b=Lne(e),x=A({},b,m);return A({role:"presentation"},x,{onBlur:f(x),onFocus:p(x),onMouseEnter:h(x),onMouseLeave:g(x)})},onClickAway:c}}const BPe=["onChange","maxRows","minRows","style","value"];function UC(e){return parseInt(e,10)||0}const jPe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function rU(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const zPe=C.forwardRef(function(t,n){const{onChange:r,maxRows:o,minRows:i=1,style:a,value:s}=t,l=De(t,BPe),{current:c}=C.useRef(s!=null),u=C.useRef(null),d=wn(n,u),f=C.useRef(null),p=C.useRef(0),[h,g]=C.useState({outerHeightStyle:0}),v=C.useCallback(()=>{const w=u.current,S=ei(w).getComputedStyle(w);if(S.width==="0px")return{outerHeightStyle:0};const P=f.current;P.style.width=S.width,P.value=w.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const M=S.boxSizing,I=UC(S.paddingBottom)+UC(S.paddingTop),O=UC(S.borderBottomWidth)+UC(S.borderTopWidth),L=P.scrollHeight;P.value="x";const R=P.scrollHeight;let T=L;i&&(T=Math.max(Number(i)*R,T)),o&&(T=Math.min(Number(o)*R,T)),T=Math.max(T,R);const E=T+(M==="border-box"?I+O:0),k=Math.abs(T-L)<=1;return{outerHeightStyle:E,overflow:k}},[o,i,t.placeholder]),m=(w,_)=>{const{outerHeightStyle:S,overflow:P}=_;return p.current<20&&(S>0&&Math.abs((w.outerHeightStyle||0)-S)>1||w.overflow!==P)?(p.current+=1,{overflow:P,outerHeightStyle:S}):w},b=C.useCallback(()=>{const w=v();rU(w)||g(_=>m(_,w))},[v]),x=()=>{const w=v();rU(w)||Td.flushSync(()=>{g(_=>m(_,w))})};C.useEffect(()=>{const w=bc(()=>{p.current=0,u.current&&x()});let _;const S=u.current,P=ei(S);return P.addEventListener("resize",w),typeof ResizeObserver<"u"&&(_=new ResizeObserver(w),_.observe(S)),()=>{w.clear(),P.removeEventListener("resize",w),_&&_.disconnect()}}),ar(()=>{b()}),C.useEffect(()=>{p.current=0},[s]);const y=w=>{p.current=0,c||b(),r&&r(w)};return N.jsxs(C.Fragment,{children:[N.jsx("textarea",A({value:s,onChange:y,ref:d,rows:i,style:A({height:h.outerHeightStyle,overflow:h.overflow?"hidden":void 0},a)},l)),N.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:f,tabIndex:-1,style:A({},jPe.shadow,a,{padding:0})})]})}),qne=zPe;function oU(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function kj(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:i,trim:a=!1}=e;return(s,{inputValue:l,getOptionLabel:c})=>{let u=a?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=oU(u));const d=u?s.filter(f=>{let p=(i||c)(f);return n&&(p=p.toLowerCase()),t&&(p=oU(p)),o==="start"?p.indexOf(u)===0:p.indexOf(u)>-1}):s;return typeof r=="number"?d.slice(0,r):d}}function xR(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const HPe=kj(),iU=5,VPe=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function Xne(e){const{unstable_isActiveElementInListbox:t=VPe,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:i=!1,blurOnSelect:a=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:l=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?[]:null,disableClearable:d=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:h=!1,disableListWrap:g=!1,filterOptions:v=HPe,filterSelectedOptions:m=!1,freeSolo:b=!1,getOptionDisabled:x,getOptionLabel:y=Fe=>{var Oe;return(Oe=Fe.label)!=null?Oe:Fe},groupBy:w,handleHomeEndKeys:_=!e.freeSolo,id:S,includeInputInList:P=!1,inputValue:M,isOptionEqualToValue:I=(Fe,Oe)=>Fe===Oe,multiple:O=!1,onChange:L,onClose:R,onHighlightChange:T,onInputChange:E,onOpen:k,open:B,openOnFocus:$=!1,options:j,readOnly:V=!1,selectOnFocus:q=!e.freeSolo,value:Q}=e,H=fr(S);let X=y;X=Fe=>{const Oe=y(Fe);return typeof Oe!="string"?String(Oe):Oe};const J=C.useRef(!1),G=C.useRef(!0),ie=C.useRef(null),Y=C.useRef(null),[le,te]=C.useState(null),[re,ae]=C.useState(-1),pe=o?0:-1,we=C.useRef(pe),[fe,_e]=xa({controlled:Q,default:u,name:c}),[W,oe]=xa({controlled:M,default:"",name:c,state:"inputValue"}),[Ce,ve]=C.useState(!1),me=C.useCallback((Fe,Oe)=>{if(!(O?fe.length<Oe.length:Oe!==null)&&!s)return;let et;if(O)et="";else if(Oe==null)et="";else{const pt=X(Oe);et=typeof pt=="string"?pt:""}W!==et&&(oe(et),E&&E(Fe,et,"reset"))},[X,W,O,E,oe,s,fe]),[ye,Le]=xa({controlled:B,default:!1,name:c,state:"open"}),[Te,Me]=C.useState(!0),$e=!O&&fe!=null&&W===X(fe),U=ye&&!V,D=U?v(j.filter(Fe=>!(m&&(O?fe:[fe]).some(Oe=>Oe!==null&&I(Fe,Oe)))),{inputValue:$e&&Te?"":W,getOptionLabel:X}):[],F=H4({filteredOptions:D,value:fe});C.useEffect(()=>{const Fe=fe!==F.value;Ce&&!Fe||b&&!Fe||me(null,fe)},[fe,me,Ce,F.value,b]);const K=ye&&D.length>0&&!V,he=Dn(Fe=>{Fe===-1?ie.current.focus():le.querySelector(`[data-tag-index="${Fe}"]`).focus()});C.useEffect(()=>{O&&re>fe.length-1&&(ae(-1),he(-1))},[fe,O,re,he]);function ge(Fe,Oe){if(!Y.current||Fe===-1)return-1;let Ge=Fe;for(;;){if(Oe==="next"&&Ge===D.length||Oe==="previous"&&Ge===-1)return-1;const et=Y.current.querySelector(`[data-option-index="${Ge}"]`),pt=h?!1:!et||et.disabled||et.getAttribute("aria-disabled")==="true";if(et&&!et.hasAttribute("tabindex")||pt)Ge+=Oe==="next"?1:-1;else return Ge}}const Ae=Dn(({event:Fe,index:Oe,reason:Ge="auto"})=>{if(we.current=Oe,Oe===-1?ie.current.removeAttribute("aria-activedescendant"):ie.current.setAttribute("aria-activedescendant",`${H}-option-${Oe}`),T&&T(Fe,Oe===-1?null:D[Oe],Ge),!Y.current)return;const et=Y.current.querySelector(`[role="option"].${n}-focused`);et&&(et.classList.remove(`${n}-focused`),et.classList.remove(`${n}-focusVisible`));const pt=Y.current.parentElement.querySelector('[role="listbox"]');if(!pt)return;if(Oe===-1){pt.scrollTop=0;return}const wt=Y.current.querySelector(`[data-option-index="${Oe}"]`);if(wt&&(wt.classList.add(`${n}-focused`),Ge==="keyboard"&&wt.classList.add(`${n}-focusVisible`),pt.scrollHeight>pt.clientHeight&&Ge!=="mouse")){const gt=wt,_t=pt.clientHeight+pt.scrollTop,zt=gt.offsetTop+gt.offsetHeight;zt>_t?pt.scrollTop=zt-pt.clientHeight:gt.offsetTop-gt.offsetHeight*(w?1.3:0)<pt.scrollTop&&(pt.scrollTop=gt.offsetTop-gt.offsetHeight*(w?1.3:0))}}),Ke=Dn(({event:Fe,diff:Oe,direction:Ge="next",reason:et="auto"})=>{if(!U)return;const wt=ge((()=>{const gt=D.length-1;if(Oe==="reset")return pe;if(Oe==="start")return 0;if(Oe==="end")return gt;const _t=we.current+Oe;return _t<0?_t===-1&&P?-1:g&&we.current!==-1||Math.abs(Oe)>1?0:gt:_t>gt?_t===gt+1&&P?-1:g||Math.abs(Oe)>1?gt:0:_t})(),Ge);if(Ae({index:wt,reason:et,event:Fe}),r&&Oe!=="reset")if(wt===-1)ie.current.value=W;else{const gt=X(D[wt]);ie.current.value=gt,gt.toLowerCase().indexOf(W.toLowerCase())===0&&W.length>0&&ie.current.setSelectionRange(W.length,gt.length)}}),Je=()=>{const Fe=(Oe,Ge)=>{const et=Oe?X(Oe):"",pt=Ge?X(Ge):"";return et===pt};if(we.current!==-1&&F.filteredOptions&&F.filteredOptions.length!==D.length&&(O?fe.length===F.value.length&&F.value.every((Oe,Ge)=>X(fe[Ge])===X(Oe)):Fe(F.value,fe))){const Oe=F.filteredOptions[we.current];if(Oe&&D.some(et=>X(et)===X(Oe)))return!0}return!1},ft=C.useCallback(()=>{if(!U||Je())return;const Fe=O?fe[0]:fe;if(D.length===0||Fe==null){Ke({diff:"reset"});return}if(Y.current){if(Fe!=null){const Oe=D[we.current];if(O&&Oe&&xR(fe,et=>I(Oe,et))!==-1)return;const Ge=xR(D,et=>I(et,Fe));Ge===-1?Ke({diff:"reset"}):Ae({index:Ge});return}if(we.current>=D.length-1){Ae({index:D.length-1});return}Ae({index:we.current})}},[D.length,O?!1:fe,m,Ke,Ae,U,W,O]),ht=Dn(Fe=>{Bb(Y,Fe),Fe&&ft()});C.useEffect(()=>{ft()},[ft]);const it=Fe=>{ye||(Le(!0),Me(!0),k&&k(Fe))},At=(Fe,Oe)=>{ye&&(Le(!1),R&&R(Fe,Oe))},Pe=(Fe,Oe,Ge,et)=>{if(O){if(fe.length===Oe.length&&fe.every((pt,wt)=>pt===Oe[wt]))return}else if(fe===Oe)return;L&&L(Fe,Oe,Ge,et),_e(Oe)},Re=C.useRef(!1),ze=(Fe,Oe,Ge="selectOption",et="options")=>{let pt=Ge,wt=Oe;if(O){wt=Array.isArray(fe)?fe.slice():[];const gt=xR(wt,_t=>I(Oe,_t));gt===-1?wt.push(Oe):et!=="freeSolo"&&(wt.splice(gt,1),pt="removeOption")}me(Fe,wt),Pe(Fe,wt,pt,{option:Oe}),!f&&(!Fe||!Fe.ctrlKey&&!Fe.metaKey)&&At(Fe,pt),(a===!0||a==="touch"&&Re.current||a==="mouse"&&!Re.current)&&ie.current.blur()};function je(Fe,Oe){if(Fe===-1)return-1;let Ge=Fe;for(;;){if(Oe==="next"&&Ge===fe.length||Oe==="previous"&&Ge===-1)return-1;const et=le.querySelector(`[data-tag-index="${Ge}"]`);if(!et||!et.hasAttribute("tabindex")||et.disabled||et.getAttribute("aria-disabled")==="true")Ge+=Oe==="next"?1:-1;else return Ge}}const Ue=(Fe,Oe)=>{if(!O)return;W===""&&At(Fe,"toggleInput");let Ge=re;re===-1?W===""&&Oe==="previous"&&(Ge=fe.length-1):(Ge+=Oe==="next"?1:-1,Ge<0&&(Ge=0),Ge===fe.length&&(Ge=-1)),Ge=je(Ge,Oe),ae(Ge),he(Ge)},tt=Fe=>{J.current=!0,oe(""),E&&E(Fe,"","clear"),Pe(Fe,O?[]:null,"clear")},be=Fe=>Oe=>{if(Fe.onKeyDown&&Fe.onKeyDown(Oe),!Oe.defaultMuiPrevented&&(re!==-1&&["ArrowLeft","ArrowRight"].indexOf(Oe.key)===-1&&(ae(-1),he(-1)),Oe.which!==229))switch(Oe.key){case"Home":U&&_&&(Oe.preventDefault(),Ke({diff:"start",direction:"next",reason:"keyboard",event:Oe}));break;case"End":U&&_&&(Oe.preventDefault(),Ke({diff:"end",direction:"previous",reason:"keyboard",event:Oe}));break;case"PageUp":Oe.preventDefault(),Ke({diff:-iU,direction:"previous",reason:"keyboard",event:Oe}),it(Oe);break;case"PageDown":Oe.preventDefault(),Ke({diff:iU,direction:"next",reason:"keyboard",event:Oe}),it(Oe);break;case"ArrowDown":Oe.preventDefault(),Ke({diff:1,direction:"next",reason:"keyboard",event:Oe}),it(Oe);break;case"ArrowUp":Oe.preventDefault(),Ke({diff:-1,direction:"previous",reason:"keyboard",event:Oe}),it(Oe);break;case"ArrowLeft":Ue(Oe,"previous");break;case"ArrowRight":Ue(Oe,"next");break;case"Enter":if(we.current!==-1&&U){const Ge=D[we.current],et=x?x(Ge):!1;if(Oe.preventDefault(),et)return;ze(Oe,Ge,"selectOption"),r&&ie.current.setSelectionRange(ie.current.value.length,ie.current.value.length)}else b&&W!==""&&$e===!1&&(O&&Oe.preventDefault(),ze(Oe,W,"createOption","freeSolo"));break;case"Escape":U?(Oe.preventDefault(),Oe.stopPropagation(),At(Oe,"escape")):l&&(W!==""||O&&fe.length>0)&&(Oe.preventDefault(),Oe.stopPropagation(),tt(Oe));break;case"Backspace":if(O&&!V&&W===""&&fe.length>0){const Ge=re===-1?fe.length-1:re,et=fe.slice();et.splice(Ge,1),Pe(Oe,et,"removeOption",{option:fe[Ge]})}break;case"Delete":if(O&&!V&&W===""&&fe.length>0&&re!==-1){const Ge=re,et=fe.slice();et.splice(Ge,1),Pe(Oe,et,"removeOption",{option:fe[Ge]})}break}},He=Fe=>{ve(!0),$&&!J.current&&it(Fe)},Ve=Fe=>{if(t(Y)){ie.current.focus();return}ve(!1),G.current=!0,J.current=!1,i&&we.current!==-1&&U?ze(Fe,D[we.current],"blur"):i&&b&&W!==""?ze(Fe,W,"blur","freeSolo"):s&&me(Fe,fe),At(Fe,"blur")},z=Fe=>{const Oe=Fe.target.value;W!==Oe&&(oe(Oe),Me(!1),E&&E(Fe,Oe,"input")),Oe===""?!d&&!O&&Pe(Fe,null,"clear"):it(Fe)},Z=Fe=>{const Oe=Number(Fe.currentTarget.getAttribute("data-option-index"));we.current!==Oe&&Ae({event:Fe,index:Oe,reason:"mouse"})},ne=Fe=>{Ae({event:Fe,index:Number(Fe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Re.current=!0},de=Fe=>{const Oe=Number(Fe.currentTarget.getAttribute("data-option-index"));ze(Fe,D[Oe],"selectOption"),Re.current=!1},ce=Fe=>Oe=>{const Ge=fe.slice();Ge.splice(Fe,1),Pe(Oe,Ge,"removeOption",{option:fe[Fe]})},Se=Fe=>{ye?At(Fe,"toggleInput"):it(Fe)},xe=Fe=>{Fe.target.getAttribute("id")!==H&&Fe.preventDefault()},Ie=()=>{ie.current.focus(),q&&G.current&&ie.current.selectionEnd-ie.current.selectionStart===0&&ie.current.select(),G.current=!1},Xe=Fe=>{(W===""||!ye)&&Se(Fe)};let Ye=b&&W.length>0;Ye=Ye||(O?fe.length>0:fe!==null);let rt=D;return w&&(rt=D.reduce((Fe,Oe,Ge)=>{const et=w(Oe);return Fe.length>0&&Fe[Fe.length-1].group===et?Fe[Fe.length-1].options.push(Oe):Fe.push({key:Ge,index:Ge,group:et,options:[Oe]}),Fe},[])),p&&Ce&&Ve(),{getRootProps:(Fe={})=>A({"aria-owns":K?`${H}-listbox`:null},Fe,{onKeyDown:be(Fe),onMouseDown:xe,onClick:Ie}),getInputLabelProps:()=>({id:`${H}-label`,htmlFor:H}),getInputProps:()=>({id:H,value:W,onBlur:Ve,onFocus:He,onChange:z,onMouseDown:Xe,"aria-activedescendant":U?"":null,"aria-autocomplete":r?"both":"list","aria-controls":K?`${H}-listbox`:void 0,"aria-expanded":K,autoComplete:"off",ref:ie,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,onClick:tt}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Se}),getTagProps:({index:Fe})=>A({key:Fe,"data-tag-index":Fe,tabIndex:-1},!V&&{onDelete:ce(Fe)}),getListboxProps:()=>({role:"listbox",id:`${H}-listbox`,"aria-labelledby":`${H}-label`,ref:ht,onMouseDown:Fe=>{Fe.preventDefault()}}),getOptionProps:({index:Fe,option:Oe})=>{const Ge=(O?fe:[fe]).some(pt=>pt!=null&&I(Oe,pt)),et=x?x(Oe):!1;return{key:X(Oe),tabIndex:-1,role:"option",id:`${H}-option-${Fe}`,onMouseMove:Z,onClick:de,onTouchStart:ne,"data-option-index":Fe,"aria-disabled":et,"aria-selected":Ge}},id:H,inputValue:W,value:fe,dirty:Ye,expanded:U&&le,popupOpen:U,focused:Ce||re!==-1,anchorEl:le,setAnchorEl:te,focusedTag:re,groupedOptions:rt}}function Kne(e){return lt("MuiSvgIcon",e)}const UPe=ut("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]),GPe=UPe,WPe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qPe=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Be(t)}`,`fontSize${Be(n)}`]};return Qe(o,Kne,r)},XPe=Ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Be(n.color)}`],t[`fontSize${Be(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(o=e.transitions)==null||(i=o.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=e.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[t.fontSize],color:(f=(p=(e.vars||e).palette)==null||(h=p[t.color])==null?void 0:h.main)!=null?f:{action:(g=(e.vars||e).palette)==null||(v=g.action)==null?void 0:v.active,disabled:(m=(e.vars||e).palette)==null||(b=m.action)==null?void 0:b.disabled,inherit:void 0}[t.color]}}),Yne=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=De(r,WPe),h=A({},r,{color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:f}),g={};u||(g.viewBox=f);const v=qPe(h);return N.jsxs(XPe,A({as:s,className:Ne(v.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},g,p,{ownerState:h,children:[o,d?N.jsx("title",{children:d}):null]}))});Yne.muiName="SvgIcon";const vA=Yne;function an(e,t){function n(r,o){return N.jsx(vA,A({"data-testid":`${t}Icon`,ref:o},r,{children:e}))}return n.muiName=vA.muiName,C.memo(C.forwardRef(n))}const Zne={configure:e=>{U4.configure(e)}},KPe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Be,createChainedFunction:nw,createSvgIcon:an,debounce:bc,deprecatedPropType:Lte,isMuiElement:vu,ownerDocument:Kn,ownerWindow:ei,requirePropFactory:$te,setRef:Bb,unstable_ClassNameGenerator:Zne,unstable_useEnhancedEffect:ar,unstable_useId:fr,unsupportedProp:Dte,useControlled:xa,useEventCallback:Dn,useForkRef:wn,useIsFocusVisible:tg},Symbol.toStringTag,{value:"Module"}));function jF(e,t){return jF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},jF(e,t)}function Qne(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,jF(e,t)}const aU={disabled:!1},bA=ke.createContext(null);var YPe=function(t){return t.scrollTop},R1="unmounted",Mh="exited",Ah="entering",lv="entered",zF="exiting",Yd=function(e){Qne(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=o,s=a&&!a.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?s?(l=Mh,i.appearStatus=Ah):l=lv:r.unmountOnExit||r.mountOnEnter?l=R1:l=Mh,i.state={status:l},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===R1?{status:Mh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==Ah&&a!==lv&&(i=Ah):(a===Ah||a===lv)&&(i=zF)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,a,s;return i=a=s=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,s=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:s}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Ah){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:IC.findDOMNode(this);a&&YPe(a)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mh&&this.setState({status:R1})},n.performEnter=function(o){var i=this,a=this.props.enter,s=this.context?this.context.isMounting:o,l=this.props.nodeRef?[s]:[IC.findDOMNode(this),s],c=l[0],u=l[1],d=this.getTimeouts(),f=s?d.appear:d.enter;if(!o&&!a||aU.disabled){this.safeSetState({status:lv},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ah},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:lv},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:IC.findDOMNode(this);if(!i||aU.disabled){this.safeSetState({status:Mh},function(){o.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:zF},function(){o.props.onExiting(s),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:Mh},function(){o.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,i.nextCallback=null,o(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:IC.findDOMNode(this),s=o==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===R1)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var s=De(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(bA.Provider,{value:null},typeof a=="function"?a(o,s):ke.cloneElement(ke.Children.only(a),s))},t}(ke.Component);Yd.contextType=bA;Yd.propTypes={};function Tg(){}Yd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Tg,onEntering:Tg,onEntered:Tg,onExit:Tg,onExiting:Tg,onExited:Tg};Yd.UNMOUNTED=R1;Yd.EXITED=Mh;Yd.ENTERING=Ah;Yd.ENTERED=lv;Yd.EXITING=zF;const j_=Yd;function ZPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rj(e,t){var n=function(i){return t&&C.isValidElement(i)?t(i):i},r=Object.create(null);return e&&C.Children.map(e,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function QPe(e,t){e=e||{},t=t||{};function n(u){return u in t?t[u]:e[u]}var r=Object.create(null),o=[];for(var i in e)i in t?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}function Uh(e,t,n){return n[t]!=null?n[t]:e.props[t]}function JPe(e,t){return Rj(e.children,function(n){return C.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Uh(n,"appear",e),enter:Uh(n,"enter",e),exit:Uh(n,"exit",e)})})}function eMe(e,t,n){var r=Rj(e.children),o=QPe(t,r);return Object.keys(o).forEach(function(i){var a=o[i];if(C.isValidElement(a)){var s=i in t,l=i in r,c=t[i],u=C.isValidElement(c)&&!c.props.in;l&&(!s||u)?o[i]=C.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Uh(a,"exit",e),enter:Uh(a,"enter",e)}):!l&&s&&!u?o[i]=C.cloneElement(a,{in:!1}):l&&s&&C.isValidElement(c)&&(o[i]=C.cloneElement(a,{onExited:n.bind(null,a),in:c.props.in,exit:Uh(a,"exit",e),enter:Uh(a,"enter",e)}))}}),o}var tMe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},nMe={component:"div",childFactory:function(t){return t}},Lj=function(e){Qne(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var a=i.handleExited.bind(ZPe(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var a=i.children,s=i.handleExited,l=i.firstRender;return{children:l?JPe(o,s):eMe(o,a,s),firstRender:!1}},n.handleExited=function(o,i){var a=Rj(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(s){var l=A({},s.children);return delete l[o.key],{children:l}}))},n.render=function(){var o=this.props,i=o.component,a=o.childFactory,s=De(o,["component","childFactory"]),l=this.state.contextValue,c=tMe(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,i===null?ke.createElement(bA.Provider,{value:l},c):ke.createElement(bA.Provider,{value:l},ke.createElement(i,s,c))},t}(ke.Component);Lj.propTypes={};Lj.defaultProps=nMe;const rMe=Lj,XT=e=>e.scrollTop;function _c(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:(n=a.transitionDuration)!=null?n:typeof o=="number"?o:o[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof i=="object"?i[t.mode]:i,delay:a.transitionDelay}}function Jne(e){return lt("MuiCollapse",e)}const oMe=ut("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]),iMe=oMe,aMe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],sMe=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Qe(r,Jne,n)},lMe=Ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>A({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&A({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),cMe=Ee("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>A({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),uMe=Ee("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>A({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ere=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCollapse"}),{addEndListener:o,children:i,className:a,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:h,onExited:g,onExiting:v,orientation:m="vertical",style:b,timeout:x=VT.standard,TransitionComponent:y=j_}=r,w=De(r,aMe),_=A({},r,{orientation:m,collapsedSize:s}),S=sMe(_),P=Ir(),M=C.useRef(),I=C.useRef(null),O=C.useRef(),L=typeof s=="number"?`${s}px`:s,R=m==="horizontal",T=R?"width":"height";C.useEffect(()=>()=>{clearTimeout(M.current)},[]);const E=C.useRef(null),k=wn(n,E),B=G=>ie=>{if(G){const Y=E.current;ie===void 0?G(Y):G(Y,ie)}},$=()=>I.current?I.current[R?"clientWidth":"clientHeight"]:0,j=B((G,ie)=>{I.current&&R&&(I.current.style.position="absolute"),G.style[T]=L,d&&d(G,ie)}),V=B((G,ie)=>{const Y=$();I.current&&R&&(I.current.style.position="");const{duration:le,easing:te}=_c({style:b,timeout:x,easing:c},{mode:"enter"});if(x==="auto"){const re=P.transitions.getAutoHeightDuration(Y);G.style.transitionDuration=`${re}ms`,O.current=re}else G.style.transitionDuration=typeof le=="string"?le:`${le}ms`;G.style[T]=`${Y}px`,G.style.transitionTimingFunction=te,p&&p(G,ie)}),q=B((G,ie)=>{G.style[T]="auto",f&&f(G,ie)}),Q=B(G=>{G.style[T]=`${$()}px`,h&&h(G)}),H=B(g),X=B(G=>{const ie=$(),{duration:Y,easing:le}=_c({style:b,timeout:x,easing:c},{mode:"exit"});if(x==="auto"){const te=P.transitions.getAutoHeightDuration(ie);G.style.transitionDuration=`${te}ms`,O.current=te}else G.style.transitionDuration=typeof Y=="string"?Y:`${Y}ms`;G.style[T]=L,G.style.transitionTimingFunction=le,v&&v(G)}),J=G=>{x==="auto"&&(M.current=setTimeout(G,O.current||0)),o&&o(E.current,G)};return N.jsx(y,A({in:u,onEnter:j,onEntered:q,onEntering:V,onExit:Q,onExited:H,onExiting:X,addEndListener:J,nodeRef:E,timeout:x==="auto"?null:x},w,{children:(G,ie)=>N.jsx(lMe,A({as:l,className:Ne(S.root,a,{entered:S.entered,exited:!u&&L==="0px"&&S.hidden}[G]),style:A({[R?"minWidth":"minHeight"]:L},b),ownerState:A({},_,{state:G}),ref:k},ie,{children:N.jsx(cMe,{ownerState:A({},_,{state:G}),className:S.wrapper,ref:I,children:N.jsx(uMe,{ownerState:A({},_,{state:G}),className:S.wrapperInner,children:i})})}))}))});ere.muiSupportAuto=!0;const KT=ere;function tre(e){return lt("MuiPaper",e)}const dMe=ut("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]),fMe=dMe,pMe=["className","component","elevation","square","variant"],hMe=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,i={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Qe(i,tre,o)},mMe=Ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return A({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&A({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Pt("#fff",sw(t.elevation))}, ${Pt("#fff",sw(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),gMe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiPaper"}),{className:o,component:i="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,c=De(r,pMe),u=A({},r,{component:i,elevation:a,square:s,variant:l}),d=hMe(u);return N.jsx(mMe,A({as:i,ownerState:u,className:Ne(d.root,o),ref:n},c))}),sa=gMe,vMe=C.createContext({}),nre=vMe;function rre(e){return lt("MuiAccordion",e)}const bMe=ut("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),L1=bMe,yMe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],xMe=e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:i}=e;return Qe({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],region:["region"]},rre,t)},wMe=Ee(sa,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${L1.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${L1.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${L1.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>A({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${L1.expanded}`]:{margin:"16px 0"}})),_Me=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:a=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=KT,TransitionProps:p}=r,h=De(r,yMe),[g,v]=xa({controlled:c,default:a,name:"Accordion",state:"expanded"}),m=C.useCallback(S=>{v(!g),u&&u(S,!g)},[g,u,v]),[b,...x]=C.Children.toArray(o),y=C.useMemo(()=>({expanded:g,disabled:s,disableGutters:l,toggle:m}),[g,s,l,m]),w=A({},r,{square:d,disabled:s,disableGutters:l,expanded:g}),_=xMe(w);return N.jsxs(wMe,A({className:Ne(_.root,i),ref:n,ownerState:w,square:d},h,{children:[N.jsx(nre.Provider,{value:y,children:b}),N.jsx(f,A({in:g,timeout:"auto"},p,{children:N.jsx("div",{"aria-labelledby":b.props.id,id:b.props["aria-controls"],role:"region",className:_.region,children:x})}))]}))}),SMe=_Me;function ore(e){return lt("MuiAccordionActions",e)}const CMe=ut("MuiAccordionActions",["root","spacing"]),PMe=CMe,MMe=["className","disableSpacing"],AMe=e=>{const{classes:t,disableSpacing:n}=e;return Qe({root:["root",!n&&"spacing"]},ore,t)},EMe=Ee("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>A({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),TMe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAccordionActions"}),{className:o,disableSpacing:i=!1}=r,a=De(r,MMe),s=A({},r,{disableSpacing:i}),l=AMe(s);return N.jsx(EMe,A({className:Ne(l.root,o),ref:n,ownerState:s},a))}),OMe=TMe;function ire(e){return lt("MuiAccordionDetails",e)}const IMe=ut("MuiAccordionDetails",["root"]),kMe=IMe,RMe=["className"],LMe=e=>{const{classes:t}=e;return Qe({root:["root"]},ire,t)},$Me=Ee("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),DMe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAccordionDetails"}),{className:o}=r,i=De(r,RMe),a=r,s=LMe(a);return N.jsx($Me,A({className:Ne(s.root,o),ref:n,ownerState:a},i))}),FMe=DMe;function NMe(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:a,in:s,onExited:l,timeout:c}=e,[u,d]=C.useState(!1),f=Ne(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-(a/2)+i,left:-(a/2)+o},h=Ne(n.child,u&&n.childLeaving,r&&n.childPulsate);return!s&&!u&&d(!0),C.useEffect(()=>{if(!s&&l!=null){const g=setTimeout(l,c);return()=>{clearTimeout(g)}}},[l,s,c]),N.jsx("span",{className:f,style:p,children:N.jsx("span",{className:h})})}function BMe(e){return lt("MuiTouchRipple",e)}const jMe=ut("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),xs=jMe,zMe=["center","classes","className"];let YT=e=>e,sU,lU,cU,uU;const HF=550,HMe=80,VMe=Us(sU||(sU=YT`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),UMe=Us(lU||(lU=YT`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),GMe=Us(cU||(cU=YT`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),WMe=Ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qMe=Ee(NMe,{name:"MuiTouchRipple",slot:"Ripple"})(uU||(uU=YT`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),xs.rippleVisible,VMe,HF,({theme:e})=>e.transitions.easing.easeInOut,xs.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,xs.child,xs.childLeaving,UMe,HF,({theme:e})=>e.transitions.easing.easeInOut,xs.childPulsate,GMe,({theme:e})=>e.transitions.easing.easeInOut),XMe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a}=r,s=De(r,zMe),[l,c]=C.useState([]),u=C.useRef(0),d=C.useRef(null);C.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=C.useRef(!1),p=C.useRef(null),h=C.useRef(null),g=C.useRef(null);C.useEffect(()=>()=>{clearTimeout(p.current)},[]);const v=C.useCallback(y=>{const{pulsate:w,rippleX:_,rippleY:S,rippleSize:P,cb:M}=y;c(I=>[...I,N.jsx(qMe,{classes:{ripple:Ne(i.ripple,xs.ripple),rippleVisible:Ne(i.rippleVisible,xs.rippleVisible),ripplePulsate:Ne(i.ripplePulsate,xs.ripplePulsate),child:Ne(i.child,xs.child),childLeaving:Ne(i.childLeaving,xs.childLeaving),childPulsate:Ne(i.childPulsate,xs.childPulsate)},timeout:HF,pulsate:w,rippleX:_,rippleY:S,rippleSize:P},u.current)]),u.current+=1,d.current=M},[i]),m=C.useCallback((y={},w={},_=()=>{})=>{const{pulsate:S=!1,center:P=o||w.pulsate,fakeElement:M=!1}=w;if((y==null?void 0:y.type)==="mousedown"&&f.current){f.current=!1;return}(y==null?void 0:y.type)==="touchstart"&&(f.current=!0);const I=M?null:g.current,O=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,R,T;if(P||y===void 0||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)L=Math.round(O.width/2),R=Math.round(O.height/2);else{const{clientX:E,clientY:k}=y.touches&&y.touches.length>0?y.touches[0]:y;L=Math.round(E-O.left),R=Math.round(k-O.top)}if(P)T=Math.sqrt((2*O.width**2+O.height**2)/3),T%2===0&&(T+=1);else{const E=Math.max(Math.abs((I?I.clientWidth:0)-L),L)*2+2,k=Math.max(Math.abs((I?I.clientHeight:0)-R),R)*2+2;T=Math.sqrt(E**2+k**2)}y!=null&&y.touches?h.current===null&&(h.current=()=>{v({pulsate:S,rippleX:L,rippleY:R,rippleSize:T,cb:_})},p.current=setTimeout(()=>{h.current&&(h.current(),h.current=null)},HMe)):v({pulsate:S,rippleX:L,rippleY:R,rippleSize:T,cb:_})},[o,v]),b=C.useCallback(()=>{m({},{pulsate:!0})},[m]),x=C.useCallback((y,w)=>{if(clearTimeout(p.current),(y==null?void 0:y.type)==="touchend"&&h.current){h.current(),h.current=null,p.current=setTimeout(()=>{x(y,w)});return}h.current=null,c(_=>_.length>0?_.slice(1):_),d.current=w},[]);return C.useImperativeHandle(n,()=>({pulsate:b,start:m,stop:x}),[b,m,x]),N.jsx(WMe,A({className:Ne(xs.root,i.root,a),ref:g},s,{children:N.jsx(rMe,{component:null,exit:!0,children:l})}))}),KMe=XMe;function are(e){return lt("MuiButtonBase",e)}const YMe=ut("MuiButtonBase",["root","disabled","focusVisible"]),sre=YMe,ZMe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],QMe=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=Qe({root:["root",t&&"disabled",n&&"focusVisible"]},are,o);return n&&r&&(a.root+=` ${r}`),a},JMe=Ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${sre.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),eAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:h,onClick:g,onContextMenu:v,onDragLeave:m,onFocus:b,onFocusVisible:x,onKeyDown:y,onKeyUp:w,onMouseDown:_,onMouseLeave:S,onMouseUp:P,onTouchEnd:M,onTouchMove:I,onTouchStart:O,tabIndex:L=0,TouchRippleProps:R,touchRippleRef:T,type:E}=r,k=De(r,ZMe),B=C.useRef(null),$=C.useRef(null),j=wn($,T),{isFocusVisibleRef:V,onFocus:q,onBlur:Q,ref:H}=tg(),[X,J]=C.useState(!1);c&&X&&J(!1),C.useImperativeHandle(o,()=>({focusVisible:()=>{J(!0),B.current.focus()}}),[]);const[G,ie]=C.useState(!1);C.useEffect(()=>{ie(!0)},[]);const Y=G&&!u&&!c;C.useEffect(()=>{X&&f&&!u&&G&&$.current.pulsate()},[u,f,X,G]);function le(F,K,he=d){return Dn(ge=>(K&&K(ge),!he&&$.current&&$.current[F](ge),!0))}const te=le("start",_),re=le("stop",v),ae=le("stop",m),pe=le("stop",P),we=le("stop",F=>{X&&F.preventDefault(),S&&S(F)}),fe=le("start",O),_e=le("stop",M),W=le("stop",I),oe=le("stop",F=>{Q(F),V.current===!1&&J(!1),h&&h(F)},!1),Ce=Dn(F=>{B.current||(B.current=F.currentTarget),q(F),V.current===!0&&(J(!0),x&&x(F)),b&&b(F)}),ve=()=>{const F=B.current;return l&&l!=="button"&&!(F.tagName==="A"&&F.href)},me=C.useRef(!1),ye=Dn(F=>{f&&!me.current&&X&&$.current&&F.key===" "&&(me.current=!0,$.current.stop(F,()=>{$.current.start(F)})),F.target===F.currentTarget&&ve()&&F.key===" "&&F.preventDefault(),y&&y(F),F.target===F.currentTarget&&ve()&&F.key==="Enter"&&!c&&(F.preventDefault(),g&&g(F))}),Le=Dn(F=>{f&&F.key===" "&&$.current&&X&&!F.defaultPrevented&&(me.current=!1,$.current.stop(F,()=>{$.current.pulsate(F)})),w&&w(F),g&&F.target===F.currentTarget&&ve()&&F.key===" "&&!F.defaultPrevented&&g(F)});let Te=l;Te==="button"&&(k.href||k.to)&&(Te=p);const Me={};Te==="button"?(Me.type=E===void 0?"button":E,Me.disabled=c):(!k.href&&!k.to&&(Me.role="button"),c&&(Me["aria-disabled"]=c));const $e=wn(n,H,B),U=A({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:L,focusVisible:X}),D=QMe(U);return N.jsxs(JMe,A({as:Te,className:Ne(D.root,s),ownerState:U,onBlur:oe,onClick:g,onContextMenu:re,onFocus:Ce,onKeyDown:ye,onKeyUp:Le,onMouseDown:te,onMouseLeave:we,onMouseUp:pe,onDragLeave:ae,onTouchEnd:_e,onTouchMove:W,onTouchStart:fe,ref:$e,tabIndex:c?-1:L,type:E},Me,k,{children:[a,Y?N.jsx(KMe,A({ref:j,center:i},R)):null]}))}),Ho=eAe;function lre(e){return lt("MuiAccordionSummary",e)}const tAe=ut("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Gh=tAe,nAe=["children","className","expandIcon","focusVisibleClassName","onClick"],rAe=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e;return Qe({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},lre,t)},oAe=Ee(Ho,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return A({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${Gh.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Gh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Gh.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${Gh.expanded}`]:{minHeight:64}})}),iAe=Ee("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>A({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Gh.expanded}`]:{margin:"20px 0"}})),aAe=Ee("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Gh.expanded}`]:{transform:"rotate(180deg)"}})),sAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:a,focusVisibleClassName:s,onClick:l}=r,c=De(r,nAe),{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=C.useContext(nre),h=m=>{p&&p(m),l&&l(m)},g=A({},r,{expanded:f,disabled:u,disableGutters:d}),v=rAe(g);return N.jsxs(oAe,A({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:Ne(v.root,i),focusVisibleClassName:Ne(v.focusVisible,s),onClick:h,ref:n,ownerState:g},c,{children:[N.jsx(iAe,{className:v.content,ownerState:g,children:o}),a&&N.jsx(aAe,{className:v.expandIconWrapper,ownerState:g,children:a})]}))}),lAe=sAe;function cre(e){return lt("MuiAlert",e)}const cAe=ut("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),VF=cAe;function ure(e){return lt("MuiIconButton",e)}const uAe=ut("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),dre=uAe,dAe=["edge","children","className","color","disabled","disableFocusRipple","size"],fAe=e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e,a={root:["root",n&&"disabled",r!=="default"&&`color${Be(r)}`,o&&`edge${Be(o)}`,`size${Be(i)}`]};return Qe(a,ure,t)},pAe=Ee(Ho,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Be(n.color)}`],n.edge&&t[`edge${Be(n.edge)}`],t[`size${Be(n.size)}`]]}})(({theme:e,ownerState:t})=>A({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return A({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&A({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":A({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${dre.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),hAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiIconButton"}),{edge:o=!1,children:i,className:a,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=De(r,dAe),f=A({},r,{edge:o,color:s,disabled:l,disableFocusRipple:c,size:u}),p=fAe(f);return N.jsx(pAe,A({className:Ne(p.root,a),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:i}))}),io=hAe,mAe=an(N.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),gAe=an(N.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),vAe=an(N.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),bAe=an(N.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),fre=an(N.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),yAe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],xAe=e=>{const{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`${t}${Be(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Qe(i,cre,o)},wAe=Ee(sa,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Be(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?ss:ls,r=e.palette.mode==="light"?ls:ss,o=t.color||t.severity;return A({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:n(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:r(e.palette[o].light,.9),[`& .${VF.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:n(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${VF.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&t.variant==="filled"&&A({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)}))}),_Ae=Ee("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),SAe=Ee("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),dU=Ee("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),fU={success:N.jsx(mAe,{fontSize:"inherit"}),warning:N.jsx(gAe,{fontSize:"inherit"}),error:N.jsx(vAe,{fontSize:"inherit"}),info:N.jsx(bAe,{fontSize:"inherit"})},CAe=C.forwardRef(function(t,n){var r,o,i,a,s,l;const c=dt({props:t,name:"MuiAlert"}),{action:u,children:d,className:f,closeText:p="Close",color:h,components:g={},componentsProps:v={},icon:m,iconMapping:b=fU,onClose:x,role:y="alert",severity:w="success",slotProps:_={},slots:S={},variant:P="standard"}=c,M=De(c,yAe),I=A({},c,{color:h,severity:w,variant:P}),O=xAe(I),L=(r=(o=S.closeButton)!=null?o:g.CloseButton)!=null?r:io,R=(i=(a=S.closeIcon)!=null?a:g.CloseIcon)!=null?i:fre,T=(s=_.closeButton)!=null?s:v.closeButton,E=(l=_.closeIcon)!=null?l:v.closeIcon;return N.jsxs(wAe,A({role:y,elevation:0,ownerState:I,className:Ne(O.root,f),ref:n},M,{children:[m!==!1?N.jsx(_Ae,{ownerState:I,className:O.icon,children:m||b[w]||fU[w]}):null,N.jsx(SAe,{ownerState:I,className:O.message,children:d}),u!=null?N.jsx(dU,{ownerState:I,className:O.action,children:u}):null,u==null&&x?N.jsx(dU,{ownerState:I,className:O.action,children:N.jsx(L,A({size:"small","aria-label":p,title:p,color:"inherit",onClick:x},T,{children:N.jsx(R,A({fontSize:"small"},E))}))}):null]}))}),PAe=CAe;function pre(e){return lt("MuiTypography",e)}const MAe=ut("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),AAe=MAe,EAe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],TAe=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e,s={root:["root",i,e.align!=="inherit"&&`align${Be(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Qe(s,pre,a)},OAe=Ee("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${Be(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>A({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),pU={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},IAe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kAe=e=>IAe[e]||e,RAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTypography"}),o=kAe(r.color),i=L_(A({},r,{color:o})),{align:a="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=pU}=i,h=De(i,EAe),g=A({},i,{align:a,color:o,className:s,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),v=l||(d?"p":p[f]||pU[f])||"span",m=TAe(g);return N.jsx(OAe,A({as:v,ref:n,ownerState:g,className:Ne(m.root,s)},h))}),On=RAe;function hre(e){return lt("MuiAlertTitle",e)}const LAe=ut("MuiAlertTitle",["root"]),$Ae=LAe,DAe=["className"],FAe=e=>{const{classes:t}=e;return Qe({root:["root"]},hre,t)},NAe=Ee(On,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({fontWeight:e.typography.fontWeightMedium,marginTop:-2})),BAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAlertTitle"}),{className:o}=r,i=De(r,DAe),a=r,s=FAe(a);return N.jsx(NAe,A({gutterBottom:!0,component:"div",ownerState:a,ref:n,className:Ne(s.root,o)},i))}),jAe=BAe;function mre(e){return lt("MuiAppBar",e)}const zAe=ut("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]),HAe=zAe,VAe=["className","color","enableColorOnDark","position"],UAe=e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${Be(t)}`,`position${Be(n)}`]};return Qe(o,mre,r)},GC=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,GAe=Ee(sa,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Be(n.position)}`],t[`color${Be(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return A({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&A({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&A({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&A({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:GC(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:GC(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:GC(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:GC(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),WAe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=De(r,VAe),c=A({},r,{color:i,position:s,enableColorOnDark:a}),u=UAe(c);return N.jsx(GAe,A({square:!0,component:"header",ownerState:c,elevation:4,className:Ne(u.root,o,s==="fixed"&&"mui-fixed"),ref:n},l))}),qAe=WAe,XAe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],KAe=Ee(gPe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),YAe=C.forwardRef(function(t,n){var r;const o=zT(),i=dt({props:t,name:"MuiPopper"}),{anchorEl:a,component:s,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:h,placement:g,popperOptions:v,popperRef:m,transition:b,slots:x,slotProps:y}=i,w=De(i,XAe),_=(r=x==null?void 0:x.root)!=null?r:l==null?void 0:l.Root,S=A({anchorEl:a,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:h,placement:g,popperOptions:v,popperRef:m,transition:b},w);return N.jsx(KAe,A({as:s,direction:o==null?void 0:o.direction,slots:{root:_},slotProps:y??c},S,{ref:n}))}),Vp=YAe;function gre(e){return lt("MuiListSubheader",e)}const ZAe=ut("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]),QAe=ZAe,JAe=["className","color","component","disableGutters","disableSticky","inset"],eEe=e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:i}=e,a={root:["root",n!=="default"&&`color${Be(n)}`,!r&&"gutters",o&&"inset",!i&&"sticky"]};return Qe(a,gre,t)},tEe=Ee("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Be(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>A({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),vre=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListSubheader"}),{className:o,color:i="default",component:a="li",disableGutters:s=!1,disableSticky:l=!1,inset:c=!1}=r,u=De(r,JAe),d=A({},r,{color:i,component:a,disableGutters:s,disableSticky:l,inset:c}),f=eEe(d);return N.jsx(tEe,A({as:a,className:Ne(f.root,o),ref:n,ownerState:d},u))});vre.muiSkipListHighlight=!0;const bre=vre,nEe=an(N.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function yre(e){return lt("MuiChip",e)}const rEe=ut("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),qn=rEe,oEe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],iEe=e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:i,onDelete:a,clickable:s,variant:l}=e,c={root:["root",l,n&&"disabled",`size${Be(r)}`,`color${Be(o)}`,s&&"clickable",s&&`clickableColor${Be(o)}`,a&&"deletable",a&&`deletableColor${Be(o)}`,`${l}${Be(o)}`],label:["label",`label${Be(r)}`],avatar:["avatar",`avatar${Be(r)}`,`avatarColor${Be(o)}`],icon:["icon",`icon${Be(r)}`,`iconColor${Be(i)}`],deleteIcon:["deleteIcon",`deleteIcon${Be(r)}`,`deleteIconColor${Be(o)}`,`deleteIcon${Be(l)}Color${Be(o)}`]};return Qe(c,yre,t)},aEe=Ee("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:i,onDelete:a,size:s,variant:l}=n;return[{[`& .${qn.avatar}`]:t.avatar},{[`& .${qn.avatar}`]:t[`avatar${Be(s)}`]},{[`& .${qn.avatar}`]:t[`avatarColor${Be(r)}`]},{[`& .${qn.icon}`]:t.icon},{[`& .${qn.icon}`]:t[`icon${Be(s)}`]},{[`& .${qn.icon}`]:t[`iconColor${Be(o)}`]},{[`& .${qn.deleteIcon}`]:t.deleteIcon},{[`& .${qn.deleteIcon}`]:t[`deleteIcon${Be(s)}`]},{[`& .${qn.deleteIcon}`]:t[`deleteIconColor${Be(r)}`]},{[`& .${qn.deleteIcon}`]:t[`deleteIcon${Be(l)}Color${Be(r)}`]},t.root,t[`size${Be(s)}`],t[`color${Be(r)}`],i&&t.clickable,i&&r!=="default"&&t[`clickableColor${Be(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${Be(r)}`],t[l],t[`${l}${Be(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return A({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${qn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${qn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${qn.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${qn.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${qn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${qn.icon}`]:A({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&A({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${qn.deleteIcon}`]:A({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Pt(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Pt(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Pt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${qn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${qn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>A({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${qn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${qn.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>A({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${qn.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${qn.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${qn.avatar}`]:{marginLeft:4},[`& .${qn.avatarSmall}`]:{marginLeft:2},[`& .${qn.icon}`]:{marginLeft:4},[`& .${qn.iconSmall}`]:{marginLeft:2},[`& .${qn.deleteIcon}`]:{marginRight:5},[`& .${qn.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Pt(e.palette[t.color].main,.7)}`,[`&.${qn.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${qn.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Pt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${qn.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Pt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),sEe=Ee("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Be(r)}`]]}})(({ownerState:e})=>A({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function hU(e){return e.key==="Backspace"||e.key==="Delete"}const lEe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:a,color:s="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:h,onKeyDown:g,onKeyUp:v,size:m="medium",variant:b="filled",tabIndex:x,skipFocusWhenDisabled:y=!1}=r,w=De(r,oEe),_=C.useRef(null),S=wn(_,n),P=j=>{j.stopPropagation(),h&&h(j)},M=j=>{j.currentTarget===j.target&&hU(j)&&j.preventDefault(),g&&g(j)},I=j=>{j.currentTarget===j.target&&(h&&hU(j)?h(j):j.key==="Escape"&&_.current&&_.current.blur()),v&&v(j)},O=a!==!1&&p?!0:a,L=O||h?Ho:l||"div",R=A({},r,{component:L,disabled:u,size:m,color:s,iconColor:C.isValidElement(d)&&d.props.color||s,onDelete:!!h,clickable:O,variant:b}),T=iEe(R),E=L===Ho?A({component:l||"div",focusVisibleClassName:T.focusVisible},h&&{disableRipple:!0}):{};let k=null;h&&(k=c&&C.isValidElement(c)?C.cloneElement(c,{className:Ne(c.props.className,T.deleteIcon),onClick:P}):N.jsx(nEe,{className:Ne(T.deleteIcon),onClick:P}));let B=null;o&&C.isValidElement(o)&&(B=C.cloneElement(o,{className:Ne(T.avatar,o.props.className)}));let $=null;return d&&C.isValidElement(d)&&($=C.cloneElement(d,{className:Ne(T.icon,d.props.className)})),N.jsxs(aEe,A({as:L,className:Ne(T.root,i),disabled:O&&u?!0:void 0,onClick:p,onKeyDown:M,onKeyUp:I,ref:S,tabIndex:y&&u?-1:x,ownerState:R},E,w,{children:[B||$,N.jsx(sEe,{className:Ne(T.label),ownerState:R,children:f}),k]}))}),ZT=lEe;function Zd({props:e,states:t,muiFormControl:n}){return t.reduce((r,o)=>(r[o]=e[o],n&&typeof e[o]>"u"&&(r[o]=n[o]),r),{})}const cEe=C.createContext(void 0),QT=cEe;function kl(){return C.useContext(QT)}function $j(e){return N.jsx(G_e,A({},e,{defaultTheme:GT,themeId:Su}))}function mU(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function yA(e,t=!1){return e&&(mU(e.value)&&e.value!==""||t&&mU(e.defaultValue)&&e.defaultValue!=="")}function uEe(e){return e.startAdornment}function xre(e){return lt("MuiInputBase",e)}const dEe=ut("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ha=dEe,fEe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],JT=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Be(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},eO=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},pEe=e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:i,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:h}=e,g={root:["root",`color${Be(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",f==="small"&&"sizeSmall",u&&"multiline",p&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",h==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return Qe(g,xre,t)},tO=Ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:JT})(({theme:e,ownerState:t})=>A({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ha.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&A({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),nO=Ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:eO})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=A({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return A({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ha.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Ha.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),hEe=N.jsx($j,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mEe=C.forwardRef(function(t,n){var r;const o=dt({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:h,fullWidth:g=!1,id:v,inputComponent:m="input",inputProps:b={},inputRef:x,maxRows:y,minRows:w,multiline:_=!1,name:S,onBlur:P,onChange:M,onClick:I,onFocus:O,onKeyDown:L,onKeyUp:R,placeholder:T,readOnly:E,renderSuffix:k,rows:B,slotProps:$={},slots:j={},startAdornment:V,type:q="text",value:Q}=o,H=De(o,fEe),X=b.value!=null?b.value:Q,{current:J}=C.useRef(X!=null),G=C.useRef(),ie=C.useCallback(D=>{},[]),Y=wn(G,x,b.ref,ie),[le,te]=C.useState(!1),re=kl(),ae=Zd({props:o,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=re?re.focused:le,C.useEffect(()=>{!re&&f&&le&&(te(!1),P&&P())},[re,f,le,P]);const pe=re&&re.onFilled,we=re&&re.onEmpty,fe=C.useCallback(D=>{yA(D)?pe&&pe():we&&we()},[pe,we]);ar(()=>{J&&fe({value:X})},[X,fe,J]);const _e=D=>{if(ae.disabled){D.stopPropagation();return}O&&O(D),b.onFocus&&b.onFocus(D),re&&re.onFocus?re.onFocus(D):te(!0)},W=D=>{P&&P(D),b.onBlur&&b.onBlur(D),re&&re.onBlur?re.onBlur(D):te(!1)},oe=(D,...F)=>{if(!J){const K=D.target||G.current;if(K==null)throw new Error(os(1));fe({value:K.value})}b.onChange&&b.onChange(D,...F),M&&M(D,...F)};C.useEffect(()=>{fe(G.current)},[]);const Ce=D=>{G.current&&D.currentTarget===D.target&&G.current.focus(),I&&!ae.disabled&&I(D)};let ve=m,me=b;_&&ve==="input"&&(B?me=A({type:void 0,minRows:B,maxRows:B},me):me=A({type:void 0,maxRows:y,minRows:w},me),ve=qne);const ye=D=>{fe(D.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};C.useEffect(()=>{re&&re.setAdornedStart(!!V)},[re,V]);const Le=A({},o,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:h,error:ae.error,focused:ae.focused,formControl:re,fullWidth:g,hiddenLabel:ae.hiddenLabel,multiline:_,size:ae.size,startAdornment:V,type:q}),Te=pEe(Le),Me=j.root||c.Root||tO,$e=$.root||u.root||{},U=j.input||c.Input||nO;return me=A({},me,(r=$.input)!=null?r:u.input),N.jsxs(C.Fragment,{children:[!p&&hEe,N.jsxs(Me,A({},$e,!dc(Me)&&{ownerState:A({},Le,$e.ownerState)},{ref:n,onClick:Ce},H,{className:Ne(Te.root,$e.className,l,E&&"MuiInputBase-readOnly"),children:[V,N.jsx(QT.Provider,{value:null,children:N.jsx(U,A({ownerState:Le,"aria-invalid":ae.error,"aria-describedby":i,autoComplete:a,autoFocus:s,defaultValue:d,disabled:ae.disabled,id:v,onAnimationStart:ye,name:S,placeholder:T,readOnly:E,required:ae.required,rows:B,value:X,onKeyDown:L,onKeyUp:R,type:q},me,!dc(U)&&{as:ve,ownerState:A({},Le,me.ownerState)},{ref:Y,className:Ne(Te.input,me.className,E&&"MuiInputBase-readOnly"),onBlur:W,onChange:oe,onFocus:_e}))}),h,k?k(A({},ae,{startAdornment:V})):null]}))]})}),rg=mEe;function wre(e){return lt("MuiInput",e)}const gEe=A({},Ha,ut("MuiInput",["root","underline","input"])),dd=gEe;function _re(e){return lt("MuiOutlinedInput",e)}const vEe=A({},Ha,ut("MuiOutlinedInput",["root","notchedOutline","input"])),ql=vEe;function Sre(e){return lt("MuiFilledInput",e)}const bEe=A({},Ha,ut("MuiFilledInput",["root","underline","input"])),Va=bEe,Dj=an(N.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Cre(e){return lt("MuiAutocomplete",e)}const yEe=ut("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),An=yEe;var gU,vU;const xEe=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],wEe=e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:i,hasClearIcon:a,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:u}=e,d={root:["root",r&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Be(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Qe(d,Cre,t)},_Ee=Ee("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:i,inputFocused:a,size:s}=n;return[{[`& .${An.tag}`]:t.tag},{[`& .${An.tag}`]:t[`tagSize${Be(s)}`]},{[`& .${An.inputRoot}`]:t.inputRoot},{[`& .${An.input}`]:t.input},{[`& .${An.input}`]:a&&t.inputFocused},t.root,r&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})(({ownerState:e})=>A({[`&.${An.focused} .${An.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${An.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${An.tag}`]:A({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${An.inputRoot}`]:{flexWrap:"wrap",[`.${An.hasPopupIcon}&, .${An.hasClearIcon}&`]:{paddingRight:26+4},[`.${An.hasPopupIcon}.${An.hasClearIcon}&`]:{paddingRight:52+4},[`& .${An.input}`]:{width:0,minWidth:30}},[`& .${dd.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${dd.root}.${Ha.sizeSmall}`]:{[`& .${dd.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ql.root}`]:{padding:9,[`.${An.hasPopupIcon}&, .${An.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${An.hasPopupIcon}.${An.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${An.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${An.endAdornment}`]:{right:9}},[`& .${ql.root}.${Ha.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${An.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Va.root}`]:{paddingTop:19,paddingLeft:8,[`.${An.hasPopupIcon}&, .${An.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${An.hasPopupIcon}.${An.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Va.input}`]:{padding:"7px 4px"},[`& .${An.endAdornment}`]:{right:9}},[`& .${Va.root}.${Ha.sizeSmall}`]:{paddingBottom:1,[`& .${Va.input}`]:{padding:"2.5px 4px"}},[`& .${Ha.hiddenLabel}`]:{paddingTop:8},[`& .${Va.root}.${Ha.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${An.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Va.root}.${Ha.hiddenLabel}.${Ha.sizeSmall}`]:{[`& .${An.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${An.input}`]:A({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),SEe=Ee("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),CEe=Ee(io,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),PEe=Ee(io,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>A({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>A({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),MEe=Ee(Vp,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${An.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>A({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),AEe=Ee(sa,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>A({},e.typography.body1,{overflow:"auto"})),EEe=Ee("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),TEe=Ee("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),OEe=Ee("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${An.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${An.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${An.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${An.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${An.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),IEe=Ee(bre,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),kEe=Ee("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${An.option}`]:{paddingLeft:24}}),REe=C.forwardRef(function(t,n){var r,o,i,a;const s=dt({props:t,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:d=!1,ChipProps:f,className:p,clearIcon:h=gU||(gU=N.jsx(fre,{fontSize:"small"})),clearOnBlur:g=!s.freeSolo,clearOnEscape:v=!1,clearText:m="Clear",closeText:b="Close",componentsProps:x={},defaultValue:y=s.multiple?[]:null,disableClearable:w=!1,disableCloseOnSelect:_=!1,disabled:S=!1,disabledItemsFocusable:P=!1,disableListWrap:M=!1,disablePortal:I=!1,filterSelectedOptions:O=!1,forcePopupIcon:L="auto",freeSolo:R=!1,fullWidth:T=!1,getLimitTagsText:E=xe=>`+${xe}`,getOptionLabel:k=xe=>{var Ie;return(Ie=xe.label)!=null?Ie:xe},groupBy:B,handleHomeEndKeys:$=!s.freeSolo,includeInputInList:j=!1,limitTags:V=-1,ListboxComponent:q="ul",ListboxProps:Q,loading:H=!1,loadingText:X="Loading…",multiple:J=!1,noOptionsText:G="No options",openOnFocus:ie=!1,openText:Y="Open",PaperComponent:le=sa,PopperComponent:te=Vp,popupIcon:re=vU||(vU=N.jsx(Dj,{})),readOnly:ae=!1,renderGroup:pe,renderInput:we,renderOption:fe,renderTags:_e,selectOnFocus:W=!s.freeSolo,size:oe="medium",slotProps:Ce={}}=s,ve=De(s,xEe),{getRootProps:me,getInputProps:ye,getInputLabelProps:Le,getPopupIndicatorProps:Te,getClearProps:Me,getTagProps:$e,getListboxProps:U,getOptionProps:D,value:F,dirty:K,expanded:he,id:ge,popupOpen:Ae,focused:Ke,focusedTag:Je,anchorEl:ft,setAnchorEl:ht,inputValue:it,groupedOptions:At}=Xne(A({},s,{componentName:"Autocomplete"})),Pe=!w&&!S&&K&&!ae,Re=(!R||L===!0)&&L!==!1,{onMouseDown:ze}=ye(),je=A({},s,{disablePortal:I,expanded:he,focused:Ke,fullWidth:T,hasClearIcon:Pe,hasPopupIcon:Re,inputFocused:Je===-1,popupOpen:Ae,size:oe}),Ue=wEe(je);let tt;if(J&&F.length>0){const xe=Ie=>A({className:Ue.tag,disabled:S},$e(Ie));_e?tt=_e(F,xe,je):tt=F.map((Ie,Xe)=>N.jsx(ZT,A({label:k(Ie),size:oe},xe({index:Xe}),f)))}if(V>-1&&Array.isArray(tt)){const xe=tt.length-V;!Ke&&xe>0&&(tt=tt.splice(0,V),tt.push(N.jsx("span",{className:Ue.tag,children:E(xe)},tt.length)))}const He=pe||(xe=>N.jsxs("li",{children:[N.jsx(IEe,{className:Ue.groupLabel,ownerState:je,component:"div",children:xe.group}),N.jsx(kEe,{className:Ue.groupUl,ownerState:je,children:xe.children})]},xe.key)),z=fe||((xe,Ie)=>N.jsx("li",A({},xe,{children:k(Ie)}))),Z=(xe,Ie)=>{const Xe=D({option:xe,index:Ie});return z(A({},Xe,{className:Ue.option}),xe,{selected:Xe["aria-selected"],index:Ie,inputValue:it})},ne=(r=Ce.clearIndicator)!=null?r:x.clearIndicator,de=(o=Ce.paper)!=null?o:x.paper,ce=(i=Ce.popper)!=null?i:x.popper,Se=(a=Ce.popupIndicator)!=null?a:x.popupIndicator;return N.jsxs(C.Fragment,{children:[N.jsx(_Ee,A({ref:n,className:Ne(Ue.root,p),ownerState:je},me(ve),{children:we({id:ge,disabled:S,fullWidth:!0,size:oe==="small"?"small":void 0,InputLabelProps:Le(),InputProps:A({ref:ht,className:Ue.inputRoot,startAdornment:tt,onClick:xe=>{xe.target===xe.currentTarget&&ze(xe)}},(Pe||Re)&&{endAdornment:N.jsxs(SEe,{className:Ue.endAdornment,ownerState:je,children:[Pe?N.jsx(CEe,A({},Me(),{"aria-label":m,title:m,ownerState:je},ne,{className:Ne(Ue.clearIndicator,ne==null?void 0:ne.className),children:h})):null,Re?N.jsx(PEe,A({},Te(),{disabled:S,"aria-label":Ae?b:Y,title:Ae?b:Y,ownerState:je},Se,{className:Ne(Ue.popupIndicator,Se==null?void 0:Se.className),children:re})):null]})}),inputProps:A({className:Ue.input,disabled:S,readOnly:ae},ye())})})),ft?N.jsx(MEe,A({as:te,disablePortal:I,style:{width:ft?ft.clientWidth:null},ownerState:je,role:"presentation",anchorEl:ft,open:Ae},ce,{className:Ne(Ue.popper,ce==null?void 0:ce.className),children:N.jsxs(AEe,A({ownerState:je,as:le},de,{className:Ne(Ue.paper,de==null?void 0:de.className),children:[H&&At.length===0?N.jsx(EEe,{className:Ue.loading,ownerState:je,children:X}):null,At.length===0&&!R&&!H?N.jsx(TEe,{className:Ue.noOptions,ownerState:je,role:"presentation",onMouseDown:xe=>{xe.preventDefault()},children:G}):null,At.length>0?N.jsx(OEe,A({as:q,className:Ue.listbox,ownerState:je},U(),Q,{children:At.map((xe,Ie)=>B?He({key:xe.key,group:xe.group,children:xe.options.map((Xe,Ye)=>Z(Xe,xe.index+Ye))}):Z(xe,Ie))})):null]}))})):null]})}),Fj=REe,LEe=an(N.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Pre(e){return lt("MuiAvatar",e)}const $Ee=ut("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]),Mre=$Ee,DEe=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],FEe=e=>{const{classes:t,variant:n,colorDefault:r}=e;return Qe({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Pre,t)},NEe=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>A({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&A({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),BEe=Ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),jEe=Ee(LEe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function zEe({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[o,i]=C.useState(!1);return C.useEffect(()=>{if(!n&&!r)return;i(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&i("loaded")},s.onerror=()=>{a&&i("error")},s.crossOrigin=e,s.referrerPolicy=t,s.src=n,r&&(s.srcset=r),()=>{a=!1}},[e,t,n,r]),o}const HEe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiAvatar"}),{alt:o,children:i,className:a,component:s="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=r,p=De(r,DEe);let h=null;const g=zEe(A({},l,{src:u,srcSet:d})),v=u||d,m=v&&g!=="error",b=A({},r,{colorDefault:!m,component:s,variant:f}),x=FEe(b);return m?h=N.jsx(BEe,A({alt:o,src:u,srcSet:d,sizes:c,ownerState:b,className:x.img},l)):i!=null?h=i:v&&o?h=o[0]:h=N.jsx(jEe,{ownerState:b,className:x.fallback}),N.jsx(NEe,A({as:s,ownerState:b,className:Ne(x.root,a),ref:n},p,{children:h}))}),Are=HEe;function Ere(e){return lt("MuiAvatarGroup",e)}const VEe=ut("MuiAvatarGroup",["root","avatar"]),Tre=VEe,UEe=["children","className","component","componentsProps","max","slotProps","spacing","total","variant"],bU={small:-16,medium:null},GEe=e=>{const{classes:t}=e;return Qe({root:["root"],avatar:["avatar"]},Ere,t)},WEe=Ee("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,t)=>A({[`& .${Tre.avatar}`]:t.avatar},t.root)})(({theme:e})=>({[`& .${Mre.root}`]:{border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),qEe=Ee(Are,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})(({theme:e})=>({border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),XEe=C.forwardRef(function(t,n){var r;const o=dt({props:t,name:"MuiAvatarGroup"}),{children:i,className:a,component:s="div",componentsProps:l={},max:c=5,slotProps:u={},spacing:d="medium",total:f,variant:p="circular"}=o,h=De(o,UEe);let g=c<2?2:c;const v=A({},o,{max:c,spacing:d,component:s,variant:p}),m=GEe(v),b=C.Children.toArray(i).filter(P=>C.isValidElement(P)),x=f||b.length;x===g&&(g+=1),g=Math.min(x+1,g);const y=Math.min(b.length,g-1),w=Math.max(x-g,x-y,0),_=d&&bU[d]!==void 0?bU[d]:-d,S=(r=u.additionalAvatar)!=null?r:l.additionalAvatar;return N.jsxs(WEe,A({as:s,ownerState:v,className:Ne(m.root,a),ref:n},h,{children:[w?N.jsxs(qEe,A({ownerState:v,variant:p},S,{className:Ne(m.avatar,S==null?void 0:S.className),style:A({marginLeft:_},S==null?void 0:S.style),children:["+",w]})):null,b.slice(0,y).reverse().map((P,M)=>C.cloneElement(P,{className:Ne(P.props.className,m.avatar),style:A({marginLeft:M===y-1?void 0:_},P.props.style),variant:P.props.variant||p}))]}))}),KEe=XEe,YEe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ZEe={entering:{opacity:1},entered:{opacity:1}},QEe=C.forwardRef(function(t,n){const r=Ir(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:h,onExiting:g,style:v,timeout:m=o,TransitionComponent:b=j_}=t,x=De(t,YEe),y=C.useRef(null),w=wn(y,s.ref,n),_=T=>E=>{if(T){const k=y.current;E===void 0?T(k):T(k,E)}},S=_(f),P=_((T,E)=>{XT(T);const k=_c({style:v,timeout:m,easing:l},{mode:"enter"});T.style.webkitTransition=r.transitions.create("opacity",k),T.style.transition=r.transitions.create("opacity",k),u&&u(T,E)}),M=_(d),I=_(g),O=_(T=>{const E=_c({style:v,timeout:m,easing:l},{mode:"exit"});T.style.webkitTransition=r.transitions.create("opacity",E),T.style.transition=r.transitions.create("opacity",E),p&&p(T)}),L=_(h),R=T=>{i&&i(y.current,T)};return N.jsx(b,A({appear:a,in:c,nodeRef:y,onEnter:P,onEntered:M,onEntering:S,onExit:O,onExited:L,onExiting:I,addEndListener:R,timeout:m},x,{children:(T,E)=>C.cloneElement(s,A({style:A({opacity:0,visibility:T==="exited"&&!c?"hidden":void 0},ZEe[T],v,s.props.style),ref:w},E))}))}),Nj=QEe;function Ore(e){return lt("MuiBackdrop",e)}const JEe=ut("MuiBackdrop",["root","invisible"]),eTe=JEe,tTe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],nTe=e=>{const{classes:t,invisible:n}=e;return Qe({root:["root",n&&"invisible"]},Ore,t)},rTe=Ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>A({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),oTe=C.forwardRef(function(t,n){var r,o,i;const a=dt({props:t,name:"MuiBackdrop"}),{children:s,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:h={},slots:g={},TransitionComponent:v=Nj,transitionDuration:m}=a,b=De(a,tTe),x=A({},a,{component:c,invisible:f}),y=nTe(x),w=(r=h.root)!=null?r:d.root;return N.jsx(v,A({in:p,timeout:m},b,{children:N.jsx(rTe,A({"aria-hidden":!0},w,{as:(o=(i=g.root)!=null?i:u.Root)!=null?o:c,className:Ne(y.root,l,w==null?void 0:w.className),ownerState:A({},x,w==null?void 0:w.ownerState),classes:y,ref:n,children:s}))}))}),Bj=oTe;function Ire(e){return lt("MuiBadge",e)}const iTe=ut("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ed=iTe,aTe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],wR=10,_R=4,sTe=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:a={}}=e,s={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${Be(n.vertical)}${Be(n.horizontal)}`,`anchorOrigin${Be(n.vertical)}${Be(n.horizontal)}${Be(o)}`,`overlap${Be(o)}`,t!=="default"&&`color${Be(t)}`]};return Qe(s,Ire,a)},lTe=Ee("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),cTe=Ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Be(n.anchorOrigin.vertical)}${Be(n.anchorOrigin.horizontal)}${Be(n.overlap)}`],n.color!=="default"&&t[`color${Be(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>A({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:wR*2,lineHeight:1,padding:"0 6px",height:wR*2,borderRadius:wR,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:_R,height:_R*2,minWidth:_R*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ed.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),uTe=C.forwardRef(function(t,n){var r,o,i,a,s,l;const c=dt({props:t,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:f,components:p={},componentsProps:h={},children:g,overlap:v="rectangular",color:m="default",invisible:b=!1,max:x=99,badgeContent:y,slots:w,slotProps:_,showZero:S=!1,variant:P="standard"}=c,M=De(c,aTe),{badgeContent:I,invisible:O,max:L,displayValue:R}=GCe({max:x,invisible:b,badgeContent:y,showZero:S}),T=H4({anchorOrigin:u,color:m,overlap:v,variant:P,badgeContent:y}),E=O||I==null&&P!=="dot",{color:k=m,overlap:B=v,anchorOrigin:$=u,variant:j=P}=E?T:c,V=j!=="dot"?R:void 0,q=A({},c,{badgeContent:I,invisible:E,max:L,displayValue:V,showZero:S,anchorOrigin:$,color:k,overlap:B,variant:j}),Q=sTe(q),H=(r=(o=w==null?void 0:w.root)!=null?o:p.Root)!=null?r:lTe,X=(i=(a=w==null?void 0:w.badge)!=null?a:p.Badge)!=null?i:cTe,J=(s=_==null?void 0:_.root)!=null?s:h.root,G=(l=_==null?void 0:_.badge)!=null?l:h.badge,ie=Yo({elementType:H,externalSlotProps:J,externalForwardedProps:M,additionalProps:{ref:n,as:f},ownerState:q,className:Ne(J==null?void 0:J.className,Q.root,d)}),Y=Yo({elementType:X,externalSlotProps:G,ownerState:q,className:Ne(Q.badge,G==null?void 0:G.className)});return N.jsxs(H,A({},ie,{children:[g,N.jsx(X,A({},Y,{children:V}))]}))}),rO=uTe;function kre(e){return lt("MuiBottomNavigation",e)}const dTe=ut("MuiBottomNavigation",["root"]),fTe=dTe,pTe=["children","className","component","onChange","showLabels","value"],hTe=e=>{const{classes:t}=e;return Qe({root:["root"]},kre,t)},mTe=Ee("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(e.vars||e).palette.background.paper})),gTe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiBottomNavigation"}),{children:o,className:i,component:a="div",onChange:s,showLabels:l=!1,value:c}=r,u=De(r,pTe),d=A({},r,{component:a,showLabels:l}),f=hTe(d);return N.jsx(mTe,A({as:a,className:Ne(f.root,i),ref:n,ownerState:d},u,{children:C.Children.map(o,(p,h)=>{if(!C.isValidElement(p))return null;const g=p.props.value===void 0?h:p.props.value;return C.cloneElement(p,{selected:g===c,showLabel:p.props.showLabel!==void 0?p.props.showLabel:l,value:g,onChange:s})})}))}),vTe=gTe;function Rre(e){return lt("MuiBottomNavigationAction",e)}const bTe=ut("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),jj=bTe,yTe=["className","icon","label","onChange","onClick","selected","showLabel","value"],xTe=e=>{const{classes:t,showLabel:n,selected:r}=e;return Qe({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},Rre,t)},wTe=Ee(Ho,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.showLabel&&!n.selected&&t.iconOnly]}})(({theme:e,ownerState:t})=>A({transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(e.vars||e).palette.text.secondary,flexDirection:"column",flex:"1"},!t.showLabel&&!t.selected&&{paddingTop:14},!t.showLabel&&!t.selected&&!t.label&&{paddingTop:0},{[`&.${jj.selected}`]:{color:(e.vars||e).palette.primary.main}})),_Te=Ee("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e,ownerState:t})=>A({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!t.showLabel&&!t.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${jj.selected}`]:{fontSize:e.typography.pxToRem(14)}})),STe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiBottomNavigationAction"}),{className:o,icon:i,label:a,onChange:s,onClick:l,value:c}=r,u=De(r,yTe),d=r,f=xTe(d),p=h=>{s&&s(h,c),l&&l(h)};return N.jsxs(wTe,A({ref:n,className:Ne(f.root,o),focusRipple:!0,onClick:p,ownerState:d},u,{children:[i,N.jsx(_Te,{className:f.label,ownerState:d,children:a})]}))}),CTe=STe,PTe=_p(),MTe=K_e({themeId:Su,defaultTheme:PTe,defaultClassName:"MuiBox-root",generateClassName:U4.generate}),Lre=MTe,ATe=an(N.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),ETe=["slots","slotProps"],TTe=Ee(Ho)(({theme:e})=>A({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":A({},e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":A({boxShadow:e.shadows[0]},e.palette.mode==="light"?{backgroundColor:Hb(e.palette.grey[200],.12)}:{backgroundColor:Hb(e.palette.grey[600],.12)})})),OTe=Ee(ATe)({width:24,height:16});function ITe(e){const{slots:t={},slotProps:n={}}=e,r=De(e,ETe),o=e;return N.jsx("li",{children:N.jsx(TTe,A({focusRipple:!0},r,{ownerState:o,children:N.jsx(OTe,A({as:t.CollapsedIcon,ownerState:o},n.collapsedIcon))}))})}function $re(e){return lt("MuiBreadcrumbs",e)}const kTe=ut("MuiBreadcrumbs",["root","ol","li","separator"]),Dre=kTe,RTe=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],LTe=e=>{const{classes:t}=e;return Qe({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},$re,t)},$Te=Ee(On,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${Dre.li}`]:t.li},t.root]})({}),DTe=Ee("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),FTe=Ee("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function NTe(e,t,n,r){return e.reduce((o,i,a)=>(a<e.length-1?o=o.concat(i,N.jsx(FTe,{"aria-hidden":!0,className:t,ownerState:r,children:n},`separator-${a}`)):o.push(i),o),[])}const BTe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiBreadcrumbs"}),{children:o,className:i,component:a="nav",slots:s={},slotProps:l={},expandText:c="Show path",itemsAfterCollapse:u=1,itemsBeforeCollapse:d=1,maxItems:f=8,separator:p="/"}=r,h=De(r,RTe),[g,v]=C.useState(!1),m=A({},r,{component:a,expanded:g,expandText:c,itemsAfterCollapse:u,itemsBeforeCollapse:d,maxItems:f,separator:p}),b=LTe(m),x=Yo({elementType:s.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:m}),y=C.useRef(null),w=S=>{const P=()=>{v(!0);const M=y.current.querySelector("a[href],button,[tabindex]");M&&M.focus()};return d+u>=S.length?S:[...S.slice(0,d),N.jsx(ITe,{"aria-label":c,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:x},onClick:P},"ellipsis"),...S.slice(S.length-u,S.length)]},_=C.Children.toArray(o).filter(S=>C.isValidElement(S)).map((S,P)=>N.jsx("li",{className:b.li,children:S},`child-${P}`));return N.jsx($Te,A({ref:n,component:a,color:"text.secondary",className:Ne(b.root,i),ownerState:m},h,{children:N.jsx(DTe,{className:b.ol,ref:y,ownerState:m,children:NTe(g||f&&_.length<=f?_:w(_),b.separator,p,m)})}))}),jTe=BTe;function Fre(e){return lt("MuiButton",e)}const zTe=ut("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$1=zTe,HTe=C.createContext({}),Nre=HTe,VTe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],UTe=e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,s={root:["root",i,`${i}${Be(t)}`,`size${Be(o)}`,`${i}Size${Be(o)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Be(o)}`],endIcon:["endIcon",`iconSize${Be(o)}`]},l=Qe(s,Fre,a);return A({},a,l)},Bre=e=>A({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),GTe=Ee(Ho,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Be(n.color)}`],t[`size${Be(n.size)}`],t[`${n.variant}Size${Be(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],i=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return A({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":A({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":A({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${$1.focusVisible}`]:A({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${$1.disabled}`]:A({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Pt(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$1.disabled}`]:{boxShadow:"none"}}),WTe=Ee("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Be(n.size)}`]]}})(({ownerState:e})=>A({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},Bre(e))),qTe=Ee("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Be(n.size)}`]]}})(({ownerState:e})=>A({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},Bre(e))),XTe=C.forwardRef(function(t,n){const r=C.useContext(Nre),o=V4(r,t),i=dt({props:o,name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:h,fullWidth:g=!1,size:v="medium",startIcon:m,type:b,variant:x="text"}=i,y=De(i,VTe),w=A({},i,{color:s,component:l,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:x}),_=UTe(w),S=m&&N.jsx(WTe,{className:_.startIcon,ownerState:w,children:m}),P=p&&N.jsx(qTe,{className:_.endIcon,ownerState:w,children:p});return N.jsxs(GTe,A({ownerState:w,className:Ne(r.className,_.root,c),component:l,disabled:u,focusRipple:!f,focusVisibleClassName:Ne(_.focusVisible,h),ref:n,type:b},y,{classes:_,children:[S,a,P]}))}),fc=XTe;function jre(e){return lt("MuiButtonGroup",e)}const KTe=ut("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),nc=KTe,YTe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],ZTe=(e,t)=>{const{ownerState:n}=e;return[{[`& .${nc.grouped}`]:t.grouped},{[`& .${nc.grouped}`]:t[`grouped${Be(n.orientation)}`]},{[`& .${nc.grouped}`]:t[`grouped${Be(n.variant)}`]},{[`& .${nc.grouped}`]:t[`grouped${Be(n.variant)}${Be(n.orientation)}`]},{[`& .${nc.grouped}`]:t[`grouped${Be(n.variant)}${Be(n.color)}`]},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},QTe=e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:i,orientation:a,variant:s}=e,l={root:["root",s,a==="vertical"&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${Be(a)}`,`grouped${Be(s)}`,`grouped${Be(s)}${Be(a)}`,`grouped${Be(s)}${Be(n)}`,r&&"disabled"]};return Qe(l,jre,t)},JTe=Ee("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:ZTe})(({theme:e,ownerState:t})=>A({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${nc.grouped}`]:A({minWidth:40,"&:not(:first-of-type)":A({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":A({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${nc.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${nc.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Pt(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${nc.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${nc.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":A({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":A({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),eOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiButtonGroup"}),{children:o,className:i,color:a="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:h="medium",variant:g="outlined"}=r,v=De(r,YTe),m=A({},r,{color:a,component:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:p,size:h,variant:g}),b=QTe(m),x=C.useMemo(()=>({className:b.grouped,color:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:h,variant:g}),[a,l,c,u,d,f,h,g,b.grouped]);return N.jsx(JTe,A({as:s,role:"group",className:Ne(b.root,i),ref:n,ownerState:m},v,{children:N.jsx(Nre.Provider,{value:x,children:o})}))}),tOe=eOe;function zre(e){return lt("MuiCard",e)}const nOe=ut("MuiCard",["root"]),rOe=nOe,oOe=["className","raised"],iOe=e=>{const{classes:t}=e;return Qe({root:["root"]},zre,t)},aOe=Ee(sa,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),sOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCard"}),{className:o,raised:i=!1}=r,a=De(r,oOe),s=A({},r,{raised:i}),l=iOe(s);return N.jsx(aOe,A({className:Ne(l.root,o),elevation:i?8:void 0,ref:n,ownerState:s},a))}),lOe=sOe;function Hre(e){return lt("MuiCardActionArea",e)}const cOe=ut("MuiCardActionArea",["root","focusVisible","focusHighlight"]),GP=cOe,uOe=["children","className","focusVisibleClassName"],dOe=e=>{const{classes:t}=e;return Qe({root:["root"],focusHighlight:["focusHighlight"]},Hre,t)},fOe=Ee(Ho,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${GP.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${GP.focusVisible} .${GP.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),pOe=Ee("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),hOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCardActionArea"}),{children:o,className:i,focusVisibleClassName:a}=r,s=De(r,uOe),l=r,c=dOe(l);return N.jsxs(fOe,A({className:Ne(c.root,i),focusVisibleClassName:Ne(a,c.focusVisible),ref:n,ownerState:l},s,{children:[o,N.jsx(pOe,{className:c.focusHighlight,ownerState:l})]}))}),mOe=hOe;function Vre(e){return lt("MuiCardActions",e)}const gOe=ut("MuiCardActions",["root","spacing"]),vOe=gOe,bOe=["disableSpacing","className"],yOe=e=>{const{classes:t,disableSpacing:n}=e;return Qe({root:["root",!n&&"spacing"]},Vre,t)},xOe=Ee("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>A({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),wOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCardActions"}),{disableSpacing:o=!1,className:i}=r,a=De(r,bOe),s=A({},r,{disableSpacing:o}),l=yOe(s);return N.jsx(xOe,A({className:Ne(l.root,i),ownerState:s,ref:n},a))}),_Oe=wOe;function Ure(e){return lt("MuiCardContent",e)}const SOe=ut("MuiCardContent",["root"]),COe=SOe,POe=["className","component"],MOe=e=>{const{classes:t}=e;return Qe({root:["root"]},Ure,t)},AOe=Ee("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),EOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCardContent"}),{className:o,component:i="div"}=r,a=De(r,POe),s=A({},r,{component:i}),l=MOe(s);return N.jsx(AOe,A({as:i,className:Ne(l.root,o),ownerState:s,ref:n},a))}),TOe=EOe;function Gre(e){return lt("MuiCardHeader",e)}const OOe=ut("MuiCardHeader",["root","avatar","action","content","title","subheader"]),UF=OOe,IOe=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],kOe=e=>{const{classes:t}=e;return Qe({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Gre,t)},ROe=Ee("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>A({[`& .${UF.title}`]:t.title,[`& .${UF.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),LOe=Ee("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),$Oe=Ee("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),DOe=Ee("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),FOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCardHeader"}),{action:o,avatar:i,className:a,component:s="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:f}=r,p=De(r,IOe),h=A({},r,{component:s,disableTypography:l}),g=kOe(h);let v=d;v!=null&&v.type!==On&&!l&&(v=N.jsx(On,A({variant:i?"body2":"h5",className:g.title,component:"span",display:"block"},f,{children:v})));let m=c;return m!=null&&m.type!==On&&!l&&(m=N.jsx(On,A({variant:i?"body2":"body1",className:g.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:m}))),N.jsxs(ROe,A({className:Ne(g.root,a),as:s,ref:n,ownerState:h},p,{children:[i&&N.jsx(LOe,{className:g.avatar,ownerState:h,children:i}),N.jsxs(DOe,{className:g.content,ownerState:h,children:[v,m]}),o&&N.jsx($Oe,{className:g.action,ownerState:h,children:o})]}))}),NOe=FOe;function Wre(e){return lt("MuiCardMedia",e)}const BOe=ut("MuiCardMedia",["root","media","img"]),jOe=BOe,zOe=["children","className","component","image","src","style"],HOe=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return Qe({root:["root",n&&"media",r&&"img"]},Wre,t)},VOe=Ee("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})(({ownerState:e})=>A({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),UOe=["video","audio","picture","iframe","img"],GOe=["picture","img"],WOe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCardMedia"}),{children:o,className:i,component:a="div",image:s,src:l,style:c}=r,u=De(r,zOe),d=UOe.indexOf(a)!==-1,f=!d&&s?A({backgroundImage:`url("${s}")`},c):c,p=A({},r,{component:a,isMediaComponent:d,isImageComponent:GOe.indexOf(a)!==-1}),h=HOe(p);return N.jsx(VOe,A({className:Ne(h.root,i),as:a,role:!d&&s?"img":void 0,ref:n,style:f,ownerState:p,src:d?s||l:void 0},u,{children:o}))}),qOe=WOe;function XOe(e){return lt("PrivateSwitchBase",e)}ut("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const KOe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],YOe=e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${Be(o)}`],input:["input"]};return Qe(i,XOe,t)},ZOe=Ee(Ho)(({ownerState:e})=>A({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),QOe=Ee("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),JOe=C.forwardRef(function(t,n){const{autoFocus:r,checked:o,checkedIcon:i,className:a,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:p,inputRef:h,name:g,onBlur:v,onChange:m,onFocus:b,readOnly:x,required:y=!1,tabIndex:w,type:_,value:S}=t,P=De(t,KOe),[M,I]=xa({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),O=kl(),L=j=>{b&&b(j),O&&O.onFocus&&O.onFocus(j)},R=j=>{v&&v(j),O&&O.onBlur&&O.onBlur(j)},T=j=>{if(j.nativeEvent.defaultPrevented)return;const V=j.target.checked;I(V),m&&m(j,V)};let E=l;O&&typeof E>"u"&&(E=O.disabled);const k=_==="checkbox"||_==="radio",B=A({},t,{checked:M,disabled:E,disableFocusRipple:c,edge:u}),$=YOe(B);return N.jsxs(ZOe,A({component:"span",className:Ne($.root,a),centerRipple:!0,focusRipple:!c,disabled:E,tabIndex:null,role:void 0,onFocus:L,onBlur:R,ownerState:B,ref:n},P,{children:[N.jsx(QOe,A({autoFocus:r,checked:o,defaultChecked:s,className:$.input,disabled:E,id:k?f:void 0,name:g,onChange:T,readOnly:x,ref:h,required:y,ownerState:B,tabIndex:w,type:_},_==="checkbox"&&S===void 0?{}:{value:S},p)),M?i:d]}))}),zj=JOe,eIe=an(N.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),tIe=an(N.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),nIe=an(N.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function qre(e){return lt("MuiCheckbox",e)}const rIe=ut("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),WP=rIe,oIe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],iIe=e=>{const{classes:t,indeterminate:n,color:r}=e,o={root:["root",n&&"indeterminate",`color${Be(r)}`]},i=Qe(o,qre,t);return A({},t,i)},aIe=Ee(zj,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,n.color!=="default"&&t[`color${Be(n.color)}`]]}})(({theme:e,ownerState:t})=>A({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${WP.checked}, &.${WP.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${WP.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),sIe=N.jsx(tIe,{}),lIe=N.jsx(eIe,{}),cIe=N.jsx(nIe,{}),uIe=C.forwardRef(function(t,n){var r,o;const i=dt({props:t,name:"MuiCheckbox"}),{checkedIcon:a=sIe,color:s="primary",icon:l=lIe,indeterminate:c=!1,indeterminateIcon:u=cIe,inputProps:d,size:f="medium",className:p}=i,h=De(i,oIe),g=c?u:l,v=c?u:a,m=A({},i,{color:s,indeterminate:c,size:f}),b=iIe(m);return N.jsx(aIe,A({type:"checkbox",inputProps:A({"data-indeterminate":c},d),icon:C.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:f}),checkedIcon:C.cloneElement(v,{fontSize:(o=v.props.fontSize)!=null?o:f}),ownerState:m,ref:n,className:Ne(b.root,p)},h,{classes:b}))}),Bf=uIe;function Xre(e){return lt("MuiCircularProgress",e)}const dIe=ut("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]),fIe=dIe,pIe=["className","color","disableShrink","size","style","thickness","value","variant"];let oO=e=>e,yU,xU,wU,_U;const lf=44,hIe=Us(yU||(yU=oO`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),mIe=Us(xU||(xU=oO`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),gIe=e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${Be(r)}`],svg:["svg"],circle:["circle",`circle${Be(n)}`,o&&"circleDisableShrink"]};return Qe(i,Xre,t)},vIe=Ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Be(n.color)}`]]}})(({ownerState:e,theme:t})=>A({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&xc(wU||(wU=oO`
      animation: ${0} 1.4s linear infinite;
    `),hIe)),bIe=Ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),yIe=Ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Be(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>A({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&xc(_U||(_U=oO`
      animation: ${0} 1.4s ease-in-out infinite;
    `),mIe)),xIe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:a=!1,size:s=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=De(r,pIe),p=A({},r,{color:i,disableShrink:a,size:s,thickness:c,value:u,variant:d}),h=gIe(p),g={},v={},m={};if(d==="determinate"){const b=2*Math.PI*((lf-c)/2);g.strokeDasharray=b.toFixed(3),m["aria-valuenow"]=Math.round(u),g.strokeDashoffset=`${((100-u)/100*b).toFixed(3)}px`,v.transform="rotate(-90deg)"}return N.jsx(vIe,A({className:Ne(h.root,o),style:A({width:s,height:s},v,l),ownerState:p,ref:n,role:"progressbar"},m,f,{children:N.jsx(bIe,{className:h.svg,ownerState:p,viewBox:`${lf/2} ${lf/2} ${lf} ${lf}`,children:N.jsx(yIe,{className:h.circle,style:g,ownerState:p,cx:lf,cy:lf,r:(lf-c)/2,fill:"none",strokeWidth:c})})}))}),Hj=xIe,wIe=TSe({createStyledComponent:Ee("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${Be(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>dt({props:e,name:"MuiContainer"})}),Kre=wIe;function _Ie(e){return lt("MuiContainer",e)}const SIe=ut("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]),CIe=SIe,Yre=(e,t)=>A({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Zre=e=>A({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),PIe=(e,t=!1)=>{var n,r;const o={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,l])=>{var c;o[e.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(c=l.palette)==null?void 0:c.mode}});let i=A({html:Yre(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:A({margin:0},Zre(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},o);const a=(n=e.components)==null||(r=n.MuiCssBaseline)==null?void 0:r.styleOverrides;return a&&(i=[i,a]),i};function MIe(e){const t=dt({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return N.jsxs(C.Fragment,{children:[N.jsx($j,{styles:o=>PIe(o,r)}),n]})}const AIe={track:"#2b2b2b",thumb:"#6b6b6b",active:"#959595"};function EIe(e=AIe){return{scrollbarColor:`${e.thumb} ${e.track}`,"&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:e.track},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:e.thumb,minHeight:24,border:`3px solid ${e.track}`},"&::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:focus":{backgroundColor:e.active},"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active":{backgroundColor:e.active},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:e.active},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:e.track}}}const TIe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],OIe=SPe,IIe=Ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>A({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),kIe=Ee(Bj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),RIe=C.forwardRef(function(t,n){var r,o,i,a,s,l;const c=dt({name:"MuiModal",props:t}),{BackdropComponent:u=kIe,BackdropProps:d,classes:f,className:p,closeAfterTransition:h=!1,children:g,container:v,component:m,components:b={},componentsProps:x={},disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:P=!1,disableScrollLock:M=!1,hideBackdrop:I=!1,keepMounted:O=!1,onBackdropClick:L,onClose:R,open:T,slotProps:E,slots:k,theme:B}=c,$=De(c,TIe),[j,V]=C.useState(!0),q={container:v,closeAfterTransition:h,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:P,disableScrollLock:M,hideBackdrop:I,keepMounted:O,onBackdropClick:L,onClose:R,open:T},Q=A({},c,q,{exited:j}),H=(r=(o=k==null?void 0:k.root)!=null?o:b.Root)!=null?r:IIe,X=(i=(a=k==null?void 0:k.backdrop)!=null?a:b.Backdrop)!=null?i:u,J=(s=E==null?void 0:E.root)!=null?s:x.root,G=(l=E==null?void 0:E.backdrop)!=null?l:x.backdrop;return N.jsx(OPe,A({slots:{root:H,backdrop:X},slotProps:{root:()=>A({},DF(J,Q),!dc(H)&&{as:m,theme:B},{className:Ne(p,J==null?void 0:J.className,f==null?void 0:f.root,!Q.open&&Q.exited&&(f==null?void 0:f.hidden))}),backdrop:()=>A({},d,DF(G,Q),{className:Ne(G==null?void 0:G.className,f==null?void 0:f.backdrop)})},onTransitionEnter:()=>V(!1),onTransitionExited:()=>V(!0),ref:n},$,q,{children:g}))}),iO=RIe;function Qre(e){return lt("MuiDialog",e)}const LIe=ut("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),qP=LIe,$Ie=C.createContext({}),Jre=$Ie,DIe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],FIe=Ee(Bj,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),NIe=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${Be(n)}`],paper:["paper",`paperScroll${Be(n)}`,`paperWidth${Be(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return Qe(a,Qre,t)},BIe=Ee(iO,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),jIe=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Be(n.scroll)}`]]}})(({ownerState:e})=>A({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),zIe=Ee(sa,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Be(n.scroll)}`],t[`paperWidth${Be(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>A({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${qP.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${qP.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${qP.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),HIe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDialog"}),o=Ir(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:g="sm",onBackdropClick:v,onClose:m,open:b,PaperComponent:x=sa,PaperProps:y={},scroll:w="paper",TransitionComponent:_=Nj,transitionDuration:S=i,TransitionProps:P}=r,M=De(r,DIe),I=A({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:h,maxWidth:g,scroll:w}),O=NIe(I),L=C.useRef(),R=B=>{L.current=B.target===B.currentTarget},T=B=>{L.current&&(L.current=null,v&&v(B),m&&m(B,"backdropClick"))},E=fr(s),k=C.useMemo(()=>({titleId:E}),[E]);return N.jsx(BIe,A({className:Ne(O.root,d),closeAfterTransition:!0,components:{Backdrop:FIe},componentsProps:{backdrop:A({transitionDuration:S,as:l},c)},disableEscapeKeyDown:f,onClose:m,open:b,ref:n,onClick:T,ownerState:I},M,{children:N.jsx(_,A({appear:!0,in:b,timeout:S,role:"presentation"},P,{children:N.jsx(jIe,{className:Ne(O.container),onMouseDown:R,ownerState:I,children:N.jsx(zIe,A({as:x,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":E},y,{className:Ne(O.paper,y.className),ownerState:I,children:N.jsx(Jre.Provider,{value:k,children:u})}))})}))}))}),VIe=HIe;function eoe(e){return lt("MuiDialogActions",e)}const UIe=ut("MuiDialogActions",["root","spacing"]),GIe=UIe,WIe=["className","disableSpacing"],qIe=e=>{const{classes:t,disableSpacing:n}=e;return Qe({root:["root",!n&&"spacing"]},eoe,t)},XIe=Ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>A({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),KIe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1}=r,a=De(r,WIe),s=A({},r,{disableSpacing:i}),l=qIe(s);return N.jsx(XIe,A({className:Ne(l.root,o),ownerState:s,ref:n},a))}),z_=KIe;function toe(e){return lt("MuiDialogContent",e)}const YIe=ut("MuiDialogContent",["root","dividers"]),ZIe=YIe;function noe(e){return lt("MuiDialogTitle",e)}const QIe=ut("MuiDialogTitle",["root"]),roe=QIe,JIe=["className","dividers"],e3e=e=>{const{classes:t,dividers:n}=e;return Qe({root:["root",n&&"dividers"]},toe,t)},t3e=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>A({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${roe.root} + &`]:{paddingTop:0}})),n3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDialogContent"}),{className:o,dividers:i=!1}=r,a=De(r,JIe),s=A({},r,{dividers:i}),l=e3e(s);return N.jsx(t3e,A({className:Ne(l.root,o),ownerState:s,ref:n},a))}),Up=n3e;function ooe(e){return lt("MuiDialogContentText",e)}const r3e=ut("MuiDialogContentText",["root"]),o3e=r3e,i3e=["children","className"],a3e=e=>{const{classes:t}=e,r=Qe({root:["root"]},ooe,t);return A({},t,r)},s3e=Ee(On,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),l3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDialogContentText"}),{className:o}=r,i=De(r,i3e),a=a3e(i);return N.jsx(s3e,A({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:Ne(a.root,o)},r,{classes:a}))}),c3e=l3e,u3e=["className","id"],d3e=e=>{const{classes:t}=e;return Qe({root:["root"]},noe,t)},f3e=Ee(On,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),p3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDialogTitle"}),{className:o,id:i}=r,a=De(r,u3e),s=r,l=d3e(s),{titleId:c=i}=C.useContext(Jre);return N.jsx(f3e,A({component:"h2",className:Ne(l.root,o),ownerState:s,ref:n,variant:"h6",id:i??c},a))}),h3e=p3e;function ioe(e){return lt("MuiDivider",e)}const m3e=ut("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),GF=m3e,g3e=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],v3e=e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:i,orientation:a,textAlign:s,variant:l}=e;return Qe({root:["root",t&&"absolute",l,i&&"light",a==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},ioe,r)},b3e=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>A({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Pt(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>A({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>A({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>A({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>A({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),y3e=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>A({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),x3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDivider"}),{absolute:o=!1,children:i,className:a,component:s=i?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=s!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth"}=r,h=De(r,g3e),g=A({},r,{absolute:o,component:s,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:p}),v=v3e(g);return N.jsx(b3e,A({as:s,className:Ne(v.root,a),role:d,ref:n,ownerState:g},h,{children:i?N.jsx(y3e,{className:v.wrapper,ownerState:g,children:i}):null}))}),w3e=x3e,_3e=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function S3e(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=ei(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const c=i.getComputedStyle(t);a=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let s=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const c=a.split("(")[1].split(")")[0].split(",");s=parseInt(c[4],10),l=parseInt(c[5],10)}return e==="left"?o?`translateX(${o.right+s-r.left}px)`:`translateX(${i.innerWidth+s-r.left}px)`:e==="right"?o?`translateX(-${r.right-o.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:e==="up"?o?`translateY(${o.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function C3e(e){return typeof e=="function"?e():e}function WC(e,t,n){const r=C3e(n),o=S3e(e,t,r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const P3e=C.forwardRef(function(t,n){const r=Ir(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:c,direction:u="down",easing:d=o,in:f,onEnter:p,onEntered:h,onEntering:g,onExit:v,onExited:m,onExiting:b,style:x,timeout:y=i,TransitionComponent:w=j_}=t,_=De(t,_3e),S=C.useRef(null),P=wn(l.ref,S,n),M=$=>j=>{$&&(j===void 0?$(S.current):$(S.current,j))},I=M(($,j)=>{WC(u,$,c),XT($),p&&p($,j)}),O=M(($,j)=>{const V=_c({timeout:y,style:x,easing:d},{mode:"enter"});$.style.webkitTransition=r.transitions.create("-webkit-transform",A({},V)),$.style.transition=r.transitions.create("transform",A({},V)),$.style.webkitTransform="none",$.style.transform="none",g&&g($,j)}),L=M(h),R=M(b),T=M($=>{const j=_c({timeout:y,style:x,easing:d},{mode:"exit"});$.style.webkitTransition=r.transitions.create("-webkit-transform",j),$.style.transition=r.transitions.create("transform",j),WC(u,$,c),v&&v($)}),E=M($=>{$.style.webkitTransition="",$.style.transition="",m&&m($)}),k=$=>{a&&a(S.current,$)},B=C.useCallback(()=>{S.current&&WC(u,S.current,c)},[u,c]);return C.useEffect(()=>{if(f||u==="down"||u==="right")return;const $=bc(()=>{S.current&&WC(u,S.current,c)}),j=ei(S.current);return j.addEventListener("resize",$),()=>{$.clear(),j.removeEventListener("resize",$)}},[u,f,c]),C.useEffect(()=>{f||B()},[f,B]),N.jsx(w,A({nodeRef:S,onEnter:I,onEntered:L,onEntering:O,onExit:T,onExited:E,onExiting:R,addEndListener:k,appear:s,in:f,timeout:y},_,{children:($,j)=>C.cloneElement(l,A({ref:P,style:A({visibility:$==="exited"&&!f?"hidden":void 0},x,l.props.style)},j))}))}),aoe=P3e;function soe(e){return lt("MuiDrawer",e)}const M3e=ut("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]),A3e=M3e,E3e=["BackdropProps"],T3e=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],loe=(e,t)=>{const{ownerState:n}=e;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},O3e=e=>{const{classes:t,anchor:n,variant:r}=e,o={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Be(n)}`,r!=="temporary"&&`paperAnchorDocked${Be(n)}`]};return Qe(o,soe,t)},I3e=Ee(iO,{name:"MuiDrawer",slot:"Root",overridesResolver:loe})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),SU=Ee("div",{shouldForwardProp:aa,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:loe})({flex:"0 0 auto"}),k3e=Ee(sa,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${Be(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${Be(n.anchor)}`]]}})(({theme:e,ownerState:t})=>A({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),coe={left:"right",right:"left",top:"down",bottom:"up"};function Lh(e){return["left","right"].indexOf(e)!==-1}function D1(e,t){return e.direction==="rtl"&&Lh(t)?coe[t]:t}const R3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiDrawer"}),o=Ir(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:s,children:l,className:c,elevation:u=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:f}={},onClose:p,open:h=!1,PaperProps:g={},SlideProps:v,TransitionComponent:m=aoe,transitionDuration:b=i,variant:x="temporary"}=r,y=De(r.ModalProps,E3e),w=De(r,T3e),_=C.useRef(!1);C.useEffect(()=>{_.current=!0},[]);const S=D1(o,a),M=A({},r,{anchor:a,elevation:u,open:h,variant:x},w),I=O3e(M),O=N.jsx(k3e,A({elevation:x==="temporary"?u:0,square:!0},g,{className:Ne(I.paper,g.className),ownerState:M,children:l}));if(x==="permanent")return N.jsx(SU,A({className:Ne(I.root,I.docked,c),ownerState:M,ref:n},w,{children:O}));const L=N.jsx(m,A({in:h,direction:coe[S],timeout:b,appear:_.current},v,{children:O}));return x==="persistent"?N.jsx(SU,A({className:Ne(I.root,I.docked,c),ownerState:M,ref:n},w,{children:L})):N.jsx(I3e,A({BackdropProps:A({},s,f,{transitionDuration:b}),className:Ne(I.root,I.modal,c),open:h,ownerState:M,onClose:p,hideBackdrop:d,ref:n},w,y,{children:L}))}),uoe=R3e;function doe(e){return lt("MuiFab",e)}const L3e=ut("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),WF=L3e,$3e=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],D3e=e=>{const{color:t,variant:n,classes:r,size:o}=e,i={root:["root",n,`size${Be(o)}`,t==="inherit"?"colorInherit":t]},a=Qe(i,doe,r);return A({},r,a)},F3e=Ee(Ho,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>aa(e)||e==="classes",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Be(n.size)}`],n.color==="inherit"&&t.colorInherit,t[Be(n.size)],t[n.color]]}})(({theme:e,ownerState:t})=>{var n,r;return A({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${WF.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},t.size==="small"&&{width:40,height:40},t.size==="medium"&&{width:48,height:48},t.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},t.variant==="extended"&&t.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},t.variant==="extended"&&t.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},t.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:t})=>A({},t.color!=="inherit"&&t.color!=="default"&&(e.vars||e).palette[t.color]!=null&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${WF.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),N3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiFab"}),{children:o,className:i,color:a="default",component:s="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:f="circular"}=r,p=De(r,$3e),h=A({},r,{color:a,component:s,disabled:l,disableFocusRipple:c,size:d,variant:f}),g=D3e(h);return N.jsx(F3e,A({className:Ne(g.root,i),component:s,disabled:l,focusRipple:!c,focusVisibleClassName:Ne(g.focusVisible,u),ownerState:h,ref:n},p,{classes:g,children:o}))}),Vj=N3e,B3e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],j3e=e=>{const{classes:t,disableUnderline:n}=e,o=Qe({root:["root",!n&&"underline"],input:["input"]},Sre,t);return A({},t,o)},z3e=Ee(tO,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...JT(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return A({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i}},[`&.${Va.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:i},[`&.${Va.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Va.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Va.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Va.disabled}, .${Va.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Va.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&A({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),H3e=Ee(nO,{name:"MuiFilledInput",slot:"Input",overridesResolver:eO})(({theme:e,ownerState:t})=>A({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),foe=C.forwardRef(function(t,n){var r,o,i,a;const s=dt({props:t,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:h={},type:g="text"}=s,v=De(s,B3e),m=A({},s,{fullWidth:u,inputComponent:d,multiline:f,type:g}),b=j3e(s),x={root:{ownerState:m},input:{ownerState:m}},y=p??c?jo(p??c,x):x,w=(r=(o=h.root)!=null?o:l.Root)!=null?r:z3e,_=(i=(a=h.input)!=null?a:l.Input)!=null?i:H3e;return N.jsx(rg,A({slots:{root:w,input:_},componentsProps:y,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:g},v,{classes:b}))});foe.muiName="Input";const Uj=foe;function poe(e){return lt("MuiFormControl",e)}const V3e=ut("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]),U3e=V3e,G3e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],W3e=e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root",n!=="none"&&`margin${Be(n)}`,r&&"fullWidth"]};return Qe(o,poe,t)},q3e=Ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>A({},t.root,t[`margin${Be(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>A({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),X3e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiFormControl"}),{children:o,className:i,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:h=!1,size:g="medium",variant:v="outlined"}=r,m=De(r,G3e),b=A({},r,{color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:h,size:g,variant:v}),x=W3e(b),[y,w]=C.useState(()=>{let R=!1;return o&&C.Children.forEach(o,T=>{if(!vu(T,["Input","Select"]))return;const E=vu(T,["Select"])?T.props.input:T;E&&uEe(E.props)&&(R=!0)}),R}),[_,S]=C.useState(()=>{let R=!1;return o&&C.Children.forEach(o,T=>{vu(T,["Input","Select"])&&(yA(T.props,!0)||yA(T.props.inputProps,!0))&&(R=!0)}),R}),[P,M]=C.useState(!1);l&&P&&M(!1);const I=u!==void 0&&!l?u:P;let O;const L=C.useMemo(()=>({adornedStart:y,setAdornedStart:w,color:a,disabled:l,error:c,filled:_,focused:I,fullWidth:d,hiddenLabel:f,size:g,onBlur:()=>{M(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{M(!0)},registerEffect:O,required:h,variant:v}),[y,a,l,c,_,I,d,f,O,h,g,v]);return N.jsx(QT.Provider,{value:L,children:N.jsx(q3e,A({as:s,ownerState:b,className:Ne(x.root,i),ref:n},m,{children:o}))})}),Gp=X3e;function hoe(e){return lt("MuiFormControlLabel",e)}const K3e=ut("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),jv=K3e,Y3e=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Z3e=e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:i}=e,a={root:["root",n&&"disabled",`labelPlacement${Be(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Qe(a,hoe,t)},Q3e=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${jv.label}`]:t.label},t.root,t[`labelPlacement${Be(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>A({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${jv.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${jv.label}`]:{[`&.${jv.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),J3e=Ee("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${jv.error}`]:{color:(e.vars||e).palette.error.main}})),eke=C.forwardRef(function(t,n){var r,o;const i=dt({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:p,slotProps:h={}}=i,g=De(i,Y3e),v=kl(),m=(r=c??l.props.disabled)!=null?r:v==null?void 0:v.disabled,b=p??l.props.required,x={disabled:m,required:b};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof l.props[M]>"u"&&typeof i[M]<"u"&&(x[M]=i[M])});const y=Zd({props:i,muiFormControl:v,states:["error"]}),w=A({},i,{disabled:m,labelPlacement:f,required:b,error:y.error}),_=Z3e(w),S=(o=h.typography)!=null?o:s.typography;let P=d;return P!=null&&P.type!==On&&!u&&(P=N.jsx(On,A({component:"span"},S,{className:Ne(_.label,S==null?void 0:S.className),children:P}))),N.jsxs(Q3e,A({className:Ne(_.root,a),ownerState:w,ref:n},g,{children:[C.cloneElement(l,x),P,b&&N.jsxs(J3e,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]}))}),jf=eke;function moe(e){return lt("MuiFormGroup",e)}const tke=ut("MuiFormGroup",["root","row","error"]),nke=tke,rke=["className","row"],oke=e=>{const{classes:t,row:n,error:r}=e;return Qe({root:["root",n&&"row",r&&"error"]},moe,t)},ike=Ee("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>A({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),ake=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiFormGroup"}),{className:o,row:i=!1}=r,a=De(r,rke),s=kl(),l=Zd({props:r,muiFormControl:s,states:["error"]}),c=A({},r,{row:i,error:l.error}),u=oke(c);return N.jsx(ike,A({className:Ne(u.root,o),ownerState:c,ref:n},a))}),Gj=ake;function goe(e){return lt("MuiFormHelperText",e)}const ske=ut("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),qF=ske;var CU;const lke=["children","className","component","disabled","error","filled","focused","margin","required","variant"],cke=e=>{const{classes:t,contained:n,size:r,disabled:o,error:i,filled:a,focused:s,required:l}=e,c={root:["root",o&&"disabled",i&&"error",r&&`size${Be(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return Qe(c,goe,t)},uke=Ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Be(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>A({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${qF.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${qF.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),dke=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiFormHelperText"}),{children:o,className:i,component:a="p"}=r,s=De(r,lke),l=kl(),c=Zd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=A({},r,{component:a,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=cke(u);return N.jsx(uke,A({as:a,ownerState:u,className:Ne(d.root,i),ref:n},s,{children:o===" "?CU||(CU=N.jsx("span",{className:"notranslate",children:"​"})):o}))}),voe=dke;function boe(e){return lt("MuiFormLabel",e)}const fke=ut("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sb=fke,pke=["children","className","color","component","disabled","error","filled","focused","required"],hke=e=>{const{classes:t,color:n,focused:r,disabled:o,error:i,filled:a,required:s}=e,l={root:["root",`color${Be(n)}`,o&&"disabled",i&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return Qe(l,boe,t)},yoe=Ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>A({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>A({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${sb.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${sb.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${sb.error}`]:{color:(e.vars||e).palette.error.main}})),mke=Ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${sb.error}`]:{color:(e.vars||e).palette.error.main}})),gke=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiFormLabel"}),{children:o,className:i,component:a="label"}=r,s=De(r,pke),l=kl(),c=Zd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=A({},r,{color:c.color||"primary",component:a,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=hke(u);return N.jsxs(yoe,A({as:a,ownerState:u,className:Ne(d.root,i),ref:n},s,{children:[o,c.required&&N.jsxs(mke,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),xoe=gke,vke=C.createContext(),PU=vke;function woe(e){return lt("MuiGrid",e)}const bke=[0,1,2,3,4,5,6,7,8,9,10],yke=["column-reverse","column","row-reverse","row"],xke=["nowrap","wrap-reverse","wrap"],H0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],wke=ut("MuiGrid",["root","container","item","zeroMinWidth",...bke.map(e=>`spacing-xs-${e}`),...yke.map(e=>`direction-xs-${e}`),...xke.map(e=>`wrap-xs-${e}`),...H0.map(e=>`grid-xs-${e}`),...H0.map(e=>`grid-sm-${e}`),...H0.map(e=>`grid-md-${e}`),...H0.map(e=>`grid-lg-${e}`),...H0.map(e=>`grid-xl-${e}`)]),qb=wke,_ke=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function lb(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Ske({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,o)=>{let i={};if(t[o]&&(n=t[o]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=em({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof a=="object"?a[o]:a;if(s==null)return r;const l=`${Math.round(n/s*1e8)/1e6}%`;let c={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${lb(u)})`;c={flexBasis:d,maxWidth:d}}}i=A({flexBasis:l,flexGrow:0,maxWidth:l},c)}return e.breakpoints.values[o]===0?Object.assign(r,i):r[e.breakpoints.up(o)]=i,r},{})}function Cke({theme:e,ownerState:t}){const n=em({values:t.direction,breakpoints:e.breakpoints.values});return as({theme:e},n,r=>{const o={flexDirection:r};return r.indexOf("column")===0&&(o[`& > .${qb.item}`]={maxWidth:"none"}),o})}function _oe({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(o=>{n===""&&t[o]!==0&&(n=o)});const r=Object.keys(e).sort((o,i)=>e[o]-e[i]);return r.slice(0,r.indexOf(n))}function Pke({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let o={};if(n&&r!==0){const i=em({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=_oe({breakpoints:e.breakpoints.values,values:i})),o=as({theme:e},i,(s,l)=>{var c;const u=e.spacing(s);return u!=="0px"?{marginTop:`-${lb(u)}`,[`& > .${qb.item}`]:{paddingTop:lb(u)}}:(c=a)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${qb.item}`]:{paddingTop:0}}})}return o}function Mke({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let o={};if(n&&r!==0){const i=em({values:r,breakpoints:e.breakpoints.values});let a;typeof i=="object"&&(a=_oe({breakpoints:e.breakpoints.values,values:i})),o=as({theme:e},i,(s,l)=>{var c;const u=e.spacing(s);return u!=="0px"?{width:`calc(100% + ${lb(u)})`,marginLeft:`-${lb(u)}`,[`& > .${qb.item}`]:{paddingLeft:lb(u)}}:(c=a)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${qb.item}`]:{paddingLeft:0}}})}return o}function Ake(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(o=>{const i=e[o];Number(i)>0&&r.push(n[`spacing-${o}-${String(i)}`])}),r}const Eke=Ee("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:i,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=Ake(a,c,t));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(t[`grid-${f}-${String(p)}`])}),[t.root,r&&t.container,i&&t.item,l&&t.zeroMinWidth,...u,o!=="row"&&t[`direction-xs-${String(o)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...d]}})(({ownerState:e})=>A({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Cke,Pke,Mke,Ske);function Tke(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const o=e[r];if(Number(o)>0){const i=`spacing-${r}-${String(o)}`;n.push(i)}}),n}const Oke=e=>{const{classes:t,container:n,direction:r,item:o,spacing:i,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let c=[];n&&(c=Tke(i,l));const u=[];l.forEach(f=>{const p=e[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return Qe(d,woe,t)},Ike=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiGrid"}),{breakpoints:o}=Ir(),i=L_(r),{className:a,columns:s,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:h=0,wrap:g="wrap",zeroMinWidth:v=!1}=i,m=De(i,_ke),b=p||h,x=l||h,y=C.useContext(PU),w=u?s||12:y,_={},S=A({},m);o.keys.forEach(I=>{m[I]!=null&&(_[I]=m[I],delete S[I])});const P=A({},i,{columns:w,container:u,direction:d,item:f,rowSpacing:b,columnSpacing:x,wrap:g,zeroMinWidth:v,spacing:h},_,{breakpoints:o.keys}),M=Oke(P);return N.jsx(PU.Provider,{value:w,children:N.jsx(Eke,A({ownerState:P,className:Ne(M.root,a),as:c,ref:n},S))})}),F1=Ike,kke=GSe({createStyledComponent:Ee("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>dt({props:e,name:"MuiGrid2"})}),Rke=kke;function Lke(e){return lt("MuiGrid2",e)}const $ke=[0,1,2,3,4,5,6,7,8,9,10],Dke=["column-reverse","column","row-reverse","row"],Fke=["nowrap","wrap-reverse","wrap"],V0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Nke=ut("MuiGrid2",["root","container","item","zeroMinWidth",...$ke.map(e=>`spacing-xs-${e}`),...Dke.map(e=>`direction-xs-${e}`),...Fke.map(e=>`wrap-xs-${e}`),...V0.map(e=>`grid-xs-${e}`),...V0.map(e=>`grid-sm-${e}`),...V0.map(e=>`grid-md-${e}`),...V0.map(e=>`grid-lg-${e}`),...V0.map(e=>`grid-xl-${e}`)]),Bke=Nke,jke=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function XF(e){return`scale(${e}, ${e**2})`}const zke={entering:{opacity:1,transform:XF(1)},entered:{opacity:1,transform:"none"}},SR=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Soe=C.forwardRef(function(t,n){const{addEndListener:r,appear:o=!0,children:i,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:h,timeout:g="auto",TransitionComponent:v=j_}=t,m=De(t,jke),b=C.useRef(),x=C.useRef(),y=Ir(),w=C.useRef(null),_=wn(w,i.ref,n),S=E=>k=>{if(E){const B=w.current;k===void 0?E(B):E(B,k)}},P=S(u),M=S((E,k)=>{XT(E);const{duration:B,delay:$,easing:j}=_c({style:h,timeout:g,easing:a},{mode:"enter"});let V;g==="auto"?(V=y.transitions.getAutoHeightDuration(E.clientHeight),x.current=V):V=B,E.style.transition=[y.transitions.create("opacity",{duration:V,delay:$}),y.transitions.create("transform",{duration:SR?V:V*.666,delay:$,easing:j})].join(","),l&&l(E,k)}),I=S(c),O=S(p),L=S(E=>{const{duration:k,delay:B,easing:$}=_c({style:h,timeout:g,easing:a},{mode:"exit"});let j;g==="auto"?(j=y.transitions.getAutoHeightDuration(E.clientHeight),x.current=j):j=k,E.style.transition=[y.transitions.create("opacity",{duration:j,delay:B}),y.transitions.create("transform",{duration:SR?j:j*.666,delay:SR?B:B||j*.333,easing:$})].join(","),E.style.opacity=0,E.style.transform=XF(.75),d&&d(E)}),R=S(f),T=E=>{g==="auto"&&(b.current=setTimeout(E,x.current||0)),r&&r(w.current,E)};return C.useEffect(()=>()=>{clearTimeout(b.current)},[]),N.jsx(v,A({appear:o,in:s,nodeRef:w,onEnter:M,onEntered:I,onEntering:P,onExit:L,onExited:R,onExiting:O,addEndListener:T,timeout:g==="auto"?null:g},m,{children:(E,k)=>C.cloneElement(i,A({style:A({opacity:0,transform:XF(.75),visibility:E==="exited"&&!s?"hidden":void 0},zke[E],h,i.props.style),ref:_},k))}))});Soe.muiSupportAuto=!0;const Xb=Soe;function Hke(e,t,n,r,o){const[i,a]=C.useState(()=>o&&n?n(e).matches:r?r(e).matches:t);return ar(()=>{let s=!0;if(!n)return;const l=n(e),c=()=>{s&&a(l.matches)};return c(),l.addListener(c),()=>{s=!1,l.removeListener(c)}},[e,n]),i}const Coe=AM["useSyncExternalStore"];function Vke(e,t,n,r,o){const i=C.useCallback(()=>t,[t]),a=C.useMemo(()=>{if(o&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return i},[i,e,r,o,n]),[s,l]=C.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(e);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[i,n,e]);return Coe(l,s,a)}function Poe(e,t={}){const n=zT(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:s=!1}=lj({name:"MuiUseMediaQuery",props:t,theme:n});let l=typeof e=="function"?e(n):e;return l=l.replace(/^@media( ?)/m,""),(Coe!==void 0?Vke:Hke)(l,o,i,a,s)}const Uke=["initialWidth","width"],Gf=["xs","sm","md","lg","xl"],Gke=(e,t,n=!0)=>n?Gf.indexOf(e)<=Gf.indexOf(t):Gf.indexOf(e)<Gf.indexOf(t),Wke=(e,t,n=!1)=>n?Gf.indexOf(t)<=Gf.indexOf(e):Gf.indexOf(t)<Gf.indexOf(e),qke=(e={})=>t=>{const{withTheme:n=!1,noSSR:r=!1,initialWidth:o}=e;function i(a){const s=Ir(),l=a.theme||s,c=lj({theme:l,name:"MuiWithWidth",props:a}),{initialWidth:u,width:d}=c,f=De(c,Uke),[p,h]=C.useState(!1);ar(()=>{h(!0)},[]);const v=l.breakpoints.keys.slice().reverse().reduce((b,x)=>{const y=Poe(l.breakpoints.up(x));return!b&&y?x:b},null),m=A({width:d||(p||r?v:void 0)||u||o},n?{theme:l}:{},f);return m.width===void 0?null:N.jsx(t,A({},m))}return i},Xke=qke;function Kke(e){const{children:t,only:n,width:r}=e,o=Ir();let i=!0;if(n)if(Array.isArray(n))for(let a=0;a<n.length;a+=1){const s=n[a];if(r===s){i=!1;break}}else n&&r===n&&(i=!1);if(i)for(let a=0;a<o.breakpoints.keys.length;a+=1){const s=o.breakpoints.keys[a],l=e[`${s}Up`],c=e[`${s}Down`];if(l&&Gke(s,r)||c&&Wke(s,r)){i=!1;break}}return i?N.jsx(C.Fragment,{children:t}):null}const Yke=Xke()(Kke);function Zke(e){return lt("PrivateHiddenCss",e)}ut("PrivateHiddenCss",["root","xlDown","xlUp","onlyXl","lgDown","lgUp","onlyLg","mdDown","mdUp","onlyMd","smDown","smUp","onlySm","xsDown","xsUp","onlyXs"]);const Qke=["children","className","only"],Jke=e=>{const{classes:t,breakpoints:n}=e,r={root:["root",...n.map(({breakpoint:o,dir:i})=>i==="only"?`${i}${Be(o)}`:`${o}${Be(i)}`)]};return Qe(r,Zke,t)},eRe=Ee("div",{name:"PrivateHiddenCss",slot:"Root"})(({theme:e,ownerState:t})=>{const n={display:"none"};return A({},t.breakpoints.map(({breakpoint:r,dir:o})=>o==="only"?{[e.breakpoints.only(r)]:n}:o==="up"?{[e.breakpoints.up(r)]:n}:{[e.breakpoints.down(r)]:n}).reduce((r,o)=>(Object.keys(o).forEach(i=>{r[i]=o[i]}),r),{}))});function tRe(e){const{children:t,className:n,only:r}=e,o=De(e,Qke),i=Ir(),a=[];for(let c=0;c<i.breakpoints.keys.length;c+=1){const u=i.breakpoints.keys[c],d=o[`${u}Up`],f=o[`${u}Down`];d&&a.push({breakpoint:u,dir:"up"}),f&&a.push({breakpoint:u,dir:"down"})}r&&(Array.isArray(r)?r:[r]).forEach(u=>{a.push({breakpoint:u,dir:"only"})});const s=A({},e,{breakpoints:a}),l=Jke(s);return N.jsx(eRe,{className:Ne(l.root,n),ownerState:s,children:t})}const nRe=["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"];function rRe(e){const{implementation:t="js",lgDown:n=!1,lgUp:r=!1,mdDown:o=!1,mdUp:i=!1,smDown:a=!1,smUp:s=!1,xlDown:l=!1,xlUp:c=!1,xsDown:u=!1,xsUp:d=!1}=e,f=De(e,nRe);return t==="js"?N.jsx(Yke,A({lgDown:n,lgUp:r,mdDown:o,mdUp:i,smDown:a,smUp:s,xlDown:l,xlUp:c,xsDown:u,xsUp:d},f)):N.jsx(tRe,A({lgDown:n,lgUp:r,mdDown:o,mdUp:i,smDown:a,smUp:s,xlDown:l,xlUp:c,xsDown:u,xsUp:d},f))}function Moe(e){return lt("MuiIcon",e)}const oRe=ut("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]),iRe=oRe,aRe=["baseClassName","className","color","component","fontSize"],sRe=e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root",t!=="inherit"&&`color${Be(t)}`,`fontSize${Be(n)}`]};return Qe(o,Moe,r)},lRe=Ee("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Be(n.color)}`],t[`fontSize${Be(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]})),Aoe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiIcon"}),{baseClassName:o="material-icons",className:i,color:a="inherit",component:s="span",fontSize:l="medium"}=r,c=De(r,aRe),u=A({},r,{baseClassName:o,color:a,component:s,fontSize:l}),d=sRe(u);return N.jsx(lRe,A({as:s,className:Ne(o,"notranslate",d.root,i),ownerState:u,"aria-hidden":!0,ref:n},c))});Aoe.muiName="Icon";const cRe=Aoe;function Eoe(e){return lt("MuiImageList",e)}const uRe=ut("MuiImageList",["root","masonry","quilted","standard","woven"]),dRe=uRe,fRe=C.createContext({}),Toe=fRe,pRe=["children","className","cols","component","rowHeight","gap","style","variant"],hRe=e=>{const{classes:t,variant:n}=e;return Qe({root:["root",n]},Eoe,t)},mRe=Ee("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})(({ownerState:e})=>A({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},e.variant==="masonry"&&{display:"block"})),gRe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiImageList"}),{children:o,className:i,cols:a=2,component:s="ul",rowHeight:l="auto",gap:c=4,style:u,variant:d="standard"}=r,f=De(r,pRe),p=C.useMemo(()=>({rowHeight:l,gap:c,variant:d}),[l,c,d]);C.useEffect(()=>{},[]);const h=A(d==="masonry"?{columnCount:a,columnGap:c}:{gridTemplateColumns:`repeat(${a}, 1fr)`,gap:c},u),g=A({},r,{component:s,gap:c,rowHeight:l,variant:d}),v=hRe(g);return N.jsx(mRe,A({as:s,className:Ne(v.root,v[d],i),ref:n,style:h,ownerState:g},f,{children:N.jsx(Toe.Provider,{value:p,children:o})}))}),vRe=gRe;function Ooe(e){return lt("MuiImageListItem",e)}const bRe=ut("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),KF=bRe,yRe=["children","className","cols","component","rows","style"],xRe=e=>{const{classes:t,variant:n}=e;return Qe({root:["root",n],img:["img"]},Ooe,t)},wRe=Ee("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${KF.img}`]:t.img},t.root,t[n.variant]]}})(({ownerState:e})=>A({display:"block",position:"relative"},e.variant==="standard"&&{display:"flex",flexDirection:"column"},e.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${KF.img}`]:A({objectFit:"cover",width:"100%",height:"100%",display:"block"},e.variant==="standard"&&{height:"auto",flexGrow:1})})),_Re=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiImageListItem"}),{children:o,className:i,cols:a=1,component:s="li",rows:l=1,style:c}=r,u=De(r,yRe),{rowHeight:d="auto",gap:f,variant:p}=C.useContext(Toe);let h="auto";p==="woven"?h=void 0:d!=="auto"&&(h=d*l+f*(l-1));const g=A({},r,{cols:a,component:s,gap:f,rowHeight:d,rows:l,variant:p}),v=xRe(g);return N.jsx(wRe,A({as:s,className:Ne(v.root,v[p],i),ref:n,style:A({height:h,gridColumnEnd:p!=="masonry"?`span ${a}`:void 0,gridRowEnd:p!=="masonry"?`span ${l}`:void 0,marginBottom:p==="masonry"?f:void 0},c),ownerState:g},u,{children:C.Children.map(o,m=>C.isValidElement(m)?m.type==="img"||vu(m,["Image"])?C.cloneElement(m,{className:Ne(v.img,m.props.className)}):m:null)}))}),SRe=_Re;function Ioe(e){return lt("MuiImageListItemBar",e)}const CRe=ut("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]),PRe=CRe,MRe=["actionIcon","actionPosition","className","subtitle","title","position"],ARe=e=>{const{classes:t,position:n,actionIcon:r,actionPosition:o}=e,i={root:["root",`position${Be(n)}`],titleWrap:["titleWrap",`titleWrap${Be(n)}`,r&&`titleWrapActionPos${Be(o)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${Be(o)}`]};return Qe(i,Ioe,t)},ERe=Ee("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Be(n.position)}`]]}})(({theme:e,ownerState:t})=>A({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},t.position==="bottom"&&{bottom:0},t.position==="top"&&{top:0},t.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),TRe=Ee("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.titleWrap,t[`titleWrap${Be(n.position)}`],n.actionIcon&&t[`titleWrapActionPos${Be(n.actionPosition)}`]]}})(({theme:e,ownerState:t})=>A({flexGrow:1,padding:"12px 16px",color:(e.vars||e).palette.common.white,overflow:"hidden"},t.position==="below"&&{padding:"6px 0 12px",color:"inherit"},t.actionIcon&&t.actionPosition==="left"&&{paddingLeft:0},t.actionIcon&&t.actionPosition==="right"&&{paddingRight:0})),ORe=Ee("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(e,t)=>t.title})(({theme:e})=>({fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),IRe=Ee("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(e,t)=>t.subtitle})(({theme:e})=>({fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),kRe=Ee("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actionIcon,t[`actionIconActionPos${Be(n.actionPosition)}`]]}})(({ownerState:e})=>A({},e.actionPosition==="left"&&{order:-1})),RRe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiImageListItemBar"}),{actionIcon:o,actionPosition:i="right",className:a,subtitle:s,title:l,position:c="bottom"}=r,u=De(r,MRe),d=A({},r,{position:c,actionPosition:i}),f=ARe(d);return N.jsxs(ERe,A({ownerState:d,className:Ne(f.root,a),ref:n},u,{children:[N.jsxs(TRe,{ownerState:d,className:f.titleWrap,children:[N.jsx(ORe,{className:f.title,children:l}),s?N.jsx(IRe,{className:f.subtitle,children:s}):null]}),o?N.jsx(kRe,{ownerState:d,className:f.actionIcon,children:o}):null]}))}),LRe=RRe,$Re=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],DRe=e=>{const{classes:t,disableUnderline:n}=e,o=Qe({root:["root",!n&&"underline"],input:["input"]},wre,t);return A({},t,o)},FRe=Ee(tO,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...JT(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),A({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dd.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dd.disabled}, .${dd.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${dd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),NRe=Ee(nO,{name:"MuiInput",slot:"Input",overridesResolver:eO})({}),koe=C.forwardRef(function(t,n){var r,o,i,a;const s=dt({props:t,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:h,slots:g={},type:v="text"}=s,m=De(s,$Re),b=DRe(s),y={root:{ownerState:{disableUnderline:l}}},w=h??u?jo(h??u,y):y,_=(r=(o=g.root)!=null?o:c.Root)!=null?r:FRe,S=(i=(a=g.input)!=null?a:c.Input)!=null?i:NRe;return N.jsx(rg,A({slots:{root:_,input:S},slotProps:w,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:v},m,{classes:b}))});koe.muiName="Input";const aO=koe;function Roe(e){return lt("MuiInputAdornment",e)}const BRe=ut("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),YF=BRe;var MU;const jRe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],zRe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Be(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},HRe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:a}=e,s={root:["root",n&&"disablePointerEvents",o&&`position${Be(o)}`,a,r&&"hiddenLabel",i&&`size${Be(i)}`]};return Qe(s,Roe,t)},VRe=Ee("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:zRe})(({theme:e,ownerState:t})=>A({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${YF.positionStart}&:not(.${YF.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),URe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiInputAdornment"}),{children:o,className:i,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:u}=r,d=De(r,jRe),f=kl()||{};let p=u;u&&f.variant,f&&!p&&(p=f.variant);const h=A({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:s,position:c,variant:p}),g=HRe(h);return N.jsx(QT.Provider,{value:null,children:N.jsx(VRe,A({as:a,ownerState:h,className:Ne(g.root,i),ref:n},d,{children:typeof o=="string"&&!l?N.jsx(On,{color:"text.secondary",children:o}):N.jsxs(C.Fragment,{children:[c==="start"?MU||(MU=N.jsx("span",{className:"notranslate",children:"​"})):null,o]})}))})}),GRe=URe;function Loe(e){return lt("MuiInputLabel",e)}const WRe=ut("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]),qRe=WRe,XRe=["disableAnimation","margin","shrink","variant","className"],KRe=e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:i,variant:a,required:s}=e,c=Qe({root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r==="small"&&"sizeSmall",a],asterisk:[s&&"asterisk"]},Loe,t);return A({},t,c)},YRe=Ee(xoe,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sb.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>A({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&A({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&A({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&A({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),ZRe=C.forwardRef(function(t,n){const r=dt({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:i,className:a}=r,s=De(r,XRe),l=kl();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Zd({props:r,muiFormControl:l,states:["size","variant","required"]}),d=A({},r,{disableAnimation:o,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required}),f=KRe(d);return N.jsx(YRe,A({"data-shrink":c,ownerState:d,ref:n,className:Ne(f.root,a)},s,{classes:f}))}),xA=ZRe;function $oe(e){return lt("MuiLinearProgress",e)}const QRe=ut("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]),JRe=QRe,eLe=["className","color","value","valueBuffer","variant"];let qy=e=>e,AU,EU,TU,OU,IU,kU;const ZF=4,tLe=Us(AU||(AU=qy`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),nLe=Us(EU||(EU=qy`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),rLe=Us(TU||(TU=qy`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),oLe=e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${Be(r)}`,n],dashed:["dashed",`dashedColor${Be(r)}`],bar1:["bar",`barColor${Be(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${Be(r)}`,n==="buffer"&&`color${Be(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Qe(o,$oe,t)},Wj=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?ls(e.palette[t].main,.62):ss(e.palette[t].main,.5),iLe=Ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Be(n.color)}`],t[n.variant]]}})(({ownerState:e,theme:t})=>A({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Wj(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),aLe=Ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Be(n.color)}`]]}})(({ownerState:e,theme:t})=>{const n=Wj(t,e.color);return A({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},xc(OU||(OU=qy`
    animation: ${0} 3s infinite linear;
  `),rLe)),sLe=Ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Be(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${ZF}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${ZF}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&xc(IU||(IU=qy`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),tLe)),lLe=Ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${Be(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:Wj(t,e.color),transition:`transform .${ZF}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&xc(kU||(kU=qy`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),nLe)),cLe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:a,valueBuffer:s,variant:l="indeterminate"}=r,c=De(r,eLe),u=A({},r,{color:i,variant:l}),d=oLe(u),f=Ir(),p={},h={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&a!==void 0){p["aria-valuenow"]=Math.round(a),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let g=a-100;f.direction==="rtl"&&(g=-g),h.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&s!==void 0){let g=(s||0)-100;f.direction==="rtl"&&(g=-g),h.bar2.transform=`translateX(${g}%)`}return N.jsxs(iLe,A({className:Ne(d.root,o),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?N.jsx(aLe,{className:d.dashed,ownerState:u}):null,N.jsx(sLe,{className:d.bar1,ownerState:u,style:h.bar1}),l==="determinate"?null:N.jsx(lLe,{className:d.bar2,ownerState:u,style:h.bar2})]}))}),Doe=cLe;function Foe(e){return lt("MuiLink",e)}const uLe=ut("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Noe=uLe,Boe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},dLe=e=>Boe[e]||e,fLe=({theme:e,ownerState:t})=>{const n=dLe(t.color),r=zb(e,`palette.${n}`,!1)||t.color,o=zb(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:Pt(r,.4)},pLe=fLe,hLe=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],mLe=e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,i={root:["root",`underline${Be(o)}`,n==="button"&&"button",r&&"focusVisible"]};return Qe(i,Foe,t)},gLe=Ee(On,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${Be(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>A({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&A({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:pLe({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Noe.focusVisible}`]:{outline:"auto"}})),vLe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiLink"}),{className:o,color:i="primary",component:a="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:f}=r,p=De(r,hLe),{isFocusVisibleRef:h,onBlur:g,onFocus:v,ref:m}=tg(),[b,x]=C.useState(!1),y=wn(n,m),w=M=>{g(M),h.current===!1&&x(!1),s&&s(M)},_=M=>{v(M),h.current===!0&&x(!0),l&&l(M)},S=A({},r,{color:i,component:a,focusVisible:b,underline:u,variant:d}),P=mLe(S);return N.jsx(gLe,A({color:i,className:Ne(P.root,o),classes:c,component:a,onBlur:w,onFocus:_,ref:y,ownerState:S,variant:d,sx:[...Object.keys(Boe).includes(i)?[]:[{color:i}],...Array.isArray(f)?f:[f]]},p))}),If=vLe,bLe=C.createContext({}),xl=bLe;function joe(e){return lt("MuiList",e)}const yLe=ut("MuiList",["root","padding","dense","subheader"]),xLe=yLe,wLe=["children","className","component","dense","disablePadding","subheader"],_Le=e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return Qe({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},joe,t)},SLe=Ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>A({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),CLe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiList"}),{children:o,className:i,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,u=De(r,wLe),d=C.useMemo(()=>({dense:s}),[s]),f=A({},r,{component:a,dense:s,disablePadding:l}),p=_Le(f);return N.jsx(xl.Provider,{value:d,children:N.jsxs(SLe,A({as:a,className:Ne(p.root,i),ref:n,ownerState:f},u,{children:[c,o]}))})}),zoe=CLe;function Hoe(e){return lt("MuiListItem",e)}const PLe=ut("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),$h=PLe;function Voe(e){return lt("MuiListItemButton",e)}const MLe=ut("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Dh=MLe,ALe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],ELe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},TLe=e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:i,divider:a,selected:s}=e,c=Qe({root:["root",r&&"dense",!i&&"gutters",a&&"divider",o&&"disabled",t==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},Voe,n);return A({},n,c)},OLe=Ee(Ho,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:ELe})(({theme:e,ownerState:t})=>A({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Dh.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Dh.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Dh.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Dh.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Dh.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),ILe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:a="div",children:s,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:f=!1,className:p}=r,h=De(r,ALe),g=C.useContext(xl),v=C.useMemo(()=>({dense:l||g.dense||!1,alignItems:o,disableGutters:c}),[o,g.dense,l,c]),m=C.useRef(null);ar(()=>{i&&m.current&&m.current.focus()},[i]);const b=A({},r,{alignItems:o,dense:v.dense,disableGutters:c,divider:u,selected:f}),x=TLe(b),y=wn(m,n);return N.jsx(xl.Provider,{value:v,children:N.jsx(OLe,A({ref:y,href:h.href||h.to,component:(h.href||h.to)&&a==="div"?"button":a,focusVisibleClassName:Ne(x.focusVisible,d),ownerState:b,className:Ne(x.root,p)},h,{classes:x,children:s}))})}),kLe=ILe;function Uoe(e){return lt("MuiListItemSecondaryAction",e)}const RLe=ut("MuiListItemSecondaryAction",["root","disableGutters"]),LLe=RLe,$Le=["className"],DLe=e=>{const{disableGutters:t,classes:n}=e;return Qe({root:["root",t&&"disableGutters"]},Uoe,n)},FLe=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>A({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),Goe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItemSecondaryAction"}),{className:o}=r,i=De(r,$Le),a=C.useContext(xl),s=A({},r,{disableGutters:a.disableGutters}),l=DLe(s);return N.jsx(FLe,A({className:Ne(l.root,o),ownerState:s,ref:n},i))});Goe.muiName="ListItemSecondaryAction";const Woe=Goe,NLe=["className"],BLe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],jLe=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},zLe=e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:i,disableGutters:a,disablePadding:s,divider:l,hasSecondaryAction:c,selected:u}=e;return Qe({root:["root",o&&"dense",!a&&"gutters",!s&&"padding",l&&"divider",i&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Hoe,r)},HLe=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:jLe})(({theme:e,ownerState:t})=>A({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&A({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Dh.root}`]:{paddingRight:48}},{[`&.${$h.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${$h.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${$h.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${$h.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$h.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),VLe=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),ULe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:a=!1,children:s,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p}={},dense:h=!1,disabled:g=!1,disableGutters:v=!1,disablePadding:m=!1,divider:b=!1,focusVisibleClassName:x,secondaryAction:y,selected:w=!1,slotProps:_={},slots:S={}}=r,P=De(r.ContainerProps,NLe),M=De(r,BLe),I=C.useContext(xl),O=C.useMemo(()=>({dense:h||I.dense||!1,alignItems:o,disableGutters:v}),[o,I.dense,h,v]),L=C.useRef(null);ar(()=>{i&&L.current&&L.current.focus()},[i]);const R=C.Children.toArray(s),T=R.length&&vu(R[R.length-1],["ListItemSecondaryAction"]),E=A({},r,{alignItems:o,autoFocus:i,button:a,dense:O.dense,disabled:g,disableGutters:v,disablePadding:m,divider:b,hasSecondaryAction:T,selected:w}),k=zLe(E),B=wn(L,n),$=S.root||u.Root||HLe,j=_.root||d.root||{},V=A({className:Ne(k.root,j.className,l),disabled:g},M);let q=c||"li";return a&&(V.component=c||"div",V.focusVisibleClassName=Ne($h.focusVisible,x),q=Ho),T?(q=!V.component&&!c?"div":q,f==="li"&&(q==="li"?q="div":V.component==="li"&&(V.component="div")),N.jsx(xl.Provider,{value:O,children:N.jsxs(VLe,A({as:f,className:Ne(k.container,p),ref:B,ownerState:E},P,{children:[N.jsx($,A({},j,!dc($)&&{as:q,ownerState:A({},E,j.ownerState)},V,{children:R})),R.pop()]}))})):N.jsx(xl.Provider,{value:O,children:N.jsxs($,A({},j,{as:q,ref:B},!dc($)&&{ownerState:A({},E,j.ownerState)},V,{children:[R,y&&N.jsx(Woe,{children:y})]}))})}),GLe=ULe;function qoe(e){return lt("MuiListItemAvatar",e)}const WLe=ut("MuiListItemAvatar",["root","alignItemsFlexStart"]),qLe=WLe,XLe=["className"],KLe=e=>{const{alignItems:t,classes:n}=e;return Qe({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},qoe,n)},YLe=Ee("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>A({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),ZLe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItemAvatar"}),{className:o}=r,i=De(r,XLe),a=C.useContext(xl),s=A({},r,{alignItems:a.alignItems}),l=KLe(s);return N.jsx(YLe,A({className:Ne(l.root,o),ownerState:s,ref:n},i))}),QLe=ZLe;function Xoe(e){return lt("MuiListItemIcon",e)}const JLe=ut("MuiListItemIcon",["root","alignItemsFlexStart"]),QF=JLe,e$e=["className"],t$e=e=>{const{alignItems:t,classes:n}=e;return Qe({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Xoe,n)},n$e=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>A({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),r$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItemIcon"}),{className:o}=r,i=De(r,e$e),a=C.useContext(xl),s=A({},r,{alignItems:a.alignItems}),l=t$e(s);return N.jsx(n$e,A({className:Ne(l.root,o),ownerState:s,ref:n},i))}),qj=r$e;function Koe(e){return lt("MuiListItemText",e)}const o$e=ut("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),uw=o$e,i$e=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],a$e=e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:i}=e;return Qe({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},Koe,t)},s$e=Ee("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${uw.primary}`]:t.primary},{[`& .${uw.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>A({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),l$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiListItemText"}),{children:o,className:i,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=De(r,i$e),{dense:p}=C.useContext(xl);let h=l??o,g=u;const v=A({},r,{disableTypography:a,inset:s,primary:!!h,secondary:!!g,dense:p}),m=a$e(v);return h!=null&&h.type!==On&&!a&&(h=N.jsx(On,A({variant:p?"body2":"body1",className:m.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:h}))),g!=null&&g.type!==On&&!a&&(g=N.jsx(On,A({variant:"body2",className:m.secondary,color:"text.secondary",display:"block"},d,{children:g}))),N.jsxs(s$e,A({className:Ne(m.root,i),ownerState:v,ref:n},f,{children:[h,g]}))}),c$e=l$e,u$e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function CR(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function RU(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Yoe(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function U0(e,t,n,r,o,i){let a=!1,s=o(e,t,t?n:!1);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!Yoe(s,i)||l)s=o(e,s,n);else return s.focus(),!0}return!1}const d$e=C.forwardRef(function(t,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=t,f=De(t,u$e),p=C.useRef(null),h=C.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ar(()=>{o&&p.current.focus()},[o]),C.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,y)=>{const w=!p.current.style.width;if(x.clientHeight<p.current.clientHeight&&w){const _=`${Fte(Kn(x))}px`;p.current.style[y.direction==="rtl"?"paddingLeft":"paddingRight"]=_,p.current.style.width=`calc(100% + ${_})`}return p.current}}),[]);const g=x=>{const y=p.current,w=x.key,_=Kn(y).activeElement;if(w==="ArrowDown")x.preventDefault(),U0(y,_,c,l,CR);else if(w==="ArrowUp")x.preventDefault(),U0(y,_,c,l,RU);else if(w==="Home")x.preventDefault(),U0(y,null,c,l,CR);else if(w==="End")x.preventDefault(),U0(y,null,c,l,RU);else if(w.length===1){const S=h.current,P=w.toLowerCase(),M=performance.now();S.keys.length>0&&(M-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&P!==S.keys[0]&&(S.repeating=!1)),S.lastTime=M,S.keys.push(P);const I=_&&!S.repeating&&Yoe(_,S);S.previousKeyMatched&&(I||U0(y,_,!1,l,CR,S))?x.preventDefault():S.previousKeyMatched=!1}u&&u(x)},v=wn(p,n);let m=-1;C.Children.forEach(a,(x,y)=>{C.isValidElement(x)&&(x.props.disabled||(d==="selectedMenu"&&x.props.selected||m===-1)&&(m=y),m===y&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(m+=1,m>=a.length&&(m=-1)))});const b=C.Children.map(a,(x,y)=>{if(y===m){const w={};return i&&(w.autoFocus=!0),x.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),C.cloneElement(x,w)}return x});return N.jsx(zoe,A({role:"menu",ref:v,className:s,onKeyDown:g,tabIndex:o?0:-1},f,{children:b}))}),Xy=d$e;function Zoe(e){return lt("MuiPopover",e)}const f$e=ut("MuiPopover",["root","paper"]),p$e=f$e,h$e=["onEntering"],m$e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function JF(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function e5(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function LU(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function PR(e){return typeof e=="function"?e():e}const g$e=e=>{const{classes:t}=e;return Qe({root:["root"],paper:["paper"]},Zoe,t)},v$e=Ee(iO,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),b$e=Ee(sa,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),y$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:f=8,marginThreshold:p=16,open:h,PaperProps:g={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:m=Xb,transitionDuration:b="auto",TransitionProps:{onEntering:x}={}}=r,y=De(r.TransitionProps,h$e),w=De(r,m$e),_=C.useRef(),S=wn(_,g.ref),P=A({},r,{anchorOrigin:a,anchorReference:l,elevation:f,marginThreshold:p,PaperProps:g,transformOrigin:v,TransitionComponent:m,transitionDuration:b,TransitionProps:y}),M=g$e(P),I=C.useCallback(()=>{if(l==="anchorPosition")return s;const V=PR(i),Q=(V&&V.nodeType===1?V:Kn(_.current).body).getBoundingClientRect();return{top:Q.top+JF(Q,a.vertical),left:Q.left+e5(Q,a.horizontal)}},[i,a.horizontal,a.vertical,s,l]),O=C.useCallback(V=>({vertical:JF(V,v.vertical),horizontal:e5(V,v.horizontal)}),[v.horizontal,v.vertical]),L=C.useCallback(V=>{const q={width:V.offsetWidth,height:V.offsetHeight},Q=O(q);if(l==="none")return{top:null,left:null,transformOrigin:LU(Q)};const H=I();let X=H.top-Q.vertical,J=H.left-Q.horizontal;const G=X+q.height,ie=J+q.width,Y=ei(PR(i)),le=Y.innerHeight-p,te=Y.innerWidth-p;if(X<p){const re=X-p;X-=re,Q.vertical+=re}else if(G>le){const re=G-le;X-=re,Q.vertical+=re}if(J<p){const re=J-p;J-=re,Q.horizontal+=re}else if(ie>te){const re=ie-te;J-=re,Q.horizontal+=re}return{top:`${Math.round(X)}px`,left:`${Math.round(J)}px`,transformOrigin:LU(Q)}},[i,l,I,O,p]),[R,T]=C.useState(h),E=C.useCallback(()=>{const V=_.current;if(!V)return;const q=L(V);q.top!==null&&(V.style.top=q.top),q.left!==null&&(V.style.left=q.left),V.style.transformOrigin=q.transformOrigin,T(!0)},[L]),k=(V,q)=>{x&&x(V,q),E()},B=()=>{T(!1)};C.useEffect(()=>{h&&E()}),C.useImperativeHandle(o,()=>h?{updatePosition:()=>{E()}}:null,[h,E]),C.useEffect(()=>{if(!h)return;const V=bc(()=>{E()}),q=ei(i);return q.addEventListener("resize",V),()=>{V.clear(),q.removeEventListener("resize",V)}},[i,h,E]);let $=b;b==="auto"&&!m.muiSupportAuto&&($=void 0);const j=d||(i?Kn(PR(i)).body:void 0);return N.jsx(v$e,A({BackdropProps:{invisible:!0},className:Ne(M.root,u),container:j,open:h,ref:n,ownerState:P},w,{children:N.jsx(m,A({appear:!0,in:h,onEntering:k,onExited:B,timeout:$},y,{children:N.jsx(b$e,A({elevation:f},g,{ref:S,className:Ne(M.paper,g.className)},R?void 0:{style:A({},g.style,{opacity:0})},{ownerState:P,children:c}))}))}))}),wA=y$e;function Qoe(e){return lt("MuiMenu",e)}const x$e=ut("MuiMenu",["root","paper","list"]),w$e=x$e,_$e=["onEntering"],S$e=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],C$e={vertical:"top",horizontal:"right"},P$e={vertical:"top",horizontal:"left"},M$e=e=>{const{classes:t}=e;return Qe({root:["root"],paper:["paper"],list:["list"]},Qoe,t)},A$e=Ee(wA,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),E$e=Ee(sa,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),T$e=Ee(Xy,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),O$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:i,disableAutoFocusItem:a=!1,MenuListProps:s={},onClose:l,open:c,PaperProps:u={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:p}={},variant:h="selectedMenu"}=r,g=De(r.TransitionProps,_$e),v=De(r,S$e),m=Ir(),b=m.direction==="rtl",x=A({},r,{autoFocus:o,disableAutoFocusItem:a,MenuListProps:s,onEntering:p,PaperProps:u,transitionDuration:f,TransitionProps:g,variant:h}),y=M$e(x),w=o&&!a&&c,_=C.useRef(null),S=(I,O)=>{_.current&&_.current.adjustStyleForScrollbar(I,m),p&&p(I,O)},P=I=>{I.key==="Tab"&&(I.preventDefault(),l&&l(I,"tabKeyDown"))};let M=-1;return C.Children.map(i,(I,O)=>{C.isValidElement(I)&&(I.props.disabled||(h==="selectedMenu"&&I.props.selected||M===-1)&&(M=O))}),N.jsx(A$e,A({onClose:l,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?C$e:P$e,PaperProps:A({as:E$e},u,{classes:A({},u.classes,{root:y.paper})}),className:y.root,open:c,ref:n,transitionDuration:f,TransitionProps:A({onEntering:S},g),ownerState:x},v,{classes:d,children:N.jsx(T$e,A({onKeyDown:P,actions:_,autoFocus:o&&(M===-1||a),autoFocusItem:w,variant:h},s,{className:Ne(y.list,s.className),children:i}))}))}),H_=O$e;function Joe(e){return lt("MuiMenuItem",e)}const I$e=ut("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),cv=I$e,k$e=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],R$e=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},L$e=e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,l=Qe({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},Joe,a);return A({},a,l)},$$e=Ee(Ho,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:R$e})(({theme:e,ownerState:t})=>A({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${cv.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${cv.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${cv.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${cv.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${cv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${GF.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${GF.inset}`]:{marginLeft:52},[`& .${uw.root}`]:{marginTop:0,marginBottom:0},[`& .${uw.inset}`]:{paddingLeft:36},[`& .${QF.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&A({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${QF.root} svg`]:{fontSize:"1.25rem"}}))),D$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=De(r,k$e),h=C.useContext(xl),g=C.useMemo(()=>({dense:a||h.dense||!1,disableGutters:l}),[h.dense,a,l]),v=C.useRef(null);ar(()=>{o&&v.current&&v.current.focus()},[o]);const m=A({},r,{dense:g.dense,divider:s,disableGutters:l}),b=L$e(r),x=wn(v,n);let y;return r.disabled||(y=d!==void 0?d:-1),N.jsx(xl.Provider,{value:g,children:N.jsx($$e,A({ref:x,role:u,tabIndex:y,component:i,focusVisibleClassName:Ne(b.focusVisible,c),className:Ne(b.root,f)},p,{ownerState:m,classes:b}))})}),dr=D$e;function eie(e){return lt("MuiMobileStepper",e)}const F$e=ut("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]),N$e=F$e,B$e=["activeStep","backButton","className","LinearProgressProps","nextButton","position","steps","variant"],j$e=e=>{const{classes:t,position:n}=e,r={root:["root",`position${Be(n)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return Qe(r,eie,t)},z$e=Ee(sa,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Be(n.position)}`]]}})(({theme:e,ownerState:t})=>A({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:(e.vars||e).palette.background.default,padding:8},t.position==="bottom"&&{position:"fixed",bottom:0,left:0,right:0,zIndex:(e.vars||e).zIndex.mobileStepper},t.position==="top"&&{position:"fixed",top:0,left:0,right:0,zIndex:(e.vars||e).zIndex.mobileStepper})),H$e=Ee("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(e,t)=>t.dots})(({ownerState:e})=>A({},e.variant==="dots"&&{display:"flex",flexDirection:"row"})),V$e=Ee("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:e=>F_(e)&&e!=="dotActive",overridesResolver:(e,t)=>{const{dotActive:n}=e;return[t.dot,n&&t.dotActive]}})(({theme:e,ownerState:t,dotActive:n})=>A({},t.variant==="dots"&&A({transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},n&&{backgroundColor:(e.vars||e).palette.primary.main}))),U$e=Ee(Doe,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(e,t)=>t.progress})(({ownerState:e})=>A({},e.variant==="progress"&&{width:"50%"})),G$e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiMobileStepper"}),{activeStep:o=0,backButton:i,className:a,LinearProgressProps:s,nextButton:l,position:c="bottom",steps:u,variant:d="dots"}=r,f=De(r,B$e),p=A({},r,{activeStep:o,position:c,variant:d}),h=j$e(p);return N.jsxs(z$e,A({square:!0,elevation:0,className:Ne(h.root,a),ref:n,ownerState:p},f,{children:[i,d==="text"&&N.jsxs(C.Fragment,{children:[o+1," / ",u]}),d==="dots"&&N.jsx(H$e,{ownerState:p,className:h.dots,children:[...new Array(u)].map((g,v)=>N.jsx(V$e,{className:Ne(h.dot,v===o&&h.dotActive),ownerState:p,dotActive:v===o},v))}),d==="progress"&&N.jsx(U$e,A({ownerState:p,className:h.progress,variant:"determinate",value:Math.ceil(o/(u-1)*100)},s)),l]}))}),W$e=G$e;function Xj(e){return lt("MuiNativeSelect",e)}const q$e=ut("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sO=q$e,X$e=["className","disabled","error","IconComponent","inputRef","variant"],K$e=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${Be(n)}`,i&&"iconOpen",r&&"disabled"]};return Qe(s,Xj,t)},tie=({ownerState:e,theme:t})=>A({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":A({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${sO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Y$e=Ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:aa,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${sO.multiple}`]:t.multiple}]}})(tie),nie=({ownerState:e,theme:t})=>A({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${sO.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Z$e=Ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Be(n.variant)}`],n.open&&t.iconOpen]}})(nie),Q$e=C.forwardRef(function(t,n){const{className:r,disabled:o,error:i,IconComponent:a,inputRef:s,variant:l="standard"}=t,c=De(t,X$e),u=A({},t,{disabled:o,variant:l,error:i}),d=K$e(u);return N.jsxs(C.Fragment,{children:[N.jsx(Y$e,A({ownerState:u,className:Ne(d.select,r),disabled:o,ref:s||n},c)),t.multiple?null:N.jsx(Z$e,{as:a,ownerState:u,className:d.icon})]})}),rie=Q$e,J$e=["className","children","classes","IconComponent","input","inputProps","variant"],eDe=["root"],tDe=e=>{const{classes:t}=e;return Qe({root:["root"]},Xj,t)},nDe=N.jsx(aO,{}),oie=C.forwardRef(function(t,n){const r=dt({name:"MuiNativeSelect",props:t}),{className:o,children:i,classes:a={},IconComponent:s=Dj,input:l=nDe,inputProps:c}=r,u=De(r,J$e),d=kl(),f=Zd({props:r,muiFormControl:d,states:["variant"]}),p=A({},r,{classes:a}),h=tDe(p),g=De(a,eDe);return N.jsx(C.Fragment,{children:C.cloneElement(l,A({inputComponent:rie,inputProps:A({children:i,classes:g,IconComponent:s,variant:f.variant,type:void 0},c,l?l.props.inputProps:{}),ref:n},u,{className:Ne(h.root,l.props.className,o)}))})});oie.muiName="Select";const rDe=oie;var $U;const oDe=["children","classes","className","label","notched"],iDe=Ee("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),aDe=Ee("legend")(({ownerState:e,theme:t})=>A({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&A({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function sDe(e){const{className:t,label:n,notched:r}=e,o=De(e,oDe),i=n!=null&&n!=="",a=A({},e,{notched:r,withLabel:i});return N.jsx(iDe,A({"aria-hidden":!0,className:t,ownerState:a},o,{children:N.jsx(aDe,{ownerState:a,children:i?N.jsx("span",{children:n}):$U||($U=N.jsx("span",{className:"notranslate",children:"​"}))})}))}const lDe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],cDe=e=>{const{classes:t}=e,r=Qe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_re,t);return A({},t,r)},uDe=Ee(tO,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:JT})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return A({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${ql.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${ql.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${ql.focused} .${ql.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${ql.error} .${ql.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${ql.disabled} .${ql.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&A({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),dDe=Ee(sDe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),fDe=Ee(nO,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:eO})(({theme:e,ownerState:t})=>A({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),iie=C.forwardRef(function(t,n){var r,o,i,a,s;const l=dt({props:t,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:h,slots:g={},type:v="text"}=l,m=De(l,lDe),b=cDe(l),x=kl(),y=Zd({props:l,muiFormControl:x,states:["required"]}),w=A({},l,{color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:x,fullWidth:u,hiddenLabel:y.hiddenLabel,multiline:p,size:y.size,type:v}),_=(r=(o=g.root)!=null?o:c.Root)!=null?r:uDe,S=(i=(a=g.input)!=null?a:c.Input)!=null?i:fDe;return N.jsx(rg,A({slots:{root:_,input:S},renderSuffix:P=>N.jsx(dDe,{ownerState:w,className:b.notchedOutline,label:f!=null&&f!==""&&y.required?s||(s=N.jsxs(C.Fragment,{children:[f," ","*"]})):f,notched:typeof h<"u"?h:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:v},m,{classes:A({},b,{notchedOutline:null})}))});iie.muiName="Input";const Kj=iie;function aie(e){return lt("MuiPagination",e)}const pDe=ut("MuiPagination",["root","ul","outlined","text"]),hDe=pDe,mDe=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function sie(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:o=1,disabled:i=!1,hideNextButton:a=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:f=1}=e,p=De(e,mDe),[h,g]=xa({controlled:c,default:o,name:n,state:"page"}),v=(M,I)=>{c||g(I),l&&l(M,I)},m=(M,I)=>{const O=I-M+1;return Array.from({length:O},(L,R)=>M+R)},b=m(1,Math.min(t,r)),x=m(Math.max(r-t+1,t+1),r),y=Math.max(Math.min(h-f,r-t-f*2-1),t+2),w=Math.min(Math.max(h+f,t+f*2+2),x.length>0?x[0]-2:r-1),_=[...u?["first"]:[],...s?[]:["previous"],...b,...y>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...m(y,w),...w<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...x,...a?[]:["next"],...d?["last"]:[]],S=M=>{switch(M){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return r;default:return null}},P=_.map(M=>typeof M=="number"?{onClick:I=>{v(I,M)},type:"page",page:M,selected:M===h,disabled:i,"aria-current":M===h?"true":void 0}:{onClick:I=>{v(I,S(M))},type:M,page:S(M),selected:!1,disabled:i||M.indexOf("ellipsis")===-1&&(M==="next"||M==="last"?h>=r:h<=1)});return A({items:P},p)}function lie(e){return lt("MuiPaginationItem",e)}const gDe=ut("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),gs=gDe,_A=an(N.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),SA=an(N.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),DU=an(N.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),FU=an(N.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),vDe=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],cie=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Be(n.size)}`],n.variant==="text"&&t[`text${Be(n.color)}`],n.variant==="outlined"&&t[`outlined${Be(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},bDe=e=>{const{classes:t,color:n,disabled:r,selected:o,size:i,shape:a,type:s,variant:l}=e,c={root:["root",`size${Be(i)}`,l,a,n!=="standard"&&`${l}${Be(n)}`,r&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return Qe(c,lie,t)},yDe=Ee("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:cie})(({theme:e,ownerState:t})=>A({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${gs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),xDe=Ee(Ho,{name:"MuiPaginationItem",slot:"Root",overridesResolver:cie})(({theme:e,ownerState:t})=>A({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${gs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${gs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gs.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${gs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${gs.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>A({},t.variant==="text"&&{[`&.${gs.selected}`]:A({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${gs.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${gs.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${gs.selected}`]:A({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Pt(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:Pt(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Pt(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${gs.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),wDe=Ee("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>A({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),_De=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiPaginationItem"}),{className:o,color:i="standard",component:a,components:s={},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:f="medium",slots:p={},type:h="page",variant:g="text"}=r,v=De(r,vDe),m=A({},r,{color:i,disabled:l,selected:u,shape:d,size:f,type:h,variant:g}),b=Ir(),x=bDe(m),w=(b.direction==="rtl"?{previous:p.next||s.next||FU,next:p.previous||s.previous||DU,last:p.first||s.first||_A,first:p.last||s.last||SA}:{previous:p.previous||s.previous||DU,next:p.next||s.next||FU,first:p.first||s.first||_A,last:p.last||s.last||SA})[h];return h==="start-ellipsis"||h==="end-ellipsis"?N.jsx(yDe,{ref:n,ownerState:m,className:Ne(x.root,o),children:"…"}):N.jsxs(xDe,A({ref:n,ownerState:m,component:a,disabled:l,className:Ne(x.root,o)},v,{children:[h==="page"&&c,w?N.jsx(wDe,{as:w,ownerState:m,className:x.icon}):null]}))}),uie=_De,SDe=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],CDe=e=>{const{classes:t,variant:n}=e;return Qe({root:["root",n],ul:["ul"]},aie,t)},PDe=Ee("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),MDe=Ee("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function ADe(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const EDe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiPagination"}),{boundaryCount:o=1,className:i,color:a="standard",count:s=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=ADe,hideNextButton:d=!1,hidePrevButton:f=!1,renderItem:p=P=>N.jsx(uie,A({},P)),shape:h="circular",showFirstButton:g=!1,showLastButton:v=!1,siblingCount:m=1,size:b="medium",variant:x="text"}=r,y=De(r,SDe),{items:w}=sie(A({},r,{componentName:"Pagination"})),_=A({},r,{boundaryCount:o,color:a,count:s,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:f,renderItem:p,shape:h,showFirstButton:g,showLastButton:v,siblingCount:m,size:b,variant:x}),S=CDe(_);return N.jsx(PDe,A({"aria-label":"pagination navigation",className:Ne(S.root,i),ownerState:_,ref:n},y,{children:N.jsx(MDe,{className:S.ul,ownerState:_,children:w.map((P,M)=>N.jsx("li",{children:p(A({},P,{color:a,"aria-label":u(P.type,P.page,P.selected),shape:h,size:b,variant:x}))},M))})}))}),TDe=EDe,ODe=an(N.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),IDe=an(N.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),kDe=Ee("span")({position:"relative",display:"flex"}),RDe=Ee(ODe)({transform:"scale(1)"}),LDe=Ee(IDe)(({theme:e,ownerState:t})=>A({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function die(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=A({},e,{checked:t});return N.jsxs(kDe,{className:n.root,ownerState:o,children:[N.jsx(RDe,{fontSize:r,className:n.background,ownerState:o}),N.jsx(LDe,{fontSize:r,className:n.dot,ownerState:o})]})}const $De=C.createContext(void 0),fie=$De;function pie(){return C.useContext(fie)}function hie(e){return lt("MuiRadio",e)}const DDe=ut("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),t5=DDe,FDe=["checked","checkedIcon","color","icon","name","onChange","size","className"],NDe=e=>{const{classes:t,color:n}=e,r={root:["root",`color${Be(n)}`]};return A({},t,Qe(r,hie,t))},BDe=Ee(zj,{shouldForwardProp:e=>aa(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Be(n.color)}`]]}})(({theme:e,ownerState:t})=>A({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${t5.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${t5.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function jDe(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const NU=N.jsx(die,{checked:!0}),BU=N.jsx(die,{}),zDe=C.forwardRef(function(t,n){var r,o;const i=dt({props:t,name:"MuiRadio"}),{checked:a,checkedIcon:s=NU,color:l="primary",icon:c=BU,name:u,onChange:d,size:f="medium",className:p}=i,h=De(i,FDe),g=A({},i,{color:l,size:f}),v=NDe(g),m=pie();let b=a;const x=nw(d,m&&m.onChange);let y=u;return m&&(typeof b>"u"&&(b=jDe(m.value,i.value)),typeof y>"u"&&(y=m.name)),N.jsx(BDe,A({type:"radio",icon:C.cloneElement(c,{fontSize:(r=BU.props.fontSize)!=null?r:f}),checkedIcon:C.cloneElement(s,{fontSize:(o=NU.props.fontSize)!=null?o:f}),ownerState:g,classes:v,name:y,checked:b,onChange:x,ref:n,className:Ne(v.root,p)},h))}),HDe=zDe,VDe=["actions","children","defaultValue","name","onChange","value"],UDe=C.forwardRef(function(t,n){const{actions:r,children:o,defaultValue:i,name:a,onChange:s,value:l}=t,c=De(t,VDe),u=C.useRef(null),[d,f]=xa({controlled:l,default:i,name:"RadioGroup"});C.useImperativeHandle(r,()=>({focus:()=>{let v=u.current.querySelector("input:not(:disabled):checked");v||(v=u.current.querySelector("input:not(:disabled)")),v&&v.focus()}}),[]);const p=wn(n,u),h=fr(a),g=C.useMemo(()=>({name:h,onChange(v){f(v.target.value),s&&s(v,v.target.value)},value:d}),[h,s,f,d]);return N.jsx(fie.Provider,{value:g,children:N.jsx(Gj,A({role:"radiogroup",ref:p},c,{children:o}))})}),GDe=UDe,WDe=an(N.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),qDe=an(N.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function mie(e){return lt("MuiRating",e)}const XDe=ut("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),uv=XDe,KDe=["value"],YDe=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function ZDe(e,t,n){return e<t?t:e>n?n:e}function QDe(e){const t=e.toString().split(".")[1];return t?t.length:0}function MR(e,t){if(e==null)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(QDe(t)))}const JDe=e=>{const{classes:t,size:n,readOnly:r,disabled:o,emptyValueFocused:i,focusVisible:a}=e,s={root:["root",`size${Be(n)}`,o&&"disabled",a&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[i&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Qe(s,mie,t)},eFe=Ee("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${uv.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${Be(n.size)}`],n.readOnly&&t.readOnly]}})(({theme:e,ownerState:t})=>A({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${uv.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${uv.focusVisible} .${uv.iconActive}`]:{outline:"1px solid #999"},[`& .${uv.visuallyHidden}`]:Bte},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),gie=Ee("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:e})=>A({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),tFe=Ee("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(({theme:e,ownerState:t})=>A({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(e.vars||e).palette.action.disabled})),nFe=Ee("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>F_(e)&&e!=="iconActive",overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})(({iconActive:e})=>A({position:"relative"},e&&{transform:"scale(1.2)"}));function rFe(e){const t=De(e,KDe);return N.jsx("span",A({},t))}function jU(e){const{classes:t,disabled:n,emptyIcon:r,focus:o,getLabelText:i,highlightSelectedOnly:a,hover:s,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:f,name:p,onBlur:h,onChange:g,onClick:v,onFocus:m,readOnly:b,ownerState:x,ratingValue:y,ratingValueRounded:w}=e,_=a?d===y:d<=y,S=d<=s,P=d<=o,M=d===w,I=fr(),O=N.jsx(tFe,{as:c,value:d,className:Ne(t.icon,_?t.iconFilled:t.iconEmpty,S&&t.iconHover,P&&t.iconFocus,u&&t.iconActive),ownerState:A({},x,{iconEmpty:!_,iconFilled:_,iconHover:S,iconFocus:P,iconActive:u}),children:r&&!_?r:l});return b?N.jsx("span",A({},f,{children:O})):N.jsxs(C.Fragment,{children:[N.jsxs(gie,A({ownerState:A({},x,{emptyValueFocused:void 0}),htmlFor:I},f,{children:[O,N.jsx("span",{className:t.visuallyHidden,children:i(d)})]})),N.jsx("input",{className:t.visuallyHidden,onFocus:m,onBlur:h,onChange:g,onClick:v,disabled:n,value:d,id:I,type:"radio",name:p,checked:M})]})}const oFe=N.jsx(WDe,{fontSize:"inherit"}),iFe=N.jsx(qDe,{fontSize:"inherit"});function aFe(e){return`${e} Star${e!==1?"s":""}`}const sFe=C.forwardRef(function(t,n){const r=dt({name:"MuiRating",props:t}),{className:o,defaultValue:i=null,disabled:a=!1,emptyIcon:s=iFe,emptyLabelText:l="Empty",getLabelText:c=aFe,highlightSelectedOnly:u=!1,icon:d=oFe,IconContainerComponent:f=rFe,max:p=5,name:h,onChange:g,onChangeActive:v,onMouseLeave:m,onMouseMove:b,precision:x=1,readOnly:y=!1,size:w="medium",value:_}=r,S=De(r,YDe),P=fr(h),[M,I]=xa({controlled:_,default:i,name:"Rating"}),O=MR(M,x),L=Ir(),[{hover:R,focus:T},E]=C.useState({hover:-1,focus:-1});let k=O;R!==-1&&(k=R),T!==-1&&(k=T);const{isFocusVisibleRef:B,onBlur:$,onFocus:j,ref:V}=tg(),[q,Q]=C.useState(!1),H=C.useRef(),X=wn(V,H,n),J=fe=>{b&&b(fe);const _e=H.current,{right:W,left:oe}=_e.getBoundingClientRect(),{width:Ce}=_e.firstChild.getBoundingClientRect();let ve;L.direction==="rtl"?ve=(W-fe.clientX)/(Ce*p):ve=(fe.clientX-oe)/(Ce*p);let me=MR(p*ve+x/2,x);me=ZDe(me,x,p),E(ye=>ye.hover===me&&ye.focus===me?ye:{hover:me,focus:me}),Q(!1),v&&R!==me&&v(fe,me)},G=fe=>{m&&m(fe);const _e=-1;E({hover:_e,focus:_e}),v&&R!==_e&&v(fe,_e)},ie=fe=>{let _e=fe.target.value===""?null:parseFloat(fe.target.value);R!==-1&&(_e=R),I(_e),g&&g(fe,_e)},Y=fe=>{fe.clientX===0&&fe.clientY===0||(E({hover:-1,focus:-1}),I(null),g&&parseFloat(fe.target.value)===O&&g(fe,null))},le=fe=>{j(fe),B.current===!0&&Q(!0);const _e=parseFloat(fe.target.value);E(W=>({hover:W.hover,focus:_e}))},te=fe=>{if(R!==-1)return;$(fe),B.current===!1&&Q(!1);const _e=-1;E(W=>({hover:W.hover,focus:_e}))},[re,ae]=C.useState(!1),pe=A({},r,{defaultValue:i,disabled:a,emptyIcon:s,emptyLabelText:l,emptyValueFocused:re,focusVisible:q,getLabelText:c,icon:d,IconContainerComponent:f,max:p,precision:x,readOnly:y,size:w}),we=JDe(pe);return N.jsxs(eFe,A({ref:X,onMouseMove:J,onMouseLeave:G,className:Ne(we.root,o,y&&"MuiRating-readOnly"),ownerState:pe,role:y?"img":null,"aria-label":y?c(k):null},S,{children:[Array.from(new Array(p)).map((fe,_e)=>{const W=_e+1,oe={classes:we,disabled:a,emptyIcon:s,focus:T,getLabelText:c,highlightSelectedOnly:u,hover:R,icon:d,IconContainerComponent:f,name:P,onBlur:te,onChange:ie,onClick:Y,onFocus:le,ratingValue:k,ratingValueRounded:O,readOnly:y,ownerState:pe},Ce=W===Math.ceil(k)&&(R!==-1||T!==-1);if(x<1){const ve=Array.from(new Array(1/x));return N.jsx(nFe,{className:Ne(we.decimal,Ce&&we.iconActive),ownerState:pe,iconActive:Ce,children:ve.map((me,ye)=>{const Le=MR(W-1+(ye+1)*x,x);return N.jsx(jU,A({},oe,{isActive:!1,itemValue:Le,labelProps:{style:ve.length-1===ye?{}:{width:Le===k?`${(ye+1)*x*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Le)})},W)}return N.jsx(jU,A({},oe,{isActive:Ce,itemValue:W}),W)}),!y&&!a&&N.jsxs(gie,{className:Ne(we.label,we.labelEmptyValue),ownerState:pe,children:[N.jsx("input",{className:we.visuallyHidden,value:"",id:`${P}-empty`,type:"radio",name:P,checked:O==null,onFocus:()=>ae(!0),onBlur:()=>ae(!1),onChange:ie}),N.jsx("span",{className:we.visuallyHidden,children:l})]})]}))}),lFe=sFe;function vie(e){return lt("MuiScopedCssBaseline",e)}const cFe=ut("MuiScopedCssBaseline",["root"]),uFe=cFe,dFe=["className","component","enableColorScheme"],fFe=e=>{const{classes:t}=e;return Qe({root:["root"]},vie,t)},pFe=Ee("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const n={};return t.enableColorScheme&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,o])=>{var i;n[`&${e.getColorSchemeSelector(r).replace(/\s*&/,"")}`]={colorScheme:(i=o.palette)==null?void 0:i.mode}}),A({},Yre(e,t.enableColorScheme),Zre(e),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:e.typography.fontWeightBold}},n)}),hFe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiScopedCssBaseline"}),{className:o,component:i="div"}=r,a=De(r,dFe),s=A({},r,{component:i}),l=fFe(s);return N.jsx(pFe,A({as:i,className:Ne(l.root,o),ref:n,ownerState:s},a))}),mFe=hFe;function bie(e){return lt("MuiSelect",e)}const gFe=ut("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),dv=gFe;var zU;const vFe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bFe=Ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${dv.select}`]:t.select},{[`&.${dv.select}`]:t[n.variant]},{[`&.${dv.error}`]:t.error},{[`&.${dv.multiple}`]:t.multiple}]}})(tie,{[`&.${dv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yFe=Ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Be(n.variant)}`],n.open&&t.iconOpen]}})(nie),xFe=Ee("input",{shouldForwardProp:e=>F_(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function HU(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function wFe(e){return e==null||typeof e=="string"&&!e.trim()}const _Fe=e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:i,error:a}=e,s={select:["select",n,r&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${Be(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Qe(s,bie,t)},SFe=C.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":o,autoFocus:i,autoWidth:a,children:s,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,error:p=!1,IconComponent:h,inputRef:g,labelId:v,MenuProps:m={},multiple:b,name:x,onBlur:y,onChange:w,onClose:_,onFocus:S,onOpen:P,open:M,readOnly:I,renderValue:O,SelectDisplayProps:L={},tabIndex:R,value:T,variant:E="standard"}=t,k=De(t,vFe),[B,$]=xa({controlled:T,default:u,name:"Select"}),[j,V]=xa({controlled:M,default:c,name:"Select"}),q=C.useRef(null),Q=C.useRef(null),[H,X]=C.useState(null),{current:J}=C.useRef(M!=null),[G,ie]=C.useState(),Y=wn(n,g),le=C.useCallback(K=>{Q.current=K,K&&X(K)},[]),te=H==null?void 0:H.parentNode;C.useImperativeHandle(Y,()=>({focus:()=>{Q.current.focus()},node:q.current,value:B}),[B]),C.useEffect(()=>{c&&j&&H&&!J&&(ie(a?null:te.clientWidth),Q.current.focus())},[H,a]),C.useEffect(()=>{i&&Q.current.focus()},[i]),C.useEffect(()=>{if(!v)return;const K=Kn(Q.current).getElementById(v);if(K){const he=()=>{getSelection().isCollapsed&&Q.current.focus()};return K.addEventListener("click",he),()=>{K.removeEventListener("click",he)}}},[v]);const re=(K,he)=>{K?P&&P(he):_&&_(he),J||(ie(a?null:te.clientWidth),V(K))},ae=K=>{K.button===0&&(K.preventDefault(),Q.current.focus(),re(!0,K))},pe=K=>{re(!1,K)},we=C.Children.toArray(s),fe=K=>{const he=we.map(Ae=>Ae.props.value).indexOf(K.target.value);if(he===-1)return;const ge=we[he];$(ge.props.value),w&&w(K,ge)},_e=K=>he=>{let ge;if(he.currentTarget.hasAttribute("tabindex")){if(b){ge=Array.isArray(B)?B.slice():[];const Ae=B.indexOf(K.props.value);Ae===-1?ge.push(K.props.value):ge.splice(Ae,1)}else ge=K.props.value;if(K.props.onClick&&K.props.onClick(he),B!==ge&&($(ge),w)){const Ae=he.nativeEvent||he,Ke=new Ae.constructor(Ae.type,Ae);Object.defineProperty(Ke,"target",{writable:!0,value:{value:ge,name:x}}),w(Ke,K)}b||re(!1,he)}},W=K=>{I||[" ","ArrowUp","ArrowDown","Enter"].indexOf(K.key)!==-1&&(K.preventDefault(),re(!0,K))},oe=H!==null&&j,Ce=K=>{!oe&&y&&(Object.defineProperty(K,"target",{writable:!0,value:{value:B,name:x}}),y(K))};delete k["aria-invalid"];let ve,me;const ye=[];let Le=!1;(yA({value:B})||f)&&(O?ve=O(B):Le=!0);const Te=we.map(K=>{if(!C.isValidElement(K))return null;let he;if(b){if(!Array.isArray(B))throw new Error(os(2));he=B.some(ge=>HU(ge,K.props.value)),he&&Le&&ye.push(K.props.children)}else he=HU(B,K.props.value),he&&Le&&(me=K.props.children);return C.cloneElement(K,{"aria-selected":he?"true":"false",onClick:_e(K),onKeyUp:ge=>{ge.key===" "&&ge.preventDefault(),K.props.onKeyUp&&K.props.onKeyUp(ge)},role:"option",selected:he,value:void 0,"data-value":K.props.value})});Le&&(b?ye.length===0?ve=null:ve=ye.reduce((K,he,ge)=>(K.push(he),ge<ye.length-1&&K.push(", "),K),[]):ve=me);let Me=G;!a&&J&&H&&(Me=te.clientWidth);let $e;typeof R<"u"?$e=R:$e=d?null:0;const U=L.id||(x?`mui-component-select-${x}`:void 0),D=A({},t,{variant:E,value:B,open:oe,error:p}),F=_Fe(D);return N.jsxs(C.Fragment,{children:[N.jsx(bFe,A({ref:le,tabIndex:$e,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":oe?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,U].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:W,onMouseDown:d||I?null:ae,onBlur:Ce,onFocus:S},L,{ownerState:D,className:Ne(L.className,F.select,l),id:U,children:wFe(ve)?zU||(zU=N.jsx("span",{className:"notranslate",children:"​"})):ve})),N.jsx(xFe,A({"aria-invalid":p,value:Array.isArray(B)?B.join(","):B,name:x,ref:q,"aria-hidden":!0,onChange:fe,tabIndex:-1,disabled:d,className:F.nativeInput,autoFocus:i,ownerState:D},k)),N.jsx(yFe,{as:h,className:F.icon,ownerState:D}),N.jsx(H_,A({id:`menu-${x||""}`,anchorEl:te,open:oe,onClose:pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:A({"aria-labelledby":v,role:"listbox",disableListWrap:!0},m.MenuListProps),PaperProps:A({},m.PaperProps,{style:A({minWidth:Me},m.PaperProps!=null?m.PaperProps.style:null)}),children:Te}))]})}),CFe=SFe,PFe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],MFe=e=>{const{classes:t}=e;return t},Yj={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>aa(e)&&e!=="variant",slot:"Root"},AFe=Ee(aO,Yj)(""),EFe=Ee(Kj,Yj)(""),TFe=Ee(Uj,Yj)(""),yie=C.forwardRef(function(t,n){const r=dt({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:i,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Dj,id:d,input:f,inputProps:p,label:h,labelId:g,MenuProps:v,multiple:m=!1,native:b=!1,onClose:x,onOpen:y,open:w,renderValue:_,SelectDisplayProps:S,variant:P="outlined"}=r,M=De(r,PFe),I=b?rie:CFe,O=kl(),L=Zd({props:r,muiFormControl:O,states:["variant","error"]}),R=L.variant||P,T=A({},r,{variant:R,classes:a}),E=MFe(T),k=f||{standard:N.jsx(AFe,{ownerState:T}),outlined:N.jsx(EFe,{label:h,ownerState:T}),filled:N.jsx(TFe,{ownerState:T})}[R],B=wn(n,k.ref);return N.jsx(C.Fragment,{children:C.cloneElement(k,A({inputComponent:I,inputProps:A({children:i,error:L.error,IconComponent:u,variant:R,type:void 0,multiple:m},b?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:g,MenuProps:v,onClose:x,onOpen:y,open:w,renderValue:_,SelectDisplayProps:A({id:d},S)},p,{classes:p?jo(E,p.classes):E},f?f.props.inputProps:{})},m&&b&&R==="outlined"?{notched:!0}:{},{ref:B,className:Ne(k.props.className,s)},!f&&{variant:R},M))})});yie.muiName="Select";const Ky=yie;function xie(e){return lt("MuiSkeleton",e)}const OFe=ut("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]),IFe=OFe,kFe=["animation","className","component","height","style","variant","width"];let CA=e=>e,VU,UU,GU,WU;const RFe=e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:a}=e;return Qe({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!a&&"heightAuto"]},xie,t)},LFe=Us(VU||(VU=CA`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),$Fe=Us(UU||(UU=CA`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),DFe=Ee("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=UT(e.shape.borderRadius)||"px",r=Zc(e.shape.borderRadius);return A({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Pt(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&xc(GU||(GU=CA`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),LFe),({ownerState:e,theme:t})=>e.animation==="wave"&&xc(WU||(WU=CA`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),$Fe,(t.vars||t).palette.action.hover)),FFe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSkeleton"}),{animation:o="pulse",className:i,component:a="span",height:s,style:l,variant:c="text",width:u}=r,d=De(r,kFe),f=A({},r,{animation:o,component:a,variant:c,hasChildren:!!d.children}),p=RFe(f);return N.jsx(DFe,A({as:a,ref:n,className:Ne(p.root,i),ownerState:f},d,{style:A({width:u,height:s},l)}))}),wie=FFe,NFe=e=>!e||!dc(e),BFe=NFe;function _ie(e){return lt("MuiSlider",e)}const jFe=ut("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),gl=jFe,zFe=e=>{const{open:t}=e;return{offset:Ne(t&&gl.valueLabelOpen),circle:gl.valueLabelCircle,label:gl.valueLabelLabel}};function HFe(e){const{children:t,className:n,value:r}=e,o=zFe(e);return t?C.cloneElement(t,{className:Ne(t.props.className)},N.jsxs(C.Fragment,{children:[t.props.children,N.jsx("span",{className:Ne(o.offset,n),"aria-hidden":!0,children:N.jsx("span",{className:o.circle,children:N.jsx("span",{className:o.label,children:r})})})]})):null}const VFe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function qU(e){return e}const Sie=Ee("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Be(n.color)}`],n.size!=="medium"&&t[`size${Be(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>A({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&A({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&A({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${gl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${gl.dragging}`]:{[`& .${gl.thumb}, & .${gl.track}`]:{transition:"none"}}})),Cie=Ee("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>A({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Pie=Ee("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?ls(e.palette[t.color].main,.62):ss(e.palette[t.color].main,.5);return A({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),Mie=Ee("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Be(n.color)}`],n.size!=="medium"&&t[`thumbSize${Be(n.size)}`]]}})(({theme:e,ownerState:t})=>A({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":A({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${gl.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Pt(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${gl.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Pt(e.palette[t.color].main,.16)}`},[`&.${gl.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Aie=Ee(HFe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>A({[`&.${gl.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Eie=Ee("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>F_(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>A({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Tie=Ee("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>F_(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>A({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),UFe=e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:i,classes:a,color:s,size:l}=e,c={root:["root",t&&"disabled",n&&"dragging",r&&"marked",o==="vertical"&&"vertical",i==="inverted"&&"trackInverted",i===!1&&"trackFalse",s&&`color${Be(s)}`,l&&`size${Be(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${Be(l)}`,s&&`thumbColor${Be(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Qe(c,_ie,a)},GFe=({children:e})=>e,WFe=C.forwardRef(function(t,n){var r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I;const O=dt({props:t,name:"MuiSlider"}),R=Ir().direction==="rtl",{"aria-label":T,"aria-valuetext":E,"aria-labelledby":k,component:B="span",components:$={},componentsProps:j={},color:V="primary",classes:q,className:Q,disableSwap:H=!1,disabled:X=!1,getAriaLabel:J,getAriaValueText:G,marks:ie=!1,max:Y=100,min:le=0,orientation:te="horizontal",size:re="medium",step:ae=1,scale:pe=qU,slotProps:we,slots:fe,track:_e="normal",valueLabelDisplay:W="off",valueLabelFormat:oe=qU}=O,Ce=De(O,VFe),ve=A({},O,{isRtl:R,max:Y,min:le,classes:q,disabled:X,disableSwap:H,orientation:te,marks:ie,color:V,size:re,step:ae,scale:pe,track:_e,valueLabelDisplay:W,valueLabelFormat:oe}),{axisProps:me,getRootProps:ye,getHiddenInputProps:Le,getThumbProps:Te,open:Me,active:$e,axis:U,focusedThumbIndex:D,range:F,dragging:K,marks:he,values:ge,trackOffset:Ae,trackLeap:Ke}=FPe(A({},ve,{rootRef:n}));ve.marked=he.length>0&&he.some(Fe=>Fe.label),ve.dragging=K,ve.focusedThumbIndex=D;const Je=UFe(ve),ft=(r=(o=fe==null?void 0:fe.root)!=null?o:$.Root)!=null?r:Sie,ht=(i=(a=fe==null?void 0:fe.rail)!=null?a:$.Rail)!=null?i:Cie,it=(s=(l=fe==null?void 0:fe.track)!=null?l:$.Track)!=null?s:Pie,At=(c=(u=fe==null?void 0:fe.thumb)!=null?u:$.Thumb)!=null?c:Mie,Pe=(d=(f=fe==null?void 0:fe.valueLabel)!=null?f:$.ValueLabel)!=null?d:Aie,Re=(p=(h=fe==null?void 0:fe.mark)!=null?h:$.Mark)!=null?p:Eie,ze=(g=(v=fe==null?void 0:fe.markLabel)!=null?v:$.MarkLabel)!=null?g:Tie,je=(m=(b=fe==null?void 0:fe.input)!=null?b:$.Input)!=null?m:"input",Ue=(x=we==null?void 0:we.root)!=null?x:j.root,tt=(y=we==null?void 0:we.rail)!=null?y:j.rail,be=(w=we==null?void 0:we.track)!=null?w:j.track,He=(_=we==null?void 0:we.thumb)!=null?_:j.thumb,Ve=(S=we==null?void 0:we.valueLabel)!=null?S:j.valueLabel,z=(P=we==null?void 0:we.mark)!=null?P:j.mark,Z=(M=we==null?void 0:we.markLabel)!=null?M:j.markLabel,ne=(I=we==null?void 0:we.input)!=null?I:j.input,de=Yo({elementType:ft,getSlotProps:ye,externalSlotProps:Ue,externalForwardedProps:Ce,additionalProps:A({},BFe(ft)&&{as:B}),ownerState:A({},ve,Ue==null?void 0:Ue.ownerState),className:[Je.root,Q]}),ce=Yo({elementType:ht,externalSlotProps:tt,ownerState:ve,className:Je.rail}),Se=Yo({elementType:it,externalSlotProps:be,additionalProps:{style:A({},me[U].offset(Ae),me[U].leap(Ke))},ownerState:A({},ve,be==null?void 0:be.ownerState),className:Je.track}),xe=Yo({elementType:At,getSlotProps:Te,externalSlotProps:He,ownerState:A({},ve,He==null?void 0:He.ownerState),className:Je.thumb}),Ie=Yo({elementType:Pe,externalSlotProps:Ve,ownerState:A({},ve,Ve==null?void 0:Ve.ownerState),className:Je.valueLabel}),Xe=Yo({elementType:Re,externalSlotProps:z,ownerState:ve,className:Je.mark}),Ye=Yo({elementType:ze,externalSlotProps:Z,ownerState:ve,className:Je.markLabel}),rt=Yo({elementType:je,getSlotProps:Le,externalSlotProps:ne,ownerState:ve});return N.jsxs(ft,A({},de,{children:[N.jsx(ht,A({},ce)),N.jsx(it,A({},Se)),he.filter(Fe=>Fe.value>=le&&Fe.value<=Y).map((Fe,Oe)=>{const Ge=gA(Fe.value,le,Y),et=me[U].offset(Ge);let pt;return _e===!1?pt=ge.indexOf(Fe.value)!==-1:pt=_e==="normal"&&(F?Fe.value>=ge[0]&&Fe.value<=ge[ge.length-1]:Fe.value<=ge[0])||_e==="inverted"&&(F?Fe.value<=ge[0]||Fe.value>=ge[ge.length-1]:Fe.value>=ge[0]),N.jsxs(C.Fragment,{children:[N.jsx(Re,A({"data-index":Oe},Xe,!dc(Re)&&{markActive:pt},{style:A({},et,Xe.style),className:Ne(Xe.className,pt&&Je.markActive)})),Fe.label!=null?N.jsx(ze,A({"aria-hidden":!0,"data-index":Oe},Ye,!dc(ze)&&{markLabelActive:pt},{style:A({},et,Ye.style),className:Ne(Je.markLabel,Ye.className,pt&&Je.markLabelActive),children:Fe.label})):null]},Oe)}),ge.map((Fe,Oe)=>{const Ge=gA(Fe,le,Y),et=me[U].offset(Ge),pt=W==="off"?GFe:Pe;return N.jsx(pt,A({},!dc(pt)&&{valueLabelFormat:oe,valueLabelDisplay:W,value:typeof oe=="function"?oe(pe(Fe),Oe):oe,index:Oe,open:Me===Oe||$e===Oe||W==="on",disabled:X},Ie,{children:N.jsx(At,A({"data-index":Oe},xe,{className:Ne(Je.thumb,xe.className,$e===Oe&&Je.active,D===Oe&&Je.focusVisible),style:A({},et,{pointerEvents:H&&$e!==Oe?"none":void 0},xe.style),children:N.jsx(je,A({"data-index":Oe,"aria-label":J?J(Oe):T,"aria-valuenow":pe(Fe),"aria-labelledby":k,"aria-valuetext":G?G(pe(Fe),Oe):E,value:ge[Oe]},rt))}))}),Oe)})]}))}),qFe=WFe;function Oie(e){return lt("MuiSnackbarContent",e)}const XFe=ut("MuiSnackbarContent",["root","message","action"]),KFe=XFe,YFe=["action","className","message","role"],ZFe=e=>{const{classes:t}=e;return Qe({root:["root"],action:["action"],message:["message"]},Oie,t)},QFe=Ee(sa,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=Hb(e.palette.background.default,t);return A({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),JFe=Ee("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),e5e=Ee("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),t5e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSnackbarContent"}),{action:o,className:i,message:a,role:s="alert"}=r,l=De(r,YFe),c=r,u=ZFe(c);return N.jsxs(QFe,A({role:s,square:!0,elevation:6,className:Ne(u.root,i),ownerState:c,ref:n},l,{children:[N.jsx(JFe,{className:u.message,ownerState:c,children:a}),o?N.jsx(e5e,{className:u.action,ownerState:c,children:o}):null]}))}),Iie=t5e;function kie(e){return lt("MuiSnackbar",e)}const n5e=ut("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]),r5e=n5e,o5e=["onEnter","onExited"],i5e=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],a5e=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${Be(n.vertical)}${Be(n.horizontal)}`]};return Qe(r,kie,t)},XU=Ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Be(n.anchorOrigin.vertical)}${Be(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return A({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:A({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),s5e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSnackbar"}),o=Ir(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:h=!1,message:g,open:v,TransitionComponent:m=Xb,transitionDuration:b=i,TransitionProps:{onEnter:x,onExited:y}={}}=r,w=De(r.TransitionProps,o5e),_=De(r,i5e),S=A({},r,{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:h,TransitionComponent:m,transitionDuration:b}),P=a5e(S),{getRootProps:M,onClickAway:I}=NPe(A({},S)),[O,L]=C.useState(!0),R=Yo({elementType:XU,getSlotProps:M,externalForwardedProps:_,ownerState:S,additionalProps:{ref:n},className:[P.root,d]}),T=k=>{L(!0),y&&y(k)},E=(k,B)=>{L(!1),x&&x(k,B)};return!v&&O?null:N.jsx(WT,A({onClickAway:I},f,{children:N.jsx(XU,A({},R,{children:N.jsx(m,A({appear:!0,in:v,timeout:b,direction:s==="top"?"down":"up",onEnter:E,onExited:T},w,{children:u||N.jsx(Iie,A({message:g,action:a},p))}))}))}))}),l5e=s5e,c5e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],u5e={entering:{transform:"none"},entered:{transform:"none"}},d5e=C.forwardRef(function(t,n){const r=Ir(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:h,onExiting:g,style:v,timeout:m=o,TransitionComponent:b=j_}=t,x=De(t,c5e),y=C.useRef(null),w=wn(y,s.ref,n),_=T=>E=>{if(T){const k=y.current;E===void 0?T(k):T(k,E)}},S=_(f),P=_((T,E)=>{XT(T);const k=_c({style:v,timeout:m,easing:l},{mode:"enter"});T.style.webkitTransition=r.transitions.create("transform",k),T.style.transition=r.transitions.create("transform",k),u&&u(T,E)}),M=_(d),I=_(g),O=_(T=>{const E=_c({style:v,timeout:m,easing:l},{mode:"exit"});T.style.webkitTransition=r.transitions.create("transform",E),T.style.transition=r.transitions.create("transform",E),p&&p(T)}),L=_(h),R=T=>{i&&i(y.current,T)};return N.jsx(b,A({appear:a,in:c,nodeRef:y,onEnter:P,onEntered:M,onEntering:S,onExit:O,onExited:L,onExiting:I,addEndListener:R,timeout:m},x,{children:(T,E)=>C.cloneElement(s,A({style:A({transform:"scale(0)",visibility:T==="exited"&&!c?"hidden":void 0},u5e[T],v,s.props.style),ref:w},E))}))}),Rie=d5e;function Lie(e){return lt("MuiSpeedDial",e)}const f5e=ut("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),N1=f5e,p5e=["ref"],h5e=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],m5e=["ref"],g5e=e=>{const{classes:t,open:n,direction:r}=e,o={root:["root",`direction${Be(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Qe(o,Lie,t)};function G0(e){if(e==="up"||e==="down")return"vertical";if(e==="right"||e==="left")return"horizontal"}function v5e(e,t,n){return e<t?t:e>n?n:e}const cf=32,qC=16,b5e=Ee("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`direction${Be(n.direction)}`]]}})(({theme:e,ownerState:t})=>A({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},t.direction==="up"&&{flexDirection:"column-reverse",[`& .${N1.actions}`]:{flexDirection:"column-reverse",marginBottom:-cf,paddingBottom:qC+cf}},t.direction==="down"&&{flexDirection:"column",[`& .${N1.actions}`]:{flexDirection:"column",marginTop:-cf,paddingTop:qC+cf}},t.direction==="left"&&{flexDirection:"row-reverse",[`& .${N1.actions}`]:{flexDirection:"row-reverse",marginRight:-cf,paddingRight:qC+cf}},t.direction==="right"&&{flexDirection:"row",[`& .${N1.actions}`]:{flexDirection:"row",marginLeft:-cf,paddingLeft:qC+cf}})),y5e=Ee(Vj,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,t)=>t.fab})(()=>({pointerEvents:"auto"})),x5e=Ee("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actions,!n.open&&t.actionsClosed]}})(({ownerState:e})=>A({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),w5e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSpeedDial"}),o=Ir(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{ariaLabel:a,FabProps:{ref:s}={},children:l,className:c,direction:u="up",hidden:d=!1,icon:f,onBlur:p,onClose:h,onFocus:g,onKeyDown:v,onMouseEnter:m,onMouseLeave:b,onOpen:x,open:y,TransitionComponent:w=Rie,transitionDuration:_=i,TransitionProps:S}=r,P=De(r.FabProps,p5e),M=De(r,h5e),[I,O]=xa({controlled:y,default:!1,name:"SpeedDial",state:"open"}),L=A({},r,{open:I,direction:u}),R=g5e(L),T=C.useRef();C.useEffect(()=>()=>{clearTimeout(T.current)},[]);const E=C.useRef(0),k=C.useRef(),B=C.useRef([]);B.current=[B.current[0]];const $=C.useCallback(Y=>{B.current[0]=Y},[]),j=wn(s,$),V=(Y,le)=>te=>{B.current[Y+1]=te,le&&le(te)},q=Y=>{v&&v(Y);const le=Y.key.replace("Arrow","").toLowerCase(),{current:te=le}=k;if(Y.key==="Escape"){O(!1),B.current[0].focus(),h&&h(Y,"escapeKeyDown");return}if(G0(le)===G0(te)&&G0(le)!==void 0){Y.preventDefault();const re=le===te?1:-1,ae=v5e(E.current+re,0,B.current.length-1);B.current[ae].focus(),E.current=ae,k.current=te}};C.useEffect(()=>{I||(E.current=0,k.current=void 0)},[I]);const Q=Y=>{Y.type==="mouseleave"&&b&&b(Y),Y.type==="blur"&&p&&p(Y),clearTimeout(T.current),Y.type==="blur"?T.current=setTimeout(()=>{O(!1),h&&h(Y,"blur")}):(O(!1),h&&h(Y,"mouseLeave"))},H=Y=>{P.onClick&&P.onClick(Y),clearTimeout(T.current),I?(O(!1),h&&h(Y,"toggle")):(O(!0),x&&x(Y,"toggle"))},X=Y=>{Y.type==="mouseenter"&&m&&m(Y),Y.type==="focus"&&g&&g(Y),clearTimeout(T.current),I||(T.current=setTimeout(()=>{O(!0),x&&x(Y,{focus:"focus",mouseenter:"mouseEnter"}[Y.type])}))},J=a.replace(/^[^a-z]+|[^\w:.-]+/gi,""),G=C.Children.toArray(l).filter(Y=>C.isValidElement(Y)),ie=G.map((Y,le)=>{const te=Y.props,{FabProps:{ref:re}={},tooltipPlacement:ae}=te,pe=De(te.FabProps,m5e),we=ae||(G0(u)==="vertical"?"left":"top");return C.cloneElement(Y,{FabProps:A({},pe,{ref:V(le,re)}),delay:30*(I?le:G.length-le),open:I,tooltipPlacement:we,id:`${J}-action-${le}`})});return N.jsxs(b5e,A({className:Ne(R.root,c),ref:n,role:"presentation",onKeyDown:q,onBlur:Q,onFocus:X,onMouseEnter:X,onMouseLeave:Q,ownerState:L},M,{children:[N.jsx(w,A({in:!d,timeout:_,unmountOnExit:!0},S,{children:N.jsx(y5e,A({color:"primary","aria-label":a,"aria-haspopup":"true","aria-expanded":I,"aria-controls":`${J}-actions`},P,{onClick:H,className:Ne(R.fab,P.className),ref:j,ownerState:L,children:C.isValidElement(f)&&vu(f,["SpeedDialIcon"])?C.cloneElement(f,{open:I}):f}))})),N.jsx(x5e,{id:`${J}-actions`,role:"menu","aria-orientation":G0(u),className:Ne(R.actions,!I&&R.actionsClosed),ownerState:L,children:ie})]}))}),_5e=w5e;function $ie(e){return lt("MuiTooltip",e)}const S5e=ut("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),vd=S5e,C5e=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function P5e(e){return Math.round(e*1e5)/1e5}const M5e=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:i}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${Be(i.split("-")[0])}`],arrow:["arrow"]};return Qe(a,$ie,t)},A5e=Ee(Vp,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>A({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${vd.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${vd.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${vd.arrow}`]:A({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${vd.arrow}`]:A({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),E5e=Ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Be(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>A({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Pt(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${P5e(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${vd.popper}[data-popper-placement*="left"] &`]:A({transformOrigin:"right center"},t.isRtl?A({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):A({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${vd.popper}[data-popper-placement*="right"] &`]:A({transformOrigin:"left center"},t.isRtl?A({marginRight:"14px"},t.touch&&{marginRight:"24px"}):A({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${vd.popper}[data-popper-placement*="top"] &`]:A({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${vd.popper}[data-popper-placement*="bottom"] &`]:A({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),T5e=Ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Pt(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let XC=!1,AR=null,W0={x:0,y:0};function KC(e,t){return n=>{t&&t(n),e(n)}}const O5e=C.forwardRef(function(t,n){var r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w;const _=dt({props:t,name:"MuiTooltip"}),{arrow:S=!1,children:P,components:M={},componentsProps:I={},describeChild:O=!1,disableFocusListener:L=!1,disableHoverListener:R=!1,disableInteractive:T=!1,disableTouchListener:E=!1,enterDelay:k=100,enterNextDelay:B=0,enterTouchDelay:$=700,followCursor:j=!1,id:V,leaveDelay:q=0,leaveTouchDelay:Q=1500,onClose:H,onOpen:X,open:J,placement:G="bottom",PopperComponent:ie,PopperProps:Y={},slotProps:le={},slots:te={},title:re,TransitionComponent:ae=Xb,TransitionProps:pe}=_,we=De(_,C5e),fe=Ir(),_e=fe.direction==="rtl",[W,oe]=C.useState(),[Ce,ve]=C.useState(null),me=C.useRef(!1),ye=T||j,Le=C.useRef(),Te=C.useRef(),Me=C.useRef(),$e=C.useRef(),[U,D]=xa({controlled:J,default:!1,name:"Tooltip",state:"open"});let F=U;const K=fr(V),he=C.useRef(),ge=C.useCallback(()=>{he.current!==void 0&&(document.body.style.WebkitUserSelect=he.current,he.current=void 0),clearTimeout($e.current)},[]);C.useEffect(()=>()=>{clearTimeout(Le.current),clearTimeout(Te.current),clearTimeout(Me.current),ge()},[ge]);const Ae=_t=>{clearTimeout(AR),XC=!0,D(!0),X&&!F&&X(_t)},Ke=Dn(_t=>{clearTimeout(AR),AR=setTimeout(()=>{XC=!1},800+q),D(!1),H&&F&&H(_t),clearTimeout(Le.current),Le.current=setTimeout(()=>{me.current=!1},fe.transitions.duration.shortest)}),Je=_t=>{me.current&&_t.type!=="touchstart"||(W&&W.removeAttribute("title"),clearTimeout(Te.current),clearTimeout(Me.current),k||XC&&B?Te.current=setTimeout(()=>{Ae(_t)},XC?B:k):Ae(_t))},ft=_t=>{clearTimeout(Te.current),clearTimeout(Me.current),Me.current=setTimeout(()=>{Ke(_t)},q)},{isFocusVisibleRef:ht,onBlur:it,onFocus:At,ref:Pe}=tg(),[,Re]=C.useState(!1),ze=_t=>{it(_t),ht.current===!1&&(Re(!1),ft(_t))},je=_t=>{W||oe(_t.currentTarget),At(_t),ht.current===!0&&(Re(!0),Je(_t))},Ue=_t=>{me.current=!0;const zt=P.props;zt.onTouchStart&&zt.onTouchStart(_t)},tt=Je,be=ft,He=_t=>{Ue(_t),clearTimeout(Me.current),clearTimeout(Le.current),ge(),he.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",$e.current=setTimeout(()=>{document.body.style.WebkitUserSelect=he.current,Je(_t)},$)},Ve=_t=>{P.props.onTouchEnd&&P.props.onTouchEnd(_t),ge(),clearTimeout(Me.current),Me.current=setTimeout(()=>{Ke(_t)},Q)};C.useEffect(()=>{if(!F)return;function _t(zt){(zt.key==="Escape"||zt.key==="Esc")&&Ke(zt)}return document.addEventListener("keydown",_t),()=>{document.removeEventListener("keydown",_t)}},[Ke,F]);const z=wn(P.ref,Pe,oe,n);!re&&re!==0&&(F=!1);const Z=C.useRef(),ne=_t=>{const zt=P.props;zt.onMouseMove&&zt.onMouseMove(_t),W0={x:_t.clientX,y:_t.clientY},Z.current&&Z.current.update()},de={},ce=typeof re=="string";O?(de.title=!F&&ce&&!R?re:null,de["aria-describedby"]=F?K:null):(de["aria-label"]=ce?re:null,de["aria-labelledby"]=F&&!ce?K:null);const Se=A({},de,we,P.props,{className:Ne(we.className,P.props.className),onTouchStart:Ue,ref:z},j?{onMouseMove:ne}:{}),xe={};E||(Se.onTouchStart=He,Se.onTouchEnd=Ve),R||(Se.onMouseOver=KC(tt,Se.onMouseOver),Se.onMouseLeave=KC(be,Se.onMouseLeave),ye||(xe.onMouseOver=tt,xe.onMouseLeave=be)),L||(Se.onFocus=KC(je,Se.onFocus),Se.onBlur=KC(ze,Se.onBlur),ye||(xe.onFocus=je,xe.onBlur=ze));const Ie=C.useMemo(()=>{var _t;let zt=[{name:"arrow",enabled:!!Ce,options:{element:Ce,padding:4}}];return(_t=Y.popperOptions)!=null&&_t.modifiers&&(zt=zt.concat(Y.popperOptions.modifiers)),A({},Y.popperOptions,{modifiers:zt})},[Ce,Y]),Xe=A({},_,{isRtl:_e,arrow:S,disableInteractive:ye,placement:G,PopperComponentProp:ie,touch:me.current}),Ye=M5e(Xe),rt=(r=(o=te.popper)!=null?o:M.Popper)!=null?r:A5e,Fe=(i=(a=(s=te.transition)!=null?s:M.Transition)!=null?a:ae)!=null?i:Xb,Oe=(l=(c=te.tooltip)!=null?c:M.Tooltip)!=null?l:E5e,Ge=(u=(d=te.arrow)!=null?d:M.Arrow)!=null?u:T5e,et=k1(rt,A({},Y,(f=le.popper)!=null?f:I.popper,{className:Ne(Ye.popper,Y==null?void 0:Y.className,(p=(h=le.popper)!=null?h:I.popper)==null?void 0:p.className)}),Xe),pt=k1(Fe,A({},pe,(g=le.transition)!=null?g:I.transition),Xe),wt=k1(Oe,A({},(v=le.tooltip)!=null?v:I.tooltip,{className:Ne(Ye.tooltip,(m=(b=le.tooltip)!=null?b:I.tooltip)==null?void 0:m.className)}),Xe),gt=k1(Ge,A({},(x=le.arrow)!=null?x:I.arrow,{className:Ne(Ye.arrow,(y=(w=le.arrow)!=null?w:I.arrow)==null?void 0:y.className)}),Xe);return N.jsxs(C.Fragment,{children:[C.cloneElement(P,Se),N.jsx(rt,A({as:ie??Vp,placement:G,anchorEl:j?{getBoundingClientRect:()=>({top:W0.y,left:W0.x,right:W0.x,bottom:W0.y,width:0,height:0})}:W,popperRef:Z,open:W?F:!1,id:K,transition:!0},xe,et,{popperOptions:Ie,children:({TransitionProps:_t})=>N.jsx(Fe,A({timeout:fe.transitions.duration.shorter},_t,pt,{children:N.jsxs(Oe,A({},wt,{children:[re,S?N.jsx(Ge,A({},gt,{ref:ve})):null]}))}))}))]})}),lO=O5e;function Die(e){return lt("MuiSpeedDialAction",e)}const I5e=ut("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Fie=I5e,k5e=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],R5e=e=>{const{open:t,tooltipPlacement:n,classes:r}=e,o={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Be(n)}`,!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Qe(o,Die,r)},L5e=Ee(Vj,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.fab,!n.open&&t.fabClosed]}})(({theme:e,ownerState:t})=>A({margin:8,color:(e.vars||e).palette.text.secondary,backgroundColor:(e.vars||e).palette.background.paper,"&:hover":{backgroundColor:e.vars?e.vars.palette.SpeedDialAction.fabHoverBg:Hb(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!t.open&&{opacity:0,transform:"scale(0)"})),$5e=Ee("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.staticTooltip,!n.open&&t.staticTooltipClosed,t[`tooltipPlacement${Be(n.tooltipPlacement)}`]]}})(({theme:e,ownerState:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Fie.staticTooltipLabel}`]:A({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!t.open&&{opacity:0,transform:"scale(0.5)"},t.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},t.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),D5e=Ee("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,t)=>t.staticTooltipLabel})(({theme:e})=>A({position:"absolute"},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.paper,borderRadius:(e.vars||e).shape.borderRadius,boxShadow:(e.vars||e).shadows[1],color:(e.vars||e).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),F5e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSpeedDialAction"}),{className:o,delay:i=0,FabProps:a={},icon:s,id:l,open:c,TooltipClasses:u,tooltipOpen:d=!1,tooltipPlacement:f="left",tooltipTitle:p}=r,h=De(r,k5e),g=A({},r,{tooltipPlacement:f}),v=R5e(g),[m,b]=C.useState(d),x=()=>{b(!1)},y=()=>{b(!0)},w={transitionDelay:`${i}ms`},_=N.jsx(L5e,A({size:"small",className:Ne(v.fab,o),tabIndex:-1,role:"menuitem",ownerState:g},a,{style:A({},w,a.style),children:s}));return d?N.jsxs($5e,A({id:l,ref:n,className:v.staticTooltip,ownerState:g},h,{children:[N.jsx(D5e,{style:w,id:`${l}-label`,className:v.staticTooltipLabel,ownerState:g,children:p}),C.cloneElement(_,{"aria-labelledby":`${l}-label`})]})):(!c&&m&&b(!1),N.jsx(lO,A({id:l,ref:n,title:p,placement:f,onClose:x,onOpen:y,open:c&&m,classes:u},h,{children:_})))}),N5e=F5e,B5e=an(N.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function Nie(e){return lt("MuiSpeedDialIcon",e)}const j5e=ut("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),Cf=j5e,z5e=["className","icon","open","openIcon"],H5e=e=>{const{classes:t,open:n,openIcon:r}=e;return Qe({root:["root"],icon:["icon",n&&"iconOpen",r&&n&&"iconWithOpenIconOpen"],openIcon:["openIcon",n&&"openIconOpen"]},Nie,t)},V5e=Ee("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Cf.icon}`]:t.icon},{[`& .${Cf.icon}`]:n.open&&t.iconOpen},{[`& .${Cf.icon}`]:n.open&&n.openIcon&&t.iconWithOpenIconOpen},{[`& .${Cf.openIcon}`]:t.openIcon},{[`& .${Cf.openIcon}`]:n.open&&t.openIconOpen},t.root]}})(({theme:e,ownerState:t})=>({height:24,[`& .${Cf.icon}`]:A({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},t.open&&A({transform:"rotate(45deg)"},t.openIcon&&{opacity:0})),[`& .${Cf.openIcon}`]:A({position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},t.open&&{transform:"rotate(0deg)",opacity:1})})),Bie=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSpeedDialIcon"}),{className:o,icon:i,openIcon:a}=r,s=De(r,z5e),l=r,c=H5e(l);function u(d,f){return C.isValidElement(d)?C.cloneElement(d,{className:f}):d}return N.jsxs(V5e,A({className:Ne(c.root,o),ref:n,ownerState:l},s,{children:[a?u(a,c.openIcon):null,i?u(i,c.icon):N.jsx(B5e,{className:c.icon})]}))});Bie.muiName="SpeedDialIcon";const U5e=Bie,G5e=JSe({createStyledComponent:Ee("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>dt({props:e,name:"MuiStack"})}),W5e=G5e,q5e=ut("MuiStack",["root"]),X5e=q5e,jie=C.createContext({});function K5e(){return C.useContext(jie)}const og=jie,zie=C.createContext({});function Y5e(){return C.useContext(zie)}const Yy=zie;function Hie(e){return lt("MuiStep",e)}const Z5e=ut("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]),Q5e=Z5e,J5e=["active","children","className","component","completed","disabled","expanded","index","last"],eNe=e=>{const{classes:t,orientation:n,alternativeLabel:r,completed:o}=e;return Qe({root:["root",n,r&&"alternativeLabel",o&&"completed"]},Hie,t)},tNe=Ee("div",{name:"MuiStep",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>A({},e.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},e.alternativeLabel&&{flex:1,position:"relative"})),nNe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStep"}),{active:o,children:i,className:a,component:s="div",completed:l,disabled:c,expanded:u=!1,index:d,last:f}=r,p=De(r,J5e),{activeStep:h,connector:g,alternativeLabel:v,orientation:m,nonLinear:b}=C.useContext(og);let[x=!1,y=!1,w=!1]=[o,l,c];h===d?x=o!==void 0?o:!0:!b&&h>d?y=l!==void 0?l:!0:!b&&h<d&&(w=c!==void 0?c:!0);const _=C.useMemo(()=>({index:d,last:f,expanded:u,icon:d+1,active:x,completed:y,disabled:w}),[d,f,u,x,y,w]),S=A({},r,{active:x,orientation:m,alternativeLabel:v,completed:y,disabled:w,expanded:u,component:s}),P=eNe(S),M=N.jsxs(tNe,A({as:s,className:Ne(P.root,a),ref:n,ownerState:S},p,{children:[g&&v&&d!==0?g:null,i]}));return N.jsx(Yy.Provider,{value:_,children:g&&!v&&d!==0?N.jsxs(C.Fragment,{children:[g,M]}):M})}),rNe=nNe,oNe=an(N.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),iNe=an(N.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function Vie(e){return lt("MuiStepIcon",e)}const aNe=ut("MuiStepIcon",["root","active","completed","error","text"]),XP=aNe;var KU;const sNe=["active","className","completed","error","icon"],lNe=e=>{const{classes:t,active:n,completed:r,error:o}=e;return Qe({root:["root",n&&"active",r&&"completed",o&&"error"],text:["text"]},Vie,t)},ER=Ee(vA,{name:"MuiStepIcon",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),color:(e.vars||e).palette.text.disabled,[`&.${XP.completed}`]:{color:(e.vars||e).palette.primary.main},[`&.${XP.active}`]:{color:(e.vars||e).palette.primary.main},[`&.${XP.error}`]:{color:(e.vars||e).palette.error.main}})),cNe=Ee("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(e,t)=>t.text})(({theme:e})=>({fill:(e.vars||e).palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily})),uNe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStepIcon"}),{active:o=!1,className:i,completed:a=!1,error:s=!1,icon:l}=r,c=De(r,sNe),u=A({},r,{active:o,completed:a,error:s}),d=lNe(u);if(typeof l=="number"||typeof l=="string"){const f=Ne(i,d.root);return s?N.jsx(ER,A({as:iNe,className:f,ref:n,ownerState:u},c)):a?N.jsx(ER,A({as:oNe,className:f,ref:n,ownerState:u},c)):N.jsxs(ER,A({className:f,ref:n,ownerState:u},c,{children:[KU||(KU=N.jsx("circle",{cx:"12",cy:"12",r:"12"})),N.jsx(cNe,{className:d.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:l})]}))}return l}),Uie=uNe;function Gie(e){return lt("MuiStepLabel",e)}const dNe=ut("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),bd=dNe,fNe=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],pNe=e=>{const{classes:t,orientation:n,active:r,completed:o,error:i,disabled:a,alternativeLabel:s}=e;return Qe({root:["root",n,i&&"error",a&&"disabled",s&&"alternativeLabel"],label:["label",r&&"active",o&&"completed",i&&"error",a&&"disabled",s&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",o&&"completed",i&&"error",a&&"disabled",s&&"alternativeLabel"],labelContainer:["labelContainer",s&&"alternativeLabel"]},Gie,t)},hNe=Ee("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation]]}})(({ownerState:e})=>A({display:"flex",alignItems:"center",[`&.${bd.alternativeLabel}`]:{flexDirection:"column"},[`&.${bd.disabled}`]:{cursor:"default"}},e.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),mNe=Ee("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(e,t)=>t.label})(({theme:e})=>A({},e.typography.body2,{display:"block",transition:e.transitions.create("color",{duration:e.transitions.duration.shortest}),[`&.${bd.active}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${bd.completed}`]:{color:(e.vars||e).palette.text.primary,fontWeight:500},[`&.${bd.alternativeLabel}`]:{marginTop:16},[`&.${bd.error}`]:{color:(e.vars||e).palette.error.main}})),gNe=Ee("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(e,t)=>t.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${bd.alternativeLabel}`]:{paddingRight:0}})),vNe=Ee("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>({width:"100%",color:(e.vars||e).palette.text.secondary,[`&.${bd.alternativeLabel}`]:{textAlign:"center"}})),Wie=C.forwardRef(function(t,n){var r;const o=dt({props:t,name:"MuiStepLabel"}),{children:i,className:a,componentsProps:s={},error:l=!1,icon:c,optional:u,slotProps:d={},StepIconComponent:f,StepIconProps:p}=o,h=De(o,fNe),{alternativeLabel:g,orientation:v}=C.useContext(og),{active:m,disabled:b,completed:x,icon:y}=C.useContext(Yy),w=c||y;let _=f;w&&!_&&(_=Uie);const S=A({},o,{active:m,alternativeLabel:g,completed:x,disabled:b,error:l,orientation:v}),P=pNe(S),M=(r=d.label)!=null?r:s.label;return N.jsxs(hNe,A({className:Ne(P.root,a),ref:n,ownerState:S},h,{children:[w||_?N.jsx(gNe,{className:P.iconContainer,ownerState:S,children:N.jsx(_,A({completed:x,active:m,error:l,icon:w},p))}):null,N.jsxs(vNe,{className:P.labelContainer,ownerState:S,children:[i?N.jsx(mNe,A({ownerState:S},M,{className:Ne(P.label,M==null?void 0:M.className),children:i})):null,u]})]}))});Wie.muiName="StepLabel";const qie=Wie;function Xie(e){return lt("MuiStepButton",e)}const bNe=ut("MuiStepButton",["root","horizontal","vertical","touchRipple"]),n5=bNe,yNe=["children","className","icon","optional"],xNe=e=>{const{classes:t,orientation:n}=e;return Qe({root:["root",n],touchRipple:["touchRipple"]},Xie,t)},wNe=Ee(Ho,{name:"MuiStepButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${n5.touchRipple}`]:t.touchRipple},t.root,t[n.orientation]]}})(({ownerState:e})=>A({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},e.orientation==="vertical"&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},{[`& .${n5.touchRipple}`]:{color:"rgba(0, 0, 0, 0.3)"}})),_Ne=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStepButton"}),{children:o,className:i,icon:a,optional:s}=r,l=De(r,yNe),{disabled:c,active:u}=C.useContext(Yy),{orientation:d}=C.useContext(og),f=A({},r,{orientation:d}),p=xNe(f),h={icon:a,optional:s},g=vu(o,["StepLabel"])?C.cloneElement(o,h):N.jsx(qie,A({},h,{children:o}));return N.jsx(wNe,A({focusRipple:!0,disabled:c,TouchRippleProps:{className:p.touchRipple},className:Ne(p.root,i),ref:n,ownerState:f,"aria-current":u?"step":void 0},l,{children:g}))}),SNe=_Ne;function Kie(e){return lt("MuiStepConnector",e)}const CNe=ut("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]),PNe=CNe,MNe=["className"],ANe=e=>{const{classes:t,orientation:n,alternativeLabel:r,active:o,completed:i,disabled:a}=e,s={root:["root",n,r&&"alternativeLabel",o&&"active",i&&"completed",a&&"disabled"],line:["line",`line${Be(n)}`]};return Qe(s,Kie,t)},ENe=Ee("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel,n.completed&&t.completed]}})(({ownerState:e})=>A({flex:"1 1 auto"},e.orientation==="vertical"&&{marginLeft:12},e.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),TNe=Ee("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.line,t[`line${Be(n.orientation)}`]]}})(({ownerState:e,theme:t})=>{const n=t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600];return A({display:"block",borderColor:t.vars?t.vars.palette.StepConnector.border:n},e.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},e.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),ONe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStepConnector"}),{className:o}=r,i=De(r,MNe),{alternativeLabel:a,orientation:s="horizontal"}=C.useContext(og),{active:l,disabled:c,completed:u}=C.useContext(Yy),d=A({},r,{alternativeLabel:a,orientation:s,active:l,completed:u,disabled:c}),f=ANe(d);return N.jsx(ENe,A({className:Ne(f.root,o),ref:n,ownerState:d},i,{children:N.jsx(TNe,{className:f.line,ownerState:d})}))}),Yie=ONe;function Zie(e){return lt("MuiStepContent",e)}const INe=ut("MuiStepContent",["root","last","transition"]),kNe=INe,RNe=["children","className","TransitionComponent","transitionDuration","TransitionProps"],LNe=e=>{const{classes:t,last:n}=e;return Qe({root:["root",n&&"last"],transition:["transition"]},Zie,t)},$Ne=Ee("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.last&&t.last]}})(({ownerState:e,theme:t})=>A({marginLeft:12,paddingLeft:8+12,paddingRight:8,borderLeft:t.vars?`1px solid ${t.vars.palette.StepContent.border}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]}`},e.last&&{borderLeft:"none"})),DNe=Ee(KT,{name:"MuiStepContent",slot:"Transition",overridesResolver:(e,t)=>t.transition})({}),FNe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStepContent"}),{children:o,className:i,TransitionComponent:a=KT,transitionDuration:s="auto",TransitionProps:l}=r,c=De(r,RNe);C.useContext(og);const{active:u,last:d,expanded:f}=C.useContext(Yy),p=A({},r,{last:d}),h=LNe(p);let g=s;return s==="auto"&&!a.muiSupportAuto&&(g=void 0),N.jsx($Ne,A({className:Ne(h.root,i),ref:n,ownerState:p},c,{children:N.jsx(DNe,A({as:a,in:u||f,className:h.transition,ownerState:p,timeout:g,unmountOnExit:!0},l,{children:o}))}))}),NNe=FNe;function Qie(e){return lt("MuiStepper",e)}const BNe=ut("MuiStepper",["root","horizontal","vertical","alternativeLabel"]),jNe=BNe,zNe=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],HNe=e=>{const{orientation:t,alternativeLabel:n,classes:r}=e;return Qe({root:["root",t,n&&"alternativeLabel"]},Qie,r)},VNe=Ee("div",{name:"MuiStepper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.alternativeLabel&&t.alternativeLabel]}})(({ownerState:e})=>A({display:"flex"},e.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},e.orientation==="vertical"&&{flexDirection:"column"},e.alternativeLabel&&{alignItems:"flex-start"})),UNe=N.jsx(Yie,{}),GNe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiStepper"}),{activeStep:o=0,alternativeLabel:i=!1,children:a,className:s,component:l="div",connector:c=UNe,nonLinear:u=!1,orientation:d="horizontal"}=r,f=De(r,zNe),p=A({},r,{alternativeLabel:i,orientation:d,component:l}),h=HNe(p),g=C.Children.toArray(a).filter(Boolean),v=g.map((b,x)=>C.cloneElement(b,A({index:x,last:x+1===g.length},b.props))),m=C.useMemo(()=>({activeStep:o,alternativeLabel:i,connector:c,nonLinear:u,orientation:d}),[o,i,c,u,d]);return N.jsx(og.Provider,{value:m,children:N.jsx(VNe,A({as:l,ownerState:p,className:Ne(h.root,s),ref:n},f,{children:v}))})}),WNe=GNe,qNe=["anchor","classes","className","width","style"],XNe=Ee("div")(({theme:e,ownerState:t})=>A({position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},t.anchor==="left"&&{right:"auto"},t.anchor==="right"&&{left:"auto",right:0},t.anchor==="top"&&{bottom:"auto",right:0},t.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),KNe=C.forwardRef(function(t,n){const{anchor:r,classes:o={},className:i,width:a,style:s}=t,l=De(t,qNe),c=t;return N.jsx(XNe,A({className:Ne("PrivateSwipeArea-root",o.root,o[`anchor${Be(r)}`],i),ref:n,style:A({[Lh(r)?"width":"height"]:a},s),ownerState:c},l))}),YNe=KNe,ZNe=["BackdropProps"],QNe=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],YC=3,TR=20;let Hu=null;function OR(e,t,n){return e==="right"?n.body.offsetWidth-t[0].pageX:t[0].pageX}function IR(e,t,n){return e==="bottom"?n.innerHeight-t[0].clientY:t[0].clientY}function q0(e,t){return e?t.clientWidth:t.clientHeight}function YU(e,t,n,r){return Math.min(Math.max(n?t-e:r+t-e,0),r)}function JNe(e,t){const n=[];for(;e&&e!==t.parentElement;){const r=ei(t).getComputedStyle(e);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&n.push(e),e=e.parentElement}return n}function eBe({domTreeShapes:e,start:t,current:n,anchor:r}){const o={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(i=>{let a=n>=t;(r==="top"||r==="left")&&(a=!a);const s=r==="left"||r==="right"?"x":"y",l=Math.round(i[o.scrollPosition[s]]),c=l>0,u=l+i[o.clientLength[s]]<i[o.scrollLength[s]];return!!(a&&u||!a&&c)})}const tBe=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),nBe=C.forwardRef(function(t,n){const r=$_({name:"MuiSwipeableDrawer",props:t}),o=Ir(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",disableBackdropTransition:s=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=tBe,hideBackdrop:u,hysteresis:d=.52,allowSwipeInChildren:f=!1,minFlingVelocity:p=450,ModalProps:{BackdropProps:h}={},onClose:g,onOpen:v,open:m=!1,PaperProps:b={},SwipeAreaProps:x,swipeAreaWidth:y=20,transitionDuration:w=i,variant:_="temporary"}=r,S=De(r.ModalProps,ZNe),P=De(r,QNe),[M,I]=C.useState(!1),O=C.useRef({isSwiping:null}),L=C.useRef(),R=C.useRef(),T=C.useRef(),E=wn(b.ref,T),k=C.useRef(!1),B=C.useRef();ar(()=>{B.current=null},[m]);const $=C.useCallback((H,X={})=>{const{mode:J=null,changeTransition:G=!0}=X,ie=D1(o,a),Y=["right","bottom"].indexOf(ie)!==-1?1:-1,le=Lh(a),te=le?`translate(${Y*H}px, 0)`:`translate(0, ${Y*H}px)`,re=T.current.style;re.webkitTransform=te,re.transform=te;let ae="";if(J&&(ae=o.transitions.create("all",_c({easing:void 0,style:void 0,timeout:w},{mode:J}))),G&&(re.webkitTransition=ae,re.transition=ae),!s&&!u){const pe=R.current.style;pe.opacity=1-H/q0(le,T.current),G&&(pe.webkitTransition=ae,pe.transition=ae)}},[a,s,u,o,w]),j=Dn(H=>{if(!k.current)return;if(Hu=null,k.current=!1,Td.flushSync(()=>{I(!1)}),!O.current.isSwiping){O.current.isSwiping=null;return}O.current.isSwiping=null;const X=D1(o,a),J=Lh(a);let G;J?G=OR(X,H.changedTouches,Kn(H.currentTarget)):G=IR(X,H.changedTouches,ei(H.currentTarget));const ie=J?O.current.startX:O.current.startY,Y=q0(J,T.current),le=YU(G,ie,m,Y),te=le/Y;if(Math.abs(O.current.velocity)>p&&(B.current=Math.abs((Y-le)/O.current.velocity)*1e3),m){O.current.velocity>p||te>d?g():$(0,{mode:"exit"});return}O.current.velocity<-p||1-te>d?v():$(q0(J,T.current),{mode:"enter"})}),V=(H=!1)=>{if(!M){(H||!(l&&f))&&Td.flushSync(()=>{I(!0)});const X=Lh(a);!m&&T.current&&$(q0(X,T.current)+(l?15:-TR),{changeTransition:!1}),O.current.velocity=0,O.current.lastTime=null,O.current.lastTranslate=null,O.current.paperHit=!1,k.current=!0}},q=Dn(H=>{if(!T.current||!k.current||Hu!==null&&Hu!==O.current)return;V(!0);const X=D1(o,a),J=Lh(a),G=OR(X,H.touches,Kn(H.currentTarget)),ie=IR(X,H.touches,ei(H.currentTarget));if(m&&T.current.contains(H.target)&&Hu===null){const ae=JNe(H.target,T.current);if(eBe({domTreeShapes:ae,start:J?O.current.startX:O.current.startY,current:J?G:ie,anchor:a})){Hu=!0;return}Hu=O.current}if(O.current.isSwiping==null){const ae=Math.abs(G-O.current.startX),pe=Math.abs(ie-O.current.startY),we=J?ae>pe&&ae>YC:pe>ae&&pe>YC;if(we&&H.cancelable&&H.preventDefault(),we===!0||(J?pe>YC:ae>YC)){if(O.current.isSwiping=we,!we){j(H);return}O.current.startX=G,O.current.startY=ie,!l&&!m&&(J?O.current.startX-=TR:O.current.startY-=TR)}}if(!O.current.isSwiping)return;const Y=q0(J,T.current);let le=J?O.current.startX:O.current.startY;m&&!O.current.paperHit&&(le=Math.min(le,Y));const te=YU(J?G:ie,le,m,Y);if(m)if(O.current.paperHit)te===0&&(O.current.startX=G,O.current.startY=ie);else if(J?G<Y:ie<Y)O.current.paperHit=!0,O.current.startX=G,O.current.startY=ie;else return;O.current.lastTranslate===null&&(O.current.lastTranslate=te,O.current.lastTime=performance.now()+1);const re=(te-O.current.lastTranslate)/(performance.now()-O.current.lastTime)*1e3;O.current.velocity=O.current.velocity*.4+re*.6,O.current.lastTranslate=te,O.current.lastTime=performance.now(),H.cancelable&&H.preventDefault(),$(te)}),Q=Dn(H=>{if(H.defaultPrevented||H.defaultMuiPrevented||m&&(u||!R.current.contains(H.target))&&!T.current.contains(H.target))return;const X=D1(o,a),J=Lh(a),G=OR(X,H.touches,Kn(H.currentTarget)),ie=IR(X,H.touches,ei(H.currentTarget));if(!m){var Y;if(c||!(H.target===L.current||(Y=T.current)!=null&&Y.contains(H.target)&&(typeof f=="function"?f(H,L.current,T.current):f)))return;if(J){if(G>y)return}else if(ie>y)return}H.defaultMuiPrevented=!0,Hu=null,O.current.startX=G,O.current.startY=ie,V()});return C.useEffect(()=>{if(_==="temporary"){const H=Kn(T.current);return H.addEventListener("touchstart",Q),H.addEventListener("touchmove",q,{passive:!m}),H.addEventListener("touchend",j),()=>{H.removeEventListener("touchstart",Q),H.removeEventListener("touchmove",q,{passive:!m}),H.removeEventListener("touchend",j)}}},[_,m,Q,q,j]),C.useEffect(()=>()=>{Hu===O.current&&(Hu=null)},[]),C.useEffect(()=>{m||I(!1)},[m]),N.jsxs(C.Fragment,{children:[N.jsx(uoe,A({open:_==="temporary"&&M?!0:m,variant:_,ModalProps:A({BackdropProps:A({},h,{ref:R})},_==="temporary"&&{keepMounted:!0},S),hideBackdrop:u,PaperProps:A({},b,{style:A({pointerEvents:_==="temporary"&&!m&&!f?"none":""},b.style),ref:E}),anchor:a,transitionDuration:B.current||w,onClose:g,ref:n},P)),!c&&_==="temporary"&&N.jsx(Gne,{children:N.jsx(YNe,A({anchor:a,ref:L,width:y},x))})]})}),rBe=nBe;function Jie(e){return lt("MuiSwitch",e)}const oBe=ut("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Pi=oBe,iBe=["className","color","edge","size","sx"],aBe=e=>{const{classes:t,edge:n,size:r,color:o,checked:i,disabled:a}=e,s={root:["root",n&&`edge${Be(n)}`,`size${Be(r)}`],switchBase:["switchBase",`color${Be(o)}`,i&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Qe(s,Jie,t);return A({},t,l)},sBe=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${Be(n.edge)}`],t[`size${Be(n.size)}`]]}})(({ownerState:e})=>A({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${Pi.thumb}`]:{width:16,height:16},[`& .${Pi.switchBase}`]:{padding:4,[`&.${Pi.checked}`]:{transform:"translateX(16px)"}}})),lBe=Ee(zj,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Pi.input}`]:t.input},n.color!=="default"&&t[`color${Be(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Pi.checked}`]:{transform:"translateX(20px)"},[`&.${Pi.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Pi.checked} + .${Pi.track}`]:{opacity:.5},[`&.${Pi.disabled} + .${Pi.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Pi.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>A({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Pi.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Pi.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?ls(e.palette[t.color].main,.62):ss(e.palette[t.color].main,.55)}`}},[`&.${Pi.checked} + .${Pi.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),cBe=Ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),uBe=Ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),dBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiSwitch"}),{className:o,color:i="primary",edge:a=!1,size:s="medium",sx:l}=r,c=De(r,iBe),u=A({},r,{color:i,edge:a,size:s}),d=aBe(u),f=N.jsx(uBe,{className:d.thumb,ownerState:u});return N.jsxs(sBe,{className:Ne(d.root,o),sx:l,ownerState:u,children:[N.jsx(lBe,A({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},c,{classes:A({},d,{root:d.switchBase})})),N.jsx(cBe,{className:d.track,ownerState:u})]})}),eae=dBe;function tae(e){return lt("MuiTab",e)}const fBe=ut("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Pf=fBe,pBe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],hBe=e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:i,label:a,selected:s,disabled:l}=e,c={root:["root",i&&a&&"labelIcon",`textColor${Be(n)}`,r&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Qe(c,tae,t)},mBe=Ee(Ho,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Be(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>A({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Pf.iconWrapper}`]:A({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Pf.selected}`]:{opacity:1},[`&.${Pf.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Pf.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Pf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${Pf.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Pf.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),gBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:h,selected:g,selectionFollowsFocus:v,textColor:m="inherit",value:b,wrapped:x=!1}=r,y=De(r,pBe),w=A({},r,{disabled:i,disableFocusRipple:a,selected:g,icon:!!l,iconPosition:c,label:!!d,fullWidth:s,textColor:m,wrapped:x}),_=hBe(w),S=l&&d&&C.isValidElement(l)?C.cloneElement(l,{className:Ne(_.iconWrapper,l.props.className)}):l,P=I=>{!g&&f&&f(I,b),p&&p(I)},M=I=>{v&&!g&&f&&f(I,b),h&&h(I)};return N.jsxs(mBe,A({focusRipple:!a,className:Ne(_.root,o),ref:n,role:"tab","aria-selected":g,disabled:i,onClick:P,onFocus:M,ownerState:w,tabIndex:g?0:-1},y,{children:[c==="top"||c==="start"?N.jsxs(C.Fragment,{children:[S,d]}):N.jsxs(C.Fragment,{children:[d,S]}),u]}))}),vBe=gBe,bBe=C.createContext(),nae=bBe;function rae(e){return lt("MuiTable",e)}const yBe=ut("MuiTable",["root","stickyHeader"]),xBe=yBe,wBe=["className","component","padding","size","stickyHeader"],_Be=e=>{const{classes:t,stickyHeader:n}=e;return Qe({root:["root",n&&"stickyHeader"]},rae,t)},SBe=Ee("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>A({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":A({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),ZU="table",CBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTable"}),{className:o,component:i=ZU,padding:a="normal",size:s="medium",stickyHeader:l=!1}=r,c=De(r,wBe),u=A({},r,{component:i,padding:a,size:s,stickyHeader:l}),d=_Be(u),f=C.useMemo(()=>({padding:a,size:s,stickyHeader:l}),[a,s,l]);return N.jsx(nae.Provider,{value:f,children:N.jsx(SBe,A({as:i,role:i===ZU?null:"table",ref:n,className:Ne(d.root,o),ownerState:u},c))})}),PBe=CBe,MBe=C.createContext(),V_=MBe;function oae(e){return lt("MuiTableBody",e)}const ABe=ut("MuiTableBody",["root"]),EBe=ABe,TBe=["className","component"],OBe=e=>{const{classes:t}=e;return Qe({root:["root"]},oae,t)},IBe=Ee("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),kBe={variant:"body"},QU="tbody",RBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableBody"}),{className:o,component:i=QU}=r,a=De(r,TBe),s=A({},r,{component:i}),l=OBe(s);return N.jsx(V_.Provider,{value:kBe,children:N.jsx(IBe,A({className:Ne(l.root,o),as:i,ref:n,role:i===QU?null:"rowgroup",ownerState:s},a))})}),LBe=RBe;function iae(e){return lt("MuiTableCell",e)}const $Be=ut("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),aae=$Be,DBe=["align","className","component","padding","scope","size","sortDirection","variant"],FBe=e=>{const{classes:t,variant:n,align:r,padding:o,size:i,stickyHeader:a}=e,s={root:["root",n,a&&"stickyHeader",r!=="inherit"&&`align${Be(r)}`,o!=="normal"&&`padding${Be(o)}`,`size${Be(i)}`]};return Qe(s,iae,t)},NBe=Ee("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Be(n.size)}`],n.padding!=="normal"&&t[`padding${Be(n.padding)}`],n.align!=="inherit"&&t[`align${Be(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>A({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ls(Pt(e.palette.divider,1),.88):ss(Pt(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${aae.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),BBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:a,padding:s,scope:l,size:c,sortDirection:u,variant:d}=r,f=De(r,DBe),p=C.useContext(nae),h=C.useContext(V_),g=h&&h.variant==="head";let v;a?v=a:v=g?"th":"td";let m=l;v==="td"?m=void 0:!m&&g&&(m="col");const b=d||h&&h.variant,x=A({},r,{align:o,component:v,padding:s||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:b==="head"&&p&&p.stickyHeader,variant:b}),y=FBe(x);let w=null;return u&&(w=u==="asc"?"ascending":"descending"),N.jsx(NBe,A({as:v,ref:n,className:Ne(y.root,i),"aria-sort":w,scope:m,ownerState:x},f))}),PA=BBe;function sae(e){return lt("MuiTableContainer",e)}const jBe=ut("MuiTableContainer",["root"]),zBe=jBe,HBe=["className","component"],VBe=e=>{const{classes:t}=e;return Qe({root:["root"]},sae,t)},UBe=Ee("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),GBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableContainer"}),{className:o,component:i="div"}=r,a=De(r,HBe),s=A({},r,{component:i}),l=VBe(s);return N.jsx(UBe,A({ref:n,as:i,className:Ne(l.root,o),ownerState:s},a))}),WBe=GBe;function lae(e){return lt("MuiTableFooter",e)}const qBe=ut("MuiTableFooter",["root"]),XBe=qBe,KBe=["className","component"],YBe=e=>{const{classes:t}=e;return Qe({root:["root"]},lae,t)},ZBe=Ee("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),QBe={variant:"footer"},JU="tfoot",JBe=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableFooter"}),{className:o,component:i=JU}=r,a=De(r,KBe),s=A({},r,{component:i}),l=YBe(s);return N.jsx(V_.Provider,{value:QBe,children:N.jsx(ZBe,A({as:i,className:Ne(l.root,o),ref:n,role:i===JU?null:"rowgroup",ownerState:s},a))})}),e4e=JBe;function cae(e){return lt("MuiTableHead",e)}const t4e=ut("MuiTableHead",["root"]),n4e=t4e,r4e=["className","component"],o4e=e=>{const{classes:t}=e;return Qe({root:["root"]},cae,t)},i4e=Ee("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),a4e={variant:"head"},eG="thead",s4e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableHead"}),{className:o,component:i=eG}=r,a=De(r,r4e),s=A({},r,{component:i}),l=o4e(s);return N.jsx(V_.Provider,{value:a4e,children:N.jsx(i4e,A({as:i,className:Ne(l.root,o),ref:n,role:i===eG?null:"rowgroup",ownerState:s},a))})}),l4e=s4e;function uae(e){return lt("MuiToolbar",e)}const c4e=ut("MuiToolbar",["root","gutters","regular","dense"]),u4e=c4e,d4e=["className","component","disableGutters","variant"],f4e=e=>{const{classes:t,disableGutters:n,variant:r}=e;return Qe({root:["root",!n&&"gutters",r]},uae,t)},p4e=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>A({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),h4e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiToolbar"}),{className:o,component:i="div",disableGutters:a=!1,variant:s="regular"}=r,l=De(r,d4e),c=A({},r,{component:i,disableGutters:a,variant:s}),u=f4e(c);return N.jsx(p4e,A({as:i,className:Ne(u.root,o),ref:n,ownerState:c},l))}),dae=h4e,r5=an(N.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),o5=an(N.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var tG,nG,rG,oG,iG,aG,sG,lG;const m4e=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],g4e=C.forwardRef(function(t,n){const{backIconButtonProps:r,count:o,getItemAriaLabel:i,nextIconButtonProps:a,onPageChange:s,page:l,rowsPerPage:c,showFirstButton:u,showLastButton:d}=t,f=De(t,m4e),p=Ir(),h=b=>{s(b,0)},g=b=>{s(b,l-1)},v=b=>{s(b,l+1)},m=b=>{s(b,Math.max(0,Math.ceil(o/c)-1))};return N.jsxs("div",A({ref:n},f,{children:[u&&N.jsx(io,{onClick:h,disabled:l===0,"aria-label":i("first",l),title:i("first",l),children:p.direction==="rtl"?tG||(tG=N.jsx(SA,{})):nG||(nG=N.jsx(_A,{}))}),N.jsx(io,A({onClick:g,disabled:l===0,color:"inherit","aria-label":i("previous",l),title:i("previous",l)},r,{children:p.direction==="rtl"?rG||(rG=N.jsx(o5,{})):oG||(oG=N.jsx(r5,{}))})),N.jsx(io,A({onClick:v,disabled:o!==-1?l>=Math.ceil(o/c)-1:!1,color:"inherit","aria-label":i("next",l),title:i("next",l)},a,{children:p.direction==="rtl"?iG||(iG=N.jsx(r5,{})):aG||(aG=N.jsx(o5,{}))})),d&&N.jsx(io,{onClick:m,disabled:l>=Math.ceil(o/c)-1,"aria-label":i("last",l),title:i("last",l),children:p.direction==="rtl"?sG||(sG=N.jsx(_A,{})):lG||(lG=N.jsx(SA,{}))})]}))}),v4e=g4e;function fae(e){return lt("MuiTablePagination",e)}const b4e=ut("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),lp=b4e;var cG;const y4e=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],x4e=Ee(PA,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),w4e=Ee(dae,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>A({[`& .${lp.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${lp.actions}`]:{flexShrink:0,marginLeft:20}})),_4e=Ee("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),S4e=Ee("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>A({},e.typography.body2,{flexShrink:0})),C4e=Ee(Ky,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>A({[`& .${lp.selectIcon}`]:t.selectIcon,[`& .${lp.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${lp.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),P4e=Ee(dr,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),M4e=Ee("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>A({},e.typography.body2,{flexShrink:0}));function A4e({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function E4e(e){return`Go to ${e} page`}const T4e=e=>{const{classes:t}=e;return Qe({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},fae,t)},O4e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTablePagination"}),{ActionsComponent:o=v4e,backIconButtonProps:i,className:a,colSpan:s,component:l=PA,count:c,getItemAriaLabel:u=E4e,labelDisplayedRows:d=A4e,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:p,onPageChange:h,onRowsPerPageChange:g,page:v,rowsPerPage:m,rowsPerPageOptions:b=[10,25,50,100],SelectProps:x={},showFirstButton:y=!1,showLastButton:w=!1}=r,_=De(r,y4e),S=r,P=T4e(S),M=x.native?"option":P4e;let I;(l===PA||l==="td")&&(I=s||1e3);const O=fr(x.id),L=fr(x.labelId),R=()=>c===-1?(v+1)*m:m===-1?c:Math.min(c,(v+1)*m);return N.jsx(x4e,A({colSpan:I,ref:n,as:l,ownerState:S,className:Ne(P.root,a)},_,{children:N.jsxs(w4e,{className:P.toolbar,children:[N.jsx(_4e,{className:P.spacer}),b.length>1&&N.jsx(S4e,{className:P.selectLabel,id:L,children:f}),b.length>1&&N.jsx(C4e,A({variant:"standard"},!x.variant&&{input:cG||(cG=N.jsx(rg,{}))},{value:m,onChange:g,id:O,labelId:L},x,{classes:A({},x.classes,{root:Ne(P.input,P.selectRoot,(x.classes||{}).root),select:Ne(P.select,(x.classes||{}).select),icon:Ne(P.selectIcon,(x.classes||{}).icon)}),children:b.map(T=>C.createElement(M,A({},!dc(M)&&{ownerState:S},{className:P.menuItem,key:T.label?T.label:T,value:T.value?T.value:T}),T.label?T.label:T))})),N.jsx(M4e,{className:P.displayedRows,children:d({from:c===0?0:v*m+1,to:R(),count:c===-1?-1:c,page:v})}),N.jsx(o,{className:P.actions,backIconButtonProps:i,count:c,nextIconButtonProps:p,onPageChange:h,page:v,rowsPerPage:m,showFirstButton:y,showLastButton:w,getItemAriaLabel:u})]})}))}),pae=O4e;function hae(e){return lt("MuiTableRow",e)}const I4e=ut("MuiTableRow",["root","selected","hover","head","footer"]),i5=I4e,k4e=["className","component","hover","selected"],R4e=e=>{const{classes:t,selected:n,hover:r,head:o,footer:i}=e;return Qe({root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]},hae,t)},L4e=Ee("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${i5.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${i5.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),uG="tr",$4e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableRow"}),{className:o,component:i=uG,hover:a=!1,selected:s=!1}=r,l=De(r,k4e),c=C.useContext(V_),u=A({},r,{component:i,hover:a,selected:s,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=R4e(u);return N.jsx(L4e,A({as:i,ref:n,className:Ne(d.root,o),role:i===uG?null:"row",ownerState:u},l))}),D4e=$4e,F4e=an(N.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function mae(e){return lt("MuiTableSortLabel",e)}const N4e=ut("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),KP=N4e,B4e=["active","children","className","direction","hideSortIcon","IconComponent"],j4e=e=>{const{classes:t,direction:n,active:r}=e,o={root:["root",r&&"active"],icon:["icon",`iconDirection${Be(n)}`]};return Qe(o,mae,t)},z4e=Ee(Ho,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.active&&t.active]}})(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${KP.icon}`]:{opacity:.5}},[`&.${KP.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${KP.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}})),H4e=Ee("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,t[`iconDirection${Be(n.direction)}`]]}})(({theme:e,ownerState:t})=>A({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},t.direction==="desc"&&{transform:"rotate(0deg)"},t.direction==="asc"&&{transform:"rotate(180deg)"})),V4e=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTableSortLabel"}),{active:o=!1,children:i,className:a,direction:s="asc",hideSortIcon:l=!1,IconComponent:c=F4e}=r,u=De(r,B4e),d=A({},r,{active:o,direction:s,hideSortIcon:l,IconComponent:c}),f=j4e(d);return N.jsxs(z4e,A({className:Ne(f.root,a),component:"span",disableRipple:!0,ownerState:d,ref:n},u,{children:[i,l&&!o?null:N.jsx(H4e,{as:c,className:Ne(f.icon),ownerState:d})]}))}),U4e=V4e;function G4e(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function W4e(e,t,n,r={},o=()=>{}){const{ease:i=G4e,duration:a=300}=r;let s=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=f=>{if(c){o(new Error("Animation cancelled"));return}s===null&&(s=f);const p=Math.min(1,(f-s)/a);if(t[e]=i(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(d)};return l===n?(o(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const q4e=["onChange"],X4e={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function K4e(e){const{onChange:t}=e,n=De(e,q4e),r=C.useRef(),o=C.useRef(null),i=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return ar(()=>{const a=bc(()=>{const l=r.current;i(),l!==r.current&&t(r.current)}),s=ei(o.current);return s.addEventListener("resize",a),()=>{a.clear(),s.removeEventListener("resize",a)}},[t]),C.useEffect(()=>{i(),t(r.current)},[t]),N.jsx("div",A({style:X4e,ref:o},n))}function gae(e){return lt("MuiTabScrollButton",e)}const Y4e=ut("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),vae=Y4e,Z4e=["className","slots","slotProps","direction","orientation","disabled"],Q4e=e=>{const{classes:t,orientation:n,disabled:r}=e;return Qe({root:["root",n,r&&"disabled"]},gae,t)},J4e=Ee(Ho,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>A({width:40,flexShrink:0,opacity:.8,[`&.${vae.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),eje=C.forwardRef(function(t,n){var r,o;const i=dt({props:t,name:"MuiTabScrollButton"}),{className:a,slots:s={},slotProps:l={},direction:c}=i,u=De(i,Z4e),f=Ir().direction==="rtl",p=A({isRtl:f},i),h=Q4e(p),g=(r=s.StartScrollButtonIcon)!=null?r:r5,v=(o=s.EndScrollButtonIcon)!=null?o:o5,m=Yo({elementType:g,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p}),b=Yo({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:p});return N.jsx(J4e,A({component:"div",className:Ne(h.root,a),ref:n,role:null,ownerState:p,tabIndex:null},u,{children:c==="left"?N.jsx(g,A({},m)):N.jsx(v,A({},b))}))}),bae=eje;function yae(e){return lt("MuiTabs",e)}const tje=ut("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),YP=tje,nje=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],dG=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,fG=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,ZC=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=n(e,o);else{o.focus();return}}},rje=e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:a,scrollButtonsHideMobile:s,classes:l}=e;return Qe({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},yae,l)},oje=Ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${YP.scrollButtons}`]:t.scrollButtons},{[`& .${YP.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>A({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${YP.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),ije=Ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>A({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),aje=Ee("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>A({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),sje=Ee("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>A({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),lje=Ee(K4e,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),pG={},cje=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTabs"}),o=Ir(),i=o.direction==="rtl",{"aria-label":a,"aria-labelledby":s,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:h="primary",onChange:g,orientation:v="horizontal",ScrollButtonComponent:m=bae,scrollButtons:b="auto",selectionFollowsFocus:x,slots:y={},slotProps:w={},TabIndicatorProps:_={},TabScrollButtonProps:S={},textColor:P="primary",value:M,variant:I="standard",visibleScrollbar:O=!1}=r,L=De(r,nje),R=I==="scrollable",T=v==="vertical",E=T?"scrollTop":"scrollLeft",k=T?"top":"left",B=T?"bottom":"right",$=T?"clientHeight":"clientWidth",j=T?"height":"width",V=A({},r,{component:f,allowScrollButtonsMobile:p,indicatorColor:h,orientation:v,vertical:T,scrollButtons:b,textColor:P,variant:I,visibleScrollbar:O,fixed:!R,hideScrollbar:R&&!O,scrollableX:R&&!T,scrollableY:R&&T,centered:c&&!R,scrollButtonsHideMobile:!p}),q=rje(V),Q=Yo({elementType:y.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:V}),H=Yo({elementType:y.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:V}),[X,J]=C.useState(!1),[G,ie]=C.useState(pG),[Y,le]=C.useState({start:!1,end:!1}),[te,re]=C.useState({overflow:"hidden",scrollbarWidth:0}),ae=new Map,pe=C.useRef(null),we=C.useRef(null),fe=()=>{const ge=pe.current;let Ae;if(ge){const Je=ge.getBoundingClientRect();Ae={clientWidth:ge.clientWidth,scrollLeft:ge.scrollLeft,scrollTop:ge.scrollTop,scrollLeftNormalized:fV(ge,o.direction),scrollWidth:ge.scrollWidth,top:Je.top,bottom:Je.bottom,left:Je.left,right:Je.right}}let Ke;if(ge&&M!==!1){const Je=we.current.children;if(Je.length>0){const ft=Je[ae.get(M)];Ke=ft?ft.getBoundingClientRect():null}}return{tabsMeta:Ae,tabMeta:Ke}},_e=Dn(()=>{const{tabsMeta:ge,tabMeta:Ae}=fe();let Ke=0,Je;if(T)Je="top",Ae&&ge&&(Ke=Ae.top-ge.top+ge.scrollTop);else if(Je=i?"right":"left",Ae&&ge){const ht=i?ge.scrollLeftNormalized+ge.clientWidth-ge.scrollWidth:ge.scrollLeft;Ke=(i?-1:1)*(Ae[Je]-ge[Je]+ht)}const ft={[Je]:Ke,[j]:Ae?Ae[j]:0};if(isNaN(G[Je])||isNaN(G[j]))ie(ft);else{const ht=Math.abs(G[Je]-ft[Je]),it=Math.abs(G[j]-ft[j]);(ht>=1||it>=1)&&ie(ft)}}),W=(ge,{animation:Ae=!0}={})=>{Ae?W4e(E,pe.current,ge,{duration:o.transitions.duration.standard}):pe.current[E]=ge},oe=ge=>{let Ae=pe.current[E];T?Ae+=ge:(Ae+=ge*(i?-1:1),Ae*=i&&Nte()==="reverse"?-1:1),W(Ae)},Ce=()=>{const ge=pe.current[$];let Ae=0;const Ke=Array.from(we.current.children);for(let Je=0;Je<Ke.length;Je+=1){const ft=Ke[Je];if(Ae+ft[$]>ge){Je===0&&(Ae=ge);break}Ae+=ft[$]}return Ae},ve=()=>{oe(-1*Ce())},me=()=>{oe(Ce())},ye=C.useCallback(ge=>{re({overflow:null,scrollbarWidth:ge})},[]),Le=()=>{const ge={};ge.scrollbarSizeListener=R?N.jsx(lje,{onChange:ye,className:Ne(q.scrollableX,q.hideScrollbar)}):null;const Ae=Y.start||Y.end,Ke=R&&(b==="auto"&&Ae||b===!0);return ge.scrollButtonStart=Ke?N.jsx(m,A({slots:{StartScrollButtonIcon:y.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Q},orientation:v,direction:i?"right":"left",onClick:ve,disabled:!Y.start},S,{className:Ne(q.scrollButtons,S.className)})):null,ge.scrollButtonEnd=Ke?N.jsx(m,A({slots:{EndScrollButtonIcon:y.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:H},orientation:v,direction:i?"left":"right",onClick:me,disabled:!Y.end},S,{className:Ne(q.scrollButtons,S.className)})):null,ge},Te=Dn(ge=>{const{tabsMeta:Ae,tabMeta:Ke}=fe();if(!(!Ke||!Ae)){if(Ke[k]<Ae[k]){const Je=Ae[E]+(Ke[k]-Ae[k]);W(Je,{animation:ge})}else if(Ke[B]>Ae[B]){const Je=Ae[E]+(Ke[B]-Ae[B]);W(Je,{animation:ge})}}}),Me=Dn(()=>{if(R&&b!==!1){const{scrollTop:ge,scrollHeight:Ae,clientHeight:Ke,scrollWidth:Je,clientWidth:ft}=pe.current;let ht,it;if(T)ht=ge>1,it=ge<Ae-Ke-1;else{const At=fV(pe.current,o.direction);ht=i?At<Je-ft-1:At>1,it=i?At>1:At<Je-ft-1}(ht!==Y.start||it!==Y.end)&&le({start:ht,end:it})}});C.useEffect(()=>{const ge=bc(()=>{pe.current&&(_e(),Me())}),Ae=ei(pe.current);Ae.addEventListener("resize",ge);let Ke;return typeof ResizeObserver<"u"&&(Ke=new ResizeObserver(ge),Array.from(we.current.children).forEach(Je=>{Ke.observe(Je)})),()=>{ge.clear(),Ae.removeEventListener("resize",ge),Ke&&Ke.disconnect()}},[_e,Me]);const $e=C.useMemo(()=>bc(()=>{Me()}),[Me]);C.useEffect(()=>()=>{$e.clear()},[$e]),C.useEffect(()=>{J(!0)},[]),C.useEffect(()=>{_e(),Me()}),C.useEffect(()=>{Te(pG!==G)},[Te,G]),C.useImperativeHandle(l,()=>({updateIndicator:_e,updateScrollButtons:Me}),[_e,Me]);const U=N.jsx(sje,A({},_,{className:Ne(q.indicator,_.className),ownerState:V,style:A({},G,_.style)}));let D=0;const F=C.Children.map(u,ge=>{if(!C.isValidElement(ge))return null;const Ae=ge.props.value===void 0?D:ge.props.value;ae.set(Ae,D);const Ke=Ae===M;return D+=1,C.cloneElement(ge,A({fullWidth:I==="fullWidth",indicator:Ke&&!X&&U,selected:Ke,selectionFollowsFocus:x,onChange:g,textColor:P,value:Ae},D===1&&M===!1&&!ge.props.tabIndex?{tabIndex:0}:{}))}),K=ge=>{const Ae=we.current,Ke=Kn(Ae).activeElement;if(Ke.getAttribute("role")!=="tab")return;let ft=v==="horizontal"?"ArrowLeft":"ArrowUp",ht=v==="horizontal"?"ArrowRight":"ArrowDown";switch(v==="horizontal"&&i&&(ft="ArrowRight",ht="ArrowLeft"),ge.key){case ft:ge.preventDefault(),ZC(Ae,Ke,fG);break;case ht:ge.preventDefault(),ZC(Ae,Ke,dG);break;case"Home":ge.preventDefault(),ZC(Ae,null,dG);break;case"End":ge.preventDefault(),ZC(Ae,null,fG);break}},he=Le();return N.jsxs(oje,A({className:Ne(q.root,d),ownerState:V,ref:n,as:f},L,{children:[he.scrollButtonStart,he.scrollbarSizeListener,N.jsxs(ije,{className:q.scroller,ownerState:V,style:{overflow:te.overflow,[T?`margin${i?"Left":"Right"}`:"marginBottom"]:O?void 0:-te.scrollbarWidth},ref:pe,onScroll:$e,children:[N.jsx(aje,{"aria-label":a,"aria-labelledby":s,"aria-orientation":v==="vertical"?"vertical":null,className:q.flexContainer,ownerState:V,onKeyDown:K,ref:we,role:"tablist",children:F}),X&&U]}),he.scrollButtonEnd]}))}),uje=cje;function xae(e){return lt("MuiTextField",e)}const dje=ut("MuiTextField",["root"]),fje=dje,pje=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],hje={standard:aO,filled:Uj,outlined:Kj},mje=e=>{const{classes:t}=e;return Qe({root:["root"]},xae,t)},gje=Ee(Gp,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),vje=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:a,className:s,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:h,id:g,InputLabelProps:v,inputProps:m,InputProps:b,inputRef:x,label:y,maxRows:w,minRows:_,multiline:S=!1,name:P,onBlur:M,onChange:I,onClick:O,onFocus:L,placeholder:R,required:T=!1,rows:E,select:k=!1,SelectProps:B,type:$,value:j,variant:V="outlined"}=r,q=De(r,pje),Q=A({},r,{autoFocus:i,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:T,select:k,variant:V}),H=mje(Q),X={};V==="outlined"&&(v&&typeof v.shrink<"u"&&(X.notched=v.shrink),X.label=y),k&&((!B||!B.native)&&(X.id=void 0),X["aria-describedby"]=void 0);const J=fr(g),G=h&&J?`${J}-helper-text`:void 0,ie=y&&J?`${J}-label`:void 0,Y=hje[V],le=N.jsx(Y,A({"aria-describedby":G,autoComplete:o,autoFocus:i,defaultValue:c,fullWidth:p,multiline:S,name:P,rows:E,maxRows:w,minRows:_,type:$,value:j,id:J,inputRef:x,onBlur:M,onChange:I,onFocus:L,onClick:O,placeholder:R,inputProps:m},X,b));return N.jsxs(gje,A({className:Ne(H.root,s),disabled:u,error:d,fullWidth:p,ref:n,required:T,color:l,variant:V,ownerState:Q},q,{children:[y!=null&&y!==""&&N.jsx(xA,A({htmlFor:J,id:ie},v,{children:y})),k?N.jsx(Ky,A({"aria-describedby":G,id:J,labelId:ie,value:j,input:le},B,{children:a})):le,h&&N.jsx(voe,A({id:G},f,{children:h}))]}))}),cu=vje;function wae(e){return lt("MuiToggleButton",e)}const bje=ut("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),a5=bje,yje=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],xje=e=>{const{classes:t,fullWidth:n,selected:r,disabled:o,size:i,color:a}=e,s={root:["root",r&&"selected",o&&"disabled",n&&"fullWidth",`size${Be(i)}`,a]};return Qe(s,wae,t)},wje=Ee(Ho,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Be(n.size)}`]]}})(({theme:e,ownerState:t})=>{let n=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,r;return e.vars&&(n=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,r=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),A({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${a5.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Pt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${a5.selected}`]:{color:n,backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:Pt(n,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${r} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Pt(n,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${r} / ${e.vars.palette.action.selectedOpacity})`:Pt(n,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),_je=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiToggleButton"}),{children:o,className:i,color:a="standard",disabled:s=!1,disableFocusRipple:l=!1,fullWidth:c=!1,onChange:u,onClick:d,selected:f,size:p="medium",value:h}=r,g=De(r,yje),v=A({},r,{color:a,disabled:s,disableFocusRipple:l,fullWidth:c,size:p}),m=xje(v),b=x=>{d&&(d(x,h),x.defaultPrevented)||u&&u(x,h)};return N.jsx(wje,A({className:Ne(m.root,i),disabled:s,focusRipple:!l,ref:n,onClick:b,onChange:u,value:h,ownerState:v,"aria-pressed":f},g,{children:o}))}),Sje=_je;function Cje(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}function _ae(e){return lt("MuiToggleButtonGroup",e)}const Pje=ut("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),Hc=Pje,Mje=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],Aje=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:o}=e,i={root:["root",n==="vertical"&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${Be(n)}`,o&&"disabled"]};return Qe(i,_ae,t)},Eje=Ee("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Hc.grouped}`]:t.grouped},{[`& .${Hc.grouped}`]:t[`grouped${Be(n.orientation)}`]},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(({ownerState:e,theme:t})=>A({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.orientation==="vertical"&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${Hc.grouped}`]:A({},e.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${Hc.selected} + .${Hc.grouped}.${Hc.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${Hc.selected} + .${Hc.grouped}.${Hc.selected}`]:{borderTop:0,marginTop:0}})})),Tje=C.forwardRef(function(t,n){const r=dt({props:t,name:"MuiToggleButtonGroup"}),{children:o,className:i,color:a="standard",disabled:s=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:f="medium",value:p}=r,h=De(r,Mje),g=A({},r,{disabled:s,fullWidth:c,orientation:d,size:f}),v=Aje(g),m=(x,y)=>{if(!u)return;const w=p&&p.indexOf(y);let _;p&&w>=0?(_=p.slice(),_.splice(w,1)):_=p?p.concat(y):[y],u(x,_)},b=(x,y)=>{u&&u(x,p===y?null:y)};return N.jsx(Eje,A({role:"group",className:Ne(v.root,i),ref:n,ownerState:g},h,{children:C.Children.map(o,x=>C.isValidElement(x)?C.cloneElement(x,{className:Ne(v.grouped,x.props.className),onChange:l?b:m,selected:x.props.selected===void 0?Cje(x.props.value,p):x.props.selected,size:x.props.size||f,fullWidth:c,color:x.props.color||a,disabled:x.props.disabled||s}):null)}))}),Oje=Tje,Ije=["getTrigger","target"];function kje(e,t){const{disableHysteresis:n=!1,threshold:r=100,target:o}=t,i=e.current;return o&&(e.current=o.pageYOffset!==void 0?o.pageYOffset:o.scrollTop),!n&&i!==void 0&&e.current<i?!1:e.current>r}const Rje=typeof window<"u"?window:null;function Lje(e={}){const{getTrigger:t=kje,target:n=Rje}=e,r=De(e,Ije),o=C.useRef(),[i,a]=C.useState(()=>t(o,r));return C.useEffect(()=>{const s=()=>{a(t(o,A({target:n},r)))};return s(),n.addEventListener("scroll",s,{passive:!0}),()=>{n.removeEventListener("scroll",s,{passive:!0})}},[n,t,JSON.stringify(r)]),i}/**
 * @mui/material v5.12.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const $je=Object.freeze(Object.defineProperty({__proto__:null,Accordion:SMe,AccordionActions:OMe,AccordionDetails:FMe,AccordionSummary:lAe,Alert:PAe,AlertTitle:jAe,AppBar:qAe,Autocomplete:Fj,Avatar:Are,AvatarGroup:KEe,Backdrop:Bj,Badge:rO,BottomNavigation:vTe,BottomNavigationAction:CTe,Box:Lre,Breadcrumbs:jTe,Button:fc,ButtonBase:Ho,ButtonGroup:tOe,Card:lOe,CardActionArea:mOe,CardActions:_Oe,CardContent:TOe,CardHeader:NOe,CardMedia:qOe,Checkbox:Bf,Chip:ZT,CircularProgress:Hj,ClickAwayListener:WT,Collapse:KT,Container:Kre,CssBaseline:MIe,Dialog:VIe,DialogActions:z_,DialogContent:Up,DialogContentText:c3e,DialogTitle:h3e,Divider:w3e,Drawer:uoe,Experimental_CssVarsProvider:Tne,Fab:Vj,Fade:Nj,FilledInput:Uj,FormControl:Gp,FormControlLabel:jf,FormGroup:Gj,FormHelperText:voe,FormLabel:xoe,FormLabelRoot:yoe,GlobalStyles:$j,Grid:F1,Grow:Xb,Hidden:rRe,Icon:cRe,IconButton:io,ImageList:vRe,ImageListItem:SRe,ImageListItemBar:LRe,Input:aO,InputAdornment:GRe,InputBase:rg,InputLabel:xA,LinearProgress:Doe,Link:If,List:zoe,ListItem:GLe,ListItemAvatar:QLe,ListItemButton:kLe,ListItemIcon:qj,ListItemSecondaryAction:Woe,ListItemText:c$e,ListSubheader:bre,Menu:H_,MenuItem:dr,MenuList:Xy,MobileStepper:W$e,Modal:iO,ModalManager:Une,NativeSelect:rDe,NoSsr:Gne,OutlinedInput:Kj,Pagination:TDe,PaginationItem:uie,Paper:sa,Popover:wA,Popper:Vp,Portal:Ij,Radio:HDe,RadioGroup:GDe,Rating:lFe,ScopedCssBaseline:mFe,Select:Ky,Skeleton:wie,Slide:aoe,Slider:qFe,SliderMark:Eie,SliderMarkLabel:Tie,SliderRail:Cie,SliderRoot:Sie,SliderThumb:Mie,SliderTrack:Pie,SliderValueLabel:Aie,Snackbar:l5e,SnackbarContent:Iie,SpeedDial:_5e,SpeedDialAction:N5e,SpeedDialIcon:U5e,Stack:W5e,Step:rNe,StepButton:SNe,StepConnector:Yie,StepContent:NNe,StepContext:Yy,StepIcon:Uie,StepLabel:qie,Stepper:WNe,StepperContext:og,StyledEngineProvider:one,SvgIcon:vA,SwipeableDrawer:rBe,Switch:eae,THEME_ID:Su,Tab:vBe,TabScrollButton:bae,Table:PBe,TableBody:LBe,TableCell:PA,TableContainer:WBe,TableFooter:e4e,TableHead:l4e,TablePagination:pae,TableRow:D4e,TableSortLabel:U4e,Tabs:uje,TextField:cu,TextareaAutosize:qne,ThemeProvider:yj,ToggleButton:Sje,ToggleButtonGroup:Oje,Toolbar:dae,Tooltip:lO,Typography:On,Unstable_Grid2:Rke,Unstable_TrapFocus:Sj,Zoom:Rie,accordionActionsClasses:PMe,accordionClasses:L1,accordionDetailsClasses:kMe,accordionSummaryClasses:Gh,adaptV4Theme:wne,alertClasses:VF,alertTitleClasses:$Ae,alpha:Pt,appBarClasses:HAe,autocompleteClasses:An,avatarClasses:Mre,avatarGroupClasses:Tre,backdropClasses:eTe,badgeClasses:ed,bottomNavigationActionClasses:jj,bottomNavigationClasses:fTe,breadcrumbsClasses:Dre,buttonBaseClasses:sre,buttonClasses:$1,buttonGroupClasses:nc,capitalize:Be,cardActionAreaClasses:GP,cardActionsClasses:vOe,cardClasses:rOe,cardContentClasses:COe,cardHeaderClasses:UF,cardMediaClasses:jOe,checkboxClasses:WP,chipClasses:qn,circularProgressClasses:fIe,collapseClasses:iMe,colors:Ate,containerClasses:CIe,createChainedFunction:nw,createFilterOptions:kj,createMuiTheme:_ne,createStyles:Cne,createSvgIcon:an,createTheme:_p,css:xc,darkScrollbar:EIe,darken:ss,debounce:bc,decomposeColor:wc,deprecatedPropType:Lte,dialogActionsClasses:GIe,dialogClasses:qP,dialogContentClasses:ZIe,dialogContentTextClasses:o3e,dialogTitleClasses:roe,dividerClasses:GF,drawerClasses:A3e,duration:VT,easing:bj,emphasize:Hb,experimentalStyled:Ee,experimental_extendTheme:wj,experimental_sx:kne,fabClasses:WF,filledInputClasses:Va,formControlClasses:U3e,formControlLabelClasses:jv,formGroupClasses:nke,formHelperTextClasses:qF,formLabelClasses:sb,generateUtilityClass:lt,generateUtilityClasses:ut,getAccordionActionsUtilityClass:ore,getAccordionDetailsUtilityClass:ire,getAccordionSummaryUtilityClass:lre,getAccordionUtilityClass:rre,getAlertTitleUtilityClass:hre,getAlertUtilityClass:cre,getAppBarUtilityClass:mre,getAutocompleteUtilityClass:Cre,getAvatarGroupUtilityClass:Ere,getAvatarUtilityClass:Pre,getBackdropUtilityClass:Ore,getBadgeUtilityClass:Ire,getBottomNavigationActionUtilityClass:Rre,getBottomNavigationUtilityClass:kre,getBreadcrumbsUtilityClass:$re,getButtonBaseUtilityClass:are,getButtonGroupUtilityClass:jre,getButtonUtilityClass:Fre,getCardActionAreaUtilityClass:Hre,getCardActionsUtilityClass:Vre,getCardContentUtilityClass:Ure,getCardHeaderUtilityClass:Gre,getCardMediaUtilityClass:Wre,getCardUtilityClass:zre,getCheckboxUtilityClass:qre,getChipUtilityClass:yre,getCircularProgressUtilityClass:Xre,getCollapseUtilityClass:Jne,getContainerUtilityClass:_Ie,getContrastRatio:fj,getDialogActionsUtilityClass:eoe,getDialogContentTextUtilityClass:ooe,getDialogContentUtilityClass:toe,getDialogTitleUtilityClass:noe,getDialogUtilityClass:Qre,getDividerUtilityClass:ioe,getDrawerUtilityClass:soe,getFabUtilityClass:doe,getFilledInputUtilityClass:Sre,getFormControlLabelUtilityClasses:hoe,getFormControlUtilityClasses:poe,getFormGroupUtilityClass:moe,getFormHelperTextUtilityClasses:goe,getFormLabelUtilityClasses:boe,getGrid2UtilityClass:Lke,getGridUtilityClass:woe,getIconButtonUtilityClass:ure,getIconUtilityClass:Moe,getImageListItemBarUtilityClass:Ioe,getImageListItemUtilityClass:Ooe,getImageListUtilityClass:Eoe,getInitColorSchemeScript:Ine,getInputAdornmentUtilityClass:Roe,getInputBaseUtilityClass:xre,getInputLabelUtilityClasses:Loe,getInputUtilityClass:wre,getLinearProgressUtilityClass:$oe,getLinkUtilityClass:Foe,getListItemAvatarUtilityClass:qoe,getListItemButtonUtilityClass:Voe,getListItemIconUtilityClass:Xoe,getListItemSecondaryActionClassesUtilityClass:Uoe,getListItemTextUtilityClass:Koe,getListItemUtilityClass:Hoe,getListSubheaderUtilityClass:gre,getListUtilityClass:joe,getLuminance:aw,getMenuItemUtilityClass:Joe,getMenuUtilityClass:Qoe,getMobileStepperUtilityClass:eie,getNativeSelectUtilityClasses:Xj,getOffsetLeft:e5,getOffsetTop:JF,getOutlinedInputUtilityClass:_re,getOverlayAlpha:sw,getPaginationItemUtilityClass:lie,getPaginationUtilityClass:aie,getPaperUtilityClass:tre,getPopoverUtilityClass:Zoe,getRadioUtilityClass:hie,getRatingUtilityClass:mie,getScopedCssBaselineUtilityClass:vie,getSelectUtilityClasses:bie,getSkeletonUtilityClass:xie,getSliderUtilityClass:_ie,getSnackbarContentUtilityClass:Oie,getSnackbarUtilityClass:kie,getSpeedDialActionUtilityClass:Die,getSpeedDialIconUtilityClass:Nie,getSpeedDialUtilityClass:Lie,getStepButtonUtilityClass:Xie,getStepConnectorUtilityClass:Kie,getStepContentUtilityClass:Zie,getStepIconUtilityClass:Vie,getStepLabelUtilityClass:Gie,getStepUtilityClass:Hie,getStepperUtilityClass:Qie,getSvgIconUtilityClass:Kne,getSwitchUtilityClass:Jie,getTabScrollButtonUtilityClass:gae,getTabUtilityClass:tae,getTableBodyUtilityClass:oae,getTableCellUtilityClass:iae,getTableContainerUtilityClass:sae,getTableFooterUtilityClass:lae,getTableHeadUtilityClass:cae,getTablePaginationUtilityClass:fae,getTableRowUtilityClass:hae,getTableSortLabelUtilityClass:mae,getTableUtilityClass:rae,getTabsUtilityClass:yae,getTextFieldUtilityClass:xae,getToggleButtonGroupUtilityClass:_ae,getToggleButtonUtilityClass:wae,getToolbarUtilityClass:uae,getTooltipUtilityClass:$ie,getTouchRippleUtilityClass:BMe,getTypographyUtilityClass:pre,grid2Classes:Bke,gridClasses:qb,hexToRgb:uj,hslToRgb:dj,iconButtonClasses:dre,iconClasses:iRe,imageListClasses:dRe,imageListItemBarClasses:PRe,imageListItemClasses:KF,inputAdornmentClasses:YF,inputBaseClasses:Ha,inputClasses:dd,inputLabelClasses:qRe,isMuiElement:vu,keyframes:Us,lighten:ls,linearProgressClasses:JRe,linkClasses:Noe,listClasses:xLe,listItemAvatarClasses:qLe,listItemButtonClasses:Dh,listItemClasses:$h,listItemIconClasses:QF,listItemSecondaryActionClasses:LLe,listItemTextClasses:uw,listSubheaderClasses:QAe,makeStyles:Mne,menuClasses:w$e,menuItemClasses:cv,mobileStepperClasses:N$e,modalClasses:OIe,nativeSelectClasses:sO,outlinedInputClasses:ql,ownerDocument:Kn,ownerWindow:ei,paginationClasses:hDe,paginationItemClasses:gs,paperClasses:fMe,popoverClasses:p$e,private_createTypography:HT,private_excludeVariablesFromRoot:_j,radioClasses:t5,ratingClasses:uv,recomposeColor:Gy,requirePropFactory:$te,responsiveFontSizes:Pne,rgbToHex:mne,scopedCssBaselineClasses:uFe,selectClasses:dv,setRef:Bb,shouldSkipGeneratingVar:xj,skeletonClasses:IFe,sliderClasses:gl,snackbarClasses:r5e,snackbarContentClasses:KFe,speedDialActionClasses:Fie,speedDialClasses:N1,speedDialIconClasses:Cf,stackClasses:X5e,stepButtonClasses:n5,stepClasses:Q5e,stepConnectorClasses:PNe,stepContentClasses:kNe,stepIconClasses:XP,stepLabelClasses:bd,stepperClasses:jNe,styled:Ee,svgIconClasses:GPe,switchClasses:Pi,tabClasses:Pf,tabScrollButtonClasses:vae,tableBodyClasses:EBe,tableCellClasses:aae,tableClasses:xBe,tableContainerClasses:zBe,tableFooterClasses:XBe,tableHeadClasses:n4e,tablePaginationClasses:lp,tableRowClasses:i5,tableSortLabelClasses:KP,tabsClasses:YP,textFieldClasses:fje,toggleButtonClasses:a5,toggleButtonGroupClasses:Hc,toolbarClasses:u4e,tooltipClasses:vd,touchRippleClasses:xs,typographyClasses:AAe,unstable_ClassNameGenerator:Zne,unstable_composeClasses:Qe,unstable_createMuiStrictModeTheme:Sne,unstable_getUnit:UT,unstable_toUnitless:Zc,unstable_useEnhancedEffect:ar,unstable_useId:fr,unsupportedProp:Dte,useAutocomplete:Xne,useColorScheme:One,useControlled:xa,useEventCallback:Dn,useForkRef:wn,useFormControl:kl,useIsFocusVisible:tg,useMediaQuery:Poe,usePagination:sie,useRadioGroup:pie,useScrollTrigger:Lje,useStepContext:Y5e,useStepperContext:K5e,useTheme:Ir,useThemeProps:dt,withStyles:Ane,withTheme:Ene},Symbol.toStringTag,{value:"Module"}));var Ca={},Zj={};const Dje=Pa(Ate),Fje=Pa(BCe);var Nje=function(t){return Bje(t)&&!jje(t)};function Bje(e){return!!e&&typeof e=="object"}function jje(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Vje(e)}var zje=typeof Symbol=="function"&&Symbol.for,Hje=zje?Symbol.for("react.element"):60103;function Vje(e){return e.$$typeof===Hje}function Uje(e){return Array.isArray(e)?[]:{}}function dw(e,t){return t.clone!==!1&&t.isMergeableObject(e)?Kb(Uje(e),e,t):e}function Gje(e,t,n){return e.concat(t).map(function(r){return dw(r,n)})}function Wje(e,t){if(!t.customMerge)return Kb;var n=t.customMerge(e);return typeof n=="function"?n:Kb}function qje(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function hG(e){return Object.keys(e).concat(qje(e))}function Sae(e,t){try{return t in e}catch{return!1}}function Xje(e,t){return Sae(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Kje(e,t,n){var r={};return n.isMergeableObject(e)&&hG(e).forEach(function(o){r[o]=dw(e[o],n)}),hG(t).forEach(function(o){Xje(e,o)||(Sae(e,o)&&n.isMergeableObject(t[o])?r[o]=Wje(o,n)(e[o],t[o],n):r[o]=dw(t[o],n))}),r}function Kb(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Gje,n.isMergeableObject=n.isMergeableObject||Nje,n.cloneUnlessOtherwiseSpecified=dw;var r=Array.isArray(t),o=Array.isArray(e),i=r===o;return i?r?n.arrayMerge(e,t,n):Kje(e,t,n):dw(t,n)}Kb.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,o){return Kb(r,o,n)},{})};var Yje=Kb,Zje=Yje;(function(e){var t=ue&&ue.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.createJBrowseTheme=e.createJBrowseBaseTheme=e.defaultThemes=void 0;const n=Dje,r=Fje,o=t(Zje),i="#0D233F",a="#721E63",s="#135560",l="#FFB11D",c=(0,r.createTheme)();function u(){return{palette:{mode:void 0,primary:{main:i},secondary:{main:a},tertiary:c.palette.augmentColor({color:{main:s}}),quaternary:c.palette.augmentColor({color:{main:l}}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:c.palette.augmentColor({color:n.green}),C:c.palette.augmentColor({color:n.blue}),G:c.palette.augmentColor({color:n.orange}),T:c.palette.augmentColor({color:n.red})}},components:{MuiLink:{styleOverrides:{root:({theme:w})=>({color:w.palette.tertiary.main})}}}}}function d(){return{name:"Default (from config)",...u()}}function f(){return{name:"Light (stock)",...u()}}function p(){return{name:"Dark (stock)",palette:{mode:"dark",primary:{main:i},secondary:{main:a},tertiary:c.palette.augmentColor({color:{main:s}}),quaternary:c.palette.augmentColor({color:{main:l}}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:c.palette.augmentColor({color:n.green}),C:c.palette.augmentColor({color:n.blue}),G:c.palette.augmentColor({color:n.orange}),T:c.palette.augmentColor({color:n.red})}},components:{MuiAppBar:{defaultProps:{enableColorOnDark:!0},styleOverrides:{primary:w=>w.theme.palette.primary.main}}}}}function h(){return{name:"Dark (minimal)",palette:{mode:"dark",primary:{main:n.grey[700]},secondary:{main:n.grey[800]},tertiary:c.palette.augmentColor({color:{main:n.grey[900]}}),quaternary:c.palette.augmentColor({color:{main:l}}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:c.palette.augmentColor({color:n.green}),C:c.palette.augmentColor({color:n.blue}),G:c.palette.augmentColor({color:n.orange}),T:c.palette.augmentColor({color:n.red})}}}}function g(){return{name:"Light (minimal)",palette:{primary:{main:n.grey[900]},secondary:{main:n.grey[800]},tertiary:c.palette.augmentColor({color:{main:n.grey[900]}}),quaternary:c.palette.augmentColor({color:{main:l}}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:c.palette.augmentColor({color:n.green}),C:c.palette.augmentColor({color:n.blue}),G:c.palette.augmentColor({color:n.orange}),T:c.palette.augmentColor({color:n.red})}}}}e.defaultThemes={default:d(),lightStock:f(),lightMinimal:g(),darkMinimal:h(),darkStock:p()};function v(w){var _,S,P,M,I,O;return{components:{MuiButton:{defaultProps:{size:"small"},styleOverrides:{root:L=>{const{theme:R}=L;return R.palette.mode==="dark"?{color:R.palette.text.primary}:void 0}}},MuiAccordion:{defaultProps:{disableGutters:!0,TransitionProps:{timeout:150}}},MuiFilledInput:{defaultProps:{margin:"dense"}},MuiFormControl:{defaultProps:{margin:"dense",size:"small"}},MuiFormHelperText:{defaultProps:{margin:"dense"}},MuiIconButton:{defaultProps:{size:"small"}},MuiInputBase:{defaultProps:{margin:"dense"}},MuiAutocomplete:{defaultProps:{size:"small"}},MuiInputLabel:{defaultProps:{margin:"dense"}},MuiToolbar:{defaultProps:{variant:"dense"}},MuiListItem:{defaultProps:{dense:!0}},MuiOutlinedInput:{defaultProps:{margin:"dense"}},MuiFab:{defaultProps:{size:"small"},styleOverrides:{secondary:{backgroundColor:(S=(_=w==null?void 0:w.palette)===null||_===void 0?void 0:_.quaternary)===null||S===void 0?void 0:S.main}}},MuiTable:{defaultProps:{size:"small"}},MuiPopover:{defaultProps:{transitionDuration:0}},MuiMenu:{defaultProps:{transitionDuration:0}},MuiMenuList:{defaultProps:{dense:!0}},MuiMenuItem:{defaultProps:{dense:!0}},MuiTextField:{defaultProps:{margin:"dense",variant:"standard"}},MuiLink:{styleOverrides:{root:({theme:L})=>({color:L.palette.text.secondary})}},MuiCheckbox:{styleOverrides:{root:L=>{const{theme:R}=L;return R.palette.mode==="dark"?{color:R.palette.text.secondary,"&.Mui-checked":{color:R.palette.text.secondary}}:void 0}}},MuiRadio:{styleOverrides:{root:L=>{const{theme:R}=L;return R.palette.mode==="dark"?{color:R.palette.text.secondary,"&.Mui-checked":{color:R.palette.text.secondary}}:void 0}}},MuiFormLabel:{styleOverrides:{root:L=>{const{theme:R}=L;return R.palette.mode==="dark"?{color:R.palette.text.secondary,"&.Mui-focused":{color:R.palette.text.secondary}}:void 0}}},MuiAccordionSummary:{styleOverrides:{root:{backgroundColor:(M=(P=w==null?void 0:w.palette)===null||P===void 0?void 0:P.tertiary)===null||M===void 0?void 0:M.main},content:{color:(O=(I=w==null?void 0:w.palette)===null||I===void 0?void 0:I.tertiary)===null||O===void 0?void 0:O.contrastText}}},MuiToggleButtonGroup:{defaultProps:{size:"small"}}}}}function m(w){return(0,o.default)({palette:w==null?void 0:w.palette,typography:{fontSize:12},spacing:4,...v(w)},w||{})}e.createJBrowseBaseTheme=m;function b(w={},_=e.defaultThemes,S="default"){return(0,r.createTheme)(m(S==="default"?(0,o.default)(_.default,x(w)):y(_[S])||_.default))}e.createJBrowseTheme=b;function x(w={}){var _,S;return!((_=w==null?void 0:w.palette)===null||_===void 0)&&_.tertiary&&(w=(0,o.default)(w,{palette:{tertiary:c.palette.augmentColor("color"in w.palette.tertiary?w.palette.tertiary:{color:w.palette.tertiary})}})),!((S=w==null?void 0:w.palette)===null||S===void 0)&&S.quaternary&&(w=(0,o.default)(w,{palette:{quaternary:c.palette.augmentColor("color"in w.palette.quaternary?w.palette.quaternary:{color:w.palette.quaternary})}})),w}function y(w={}){var _,S;return w=x(w),!((_=w==null?void 0:w.palette)===null||_===void 0)&&_.quaternary||(w=(0,o.default)(w,{palette:{quaternary:c.palette.augmentColor({color:{main:"#aaa"}})}})),!((S=w==null?void 0:w.palette)===null||S===void 0)&&S.tertiary||(w=(0,o.default)(w,{palette:{tertiary:c.palette.augmentColor({color:{main:"#aaa"}})}})),w}})(Zj);var Am={},Qje=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Am,"__esModule",{value:!0});Am.LogoFull=Am.Logomark=void 0;const Lo=Qje(C);function Cae(e){return e==="black"?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:e==="white"?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function Jje({variant:e}){return Lo.default.createElement("svg",{viewBox:"0 0 175 175"},Lo.default.createElement(Pae,{variant:e}))}Am.Logomark=Jje;function eze({variant:e}){return Lo.default.createElement("svg",{viewBox:"0 0 641 175"},Lo.default.createElement(tze,{variant:e}),Lo.default.createElement(Pae,{variant:e}))}Am.LogoFull=eze;function Pae({variant:e}){const t=Cae(e);return Lo.default.createElement(Lo.default.Fragment,null,Lo.default.createElement("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),Lo.default.createElement("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),Lo.default.createElement("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),Lo.default.createElement("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),Lo.default.createElement("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"}))}function tze({variant:e}){const t=Cae(e);return Lo.default.createElement("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight}},Lo.default.createElement("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),Lo.default.createElement("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),Lo.default.createElement("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),Lo.default.createElement("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),Lo.default.createElement("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),Lo.default.createElement("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),Lo.default.createElement("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"}))}var Qj={};const Dr=Pa($je),nze=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach(n=>{const[r,o]=e[n];t[r]=o}),t};function MA(e){return Object.keys(e)}function Mae(e,t){if(!e)throw new Error(t)}function Aae(e,t){return t}const Jj=e=>{const t=e.length;let n=0,r="";for(;n<t;n++){const o=e[n];if(o==null)continue;let i;switch(typeof o){case"boolean":break;case"object":{if(Array.isArray(o))i=Jj(o);else{Mae(!Aae(o,!1)),i="";for(const a in o)o[a]&&a&&(i&&(i+=" "),i+=a)}break}default:i=o}i&&(r&&(r+=" "),r+=i)}return r};function rze(e,t){const n=C.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,o)=>r===t[o]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}function oze(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}const{createCssAndCx:ize}=(()=>{function e(n,r,o){const i=[],a=E_(n,i,o);return i.length<2?o:a+r(i)}function t(n){const{cache:r}=n,o=(...a)=>{const s=ng(a,r.registered);Hy(r,s,!1);const l=`${r.key}-${s.name}`;e:{const c=a[0];if(!oze(c))break e;mG.saveClassNameCSSObjectMapping(r,l,c)}return l};return{css:o,cx:(...a)=>{const s=Jj(a),l=mG.fixClassName(r,s,o);return e(r.registered,o,l)}}}return{createCssAndCx:t}})();function aze(e){const{useCache:t}=e;function n(){const r=t(),{css:o,cx:i}=rze(()=>ize({cache:r}),[r]);return{css:o,cx:i}}return{useCssAndCx:n}}const mG=(()=>{const e=new WeakMap;return{saveClassNameCSSObjectMapping:(t,n,r)=>{let o=e.get(t);o===void 0&&(o=new Map,e.set(t,o)),o.set(n,r)},fixClassName:(()=>{function t(n){let r=!1;return n.map(([o,i])=>{if(i===void 0)return o;let a;if(r)a={"&&":i};else{a=o;for(const s in i)if(s.startsWith("@media")){r=!0;break}}return a})}return(n,r,o)=>{const i=e.get(n);return Jj(t(r.split(" ").map(a=>[a,i==null?void 0:i.get(a)])).map(a=>typeof a=="string"?a:o(a)))}})()}})();function QC(e){if(!(e instanceof Object)||typeof e=="function")return e;const t=[];for(const n in e){const r=e[n],o=typeof r;if(!(o==="string"||o==="number"&&!isNaN(r)||o==="boolean"||r===void 0||r===null))return e;t.push(`${n}:${o}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")}function gG(e,t,n){if(!(t instanceof Object))return e;const r={};return MA(e).forEach(o=>r[o]=n(e[o],t[o])),MA(t).forEach(o=>{if(o in e)return;const i=t[o];typeof i=="string"&&(r[o]=i)}),r}let sze=0;function Eae(e){const{useTheme:t,cache:n}=e;function r(){var s;const l=nne(),c=cze(),u=(s=n??c)!==null&&s!==void 0?s:l;if(u===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return u}const{useCssAndCx:o}=aze({useCache:r});function i(s){const{name:l,uniqId:c=sze++}=s??{},u=typeof l!="object"?l:Object.keys(l)[0];return function(d){const f=typeof d=="function"?d:()=>d;return function(h,g){var v,m;const b=g==null?void 0:g.props,x=t(),{css:y,cx:w}=o(),_=r();let S=C.useMemo(()=>{const M={},I=typeof Proxy<"u"&&new Proxy({},{get:(R,T)=>(typeof T=="symbol"&&Mae(!1),M[T]=`${_.key}-${c}${u!==void 0?`-${u}`:""}-${T}-ref`)}),O=f(x,h,I||{}),L=nze(MA(O).map(R=>{const T=O[R];return T.label||(T.label=`${u!==void 0?`${u}-`:""}${R}`),[R,`${y(T)}${Aae(R,R in M)?` ${M[R]}`:""}`]}));return MA(M).forEach(R=>{R in L||(L[R]=M[R])}),L},[_,y,w,x,QC(h)]);const P=b==null?void 0:b.classes;S=C.useMemo(()=>gG(S,P,w),[S,QC(P),w]);{let M;try{M=u!==void 0?(m=(v=x.components)===null||v===void 0?void 0:v[u])===null||m===void 0?void 0:m.styleOverrides:void 0}catch{}const I=C.useMemo(()=>{if(!M)return;const O={};for(const L in M){const R=M[L];R instanceof Object&&(O[L]=y(typeof R=="function"?R(Object.assign({theme:x,ownerState:g==null?void 0:g.ownerState},b)):R))}return O},[M===void 0?void 0:typeof M=="function"?M:JSON.stringify(M),QC(b),QC(g==null?void 0:g.ownerState),y]);S=C.useMemo(()=>gG(S,I,w),[S,I,w])}return{classes:S,theme:x,css:y,cx:w}}}}function a(){const s=t(),{css:l,cx:c}=o();return{theme:s,css:l,cx:c}}return{makeStyles:i,useStyles:a}}const lze=C.createContext(void 0);function cze(){return C.useContext(lze)}function vG(e){return e.charAt(0).toUpperCase()+e.slice(1)}var bG=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function uze(e){const{useTheme:t,cache:n}=e,{makeStyles:r}=Eae({useTheme:t,cache:n});function o(i,a,s){const l=typeof i=="string"?(()=>{const p=i,h=function(g){var{children:v}=g,m=bG(g,["children"]);return C.createElement(p,m,v)};return Object.defineProperty(h,"name",{value:vG(p)}),h})():i,c=(()=>{{const{name:p}=s??{};if(p!==void 0)return typeof p!="object"?p:Object.keys(p)[0]}{const p=l.displayName;if(typeof p=="string"&&p!=="")return p}{const{name:p}=l;if(p)return p}})(),u=r(Object.assign(Object.assign({},s),{name:c}))(typeof a=="function"?(p,h,g)=>xG(a(p,h,g)):xG(a));function d(p){for(const h in p)if(h!=="root")return!0;return!1}const f=C.forwardRef(function(p,h){const{className:g,classes:v}=p,m=bG(p,["className","classes"]),{classes:b,cx:x}=u(p,{props:p}),y=x(b.root,g);return Tae.set(b,Object.assign(Object.assign({},b),{root:y})),ke.createElement(l,Object.assign({ref:h,className:d(b)?g:y},typeof i=="string"?{}:{classes:b},m))});return c!==void 0&&(f.displayName=`${vG(c)}WithStyles`,Object.defineProperty(f,"name",{value:f.displayName})),f}return o.getClasses=dze,{withStyles:o}}const Tae=new WeakMap,yG="getClasses should only be used in conjunction with withStyles";function dze(e){const t=e.classes;if(t===void 0)throw new Error(yG);const n=Tae.get(t);if(n===void 0)throw new Error(yG);return n}function xG(e){const t={},n={};return Object.keys(e).forEach(r=>(r.startsWith("@media")?n:t)[r]=e[r]),Object.keys(n).forEach(r=>{const o=n[r];Object.keys(o).forEach(i=>{var a;return t[i]=Object.assign(Object.assign({},(a=t[i])!==null&&a!==void 0?a:{}),{[r]:o[i]})})}),t}function fze(e){return Object.assign(Object.assign({},Eae(e)),uze(e))}const{makeStyles:ig,withStyles:pze,useStyles:hze}=fze({useTheme:Ir}),mze=Object.freeze(Object.defineProperty({__proto__:null,makeStyles:ig,useStyles:hze,withStyles:pze},Symbol.toStringTag,{value:"Module"})),ii=Pa(mze);var cO={},Oae={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Oae);var sr=Oae.exports,kR={};const gze=Pa(KPe);var wG;function bo(){return wG||(wG=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=gze}(kR)),kR}var vze=sr;Object.defineProperty(cO,"__esModule",{value:!0});cO.default=void 0;var bze=vze(bo()),yze=N,xze=(0,bze.default)((0,yze.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");cO.default=xze;const Vo=Pa(wye);var ez={},s5={exports:{}};(function(e,t){(function(n,r){r(t,C)})(ue,function(n,r){function o(p){if(p&&p.__esModule)return p;var h=Object.create(null);return p&&Object.keys(p).forEach(function(g){if(g!=="default"){var v=Object.getOwnPropertyDescriptor(p,g);Object.defineProperty(h,g,v.get?v:{enumerable:!0,get:function(){return p[g]}})}}),h.default=p,Object.freeze(h)}var i=o(r);function a(p,h){return a=Object.setPrototypeOf||function(v,m){return v.__proto__=m,v},a(p,h)}function s(p,h){p.prototype=Object.create(h.prototype),p.prototype.constructor=p,a(p,h)}var l=function(h,g){return h===void 0&&(h=[]),g===void 0&&(g=[]),h.length!==g.length||h.some(function(v,m){return!Object.is(v,g[m])})},c={error:null},u=function(p){s(h,p);function h(){for(var v,m=arguments.length,b=new Array(m),x=0;x<m;x++)b[x]=arguments[x];return v=p.call.apply(p,[this].concat(b))||this,v.state=c,v.resetErrorBoundary=function(){for(var y,w=arguments.length,_=new Array(w),S=0;S<w;S++)_[S]=arguments[S];v.props.onReset==null||(y=v.props).onReset.apply(y,_),v.reset()},v}h.getDerivedStateFromError=function(m){return{error:m}};var g=h.prototype;return g.reset=function(){this.setState(c)},g.componentDidCatch=function(m,b){var x,y;(x=(y=this.props).onError)==null||x.call(y,m,b)},g.componentDidUpdate=function(m,b){var x=this.state.error,y=this.props.resetKeys;if(x!==null&&b.error!==null&&l(m.resetKeys,y)){var w,_;(w=(_=this.props).onResetKeysChange)==null||w.call(_,m.resetKeys,y),this.reset()}},g.render=function(){var m=this.state.error,b=this.props,x=b.fallbackRender,y=b.FallbackComponent,w=b.fallback;if(m!==null){var _={error:m,resetErrorBoundary:this.resetErrorBoundary};if(i.isValidElement(w))return w;if(typeof x=="function")return x(_);if(y)return i.createElement(y,_);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},h}(i.Component);function d(p,h){var g=function(b){return i.createElement(u,h,i.createElement(p,b))},v=p.displayName||p.name||"Unknown";return g.displayName="withErrorBoundary("+v+")",g}function f(p){var h=i.useState(null),g=h[0],v=h[1];if(p!=null)throw p;if(g!=null)throw g;return v}n.ErrorBoundary=u,n.useErrorHandler=f,n.withErrorBoundary=d,Object.defineProperty(n,"__esModule",{value:!0})})})(s5,s5.exports);var uO=s5.exports,RR={},Iae=function(t){return typeof t=="object"&&t!==null};const Qd=Pa(O1e),kae=Pa(Dbe);var nm={},Rae={};Object.defineProperty(Rae,"__esModule",{value:!0});(function(e){var t=ue&&ue.__createBinding||(Object.create?function(P,M,I,O){O===void 0&&(O=I);var L=Object.getOwnPropertyDescriptor(M,I);(!L||("get"in L?!M.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return M[I]}}),Object.defineProperty(P,O,L)}:function(P,M,I,O){O===void 0&&(O=I),P[O]=M[I]}),n=ue&&ue.__exportStar||function(P,M){for(var I in P)I!=="default"&&!Object.prototype.hasOwnProperty.call(M,I)&&t(M,P,I)};Object.defineProperty(e,"__esModule",{value:!0}),e.isRetryException=e.isAuthNeededException=e.RetryError=e.AuthNeededError=e.isUriLocation=e.isAbstractMenuManager=e.isRootModelWithInternetAccounts=e.isAppRootModel=e.isTrackViewModel=e.isDisplayModel=e.isTrackModel=e.isViewModel=e.isSelectionContainer=e.isSessionWithSessionPlugins=e.isSessionModelWithConnections=e.isSessionModelWithWidgets=e.isSessionWithAddTracks=e.isSessionModelWithConfigEditing=e.isSessionModel=e.isViewContainer=void 0;const r=Qd;n(Rae,e);function o(P){return(0,r.isStateTreeNode)(P)&&"removeView"in P&&"addView"in P&&"views"in P}e.isViewContainer=o;function i(P){return typeof P=="object"&&P!==null&&"rpcManager"in P&&"configuration"in P}e.isSessionModel=i;function a(P){return i(P)&&"editConfiguration"in P}e.isSessionModelWithConfigEditing=a;function s(P){return i(P)&&"addTrackConf"in P&&!P.disableAddTracks}e.isSessionWithAddTracks=s;function l(P){return i(P)&&"widgets"in P}e.isSessionModelWithWidgets=l;function c(P){return i(P)&&"addConnectionConf"in P}e.isSessionModelWithConnections=c;function u(P){return i(P)&&"sessionPlugins"in P}e.isSessionWithSessionPlugins=u;function d(P){return typeof P=="object"&&P!==null&&"selection"in P&&"setSelection"in P}e.isSelectionContainer=d;function f(P){return typeof P=="object"&&P!==null&&"width"in P&&"setWidth"in P}e.isViewModel=f;function p(P){return typeof P=="object"&&P!==null&&"configuration"in P&&P.configuration.trackId}e.isTrackModel=p;function h(P){return typeof P=="object"&&P!==null&&"configuration"in P&&P.configuration.displayId}e.isDisplayModel=h;function g(P){return typeof P=="object"&&P!==null&&"showTrack"in P&&"hideTrack"in P}e.isTrackViewModel=g;function v(P){return typeof P=="object"&&P!==null&&"isAssemblyEditing"in P&&"findAppropriateInternetAccount"in P}e.isAppRootModel=v;function m(P){return typeof P=="object"&&P!==null&&"internetAccounts"in P&&"findAppropriateInternetAccount"in P}e.isRootModelWithInternetAccounts=m;function b(P){return typeof P=="object"&&P!==null&&"appendMenu"in P&&"appendToSubMenu"in P}e.isAbstractMenuManager=b;function x(P){return typeof P=="object"&&P!==null&&"uri"in P&&!!P.uri}e.isUriLocation=x;class y extends Error{constructor(M,I){super(M),this.message=M,this.url=I,this.name="AuthNeededError",Object.setPrototypeOf(this,y.prototype)}}e.AuthNeededError=y;class w extends Error{constructor(M,I){super(M),this.message=M,this.internetAccountId=I,this.name="RetryError"}}e.RetryError=w;function _(P){return P instanceof Error&&(P.name==="AuthNeededError"||P.url!==void 0)}e.isAuthNeededException=_;function S(P){return P.name==="RetryError"||P.internetAccountId!==void 0}e.isRetryException=S})(nm);var qa={},Lae={},gr={},Zy={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.isFunction=void 0;function wze(e){return typeof e=="function"}lr.isFunction=wze;var ti={},U_={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.createErrorClass=void 0;function _ze(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}ku.createErrorClass=_ze;Object.defineProperty(U_,"__esModule",{value:!0});U_.UnsubscriptionError=void 0;var Sze=ku;U_.UnsubscriptionError=Sze.createErrorClass(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.arrRemove=void 0;function Cze(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}Mc.arrRemove=Cze;var _G=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SG=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},CG=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(ti,"__esModule",{value:!0});ti.isSubscription=ti.EMPTY_SUBSCRIPTION=ti.Subscription=void 0;var bx=lr,LR=U_,PG=Mc,tz=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=_G(a),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var u=this.initialTeardown;if(bx.isFunction(u))try{u()}catch(g){i=g instanceof LR.UnsubscriptionError?g.errors:[g]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var f=_G(d),p=f.next();!p.done;p=f.next()){var h=p.value;try{MG(h)}catch(g){i=i??[],g instanceof LR.UnsubscriptionError?i=CG(CG([],SG(i)),SG(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}if(i)throw new LR.UnsubscriptionError(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)MG(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&PG.arrRemove(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&PG.arrRemove(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();ti.Subscription=tz;ti.EMPTY_SUBSCRIPTION=tz.EMPTY;function Pze(e){return e instanceof tz||e&&"closed"in e&&bx.isFunction(e.remove)&&bx.isFunction(e.add)&&bx.isFunction(e.unsubscribe)}ti.isSubscription=Pze;function MG(e){bx.isFunction(e)?e():e.unsubscribe()}var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.config=void 0;Wp.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var G_={},nz={};(function(e){var t=ue&&ue.__read||function(r,o){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return l},n=ue&&ue.__spreadArray||function(r,o){for(var i=0,a=o.length,s=r.length;i<a;i++,s++)r[s]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(r,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,n([r,o],t(i))):setTimeout.apply(void 0,n([r,o],t(i)))},clearTimeout:function(r){var o=e.timeoutProvider.delegate;return((o==null?void 0:o.clearTimeout)||clearTimeout)(r)},delegate:void 0}})(nz);Object.defineProperty(G_,"__esModule",{value:!0});G_.reportUnhandledError=void 0;var Mze=Wp,Aze=nz;function Eze(e){Aze.timeoutProvider.setTimeout(function(){var t=Mze.config.onUnhandledError;if(t)t(e);else throw e})}G_.reportUnhandledError=Eze;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.noop=void 0;function Tze(){}ai.noop=Tze;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.createNotification=uu.nextNotification=uu.errorNotification=uu.COMPLETE_NOTIFICATION=void 0;uu.COMPLETE_NOTIFICATION=function(){return dO("C",void 0,void 0)}();function Oze(e){return dO("E",void 0,e)}uu.errorNotification=Oze;function Ize(e){return dO("N",e,void 0)}uu.nextNotification=Ize;function dO(e,t,n){return{kind:e,value:t,error:n}}uu.createNotification=dO;var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.captureError=Sp.errorContext=void 0;var $ae=Wp,Wh=null;function kze(e){if($ae.config.useDeprecatedSynchronousErrorHandling){var t=!Wh;if(t&&(Wh={errorThrown:!1,error:null}),e(),t){var n=Wh,r=n.errorThrown,o=n.error;if(Wh=null,r)throw o}}else e()}Sp.errorContext=kze;function Rze(e){$ae.config.useDeprecatedSynchronousErrorHandling&&Wh&&(Wh.errorThrown=!0,Wh.error=e)}Sp.captureError=Rze;(function(e){var t=ue&&ue.__extends||function(){var b=function(x,y){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,_){w.__proto__=_}||function(w,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(w[S]=_[S])},b(x,y)};return function(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");b(x,y);function w(){this.constructor=x}x.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var n=lr,r=ti,o=Wp,i=G_,a=ai,s=uu,l=nz,c=Sp,u=function(b){t(x,b);function x(y){var w=b.call(this)||this;return w.isStopped=!1,y?(w.destination=y,r.isSubscription(y)&&y.add(w)):w.destination=e.EMPTY_OBSERVER,w}return x.create=function(y,w,_){return new h(y,w,_)},x.prototype.next=function(y){this.isStopped?m(s.nextNotification(y),this):this._next(y)},x.prototype.error=function(y){this.isStopped?m(s.errorNotification(y),this):(this.isStopped=!0,this._error(y))},x.prototype.complete=function(){this.isStopped?m(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},x.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,b.prototype.unsubscribe.call(this),this.destination=null)},x.prototype._next=function(y){this.destination.next(y)},x.prototype._error=function(y){try{this.destination.error(y)}finally{this.unsubscribe()}},x.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},x}(r.Subscription);e.Subscriber=u;var d=Function.prototype.bind;function f(b,x){return d.call(b,x)}var p=function(){function b(x){this.partialObserver=x}return b.prototype.next=function(x){var y=this.partialObserver;if(y.next)try{y.next(x)}catch(w){g(w)}},b.prototype.error=function(x){var y=this.partialObserver;if(y.error)try{y.error(x)}catch(w){g(w)}else g(x)},b.prototype.complete=function(){var x=this.partialObserver;if(x.complete)try{x.complete()}catch(y){g(y)}},b}(),h=function(b){t(x,b);function x(y,w,_){var S=b.call(this)||this,P;if(n.isFunction(y)||!y)P={next:y??void 0,error:w??void 0,complete:_??void 0};else{var M;S&&o.config.useDeprecatedNextContext?(M=Object.create(y),M.unsubscribe=function(){return S.unsubscribe()},P={next:y.next&&f(y.next,M),error:y.error&&f(y.error,M),complete:y.complete&&f(y.complete,M)}):P=y}return S.destination=new p(P),S}return x}(u);e.SafeSubscriber=h;function g(b){o.config.useDeprecatedSynchronousErrorHandling?c.captureError(b):i.reportUnhandledError(b)}function v(b){throw b}function m(b,x){var y=o.config.onStoppedNotification;y&&l.timeoutProvider.setTimeout(function(){return y(b,x)})}e.EMPTY_OBSERVER={closed:!0,next:a.noop,error:v,complete:a.noop}})(Zy);var ag={};Object.defineProperty(ag,"__esModule",{value:!0});ag.observable=void 0;ag.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var Ld={},si={};Object.defineProperty(si,"__esModule",{value:!0});si.identity=void 0;function Lze(e){return e}si.identity=Lze;Object.defineProperty(Ld,"__esModule",{value:!0});Ld.pipeFromArray=Ld.pipe=void 0;var $ze=si;function Dze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dae(e)}Ld.pipe=Dze;function Dae(e){return e.length===0?$ze.identity:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}Ld.pipeFromArray=Dae;Object.defineProperty(gr,"__esModule",{value:!0});gr.Observable=void 0;var l5=Zy,Fze=ti,Nze=ag,Bze=Ld,jze=Wp,$R=lr,zze=Sp,Hze=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=Uze(t)?t:new l5.SafeSubscriber(t,n,r);return zze.errorContext(function(){var a=o,s=a.operator,l=a.source;i.add(s?s.call(i,l):l?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=AG(n),new n(function(o,i){var a=new l5.SafeSubscriber({next:function(s){try{t(s)}catch(l){i(l),a.unsubscribe()}},error:i,complete:o});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Nze.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Bze.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=AG(t),new t(function(r,o){var i;n.subscribe(function(a){return i=a},function(a){return o(a)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();gr.Observable=Hze;function AG(e){var t;return(t=e??jze.config.Promise)!==null&&t!==void 0?t:Promise}function Vze(e){return e&&$R.isFunction(e.next)&&$R.isFunction(e.error)&&$R.isFunction(e.complete)}function Uze(e){return e&&e instanceof l5.Subscriber||Vze(e)&&Fze.isSubscription(e)}var sg={},W_={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.operate=Mt.hasLift=void 0;var Gze=lr;function Fae(e){return Gze.isFunction(e==null?void 0:e.lift)}Mt.hasLift=Fae;function Wze(e){return function(t){if(Fae(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}Mt.operate=Wze;var Ft={},qze=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.OperatorSubscriber=Ft.createOperatorSubscriber=void 0;var Xze=Zy;function Kze(e,t,n,r,o){return new Nae(e,t,n,r,o)}Ft.createOperatorSubscriber=Kze;var Nae=function(e){qze(t,e);function t(n,r,o,i,a,s){var l=e.call(this,n)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(u){n.error(u)}}:e.prototype._next,l._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Xze.Subscriber);Ft.OperatorSubscriber=Nae;Object.defineProperty(W_,"__esModule",{value:!0});W_.refCount=void 0;var Yze=Mt,Zze=Ft;function Qze(){return Yze.operate(function(e,t){var n=null;e._refCount++;var r=Zze.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}W_.refCount=Qze;var Jze=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(sg,"__esModule",{value:!0});sg.ConnectableObservable=void 0;var e6e=gr,EG=ti,t6e=W_,n6e=Ft,r6e=Mt,o6e=function(e){Jze(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,r6e.hasLift(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new EG.Subscription;var o=this.getSubject();r.add(this.source.subscribe(n6e.createOperatorSubscriber(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=EG.Subscription.EMPTY)}return r},t.prototype.refCount=function(){return t6e.refCount()(this)},t}(e6e.Observable);sg.ConnectableObservable=o6e;var fO={},Bae={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(Bae);var rz={};(function(e){var t=ue&&ue.__read||function(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var s=a.call(o),l,c=[],u;try{for(;(i===void 0||i-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(d){u={error:d}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(u)throw u.error}}return c},n=ue&&ue.__spreadArray||function(o,i){for(var a=0,s=i.length,l=o.length;a<s;a++,l++)o[l]=i[a];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var r=ti;e.animationFrameProvider={schedule:function(o){var i=requestAnimationFrame,a=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(i=s.requestAnimationFrame,a=s.cancelAnimationFrame);var l=i(function(c){a=void 0,o(c)});return new r.Subscription(function(){return a==null?void 0:a(l)})},requestAnimationFrame:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,n([],t(o)))},cancelAnimationFrame:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,n([],t(o)))},delegate:void 0}})(rz);Object.defineProperty(fO,"__esModule",{value:!0});fO.animationFrames=void 0;var i6e=gr,a6e=Bae,TG=rz;function s6e(e){return e?jae(e):l6e}fO.animationFrames=s6e;function jae(e){return new i6e.Observable(function(t){var n=e||a6e.performanceTimestampProvider,r=n.now(),o=0,i=function(){t.closed||(o=TG.animationFrameProvider.requestAnimationFrame(function(a){o=0;var s=n.now();t.next({timestamp:e?s:a,elapsed:s-r}),i()}))};return i(),function(){o&&TG.animationFrameProvider.cancelAnimationFrame(o)}})}var l6e=jae(),Mo={},q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.ObjectUnsubscribedError=void 0;var c6e=ku;q_.ObjectUnsubscribedError=c6e.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var zae=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),u6e=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.AnonymousSubject=Mo.Subject=void 0;var OG=gr,c5=ti,d6e=q_,f6e=Mc,DR=Sp,Hae=function(e){zae(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new u5(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new d6e.ObjectUnsubscribedError},t.prototype.next=function(n){var r=this;DR.errorContext(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=u6e(r.currentObservers),s=a.next();!s.done;s=a.next()){var l=s.value;l.next(n)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;DR.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;DR.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?c5.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(n),new c5.Subscription(function(){r.currentObservers=null,f6e.arrRemove(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,a=r.isStopped;o?n.error(i):a&&n.complete()},t.prototype.asObservable=function(){var n=new OG.Observable;return n.source=this,n},t.create=function(n,r){return new u5(n,r)},t}(OG.Observable);Mo.Subject=Hae;var u5=function(e){zae(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:c5.EMPTY_SUBSCRIPTION},t}(Hae);Mo.AnonymousSubject=u5;var X_={},p6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(X_,"__esModule",{value:!0});X_.BehaviorSubject=void 0;var h6e=Mo,m6e=function(e){p6e(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(h6e.Subject);X_.BehaviorSubject=m6e;var Qy={},pO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(pO);var g6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.ReplaySubject=void 0;var v6e=Mo,b6e=pO,y6e=function(e){g6e(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=b6e.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;o||(i.push(n),!a&&i.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),l=0;l<s.length&&!n.closed;l+=i?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var l=o.now(),c=0,u=1;u<i.length&&i[u]<=l;u+=2)c=u;c&&i.splice(0,c+1)}},t}(v6e.Subject);Qy.ReplaySubject=y6e;var Jy={},x6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Jy,"__esModule",{value:!0});Jy.AsyncSubject=void 0;var w6e=Mo,_6e=function(e){x6e(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r._hasValue,a=r._value,s=r.thrownError,l=r.isStopped,c=r._isComplete;o?n.error(s):(l||c)&&(i&&n.next(a),n.complete())},t.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},t.prototype.complete=function(){var n=this,r=n._hasValue,o=n._value,i=n._isComplete;i||(this._isComplete=!0,r&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t}(w6e.Subject);Jy.AsyncSubject=_6e;var Vae={},hO={},qp={},mO={},S6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(mO,"__esModule",{value:!0});mO.Action=void 0;var C6e=ti,P6e=function(e){S6e(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(C6e.Subscription);mO.Action=P6e;var Uae={};(function(e){var t=ue&&ue.__read||function(r,o){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(c)throw c.error}}return l},n=ue&&ue.__spreadArray||function(r,o){for(var i=0,a=o.length,s=r.length;i<a;i++,s++)r[s]=o[i];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(r,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,n([r,o],t(i))):setInterval.apply(void 0,n([r,o],t(i)))},clearInterval:function(r){var o=e.intervalProvider.delegate;return((o==null?void 0:o.clearInterval)||clearInterval)(r)},delegate:void 0}})(Uae);var M6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qp,"__esModule",{value:!0});qp.AsyncAction=void 0;var A6e=mO,IG=Uae,E6e=Mc,T6e=function(e){M6e(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),IG.intervalProvider.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&IG.intervalProvider.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,E6e.arrRemove(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(A6e.Action);qp.AsyncAction=T6e;var Gae={},Yb={};Object.defineProperty(Yb,"__esModule",{value:!0});Yb.TestTools=Yb.Immediate=void 0;var O6e=1,FR,AA={};function kG(e){return e in AA?(delete AA[e],!0):!1}Yb.Immediate={setImmediate:function(e){var t=O6e++;return AA[t]=!0,FR||(FR=Promise.resolve()),FR.then(function(){return kG(t)&&e()}),t},clearImmediate:function(e){kG(e)}};Yb.TestTools={pending:function(){return Object.keys(AA).length}};(function(e){var t=ue&&ue.__read||function(a,s){var l=typeof Symbol=="function"&&a[Symbol.iterator];if(!l)return a;var c=l.call(a),u,d=[],f;try{for(;(s===void 0||s-- >0)&&!(u=c.next()).done;)d.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(l=c.return)&&l.call(c)}finally{if(f)throw f.error}}return d},n=ue&&ue.__spreadArray||function(a,s){for(var l=0,c=s.length,u=a.length;l<c;l++,u++)a[u]=s[l];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var r=Yb,o=r.Immediate.setImmediate,i=r.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=e.immediateProvider.delegate;return((l==null?void 0:l.setImmediate)||o).apply(void 0,n([],t(a)))},clearImmediate:function(a){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||i)(a)},delegate:void 0}})(Gae);var I6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(hO,"__esModule",{value:!0});hO.AsapAction=void 0;var k6e=qp,RG=Gae,R6e=function(e){I6e(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=RG.immediateProvider.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var a=n.actions;r!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==r&&(RG.immediateProvider.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(k6e.AsyncAction);hO.AsapAction=R6e;var gO={},Xp={},K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.Scheduler=void 0;var L6e=pO,$6e=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=L6e.dateTimestampProvider.now,e}();K_.Scheduler=$6e;var D6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.AsyncScheduler=void 0;var LG=K_,F6e=function(e){D6e(t,e);function t(n,r){r===void 0&&(r=LG.Scheduler.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(LG.Scheduler);Xp.AsyncScheduler=F6e;var N6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(gO,"__esModule",{value:!0});gO.AsapScheduler=void 0;var B6e=Xp,j6e=function(e){N6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(B6e.AsyncScheduler);gO.AsapScheduler=j6e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=hO,n=gO;e.asapScheduler=new n.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(Vae);var cs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=qp,n=Xp;e.asyncScheduler=new n.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(cs);var Wae={},vO={},z6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(vO,"__esModule",{value:!0});vO.QueueAction=void 0;var H6e=qp,V6e=function(e){z6e(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.flush(this),0)},t}(H6e.AsyncAction);vO.QueueAction=V6e;var bO={},U6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(bO,"__esModule",{value:!0});bO.QueueScheduler=void 0;var G6e=Xp,W6e=function(e){U6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(G6e.AsyncScheduler);bO.QueueScheduler=W6e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=vO,n=bO;e.queueScheduler=new n.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(Wae);var qae={},yO={},q6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(yO,"__esModule",{value:!0});yO.AnimationFrameAction=void 0;var X6e=qp,$G=rz,K6e=function(e){q6e(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=$G.animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var a=n.actions;r!=null&&((i=a[a.length-1])===null||i===void 0?void 0:i.id)!==r&&($G.animationFrameProvider.cancelAnimationFrame(r),n._scheduled=void 0)},t}(X6e.AsyncAction);yO.AnimationFrameAction=K6e;var xO={},Y6e=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(xO,"__esModule",{value:!0});xO.AnimationFrameScheduler=void 0;var Z6e=Xp,Q6e=function(e){Y6e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(Z6e.AsyncScheduler);xO.AnimationFrameScheduler=Q6e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=yO,n=xO;e.animationFrameScheduler=new n.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(qae);var Zb={},Xae=ue&&ue.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.VirtualAction=Zb.VirtualTimeScheduler=void 0;var J6e=qp,e8e=ti,t8e=Xp,n8e=function(e){Xae(t,e);function t(n,r){n===void 0&&(n=Kae),r===void 0&&(r=1/0);var o=e.call(this,n,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var n=this,r=n.actions,o=n.maxFrames,i,a;(a=r[0])&&a.delay<=o&&(r.shift(),this.frame=a.delay,!(i=a.execute(a.state,a.delay))););if(i){for(;a=r.shift();)a.unsubscribe();throw i}},t.frameTimeFactor=10,t}(t8e.AsyncScheduler);Zb.VirtualTimeScheduler=n8e;var Kae=function(e){Xae(t,e);function t(n,r,o){o===void 0&&(o=n.index+=1);var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.index=o,i.active=!0,i.index=n.index=o,i}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),Number.isFinite(r)){if(!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)}else return e8e.Subscription.EMPTY},t.prototype.requestAsyncId=function(n,r,o){o===void 0&&(o=0),this.delay=n.frame+o;var i=n.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(n,r,o){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(J6e.AsyncAction);Zb.VirtualAction=Kae;var wO={},Sc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=gr;e.EMPTY=new t.Observable(function(o){return o.complete()});function n(o){return o?r(o):e.EMPTY}e.empty=n;function r(o){return new t.Observable(function(i){return o.schedule(function(){return i.complete()})})}})(Sc);var e0={},zo={},lg={};Object.defineProperty(lg,"__esModule",{value:!0});lg.isScheduler=void 0;var r8e=lr;function o8e(e){return e&&r8e.isFunction(e.schedule)}lg.isScheduler=o8e;Object.defineProperty(zo,"__esModule",{value:!0});zo.popNumber=zo.popScheduler=zo.popResultSelector=void 0;var i8e=lr,a8e=lg;function oz(e){return e[e.length-1]}function s8e(e){return i8e.isFunction(oz(e))?e.pop():void 0}zo.popResultSelector=s8e;function l8e(e){return a8e.isScheduler(oz(e))?e.pop():void 0}zo.popScheduler=l8e;function c8e(e,t){return typeof oz(e)=="number"?e.pop():t}zo.popNumber=c8e;var Ac={},Y_={},_O={},qt={},t0={};Object.defineProperty(t0,"__esModule",{value:!0});t0.isArrayLike=void 0;t0.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var Z_={};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.isPromise=void 0;var u8e=lr;function d8e(e){return u8e.isFunction(e==null?void 0:e.then)}Z_.isPromise=d8e;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.isInteropObservable=void 0;var f8e=ag,p8e=lr;function h8e(e){return p8e.isFunction(e[f8e.observable])}Q_.isInteropObservable=h8e;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.isAsyncIterable=void 0;var m8e=lr;function g8e(e){return Symbol.asyncIterator&&m8e.isFunction(e==null?void 0:e[Symbol.asyncIterator])}J_.isAsyncIterable=g8e;var eS={};Object.defineProperty(eS,"__esModule",{value:!0});eS.createInvalidObservableTypeError=void 0;function v8e(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}eS.createInvalidObservableTypeError=v8e;var tS={},Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.iterator=Em.getSymbolIterator=void 0;function Yae(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}Em.getSymbolIterator=Yae;Em.iterator=Yae();Object.defineProperty(tS,"__esModule",{value:!0});tS.isIterable=void 0;var b8e=Em,y8e=lr;function x8e(e){return y8e.isFunction(e==null?void 0:e[b8e.iterator])}tS.isIterable=x8e;var Cp={},w8e=ue&&ue.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},cb=ue&&ue.__await||function(e){return this instanceof cb?(this.v=e,this):new cb(e)},_8e=ue&&ue.__asyncGenerator||function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(f){r[f]&&(o[f]=function(p){return new Promise(function(h,g){i.push([f,p,h,g])>1||s(f,p)})})}function s(f,p){try{l(r[f](p))}catch(h){d(i[0][3],h)}}function l(f){f.value instanceof cb?Promise.resolve(f.value.v).then(c,u):d(i[0][2],f)}function c(f){s("next",f)}function u(f){s("throw",f)}function d(f,p){f(p),i.shift(),i.length&&s(i[0][0],i[0][1])}};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.isReadableStreamLike=Cp.readableStreamLikeToAsyncGenerator=void 0;var S8e=lr;function C8e(e){return _8e(this,arguments,function(){var n,r,o,i;return w8e(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,cb(n.read())];case 3:return r=a.sent(),o=r.value,i=r.done,i?[4,cb(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,cb(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}Cp.readableStreamLikeToAsyncGenerator=C8e;function P8e(e){return S8e.isFunction(e==null?void 0:e.getReader)}Cp.isReadableStreamLike=P8e;var M8e=ue&&ue.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?i(u.value):o(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})},A8e=ue&&ue.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},E8e=ue&&ue.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof d5=="function"?d5(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(s,l){a=e[i](a),o(s,l,a.done,a.value)})}}function o(i,a,s,l){Promise.resolve(l).then(function(c){i({value:c,done:s})},a)}},d5=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qt,"__esModule",{value:!0});qt.fromReadableStreamLike=qt.fromAsyncIterable=qt.fromIterable=qt.fromPromise=qt.fromArrayLike=qt.fromInteropObservable=qt.innerFrom=void 0;var T8e=t0,O8e=Z_,n0=gr,I8e=Q_,k8e=J_,R8e=eS,L8e=tS,Zae=Cp,$8e=lr,D8e=G_,F8e=ag;function N8e(e){if(e instanceof n0.Observable)return e;if(e!=null){if(I8e.isInteropObservable(e))return Qae(e);if(T8e.isArrayLike(e))return Jae(e);if(O8e.isPromise(e))return ese(e);if(k8e.isAsyncIterable(e))return iz(e);if(L8e.isIterable(e))return tse(e);if(Zae.isReadableStreamLike(e))return nse(e)}throw R8e.createInvalidObservableTypeError(e)}qt.innerFrom=N8e;function Qae(e){return new n0.Observable(function(t){var n=e[F8e.observable]();if($8e.isFunction(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}qt.fromInteropObservable=Qae;function Jae(e){return new n0.Observable(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}qt.fromArrayLike=Jae;function ese(e){return new n0.Observable(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,D8e.reportUnhandledError)})}qt.fromPromise=ese;function tse(e){return new n0.Observable(function(t){var n,r;try{for(var o=d5(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}qt.fromIterable=tse;function iz(e){return new n0.Observable(function(t){B8e(e,t).catch(function(n){return t.error(n)})})}qt.fromAsyncIterable=iz;function nse(e){return iz(Zae.readableStreamLikeToAsyncGenerator(e))}qt.fromReadableStreamLike=nse;function B8e(e,t){var n,r,o,i;return M8e(this,void 0,void 0,function(){var a,s;return A8e(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=E8e(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var cg={},Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.executeSchedule=void 0;function j8e(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}Ec.executeSchedule=j8e;Object.defineProperty(cg,"__esModule",{value:!0});cg.observeOn=void 0;var NR=Ec,z8e=Mt,H8e=Ft;function V8e(e,t){return t===void 0&&(t=0),z8e.operate(function(n,r){n.subscribe(H8e.createOperatorSubscriber(r,function(o){return NR.executeSchedule(r,e,function(){return r.next(o)},t)},function(){return NR.executeSchedule(r,e,function(){return r.complete()},t)},function(o){return NR.executeSchedule(r,e,function(){return r.error(o)},t)}))})}cg.observeOn=V8e;var ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.subscribeOn=void 0;var U8e=Mt;function G8e(e,t){return t===void 0&&(t=0),U8e.operate(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}ug.subscribeOn=G8e;Object.defineProperty(_O,"__esModule",{value:!0});_O.scheduleObservable=void 0;var W8e=qt,q8e=cg,X8e=ug;function K8e(e,t){return W8e.innerFrom(e).pipe(X8e.subscribeOn(t),q8e.observeOn(t))}_O.scheduleObservable=K8e;var SO={};Object.defineProperty(SO,"__esModule",{value:!0});SO.schedulePromise=void 0;var Y8e=qt,Z8e=cg,Q8e=ug;function J8e(e,t){return Y8e.innerFrom(e).pipe(Q8e.subscribeOn(t),Z8e.observeOn(t))}SO.schedulePromise=J8e;var CO={};Object.defineProperty(CO,"__esModule",{value:!0});CO.scheduleArray=void 0;var eHe=gr;function tHe(e,t){return new eHe.Observable(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}CO.scheduleArray=tHe;var nS={};Object.defineProperty(nS,"__esModule",{value:!0});nS.scheduleIterable=void 0;var nHe=gr,rHe=Em,oHe=lr,DG=Ec;function iHe(e,t){return new nHe.Observable(function(n){var r;return DG.executeSchedule(n,t,function(){r=e[rHe.iterator](),DG.executeSchedule(n,t,function(){var o,i,a;try{o=r.next(),i=o.value,a=o.done}catch(s){n.error(s);return}a?n.complete():n.next(i)},0,!0)}),function(){return oHe.isFunction(r==null?void 0:r.return)&&r.return()}})}nS.scheduleIterable=iHe;var rS={};Object.defineProperty(rS,"__esModule",{value:!0});rS.scheduleAsyncIterable=void 0;var aHe=gr,FG=Ec;function sHe(e,t){if(!e)throw new Error("Iterable cannot be null");return new aHe.Observable(function(n){FG.executeSchedule(n,t,function(){var r=e[Symbol.asyncIterator]();FG.executeSchedule(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}rS.scheduleAsyncIterable=sHe;var PO={};Object.defineProperty(PO,"__esModule",{value:!0});PO.scheduleReadableStreamLike=void 0;var lHe=rS,cHe=Cp;function uHe(e,t){return lHe.scheduleAsyncIterable(cHe.readableStreamLikeToAsyncGenerator(e),t)}PO.scheduleReadableStreamLike=uHe;Object.defineProperty(Y_,"__esModule",{value:!0});Y_.scheduled=void 0;var dHe=_O,fHe=SO,pHe=CO,hHe=nS,mHe=rS,gHe=Q_,vHe=Z_,bHe=t0,yHe=tS,xHe=J_,wHe=eS,_He=Cp,SHe=PO;function CHe(e,t){if(e!=null){if(gHe.isInteropObservable(e))return dHe.scheduleObservable(e,t);if(bHe.isArrayLike(e))return pHe.scheduleArray(e,t);if(vHe.isPromise(e))return fHe.schedulePromise(e,t);if(xHe.isAsyncIterable(e))return mHe.scheduleAsyncIterable(e,t);if(yHe.isIterable(e))return hHe.scheduleIterable(e,t);if(_He.isReadableStreamLike(e))return SHe.scheduleReadableStreamLike(e,t)}throw wHe.createInvalidObservableTypeError(e)}Y_.scheduled=CHe;Object.defineProperty(Ac,"__esModule",{value:!0});Ac.from=void 0;var PHe=Y_,MHe=qt;function AHe(e,t){return t?PHe.scheduled(e,t):MHe.innerFrom(e)}Ac.from=AHe;Object.defineProperty(e0,"__esModule",{value:!0});e0.of=void 0;var EHe=zo,THe=Ac;function OHe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=EHe.popScheduler(e);return THe.from(e,n)}e0.of=OHe;var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.throwError=void 0;var IHe=gr,kHe=lr;function RHe(e,t){var n=kHe.isFunction(e)?e:function(){return e},r=function(o){return o.error(n())};return new IHe.Observable(t?function(o){return t.schedule(r,0,o)}:r)}oS.throwError=RHe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Sc,n=e0,r=oS,o=lr;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var i=function(){function s(l,c,u){this.kind=l,this.value=c,this.error=u,this.hasValue=l==="N"}return s.prototype.observe=function(l){return a(this,l)},s.prototype.do=function(l,c,u){var d=this,f=d.kind,p=d.value,h=d.error;return f==="N"?l==null?void 0:l(p):f==="E"?c==null?void 0:c(h):u==null?void 0:u()},s.prototype.accept=function(l,c,u){var d;return o.isFunction((d=l)===null||d===void 0?void 0:d.next)?this.observe(l):this.do(l,c,u)},s.prototype.toObservable=function(){var l=this,c=l.kind,u=l.value,d=l.error,f=c==="N"?n.of(u):c==="E"?r.throwError(function(){return d}):c==="C"?t.EMPTY:0;if(!f)throw new TypeError("Unexpected notification kind "+c);return f},s.createNext=function(l){return new s("N",l)},s.createError=function(l){return new s("E",void 0,l)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=i;function a(s,l){var c,u,d,f=s,p=f.kind,h=f.value,g=f.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(c=l.next)===null||c===void 0||c.call(l,h):p==="E"?(u=l.error)===null||u===void 0||u.call(l,g):(d=l.complete)===null||d===void 0||d.call(l)}e.observeNotification=a})(wO);var MO={};Object.defineProperty(MO,"__esModule",{value:!0});MO.isObservable=void 0;var LHe=gr,NG=lr;function $He(e){return!!e&&(e instanceof LHe.Observable||NG.isFunction(e.lift)&&NG.isFunction(e.subscribe))}MO.isObservable=$He;var AO={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.EmptyError=void 0;var DHe=ku;Ru.EmptyError=DHe.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(AO,"__esModule",{value:!0});AO.lastValueFrom=void 0;var FHe=Ru;function NHe(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,a;e.subscribe({next:function(s){a=s,i=!0},error:o,complete:function(){i?r(a):n?r(t.defaultValue):o(new FHe.EmptyError)}})})}AO.lastValueFrom=NHe;var EO={};Object.defineProperty(EO,"__esModule",{value:!0});EO.firstValueFrom=void 0;var BHe=Ru,jHe=Zy;function zHe(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=new jHe.SafeSubscriber({next:function(a){r(a),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new BHe.EmptyError)}});e.subscribe(i)})}EO.firstValueFrom=zHe;var iS={};Object.defineProperty(iS,"__esModule",{value:!0});iS.ArgumentOutOfRangeError=void 0;var HHe=ku;iS.ArgumentOutOfRangeError=HHe.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var aS={};Object.defineProperty(aS,"__esModule",{value:!0});aS.NotFoundError=void 0;var VHe=ku;aS.NotFoundError=VHe.createErrorClass(function(e){return function(n){e(this),this.name="NotFoundError",this.message=n}});var sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.SequenceError=void 0;var UHe=ku;sS.SequenceError=UHe.createErrorClass(function(e){return function(n){e(this),this.name="SequenceError",this.message=n}});var EA={},r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.isValidDate=void 0;function GHe(e){return e instanceof Date&&!isNaN(e)}r0.isValidDate=GHe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=cs,n=r0,r=Mt,o=qt,i=ku,a=Ft,s=Ec;e.TimeoutError=i.createErrorClass(function(u){return function(f){f===void 0&&(f=null),u(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=f}});function l(u,d){var f=n.isValidDate(u)?{first:u}:typeof u=="number"?{each:u}:u,p=f.first,h=f.each,g=f.with,v=g===void 0?c:g,m=f.scheduler,b=m===void 0?d??t.asyncScheduler:m,x=f.meta,y=x===void 0?null:x;if(p==null&&h==null)throw new TypeError("No timeout provided.");return r.operate(function(w,_){var S,P,M=null,I=0,O=function(L){P=s.executeSchedule(_,b,function(){try{S.unsubscribe(),o.innerFrom(v({meta:y,lastValue:M,seen:I})).subscribe(_)}catch(R){_.error(R)}},L)};S=w.subscribe(a.createOperatorSubscriber(_,function(L){P==null||P.unsubscribe(),I++,_.next(M=L),h>0&&O(h)},void 0,void 0,function(){P!=null&&P.closed||P==null||P.unsubscribe(),M=null})),!I&&O(p!=null?typeof p=="number"?p:+p-b.now():h)})}e.timeout=l;function c(u){throw new e.TimeoutError(u)}})(EA);var TO={},lS={},Lu={},$u={};Object.defineProperty($u,"__esModule",{value:!0});$u.map=void 0;var WHe=Mt,qHe=Ft;function XHe(e,t){return WHe.operate(function(n,r){var o=0;n.subscribe(qHe.createOperatorSubscriber(r,function(i){r.next(e.call(t,i,o++))}))})}$u.map=XHe;var KHe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},YHe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.mapOneOrManyArgs=void 0;var ZHe=$u,QHe=Array.isArray;function JHe(e,t){return QHe(t)?e.apply(void 0,YHe([],KHe(t))):e(t)}function eVe(e){return ZHe.map(function(t){return JHe(e,t)})}Lu.mapOneOrManyArgs=eVe;var tVe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},BG=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(lS,"__esModule",{value:!0});lS.bindCallbackInternals=void 0;var nVe=lg,rVe=gr,oVe=ug,iVe=Lu,aVe=cg,sVe=Jy;function f5(e,t,n,r){if(n)if(nVe.isScheduler(n))r=n;else return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return f5(e,t,r).apply(this,o).pipe(iVe.mapOneOrManyArgs(n))};return r?function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return f5(e,t).apply(this,o).pipe(oVe.subscribeOn(r),aVe.observeOn(r))}:function(){for(var o=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=new sVe.AsyncSubject,l=!0;return new rVe.Observable(function(c){var u=s.subscribe(c);if(l){l=!1;var d=!1,f=!1;t.apply(o,BG(BG([],tVe(i)),[function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];if(e){var g=p.shift();if(g!=null){s.error(g);return}}s.next(1<p.length?p:p[0]),f=!0,d&&s.complete()}])),f&&s.complete(),d=!0}return u})}}lS.bindCallbackInternals=f5;Object.defineProperty(TO,"__esModule",{value:!0});TO.bindCallback=void 0;var lVe=lS;function cVe(e,t,n){return lVe.bindCallbackInternals(!1,e,t,n)}TO.bindCallback=cVe;var OO={};Object.defineProperty(OO,"__esModule",{value:!0});OO.bindNodeCallback=void 0;var uVe=lS;function dVe(e,t,n){return uVe.bindCallbackInternals(!0,e,t,n)}OO.bindNodeCallback=dVe;var Pp={},cS={};Object.defineProperty(cS,"__esModule",{value:!0});cS.argsArgArrayOrObject=void 0;var fVe=Array.isArray,pVe=Object.getPrototypeOf,hVe=Object.prototype,mVe=Object.keys;function gVe(e){if(e.length===1){var t=e[0];if(fVe(t))return{args:t,keys:null};if(vVe(t)){var n=mVe(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}cS.argsArgArrayOrObject=gVe;function vVe(e){return e&&typeof e=="object"&&pVe(e)===hVe}var uS={};Object.defineProperty(uS,"__esModule",{value:!0});uS.createObject=void 0;function bVe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}uS.createObject=bVe;Object.defineProperty(Pp,"__esModule",{value:!0});Pp.combineLatestInit=Pp.combineLatest=void 0;var yVe=gr,xVe=cS,rse=Ac,ose=si,wVe=Lu,jG=zo,_Ve=uS,SVe=Ft,CVe=Ec;function PVe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=jG.popScheduler(e),r=jG.popResultSelector(e),o=xVe.argsArgArrayOrObject(e),i=o.args,a=o.keys;if(i.length===0)return rse.from([],n);var s=new yVe.Observable(ise(i,n,a?function(l){return _Ve.createObject(a,l)}:ose.identity));return r?s.pipe(wVe.mapOneOrManyArgs(r)):s}Pp.combineLatest=PVe;function ise(e,t,n){return n===void 0&&(n=ose.identity),function(r){zG(t,function(){for(var o=e.length,i=new Array(o),a=o,s=o,l=function(u){zG(t,function(){var d=rse.from(e[u],t),f=!1;d.subscribe(SVe.createOperatorSubscriber(r,function(p){i[u]=p,f||(f=!0,s--),s||r.next(n(i.slice()))},function(){--a||r.complete()}))},r)},c=0;c<o;c++)l(c)},r)}}Pp.combineLatestInit=ise;function zG(e,t,n){e?CVe.executeSchedule(n,e,t):t()}var dg={},o0={},fg={},Tc={},i0={};Object.defineProperty(i0,"__esModule",{value:!0});i0.mergeInternals=void 0;var MVe=qt,AVe=Ec,HG=Ft;function EVe(e,t,n,r,o,i,a,s){var l=[],c=0,u=0,d=!1,f=function(){d&&!l.length&&!c&&t.complete()},p=function(g){return c<r?h(g):l.push(g)},h=function(g){i&&t.next(g),c++;var v=!1;MVe.innerFrom(n(g,u++)).subscribe(HG.createOperatorSubscriber(t,function(m){o==null||o(m),i?p(m):t.next(m)},function(){v=!0},void 0,function(){if(v)try{c--;for(var m=function(){var b=l.shift();a?AVe.executeSchedule(t,a,function(){return h(b)}):h(b)};l.length&&c<r;)m();f()}catch(b){t.error(b)}}))};return e.subscribe(HG.createOperatorSubscriber(t,p,function(){d=!0,f()})),function(){s==null||s()}}i0.mergeInternals=EVe;Object.defineProperty(Tc,"__esModule",{value:!0});Tc.mergeMap=void 0;var TVe=$u,OVe=qt,IVe=Mt,kVe=i0,RVe=lr;function ase(e,t,n){return n===void 0&&(n=1/0),RVe.isFunction(t)?ase(function(r,o){return TVe.map(function(i,a){return t(r,i,o,a)})(OVe.innerFrom(e(r,o)))},n):(typeof t=="number"&&(n=t),IVe.operate(function(r,o){return kVe.mergeInternals(r,o,e,n)}))}Tc.mergeMap=ase;Object.defineProperty(fg,"__esModule",{value:!0});fg.mergeAll=void 0;var LVe=Tc,$Ve=si;function DVe(e){return e===void 0&&(e=1/0),LVe.mergeMap($Ve.identity,e)}fg.mergeAll=DVe;Object.defineProperty(o0,"__esModule",{value:!0});o0.concatAll=void 0;var FVe=fg;function NVe(){return FVe.mergeAll(1)}o0.concatAll=NVe;Object.defineProperty(dg,"__esModule",{value:!0});dg.concat=void 0;var BVe=o0,jVe=zo,zVe=Ac;function HVe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return BVe.concatAll()(zVe.from(e,jVe.popScheduler(e)))}dg.concat=HVe;var IO={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.defer=void 0;var VVe=gr,UVe=qt;function GVe(e){return new VVe.Observable(function(t){UVe.innerFrom(e()).subscribe(t)})}pg.defer=GVe;Object.defineProperty(IO,"__esModule",{value:!0});IO.connectable=void 0;var WVe=Mo,qVe=gr,XVe=pg,KVe={connector:function(){return new WVe.Subject},resetOnDisconnect:!0};function YVe(e,t){t===void 0&&(t=KVe);var n=null,r=t.connector,o=t.resetOnDisconnect,i=o===void 0?!0:o,a=r(),s=new qVe.Observable(function(l){return a.subscribe(l)});return s.connect=function(){return(!n||n.closed)&&(n=XVe.defer(function(){return e}).subscribe(a),i&&n.add(function(){return a=r()})),n},s}IO.connectable=YVe;var kO={};Object.defineProperty(kO,"__esModule",{value:!0});kO.forkJoin=void 0;var ZVe=gr,QVe=cS,JVe=qt,eUe=zo,tUe=Ft,nUe=Lu,rUe=uS;function oUe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eUe.popResultSelector(e),r=QVe.argsArgArrayOrObject(e),o=r.args,i=r.keys,a=new ZVe.Observable(function(s){var l=o.length;if(!l){s.complete();return}for(var c=new Array(l),u=l,d=l,f=function(h){var g=!1;JVe.innerFrom(o[h]).subscribe(tUe.createOperatorSubscriber(s,function(v){g||(g=!0,d--),c[h]=v},function(){return u--},void 0,function(){(!u||!g)&&(d||s.next(i?rUe.createObject(i,c):c),s.complete())}))},p=0;p<l;p++)f(p)});return n?a.pipe(nUe.mapOneOrManyArgs(n)):a}kO.forkJoin=oUe;var RO={},iUe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};Object.defineProperty(RO,"__esModule",{value:!0});RO.fromEvent=void 0;var aUe=qt,sUe=gr,lUe=Tc,cUe=t0,Tm=lr,uUe=Lu,dUe=["addListener","removeListener"],fUe=["addEventListener","removeEventListener"],pUe=["on","off"];function p5(e,t,n,r){if(Tm.isFunction(n)&&(r=n,n=void 0),r)return p5(e,t,n).pipe(uUe.mapOneOrManyArgs(r));var o=iUe(gUe(e)?fUe.map(function(s){return function(l){return e[s](t,l,n)}}):hUe(e)?dUe.map(VG(e,t)):mUe(e)?pUe.map(VG(e,t)):[],2),i=o[0],a=o[1];if(!i&&cUe.isArrayLike(e))return lUe.mergeMap(function(s){return p5(s,t,n)})(aUe.innerFrom(e));if(!i)throw new TypeError("Invalid event target");return new sUe.Observable(function(s){var l=function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return s.next(1<c.length?c:c[0])};return i(l),function(){return a(l)}})}RO.fromEvent=p5;function VG(e,t){return function(n){return function(r){return e[n](t,r)}}}function hUe(e){return Tm.isFunction(e.addListener)&&Tm.isFunction(e.removeListener)}function mUe(e){return Tm.isFunction(e.on)&&Tm.isFunction(e.off)}function gUe(e){return Tm.isFunction(e.addEventListener)&&Tm.isFunction(e.removeEventListener)}var LO={};Object.defineProperty(LO,"__esModule",{value:!0});LO.fromEventPattern=void 0;var vUe=gr,bUe=lr,yUe=Lu;function sse(e,t,n){return n?sse(e,t).pipe(yUe.mapOneOrManyArgs(n)):new vUe.Observable(function(r){var o=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.next(a.length===1?a[0]:a)},i=e(o);return bUe.isFunction(t)?function(){return t(o,i)}:void 0})}LO.fromEventPattern=sse;var $O={},xUe=ue&&ue.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty($O,"__esModule",{value:!0});$O.generate=void 0;var UG=si,wUe=lg,_Ue=pg,SUe=nS;function CUe(e,t,n,r,o){var i,a,s,l;arguments.length===1?(i=e,l=i.initialState,t=i.condition,n=i.iterate,a=i.resultSelector,s=a===void 0?UG.identity:a,o=i.scheduler):(l=e,!r||wUe.isScheduler(r)?(s=UG.identity,o=r):s=r);function c(){var u;return xUe(this,function(d){switch(d.label){case 0:u=l,d.label=1;case 1:return!t||t(u)?[4,s(u)]:[3,4];case 2:d.sent(),d.label=3;case 3:return u=n(u),[3,1];case 4:return[2]}})}return _Ue.defer(o?function(){return SUe.scheduleIterable(c(),o)}:c)}$O.generate=CUe;var DO={};Object.defineProperty(DO,"__esModule",{value:!0});DO.iif=void 0;var PUe=pg;function MUe(e,t,n){return PUe.defer(function(){return e()?t:n})}DO.iif=MUe;var dS={},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.timer=void 0;var AUe=gr,EUe=cs,TUe=lg,OUe=r0;function IUe(e,t,n){e===void 0&&(e=0),n===void 0&&(n=EUe.async);var r=-1;return t!=null&&(TUe.isScheduler(t)?n=t:r=t),new AUe.Observable(function(o){var i=OUe.isValidDate(e)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},i)})}Du.timer=IUe;Object.defineProperty(dS,"__esModule",{value:!0});dS.interval=void 0;var kUe=cs,RUe=Du;function LUe(e,t){return e===void 0&&(e=0),t===void 0&&(t=kUe.asyncScheduler),e<0&&(e=0),RUe.timer(e,e,t)}dS.interval=LUe;var FO={};Object.defineProperty(FO,"__esModule",{value:!0});FO.merge=void 0;var $Ue=fg,DUe=qt,FUe=Sc,GG=zo,NUe=Ac;function BUe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=GG.popScheduler(e),r=GG.popNumber(e,1/0),o=e;return o.length?o.length===1?DUe.innerFrom(o[0]):$Ue.mergeAll(r)(NUe.from(o,n)):FUe.EMPTY}FO.merge=BUe;var h5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=gr,n=ai;e.NEVER=new t.Observable(n.noop);function r(){return e.NEVER}e.never=r})(h5);var fS={},Jd={};Object.defineProperty(Jd,"__esModule",{value:!0});Jd.argsOrArgArray=void 0;var jUe=Array.isArray;function zUe(e){return e.length===1&&jUe(e[0])?e[0]:e}Jd.argsOrArgArray=zUe;Object.defineProperty(fS,"__esModule",{value:!0});fS.onErrorResumeNext=void 0;var HUe=gr,VUe=Jd,UUe=Ft,WG=ai,GUe=qt;function WUe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VUe.argsOrArgArray(e);return new HUe.Observable(function(r){var o=0,i=function(){if(o<n.length){var a=void 0;try{a=GUe.innerFrom(n[o++])}catch{i();return}var s=new UUe.OperatorSubscriber(r,void 0,WG.noop,WG.noop);a.subscribe(s),s.add(i)}else r.complete()};i()})}fS.onErrorResumeNext=WUe;var NO={};Object.defineProperty(NO,"__esModule",{value:!0});NO.pairs=void 0;var qUe=Ac;function XUe(e,t){return qUe.from(Object.entries(e),t)}NO.pairs=XUe;var BO={},jO={};Object.defineProperty(jO,"__esModule",{value:!0});jO.not=void 0;function KUe(e,t){return function(n,r){return!e.call(t,n,r)}}jO.not=KUe;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.filter=void 0;var YUe=Mt,ZUe=Ft;function QUe(e,t){return YUe.operate(function(n,r){var o=0;n.subscribe(ZUe.createOperatorSubscriber(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}ef.filter=QUe;Object.defineProperty(BO,"__esModule",{value:!0});BO.partition=void 0;var JUe=jO,qG=ef,XG=qt;function eGe(e,t,n){return[qG.filter(t,n)(XG.innerFrom(e)),qG.filter(JUe.not(t,n))(XG.innerFrom(e))]}BO.partition=eGe;var Om={};Object.defineProperty(Om,"__esModule",{value:!0});Om.raceInit=Om.race=void 0;var tGe=gr,lse=qt,nGe=Jd,rGe=Ft;function oGe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=nGe.argsOrArgArray(e),e.length===1?lse.innerFrom(e[0]):new tGe.Observable(cse(e))}Om.race=oGe;function cse(e){return function(t){for(var n=[],r=function(i){n.push(lse.innerFrom(e[i]).subscribe(rGe.createOperatorSubscriber(t,function(a){if(n){for(var s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}t.next(a)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}Om.raceInit=cse;var zO={};Object.defineProperty(zO,"__esModule",{value:!0});zO.range=void 0;var iGe=gr,aGe=Sc;function sGe(e,t,n){if(t==null&&(t=e,e=0),t<=0)return aGe.EMPTY;var r=t+e;return new iGe.Observable(n?function(o){var i=e;return n.schedule(function(){i<r?(o.next(i++),this.schedule()):o.complete()})}:function(o){for(var i=e;i<r&&!o.closed;)o.next(i++);o.complete()})}zO.range=sGe;var HO={};Object.defineProperty(HO,"__esModule",{value:!0});HO.using=void 0;var lGe=gr,cGe=qt,uGe=Sc;function dGe(e,t){return new lGe.Observable(function(n){var r=e(),o=t(r),i=o?cGe.innerFrom(o):uGe.EMPTY;return i.subscribe(n),function(){r&&r.unsubscribe()}})}HO.using=dGe;var a0={},fGe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},pGe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(a0,"__esModule",{value:!0});a0.zip=void 0;var hGe=gr,mGe=qt,gGe=Jd,vGe=Sc,bGe=Ft,yGe=zo;function xGe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yGe.popResultSelector(e),r=gGe.argsOrArgArray(e);return r.length?new hGe.Observable(function(o){var i=r.map(function(){return[]}),a=r.map(function(){return!1});o.add(function(){i=a=null});for(var s=function(c){mGe.innerFrom(r[c]).subscribe(bGe.createOperatorSubscriber(o,function(u){if(i[c].push(u),i.every(function(f){return f.length})){var d=i.map(function(f){return f.shift()});o.next(n?n.apply(void 0,pGe([],fGe(d))):d),i.some(function(f,p){return!f.length&&a[p]})&&o.complete()}},function(){a[c]=!0,!i[c].length&&o.complete()}))},l=0;!o.closed&&l<r.length;l++)s(l);return function(){i=a=null}}):vGe.EMPTY}a0.zip=xGe;var use={};Object.defineProperty(use,"__esModule",{value:!0});var pS={};Object.defineProperty(pS,"__esModule",{value:!0});pS.audit=void 0;var wGe=Mt,_Ge=qt,KG=Ft;function SGe(e){return wGe.operate(function(t,n){var r=!1,o=null,i=null,a=!1,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var c=o;o=null,n.next(c)}a&&n.complete()},l=function(){i=null,a&&n.complete()};t.subscribe(KG.createOperatorSubscriber(n,function(c){r=!0,o=c,i||_Ge.innerFrom(e(c)).subscribe(i=KG.createOperatorSubscriber(n,s,l))},function(){a=!0,(!r||!i||i.closed)&&n.complete()}))})}pS.audit=SGe;var VO={};Object.defineProperty(VO,"__esModule",{value:!0});VO.auditTime=void 0;var CGe=cs,PGe=pS,MGe=Du;function AGe(e,t){return t===void 0&&(t=CGe.asyncScheduler),PGe.audit(function(){return MGe.timer(e,t)})}VO.auditTime=AGe;var UO={};Object.defineProperty(UO,"__esModule",{value:!0});UO.buffer=void 0;var EGe=Mt,TGe=ai,YG=Ft,OGe=qt;function IGe(e){return EGe.operate(function(t,n){var r=[];return t.subscribe(YG.createOperatorSubscriber(n,function(o){return r.push(o)},function(){n.next(r),n.complete()})),OGe.innerFrom(e).subscribe(YG.createOperatorSubscriber(n,function(){var o=r;r=[],n.next(o)},TGe.noop)),function(){r=null}})}UO.buffer=IGe;var GO={},BR=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(GO,"__esModule",{value:!0});GO.bufferCount=void 0;var kGe=Mt,RGe=Ft,LGe=Mc;function $Ge(e,t){return t===void 0&&(t=null),t=t??e,kGe.operate(function(n,r){var o=[],i=0;n.subscribe(RGe.createOperatorSubscriber(r,function(a){var s,l,c,u,d=null;i++%t===0&&o.push([]);try{for(var f=BR(o),p=f.next();!p.done;p=f.next()){var h=p.value;h.push(a),e<=h.length&&(d=d??[],d.push(h))}}catch(m){s={error:m}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}if(d)try{for(var g=BR(d),v=g.next();!v.done;v=g.next()){var h=v.value;LGe.arrRemove(o,h),r.next(h)}}catch(m){c={error:m}}finally{try{v&&!v.done&&(u=g.return)&&u.call(g)}finally{if(c)throw c.error}}},function(){var a,s;try{for(var l=BR(o),c=l.next();!c.done;c=l.next()){var u=c.value;r.next(u)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}r.complete()},void 0,function(){o=null}))})}GO.bufferCount=$Ge;var WO={},DGe=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(WO,"__esModule",{value:!0});WO.bufferTime=void 0;var FGe=ti,NGe=Mt,BGe=Ft,jGe=Mc,zGe=cs,HGe=zo,ZG=Ec;function VGe(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(t=HGe.popScheduler(r))!==null&&t!==void 0?t:zGe.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return NGe.operate(function(l,c){var u=[],d=!1,f=function(g){var v=g.buffer,m=g.subs;m.unsubscribe(),jGe.arrRemove(u,g),c.next(v),d&&p()},p=function(){if(u){var g=new FGe.Subscription;c.add(g);var v=[],m={buffer:v,subs:g};u.push(m),ZG.executeSchedule(g,i,function(){return f(m)},e)}};a!==null&&a>=0?ZG.executeSchedule(c,i,p,a,!0):d=!0,p();var h=BGe.createOperatorSubscriber(c,function(g){var v,m,b=u.slice();try{for(var x=DGe(b),y=x.next();!y.done;y=x.next()){var w=y.value,_=w.buffer;_.push(g),s<=_.length&&f(w)}}catch(S){v={error:S}}finally{try{y&&!y.done&&(m=x.return)&&m.call(x)}finally{if(v)throw v.error}}},function(){for(;u!=null&&u.length;)c.next(u.shift().buffer);h==null||h.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return u=null});l.subscribe(h)})}WO.bufferTime=VGe;var qO={},UGe=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qO,"__esModule",{value:!0});qO.bufferToggle=void 0;var GGe=ti,WGe=Mt,QG=qt,jR=Ft,JG=ai,qGe=Mc;function XGe(e,t){return WGe.operate(function(n,r){var o=[];QG.innerFrom(e).subscribe(jR.createOperatorSubscriber(r,function(i){var a=[];o.push(a);var s=new GGe.Subscription,l=function(){qGe.arrRemove(o,a),r.next(a),s.unsubscribe()};s.add(QG.innerFrom(t(i)).subscribe(jR.createOperatorSubscriber(r,l,JG.noop)))},JG.noop)),n.subscribe(jR.createOperatorSubscriber(r,function(i){var a,s;try{for(var l=UGe(o),c=l.next();!c.done;c=l.next()){var u=c.value;u.push(i)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},function(){for(;o.length>0;)r.next(o.shift());r.complete()}))})}qO.bufferToggle=XGe;var XO={};Object.defineProperty(XO,"__esModule",{value:!0});XO.bufferWhen=void 0;var KGe=Mt,YGe=ai,e9=Ft,ZGe=qt;function QGe(e){return KGe.operate(function(t,n){var r=null,o=null,i=function(){o==null||o.unsubscribe();var a=r;r=[],a&&n.next(a),ZGe.innerFrom(e()).subscribe(o=e9.createOperatorSubscriber(n,i,YGe.noop))};i(),t.subscribe(e9.createOperatorSubscriber(n,function(a){return r==null?void 0:r.push(a)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=o=null}))})}XO.bufferWhen=QGe;var KO={};Object.defineProperty(KO,"__esModule",{value:!0});KO.catchError=void 0;var JGe=qt,e9e=Ft,t9e=Mt;function dse(e){return t9e.operate(function(t,n){var r=null,o=!1,i;r=t.subscribe(e9e.createOperatorSubscriber(n,void 0,void 0,function(a){i=JGe.innerFrom(e(a,dse(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}KO.catchError=dse;var YO={},hS={},mS={},gS={},Kp={},vS={};Object.defineProperty(vS,"__esModule",{value:!0});vS.scanInternals=void 0;var n9e=Ft;function r9e(e,t,n,r,o){return function(i,a){var s=n,l=t,c=0;i.subscribe(n9e.createOperatorSubscriber(a,function(u){var d=c++;l=s?e(l,u,d):(s=!0,u),r&&a.next(l)},o&&function(){s&&a.next(l),a.complete()}))}}vS.scanInternals=r9e;Object.defineProperty(Kp,"__esModule",{value:!0});Kp.reduce=void 0;var o9e=vS,i9e=Mt;function a9e(e,t){return i9e.operate(o9e.scanInternals(e,t,arguments.length>=2,!1,!0))}Kp.reduce=a9e;Object.defineProperty(gS,"__esModule",{value:!0});gS.toArray=void 0;var s9e=Kp,l9e=Mt,c9e=function(e,t){return e.push(t),e};function u9e(){return l9e.operate(function(e,t){s9e.reduce(c9e,[])(e).subscribe(t)})}gS.toArray=u9e;Object.defineProperty(mS,"__esModule",{value:!0});mS.joinAllInternals=void 0;var d9e=si,f9e=Lu,p9e=Ld,h9e=Tc,m9e=gS;function g9e(e,t){return p9e.pipe(m9e.toArray(),h9e.mergeMap(function(n){return e(n)}),t?f9e.mapOneOrManyArgs(t):d9e.identity)}mS.joinAllInternals=g9e;Object.defineProperty(hS,"__esModule",{value:!0});hS.combineLatestAll=void 0;var v9e=Pp,b9e=mS;function y9e(e){return b9e.joinAllInternals(v9e.combineLatest,e)}hS.combineLatestAll=y9e;Object.defineProperty(YO,"__esModule",{value:!0});YO.combineAll=void 0;var x9e=hS;YO.combineAll=x9e.combineLatestAll;var ZO={},QO={},t9=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},n9=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(QO,"__esModule",{value:!0});QO.combineLatest=void 0;var w9e=Pp,_9e=Mt,S9e=Jd,C9e=Lu,P9e=Ld,M9e=zo;function fse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=M9e.popResultSelector(e);return n?P9e.pipe(fse.apply(void 0,n9([],t9(e))),C9e.mapOneOrManyArgs(n)):_9e.operate(function(r,o){w9e.combineLatestInit(n9([r],t9(S9e.argsOrArgArray(e))))(o)})}QO.combineLatest=fse;var A9e=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},E9e=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(ZO,"__esModule",{value:!0});ZO.combineLatestWith=void 0;var T9e=QO;function O9e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return T9e.combineLatest.apply(void 0,E9e([],A9e(e)))}ZO.combineLatestWith=O9e;var bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.concatMap=void 0;var r9=Tc,I9e=lr;function k9e(e,t){return I9e.isFunction(t)?r9.mergeMap(e,t,1):r9.mergeMap(e,1)}bS.concatMap=k9e;var JO={};Object.defineProperty(JO,"__esModule",{value:!0});JO.concatMapTo=void 0;var o9=bS,R9e=lr;function L9e(e,t){return R9e.isFunction(t)?o9.concatMap(function(){return e},t):o9.concatMap(function(){return e})}JO.concatMapTo=L9e;var eI={},tI={},$9e=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},D9e=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(tI,"__esModule",{value:!0});tI.concat=void 0;var F9e=Mt,N9e=o0,B9e=zo,j9e=Ac;function z9e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B9e.popScheduler(e);return F9e.operate(function(r,o){N9e.concatAll()(j9e.from(D9e([r],$9e(e)),n)).subscribe(o)})}tI.concat=z9e;var H9e=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},V9e=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(eI,"__esModule",{value:!0});eI.concatWith=void 0;var U9e=tI;function G9e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U9e.concat.apply(void 0,V9e([],H9e(e)))}eI.concatWith=G9e;var s0={},nI={};Object.defineProperty(nI,"__esModule",{value:!0});nI.fromSubscribable=void 0;var W9e=gr;function q9e(e){return new W9e.Observable(function(t){return e.subscribe(t)})}nI.fromSubscribable=q9e;Object.defineProperty(s0,"__esModule",{value:!0});s0.connect=void 0;var X9e=Mo,K9e=qt,Y9e=Mt,Z9e=nI,Q9e={connector:function(){return new X9e.Subject}};function J9e(e,t){t===void 0&&(t=Q9e);var n=t.connector;return Y9e.operate(function(r,o){var i=n();K9e.innerFrom(e(Z9e.fromSubscribable(i))).subscribe(o),o.add(r.subscribe(i))})}s0.connect=J9e;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.count=void 0;var e7e=Kp;function t7e(e){return e7e.reduce(function(t,n,r){return!e||e(n,r)?t+1:t},0)}rI.count=t7e;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});oI.debounce=void 0;var n7e=Mt,r7e=ai,i9=Ft,o7e=qt;function i7e(e){return n7e.operate(function(t,n){var r=!1,o=null,i=null,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var s=o;o=null,n.next(s)}};t.subscribe(i9.createOperatorSubscriber(n,function(s){i==null||i.unsubscribe(),r=!0,o=s,i=i9.createOperatorSubscriber(n,a,r7e.noop),o7e.innerFrom(e(s)).subscribe(i)},function(){a(),n.complete()},void 0,function(){o=i=null}))})}oI.debounce=i7e;var iI={};Object.defineProperty(iI,"__esModule",{value:!0});iI.debounceTime=void 0;var a7e=cs,s7e=Mt,l7e=Ft;function c7e(e,t){return t===void 0&&(t=a7e.asyncScheduler),s7e.operate(function(n,r){var o=null,i=null,a=null,s=function(){if(o){o.unsubscribe(),o=null;var c=i;i=null,r.next(c)}};function l(){var c=a+e,u=t.now();if(u<c){o=this.schedule(void 0,c-u),r.add(o);return}s()}n.subscribe(l7e.createOperatorSubscriber(r,function(c){i=c,a=t.now(),o||(o=t.schedule(l,e),r.add(o))},function(){s(),r.complete()},void 0,function(){i=o=null}))})}iI.debounceTime=c7e;var hg={};Object.defineProperty(hg,"__esModule",{value:!0});hg.defaultIfEmpty=void 0;var u7e=Mt,d7e=Ft;function f7e(e){return u7e.operate(function(t,n){var r=!1;t.subscribe(d7e.createOperatorSubscriber(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}hg.defaultIfEmpty=f7e;var aI={},yS={},mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.take=void 0;var p7e=Sc,h7e=Mt,m7e=Ft;function g7e(e){return e<=0?function(){return p7e.EMPTY}:h7e.operate(function(t,n){var r=0;t.subscribe(m7e.createOperatorSubscriber(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}mg.take=g7e;var xS={};Object.defineProperty(xS,"__esModule",{value:!0});xS.ignoreElements=void 0;var v7e=Mt,b7e=Ft,y7e=ai;function x7e(){return v7e.operate(function(e,t){e.subscribe(b7e.createOperatorSubscriber(t,y7e.noop))})}xS.ignoreElements=x7e;var wS={};Object.defineProperty(wS,"__esModule",{value:!0});wS.mapTo=void 0;var w7e=$u;function _7e(e){return w7e.map(function(){return e})}wS.mapTo=_7e;Object.defineProperty(yS,"__esModule",{value:!0});yS.delayWhen=void 0;var S7e=dg,a9=mg,C7e=xS,P7e=wS,M7e=Tc,A7e=qt;function pse(e,t){return t?function(n){return S7e.concat(t.pipe(a9.take(1),C7e.ignoreElements()),n.pipe(pse(e)))}:M7e.mergeMap(function(n,r){return A7e.innerFrom(e(n,r)).pipe(a9.take(1),P7e.mapTo(n))})}yS.delayWhen=pse;Object.defineProperty(aI,"__esModule",{value:!0});aI.delay=void 0;var E7e=cs,T7e=yS,O7e=Du;function I7e(e,t){t===void 0&&(t=E7e.asyncScheduler);var n=O7e.timer(e,t);return T7e.delayWhen(function(){return n})}aI.delay=I7e;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.dematerialize=void 0;var k7e=wO,R7e=Mt,L7e=Ft;function $7e(){return R7e.operate(function(e,t){e.subscribe(L7e.createOperatorSubscriber(t,function(n){return k7e.observeNotification(n,t)}))})}sI.dematerialize=$7e;var lI={};Object.defineProperty(lI,"__esModule",{value:!0});lI.distinct=void 0;var D7e=Mt,s9=Ft,F7e=ai,N7e=qt;function B7e(e,t){return D7e.operate(function(n,r){var o=new Set;n.subscribe(s9.createOperatorSubscriber(r,function(i){var a=e?e(i):i;o.has(a)||(o.add(a),r.next(i))})),t&&N7e.innerFrom(t).subscribe(s9.createOperatorSubscriber(r,function(){return o.clear()},F7e.noop))})}lI.distinct=B7e;var _S={};Object.defineProperty(_S,"__esModule",{value:!0});_S.distinctUntilChanged=void 0;var j7e=si,z7e=Mt,H7e=Ft;function V7e(e,t){return t===void 0&&(t=j7e.identity),e=e??U7e,z7e.operate(function(n,r){var o,i=!0;n.subscribe(H7e.createOperatorSubscriber(r,function(a){var s=t(a);(i||!e(o,s))&&(i=!1,o=s,r.next(a))}))})}_S.distinctUntilChanged=V7e;function U7e(e,t){return e===t}var cI={};Object.defineProperty(cI,"__esModule",{value:!0});cI.distinctUntilKeyChanged=void 0;var G7e=_S;function W7e(e,t){return G7e.distinctUntilChanged(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})}cI.distinctUntilKeyChanged=W7e;var uI={},gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.throwIfEmpty=void 0;var q7e=Ru,X7e=Mt,K7e=Ft;function Y7e(e){return e===void 0&&(e=Z7e),X7e.operate(function(t,n){var r=!1;t.subscribe(K7e.createOperatorSubscriber(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}gg.throwIfEmpty=Y7e;function Z7e(){return new q7e.EmptyError}Object.defineProperty(uI,"__esModule",{value:!0});uI.elementAt=void 0;var l9=iS,Q7e=ef,J7e=gg,eWe=hg,tWe=mg;function nWe(e,t){if(e<0)throw new l9.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(r){return r.pipe(Q7e.filter(function(o,i){return i===e}),tWe.take(1),n?eWe.defaultIfEmpty(t):J7e.throwIfEmpty(function(){return new l9.ArgumentOutOfRangeError}))}}uI.elementAt=nWe;var dI={},rWe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},oWe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(dI,"__esModule",{value:!0});dI.endWith=void 0;var iWe=dg,aWe=e0;function sWe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){return iWe.concat(n,aWe.of.apply(void 0,oWe([],rWe(e))))}}dI.endWith=sWe;var fI={};Object.defineProperty(fI,"__esModule",{value:!0});fI.every=void 0;var lWe=Mt,cWe=Ft;function uWe(e,t){return lWe.operate(function(n,r){var o=0;n.subscribe(cWe.createOperatorSubscriber(r,function(i){e.call(t,i,o++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}fI.every=uWe;var pI={},SS={},CS={};Object.defineProperty(CS,"__esModule",{value:!0});CS.exhaustMap=void 0;var dWe=$u,c9=qt,fWe=Mt,u9=Ft;function hse(e,t){return t?function(n){return n.pipe(hse(function(r,o){return c9.innerFrom(e(r,o)).pipe(dWe.map(function(i,a){return t(r,i,o,a)}))}))}:fWe.operate(function(n,r){var o=0,i=null,a=!1;n.subscribe(u9.createOperatorSubscriber(r,function(s){i||(i=u9.createOperatorSubscriber(r,void 0,function(){i=null,a&&r.complete()}),c9.innerFrom(e(s,o++)).subscribe(i))},function(){a=!0,!i&&r.complete()}))})}CS.exhaustMap=hse;Object.defineProperty(SS,"__esModule",{value:!0});SS.exhaustAll=void 0;var pWe=CS,hWe=si;function mWe(){return pWe.exhaustMap(hWe.identity)}SS.exhaustAll=mWe;Object.defineProperty(pI,"__esModule",{value:!0});pI.exhaust=void 0;var gWe=SS;pI.exhaust=gWe.exhaustAll;var hI={};Object.defineProperty(hI,"__esModule",{value:!0});hI.expand=void 0;var vWe=Mt,bWe=i0;function yWe(e,t,n){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,vWe.operate(function(r,o){return bWe.mergeInternals(r,o,e,t,void 0,!0,n)})}hI.expand=yWe;var mI={};Object.defineProperty(mI,"__esModule",{value:!0});mI.finalize=void 0;var xWe=Mt;function wWe(e){return xWe.operate(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}mI.finalize=wWe;var Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.createFind=Im.find=void 0;var _We=Mt,SWe=Ft;function CWe(e,t){return _We.operate(mse(e,t,"value"))}Im.find=CWe;function mse(e,t,n){var r=n==="index";return function(o,i){var a=0;o.subscribe(SWe.createOperatorSubscriber(i,function(s){var l=a++;e.call(t,s,l,o)&&(i.next(r?l:s),i.complete())},function(){i.next(r?-1:void 0),i.complete()}))}}Im.createFind=mse;var gI={};Object.defineProperty(gI,"__esModule",{value:!0});gI.findIndex=void 0;var PWe=Mt,MWe=Im;function AWe(e,t){return PWe.operate(MWe.createFind(e,t,"index"))}gI.findIndex=AWe;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});vI.first=void 0;var EWe=Ru,TWe=ef,OWe=mg,IWe=hg,kWe=gg,RWe=si;function LWe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?TWe.filter(function(o,i){return e(o,i,r)}):RWe.identity,OWe.take(1),n?IWe.defaultIfEmpty(t):kWe.throwIfEmpty(function(){return new EWe.EmptyError}))}}vI.first=LWe;var bI={};Object.defineProperty(bI,"__esModule",{value:!0});bI.groupBy=void 0;var $We=gr,DWe=qt,FWe=Mo,NWe=Mt,d9=Ft;function BWe(e,t,n,r){return NWe.operate(function(o,i){var a;!t||typeof t=="function"?a=t:(n=t.duration,a=t.element,r=t.connector);var s=new Map,l=function(h){s.forEach(h),h(i)},c=function(h){return l(function(g){return g.error(h)})},u=0,d=!1,f=new d9.OperatorSubscriber(i,function(h){try{var g=e(h),v=s.get(g);if(!v){s.set(g,v=r?r():new FWe.Subject);var m=p(g,v);if(i.next(m),n){var b=d9.createOperatorSubscriber(v,function(){v.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return s.delete(g)});f.add(DWe.innerFrom(n(m)).subscribe(b))}}v.next(a?a(h):h)}catch(x){c(x)}},function(){return l(function(h){return h.complete()})},c,function(){return s.clear()},function(){return d=!0,u===0});o.subscribe(f);function p(h,g){var v=new $We.Observable(function(m){u++;var b=g.subscribe(m);return function(){b.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return v.key=h,v}})}bI.groupBy=BWe;var yI={};Object.defineProperty(yI,"__esModule",{value:!0});yI.isEmpty=void 0;var jWe=Mt,zWe=Ft;function HWe(){return jWe.operate(function(e,t){e.subscribe(zWe.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}yI.isEmpty=HWe;var xI={},PS={},VWe=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(PS,"__esModule",{value:!0});PS.takeLast=void 0;var UWe=Sc,GWe=Mt,WWe=Ft;function qWe(e){return e<=0?function(){return UWe.EMPTY}:GWe.operate(function(t,n){var r=[];t.subscribe(WWe.createOperatorSubscriber(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var a=VWe(r),s=a.next();!s.done;s=a.next()){var l=s.value;n.next(l)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}PS.takeLast=qWe;Object.defineProperty(xI,"__esModule",{value:!0});xI.last=void 0;var XWe=Ru,KWe=ef,YWe=PS,ZWe=gg,QWe=hg,JWe=si;function eqe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?KWe.filter(function(o,i){return e(o,i,r)}):JWe.identity,YWe.takeLast(1),n?QWe.defaultIfEmpty(t):ZWe.throwIfEmpty(function(){return new XWe.EmptyError}))}}xI.last=eqe;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.materialize=void 0;var zR=wO,tqe=Mt,nqe=Ft;function rqe(){return tqe.operate(function(e,t){e.subscribe(nqe.createOperatorSubscriber(t,function(n){t.next(zR.Notification.createNext(n))},function(){t.next(zR.Notification.createComplete()),t.complete()},function(n){t.next(zR.Notification.createError(n)),t.complete()}))})}wI.materialize=rqe;var _I={};Object.defineProperty(_I,"__esModule",{value:!0});_I.max=void 0;var oqe=Kp,iqe=lr;function aqe(e){return oqe.reduce(iqe.isFunction(e)?function(t,n){return e(t,n)>0?t:n}:function(t,n){return t>n?t:n})}_I.max=aqe;var SI={};Object.defineProperty(SI,"__esModule",{value:!0});SI.flatMap=void 0;var sqe=Tc;SI.flatMap=sqe.mergeMap;var CI={};Object.defineProperty(CI,"__esModule",{value:!0});CI.mergeMapTo=void 0;var f9=Tc,lqe=lr;function cqe(e,t,n){return n===void 0&&(n=1/0),lqe.isFunction(t)?f9.mergeMap(function(){return e},t,n):(typeof t=="number"&&(n=t),f9.mergeMap(function(){return e},n))}CI.mergeMapTo=cqe;var PI={};Object.defineProperty(PI,"__esModule",{value:!0});PI.mergeScan=void 0;var uqe=Mt,dqe=i0;function fqe(e,t,n){return n===void 0&&(n=1/0),uqe.operate(function(r,o){var i=t;return dqe.mergeInternals(r,o,function(a,s){return e(i,a,s)},n,function(a){i=a},!1,void 0,function(){return i=null})})}PI.mergeScan=fqe;var MI={},AI={},pqe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},hqe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(AI,"__esModule",{value:!0});AI.merge=void 0;var mqe=Mt,gqe=Jd,vqe=fg,p9=zo,bqe=Ac;function yqe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p9.popScheduler(e),r=p9.popNumber(e,1/0);return e=gqe.argsOrArgArray(e),mqe.operate(function(o,i){vqe.mergeAll(r)(bqe.from(hqe([o],pqe(e)),n)).subscribe(i)})}AI.merge=yqe;var xqe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},wqe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(MI,"__esModule",{value:!0});MI.mergeWith=void 0;var _qe=AI;function Sqe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _qe.merge.apply(void 0,wqe([],xqe(e)))}MI.mergeWith=Sqe;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});EI.min=void 0;var Cqe=Kp,Pqe=lr;function Mqe(e){return Cqe.reduce(Pqe.isFunction(e)?function(t,n){return e(t,n)<0?t:n}:function(t,n){return t<n?t:n})}EI.min=Mqe;var l0={};Object.defineProperty(l0,"__esModule",{value:!0});l0.multicast=void 0;var Aqe=sg,h9=lr,Eqe=s0;function Tqe(e,t){var n=h9.isFunction(e)?e:function(){return e};return h9.isFunction(t)?Eqe.connect(t,{connector:n}):function(r){return new Aqe.ConnectableObservable(r,n)}}l0.multicast=Tqe;var Qb={},Oqe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Iqe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Qb,"__esModule",{value:!0});Qb.onErrorResumeNext=Qb.onErrorResumeNextWith=void 0;var kqe=Jd,Rqe=fS;function gse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kqe.argsOrArgArray(e);return function(r){return Rqe.onErrorResumeNext.apply(void 0,Iqe([r],Oqe(n)))}}Qb.onErrorResumeNextWith=gse;Qb.onErrorResumeNext=gse;var TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.pairwise=void 0;var Lqe=Mt,$qe=Ft;function Dqe(){return Lqe.operate(function(e,t){var n,r=!1;e.subscribe($qe.createOperatorSubscriber(t,function(o){var i=n;n=o,r&&t.next([i,o]),r=!0}))})}TI.pairwise=Dqe;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.pluck=void 0;var Fqe=$u;function Nqe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return Fqe.map(function(r){for(var o=r,i=0;i<n;i++){var a=o==null?void 0:o[e[i]];if(typeof a<"u")o=a;else return}return o})}OI.pluck=Nqe;var II={};Object.defineProperty(II,"__esModule",{value:!0});II.publish=void 0;var Bqe=Mo,jqe=l0,zqe=s0;function Hqe(e){return e?function(t){return zqe.connect(e)(t)}:function(t){return jqe.multicast(new Bqe.Subject)(t)}}II.publish=Hqe;var kI={};Object.defineProperty(kI,"__esModule",{value:!0});kI.publishBehavior=void 0;var Vqe=X_,Uqe=sg;function Gqe(e){return function(t){var n=new Vqe.BehaviorSubject(e);return new Uqe.ConnectableObservable(t,function(){return n})}}kI.publishBehavior=Gqe;var RI={};Object.defineProperty(RI,"__esModule",{value:!0});RI.publishLast=void 0;var Wqe=Jy,qqe=sg;function Xqe(){return function(e){var t=new Wqe.AsyncSubject;return new qqe.ConnectableObservable(e,function(){return t})}}RI.publishLast=Xqe;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.publishReplay=void 0;var Kqe=Qy,Yqe=l0,m9=lr;function Zqe(e,t,n,r){n&&!m9.isFunction(n)&&(r=n);var o=m9.isFunction(n)?n:void 0;return function(i){return Yqe.multicast(new Kqe.ReplaySubject(e,t,r),o)(i)}}LI.publishReplay=Zqe;var $I={},Qqe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Jqe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty($I,"__esModule",{value:!0});$I.raceWith=void 0;var eXe=Om,tXe=Mt,nXe=si;function rXe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?tXe.operate(function(n,r){eXe.raceInit(Jqe([n],Qqe(e)))(r)}):nXe.identity}$I.raceWith=rXe;var DI={};Object.defineProperty(DI,"__esModule",{value:!0});DI.repeat=void 0;var oXe=Sc,iXe=Mt,g9=Ft,aXe=qt,sXe=Du;function lXe(e){var t,n=1/0,r;return e!=null&&(typeof e=="object"?(t=e.count,n=t===void 0?1/0:t,r=e.delay):n=e),n<=0?function(){return oXe.EMPTY}:iXe.operate(function(o,i){var a=0,s,l=function(){if(s==null||s.unsubscribe(),s=null,r!=null){var u=typeof r=="number"?sXe.timer(r):aXe.innerFrom(r(a)),d=g9.createOperatorSubscriber(i,function(){d.unsubscribe(),c()});u.subscribe(d)}else c()},c=function(){var u=!1;s=o.subscribe(g9.createOperatorSubscriber(i,void 0,function(){++a<n?s?l():u=!0:i.complete()})),u&&l()};c()})}DI.repeat=lXe;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.repeatWhen=void 0;var cXe=qt,uXe=Mo,dXe=Mt,v9=Ft;function fXe(e){return dXe.operate(function(t,n){var r,o=!1,i,a=!1,s=!1,l=function(){return s&&a&&(n.complete(),!0)},c=function(){return i||(i=new uXe.Subject,cXe.innerFrom(e(i)).subscribe(v9.createOperatorSubscriber(n,function(){r?u():o=!0},function(){a=!0,l()}))),i},u=function(){s=!1,r=t.subscribe(v9.createOperatorSubscriber(n,void 0,function(){s=!0,!l()&&c().next()})),o&&(r.unsubscribe(),r=null,o=!1,u())};u()})}FI.repeatWhen=fXe;var NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.retry=void 0;var pXe=Mt,b9=Ft,hXe=si,mXe=Du,gXe=qt;function vXe(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var n=t.count,r=n===void 0?1/0:n,o=t.delay,i=t.resetOnSuccess,a=i===void 0?!1:i;return r<=0?hXe.identity:pXe.operate(function(s,l){var c=0,u,d=function(){var f=!1;u=s.subscribe(b9.createOperatorSubscriber(l,function(p){a&&(c=0),l.next(p)},void 0,function(p){if(c++<r){var h=function(){u?(u.unsubscribe(),u=null,d()):f=!0};if(o!=null){var g=typeof o=="number"?mXe.timer(o):gXe.innerFrom(o(p,c)),v=b9.createOperatorSubscriber(l,function(){v.unsubscribe(),h()},function(){l.complete()});g.subscribe(v)}else h()}else l.error(p)})),f&&(u.unsubscribe(),u=null,d())};d()})}NI.retry=vXe;var BI={};Object.defineProperty(BI,"__esModule",{value:!0});BI.retryWhen=void 0;var bXe=qt,yXe=Mo,xXe=Mt,y9=Ft;function wXe(e){return xXe.operate(function(t,n){var r,o=!1,i,a=function(){r=t.subscribe(y9.createOperatorSubscriber(n,void 0,void 0,function(s){i||(i=new yXe.Subject,bXe.innerFrom(e(i)).subscribe(y9.createOperatorSubscriber(n,function(){return r?a():o=!0}))),i&&i.next(s)})),o&&(r.unsubscribe(),r=null,o=!1,a())};a()})}BI.retryWhen=wXe;var MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.sample=void 0;var _Xe=qt,SXe=Mt,CXe=ai,x9=Ft;function PXe(e){return SXe.operate(function(t,n){var r=!1,o=null;t.subscribe(x9.createOperatorSubscriber(n,function(i){r=!0,o=i})),_Xe.innerFrom(e).subscribe(x9.createOperatorSubscriber(n,function(){if(r){r=!1;var i=o;o=null,n.next(i)}},CXe.noop))})}MS.sample=PXe;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});jI.sampleTime=void 0;var MXe=cs,AXe=MS,EXe=dS;function TXe(e,t){return t===void 0&&(t=MXe.asyncScheduler),AXe.sample(EXe.interval(e,t))}jI.sampleTime=TXe;var zI={};Object.defineProperty(zI,"__esModule",{value:!0});zI.scan=void 0;var OXe=Mt,IXe=vS;function kXe(e,t){return OXe.operate(IXe.scanInternals(e,t,arguments.length>=2,!0))}zI.scan=kXe;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.sequenceEqual=void 0;var RXe=Mt,LXe=Ft,$Xe=qt;function DXe(e,t){return t===void 0&&(t=function(n,r){return n===r}),RXe.operate(function(n,r){var o=w9(),i=w9(),a=function(l){r.next(l),r.complete()},s=function(l,c){var u=LXe.createOperatorSubscriber(r,function(d){var f=c.buffer,p=c.complete;f.length===0?p?a(!1):l.buffer.push(d):!t(d,f.shift())&&a(!1)},function(){l.complete=!0;var d=c.complete,f=c.buffer;d&&a(f.length===0),u==null||u.unsubscribe()});return u};n.subscribe(s(o,i)),$Xe.innerFrom(e).subscribe(s(i,o))})}HI.sequenceEqual=DXe;function w9(){return{buffer:[],complete:!1}}var AS={},FXe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},NXe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(AS,"__esModule",{value:!0});AS.share=void 0;var vse=qt,BXe=Mo,bse=Zy,jXe=Mt;function zXe(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new BXe.Subject}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,a=i===void 0?!0:i,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var u,d,f,p=0,h=!1,g=!1,v=function(){d==null||d.unsubscribe(),d=void 0},m=function(){v(),u=f=void 0,h=g=!1},b=function(){var x=u;m(),x==null||x.unsubscribe()};return jXe.operate(function(x,y){p++,!g&&!h&&v();var w=f=f??n();y.add(function(){p--,p===0&&!g&&!h&&(d=HR(b,l))}),w.subscribe(y),!u&&p>0&&(u=new bse.SafeSubscriber({next:function(_){return w.next(_)},error:function(_){g=!0,v(),d=HR(m,o,_),w.error(_)},complete:function(){h=!0,v(),d=HR(m,a),w.complete()}}),vse.innerFrom(x).subscribe(u))})(c)}}AS.share=zXe;function HR(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new bse.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return vse.innerFrom(t.apply(void 0,NXe([],FXe(n)))).subscribe(o)}}var VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.shareReplay=void 0;var HXe=Qy,VXe=AS;function UXe(e,t,n){var r,o,i,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,s=i===void 0?!1:i,n=e.scheduler):a=e??1/0,VXe.share({connector:function(){return new HXe.ReplaySubject(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}VI.shareReplay=UXe;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.single=void 0;var GXe=Ru,WXe=sS,qXe=aS,XXe=Mt,KXe=Ft;function YXe(e){return XXe.operate(function(t,n){var r=!1,o,i=!1,a=0;t.subscribe(KXe.createOperatorSubscriber(n,function(s){i=!0,(!e||e(s,a++,t))&&(r&&n.error(new WXe.SequenceError("Too many matching values")),r=!0,o=s)},function(){r?(n.next(o),n.complete()):n.error(i?new qXe.NotFoundError("No matching values"):new GXe.EmptyError)}))})}UI.single=YXe;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.skip=void 0;var ZXe=ef;function QXe(e){return ZXe.filter(function(t,n){return e<=n})}GI.skip=QXe;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.skipLast=void 0;var JXe=si,eKe=Mt,tKe=Ft;function nKe(e){return e<=0?JXe.identity:eKe.operate(function(t,n){var r=new Array(e),o=0;return t.subscribe(tKe.createOperatorSubscriber(n,function(i){var a=o++;if(a<e)r[a]=i;else{var s=a%e,l=r[s];r[s]=i,n.next(l)}})),function(){r=null}})}WI.skipLast=nKe;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.skipUntil=void 0;var rKe=Mt,_9=Ft,oKe=qt,iKe=ai;function aKe(e){return rKe.operate(function(t,n){var r=!1,o=_9.createOperatorSubscriber(n,function(){o==null||o.unsubscribe(),r=!0},iKe.noop);oKe.innerFrom(e).subscribe(o),t.subscribe(_9.createOperatorSubscriber(n,function(i){return r&&n.next(i)}))})}qI.skipUntil=aKe;var XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.skipWhile=void 0;var sKe=Mt,lKe=Ft;function cKe(e){return sKe.operate(function(t,n){var r=!1,o=0;t.subscribe(lKe.createOperatorSubscriber(n,function(i){return(r||(r=!e(i,o++)))&&n.next(i)}))})}XI.skipWhile=cKe;var KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.startWith=void 0;var S9=dg,uKe=zo,dKe=Mt;function fKe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=uKe.popScheduler(e);return dKe.operate(function(r,o){(n?S9.concat(e,r,n):S9.concat(e,r)).subscribe(o)})}KI.startWith=fKe;var YI={},vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.switchMap=void 0;var pKe=qt,hKe=Mt,C9=Ft;function mKe(e,t){return hKe.operate(function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(C9.createOperatorSubscriber(r,function(l){o==null||o.unsubscribe();var c=0,u=i++;pKe.innerFrom(e(l,u)).subscribe(o=C9.createOperatorSubscriber(r,function(d){return r.next(t?t(l,d,u,c++):d)},function(){o=null,s()}))},function(){a=!0,s()}))})}vg.switchMap=mKe;Object.defineProperty(YI,"__esModule",{value:!0});YI.switchAll=void 0;var gKe=vg,vKe=si;function bKe(){return gKe.switchMap(vKe.identity)}YI.switchAll=bKe;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.switchMapTo=void 0;var P9=vg,yKe=lr;function xKe(e,t){return yKe.isFunction(t)?P9.switchMap(function(){return e},t):P9.switchMap(function(){return e})}ZI.switchMapTo=xKe;var QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.switchScan=void 0;var wKe=vg,_Ke=Mt;function SKe(e,t){return _Ke.operate(function(n,r){var o=t;return wKe.switchMap(function(i,a){return e(o,i,a)},function(i,a){return o=a,a})(n).subscribe(r),function(){o=null}})}QI.switchScan=SKe;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.takeUntil=void 0;var CKe=Mt,PKe=Ft,MKe=qt,AKe=ai;function EKe(e){return CKe.operate(function(t,n){MKe.innerFrom(e).subscribe(PKe.createOperatorSubscriber(n,function(){return n.complete()},AKe.noop)),!n.closed&&t.subscribe(n)})}JI.takeUntil=EKe;var e3={};Object.defineProperty(e3,"__esModule",{value:!0});e3.takeWhile=void 0;var TKe=Mt,OKe=Ft;function IKe(e,t){return t===void 0&&(t=!1),TKe.operate(function(n,r){var o=0;n.subscribe(OKe.createOperatorSubscriber(r,function(i){var a=e(i,o++);(a||t)&&r.next(i),!a&&r.complete()}))})}e3.takeWhile=IKe;var t3={};Object.defineProperty(t3,"__esModule",{value:!0});t3.tap=void 0;var kKe=lr,RKe=Mt,LKe=Ft,$Ke=si;function DKe(e,t,n){var r=kKe.isFunction(e)||t||n?{next:e,error:t,complete:n}:e;return r?RKe.operate(function(o,i){var a;(a=r.subscribe)===null||a===void 0||a.call(r);var s=!0;o.subscribe(LKe.createOperatorSubscriber(i,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},function(){var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):$Ke.identity}t3.tap=DKe;var ES={};Object.defineProperty(ES,"__esModule",{value:!0});ES.throttle=void 0;var FKe=Mt,M9=Ft,NKe=qt;function BKe(e,t){return FKe.operate(function(n,r){var o=t??{},i=o.leading,a=i===void 0?!0:i,s=o.trailing,l=s===void 0?!1:s,c=!1,u=null,d=null,f=!1,p=function(){d==null||d.unsubscribe(),d=null,l&&(v(),f&&r.complete())},h=function(){d=null,f&&r.complete()},g=function(m){return d=NKe.innerFrom(e(m)).subscribe(M9.createOperatorSubscriber(r,p,h))},v=function(){if(c){c=!1;var m=u;u=null,r.next(m),!f&&g(m)}};n.subscribe(M9.createOperatorSubscriber(r,function(m){c=!0,u=m,!(d&&!d.closed)&&(a?v():g(m))},function(){f=!0,!(l&&c&&d&&!d.closed)&&r.complete()}))})}ES.throttle=BKe;var n3={};Object.defineProperty(n3,"__esModule",{value:!0});n3.throttleTime=void 0;var jKe=cs,zKe=ES,HKe=Du;function VKe(e,t,n){t===void 0&&(t=jKe.asyncScheduler);var r=HKe.timer(e,t);return zKe.throttle(function(){return r},n)}n3.throttleTime=VKe;var Jb={};Object.defineProperty(Jb,"__esModule",{value:!0});Jb.TimeInterval=Jb.timeInterval=void 0;var UKe=cs,GKe=Mt,WKe=Ft;function qKe(e){return e===void 0&&(e=UKe.asyncScheduler),GKe.operate(function(t,n){var r=e.now();t.subscribe(WKe.createOperatorSubscriber(n,function(o){var i=e.now(),a=i-r;r=i,n.next(new yse(o,a))}))})}Jb.timeInterval=qKe;var yse=function(){function e(t,n){this.value=t,this.interval=n}return e}();Jb.TimeInterval=yse;var r3={};Object.defineProperty(r3,"__esModule",{value:!0});r3.timeoutWith=void 0;var XKe=cs,KKe=r0,YKe=EA;function ZKe(e,t,n){var r,o,i;if(n=n??XKe.async,KKe.isValidDate(e)?r=e:typeof e=="number"&&(o=e),t)i=function(){return t};else throw new TypeError("No observable provided to switch to");if(r==null&&o==null)throw new TypeError("No timeout provided.");return YKe.timeout({first:r,each:o,scheduler:n,with:i})}r3.timeoutWith=ZKe;var o3={};Object.defineProperty(o3,"__esModule",{value:!0});o3.timestamp=void 0;var QKe=pO,JKe=$u;function eYe(e){return e===void 0&&(e=QKe.dateTimestampProvider),JKe.map(function(t){return{value:t,timestamp:e.now()}})}o3.timestamp=eYe;var i3={};Object.defineProperty(i3,"__esModule",{value:!0});i3.window=void 0;var A9=Mo,tYe=Mt,E9=Ft,nYe=ai,rYe=qt;function oYe(e){return tYe.operate(function(t,n){var r=new A9.Subject;n.next(r.asObservable());var o=function(i){r.error(i),n.error(i)};return t.subscribe(E9.createOperatorSubscriber(n,function(i){return r==null?void 0:r.next(i)},function(){r.complete(),n.complete()},o)),rYe.innerFrom(e).subscribe(E9.createOperatorSubscriber(n,function(){r.complete(),n.next(r=new A9.Subject)},nYe.noop,o)),function(){r==null||r.unsubscribe(),r=null}})}i3.window=oYe;var a3={},iYe=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a3,"__esModule",{value:!0});a3.windowCount=void 0;var T9=Mo,aYe=Mt,sYe=Ft;function lYe(e,t){t===void 0&&(t=0);var n=t>0?t:e;return aYe.operate(function(r,o){var i=[new T9.Subject],a=0;o.next(i[0].asObservable()),r.subscribe(sYe.createOperatorSubscriber(o,function(s){var l,c;try{for(var u=iYe(i),d=u.next();!d.done;d=u.next()){var f=d.value;f.next(s)}}catch(g){l={error:g}}finally{try{d&&!d.done&&(c=u.return)&&c.call(u)}finally{if(l)throw l.error}}var p=a-e+1;if(p>=0&&p%n===0&&i.shift().complete(),++a%n===0){var h=new T9.Subject;i.push(h),o.next(h.asObservable())}},function(){for(;i.length>0;)i.shift().complete();o.complete()},function(s){for(;i.length>0;)i.shift().error(s);o.error(s)},function(){i=null}))})}a3.windowCount=lYe;var s3={};Object.defineProperty(s3,"__esModule",{value:!0});s3.windowTime=void 0;var cYe=Mo,uYe=cs,dYe=ti,fYe=Mt,pYe=Ft,hYe=Mc,mYe=zo,O9=Ec;function gYe(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(t=mYe.popScheduler(r))!==null&&t!==void 0?t:uYe.asyncScheduler,a=(n=r[0])!==null&&n!==void 0?n:null,s=r[1]||1/0;return fYe.operate(function(l,c){var u=[],d=!1,f=function(v){var m=v.window,b=v.subs;m.complete(),b.unsubscribe(),hYe.arrRemove(u,v),d&&p()},p=function(){if(u){var v=new dYe.Subscription;c.add(v);var m=new cYe.Subject,b={window:m,subs:v,seen:0};u.push(b),c.next(m.asObservable()),O9.executeSchedule(v,i,function(){return f(b)},e)}};a!==null&&a>=0?O9.executeSchedule(c,i,p,a,!0):d=!0,p();var h=function(v){return u.slice().forEach(v)},g=function(v){h(function(m){var b=m.window;return v(b)}),v(c),c.unsubscribe()};return l.subscribe(pYe.createOperatorSubscriber(c,function(v){h(function(m){m.window.next(v),s<=++m.seen&&f(m)})},function(){return g(function(v){return v.complete()})},function(v){return g(function(m){return m.error(v)})})),function(){u=null}})}s3.windowTime=gYe;var l3={},vYe=ue&&ue.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(l3,"__esModule",{value:!0});l3.windowToggle=void 0;var bYe=Mo,yYe=ti,xYe=Mt,I9=qt,VR=Ft,k9=ai,wYe=Mc;function _Ye(e,t){return xYe.operate(function(n,r){var o=[],i=function(a){for(;0<o.length;)o.shift().error(a);r.error(a)};I9.innerFrom(e).subscribe(VR.createOperatorSubscriber(r,function(a){var s=new bYe.Subject;o.push(s);var l=new yYe.Subscription,c=function(){wYe.arrRemove(o,s),s.complete(),l.unsubscribe()},u;try{u=I9.innerFrom(t(a))}catch(d){i(d);return}r.next(s.asObservable()),l.add(u.subscribe(VR.createOperatorSubscriber(r,c,k9.noop,i)))},k9.noop)),n.subscribe(VR.createOperatorSubscriber(r,function(a){var s,l,c=o.slice();try{for(var u=vYe(c),d=u.next();!d.done;d=u.next()){var f=d.value;f.next(a)}}catch(p){s={error:p}}finally{try{d&&!d.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();r.complete()},i,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}l3.windowToggle=_Ye;var c3={};Object.defineProperty(c3,"__esModule",{value:!0});c3.windowWhen=void 0;var SYe=Mo,CYe=Mt,R9=Ft,PYe=qt;function MYe(e){return CYe.operate(function(t,n){var r,o,i=function(s){r.error(s),n.error(s)},a=function(){o==null||o.unsubscribe(),r==null||r.complete(),r=new SYe.Subject,n.next(r.asObservable());var s;try{s=PYe.innerFrom(e())}catch(l){i(l);return}s.subscribe(o=R9.createOperatorSubscriber(n,a,a,i))};a(),t.subscribe(R9.createOperatorSubscriber(n,function(s){return r.next(s)},function(){r.complete(),n.complete()},i,function(){o==null||o.unsubscribe(),r=null}))})}c3.windowWhen=MYe;var u3={},L9=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},$9=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(u3,"__esModule",{value:!0});u3.withLatestFrom=void 0;var AYe=Mt,D9=Ft,EYe=qt,TYe=si,OYe=ai,IYe=zo;function kYe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=IYe.popResultSelector(e);return AYe.operate(function(r,o){for(var i=e.length,a=new Array(i),s=e.map(function(){return!1}),l=!1,c=function(d){EYe.innerFrom(e[d]).subscribe(D9.createOperatorSubscriber(o,function(f){a[d]=f,!l&&!s[d]&&(s[d]=!0,(l=s.every(TYe.identity))&&(s=null))},OYe.noop))},u=0;u<i;u++)c(u);r.subscribe(D9.createOperatorSubscriber(o,function(d){if(l){var f=$9([d],L9(a));o.next(n?n.apply(void 0,$9([],L9(f))):f)}}))})}u3.withLatestFrom=kYe;var d3={};Object.defineProperty(d3,"__esModule",{value:!0});d3.zipAll=void 0;var RYe=a0,LYe=mS;function $Ye(e){return LYe.joinAllInternals(RYe.zip,e)}d3.zipAll=$Ye;var f3={},p3={},DYe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},FYe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(p3,"__esModule",{value:!0});p3.zip=void 0;var NYe=a0,BYe=Mt;function jYe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return BYe.operate(function(n,r){NYe.zip.apply(void 0,FYe([n],DYe(e))).subscribe(r)})}p3.zip=jYe;var zYe=ue&&ue.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},HYe=ue&&ue.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(f3,"__esModule",{value:!0});f3.zipWith=void 0;var VYe=p3;function UYe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return VYe.zip.apply(void 0,HYe([],zYe(e)))}f3.zipWith=UYe;(function(e){var t=ue&&ue.__createBinding||(Object.create?function(Cg,Pg,zu,nh){nh===void 0&&(nh=zu),Object.defineProperty(Cg,nh,{enumerable:!0,get:function(){return Pg[zu]}})}:function(Cg,Pg,zu,nh){nh===void 0&&(nh=zu),Cg[nh]=Pg[zu]}),n=ue&&ue.__exportStar||function(Cg,Pg){for(var zu in Cg)zu!=="default"&&!Object.prototype.hasOwnProperty.call(Pg,zu)&&t(Pg,Cg,zu)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var r=gr;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return r.Observable}});var o=sg;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var i=ag;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return i.observable}});var a=fO;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return a.animationFrames}});var s=Mo;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=X_;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var c=Qy;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}});var u=Jy;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return u.AsyncSubject}});var d=Vae;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var f=cs;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return f.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return f.asyncScheduler}});var p=Wae;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return p.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return p.queueScheduler}});var h=qae;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return h.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return h.animationFrameScheduler}});var g=Zb;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return g.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return g.VirtualAction}});var v=K_;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return v.Scheduler}});var m=ti;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return m.Subscription}});var b=Zy;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return b.Subscriber}});var x=wO;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return x.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return x.NotificationKind}});var y=Ld;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return y.pipe}});var w=ai;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return w.noop}});var _=si;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return _.identity}});var S=MO;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return S.isObservable}});var P=AO;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var M=EO;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return M.firstValueFrom}});var I=iS;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return I.ArgumentOutOfRangeError}});var O=Ru;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return O.EmptyError}});var L=aS;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return L.NotFoundError}});var R=q_;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return R.ObjectUnsubscribedError}});var T=sS;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return T.SequenceError}});var E=EA;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return E.TimeoutError}});var k=U_;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return k.UnsubscriptionError}});var B=TO;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return B.bindCallback}});var $=OO;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return $.bindNodeCallback}});var j=Pp;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return j.combineLatest}});var V=dg;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return V.concat}});var q=IO;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return q.connectable}});var Q=pg;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return Q.defer}});var H=Sc;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return H.empty}});var X=kO;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return X.forkJoin}});var J=Ac;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return J.from}});var G=RO;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return G.fromEvent}});var ie=LO;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return ie.fromEventPattern}});var Y=$O;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return Y.generate}});var le=DO;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return le.iif}});var te=dS;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return te.interval}});var re=FO;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return re.merge}});var ae=h5;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return ae.never}});var pe=e0;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return pe.of}});var we=fS;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return we.onErrorResumeNext}});var fe=NO;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return fe.pairs}});var _e=BO;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return _e.partition}});var W=Om;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return W.race}});var oe=zO;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return oe.range}});var Ce=oS;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Ce.throwError}});var ve=Du;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return ve.timer}});var me=HO;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return me.using}});var ye=a0;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return ye.zip}});var Le=Y_;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Le.scheduled}});var Te=Sc;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return Te.EMPTY}});var Me=h5;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return Me.NEVER}}),n(use,e);var $e=Wp;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return $e.config}});var U=pS;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return U.audit}});var D=VO;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return D.auditTime}});var F=UO;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return F.buffer}});var K=GO;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return K.bufferCount}});var he=WO;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return he.bufferTime}});var ge=qO;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return ge.bufferToggle}});var Ae=XO;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return Ae.bufferWhen}});var Ke=KO;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return Ke.catchError}});var Je=YO;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Je.combineAll}});var ft=hS;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return ft.combineLatestAll}});var ht=ZO;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return ht.combineLatestWith}});var it=o0;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return it.concatAll}});var At=bS;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return At.concatMap}});var Pe=JO;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Pe.concatMapTo}});var Re=eI;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Re.concatWith}});var ze=s0;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return ze.connect}});var je=rI;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return je.count}});var Ue=oI;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Ue.debounce}});var tt=iI;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return tt.debounceTime}});var be=hg;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return be.defaultIfEmpty}});var He=aI;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return He.delay}});var Ve=yS;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Ve.delayWhen}});var z=sI;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return z.dematerialize}});var Z=lI;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Z.distinct}});var ne=_S;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return ne.distinctUntilChanged}});var de=cI;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return de.distinctUntilKeyChanged}});var ce=uI;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return ce.elementAt}});var Se=dI;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Se.endWith}});var xe=fI;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return xe.every}});var Ie=pI;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Ie.exhaust}});var Xe=SS;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return Xe.exhaustAll}});var Ye=CS;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Ye.exhaustMap}});var rt=hI;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return rt.expand}});var Fe=ef;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Fe.filter}});var Oe=mI;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return Oe.finalize}});var Ge=Im;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Ge.find}});var et=gI;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return et.findIndex}});var pt=vI;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return pt.first}});var wt=bI;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return wt.groupBy}});var gt=xS;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return gt.ignoreElements}});var _t=yI;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return _t.isEmpty}});var zt=xI;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return zt.last}});var Eo=$u;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Eo.map}});var li=wS;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return li.mapTo}});var sn=wI;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return sn.materialize}});var st=_I;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return st.max}});var Ct=fg;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Ct.mergeAll}});var Xt=SI;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Xt.flatMap}});var fn=Tc;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return fn.mergeMap}});var Wt=CI;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Wt.mergeMapTo}});var bn=PI;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return bn.mergeScan}});var pn=MI;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return pn.mergeWith}});var In=EI;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return In.min}});var zr=l0;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return zr.multicast}});var en=cg;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return en.observeOn}});var Hn=Qb;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return Hn.onErrorResumeNextWith}});var xo=TI;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return xo.pairwise}});var To=OI;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return To.pluck}});var Oa=II;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Oa.publish}});var Bi=kI;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Bi.publishBehavior}});var Ia=RI;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Ia.publishLast}});var Oo=LI;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Oo.publishReplay}});var ka=$I;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return ka.raceWith}});var Xs=Kp;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Xs.reduce}});var vr=DI;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return vr.repeat}});var Ra=FI;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Ra.repeatWhen}});var Ll=NI;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Ll.retry}});var Ks=BI;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Ks.retryWhen}});var us=W_;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return us.refCount}});var Ys=MS;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Ys.sample}});var ca=jI;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return ca.sampleTime}});var Nu=zI;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Nu.scan}});var Zs=HI;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Zs.sequenceEqual}});var $l=AS;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return $l.share}});var Bu=VI;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Bu.shareReplay}});var ci=UI;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return ci.single}});var Ic=GI;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Ic.skip}});var th=WI;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return th.skipLast}});var ua=qI;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return ua.skipUntil}});var ju=XI;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return ju.skipWhile}});var kc=KI;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return kc.startWith}});var da=ug;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return da.subscribeOn}});var cC=YI;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return cC.switchAll}});var uC=vg;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return uC.switchMap}});var dC=ZI;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return dC.switchMapTo}});var fC=QI;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return fC.switchScan}});var Tk=mg;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Tk.take}});var Vt=PS;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Vt.takeLast}});var qe=JI;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return qe.takeUntil}});var bt=e3;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return bt.takeWhile}});var kt=t3;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return kt.tap}});var ur=ES;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return ur.throttle}});var Io=n3;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Io.throttleTime}});var La=gg;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return La.throwIfEmpty}});var Hr=Jb;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return Hr.timeInterval}});var Qs=EA;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Qs.timeout}});var T0=r3;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return T0.timeoutWith}});var pC=o3;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return pC.timestamp}});var x8=gS;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return x8.toArray}});var ihe=i3;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return ihe.window}});var ahe=a3;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return ahe.windowCount}});var she=s3;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return she.windowTime}});var lhe=l3;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return lhe.windowToggle}});var che=c3;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return che.windowWhen}});var uhe=u3;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return uhe.withLatestFrom}});var dhe=d3;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return dhe.zipAll}});var fhe=f3;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return fhe.zipWith}})})(Lae);Object.defineProperty(qa,"__esModule",{value:!0});qa.isAbortException=qa.observeAbortSignal=qa.makeAbortError=qa.abortBreakPoint=qa.checkAbortSignal=void 0;const F9=Lae;class GYe extends Error{}function xse(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw wse()}}qa.checkAbortSignal=xse;function WYe(e){return new Promise(t=>setTimeout(t,e))}async function qYe(e){await WYe(1),xse(e)}qa.abortBreakPoint=qYe;function wse(){if(typeof DOMException<"u")return new DOMException("aborted","AbortError");const e=new GYe("aborted");return e.code="ERR_ABORTED",e}qa.makeAbortError=wse;function XYe(e){return e?(0,F9.fromEvent)(e,"abort"):F9.Observable.create()}qa.observeAbortSignal=XYe;function KYe(e){return e instanceof Error&&(e.name==="AbortError"||e.code==="ERR_ABORTED"||!!/\b(aborted|aborterror)\b/i.test(e.message))}qa.isAbortException=KYe;var az={};Object.defineProperty(az,"__esModule",{value:!0});const UR=C;function YYe(){const e=(0,UR.useRef)(null),[t,n]=(0,UR.useState)({width:void 0,height:void 0});return(0,UR.useEffect)(()=>{if(!e.current)return;const r=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:void 0;if(!r)return;const o=new r(i=>{n({width:i[0].contentRect.width,height:i[0].contentRect.height})});return o.observe(e.current),()=>{o.disconnect()}},[]),[e,t]}az.default=YYe;var ey={};Object.defineProperty(ey,"__esModule",{value:!0});ey.whenPresent=ey.when=void 0;const ZYe=kae,QYe=qa;function _se(e,{timeout:t,signal:n,name:r}={}){return new Promise((o,i)=>{let a=!1;const s=(0,ZYe.when)(e);let l,c=()=>{};t&&(l=setTimeout(()=>{a||(a=!0,s.cancel(),i(new Error(`timed out waiting for ${r||"whenPresent"}`)))},t),c=()=>l&&clearTimeout(l)),n&&n.addEventListener("abort",()=>{a||(a=!0,s.cancel(),c(),i((0,QYe.makeAbortError)()))}),s.then(()=>{a||(a=!0,c(),o(!0))}).catch(u=>{a||(a=!0,c(),i(u))})})}ey.when=_se;async function JYe(e,t={}){return await _se(()=>{const n=e();return n!=null},t),e()}ey.whenPresent=JYe;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.isContainedWithin=cp.doesIntersect2=cp.intersection2=void 0;function eZe(e,t,n,r){return t>n&&e<r&&r-n&&t-e?e>n?t<r?[e,t]:[e,r]:t<r?[n,t]:[n,r]:[]}cp.intersection2=eZe;function tZe(e,t,n,r){return t>n&&e<r}cp.doesIntersect2=tZe;function nZe(e,t,n,r){return n<=e&&r>=t}cp.isContainedWithin=nZe;var h3={};Object.defineProperty(h3,"__esModule",{value:!0});h3.dedupe=void 0;function rZe(e,t=JSON.stringify){const n=[],r=new Set;for(let o=0;o<e.length;o++){const i=e[o],a=t(i);r.has(a)||(n.push(i),r.add(a))}return n}h3.dedupe=rZe;var Ei={},Sse=!1,TA={},m3={};const fw={METHOD:"method",PROPERTY:"property"};class Cse{constructor(t,n){this.inst=t,this.args=n}}class oZe extends Cse{constructor(t,n){super(t,n),this.type=fw.METHOD}execute(t){t[this.inst](...this.args)}}class iZe extends Cse{constructor(t,n){super(t,n),this.type=fw.PROPERTY}execute(t){t[this.inst]=this.args[0]}}const aZe={[fw.METHOD]:oZe,[fw.PROPERTY]:iZe};class Pse{constructor(t,n,r){return new aZe[t](n,r)}}Object.entries(fw).forEach(([e,t])=>{Object.defineProperty(Pse,e,{value:t,configurable:!1,enumerable:!0,writable:!1})});m3=Pse;const Mse=Object.freeze({METHODS:["addHitRegion","arc","arcTo","beginPath","bezierCurveTo","clearHitRegions","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","removeHitRegion","resetTransform","restore","rotate","save","scale","scrollPathIntoView","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["direction","fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),Xc=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")});class sz{constructor(t=null){this[Xc.sequence]=[],t&&this[Xc.fromJSON](t)}[Xc.fromJSON](t={sequence:[]}){t.sequence.forEach(({type:n,inst:r,args:o})=>{this[Xc.push](n,r,o)})}[Xc.push](t,n,r){this[Xc.sequence].push(new m3(t,n,r))}execute(t){t.save(),this[Xc.sequence].forEach(n=>n.execute(t)),t.restore()}toJSON(){return{sequence:this[Xc.sequence]}}}Mse.METHODS.forEach(e=>{Object.defineProperty(sz.prototype,e,{value:function(...n){this[Xc.push](m3.METHOD,e,n)},writable:!1,enumerable:!0,configurable:!1})});Mse.PROPERTIES.forEach(e=>{Object.defineProperty(sz.prototype,e,{get(){throw`Invalid canvas sequencer interaction, cannot get ${e}.`},set(t){this[Xc.push](m3.PROPERTY,e,[t])},enumerable:!0,configurable:!1})});TA=sz;var Ase={};const N9=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});function sZe(e,t){const n=e.replace(/^\{|\}$/gu,"");return n!==e?t.hasOwnProperty(n)?t[n]:n:e}class lZe extends TA{build(t={}){const n=new TA;return this[N9.sequence].forEach(({type:r,inst:o,args:i})=>{const a=i.map(s=>typeof s=="string"?sZe(s,t):s);n[N9.push](r,o,a)}),n}execute(){throw new TypeError("Cannot execute a blueprint.")}}Ase=lZe;var Ese={CanvasSequence:TA,CanvasBlueprint:Ase},cZe=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.drawImageOntoCanvasContext=Ei.ImageBitmapType=Ei.createImageBitmap=Ei.createCanvas=void 0;const uZe=cZe(Sse),Tse=Ese;function dZe(e,t){e.serializedCommands?new Tse.CanvasSequence(e.serializedCommands).execute(t):t.drawImage(e,0,0)}Ei.drawImageOntoCanvasContext=dZe;const B9={realOffscreenCanvas:typeof OffscreenCanvas=="function",node:uZe.default};B9.realOffscreenCanvas?(Ei.createCanvas=(e,t)=>new OffscreenCanvas(e,t),Ei.createImageBitmap=window.createImageBitmap||self.createImageBitmap,Ei.ImageBitmapType=window.ImageBitmap||self.ImageBitmap):B9.node?(Ei.createCanvas=(...e)=>nodeCreateCanvas(...e),Ei.createImageBitmap=async(e,...t)=>{if(t.length>0)throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");const n=e.toDataURL(),r=new nodeImage;return new Promise((o,i)=>{r.onload=()=>o(r),r.onerror=i,r.src=n})}):(Ei.createCanvas=(e,t)=>{const n=new Tse.CanvasSequence;return{width:e,height:t,getContext(){return n}}},Ei.createImageBitmap=async e=>{const t=e.getContext("2d");return{height:e.height,width:e.width,serializedCommands:t.toJSON(),containsNoTransferables:!0}},Ei.ImageBitmapType=String);var Vu={},GR={exports:{}};/*!!
 *  Canvas 2 Svg v1.0.15
 *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
 *
 *  Licensed under the MIT license:
 *  http://www.opensource.org/licenses/mit-license.php
 *
 *  Author:
 *  Kerry Liu
 *
 *  Copyright (c) 2014 Gliffy Inc.
 */var j9;function fZe(){return j9||(j9=1,function(e){(function(){var t,n,r,o,i;function a(f,p){var h=Object.keys(p),g;for(g=0;g<h.length;g++)f=f.replace(new RegExp("\\{"+h[g]+"\\}","gi"),p[h[g]]);return f}function s(f){var p,h,g;if(!f)throw new Error("cannot create a random attribute name for an undefined object");p="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="";do for(h="",g=0;g<12;g++)h+=p[Math.floor(Math.random()*p.length)];while(f[h]);return h}function l(f,p){var h,g,v={},m;for(f=f.split(","),p=p||10,h=0;h<f.length;h+=2)g="&"+f[h+1]+";",m=parseInt(f[h],p),v[g]="&#"+m+";";return v["\\xa0"]="&#160;",v}function c(f){var p={left:"start",right:"end",center:"middle",start:"start",end:"end"};return p[f]||p.start}function u(f){var p={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return p[f]||p.alphabetic}i=l("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),t={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},r=function(f,p){this.__root=f,this.__ctx=p},r.prototype.addColorStop=function(f,p){var h=this.__ctx.__createElement("stop"),g,v;h.setAttribute("offset",f),p.indexOf("rgba")!==-1?(g=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,v=g.exec(p),h.setAttribute("stop-color",a("rgb({r},{g},{b})",{r:v[1],g:v[2],b:v[3]})),h.setAttribute("stop-opacity",v[4])):h.setAttribute("stop-color",p),this.__root.appendChild(h)},o=function(f,p){this.__root=f,this.__ctx=p},n=function(f){var p={width:500,height:500,enableMirroring:!1},h;if(arguments.length>1?(h=p,h.width=arguments[0],h.height=arguments[1]):f?h=f:h=p,!(this instanceof n))return new n(h);this.width=h.width||p.width,this.height=h.height||p.height,this.enableMirroring=h.enableMirroring!==void 0?h.enableMirroring:p.enableMirroring,this.canvas=this,this.__document=h.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},n.prototype.__createElement=function(f,p,h){typeof p>"u"&&(p={});var g=this.__document.createElementNS("http://www.w3.org/2000/svg",f),v=Object.keys(p),m,b;for(h&&(g.setAttribute("fill","none"),g.setAttribute("stroke","none")),m=0;m<v.length;m++)b=v[m],g.setAttribute(b,p[b]);return g},n.prototype.__setDefaultStyles=function(){var f=Object.keys(t),p,h;for(p=0;p<f.length;p++)h=f[p],this[h]=t[h].canvas},n.prototype.__applyStyleState=function(f){var p=Object.keys(f),h,g;for(h=0;h<p.length;h++)g=p[h],this[g]=f[g]},n.prototype.__getStyleState=function(){var f,p={},h=Object.keys(t),g;for(f=0;f<h.length;f++)g=h[f],p[g]=this[g];return p},n.prototype.__applyStyleToCurrentElement=function(f){var p=Object.keys(t),h,g,v,m,b,x;for(h=0;h<p.length;h++)if(g=t[p[h]],v=this[p[h]],g.apply)if(g.apply.indexOf("fill")!==-1&&v instanceof o){if(v.__ctx)for(;v.__ctx.__defs.childNodes.length;)m=v.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[m]=m,this.__defs.appendChild(v.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",a("url(#{id})",{id:v.__root.getAttribute("id")}))}else g.apply.indexOf("fill")!==-1&&v instanceof r?this.__currentElement.setAttribute("fill",a("url(#{id})",{id:v.__root.getAttribute("id")})):g.apply.indexOf(f)!==-1&&g.svg!==v&&((g.svgAttr==="stroke"||g.svgAttr==="fill")&&v.indexOf("rgba")!==-1?(b=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,x=b.exec(v),this.__currentElement.setAttribute(g.svgAttr,a("rgb({r},{g},{b})",{r:x[1],g:x[2],b:x[3]})),this.__currentElement.setAttribute(g.svgAttr+"-opacity",x[4])):this.__currentElement.setAttribute(g.svgAttr,v))},n.prototype.__closestGroupOrSvg=function(f){return f=f||this.__currentElement,f.nodeName==="g"||f.nodeName==="svg"?f:this.__closestGroupOrSvg(f.parentNode)},n.prototype.getSerializedSvg=function(f){var p=new XMLSerializer().serializeToString(this.__root),h,g,v,m,b,x;if(x=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,x.test(p)&&(p=p.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),f)for(h=Object.keys(i),g=0;g<h.length;g++)v=h[g],m=i[v],b=new RegExp(v,"gi"),b.test(p)&&(p=p.replace(b,m));return p},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var f=this.__createElement("g"),p=this.__closestGroupOrSvg();this.__groupStack.push(p),p.appendChild(f),this.__currentElement=f,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var f=this.__stack.pop();this.__applyStyleState(f)},n.prototype.__addTransform=function(f){var p=this.__closestGroupOrSvg();if(p.childNodes.length>0){var h=this.__createElement("g");p.appendChild(h),this.__currentElement=h}var g=this.__currentElement.getAttribute("transform");g?g+=" ":g="",g+=f,this.__currentElement.setAttribute("transform",g)},n.prototype.scale=function(f,p){p===void 0&&(p=f),this.__addTransform(a("scale({x},{y})",{x:f,y:p}))},n.prototype.rotate=function(f){var p=f*180/Math.PI;this.__addTransform(a("rotate({angle},{cx},{cy})",{angle:p,cx:0,cy:0}))},n.prototype.translate=function(f,p){this.__addTransform(a("translate({x},{y})",{x:f,y:p}))},n.prototype.transform=function(f,p,h,g,v,m){this.__addTransform(a("matrix({a},{b},{c},{d},{e},{f})",{a:f,b:p,c:h,d:g,e:v,f:m}))},n.prototype.beginPath=function(){var f,p;this.__currentDefaultPath="",this.__currentPosition={},f=this.__createElement("path",{},!0),p=this.__closestGroupOrSvg(),p.appendChild(f),this.__currentElement=f},n.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var f=this.__currentDefaultPath;this.__currentElement.setAttribute("d",f)}else throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)},n.prototype.__addPathCommand=function(f){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=f},n.prototype.moveTo=function(f,p){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:f,y:p},this.__addPathCommand(a("M {x} {y}",{x:f,y:p}))},n.prototype.closePath=function(){this.__addPathCommand("Z")},n.prototype.lineTo=function(f,p){this.__currentPosition={x:f,y:p},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(a("L {x} {y}",{x:f,y:p})):this.__addPathCommand(a("M {x} {y}",{x:f,y:p}))},n.prototype.bezierCurveTo=function(f,p,h,g,v,m){this.__currentPosition={x:v,y:m},this.__addPathCommand(a("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:f,cp1y:p,cp2x:h,cp2y:g,x:v,y:m}))},n.prototype.quadraticCurveTo=function(f,p,h,g){this.__currentPosition={x:h,y:g},this.__addPathCommand(a("Q {cpx} {cpy} {x} {y}",{cpx:f,cpy:p,x:h,y:g}))};var d=function(f){var p=Math.sqrt(f[0]*f[0]+f[1]*f[1]);return[f[0]/p,f[1]/p]};n.prototype.arcTo=function(f,p,h,g,v){var m=this.__currentPosition&&this.__currentPosition.x,b=this.__currentPosition&&this.__currentPosition.y;if(!(typeof m>"u"||typeof b>"u")){if(v<0)throw new Error("IndexSizeError: The radius provided ("+v+") is negative.");if(m===f&&b===p||f===h&&p===g||v===0){this.lineTo(f,p);return}var x=d([m-f,b-p]),y=d([h-f,g-p]);if(x[0]*y[1]===x[1]*y[0]){this.lineTo(f,p);return}var w=x[0]*y[0]+x[1]*y[1],_=Math.acos(Math.abs(w)),S=d([x[0]+y[0],x[1]+y[1]]),P=v/Math.sin(_/2),M=f+P*S[0],I=p+P*S[1],O=[-x[1],x[0]],L=[y[1],-y[0]],R=function(k){var B=k[0],$=k[1];return $>=0?Math.acos(B):-Math.acos(B)},T=R(O),E=R(L);this.lineTo(M+O[0]*v,I+O[1]*v),this.arc(M,I,v,T,E)}},n.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(f,p,h,g){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(f,p),this.lineTo(f+h,p),this.lineTo(f+h,p+g),this.lineTo(f,p+g),this.lineTo(f,p),this.closePath()},n.prototype.fillRect=function(f,p,h,g){var v,m;v=this.__createElement("rect",{x:f,y:p,width:h,height:g},!0),m=this.__closestGroupOrSvg(),m.appendChild(v),this.__currentElement=v,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(f,p,h,g){var v,m;v=this.__createElement("rect",{x:f,y:p,width:h,height:g},!0),m=this.__closestGroupOrSvg(),m.appendChild(v),this.__currentElement=v,this.__applyStyleToCurrentElement("stroke")},n.prototype.clearRect=function(f,p,h,g){var v,m=this.__closestGroupOrSvg();v=this.__createElement("rect",{x:f,y:p,width:h,height:g,fill:"#FFFFFF"},!0),m.appendChild(v)},n.prototype.createLinearGradient=function(f,p,h,g){var v=this.__createElement("linearGradient",{id:s(this.__ids),x1:f+"px",x2:h+"px",y1:p+"px",y2:g+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(v),new r(v,this)},n.prototype.createRadialGradient=function(f,p,h,g,v,m){var b=this.__createElement("radialGradient",{id:s(this.__ids),cx:g+"px",cy:v+"px",r:m+"px",fx:f+"px",fy:p+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(b),new r(b,this)},n.prototype.__parseFont=function(){var f=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i,p=f.exec(this.font),h={style:p[1]||"normal",size:p[4]||"10px",family:p[6]||"sans-serif",weight:p[3]||"normal",decoration:p[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(h.decoration="underline"),this.__fontHref&&(h.href=this.__fontHref),h},n.prototype.__wrapTextLink=function(f,p){if(f.href){var h=this.__createElement("a");return h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.href),h.appendChild(p),h}return p},n.prototype.__applyText=function(f,p,h,g){var v=this.__parseFont(),m=this.__closestGroupOrSvg(),b=this.__createElement("text",{"font-family":v.family,"font-size":v.size,"font-style":v.style,"font-weight":v.weight,"text-decoration":v.decoration,x:p,y:h,"text-anchor":c(this.textAlign),"dominant-baseline":u(this.textBaseline)},!0);b.appendChild(this.__document.createTextNode(f)),this.__currentElement=b,this.__applyStyleToCurrentElement(g),m.appendChild(this.__wrapTextLink(v,b))},n.prototype.fillText=function(f,p,h){this.__applyText(f,p,h,"fill")},n.prototype.strokeText=function(f,p,h){this.__applyText(f,p,h,"stroke")},n.prototype.measureText=function(f){return this.__ctx.font=this.font,this.__ctx.measureText(f)},n.prototype.arc=function(f,p,h,g,v,m){if(g!==v){g=g%(2*Math.PI),v=v%(2*Math.PI),g===v&&(v=(v+2*Math.PI-.001*(m?-1:1))%(2*Math.PI));var b=f+h*Math.cos(v),x=p+h*Math.sin(v),y=f+h*Math.cos(g),w=p+h*Math.sin(g),_=m?0:1,S=0,P=v-g;P<0&&(P+=2*Math.PI),m?S=P>Math.PI?0:1:S=P>Math.PI?1:0,this.lineTo(y,w),this.__addPathCommand(a("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:h,ry:h,xAxisRotation:0,largeArcFlag:S,sweepFlag:_,endX:b,endY:x})),this.__currentPosition={x:b,y:x}}},n.prototype.clip=function(){var f=this.__closestGroupOrSvg(),p=this.__createElement("clipPath"),h=s(this.__ids),g=this.__createElement("g");f.removeChild(this.__currentElement),p.setAttribute("id",h),p.appendChild(this.__currentElement),this.__defs.appendChild(p),f.setAttribute("clip-path",a("url(#{id})",{id:h})),f.appendChild(g),this.__currentElement=g},n.prototype.drawImage=function(){var f=Array.prototype.slice.call(arguments),p=f[0],h,g,v,m,b=0,x=0,y,w,_,S,P,M,I,O,L,R,T;if(f.length===3)h=f[1],g=f[2],y=p.width,w=p.height,v=y,m=w;else if(f.length===5)h=f[1],g=f[2],v=f[3],m=f[4],y=p.width,w=p.height;else if(f.length===9)b=f[1],x=f[2],y=f[3],w=f[4],h=f[5],g=f[6],v=f[7],m=f[8];else throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);if(_=this.__closestGroupOrSvg(),I=this.__currentElement,p instanceof n){for(S=p.getSvg(),P=S.childNodes[0];P.childNodes.length;)T=P.childNodes[0].getAttribute("id"),this.__ids[T]=T,this.__defs.appendChild(P.childNodes[0]);M=S.childNodes[1],_.appendChild(M),this.__currentElement=M,this.translate(h,g),this.__currentElement=I}else(p.nodeName==="CANVAS"||p.nodeName==="IMG")&&(O=this.__createElement("image"),O.setAttribute("width",v),O.setAttribute("height",m),O.setAttribute("preserveAspectRatio","none"),(b||x||y!==p.width||w!==p.height)&&(L=this.__document.createElement("canvas"),L.width=v,L.height=m,R=L.getContext("2d"),R.drawImage(p,b,x,y,w,0,0,v,m),p=L),O.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.nodeName==="CANVAS"?p.toDataURL():p.getAttribute("src")),_.appendChild(O),this.__currentElement=O,this.translate(h,g),this.__currentElement=I)},n.prototype.createPattern=function(f,p){var h=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),g=s(this.__ids),v;return h.setAttribute("id",g),h.setAttribute("width",f.width),h.setAttribute("height",f.height),f.nodeName==="CANVAS"||f.nodeName==="IMG"?(v=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),v.setAttribute("width",f.width),v.setAttribute("height",f.height),v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f.nodeName==="CANVAS"?f.toDataURL():f.getAttribute("src")),h.appendChild(v),this.__defs.appendChild(h)):f instanceof n&&(h.appendChild(f.__root.childNodes[1]),this.__defs.appendChild(h)),new o(h,this)},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},typeof window=="object"&&(window.C2S=n),e.exports=n})()}(GR)),GR.exports}var z9;function pZe(){if(z9)return Vu;z9=1;var e=ue&&ue.__createBinding||(Object.create?function(d,f,p,h){h===void 0&&(h=p);var g=Object.getOwnPropertyDescriptor(f,p);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[p]}}),Object.defineProperty(d,h,g)}:function(d,f,p,h){h===void 0&&(h=p),d[h]=f[p]}),t=ue&&ue.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=ue&&ue.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var p in d)p!=="default"&&Object.prototype.hasOwnProperty.call(d,p)&&e(f,d,p);return t(f,d),f},r=ue&&ue.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.ReactRendering=Vu.getSerializedSvg=Vu.renderToAbstractCanvas=void 0;const o=r(C),i=Ese,a=Ei,s=Ea();async function l(d,f,p,h){const{exportSVG:g,highResolutionScaling:v=1}=p;if(g)if(g.rasterizeLayers){const m=g.scale||v,b=(0,a.createCanvas)(Math.ceil(d*m),f*m),x=b.getContext("2d");if(!x)throw new Error("2d canvas rendering not supported on this platform");return x.scale(m,m),{...await h(x),reactElement:o.default.createElement("image",{width:d,height:f,xlinkHref:"convertToBlob"in b?await(0,s.blobToDataURL)(await b.convertToBlob({type:"image/png"})):b.toDataURL("image/png")})}}else{const m=new i.CanvasSequence;return{...await h(m),canvasRecordedData:m.toJSON()}}else{const m=v,b=(0,a.createCanvas)(Math.ceil(d*m),f*m),x=b.getContext("2d");if(!x)throw new Error("2d canvas rendering not supported on this platform");return x.scale(m,m),{...await h(x),imageData:await(0,a.createImageBitmap)(b)}}}Vu.renderToAbstractCanvas=l;async function c(d){const{width:f,height:p,canvasRecordedData:h}=d,g=await Promise.resolve().then(()=>n(fZe())),v=new g.default(f,p);return new i.CanvasSequence(h).execute(v),v.getSvg().innerHTML}Vu.getSerializedSvg=c;function u({rendering:d}){return o.default.createElement(o.default.Fragment,null,o.default.isValidElement(d.reactElement)?d.reactElement:o.default.createElement("g",{dangerouslySetInnerHTML:{__html:d.html||""}}))}return Vu.ReactRendering=u,Vu}var TS={};Object.defineProperty(TS,"__esModule",{value:!0});TS.isFeature=void 0;function hZe(e){return typeof e=="object"&&e!==null&&typeof e.get=="function"&&typeof e.id=="function"}TS.isFeature=hZe;function H9(e){return"uniqueId"in e&&typeof e.data!="object"}class OA{constructor(t){var n;H9(t)?this.data=t:(this.data=t.data||{},this.parentHandle=t.parent);const r=H9(t)?t.uniqueId:t.id;if(r==null)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(r),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error(`invalid feature data, end less than start. end: ${this.data.end} start: ${this.data.start}`);this.data.subfeatures&&(this.subfeatures=(n=this.data.subfeatures)===null||n===void 0?void 0:n.map((o,i)=>typeof o.get!="function"?new OA({id:o.uniqueId||`${r}-${i}`,data:{strand:this.data.strand,...o},parent:this}):o))}get(t){return t==="subfeatures"?this.subfeatures:t==="parent"?this.parent():this.data[t]}set(t,n){this.data[t]=n}tags(){return Object.keys(this.data)}id(){return this.uniqueId}parent(){return this.parentHandle}children(){return this.get("subfeatures")}toJSON(){const t={...this.data,uniqueId:this.id()},n=this.parent();n&&(t.parentId=n.id());const r=this.children();return r&&(t.subfeatures=r.map(o=>o.toJSON())),t}static fromJSON(t){return new OA({...t})}}TS.default=OA;var V9;function Ea(){return V9||(V9=1,function(e){var t=ue&&ue.__createBinding||(Object.create?function(Pe,Re,ze,je){je===void 0&&(je=ze);var Ue=Object.getOwnPropertyDescriptor(Re,ze);(!Ue||("get"in Ue?!Re.__esModule:Ue.writable||Ue.configurable))&&(Ue={enumerable:!0,get:function(){return Re[ze]}}),Object.defineProperty(Pe,je,Ue)}:function(Pe,Re,ze,je){je===void 0&&(je=ze),Pe[je]=Re[ze]}),n=ue&&ue.__exportStar||function(Pe,Re){for(var ze in Pe)ze!=="default"&&!Object.prototype.hasOwnProperty.call(Re,ze)&&t(Re,Pe,ze)},r=ue&&ue.__importDefault||function(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}};Object.defineProperty(e,"__esModule",{value:!0}),e.supportedIndexingAdapters=e.bytesForRegions=e.objectHash=e.hashCode=e.updateStatus=e.generateCodonTable=e.defaultCodonTable=e.defaultStops=e.defaultStarts=e.measureText=e.rIC=e.blobToDataURL=e.complement=e.reverse=e.revcom=e.isElectron=e.stringify=e.shorten=e.minmax=e.renameRegionsIfNeeded=e.renameRegionIfNeeded=e.makeAbortableReaction=e.findLastIndex=e.iterMap=e.bpSpanPx=e.featureSpanPx=e.cartesianToPolar=e.polarToCartesian=e.degToRad=e.radToDeg=e.bpToPx=e.clamp=e.compareLocStrings=e.compareLocs=e.parseLocString=e.parseLocStringOneBased=e.assembleLocStringFast=e.assembleLocString=e.getContainingDisplay=e.getContainingTrack=e.getContainingView=e.getSession=e.findParentThatIs=e.springAnimate=e.findParentThat=e.useDebouncedCallback=e.useWidthSetter=e.useDebounce=e.inProduction=e.inDevelopment=void 0,e.isFeature=e.SimpleFeature=e.avg=e.sum=e.min=e.max=e.localStorageSetItem=e.localStorageGetItem=e.getEnv=e.measureGridWidth=e.getStr=e.getUriLink=e.useLocalStorage=e.getLayoutId=e.getViewParams=e.getTickDisplayStr=e.toLocale=e.getBpDisplayStr=void 0;const o=C,i=r(Iae),a=Qd,s=kae,l=nm,c=qa,u=nm,d=r(az);n(nm,e),n(qa,e),n(ey,e),n(cp,e),n(h3,e),n(Ei,e),n(pZe(),e),e.inDevelopment=typeof process=="object"&&process.env&&!1,e.inProduction=!e.inDevelopment;function f(Pe,Re){const[ze,je]=(0,o.useState)(Pe);return(0,o.useEffect)(()=>{const Ue=setTimeout(()=>{je(Pe)},Re);return()=>{clearTimeout(Ue)}},[Pe,Re]),ze}e.useDebounce=f;function p(Pe,Re){const[ze,{width:je}]=(0,d.default)();return(0,o.useEffect)(()=>{je&&(0,a.isAlive)(Pe)&&requestAnimationFrame(()=>Pe.setWidth(je-Number.parseInt(Re,10)*2))},[Re,Pe,je]),ze}e.useWidthSetter=p;function h(Pe,Re=400){const ze=(0,o.useRef)(),je=(0,o.useRef)();function Ue(){je.current&&clearTimeout(je.current)}return(0,o.useEffect)(()=>Ue,[]),function(...be){ze.current=be,Ue(),je.current=setTimeout(()=>{ze.current&&Pe(...ze.current)},Re)}}e.useDebouncedCallback=h;function g(Pe,Re){if(!(0,a.hasParent)(Pe))throw new Error("node does not have parent");let ze=(0,a.getParent)(Pe);for(;ze&&(0,a.isAlive)(ze);){if(Re(ze))return ze;if((0,a.hasParent)(ze))ze=(0,a.getParent)(ze);else break}throw new Error("no matching node found")}e.findParentThat=g;function v(Pe,Re,ze,je=()=>{},Ue=0,tt=170,be=26){Ue||(Ue=Math.abs(Re-Pe)/1e3);let Ve;function z(Z){const ne=Date.now();let de=Z.lastPosition,ce=Z.lastTime||ne,Se=Z.lastVelocity||0;ne>ce+64&&(ce=ne);const xe=Math.floor(ne-ce);for(let rt=0;rt<xe;++rt){const Fe=-tt*(de-Re),Oe=-be*Se,Ge=(Fe+Oe)/1;Se+=Ge*1/1e3,de+=Se*1/1e3}const Ie=Math.abs(Se)<=Ue,Xe=tt!==0?Math.abs(Re-de)<=Ue:!0;Ie&&Xe?(ze(Re),je()):(ze(de),Ve=requestAnimationFrame(()=>z({lastPosition:de,lastTime:ne,lastVelocity:Se})))}return[()=>z({lastPosition:Pe}),()=>cancelAnimationFrame(Ve)]}e.springAnimate=v;function m(Pe,Re){return g(Pe,Re)}e.findParentThatIs=m;function b(Pe){try{return m(Pe,l.isSessionModel)}catch{throw new Error("no session model found!")}}e.getSession=b;function x(Pe){try{return m(Pe,l.isViewModel)}catch{throw new Error("no containing view found")}}e.getContainingView=x;function y(Pe){try{return m(Pe,l.isTrackModel)}catch{throw new Error("no containing track found")}}e.getContainingTrack=y;function w(Pe){try{return m(Pe,l.isDisplayModel)}catch{throw new Error("no containing display found")}}e.getContainingDisplay=w;function _(Pe){return S(Pe,Le)}e.assembleLocString=_;function S(Pe,Re=ze=>ze){const{assemblyName:ze,refName:je,start:Ue,end:tt,reversed:be}=Pe,He=ze?`{${ze}}`:"";let Ve;Ue!==void 0?Ve=`:${Re(Ue+1)}`:tt!==void 0?Ve=":1":Ve="";let z;tt!==void 0?z=Ue!==void 0&&Ue+1===tt?"":`..${Re(tt)}`:z=Ue!==void 0?"..":"";let Z="";return be&&(Z="[rev]"),`${He}${je}${Ve}${z}${Z}`}e.assembleLocStringFast=S;function P(Pe,Re){if(!Pe)throw new Error("no location string provided, could not parse");let ze=!1;Pe.endsWith("[rev]")&&(ze=!0,Pe=Pe.replace(/\[rev]$/,"")),Pe=Pe.replace(/\s/,"");const je=Pe.match(/({(.+)})?(.+)/);if(!je)throw new Error(`invalid location string: "${Pe}"`);const[,,Ue,tt]=je;if(!Ue&&tt.startsWith("{}"))throw new Error(`no assembly name was provided in location "${tt}"`);const be=tt.lastIndexOf(":");if(be===-1){if(Re(tt,Ue))return{assemblyName:Ue,refName:tt,reversed:ze};throw new Error(`Unknown reference sequence "${tt}"`)}const He=tt.slice(0,be),Ve=tt.slice(be+1);if(Re(He,Ue)&&Re(tt,Ue))throw new Error(`ambiguous location string: "${Pe}"`);if(Re(He,Ue))if(Ve){const z=Ve.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/),Z=Ve.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/);if(z){const[,ne,,,,de]=z;if(ne!==void 0&&de!==void 0)return{assemblyName:Ue,refName:He,start:+ne.replace(/,/g,""),end:+de.replace(/,/g,""),reversed:ze}}else if(Z){const[,ne,,,de]=Z;if(ne!==void 0)return de?{assemblyName:Ue,refName:He,start:+ne.replace(/,/g,""),reversed:ze}:{assemblyName:Ue,refName:He,start:+ne.replace(/,/g,""),end:+ne.replace(/,/g,""),reversed:ze}}else throw new Error(`could not parse range "${Ve}" on location "${Pe}"`)}else return{assemblyName:Ue,refName:He,reversed:ze};else if(Re(tt,Ue))return{assemblyName:Ue,refName:tt,reversed:ze};throw new Error(`unknown reference sequence name in location "${Pe}"`)}e.parseLocStringOneBased=P;function M(Pe,Re){const ze=P(Pe,Re);return typeof ze.start=="number"&&(ze.start-=1),ze}e.parseLocString=M;function I(Pe,Re){const ze=Pe.assemblyName||Re.assemblyName?(Pe.assemblyName||"").localeCompare(Re.assemblyName||""):0;if(ze)return ze;const je=Pe.refName||Re.refName?(Pe.refName||"").localeCompare(Re.refName||""):0;if(je)return je;if(Pe.start!==void 0&&Re.start!==void 0){const Ue=Pe.start-Re.start;if(Ue)return Ue}if(Pe.end!==void 0&&Re.end!==void 0){const Ue=Pe.end-Re.end;if(Ue)return Ue}return 0}e.compareLocs=I;function O(Pe,Re,ze){const je=M(Pe,ze),Ue=M(Re,ze);return I(je,Ue)}e.compareLocStrings=O;function L(Pe,Re,ze){return Pe<Re?Re:Pe>ze?ze:Pe}e.clamp=L;function R(Pe){return Math.round(Pe*10)/10}function T(Pe,{reversed:Re,end:ze=0,start:je=0},Ue){return R((Re?ze-Pe:Pe-je)/Ue)}e.bpToPx=T;const E=180/Math.PI,k=Math.PI/180;function B(Pe){return Pe*E%360}e.radToDeg=B;function $(Pe){return Pe*k%(2*Math.PI)}e.degToRad=$;function j(Pe,Re){return[Pe*Math.cos(Re),Pe*Math.sin(Re)]}e.polarToCartesian=j;function V(Pe,Re){const ze=Math.sqrt(Pe*Pe+Re*Re),je=Math.atan(Re/Pe);return[ze,je]}e.cartesianToPolar=V;function q(Pe,Re,ze){return Q(Pe.get("start"),Pe.get("end"),Re,ze)}e.featureSpanPx=q;function Q(Pe,Re,ze,je){const Ue=T(Pe,ze,je),tt=T(Re,ze,je);return ze.reversed?[tt,Ue]:[Ue,tt]}e.bpSpanPx=Q;function H(Pe,Re,ze){const je=Array.from({length:ze||0});let Ue=0;for(const tt of Pe)je[Ue]=Re(tt),Ue+=1;return je}e.iterMap=H;function X(Pe,Re){let ze=Pe.length;for(;ze--;)if(Re(Pe[ze],ze,Pe))return ze;return-1}e.findLastIndex=X;function J(Pe,Re,ze,je,Ue,tt,be){let He;function Ve(z){(0,c.isAbortException)(z)||((0,a.isAlive)(Pe)?be(z):console.error(z))}(0,a.addDisposer)(Pe,(0,s.reaction)(()=>{try{return Re(Pe)}catch(z){Ve(z);return}},async(z,Z)=>{if(He&&!He.signal.aborted&&He.abort(),!(0,a.isAlive)(Pe))return;He=new AbortController;const ne=He;Ue(ne);try{const de=await ze(z,ne.signal,Pe,Z);(0,c.checkAbortSignal)(ne.signal),(0,a.isAlive)(Pe)&&tt(de)}catch(de){ne&&!ne.signal.aborted&&ne.abort(),Ve(de)}},je)),(0,a.addDisposer)(Pe,()=>{He&&!He.signal.aborted&&He.abort()})}e.makeAbortableReaction=J;function G(Pe,Re){if((0,a.isStateTreeNode)(Re)&&!(0,a.isAlive)(Re))return Re;if(Re&&(Pe!=null&&Pe[Re.refName])){Re=(0,a.isStateTreeNode)(Re)?{...(0,a.getSnapshot)(Re)}:{...Re};const ze=Pe[Re.refName];if(ze)return{...Re,refName:ze,originalRefName:Re.refName}}return Re}e.renameRegionIfNeeded=G;async function ie(Pe,Re){const{regions:ze=[],adapterConfig:je}=Re;if(!Re.sessionId)throw new Error("sessionId is required");const Ue=ze.map(be=>be.assemblyName),tt=Object.fromEntries(await Promise.all([...new Set(Ue)].map(async be=>[be,await Pe.getRefNameMapForAdapter(je,be,Re)])));return{...Re,regions:ze.map((be,He)=>G(tt[Ue[He]],be))}}e.renameRegionsIfNeeded=ie;function Y(Pe,Re){return[Math.min(Pe,Re),Math.max(Pe,Re)]}e.minmax=Y;function le(Pe,Re=70,ze=30){return Pe.length>Re?Pe.slice(0,ze)+"..."+Pe.slice(-ze):Pe}e.shorten=le;function te({refName:Pe,coord:Re,oob:ze}){return Pe?`${le(Pe)}:${Le(Re)}${ze?" (out of bounds)":""}`:""}e.stringify=te,e.isElectron=/electron/i.test(typeof navigator<"u"?navigator.userAgent:"");function re(Pe){return ae((0,e.complement)(Pe))}e.revcom=re;function ae(Pe){return Pe.split("").reverse().join("")}e.reverse=ae,e.complement=(()=>{const Pe=/[ACGT]/gi,Re={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"};return ze=>ze.replace(Pe,je=>Re[je]||"")})();function pe(Pe){const Re=new FileReader;return new Promise((ze,je)=>{Re.onload=Ue=>{Ue.target?ze(Ue.target.result):je(new Error("unknown result reading blob from canvas"))},Re.readAsDataURL(Pe)})}e.blobToDataURL=pe,e.rIC=typeof jest>"u"?typeof window<"u"&&window.requestIdleCallback?window.requestIdleCallback:Pe=>setTimeout(()=>Pe(),1):Pe=>Pe();const we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625];function fe(Pe,Re=10){var ze;const je=.5279276315789471,Ue=String(Pe);let tt=0;for(let be=0;be<Ue.length;be++){const He=Ue.charCodeAt(be);tt+=(ze=we[He])!==null&&ze!==void 0?ze:je}return tt*Re}e.measureText=fe,e.defaultStarts=["ATG"],e.defaultStops=["TAA","TAG","TGA"],e.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"};function _e(Pe){const Re={};return Object.keys(Pe).forEach(ze=>{const je=Pe[ze],Ue=[];for(let tt=0;tt<3;tt++){const be=ze.charAt(tt);Ue[tt]=[],Ue[tt][0]=be.toUpperCase(),Ue[tt][1]=be.toLowerCase()}for(let tt=0;tt<2;tt++){const be=Ue[0][tt];for(let He=0;He<2;He++){const Ve=Ue[1][He];for(let z=0;z<2;z++){const Z=Ue[2][z],ne=be+Ve+Z;Re[ne]=je}}}}),Re}e.generateCodonTable=_e;async function W(Pe,Re,ze){Re(Pe);const je=await ze();return Re(""),je}e.updateStatus=W;function oe(Pe){let Re=0;if(Pe.length===0)return Re;for(let ze=0;ze<Pe.length;ze++){const je=Pe.charCodeAt(ze);Re=(Re<<5)-Re+je,Re|=0}return Re}e.hashCode=oe;function Ce(Pe){return`${oe(JSON.stringify(Pe))}`}e.objectHash=Ce;async function ve(Pe,Re){return(await Promise.all(Pe.map(je=>Re.blocksForRange(je.refName,je.start,je.end)))).flat().map(je=>({start:je.minv.blockPosition,end:je.maxv.blockPosition+65535})).reduce((je,Ue)=>je+Ue.end-Ue.start,0)}e.bytesForRegions=ve;function me(Pe){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(Pe)}e.supportedIndexingAdapters=me;function ye(Pe){let Re;return Math.floor(Pe/1e6)>0?Re=`${Number.parseFloat((Pe/1e6).toPrecision(3))}Mbp`:Math.floor(Pe/1e3)>0?Re=`${Number.parseFloat((Pe/1e3).toPrecision(3))}Kbp`:Re=`${Le(Math.floor(Pe))}bp`,Re}e.getBpDisplayStr=ye;function Le(Pe){return Pe.toLocaleString("en-US")}e.toLocale=Le;function Te(Pe,Re){return Math.floor(Re/1e3)>0?`${Le(Number.parseFloat((Pe/1e6).toFixed(2)))}M`:`${Le(Math.floor(Pe))}`}e.getTickDisplayStr=Te;function Me(Pe,Re){const{dynamicBlocks:ze,staticBlocks:je,offsetPx:Ue}=x(Pe),tt=(ze==null?void 0:ze.contentBlocks[0])||{},be=(je==null?void 0:je.contentBlocks[0])||{},He=(je==null?void 0:je.contentBlocks[1])||{};return{offsetPx:Re?0:Ue-be.offsetPx,offsetPx1:Re?0:Ue-He.offsetPx,start:tt.start,end:tt.end}}e.getViewParams=Me;function $e({sessionId:Pe,layoutId:Re}){return Pe+"-"+Re}e.getLayoutId=$e;function U(Pe,Re){const[ze,je]=(0,o.useState)(()=>{if(typeof window>"u")return Re;try{const tt=window.localStorage.getItem(Pe);return tt?JSON.parse(tt):Re}catch(tt){return console.error(tt),Re}});return[ze,tt=>{try{const be=tt instanceof Function?tt(ze):tt;je(be),typeof window<"u"&&window.localStorage.setItem(Pe,JSON.stringify(be))}catch(be){console.error(be)}}]}e.useLocalStorage=U;function D(Pe){const{uri:Re,baseUri:ze=""}=Pe;let je;try{je=new URL(Re,ze).href}catch{je=Re}return je}e.getUriLink=D;function F(Pe){return(0,i.default)(Pe)?(0,u.isUriLocation)(Pe)?D(Pe):JSON.stringify(Pe):String(Pe)}e.getStr=F;function K(Pe){return Pe.replace(/(<([^>]+)>)/gi,"")}function he(Pe,Re){const{padding:ze=30,minWidth:je=80,fontSize:Ue=12,maxWidth:tt=1e3,stripHTML:be=!1}=Re||{};return Je(Pe.map(He=>F(He)).map(He=>be?K(He):He).map(He=>fe(He,Ue)).map(He=>Math.min(Math.max(He+ze,je),tt)))}e.measureGridWidth=he;function ge(Pe){return(0,a.getEnv)(Pe)}e.getEnv=ge;function Ae(Pe){return typeof localStorage<"u"?localStorage.getItem(Pe):void 0}e.localStorageGetItem=Ae;function Ke(Pe,Re){return typeof localStorage<"u"?localStorage.setItem(Pe,Re):void 0}e.localStorageSetItem=Ke;function Je(Pe,Re=-1/0){let ze=Re;for(let je=0;je<Pe.length;je++)ze=Pe[je]>ze?Pe[je]:ze;return ze}e.max=Je;function ft(Pe,Re=1/0){let ze=Re;for(let je=0;je<Pe.length;je++)ze=Pe[je]<ze?Pe[je]:ze;return ze}e.min=ft;function ht(Pe){let Re=0;for(let ze=0;ze<Pe.length;ze++)Re+=Pe[ze];return Re}e.sum=ht;function it(Pe){return ht(Pe)/Pe.length}e.avg=it;var At=TS;Object.defineProperty(e,"SimpleFeature",{enumerable:!0,get:function(){return r(At).default}}),Object.defineProperty(e,"isFeature",{enumerable:!0,get:function(){return At.isFeature}})}(RR)),RR}var OS={},Ose={},km={},g3={};Object.defineProperty(g3,"__esModule",{value:!0});g3.objectFromEntries=void 0;g3.objectFromEntries=Object.fromEntries?Object.fromEntries:e=>{if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};return Object.keys(e).forEach(n=>{const[r,o]=e[n];t[r]=o}),t};var IS={};Object.defineProperty(IS,"__esModule",{value:!0});IS.objectKeys=void 0;function mZe(e){return Object.keys(e)}IS.objectKeys=mZe;var Ise={},kse={},kS={};Object.defineProperty(kS,"__esModule",{value:!0});kS.assert=void 0;function gZe(e,t){if(!e)throw new Error(t)}kS.assert=gZe;var RS={};Object.defineProperty(RS,"__esModule",{value:!0});RS.typeGuard=void 0;function vZe(e,t){return t}RS.typeGuard=vZe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.classnames=void 0;const t=kS,n=RS,r=o=>{const i=o.length;let a=0,s="";for(;a<i;a++){const l=o[a];if(l==null)continue;let c;switch(typeof l){case"boolean":break;case"object":{if(Array.isArray(l))c=(0,e.classnames)(l);else{(0,t.assert)(!(0,n.typeGuard)(l,!1)),c="";for(const u in l)l[u]&&u&&(c&&(c+=" "),c+=u)}break}default:c=l}c&&(s&&(s+=" "),s+=c)}return s};e.classnames=r})(kse);const bZe=Pa(Ewe),yZe=Pa(_we);var v3={};Object.defineProperty(v3,"__esModule",{value:!0});v3.useGuaranteedMemo=void 0;const xZe=C;function wZe(e,t){const n=(0,xZe.useRef)();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,o)=>r===t[o]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}v3.useGuaranteedMemo=wZe;var b3={};Object.defineProperty(b3,"__esModule",{value:!0});b3.matchCSSObject=void 0;function _Ze(e){return e instanceof Object&&!("styles"in e)&&!("length"in e)&&!("__emotion_styles"in e)}b3.matchCSSObject=_Ze;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUseCssAndCx=e.createCssAndCx=void 0;const t=kse,n=bZe,r=yZe,o=v3,i=b3;e.createCssAndCx=(()=>{function l(u,d,f){const p=[],h=(0,r.getRegisteredStyles)(u,p,f);return p.length<2?f:h+d(p)}function c(u){const{cache:d}=u,f=(...h)=>{const g=(0,n.serializeStyles)(h,d.registered);(0,r.insertStyles)(d,g,!1);const v=`${d.key}-${g.name}`;e:{const m=h[0];if(!(0,i.matchCSSObject)(m))break e;s.saveClassNameCSSObjectMapping(d,v,m)}return v};return{css:f,cx:(...h)=>{const g=(0,t.classnames)(h),v=s.fixClassName(d,g,f);return l(d.registered,f,v)}}}return{createCssAndCx:c}})().createCssAndCx;function a(l){const{useCache:c}=l;function u(){const d=c(),{css:f,cx:p}=(0,o.useGuaranteedMemo)(()=>(0,e.createCssAndCx)({cache:d}),[d]);return{css:f,cx:p}}return{useCssAndCx:u}}e.createUseCssAndCx=a;const s=(()=>{const l=new WeakMap;return{saveClassNameCSSObjectMapping:(c,u,d)=>{let f=l.get(c);f===void 0&&(f=new Map,l.set(c,f)),f.set(u,d)},fixClassName:(()=>{function c(u){let d=!1;return u.map(([f,p])=>{if(p===void 0)return f;let h;if(d)h={"&&":p};else{h=f;for(const g in p)if(g.startsWith("@media")){d=!0;break}}return h})}return(u,d,f)=>{const p=l.get(u);return(0,t.classnames)(c(d.split(" ").map(h=>[h,p==null?void 0:p.get(h)])).map(h=>typeof h=="string"?h:f(h)))}})()}})()})(Ise);var y3={};Object.defineProperty(y3,"__esModule",{value:!0});y3.getDependencyArrayRef=void 0;function SZe(e){if(!(e instanceof Object)||typeof e=="function")return e;const t=[];for(const n in e){const r=e[n],o=typeof r;if(!(o==="string"||o==="number"&&!isNaN(r)||o==="boolean"||r===void 0||r===null))return e;t.push(`${n}:${o}_${r}`)}return"xSqLiJdLMd9s"+t.join("|")}y3.getDependencyArrayRef=SZe;var x3={};Object.defineProperty(x3,"__esModule",{value:!0});x3.mergeClasses=void 0;const U9=IS;function CZe(e,t,n){if(!(t instanceof Object))return e;const r={};return(0,U9.objectKeys)(e).forEach(o=>r[o]=n(e[o],t[o])),(0,U9.objectKeys)(t).forEach(o=>{if(o in e)return;const i=t[o];typeof i=="string"&&(r[o]=i)}),r}x3.mergeClasses=CZe;const lz=Pa(Hwe);var PZe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),MZe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),AZe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&PZe(t,e,n);return MZe(t,e),t};Object.defineProperty(km,"__esModule",{value:!0});km.TssCacheProvider=km.createMakeStyles=void 0;const B1=AZe(C),EZe=g3,G9=IS,TZe=Ise,JC=y3,OZe=RS,IZe=kS,W9=x3,Rse=C,kZe=lz;let RZe=0;function LZe(e){const{useTheme:t,cache:n}=e;function r(){var s;const l=(0,kZe.__unsafe_useEmotionCache)(),c=$Ze(),u=(s=n??c)!==null&&s!==void 0?s:l;if(u===null)throw new Error(["In order to get SSR working with tss-react you need to explicitly provide an Emotion cache.","MUI users be aware: This is not an error strictly related to tss-react, with or without tss-react,","MUI needs an Emotion cache to be provided for SSR to work.","Here is the MUI documentation related to SSR setup: https://mui.com/material-ui/guides/server-rendering/","TSS provides helper that makes the process of setting up SSR easier: https://docs.tss-react.dev/ssr"].join(`
`));return u}const{useCssAndCx:o}=(0,TZe.createUseCssAndCx)({useCache:r});function i(s){const{name:l,uniqId:c=RZe++}=s??{},u=typeof l!="object"?l:Object.keys(l)[0];return function(d){const f=typeof d=="function"?d:()=>d;return function(h,g){var v,m;const b=g==null?void 0:g.props,x=t(),{css:y,cx:w}=o(),_=r();let S=(0,B1.useMemo)(()=>{const M={},I=typeof Proxy<"u"&&new Proxy({},{get:(R,T)=>(typeof T=="symbol"&&(0,IZe.assert)(!1),M[T]=`${_.key}-${c}${u!==void 0?`-${u}`:""}-${T}-ref`)}),O=f(x,h,I||{}),L=(0,EZe.objectFromEntries)((0,G9.objectKeys)(O).map(R=>{const T=O[R];return T.label||(T.label=`${u!==void 0?`${u}-`:""}${R}`),[R,`${y(T)}${(0,OZe.typeGuard)(R,R in M)?` ${M[R]}`:""}`]}));return(0,G9.objectKeys)(M).forEach(R=>{R in L||(L[R]=M[R])}),L},[_,y,w,x,(0,JC.getDependencyArrayRef)(h)]);const P=b==null?void 0:b.classes;S=(0,B1.useMemo)(()=>(0,W9.mergeClasses)(S,P,w),[S,(0,JC.getDependencyArrayRef)(P),w]);{let M;try{M=u!==void 0?(m=(v=x.components)===null||v===void 0?void 0:v[u])===null||m===void 0?void 0:m.styleOverrides:void 0}catch{}const I=(0,B1.useMemo)(()=>{if(!M)return;const O={};for(const L in M){const R=M[L];R instanceof Object&&(O[L]=y(typeof R=="function"?R(Object.assign({theme:x,ownerState:g==null?void 0:g.ownerState},b)):R))}return O},[M===void 0?void 0:typeof M=="function"?M:JSON.stringify(M),(0,JC.getDependencyArrayRef)(b),(0,JC.getDependencyArrayRef)(g==null?void 0:g.ownerState),y]);S=(0,B1.useMemo)(()=>(0,W9.mergeClasses)(S,I,w),[S,I,w])}return{classes:S,theme:x,css:y,cx:w}}}}function a(){const s=t(),{css:l,cx:c}=o();return{theme:s,css:l,cx:c}}return{makeStyles:i,useStyles:a}}km.createMakeStyles=LZe;const Lse=(0,Rse.createContext)(void 0);function $Ze(){return(0,Rse.useContext)(Lse)}function DZe(e){const{children:t,value:n}=e;return B1.default.createElement(Lse.Provider,{value:n},t)}km.TssCacheProvider=DZe;var w3={},_3={};Object.defineProperty(_3,"__esModule",{value:!0});_3.capitalize=void 0;function FZe(e){return e.charAt(0).toUpperCase()+e.slice(1)}_3.capitalize=FZe;var NZe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),BZe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jZe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&NZe(t,e,n);return BZe(t,e),t},q9=ue&&ue.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};Object.defineProperty(w3,"__esModule",{value:!0});w3.createWithStyles=void 0;const WR=jZe(C),zZe=km,X9=_3;function HZe(e){const{useTheme:t,cache:n}=e,{makeStyles:r}=(0,zZe.createMakeStyles)({useTheme:t,cache:n});function o(i,a,s){const l=typeof i=="string"?(()=>{const p=i,h=function(g){var{children:v}=g,m=q9(g,["children"]);return(0,WR.createElement)(p,m,v)};return Object.defineProperty(h,"name",{value:(0,X9.capitalize)(p)}),h})():i,c=(()=>{{const{name:p}=s??{};if(p!==void 0)return typeof p!="object"?p:Object.keys(p)[0]}{const p=l.displayName;if(typeof p=="string"&&p!=="")return p}{const{name:p}=l;if(p)return p}})(),u=r(Object.assign(Object.assign({},s),{name:c}))(typeof a=="function"?(p,h,g)=>Y9(a(p,h,g)):Y9(a));function d(p){for(const h in p)if(h!=="root")return!0;return!1}const f=(0,WR.forwardRef)(function(p,h){const{className:g,classes:v}=p,m=q9(p,["className","classes"]),{classes:b,cx:x}=u(p,{props:p}),y=x(b.root,g);return $se.set(b,Object.assign(Object.assign({},b),{root:y})),WR.default.createElement(l,Object.assign({ref:h,className:d(b)?g:y},typeof i=="string"?{}:{classes:b},m))});return c!==void 0&&(f.displayName=`${(0,X9.capitalize)(c)}WithStyles`,Object.defineProperty(f,"name",{value:f.displayName})),f}return o.getClasses=VZe,{withStyles:o}}w3.createWithStyles=HZe;const $se=new WeakMap,K9="getClasses should only be used in conjunction with withStyles";function VZe(e){const t=e.classes;if(t===void 0)throw new Error(K9);const n=$se.get(t);if(n===void 0)throw new Error(K9);return n}function Y9(e){const t={},n={};return Object.keys(e).forEach(r=>(r.startsWith("@media")?n:t)[r]=e[r]),Object.keys(n).forEach(r=>{const o=n[r];Object.keys(o).forEach(i=>{var a;return t[i]=Object.assign(Object.assign({},(a=t[i])!==null&&a!==void 0?a:{}),{[r]:o[i]})})}),t}var S3={},UZe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),GZe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WZe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&UZe(t,e,n);return GZe(t,e),t},qZe=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S3,"__esModule",{value:!0});S3.GlobalStyles=void 0;const XZe=qZe(C),Z9=WZe(lz);function KZe(e){const{styles:t}=e;return XZe.default.createElement(Z9.Global,{styles:Z9.css(t)})}S3.GlobalStyles=KZe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMakeAndWithStyles=e.GlobalStyles=e.keyframes=e.createWithStyles=e.TssCacheProvider=e.createMakeStyles=void 0;const t=km;Object.defineProperty(e,"createMakeStyles",{enumerable:!0,get:function(){return t.createMakeStyles}}),Object.defineProperty(e,"TssCacheProvider",{enumerable:!0,get:function(){return t.TssCacheProvider}});const n=w3;Object.defineProperty(e,"createWithStyles",{enumerable:!0,get:function(){return n.createWithStyles}});var r=lz;Object.defineProperty(e,"keyframes",{enumerable:!0,get:function(){return r.keyframes}});var o=S3;Object.defineProperty(e,"GlobalStyles",{enumerable:!0,get:function(){return o.GlobalStyles}});function i(a){return Object.assign(Object.assign({},(0,t.createMakeStyles)(a)),(0,n.createWithStyles)(a))}e.createMakeAndWithStyles=i})(Ose);var YZe=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OS,"__esModule",{value:!0});const ZZe=YZe(C),QZe=Dr,JZe=ii,eQe=Ose,tQe=(0,JZe.makeStyles)()({dots:{"&::after":{display:"inline-block",content:'""',width:"1em",textAlign:"left",animation:`${(0,eQe.keyframes)`
      0% {
        content: '';
      }
      25% {
          content: '.';
      }
      50% {
        content: '..';
      }
      75% {
        content: '...';
      }
      `} 1.2s infinite ease-in-out`}}});function nQe({message:e,variant:t="body2",...n}){const{classes:r}=tQe();return ZZe.default.createElement(QZe.Typography,{className:r.dots,...n,variant:t},`${e||"Loading"}`)}OS.default=nQe;var C3={},rQe=sr;Object.defineProperty(C3,"__esModule",{value:!0});var Dse=C3.default=void 0,oQe=rQe(bo()),iQe=N,aQe=(0,oQe.default)((0,iQe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Dse=C3.default=aQe;var bg={},sQe=sr;Object.defineProperty(bg,"__esModule",{value:!0});bg.default=void 0;var lQe=sQe(bo()),cQe=N,uQe=(0,lQe.default)((0,cQe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");bg.default=uQe;var LS={},dQe=sr;Object.defineProperty(LS,"__esModule",{value:!0});LS.default=void 0;var fQe=dQe(bo()),pQe=N,hQe=(0,fQe.default)((0,pQe.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize");LS.default=hQe;var P3={},mQe=sr;Object.defineProperty(P3,"__esModule",{value:!0});P3.default=void 0;var gQe=mQe(bo()),vQe=N,bQe=(0,gQe.default)((0,vQe.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");P3.default=bQe;var cz={},M3={},yQe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),xQe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wQe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&yQe(t,e,n);return xQe(t,e),t};Object.defineProperty(M3,"__esModule",{value:!0});const e2=wQe(C),_Qe=ii,SQe=(0,_Qe.makeStyles)()({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});function CQe({onDrag:e,vertical:t=!1,flexbox:n=!1,className:r,...o}){const[i,a]=(0,e2.useState)(!1),s=(0,e2.useRef)(0),{classes:l,cx:c}=SQe();(0,e2.useEffect)(()=>{function d(p){p.preventDefault();const h=t?p.clientX:p.clientY,g=h-s.current;g&&(e(g),s.current=h)}function f(){a(!1)}return i?(window.addEventListener("mousemove",d,!0),window.addEventListener("mouseup",f,!0),()=>{window.removeEventListener("mousemove",d,!0),window.removeEventListener("mouseup",f,!0)}):()=>{}},[i,e,t]);let u;return n?u=t?l.flexbox_verticalHandle:l.flexbox_horizontalHandle:t?u=l.verticalHandle:u=l.horizontalHandle,e2.default.createElement("div",{"data-resizer":"true",onMouseDown:d=>{d.preventDefault(),s.current=t?d.clientX:d.clientY,a(!0)},className:c(u,r),...o})}M3.default=CQe;var Fse=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cz,"__esModule",{value:!0});const qR=Fse(C),PQe=Dr,MQe=ii,AQe=Vo,Q9=Fse(M3),EQe=(0,MQe.makeStyles)()(e=>({paper:{overflowY:"auto",height:"100%",zIndex:e.zIndex.drawer,outline:"none",background:e.palette.background.default},resizeHandle:{width:4,position:"fixed",top:0,zIndex:e.zIndex.drawer+1}}));function TQe({children:e,session:t}){const{drawerPosition:n,drawerWidth:r}=t,{classes:o}=EQe();return qR.default.createElement(PQe.Paper,{className:o.paper,elevation:16,square:!0},n==="right"?qR.default.createElement(Q9.default,{onDrag:t.resizeDrawer,className:o.resizeHandle,vertical:!0}):null,e,n==="left"?qR.default.createElement(Q9.default,{onDrag:t.resizeDrawer,className:o.resizeHandle,style:{left:r},vertical:!0}):null)}cz.default=(0,AQe.observer)(TQe);var c0={},OQe=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c0,"__esModule",{value:!0});const J9=OQe(C),IQe=({error:e})=>{let t="",n=`${e}`;const r="is not assignable",o=n.indexOf(r);if(o!==-1){const i=n.slice(0,o+r.length),a=i.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/m);a&&(n=`Failed to load element at ${a[1]}...Failed element had snapshot`,t=a[2]);const s=i.match(/.*snapshot `(.*)` is not assignable/);s&&(n="Failed to load element...Failed element had snapshot",t=s[1])}return J9.default.createElement("div",{style:{padding:4,margin:4,overflow:"auto",maxHeight:200,background:"#f88",border:"1px solid black"}},n.slice(0,1e4),t?J9.default.createElement("pre",{style:{background:"lightgrey",border:"1px solid black",margin:20}},JSON.stringify(JSON.parse(t),null,2)):null)};c0.default=IQe;var kQe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),RQe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),LQe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&kQe(t,e,n);return RQe(t,e),t},yg=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ez,"__esModule",{value:!0});const Vn=LQe(C),$Qe=uO,Hi=Dr,DQe=ii,Nse=Vo,Bse=Ea(),FQe=yg(OS),NQe=yg(C3),BQe=yg(bg),jQe=yg(LS),zQe=yg(P3),HQe=yg(cz),VQe=yg(c0),UQe=(0,DQe.makeStyles)()(e=>({formControl:{margin:0},spacer:{flexGrow:1},drawerSelect:{margin:0,color:e.palette.secondary.contrastText},dropDownIcon:{color:e.palette.secondary.contrastText},header:{background:e.palette.secondary.main}})),GQe=(0,Nse.observer)(({session:e,setToolbarHeight:t})=>{const{pluginManager:n}=(0,Bse.getEnv)(e),{visibleWidget:r,activeWidgets:o,drawerPosition:i}=e,{classes:a}=UQe(),[s,l]=(0,Vn.useState)(null);return Vn.default.createElement(Hi.AppBar,{position:"sticky",className:a.header,ref:c=>t((c==null?void 0:c.getBoundingClientRect().height)||0)},Vn.default.createElement(Hi.Toolbar,{disableGutters:!0},Vn.default.createElement(Hi.FormControl,{className:a.formControl},Vn.default.createElement(Hi.Select,{value:r==null?void 0:r.id,"data-testid":"widget-drawer-selects",className:a.drawerSelect,classes:{icon:a.dropDownIcon},renderValue:c=>{const u=e.activeWidgets.get(c);if(!u)return Vn.default.createElement(Hi.Typography,{variant:"h6",color:"inherit"},"Unknown widget");const d=n.getWidgetType(u.type),{HeadingComponent:f,heading:p}=d;return f?Vn.default.createElement(f,{model:u}):Vn.default.createElement(Hi.Typography,{variant:"h6",color:"inherit"},p)},onChange:c=>{const u=e.activeWidgets.get(c.target.value);u?e.showWidget(u):e.notify(`Widget not found ${c.target.value}`,"warning")}},[...o.values()].map(c=>{const u=n.getWidgetType(c.type),{HeadingComponent:d,heading:f}=u;return Vn.default.createElement(Hi.MenuItem,{"data-testid":`widget-drawer-selects-item-${c.type}`,key:c.id,value:c.id},d?Vn.default.createElement(d,{model:c}):Vn.default.createElement(Hi.Typography,{variant:"h6",color:"inherit"},f),Vn.default.createElement(Hi.IconButton,{"data-testid":`${c.type}-drawer-delete`,color:"inherit","aria-label":"Delete",onClick:()=>e.hideWidget(c)},Vn.default.createElement(NQe.default,null)))}))),Vn.default.createElement("div",{className:a.spacer}),Vn.default.createElement("div",null,Vn.default.createElement(Hi.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:c=>l(c.currentTarget)},Vn.default.createElement(zQe.default,null)),Vn.default.createElement(Hi.Tooltip,{title:"Minimize drawer"},Vn.default.createElement(Hi.IconButton,{"data-testid":"drawer-minimize",color:"inherit",onClick:()=>{e.notify(`Drawer minimized, click button on ${i} side of screen to re-open`,"info"),e.minimizeWidgetDrawer()}},Vn.default.createElement(jQe.default,null))),Vn.default.createElement(Hi.Tooltip,{title:"Close drawer"},Vn.default.createElement(Hi.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:()=>e.hideWidget(r)},Vn.default.createElement(BQe.default,null))))),Vn.default.createElement(Hi.Menu,{anchorEl:s,open:!!s,onClose:()=>l(null)},["left","right"].map(c=>Vn.default.createElement(Hi.MenuItem,{key:c,selected:i==="option",onClick:()=>{e.setDrawerPosition(c),l(null)}},c))))}),WQe=(0,Nse.observer)(({session:e})=>{const{visibleWidget:t}=e,{pluginManager:n}=(0,Bse.getEnv)(e),r=t?n.evaluateExtensionPoint("Core-replaceWidget",n.getWidgetType(t.type).ReactComponent,{session:e,model:t}):null,[o,i]=(0,Vn.useState)(0);return Vn.default.createElement(HQe.default,{session:e},Vn.default.createElement(GQe,{session:e,setToolbarHeight:i}),Vn.default.createElement(Vn.Suspense,{fallback:Vn.default.createElement(FQe.default,null)},Vn.default.createElement($Qe.ErrorBoundary,{FallbackComponent:({error:a})=>Vn.default.createElement(VQe.default,{error:a})},r?Vn.default.createElement(r,{model:t,session:e,toolbarHeight:o}):null)))});ez.default=WQe;var uz={},dz={},$S={},qQe=sr;Object.defineProperty($S,"__esModule",{value:!0});var jse=$S.default=void 0,XQe=qQe(bo()),KQe=N,YQe=(0,XQe.default)((0,KQe.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");jse=$S.default=YQe;var $d={},A3={},ZQe=sr;Object.defineProperty(A3,"__esModule",{value:!0});A3.default=void 0;var QQe=ZQe(bo()),JQe=N,eJe=(0,QQe.default)((0,JQe.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");A3.default=eJe;var E3={},tJe=sr;Object.defineProperty(E3,"__esModule",{value:!0});E3.default=void 0;var nJe=tJe(bo()),rJe=N,oJe=(0,nJe.default)((0,rJe.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");E3.default=oJe;var T3={},iJe=sr;Object.defineProperty(T3,"__esModule",{value:!0});T3.default=void 0;var aJe=iJe(bo()),sJe=N,lJe=(0,aJe.default)((0,sJe.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");T3.default=lJe;var O3={},cJe=sr;Object.defineProperty(O3,"__esModule",{value:!0});O3.default=void 0;var uJe=cJe(bo()),dJe=N,fJe=(0,uJe.default)((0,dJe.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonChecked");O3.default=fJe;var I3={},pJe=sr;Object.defineProperty(I3,"__esModule",{value:!0});I3.default=void 0;var hJe=pJe(bo()),mJe=N,gJe=(0,hJe.default)((0,mJe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");I3.default=gJe;var vJe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),bJe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yJe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&vJe(t,e,n);return bJe(t,e),t},DS=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($d,"__esModule",{value:!0});$d.MenuItemEndDecoration=void 0;const Zn=yJe(C),td=Dr,xJe=ii,wJe=DS(A3),_Je=DS(E3),SJe=DS(T3),CJe=DS(O3),PJe=DS(I3),MJe=Ea(),zse=(0,xJe.makeStyles)()({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function m5(e){const{classes:t}=zse(),{type:n}=e;let r,o;"checked"in e&&({checked:r,disabled:o}=e);let i;switch(n){case"subMenu":{i=Zn.default.createElement(wJe.default,{color:"action"});break}case"checkbox":{if(r){const a=o?"inherit":void 0;i=Zn.default.createElement(_Je.default,{color:a})}else i=Zn.default.createElement(SJe.default,{color:"action"});break}case"radio":{if(r){const a=o?"inherit":void 0;i=Zn.default.createElement(CJe.default,{color:a})}else i=Zn.default.createElement(PJe.default,{color:"action"});break}}return Zn.default.createElement("div",{className:t.menuItemEndDecoration},i)}$d.MenuItemEndDecoration=m5;function AJe(e,t){const n=e.slice(t+1).findIndex(r=>r.type!=="divider"&&r.type!=="subHeader"&&!r.disabled);return n===-1?n:t+1+n}function EJe(e,t){return(0,MJe.findLastIndex)(e.slice(0,t),n=>n.type!=="divider"&&n.type!=="subHeader"&&!n.disabled)}const Hse=Zn.default.forwardRef((e,t)=>{const[n,r]=(0,Zn.useState)(),[o,i]=(0,Zn.useState)(),[a,s]=(0,Zn.useState)(!1),[l,c]=(0,Zn.useState)(),[u,d]=(0,Zn.useState)(),f=(0,Zn.useRef)(null),{classes:p}=zse(),{menuItems:h,onMenuItemClick:g,open:v,onClose:m,anchorEl:b,top:x=!1}=e;(0,Zn.useEffect)(()=>{v||(r(void 0),i(void 0))},[v]),(0,Zn.useEffect)(()=>{const P=v&&!!n;let M;return P&&!a?M=setTimeout(()=>{s(!0)},300):!P&&a&&(M=setTimeout(()=>{s(!1)},300)),()=>{clearTimeout(M)}},[a,v,n]),(0,Zn.useEffect)(()=>{if(b){const P=b.getBoundingClientRect();u?(P.top!==u.top||P.left+P.width!==u.left)&&d({top:P.top,left:P.left+P.width}):d({top:P.top,left:P.left+P.width})}else u||d({})},[u,b]);const y=h.some(P=>"icon"in P&&P.icon),w={};function _(P){return M=>{g(M,P)}}const S=Zn.default.createElement(Zn.default.Fragment,null,Zn.default.createElement(td.MenuList,{autoFocusItem:v&&!a,dense:!0},h.sort((P,M)=>(M.priority||0)-(P.priority||0)).map((P,M)=>{if(P.type==="divider")return Zn.default.createElement(td.Divider,{key:`divider-${M}`,component:"li"});if(P.type==="subHeader")return Zn.default.createElement(td.ListSubheader,{key:`subHeader-${P.label}-${M}`},P.label);let I=null,O=null;if(P.icon){const R=P.icon;I=Zn.default.createElement(td.ListItemIcon,null,Zn.default.createElement(R,null))}"subMenu"in P?O=Zn.default.createElement(m5,{type:"subMenu"}):(P.type==="checkbox"||P.type==="radio")&&(O=Zn.default.createElement(m5,{type:P.type,checked:P.checked,disabled:P.disabled}));const L="onClick"in P?_(P.onClick):void 0;return Zn.default.createElement(td.MenuItem,{key:P.label,style:w,selected:M===l,onClick:L,onMouseMove:R=>{R.currentTarget!==document.activeElement&&(R.currentTarget.focus(),c(M)),"subMenu"in P?o!==M&&(r(R.currentTarget),i(M)):(r(void 0),i(void 0))},onKeyDown:R=>{switch(R.key){case"ArrowLeft":case"Escape":{m&&m(R,"escapeKeyDown");break}case"ArrowUp":{c(EJe(h,M));break}case"ArrowDown":{const T=AJe(h,M);c(T);break}default:"subMenu"in P&&(R.key==="ArrowRight"||R.key==="Enter")&&(r(R.currentTarget),i(M),s(!0))}},disabled:!!P.disabled},I,Zn.default.createElement(td.ListItemText,{primary:P.label,secondary:P.subLabel,inset:y&&!P.icon}),O)})),h.map((P,M)=>{let I=null;return"subMenu"in P&&(I=Zn.default.createElement(Hse,{key:P.label,anchorEl:n,open:a&&o===M,onClose:()=>{s(!1),r(void 0)},onMenuItemClick:g,menuItems:P.subMenu})),I}));return x?S:Zn.default.createElement(td.Grow,{in:v,style:{transformOrigin:"0 0 0"},ref:t},Zn.default.createElement(td.Paper,{elevation:8,ref:f,className:p.paper,style:{...u}},S))});function TJe(e){const{open:t,onClose:n,menuItems:r,onMenuItemClick:o,...i}=e;return Zn.default.createElement(td.Popover,{open:t,onClose:n,BackdropProps:{invisible:!0},anchorOrigin:{vertical:"bottom",horizontal:"right",...i.anchorOrigin},transformOrigin:{vertical:"top",horizontal:"left",...i.transformOrigin},...i},Zn.default.createElement(Hse,{open:t,onClose:n,menuItems:r,onMenuItemClick:o,top:!0}))}$d.default=TJe;var OJe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),IJe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kJe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&OJe(t,e,n);return IJe(t,e),t},Vse=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dz,"__esModule",{value:!0});const rh=kJe(C),Use=Dr,RJe=ii,LJe=Vo,$Je=Vse($S),DJe=Vse($d),FJe=(0,RJe.makeStyles)()(e=>({buttonRoot:{"&:hover":{backgroundColor:(0,Use.alpha)(e.palette.primary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}));function NJe({menuTitle:e,session:t,menuItems:n}){const[r,o]=(0,rh.useState)(!1),i=(0,rh.useRef)(null),{classes:a}=FJe();function s(){o(!r)}function l(u,d){d(t),c()}function c(){o(!1)}return rh.default.createElement(rh.default.Fragment,null,rh.default.createElement(Use.Button,{ref:i,onClick:s,color:"inherit","data-testid":"dropDownMenuButton",classes:{root:a.buttonRoot}},e,rh.default.createElement($Je.default,null)),rh.default.createElement(DJe.default,{anchorEl:i.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},onMenuItemClick:l,open:r,onClose:c,menuItems:n}))}dz.default=(0,LJe.observer)(NJe);var FS={},BJe=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),jJe=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zJe=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&BJe(t,e,n);return jJe(t,e),t};Object.defineProperty(FS,"__esModule",{value:!0});const Dc=zJe(C),XR=Dr,HJe=ii,VJe=(0,HJe.makeStyles)()(e=>({input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderWidth:2}})),UJe=Dc.default.forwardRef((e,t)=>{const{value:n,setValue:r,variant:o,...i}=e,[a,s]=(0,Dc.useState)(),[l,c]=(0,Dc.useState)(null),[u,d]=(0,Dc.useState)(null),[f,p]=(0,Dc.useState)(!1);(0,Dc.useEffect)(()=>{f&&(u==null||u.blur(),p(!1))},[f,u]);const{classes:h}=VJe(e,{props:e}),g=(0,XR.useTheme)(),m=(l==null?void 0:l.clientWidth)||0,b=a===void 0?n:a;return Dc.default.createElement("div",{...i,ref:t},Dc.default.createElement("div",{style:{position:"relative"}},Dc.default.createElement(XR.Typography,{ref:x=>c(x),component:"span",variant:o,className:h.typography},b)),Dc.default.createElement(XR.InputBase,{inputRef:x=>d(x),className:h.inputBase,inputProps:{style:{width:m,...o&&o!=="inherit"?g.typography[o]:{}}},classes:{input:h.input,root:h.inputRoot,focused:h.inputFocused},value:b,onChange:x=>s(x.target.value),onKeyDown:x=>{x.key==="Enter"?u==null||u.blur():x.key==="Escape"&&(s(void 0),p(!0))},onBlur:()=>{r(a||n||""),s(void 0)}}))});FS.default=UJe;var fz={},u0={},ty={},rm={},Gse={exports:{}},ZP=1;function GJe(){return ZP=(ZP*9301+49297)%233280,ZP/233280}function WJe(e){ZP=e}var qJe={nextValue:GJe,seed:WJe},g5=qJe,Fh="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",Wf,e7,j1;function v5(){j1=!1}function Wse(e){if(!e){Wf!==Fh&&(Wf=Fh,v5());return}if(e!==Wf){if(e.length!==Fh.length)throw new Error("Custom alphabet for shortid must be "+Fh.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(n,r,o){return r!==o.lastIndexOf(n)});if(t.length)throw new Error("Custom alphabet for shortid must be "+Fh.length+" unique characters. These characters were not unique: "+t.join(", "));Wf=e,v5()}}function XJe(e){return Wse(e),Wf}function KJe(e){g5.seed(e),e7!==e&&(v5(),e7=e)}function YJe(){Wf||Wse(Fh);for(var e=Wf.split(""),t=[],n=g5.nextValue(),r;e.length>0;)n=g5.nextValue(),r=Math.floor(n*e.length),t.push(e.splice(r,1)[0]);return t.join("")}function qse(){return j1||(j1=YJe(),j1)}function ZJe(e){var t=qse();return t[e]}function QJe(){return Wf||Fh}var pz={get:QJe,characters:XJe,seed:KJe,lookup:ZJe,shuffled:qse},KR=typeof window=="object"&&(window.crypto||window.msCrypto),b5;!KR||!KR.getRandomValues?b5=function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(Math.random()*256));return t}:b5=function(e){return KR.getRandomValues(new Uint8Array(e))};var JJe=b5,eet=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*n/t.length),i="";;)for(var a=e(o),s=o;s--;)if(i+=t[a[s]&r]||"",i.length===+n)return i},tet=pz,net=JJe,ret=eet;function oet(e){for(var t=0,n,r="";!n;)r=r+ret(net,tet.get(),1),n=e<Math.pow(16,t+1),t++;return r}var iet=oet,t2=iet,aet=1567752802062,set=7,n2,t7;function cet(e){var t="",n=Math.floor((Date.now()-aet)*.001);return n===t7?n2++:(n2=0,t7=n),t=t+t2(set),t=t+t2(e),n2>0&&(t=t+t2(n2)),t=t+t2(n),t}var uet=cet,det=pz;function fet(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+det.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var pet=fet;(function(e){var t=pz,n=uet,r=pet,o=0;function i(c){return t.seed(c),e.exports}function a(c){return o=c,e.exports}function s(c){return c!==void 0&&t.characters(c),t.shuffled()}function l(){return n(o)}e.exports=l,e.exports.generate=l,e.exports.seed=i,e.exports.worker=a,e.exports.characters=s,e.exports.isValid=r})(Gse);var het=Gse.exports,met=het;(function(e){var t=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.FileLocation=e.UriLocation=e.UriLocationRaw=e.BlobLocation=e.LocalPathLocation=e.Region=e.NoAssemblyRegion=e.PropTypes=e.ElementId=void 0;const n=t(met),r=Qd,o=t(kte),i=Vo;e.ElementId=r.types.optional(r.types.identifier,n.default.generate),e.PropTypes={Region:o.default.shape({refName:o.default.string.isRequired,start:o.default.number.isRequired,end:o.default.number.isRequired}),ConfigSchema:i.PropTypes.objectOrObservableObject,Feature:o.default.shape({get:o.default.func.isRequired,id:o.default.func.isRequired})},e.NoAssemblyRegion=r.types.model("NoAssemblyRegion",{refName:r.types.string,start:r.types.number,end:r.types.number,reversed:r.types.optional(r.types.boolean,!1)}).actions(a=>({setRefName(s){a.refName=s}})),e.Region=r.types.compose("Region",e.NoAssemblyRegion,r.types.model({assemblyName:r.types.string})),e.LocalPathLocation=r.types.model("LocalPathLocation",{locationType:r.types.literal("LocalPathLocation"),localPath:r.types.string}),e.BlobLocation=r.types.model("BlobLocation",{locationType:r.types.literal("BlobLocation"),name:r.types.string,blobId:r.types.string}),e.UriLocationRaw=r.types.model("UriLocation",{locationType:r.types.literal("UriLocation"),uri:r.types.string,baseUri:r.types.maybe(r.types.string),internetAccountId:r.types.maybe(r.types.string),internetAccountPreAuthorization:r.types.maybe(r.types.model("InternetAccountPreAuthorization",{internetAccountType:r.types.string,authInfo:r.types.frozen()}))}),e.UriLocation=r.types.snapshotProcessor(e.UriLocationRaw,{postProcessor:a=>{const{baseUri:s,...l}=a;return s?a:l}}),e.FileLocation=r.types.snapshotProcessor(r.types.union(e.LocalPathLocation,e.UriLocation,e.BlobLocation),{preProcessor(a){if(!a)return;const{locationType:s,...l}=a;if(!s){const{uri:c,localPath:u,blob:d}=l;let f="";return c!==void 0?f="UriLocation":u!==void 0?f="LocalPathLocation":d!==void 0&&(f="BlobLocation"),{...l,locationType:f}}return a}})})(rm);var hz={},k3={},mz={},gz={exports:{}},YR={exports:{}},ZR={exports:{}},Xse={exports:{}};(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Xse);var R3=Xse.exports,QR={exports:{}},n7;function get(){return n7||(n7=1,function(e){var t=R3.default;function n(r,o){if(t(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,o||"default");if(t(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(QR)),QR.exports}var r7;function Kse(){return r7||(r7=1,function(e){var t=R3.default,n=get();function r(o){var i=n(o,"string");return t(i)==="symbol"?i:String(i)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(ZR)),ZR.exports}var o7;function vz(){return o7||(o7=1,function(e){var t=Kse();function n(r,o,i){return o=t(o),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(YR)),YR.exports}var JR={exports:{}},i7;function d0(){return i7||(i7=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(JR)),JR.exports}var eL={exports:{}},a7;function f0(){return a7||(a7=1,function(e){var t=Kse();function n(o,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,t(s.key),s)}}function r(o,i,a){return i&&n(o.prototype,i),a&&n(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(eL)),eL.exports}var Fl={},tL={exports:{}},nL={exports:{}},rL={exports:{}},s7;function Yse(){return s7||(s7=1,function(e){function t(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=n[o];return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(rL)),rL.exports}var l7;function vet(){return l7||(l7=1,function(e){var t=Yse();function n(r){if(Array.isArray(r))return t(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(nL)),nL.exports}var oL={exports:{}},c7;function bet(){return c7||(c7=1,function(e){function t(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(oL)),oL.exports}var iL={exports:{}},u7;function Zse(){return u7||(u7=1,function(e){var t=Yse();function n(r,o){if(r){if(typeof r=="string")return t(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(r,o)}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(iL)),iL.exports}var aL={exports:{}},d7;function yet(){return d7||(d7=1,function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(aL)),aL.exports}var f7;function xet(){return f7||(f7=1,function(e){var t=vet(),n=bet(),r=Zse(),o=yet();function i(a){return t(a)||n(a)||r(a)||o()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(tL)),tL.exports}var p7;function wet(){if(p7)return Fl;p7=1;var e=sr,t=e(xet()),n={functions:"Jexl Function",transforms:"Transform"};return Fl.ArrayLiteral=function(r){return this.evalArray(r.value)},Fl.BinaryExpression=function(r){var o=this,i=this._grammar.elements[r.operator];if(i.evalOnDemand){var a=function(l){return{eval:function(){return o.eval(l)}}};return i.evalOnDemand(a(r.left),a(r.right))}return this.Promise.all([this.eval(r.left),this.eval(r.right)]).then(function(s){return i.eval(s[0],s[1])})},Fl.ConditionalExpression=function(r){var o=this;return this.eval(r.test).then(function(i){return i?r.consequent?o.eval(r.consequent):i:o.eval(r.alternate)})},Fl.FilterExpression=function(r){var o=this;return this.eval(r.subject).then(function(i){return r.relative?o._filterRelative(i,r.expr):o._filterStatic(i,r.expr)})},Fl.Identifier=function(r){return r.from?this.eval(r.from).then(function(o){if(o!=null)return Array.isArray(o)&&(o=o[0]),o[r.value]}):r.relative?this._relContext[r.value]:this._context[r.value]},Fl.Literal=function(r){return r.value},Fl.ObjectLiteral=function(r){return this.evalMap(r.value)},Fl.FunctionCall=function(r){var o=n[r.pool];if(!o)throw new Error("Corrupt AST: Pool '".concat(r.pool,"' not found"));var i=this._grammar[r.pool],a=i[r.name];if(!a)throw new Error("".concat(o," ").concat(r.name," is not defined."));return this.evalArray(r.args||[]).then(function(s){return a.apply(void 0,(0,t.default)(s))})},Fl.UnaryExpression=function(r){var o=this;return this.eval(r.right).then(function(i){return o._grammar.elements[r.operator].eval(i)})},Fl}var sL,h7;function _et(){if(h7)return sL;h7=1;var e=sr,t=e(d0()),n=e(f0()),r=wet(),o=function(){function i(a,s,l){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Promise;(0,t.default)(this,i),this._grammar=a,this._context=s||{},this._relContext=l||this._context,this.Promise=c}return(0,n.default)(i,[{key:"eval",value:function(s){var l=this;return this.Promise.resolve().then(function(){return r[s.type].call(l,s)})}},{key:"evalArray",value:function(s){var l=this;return this.Promise.all(s.map(function(c){return l.eval(c)}))}},{key:"evalMap",value:function(s){var l=this,c=Object.keys(s),u={},d=c.map(function(f){return l.eval(s[f])});return this.Promise.all(d).then(function(f){return f.forEach(function(p,h){u[c[h]]=p}),u})}},{key:"_filterRelative",value:function(s,l){var c=this,u=[];return Array.isArray(s)||(s=s===void 0?[]:[s]),s.forEach(function(d){var f=new i(c._grammar,c._context,d,c.Promise);u.push(f.eval(l))}),this.Promise.all(u).then(function(d){var f=[];return d.forEach(function(p,h){p&&f.push(s[h])}),f})}},{key:"_filterStatic",value:function(s,l){return this.eval(l).then(function(c){return typeof c=="boolean"?c?s:void 0:s[c]})}}]),i}();return sL=o,sL}var lL,m7;function Cet(){if(m7)return lL;m7=1;var e=sr,t=e(d0()),n=e(f0()),r=/^-?(?:(?:[0-9]*\.[0-9]+)|[0-9]+)$/,o=/^[a-zA-Zа-яА-Я_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][a-zA-Zа-яА-Я0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*$/,i=/\\\\/,a=/^\s*$/,s=["'(?:(?:\\\\')|[^'])*'",'"(?:(?:\\\\")|[^"])*"',"\\s+","\\btrue\\b","\\bfalse\\b"],l=["[a-zA-Zа-яА-Я_À-ÖØ-öø-ÿ\\$][a-zA-Z0-9а-яА-Я_À-ÖØ-öø-ÿ\\$]*","(?:(?:[0-9]*\\.[0-9]+)|[0-9]+)"],c=["binaryOp","unaryOp","openParen","openBracket","question","colon"],u=function(){function d(f){(0,t.default)(this,d),this._grammar=f}return(0,n.default)(d,[{key:"getElements",value:function(p){var h=this._getSplitRegex();return p.split(h).filter(function(g){return g})}},{key:"getTokens",value:function(p){for(var h=[],g=!1,v=0;v<p.length;v++)this._isWhitespace(p[v])?h.length&&(h[h.length-1].raw+=p[v]):p[v]==="-"&&this._isNegative(h)?g=!0:(g&&(p[v]="-"+p[v],g=!1),h.push(this._createToken(p[v])));return g&&h.push(this._createToken("-")),h}},{key:"tokenize",value:function(p){var h=this.getElements(p);return this.getTokens(h)}},{key:"_createToken",value:function(p){var h={type:"literal",value:p,raw:p};if(p[0]==='"'||p[0]==="'")h.value=this._unquote(p);else if(p.match(r))h.value=parseFloat(p);else if(p==="true"||p==="false")h.value=p==="true";else if(this._grammar.elements[p])h.type=this._grammar.elements[p].type;else if(p.match(o))h.type="identifier";else throw new Error("Invalid expression token: ".concat(p));return h}},{key:"_escapeRegExp",value:function(p){return p=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p.match(o)&&(p="\\b"+p+"\\b"),p}},{key:"_getSplitRegex",value:function(){var p=this;if(!this._splitRegex){var h=Object.keys(this._grammar.elements).sort(function(g,v){return v.length-g.length}).map(function(g){return p._escapeRegExp(g)},this);this._splitRegex=new RegExp("("+[s.join("|"),h.join("|"),l.join("|")].join("|")+")")}return this._splitRegex}},{key:"_isNegative",value:function(p){return p.length?c.some(function(h){return h===p[p.length-1].type}):!0}},{key:"_isWhitespace",value:function(p){return!!p.match(a)}},{key:"_unquote",value:function(p){var h=p[0],g=new RegExp("\\\\"+h,"g");return p.substr(1,p.length-2).replace(g,h).replace(i,"\\")}}]),d}();return lL=u,lL}var ko={},g7;function Qse(){return g7||(g7=1,ko.argVal=function(e){e&&this._cursor.args.push(e)},ko.arrayStart=function(){this._placeAtCursor({type:"ArrayLiteral",value:[]})},ko.arrayVal=function(e){e&&this._cursor.value.push(e)},ko.binaryOp=function(e){for(var t=this._grammar.elements[e.value].precedence||0,n=this._cursor._parent;n&&n.operator&&this._grammar.elements[n.operator].precedence>=t;)this._cursor=n,n=n._parent;var r={type:"BinaryExpression",operator:e.value,left:this._cursor};this._setParent(this._cursor,r),this._cursor=n,this._placeAtCursor(r)},ko.dot=function(){this._nextIdentEncapsulate=this._cursor&&this._cursor.type!=="UnaryExpression"&&(this._cursor.type!=="BinaryExpression"||this._cursor.type==="BinaryExpression"&&this._cursor.right),this._nextIdentRelative=!this._cursor||this._cursor&&!this._nextIdentEncapsulate,this._nextIdentRelative&&(this._relative=!0)},ko.filter=function(e){this._placeBeforeCursor({type:"FilterExpression",expr:e,relative:this._subParser.isRelative(),subject:this._cursor})},ko.functionCall=function(){this._placeBeforeCursor({type:"FunctionCall",name:this._cursor.value,args:[],pool:"functions"})},ko.identifier=function(e){var t={type:"Identifier",value:e.value};this._nextIdentEncapsulate?(t.from=this._cursor,this._placeBeforeCursor(t),this._nextIdentEncapsulate=!1):(this._nextIdentRelative&&(t.relative=!0,this._nextIdentRelative=!1),this._placeAtCursor(t))},ko.literal=function(e){this._placeAtCursor({type:"Literal",value:e.value})},ko.objKey=function(e){this._curObjKey=e.value},ko.objStart=function(){this._placeAtCursor({type:"ObjectLiteral",value:{}})},ko.objVal=function(e){this._cursor.value[this._curObjKey]=e},ko.subExpression=function(e){this._placeAtCursor(e)},ko.ternaryEnd=function(e){this._cursor.alternate=e},ko.ternaryMid=function(e){this._cursor.consequent=e},ko.ternaryStart=function(){this._tree={type:"ConditionalExpression",test:this._tree},this._cursor=this._tree},ko.transform=function(e){this._placeBeforeCursor({type:"FunctionCall",name:e.value,args:[this._cursor],pool:"transforms"})},ko.unaryOp=function(e){this._placeAtCursor({type:"UnaryExpression",operator:e.value})}),ko}var cL={},v7;function Pet(){if(v7)return cL;v7=1;var e=Qse();return cL.states={expectOperand:{tokenTypes:{literal:{toState:"expectBinOp"},identifier:{toState:"identifier"},unaryOp:{},openParen:{toState:"subExpression"},openCurl:{toState:"expectObjKey",handler:e.objStart},dot:{toState:"traverse"},openBracket:{toState:"arrayVal",handler:e.arrayStart}}},expectBinOp:{tokenTypes:{binaryOp:{toState:"expectOperand"},pipe:{toState:"expectTransform"},dot:{toState:"traverse"},question:{toState:"ternaryMid",handler:e.ternaryStart}},completable:!0},expectTransform:{tokenTypes:{identifier:{toState:"postTransform",handler:e.transform}}},expectObjKey:{tokenTypes:{identifier:{toState:"expectKeyValSep",handler:e.objKey},closeCurl:{toState:"expectBinOp"}}},expectKeyValSep:{tokenTypes:{colon:{toState:"objVal"}}},postTransform:{tokenTypes:{openParen:{toState:"argVal"},binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},postArgs:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},pipe:{toState:"expectTransform"}},completable:!0},identifier:{tokenTypes:{binaryOp:{toState:"expectOperand"},dot:{toState:"traverse"},openBracket:{toState:"filter"},openParen:{toState:"argVal",handler:e.functionCall},pipe:{toState:"expectTransform"},question:{toState:"ternaryMid",handler:e.ternaryStart}},completable:!0},traverse:{tokenTypes:{identifier:{toState:"identifier"}}},filter:{subHandler:e.filter,endStates:{closeBracket:"identifier"}},subExpression:{subHandler:e.subExpression,endStates:{closeParen:"expectBinOp"}},argVal:{subHandler:e.argVal,endStates:{comma:"argVal",closeParen:"postArgs"}},objVal:{subHandler:e.objVal,endStates:{comma:"expectObjKey",closeCurl:"expectBinOp"}},arrayVal:{subHandler:e.arrayVal,endStates:{comma:"arrayVal",closeBracket:"expectBinOp"}},ternaryMid:{subHandler:e.ternaryMid,endStates:{colon:"ternaryEnd"}},ternaryEnd:{subHandler:e.ternaryEnd,completable:!0}},cL}var uL,b7;function Met(){if(b7)return uL;b7=1;var e=sr,t=e(d0()),n=e(f0()),r=Qse(),o=Pet().states,i=function(){function a(s,l,c){(0,t.default)(this,a),this._grammar=s,this._state="expectOperand",this._tree=null,this._exprStr=l||"",this._relative=!1,this._stopMap=c||{}}return(0,n.default)(a,[{key:"addToken",value:function(l){if(this._state==="complete")throw new Error("Cannot add a new token to a completed Parser");var c=o[this._state],u=this._exprStr;if(this._exprStr+=l.raw,c.subHandler){this._subParser||this._startSubExpression(u);var d=this._subParser.addToken(l);if(d){if(this._endSubExpression(),this._parentStop)return d;this._state=d}}else if(c.tokenTypes[l.type]){var f=c.tokenTypes[l.type],p=r[l.type];f.handler&&(p=f.handler),p&&p.call(this,l),f.toState&&(this._state=f.toState)}else{if(this._stopMap[l.type])return this._stopMap[l.type];throw new Error("Token ".concat(l.raw," (").concat(l.type,") unexpected in expression: ").concat(this._exprStr))}return!1}},{key:"addTokens",value:function(l){l.forEach(this.addToken,this)}},{key:"complete",value:function(){if(this._cursor&&!o[this._state].completable)throw new Error("Unexpected end of expression: ".concat(this._exprStr));return this._subParser&&this._endSubExpression(),this._state="complete",this._cursor?this._tree:null}},{key:"isRelative",value:function(){return this._relative}},{key:"_endSubExpression",value:function(){o[this._state].subHandler.call(this,this._subParser.complete()),this._subParser=null}},{key:"_placeAtCursor",value:function(l){this._cursor?(this._cursor.right=l,this._setParent(l,this._cursor)):this._tree=l,this._cursor=l}},{key:"_placeBeforeCursor",value:function(l){this._cursor=this._cursor._parent,this._placeAtCursor(l)}},{key:"_setParent",value:function(l,c){Object.defineProperty(l,"_parent",{value:c,writable:!0})}},{key:"_startSubExpression",value:function(l){var c=o[this._state].endStates;c||(this._parentStop=!0,c=this._stopMap),this._subParser=new a(this._grammar,l,c)}}]),a}();return uL=i,uL}var dL,y7;function Aet(){if(y7)return dL;y7=1;var e=sr,t=e(d0()),n=e(f0()),r=function(){function o(i){(0,t.default)(this,o),i(this._resolve.bind(this),this._reject.bind(this))}return(0,n.default)(o,[{key:"catch",value:function(a){if(this.error)try{this._resolve(a(this.error))}catch(s){this._reject(s)}return this}},{key:"then",value:function(a,s){if(!this.error)try{this._resolve(a(this.value))}catch(l){this._reject(l)}return s&&this.catch(s),this}},{key:"_reject",value:function(a){this.value=void 0,this.error=a}},{key:"_resolve",value:function(a){a instanceof o?a.error?this._reject(a.error):this._resolve(a.value):(this.value=a,this.error=void 0)}}]),o}();return r.all=function(o){return new r(function(i){var a=o.map(function(s){for(;s instanceof r;){if(s.error)throw Error(s.error);s=s.value}return s});i(a)})},r.resolve=function(o){return new r(function(i){return i(o)})},r.reject=function(o){return new r(function(i,a){return a(o)})},dL=r,dL}var fL,x7;function Eet(){if(x7)return fL;x7=1;var e=sr,t=e(d0()),n=e(f0()),r=_et(),o=Cet(),i=Met(),a=Aet(),s=function(){function l(c,u){(0,t.default)(this,l),this._grammar=c,this._exprStr=u,this._ast=null}return(0,n.default)(l,[{key:"compile",value:function(){var u=new o(this._grammar),d=new i(this._grammar),f=u.tokenize(this._exprStr);return d.addTokens(f),this._ast=d.complete(),this}},{key:"eval",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._eval(u,Promise)}},{key:"evalSync",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this._eval(u,a);if(d.error)throw d.error;return d.value}},{key:"_eval",value:function(u,d){var f=this;return d.resolve().then(function(){var p=f._getAst(),h=new r(f._grammar,u,void 0,d);return h.eval(p)})}},{key:"_getAst",value:function(){return this._ast||this.compile(),this._ast}}]),l}();return fL=s,fL}var pL={},w7;function Tet(){return w7||(w7=1,pL.getGrammar=function(){return{elements:{".":{type:"dot"},"[":{type:"openBracket"},"]":{type:"closeBracket"},"|":{type:"pipe"},"{":{type:"openCurl"},"}":{type:"closeCurl"},":":{type:"colon"},",":{type:"comma"},"(":{type:"openParen"},")":{type:"closeParen"},"?":{type:"question"},"+":{type:"binaryOp",precedence:30,eval:function(t,n){return t+n}},"-":{type:"binaryOp",precedence:30,eval:function(t,n){return t-n}},"*":{type:"binaryOp",precedence:40,eval:function(t,n){return t*n}},"/":{type:"binaryOp",precedence:40,eval:function(t,n){return t/n}},"//":{type:"binaryOp",precedence:40,eval:function(t,n){return Math.floor(t/n)}},"%":{type:"binaryOp",precedence:50,eval:function(t,n){return t%n}},"^":{type:"binaryOp",precedence:50,eval:function(t,n){return Math.pow(t,n)}},"==":{type:"binaryOp",precedence:20,eval:function(t,n){return t==n}},"!=":{type:"binaryOp",precedence:20,eval:function(t,n){return t!=n}},">":{type:"binaryOp",precedence:20,eval:function(t,n){return t>n}},">=":{type:"binaryOp",precedence:20,eval:function(t,n){return t>=n}},"<":{type:"binaryOp",precedence:20,eval:function(t,n){return t<n}},"<=":{type:"binaryOp",precedence:20,eval:function(t,n){return t<=n}},"&&":{type:"binaryOp",precedence:10,evalOnDemand:function(t,n){return t.eval().then(function(r){return r&&n.eval()})}},"||":{type:"binaryOp",precedence:10,evalOnDemand:function(t,n){return t.eval().then(function(r){return r||n.eval()})}},in:{type:"binaryOp",precedence:20,eval:function(t,n){return typeof n=="string"?n.indexOf(t)!==-1:Array.isArray(n)?n.some(function(r){return r===t}):!1}},"!":{type:"unaryOp",precedence:1/0,eval:function(t){return!t}}},functions:{},transforms:{}}}),pL}var bz=sr,Oet=bz(vz()),Iet=bz(d0()),ket=bz(f0()),Ret=Eet(),Let=Tet(),$et=Let.getGrammar,Jse=function(){function e(){(0,Iet.default)(this,e),this.expr=this.expr.bind(this),this._grammar=$et()}return(0,ket.default)(e,[{key:"addBinaryOp",value:function(n,r,o,i){this._addGrammarElement(n,(0,Oet.default)({type:"binaryOp",precedence:r},i?"evalOnDemand":"eval",o))}},{key:"addFunction",value:function(n,r){this._grammar.functions[n]=r}},{key:"addFunctions",value:function(n){for(var r in n)this._grammar.functions[r]=n[r]}},{key:"addUnaryOp",value:function(n,r){this._addGrammarElement(n,{type:"unaryOp",weight:1/0,eval:r})}},{key:"addTransform",value:function(n,r){this._grammar.transforms[n]=r}},{key:"addTransforms",value:function(n){for(var r in n)this._grammar.transforms[r]=n[r]}},{key:"compile",value:function(n){var r=this.createExpression(n);return r.compile()}},{key:"createExpression",value:function(n){return new Ret(this._grammar,n)}},{key:"getFunction",value:function(n){return this._grammar.functions[n]}},{key:"getTransform",value:function(n){return this._grammar.transforms[n]}},{key:"eval",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(n);return o.eval(r)}},{key:"evalSync",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.createExpression(n);return o.evalSync(r)}},{key:"expr",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=n.reduce(function(s,l,c){var u=c<o.length?o[c]:"";return s+=l+u,s},"");return this.createExpression(a)}},{key:"removeOp",value:function(n){this._grammar.elements[n]&&(this._grammar.elements[n].type==="binaryOp"||this._grammar.elements[n].type==="unaryOp")&&delete this._grammar.elements[n]}},{key:"_addGrammarElement",value:function(n,r){this._grammar.elements[n]=r}}]),e}();gz.exports=new Jse;gz.exports.Jexl=Jse;var Det=gz.exports,Fet=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mz,"__esModule",{value:!0});const Net=Fet(Det);function Bet(){const e=new Net.default.Jexl;return e.addFunction("get",(t,n)=>t.get(n)),e.addFunction("parent",t=>t.parent()),e.addFunction("id",t=>t.id()),e.addFunction("cast",t=>t),e.addFunction("log",t=>(console.log(t),t)),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(t,n)=>t.split(n)),e.addFunction("charAt",(t,n)=>t.charAt(n)),e.addFunction("charCodeAt",(t,n)=>t.charCodeAt(n)),e.addFunction("codePointAt",(t,n)=>t.codePointAt(n)),e.addFunction("startsWith",(t,n,r)=>t.startsWith(n,r)),e.addFunction("endsWith",(t,n,r)=>t.endsWith(n,r)),e.addFunction("padEnd",(t,n,r)=>t.padEnd(n,r)),e.addFunction("padStart",(t,n,r)=>t.padStart(n,r)),e.addFunction("repeat",(t,n)=>t.repeat(n)),e.addFunction("replace",(t,n,r)=>t.replace(n,r)),e.addFunction("replaceAll",(t,n,r)=>t.replaceAll(n,r)),e.addFunction("slice",(t,n,r)=>t.slice(n,r)),e.addFunction("startsWith",(t,n,r)=>t.startsWith(n,r)),e.addFunction("substring",(t,n,r)=>t.substring(n,r)),e.addFunction("toLowerCase",t=>t.toLowerCase()),e.addFunction("toUpperCase",t=>t.toUpperCase()),e.addFunction("trim",t=>t.trim()),e.addFunction("trimEnd",t=>t.trimEnd()),e.addFunction("trimStart",t=>t.trimStart()),e.addFunction("getTag",(t,n)=>{const r=t.get("tags");return r?r[n]:t.get(n)}),e.addBinaryOp("&",15,(t,n)=>t&n),e}mz.default=Bet;var jet=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k3,"__esModule",{value:!0});k3.stringToJexlExpression=void 0;const zet=jet(mz),hL={};function Het(e,t){const n=`nosig|${e}`;if(!hL[n]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");const o=e.split("jexl:")[1],i=t?t.compile(`${o}`):(0,zet.default)().compile(`${o}`);hL[n]=i}return hL[n]}k3.stringToJexlExpression=Het;Object.defineProperty(hz,"__esModule",{value:!0});const Kr=Qd,Vet=k3,Uet=rm,Get=Ea();function Wet(){return!0}const qet={stringArray:Kr.types.array(Kr.types.string),stringArrayMap:Kr.types.map(Kr.types.array(Kr.types.string)),numberMap:Kr.types.map(Kr.types.number),boolean:Kr.types.boolean,color:Kr.types.refinement("Color",Kr.types.string,Wet),integer:Kr.types.integer,number:Kr.types.number,string:Kr.types.string,text:Kr.types.string,fileLocation:Uet.FileLocation,frozen:Kr.types.frozen()},_7={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},mL=e=>({views:{get valueJSON(){return e.value}}}),S7=e=>({views:{get valueJSON(){return JSON.stringify(e.value)}}}),C7={fileLocation:S7,number:mL,integer:mL,boolean:mL,frozen:S7,stringArray:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t){e.value.push(t)},removeAtIndex(t){e.value.splice(t,1)},setAtIndex(t,n){e.value[t]=n}}}),stringArrayMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,n){e.value.set(t,n)},remove(t){e.value.delete(t)},addToKey(t,n){const r=e.value.get(t);if(!r)throw new Error(`${t} not found`);r.push(n)},removeAtKeyIndex(t,n){const r=e.value.get(t);if(!r)throw new Error(`${t} not found`);r.splice(n,1)},setAtKeyIndex(t,n,r){const o=e.value.get(t);if(!o)throw new Error(`${t} not found`);o[n]=r}}}),numberMap:e=>({views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add(t,n){e.value.set(t,n)},remove(t){e.value.delete(t)}}})},Xet=Kr.types.refinement("JexlString",Kr.types.string,e=>e.startsWith("jexl:"));function Ket(e,{description:t="",model:n,type:r,defaultValue:o,contextVariable:i=[]}){if(!r)throw new Error("type name required");if(n||(n=qet[r]),!n)throw new Error(`no builtin config slot type "${r}", and no 'model' param provided`);if(o===void 0)throw new Error("no 'defaultValue' provided");const a=`${e.charAt(0).toUpperCase()}${e.slice(1)}ConfigSlot`;let s=Kr.types.model(a,{name:Kr.types.literal(e),description:Kr.types.literal(t),type:Kr.types.literal(r),value:Kr.types.optional(Kr.types.union(Xet,n),o)}).volatile(()=>({contextVariable:i})).views(u=>({get isCallback(){return String(u.value).startsWith("jexl:")}})).views(u=>({get expr(){if(u.isCallback){const{pluginManager:d}=(0,Get.getEnv)(u);return!d&&typeof jest>"u"&&console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,Vet.stringToJexlExpression)(String(u.value),d==null?void 0:d.jexl)}return{evalSync:()=>u.value}},get valueJSON(){if(u.isCallback)return;function d(f){return f&&f.toJSON?f.toJSON():`"${f}"`}return d(u.value)}})).preProcessSnapshot(u=>typeof u=="object"&&u.name===e?u:{name:e,description:t,type:r,value:u}).postProcessSnapshot(u=>typeof u.value=="object"?JSON.stringify(u.value)!==JSON.stringify(o)?u.value:void 0:u.value!==o?u.value:void 0).actions(u=>({set(d){u.value=d},reset(){u.value=o},convertToCallback(){u.isCallback||(u.value=`jexl:${u.valueJSON||"''"}`)},convertToValue(){if(u.isCallback){try{const d=u.expr.evalSync();if(d!==void 0){u.value=d;return}}catch{}if(u.value=o,u.isCallback){if(!(r in _7))throw new Error(`no fallbackDefault defined for type ${r}`);u.value=_7[r]}}}}));C7[r]&&(s=s.extend(C7[r]));const c=Kr.types.optional(s,{name:e,type:r,description:t,value:o});return Object.defineProperty(c,"isJBrowseConfigurationSlot",{value:!0}),c}hz.default=Ket;var Ii={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.resolveLateType=Ga.getEnumerationValues=Ga.getDefaultValue=Ga.getPropertyType=Ga.getUnionSubTypes=Ga.getSubType=void 0;const up=Qd;function y5(e){let t;if((0,up.isOptionalType)(e))t=e._subtype||e.type;else if((0,up.isArrayType)(e)||(0,up.isMapType)(e))t=e._subtype||e._subType||e.subType;else{if(typeof e.getSubType=="function")return e.getSubType();throw new TypeError("unsupported mst type")}if(!t)throw new Error("failed to get subtype");return t}Ga.getSubType=y5;function ele(e){if(!(0,up.isUnionType)(e))throw new TypeError("not an MST union type");const t=e._types||e.types||y5(e)._types||y5(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}Ga.getUnionSubTypes=ele;function Yet(e,t){return e.properties[t]}Ga.getPropertyType=Yet;function Zet(e){if(!(0,up.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue}Ga.getDefaultValue=Zet;function Qet(e){return ele(e).map(n=>n.value)}Ga.getEnumerationValues=Qet;function Jet(e){return!(0,up.isUnionType)(e)&&!(0,up.isArrayType)(e)&&(0,up.isLateType)(e)?e.getSubType():e}Ga.resolveLateType=Jet;Object.defineProperty(Ii,"__esModule",{value:!0});Ii.isConfigurationSlotType=Ii.isConfigurationModel=Ii.isConfigurationSchemaType=Ii.isBareConfigurationSchemaType=Ii.getTypeNamesFromExplicitlyTypedUnion=Ii.getConf=Ii.readConfObject=void 0;const eo=Qd,qf=Ga;function IA(e,t=void 0,n={}){if(!e)throw new TypeError("must provide conf object to read");if(!t)return JSON.parse(JSON.stringify((0,eo.getSnapshot)(e)));if(typeof t=="string"){let o=e[t];if(!o&&(0,eo.isStateTreeNode)(e)&&(0,eo.isMapType)((0,eo.getType)(e))&&(o=e.get(t)),!o)return;if(o.expr){const i=o.expr.evalSync(n);return(0,eo.isStateTreeNode)(i)?JSON.parse(JSON.stringify((0,eo.getSnapshot)(i))):i}return(0,eo.isStateTreeNode)(o)?JSON.parse(JSON.stringify((0,eo.getSnapshot)(o))):o}const r=t[0];if(t.length>1){const o=t.slice(1);let i=e[r];return!i&&(0,eo.isStateTreeNode)(e)&&(0,eo.isMapType)((0,eo.getType)(e))&&(i=e.get(r)),i?IA(i,o,n):void 0}return IA(e,r,n)}Ii.readConfObject=IA;function ett(e,t=void 0,n={}){if(!e)throw new TypeError("must provide a model object");const{configuration:r}=e;if(rle(r))return IA(r,t,n);throw new TypeError("cannot getConf on this model, it has no configuration")}Ii.getConf=ett;function tle(e){if((0,eo.isType)(e)&&(e=(0,qf.resolveLateType)(e),(0,eo.isUnionType)(e))){const t=[];return(0,qf.getUnionSubTypes)(e).forEach(n=>{n=(0,qf.resolveLateType)(n);let r=tle(n);if(r.length||(r=[(0,qf.getDefaultValue)(n).type]),!r[0])throw new Error(`invalid config schema type ${n}`);t.push(...r)}),t}return[]}Ii.getTypeNamesFromExplicitlyTypedUnion=tle;function nle(e){return!!((0,eo.isType)(e)&&((0,eo.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema"))||(0,eo.isLateType)(e)))}Ii.isBareConfigurationSchemaType=nle;function zv(e){return(0,eo.isType)(e)?nle(e)?!0:(0,eo.isUnionType)(e)?(0,qf.getUnionSubTypes)(e).every(t=>zv(t)||t.name==="undefined"):!!((0,eo.isOptionalType)(e)&&zv((0,qf.getSubType)(e))||(0,eo.isArrayType)(e)&&zv((0,qf.getSubType)(e))||(0,eo.isMapType)(e)&&zv((0,qf.getSubType)(e))):!1}Ii.isConfigurationSchemaType=zv;function rle(e){return(0,eo.isStateTreeNode)(e)&&zv((0,eo.getType)(e))}Ii.isConfigurationModel=rle;function ttt(e){return typeof e=="object"&&e!==null&&"isJBrowseConfigurationSlot"in e}Ii.isConfigurationSlotType=ttt;var ntt=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ty,"__esModule",{value:!0});ty.ConfigurationReference=ty.ConfigurationSchema=void 0;const rl=Qd,P7=rm,rtt=ntt(hz),M7=Ii;function ott(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).length===0}function itt(e){return Array.isArray(e)&&e.length===0}function att(e,t,n={}){if(typeof e!="string")throw new Error("first arg must be string name of the model that this config schema goes with");let r=t,o=n;return n.baseConfiguration&&n.baseConfiguration.jbrowseSchemaDefinition&&(r={...n.baseConfiguration.jbrowseSchemaDefinition,...r},o={...n.baseConfiguration.jbrowseSchemaOptions,...n},delete o.baseConfiguration),{schemaDefinition:r,options:o}}function stt(e,t,n){const r={};let o;if(n.explicitlyTyped&&(r.type=rl.types.optional(rl.types.literal(e),e)),n.explicitIdentifier&&n.implicitIdentifier)throw new Error(`Cannot have both explicit and implicit identifiers in ${e}`);n.explicitIdentifier?typeof n.explicitIdentifier=="string"?(r[n.explicitIdentifier]=rl.types.identifier,o=n.explicitIdentifier):(r.id=rl.types.identifier,o="id"):n.implicitIdentifier&&(typeof n.implicitIdentifier=="string"?(r[n.implicitIdentifier]=P7.ElementId,o=n.implicitIdentifier):(r.id=P7.ElementId,o="id"));const i={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:n}};Object.entries(t).forEach(([u,d])=>{if((0,rl.isType)(d)&&(0,rl.isLateType)(d)||(0,M7.isConfigurationSchemaType)(d))r[u]=d;else if(typeof d=="string"||typeof d=="number")i[u]=d;else if(typeof d=="object"){if(!d.type)throw new Error(`no type set for config slot ${e}.${u}`);try{r[u]=(0,rtt.default)(u,d)}catch(f){throw new Error(`invalid config slot definition for ${e}.${u}: ${f}`)}}else throw new Error(`invalid configuration schema definition, "${u}" must be either a valid configuration slot definition, a constant, or a nested configuration schema`)});let a=rl.types.model(`${e}ConfigurationSchema`,r).actions(u=>({setSubschema(d,f){if(!(0,M7.isConfigurationSchemaType)(r[d]))throw new Error(`${d} is not a subschema, cannot replace`);const p=(0,rl.isStateTreeNode)(f)?f:r[d].create(f);return u[d]=p,p}}));Object.keys(i).length&&(a=a.volatile(()=>i)),n.actions&&(a=a.actions(n.actions)),n.views&&(a=a.views(n.views)),n.extend&&(a=a.extend(n.extend));const s=o?{[o]:"placeholderId"}:{},l=n.explicitlyTyped?{type:e,...s}:s,c=(0,rl.getSnapshot)(a.create(l));return a=a.postProcessSnapshot(u=>{const d={};let f=!0;for(const[p,h]of Object.entries(u))f&&(typeof c[p]=="object"&&typeof h=="object"?JSON.stringify(c[p])!==JSON.stringify(h)&&(f=!1):c[p]!==h&&(f=!1)),h!==void 0&&i[p]===void 0&&!ott(h)&&!itt(h)&&(d[p]=h);return f?{}:d}),n.preProcessSnapshot&&(a=a.preProcessSnapshot(n.preProcessSnapshot)),rl.types.optional(a,l)}function ltt(e,t,n){const{schemaDefinition:r,options:o}=att(e,t,n),i=stt(e,r,o);return i.isJBrowseConfigurationSchema=!0,i.jbrowseSchemaDefinition=r,i.jbrowseSchemaOptions=o,i}ty.ConfigurationSchema=ltt;function ctt(e){return rl.types.union(rl.types.reference(e),e)}ty.ConfigurationReference=ctt;(function(e){var t=ue&&ue.__createBinding||(Object.create?function(o,i,a,s){s===void 0&&(s=a);var l=Object.getOwnPropertyDescriptor(i,a);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(o,s,l)}:function(o,i,a,s){s===void 0&&(s=a),o[s]=i[a]}),n=ue&&ue.__exportStar||function(o,i){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationReference=e.ConfigurationSchema=void 0;var r=ty;Object.defineProperty(e,"ConfigurationSchema",{enumerable:!0,get:function(){return r.ConfigurationSchema}}),Object.defineProperty(e,"ConfigurationReference",{enumerable:!0,get:function(){return r.ConfigurationReference}}),n(Ii,e)})(u0);var utt=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fz,"__esModule",{value:!0});const A7=utt(C),dtt=Vo,ftt=u0,ptt=Am,htt=(0,dtt.observer)(function({session:e}){const{configuration:t}=e,n=(0,ftt.readConfObject)(t,"logoPath");return n!=null&&n.uri?A7.default.createElement("img",{src:n.uri,alt:"Custom logo"}):A7.default.createElement(ptt.LogoFull,{variant:"white"})});fz.default=htt;var L3=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uz,"__esModule",{value:!0});const Uu=L3(C),E7=Dr,mtt=ii,gtt=Vo,vtt=L3(dz),btt=L3(FS),ytt=L3(fz),xtt=(0,mtt.makeStyles)()(e=>({grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light}})),wtt=(0,gtt.observer)(function({session:e,HeaderButtons:t=Uu.default.createElement("div",null)}){const{classes:n}=xtt(),{savedSessionNames:r,name:o,menus:i}=e;function a(s){r!=null&&r.includes(s)?e.notify(`Cannot rename session to "${s}", a saved session with that name already exists`,"warning"):e.renameCurrentSession(s)}return Uu.default.createElement(E7.Toolbar,null,i.map(s=>Uu.default.createElement(vtt.default,{key:s.label,menuTitle:s.label,menuItems:s.menuItems,session:e})),Uu.default.createElement("div",{className:n.grow}),Uu.default.createElement(E7.Tooltip,{title:"Rename Session",arrow:!0},Uu.default.createElement(btt.default,{value:o,setValue:a,variant:"body1",classes:{inputBase:n.inputBase,inputRoot:n.inputRoot,inputFocused:n.inputFocused}})),t,Uu.default.createElement("div",{className:n.grow}),Uu.default.createElement("div",{style:{width:150,maxHeight:48}},Uu.default.createElement(ytt.default,{session:e})))});uz.default=wtt;var yz={},ole=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yz,"__esModule",{value:!0});const oh=ole(C),r2=Dr,_tt=Vo,Stt=ole(bg);function Ctt({session:e}){const{popSnackbarMessage:t,snackbarMessages:n}=e,r=n.length?n[n.length-1]:null,o=(c,u)=>{u!=="clickaway"&&t()},i=!!r,[a,s,l]=r||[];return oh.default.createElement(r2.Snackbar,{open:i,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"}},oh.default.createElement(r2.Alert,{onClose:o,action:l?oh.default.createElement(oh.default.Fragment,null,oh.default.createElement(r2.Button,{color:"inherit",onClick:c=>{l.onClick(),o()}},l.name),oh.default.createElement(r2.IconButton,{color:"inherit",onClick:o},oh.default.createElement(Stt.default,null))):null,severity:s||"warning"},a))}yz.default=(0,_tt.observer)(Ctt);var xz={},Ptt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Mtt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Att=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ptt(t,e,n);return Mtt(t,e),t};Object.defineProperty(xz,"__esModule",{value:!0});const uf=Att(C),ih=Dr,Ett=Vo,Ttt=ii,Ott=Ea(),Itt=(0,Ttt.makeStyles)()(e=>({selectPaper:{padding:e.spacing(4)}})),ktt=(0,Ett.observer)(({session:e})=>{var t;const{classes:n}=Itt(),{pluginManager:r}=(0,Ott.getEnv)(e),o=r.getElementTypeRecord("view").all(),[i,a]=(0,uf.useState)((t=o[0])===null||t===void 0?void 0:t.name);return uf.default.createElement(ih.Paper,{className:n.selectPaper},uf.default.createElement(ih.Typography,null,"Select a view to launch"),uf.default.createElement(ih.FormControl,{style:{margin:2}},uf.default.createElement(ih.Select,{value:i,onChange:s=>a(s.target.value)},o.map(({displayName:s,name:l})=>uf.default.createElement(ih.MenuItem,{key:l,value:l},s)))),uf.default.createElement(ih.FormControl,{style:{margin:2}},uf.default.createElement(ih.Button,{onClick:()=>e.addView(i,{}),variant:"contained",color:"primary"},"Launch view")))});xz.default=ktt;var wz={},_z={},$3={},Rtt=sr;Object.defineProperty($3,"__esModule",{value:!0});$3.default=void 0;var Ltt=Rtt(bo()),$tt=N,Dtt=(0,Ltt.default)((0,$tt.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");$3.default=Dtt;var Sz={},D3={},Ftt=sr;Object.defineProperty(D3,"__esModule",{value:!0});D3.default=void 0;var Ntt=Ftt(bo()),Btt=N,jtt=(0,Ntt.default)((0,Btt.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");D3.default=jtt;var F3={},ztt=sr;Object.defineProperty(F3,"__esModule",{value:!0});F3.default=void 0;var Htt=ztt(bo()),Vtt=N,Utt=(0,Htt.default)((0,Vtt.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");F3.default=Utt;var N3={},Gtt=sr;Object.defineProperty(N3,"__esModule",{value:!0});N3.default=void 0;var Wtt=Gtt(bo()),qtt=N,Xtt=(0,Wtt.default)((0,qtt.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");N3.default=Xtt;var Ktt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ytt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ztt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ktt(t,e,n);return Ytt(t,e),t},B3=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sz,"__esModule",{value:!0});const Og=Ztt(C),Qtt=Dr,Jtt=Vo,ent=B3(D3),tnt=B3(F3),nnt=B3(N3),rnt=Ea(),ont=B3($d),int=(0,Jtt.observer)(function({model:e,IconButtonProps:t,IconProps:n}){const[r,o]=(0,Og.useState)(),{menuItems:i}=e,a=(0,rnt.getSession)(e),s=[...a.views.length>1?[{label:"Move view up",icon:nnt.default,onClick:()=>a.moveViewUp(e.id)},{label:"Move view down",icon:tnt.default,onClick:()=>a.moveViewDown(e.id)}]:[],...(typeof i=="function"?i():i)||[]];return Og.default.createElement(Og.default.Fragment,null,Og.default.createElement(Qtt.IconButton,{...t,onClick:l=>o(l.currentTarget),"data-testid":"view_menu_icon"},Og.default.createElement(ent.default,{...n,fontSize:"small"})),Og.default.createElement(ont.default,{anchorEl:r,open:!!r,onMenuItemClick:(l,c)=>{c(),o(void 0)},onClose:()=>o(void 0),menuItems:s}))});Sz.default=int;var Cz={},ile=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cz,"__esModule",{value:!0});const T7=ile(C),ant=Dr,snt=ii,lnt=Vo,cnt=ile(FS),unt=(0,snt.makeStyles)()(e=>({input:{paddingBottom:0,paddingTop:2},inputBase:{color:e.palette.secondary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.secondary.light}},inputFocused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.secondary.light}}));Cz.default=(0,lnt.observer)(function({view:t}){var n;const{classes:r}=unt();return T7.default.createElement(ant.Tooltip,{title:"Rename view",arrow:!0},T7.default.createElement(cnt.default,{value:t.displayName||`${((n=t.assemblyNames)===null||n===void 0?void 0:n.join(","))||"Untitled view"}${t.minimized?" (minimized)":""}`,setValue:o=>t.setDisplayName(o),variant:"body2",classes:{input:r.input,inputBase:r.inputBase,inputRoot:r.inputRoot,inputFocused:r.inputFocused}}))});var dnt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),fnt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pnt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&dnt(t,e,n);return fnt(t,e),t},NS=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_z,"__esModule",{value:!0});const $a=pnt(C),X0=Dr,hnt=ii,mnt=Vo,gnt=NS(bg),vnt=NS(LS),bnt=NS($3),ynt=NS(Sz),xnt=Ea(),wnt=NS(Cz),_nt=(0,hnt.makeStyles)()(e=>({viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(.5),padding:`0 ${e.spacing(1)} ${e.spacing(1)}`},icon:{color:e.palette.secondary.contrastText},grow:{flexGrow:1}}));_z.default=(0,mnt.observer)(function({view:e,onClose:t,onMinimize:n,children:r}){const{classes:o}=_nt(),i=(0,X0.useTheme)(),a=(0,xnt.useWidthSetter)(e,i.spacing(1)),s=(0,$a.useRef)(null);return(0,$a.useEffect)(()=>{var l,c;(c=(l=s.current)===null||l===void 0?void 0:l.scrollIntoView)===null||c===void 0||c.call(l,{block:"center"})},[]),$a.default.createElement(X0.Paper,{ref:a,elevation:12,className:o.viewContainer},$a.default.createElement("div",{ref:s,style:{display:"flex"}},$a.default.createElement(ynt.default,{model:e,IconProps:{className:o.icon}}),$a.default.createElement("div",{className:o.grow}),$a.default.createElement(wnt.default,{view:e}),$a.default.createElement("div",{className:o.grow}),$a.default.createElement(X0.IconButton,{"data-testid":"minimize_view",onClick:n},e.minimized?$a.default.createElement(bnt.default,{className:o.icon,fontSize:"small"}):$a.default.createElement(vnt.default,{className:o.icon,fontSize:"small"})),$a.default.createElement(X0.IconButton,{"data-testid":"close_view",onClick:t},$a.default.createElement(gnt.default,{className:o.icon,fontSize:"small"}))),$a.default.createElement(X0.Paper,null,r))});var Snt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Cnt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pnt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Snt(t,e,n);return Cnt(t,e),t},Pz=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wz,"__esModule",{value:!0});const ah=Pnt(C),Mnt=uO,Ant=Vo,Ent=Ea(),Tnt=Pz(c0),Ont=Pz(OS),Int=Pz(_z),knt=(0,Ant.observer)(function({view:e,session:t}){const{pluginManager:n}=(0,Ent.getEnv)(t),r=n.getViewType(e.type);if(!r)throw new Error(`unknown view type ${e.type}`);const{ReactComponent:o}=r;return ah.default.createElement(Int.default,{view:e,onClose:()=>t.removeView(e),onMinimize:()=>e.setMinimized(!e.minimized)},e.minimized?!1:ah.default.createElement(Mnt.ErrorBoundary,{FallbackComponent:({error:i})=>ah.default.createElement(Tnt.default,{error:i})},ah.default.createElement(ah.Suspense,{fallback:ah.default.createElement(Ont.default,{variant:"h6"})},ah.default.createElement(o,{model:e,session:t}))))});wz.default=knt;var Rnt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Lnt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$nt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Rnt(t,e,n);return Lnt(t,e),t},p0=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qj,"__esModule",{value:!0});const Uo=$nt(C),gL=Dr,Dnt=ii,Fnt=p0(cO),Nnt=Vo,O7=p0(ez),Bnt=p0(uz),jnt=p0(yz),znt=p0(xz),Hnt=p0(wz),Vnt=(0,Dnt.makeStyles)()(e=>({root:{fontFamily:"Roboto",display:"grid",height:"100vh",width:"100%",colorScheme:e.palette.mode},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1}})),Unt=(0,Nnt.observer)(function(e){const{session:t}=e,{classes:n}=Vnt(),{minimized:r,visibleWidget:o,drawerWidth:i,activeWidgets:a,views:s,drawerPosition:l}=t,c=o&&!r;let u;return l==="right"?u=["[main] 1fr",c?`[drawer] ${i}px`:void 0]:l==="left"&&(u=[c?`[drawer] ${i}px`:void 0,"[main] 1fr"]),Uo.default.createElement("div",{className:n.root,style:{gridTemplateColumns:u==null?void 0:u.filter(d=>!!d).join(" ")}},c&&l==="left"?Uo.default.createElement(O7.default,{session:t}):null,t.DialogComponent?Uo.default.createElement(Uo.Suspense,{fallback:Uo.default.createElement("div",null)},Uo.default.createElement(t.DialogComponent,{...t.DialogProps})):null,Uo.default.createElement("div",{className:n.menuBarAndComponents},Uo.default.createElement("div",{className:n.menuBar},Uo.default.createElement(gL.AppBar,{className:n.appBar,position:"static"},Uo.default.createElement(Bnt.default,{...e}))),Uo.default.createElement("div",{className:n.components},s.length>0?s.map(d=>Uo.default.createElement(Hnt.default,{key:`view-${d.id}`,view:d,session:t})):Uo.default.createElement(znt.default,{...e}),Uo.default.createElement("div",{style:{height:300}}))),a.size>0&&r?Uo.default.createElement(gL.Tooltip,{title:"Open drawer widget"},Uo.default.createElement(gL.Fab,{className:l==="right"?n.fabRight:n.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:()=>t.showWidgetDrawer()},Uo.default.createElement(Fnt.default,null))):null,c&&l==="right"?Uo.default.createElement(O7.default,{session:t}):null,Uo.default.createElement(jnt.default,{session:t}))});Qj.default=Unt;var Mz={},Gnt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Wnt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qnt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Gnt(t,e,n);return Wnt(t,e),t};Object.defineProperty(Mz,"__esModule",{value:!0});const o2=qnt(C),I7=Dr,Xnt=Vo,Knt=ii,Ynt=u0,Znt=Ea(),Qnt=(0,Knt.makeStyles)()({importFormEntry:{minWidth:180}}),Jnt=(0,Xnt.observer)(({session:e,onChange:t,selected:n,InputProps:r,TextFieldProps:o,localStorageKey:i,helperText:a="Select assembly to view"})=>{const{classes:s}=Qnt(),{assemblyNames:l,assemblyManager:c}=e,u=new URLSearchParams(window.location.search).get("config"),[d,f]=typeof jest>"u"&&i?(0,Znt.useLocalStorage)(`lastAssembly-${[window.location.host+window.location.pathname,u,i].join("-")}`,n):(0,o2.useState)(n),p=l.includes(d||"")?d:n;(0,o2.useEffect)(()=>{p&&p!==n&&t(p)},[p,t,n]);const h=l.length?"":"No configured assemblies";return o2.default.createElement(I7.TextField,{select:!0,label:"Assembly",variant:"outlined",helperText:h||a,value:p||"",inputProps:{"data-testid":"assembly-selector"},onChange:g=>f(g.target.value),error:!!h,InputProps:r,disabled:!!h,className:s.importFormEntry,...o},l.map(g=>{const v=c.get(g),m=v?(0,Ynt.getConf)(v,"displayName"):"";return o2.default.createElement(I7.MenuItem,{key:g,value:g},m||g)}))});Mz.default=Jnt;var Az={},la={},vL={exports:{}},bL={exports:{}},k7;function ert(){return k7||(k7=1,function(e){function t(n){if(Array.isArray(n))return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bL)),bL.exports}var yL={exports:{}},R7;function trt(){return R7||(R7=1,function(e){function t(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var i,a,s,l,c=[],u=!0,d=!1;try{if(s=(o=o.call(n)).next,r===0){if(Object(o)!==o)return;u=!1}else for(;!(u=(i=s.call(o)).done)&&(c.push(i.value),c.length!==r);u=!0);}catch(f){d=!0,a=f}finally{try{if(!u&&o.return!=null&&(l=o.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(yL)),yL.exports}var xL={exports:{}},L7;function nrt(){return L7||(L7=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xL)),xL.exports}var $7;function rrt(){return $7||($7=1,function(e){var t=ert(),n=trt(),r=Zse(),o=nrt();function i(a,s){return t(a)||n(a,s)||r(a,s)||o()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(vL)),vL.exports}var i2={},D7;function ort(){if(D7)return i2;D7=1;var e=R3;Object.defineProperty(i2,"__esModule",{value:!0}),i2.useEvent=o;var t=r(C);function n(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,s=new WeakMap;return(n=function(c){return c?s:a})(i)}function r(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||e(i)!=="object"&&typeof i!="function")return{default:i};var s=n(a);if(s&&s.has(i))return s.get(i);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in i)if(u!=="default"&&Object.prototype.hasOwnProperty.call(i,u)){var d=c?Object.getOwnPropertyDescriptor(i,u):null;d&&(d.get||d.set)?Object.defineProperty(l,u,d):l[u]=i[u]}return l.default=i,s&&s.set(i,l),l}function o(i){if(typeof window>"u")return i;var a=t.useRef(null);return t.useLayoutEffect(function(){a.current=i}),t.useCallback(function(){for(var s,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];(s=a.current)===null||s===void 0||s.call.apply(s,[a].concat(c))},[])}return i2}var ale=sr;Object.defineProperty(la,"__esModule",{value:!0});la.anchorRef=lrt;la.bindContextMenu=urt;la.bindDialog=brt;la.bindDoubleClick=hrt;la.bindFocus=prt;la.bindHover=frt;la.bindMenu=grt;la.bindPopover=mrt;la.bindPopper=vrt;la.bindToggle=drt;la.bindTrigger=crt;la.initCoreState=void 0;la.usePopupState=srt;var QP=ale(vz()),irt=ale(rrt()),sh=C,K0=ort();function F7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F7(Object(n),!0).forEach(function(r){(0,QP.default)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var N7={};function art(e,t){N7[e]||(N7[e]=!0,console.error("[material-ui-popup-state] WARNING",t))}var sle={isOpen:!1,setAnchorElUsed:!1,anchorEl:void 0,anchorPosition:void 0,hovered:!1,focused:!1,_openEventType:null,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1};la.initCoreState=sle;function srt(e){var t=e.parentPopupState,n=e.popupId,r=e.variant,o=e.disableAutoFocus,i=(0,sh.useRef)(!0);(0,sh.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]);var a=(0,sh.useState)(sle),s=(0,irt.default)(a,2),l=s[0],c=s[1],u=(0,sh.useCallback)(function(w){i.current&&c(w)},[]),d=(0,sh.useCallback)(function(w){return u(function(_){return jn(jn({},_),{},{setAnchorElUsed:!0,anchorEl:w??void 0})})},[]),f=(0,K0.useEvent)(function(w){return l.isOpen?g(w):p(w),l}),p=(0,K0.useEvent)(function(w){var _=w instanceof Element?void 0:w,S=w instanceof Element?w:(w==null?void 0:w.currentTarget)instanceof Element?w.currentTarget:void 0;if((_==null?void 0:_.type)==="touchstart"){u(function(L){return jn(jn({},L),{},{_deferNextOpen:!0})});return}var P=_==null?void 0:_.clientX,M=_==null?void 0:_.clientY,I=typeof P=="number"&&typeof M=="number"?{left:P,top:M}:void 0,O=function(R){if(!w&&!R.setAnchorElUsed&&r!=="dialog"&&art("missingEventOrAnchorEl","eventOrAnchorEl should be defined if setAnchorEl is not used"),t){if(!t.isOpen)return R;setTimeout(function(){return t._setChildPopupState(y)})}var T=jn(jn({},R),{},{isOpen:!0,anchorPosition:I,hovered:(_==null?void 0:_.type)==="mouseover"||R.hovered,focused:(_==null?void 0:_.type)==="focus"||R.focused,_openEventType:_==null?void 0:_.type});return _!=null&&_.currentTarget?R.setAnchorElUsed||(T.anchorEl=_==null?void 0:_.currentTarget):S&&(T.anchorEl=S),T};u(function(L){return L._deferNextOpen?(setTimeout(function(){return u(O)},0),jn(jn({},L),{},{_deferNextOpen:!1})):O(L)})}),h=function(_){var S=_._childPopupState;return setTimeout(function(){S==null||S.close(),t==null||t._setChildPopupState(null)}),jn(jn({},_),{},{isOpen:!1,hovered:!1,focused:!1})},g=(0,K0.useEvent)(function(w){var _=w instanceof Element?void 0:w;if((_==null?void 0:_.type)==="touchstart"){u(function(S){return jn(jn({},S),{},{_deferNextClose:!0})});return}u(function(S){return S._deferNextClose?(setTimeout(function(){return u(h)},0),jn(jn({},S),{},{_deferNextClose:!1})):h(S)})}),v=(0,sh.useCallback)(function(w,_){w?p(_):g(_)},[]),m=(0,K0.useEvent)(function(w){var _=w.relatedTarget;u(function(S){return S.hovered&&!(_ instanceof Element&&x5(_,y))?S.focused?jn(jn({},S),{},{hovered:!1}):h(S):S})}),b=(0,K0.useEvent)(function(w){if(w){var _=w.relatedTarget;u(function(S){return S.focused&&!(_ instanceof Element&&x5(_,y))?S.hovered?jn(jn({},S),{},{focused:!1}):h(S):S})}}),x=(0,sh.useCallback)(function(w){return u(function(_){return jn(jn({},_),{},{_childPopupState:w})})},[]),y=jn(jn({},l),{},{setAnchorEl:d,popupId:n,variant:r,open:p,close:g,toggle:f,setOpen:v,onBlur:b,onMouseLeave:m,disableAutoFocus:o??!!(l.hovered||l.focused),_setChildPopupState:x});return y}function lrt(e){var t=e.setAnchorEl;return t}function BS(e){var t=e.isOpen,n=e.popupId,r=e.variant;return jn({},r==="popover"?{"aria-haspopup":!0,"aria-controls":t&&n!=null?n:void 0}:r==="popper"?{"aria-describedby":t&&n!=null?n:void 0}:void 0)}function crt(e){return jn(jn({},BS(e)),{},{onClick:e.open,onTouchStart:e.open})}function urt(e){return jn(jn({},BS(e)),{},{onContextMenu:function(n){n.preventDefault(),e.open(n)}})}function drt(e){return jn(jn({},BS(e)),{},{onClick:e.toggle,onTouchStart:e.toggle})}function frt(e){var t=e.open,n=e.onMouseLeave;return jn(jn({},BS(e)),{},{onTouchStart:t,onMouseOver:t,onMouseLeave:n})}function prt(e){var t=e.open,n=e.onBlur;return jn(jn({},BS(e)),{},{onFocus:t,onBlur:n})}function hrt(e){var t,n=e.isOpen,r=e.open,o=e.popupId,i=e.variant;return t={},(0,QP.default)(t,i==="popover"?"aria-controls":"aria-describedby",n?o:null),(0,QP.default)(t,"aria-haspopup",i==="popover"?!0:void 0),(0,QP.default)(t,"onDoubleClick",r),t}function mrt(e){var t=e.isOpen,n=e.anchorEl,r=e.anchorPosition,o=e.close,i=e.popupId,a=e.onMouseLeave,s=e.disableAutoFocus,l=e._openEventType,c=l==="contextmenu";return jn({id:i,anchorEl:n,anchorPosition:r,anchorReference:c?"anchorPosition":"anchorEl",open:t,onClose:o,onMouseLeave:a,onContextMenu:function(d){d.preventDefault(),o()}},s&&{disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})}function grt(e){var t=e.isOpen,n=e.anchorEl,r=e.anchorPosition,o=e.close,i=e.popupId,a=e.onMouseLeave,s=e.disableAutoFocus,l=e._openEventType,c=l==="contextmenu";return jn({id:i,anchorEl:n,anchorPosition:r,anchorReference:c?"anchorPosition":"anchorEl",open:t,onClose:o,onMouseLeave:a,onContextMenu:function(d){d.preventDefault(),o()}},s&&{autoFocus:!1,disableAutoFocusItem:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0})}function vrt(e){var t=e.isOpen,n=e.anchorEl,r=e.popupId,o=e.onMouseLeave;return{id:r,anchorEl:n,open:t,onMouseLeave:o}}function brt(e){var t=e.isOpen,n=e.close;return{open:t,onClose:n}}function yrt(e,t){var n=t.popupId;if(!n)return null;var r=typeof e.getRootNode=="function"?e.getRootNode():document;return typeof r.getElementById=="function"?r.getElementById(n):null}function x5(e,t){var n=t.anchorEl,r=t._childPopupState;return B7(n,e)||B7(yrt(e,t),e)||r!=null&&x5(e,r)}function B7(e,t){if(!e)return!1;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}var lle={};const xrt=Pa(cxe);(function(e){var t=sr,n=R3;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(xrt),o=t(vz()),i=l(C),a=Dr;function s(p){if(typeof WeakMap!="function")return null;var h=new WeakMap,g=new WeakMap;return(s=function(m){return m?g:h})(p)}function l(p,h){if(!h&&p&&p.__esModule)return p;if(p===null||n(p)!=="object"&&typeof p!="function")return{default:p};var g=s(h);if(g&&g.has(p))return g.get(p);var v={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in p)if(b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)){var x=m?Object.getOwnPropertyDescriptor(p,b):null;x&&(x.get||x.set)?Object.defineProperty(v,b,x):v[b]=p[b]}return v.default=p,g&&g.set(p,v),v}function c(p,h){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);h&&(v=v.filter(function(m){return Object.getOwnPropertyDescriptor(p,m).enumerable})),g.push.apply(g,v)}return g}function u(p){for(var h=1;h<arguments.length;h++){var g=arguments[h]!=null?arguments[h]:{};h%2?c(Object(g),!0).forEach(function(v){(0,o.default)(p,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):c(Object(g)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(g,v))})}return p}var d=i.forwardRef(function(h,g){var v;return i.createElement(a.Menu,(0,r.default)({},h,{ref:g,style:u({pointerEvents:"none"},h.style),PaperProps:u(u({},h.PaperProps),{},{style:u({pointerEvents:"auto"},(v=h.PaperProps)===null||v===void 0?void 0:v.style)})}))}),f=d;e.default=f})(lle);var j3={},wrt=sr;Object.defineProperty(j3,"__esModule",{value:!0});j3.default=void 0;var _rt=wrt(bo()),Srt=N,Crt=(0,_rt.default)((0,Srt.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");j3.default=Crt;var Prt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Mrt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Art=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Prt(t,e,n);return Mrt(t,e),t},cle=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Az,"__esModule",{value:!0});const zn=Art(C),Xf=Dr,j7=$d,yx=la,Ert=cle(lle),Trt=cle(j3),ny=zn.default.createContext({parentPopupState:null,rootPopupState:null});function Ort({onClick:e,...t}){const{rootPopupState:n}=(0,zn.useContext)(ny);if(!n)throw new Error("must be used inside a CascadingMenu");const r=(0,zn.useCallback)(o=>{n.close(),e==null||e(o)},[n,e]);return zn.default.createElement(Xf.MenuItem,{...t,onClick:r})}function Irt({title:e,inset:t,popupId:n,...r}){const{parentPopupState:o}=zn.default.useContext(ny),i=(0,yx.usePopupState)({popupId:n,variant:"popover",parentPopupState:o});return zn.default.createElement(zn.default.Fragment,null,zn.default.createElement(Xf.MenuItem,{...(0,yx.bindHover)(i),...(0,yx.bindFocus)(i)},zn.default.createElement(Xf.ListItemText,{primary:e,inset:t}),zn.default.createElement(Trt.default,null)),zn.default.createElement(krt,{...r,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:i}))}function krt({popupState:e,onMenuItemClick:t,menuItems:n,classes:r,...o}){const{rootPopupState:i}=(0,zn.useContext)(ny),a=(0,zn.useMemo)(()=>({rootPopupState:i||e,parentPopupState:e}),[i,e]);return zn.default.createElement(ny.Provider,{value:a},zn.default.createElement(Ert.default,{...o,...(0,yx.bindMenu)(e)}))}function Rrt({popupState:e,onMenuItemClick:t,menuItems:n,...r}){const{rootPopupState:o}=zn.default.useContext(ny),i=zn.default.useMemo(()=>({rootPopupState:o||e,parentPopupState:e}),[o,e]);return zn.default.createElement(ny.Provider,{value:i},zn.default.createElement(Xf.Menu,{...r,...(0,yx.bindMenu)(e)}))}function Lrt({item:e}){return"subMenu"in e?zn.default.createElement(j7.MenuItemEndDecoration,{type:"subMenu"}):e.type==="checkbox"||e.type==="radio"?zn.default.createElement(j7.MenuItemEndDecoration,{type:e.type,checked:e.checked,disabled:e.disabled}):null}function ule({onMenuItemClick:e,menuItems:t,...n}){function r(i){return a=>{e(a,i)}}const o=t.some(i=>"icon"in i&&i.icon);return zn.default.createElement(zn.default.Fragment,null,t.map((i,a)=>"subMenu"in i?zn.default.createElement(Irt,{key:`subMenu-${i.label}-${a}`,popupId:`subMenu-${i.label}`,title:i.label,inset:o,onMenuItemClick:e,menuItems:i.subMenu},zn.default.createElement(ule,{...n,onMenuItemClick:e,menuItems:i.subMenu})):i.type==="divider"?zn.default.createElement(Xf.Divider,{key:`divider-${a}`,component:"li"}):i.type==="subHeader"?zn.default.createElement(Xf.ListSubheader,{key:`subHeader-${i.label}-${a}`},i.label):zn.default.createElement(Ort,{key:`${i.label}-${a}`,onClick:"onClick"in i?r(i.onClick):void 0,disabled:!!i.disabled},i.icon?zn.default.createElement(Xf.ListItemIcon,null,zn.default.createElement(i.icon,null)):null," ",zn.default.createElement(Xf.ListItemText,{primary:i.label,secondary:i.subLabel,inset:o&&!i.icon}),zn.default.createElement("div",{style:{flexGrow:1,minWidth:10}}),zn.default.createElement(Lrt,{item:i}))))}function $rt(e){return zn.default.createElement(Rrt,{...e},zn.default.createElement(ule,{...e}))}Az.default=$rt;var jS={},Ez=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jS,"__esModule",{value:!0});const od=Ez(C),Y0=Dr,Drt=Vo,Frt=ii,Nrt=uO,Brt=Ez(bg),jrt=Ez(c0),zrt=(0,Frt.makeStyles)()(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}));function Hrt({error:e}){return od.default.createElement("div",{style:{width:800,margin:40}},od.default.createElement(jrt.default,{error:e}))}function Vrt(e){const{classes:t}=zrt(),{title:n,children:r,onClose:o}=e;return od.default.createElement(Y0.Dialog,{...e},od.default.createElement(Y0.ScopedCssBaseline,null,od.default.createElement(Y0.DialogTitle,null,n,o?od.default.createElement(Y0.IconButton,{className:t.closeButton,onClick:()=>{o()}},od.default.createElement(Brt.default,null)):null),od.default.createElement(Y0.Divider,null),od.default.createElement(Nrt.ErrorBoundary,{FallbackComponent:Hrt},r)))}jS.default=(0,Drt.observer)(Vrt);var z3={},dle=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z3,"__esModule",{value:!0});const Ig=dle(C),Z0=Dr,Urt=dle(jS);z3.default=({onClose:e,open:t,onFactoryReset:n})=>{function r(o){o==="reset"&&n(),e()}return Ig.default.createElement(Urt.default,{title:"Reset",onClose:()=>r(),open:t},Ig.default.createElement(Z0.DialogContent,null,Ig.default.createElement(Z0.DialogContentText,null,"Are you sure you want to reset? This will restore the default configuration.")),Ig.default.createElement(Z0.DialogActions,null,Ig.default.createElement(Z0.Button,{onClick:()=>r(),color:"primary"},"Cancel"),Ig.default.createElement(Z0.Button,{onClick:()=>r("reset"),color:"primary",variant:"contained"},"OK")))};var Tz={},Grt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Wrt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qrt=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Grt(t,e,n);return Wrt(t,e),t},Xrt=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tz,"__esModule",{value:!0});const ll=qrt(C),fv=Dr,Krt=Xrt(z3),Yrt=({onFactoryReset:e,resetButtonText:t})=>{const[n,r]=(0,ll.useState)(!1);return ll.default.createElement(ll.default.Fragment,null,ll.default.createElement(fv.Button,{"data-testid":"fatal-error",color:"primary",variant:"contained",onClick:()=>r(!0)},t),ll.default.createElement(Krt.default,{onClose:()=>r(!1),open:n,onFactoryReset:e}))},Zrt=({componentStack:e,error:t="No error message provided",onFactoryReset:n,resetButtonText:r="Factory Reset"})=>ll.default.createElement(fv.Dialog,{open:!0},ll.default.createElement(fv.DialogTitle,{style:{background:"#e88"}},"Fatal error"),ll.default.createElement(fv.DialogContent,null,ll.default.createElement("pre",null,`${t}`,e)),ll.default.createElement(fv.DialogActions,null,ll.default.createElement(fv.Button,{color:"secondary",variant:"contained",onClick:()=>window.location.reload()},"Refresh"),ll.default.createElement(Yrt,{onFactoryReset:n,resetButtonText:r})));Tz.default=Zrt;var fle={},Oz={},Iz={},kz={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTrackName=e.generateUnknownTrackConf=e.generateUnsupportedTrackConf=e.guessTrackType=e.guessAdapter=e.getFileName=e.makeIndexType=e.makeIndex=e.storeBlobLocation=e.setBlobMap=e.getBlobMap=e.getBlob=e.UNSUPPORTED=e.UNKNOWN=e.getParentRenderProps=e.getRpcSessionId=e.getTrackAssemblyNames=void 0;const t=Qd,n=Ea(),r=u0;function o(w){const _=(0,r.getConf)(w,"assemblyNames");if(!_){const S=(0,t.getParent)(w.configuration);if("sequence"in S)return[(0,r.readConfObject)(S,"name")]}return _}e.getTrackAssemblyNames=o;function i(w){let _;for(let S=w;!(0,t.isRoot)(S);S=(0,t.getParent)(S))"rpcSessionId"in S&&(_=S.rpcSessionId);if(!_)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return _}e.getRpcSessionId=i;function a(w){for(let _=(0,t.getParent)(w);!(0,t.isRoot)(_);_=(0,t.getParent)(_))if("renderProps"in _)return _.renderProps();return{}}e.getParentRenderProps=a,e.UNKNOWN="UNKNOWN",e.UNSUPPORTED="UNSUPPORTED";let s={};function l(w){return s[w]}e.getBlob=l;function c(){return s}e.getBlobMap=c;function u(w){s=w}e.setBlobMap=u;let d=0;function f(w){if(w&&"blob"in w){const _=`b${+Date.now()}-${d++}`;return s[_]=w.blob,{name:w==null?void 0:w.blob.name,blobId:_,locationType:"BlobLocation"}}return w}e.storeBlobLocation=f;function p(w,_){return"uri"in w?{uri:w.uri+_,locationType:"UriLocation"}:"localPath"in w?{localPath:w.localPath+_,locationType:"LocalPathLocation"}:w}e.makeIndex=p;function h(w,_,S){return w!=null&&w.toUpperCase().endsWith(_)?_:S}e.makeIndexType=h;function g(w){const _="uri"in w?w.uri:void 0,S="localPath"in w?w.localPath:void 0,P="blobId"in w?w:void 0;return(P==null?void 0:P.name)||(_==null?void 0:_.slice(_.lastIndexOf("/")+1))||(S==null?void 0:S.slice(S.lastIndexOf("/")+1))||""}e.getFileName=g;function v(w,_,S,P){if(P){const{pluginManager:M}=(0,n.getEnv)(P),O=M.evaluateExtensionPoint("Core-guessAdapterForLocation",(L,R,T)=>{})(w,_,S);if(O)return O}return{type:e.UNKNOWN}}e.guessAdapter=v;function m(w,_){if(_){const S=(0,n.getSession)(_),M=(0,n.getEnv)(S).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",I=>{})(w);if(M)return M}return"FeatureTrack"}e.guessTrackType=m;function b(w,_,S){const P={type:"FeatureTrack",name:`${w} (Unsupported)`,description:`Support not yet implemented for "${_}"`,category:S,trackId:""};return P.trackId=(0,n.objectHash)(P),P}e.generateUnsupportedTrackConf=b;function x(w,_,S){const P={type:"FeatureTrack",name:`${w} (Unknown)`,description:`Could not determine track type for "${_}"`,category:S,trackId:""};return P.trackId=(0,n.objectHash)(P),P}e.generateUnknownTrackConf=x;function y(w,_){const S=(0,r.readConfObject)(w,"name");if(!S&&(0,r.readConfObject)(w,"type")==="ReferenceSequenceTrack"){const P=_.assemblies.find(M=>M.sequence===w);return P?`Reference sequence (${(0,r.readConfObject)(P,"displayName")||(0,r.readConfObject)(P,"name")})`:"Reference sequence"}return S}e.getTrackName=y})(kz);var Qrt=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iz,"__esModule",{value:!0});const df=Qrt(C),lh=Dr,Jrt=ii,eot=Ea(),z7=kz;function tot(e){return"localPath"in e}function H7(e){return"blobId"in e}const not=(0,Jrt.makeStyles)()(e=>({filename:{marginLeft:e.spacing(1)}}));function rot(e){const{classes:t}=not(),{location:n,setLocation:r}=e,o=n&&(H7(n)&&n.name||tot(n)&&n.localPath),i=n&&H7(n)&&!(0,z7.getBlob)(n.blobId);return df.default.createElement(lh.Box,{display:"flex",flexDirection:"row",alignItems:"center"},df.default.createElement(lh.Box,null,df.default.createElement(lh.FormControl,{fullWidth:!0},df.default.createElement(lh.Button,{variant:"outlined",component:"label"},"Choose File",df.default.createElement("input",{type:"file",hidden:!0,onChange:({target:a})=>{const s=a&&a.files&&a.files[0];s&&(eot.isElectron?r({localPath:s.path,locationType:"LocalPathLocation"}):r((0,z7.storeBlobLocation)({blob:s})))}})))),df.default.createElement(lh.Box,null,df.default.createElement(lh.Typography,{component:"span",className:t.filename,color:o?"initial":"textSecondary"},o||"No file chosen"),i?df.default.createElement(lh.Typography,{color:"error"},"(need to reload)"):null))}Iz.default=rot;var Rz={},oot=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rz,"__esModule",{value:!0});const wL=oot(C),iot=Dr,aot=Vo,sot=nm;function lot(e){const{location:t,setLocation:n,label:r}=e;return wL.default.createElement(wL.default.Fragment,null,wL.default.createElement(iot.TextField,{fullWidth:!0,variant:"outlined",inputProps:{"data-testid":"urlInput"},defaultValue:t&&(0,sot.isUriLocation)(t)?t.uri:"",label:r||"Enter URL",onChange:o=>{n({uri:o.target.value.trim(),locationType:"UriLocation"})}}))}Rz.default=(0,aot.observer)(lot);var cot=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),uot=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dot=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&cot(t,e,n);return uot(t,e),t},Lz=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oz,"__esModule",{value:!0});const Nr=dot(C),fot=Vo,vs=Dr,Q0=nm,pot=Lz(Iz),hot=Lz(Rz),mot=Lz($S);function got(e){const{title:t,children:n,...r}=e;return Nr.default.createElement(vs.Tooltip,{title:t||""},Nr.default.createElement(vs.ToggleButton,{...r},n))}function V7(e,t){return typeof e=="string"&&e.length>t?`${e.slice(0,Math.max(0,t))}…`:e}Oz.default=(0,fot.observer)(function(e){const{location:t,name:n,description:r,rootModel:o,setLocation:i}=e,a=!t||(0,Q0.isUriLocation)(t)?"url":"file",[s,l]=(0,Nr.useState)(t&&"internetAccountId"in t&&t.internetAccountId?t.internetAccountId:a),c=(0,Q0.isAppRootModel)(o)?[...o.internetAccounts]:[],u=2,[d,f]=(0,Nr.useState)(c.slice(0,u)),[p,h]=(0,Nr.useState)(c.slice(u)),[g,v]=(0,Nr.useState)(null),m=c.find(y=>y.internetAccountId===s),b=(0,Nr.useCallback)(y=>{i({...y,...(0,Q0.isUriLocation)(y)?{internetAccountId:m==null?void 0:m.internetAccountId}:{}})},[i,m]);(0,Nr.useEffect)(()=>{m&&(0,Q0.isUriLocation)(t)&&t.internetAccountId!==m.internetAccountId&&b(t)},[t,m,b]);let x=Nr.default.createElement(hot.default,{...e,setLocation:b,label:m==null?void 0:m.selectorLabel});if(s==="file"&&(x=Nr.default.createElement(pot.default,{...e})),m!=null&&m.SelectorComponent){const{SelectorComponent:y}=m;x=Nr.default.createElement(y,{...e,setLocation:b})}return Nr.default.createElement(Nr.default.Fragment,null,Nr.default.createElement(vs.Box,{display:"flex"},Nr.default.createElement(vs.InputLabel,{shrink:!0},n)),Nr.default.createElement(vs.Box,{display:"flex",flexDirection:"row"},Nr.default.createElement(vs.Box,null,Nr.default.createElement(vs.ToggleButtonGroup,{value:s,exclusive:!0,onChange:(y,w)=>{w&&l(w),(0,Q0.isUriLocation)(t)&&b(t)},"aria-label":"file, url, or account picker"},new URLSearchParams(window.location.search).get("adminKey")?null:Nr.default.createElement(vs.ToggleButton,{value:"file","aria-label":"local file"},"File"),Nr.default.createElement(vs.ToggleButton,{value:"url","aria-label":"url"},"URL"),d.map(({internetAccountId:y,toggleContents:w,name:_})=>Nr.default.createElement(got,{key:y,value:y,"aria-label":_,title:_},typeof w=="string"?V7(w,5):w||V7(_,5))),p.length>0?Nr.default.createElement(vs.ToggleButton,{onClick:y=>v(y.target),selected:!1},"More",Nr.default.createElement(mot.default,null)):null),Nr.default.createElement(vs.Menu,{open:!!g,anchorEl:g,onClose:()=>v(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},p==null?void 0:p.map((y,w)=>Nr.default.createElement(vs.MenuItem,{key:y.internetAccountId,value:y.internetAccountId,onClick:()=>{const _=d[d.length-1];f([...d.slice(0,-1),y]),h([_,...p.slice(0,w),...p.slice(w+1)]),l(y.internetAccountId),v(null)}},y.name))))),x,Nr.default.createElement(vs.FormHelperText,null,r))});(function(e){var t=ue&&ue.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Oz;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t(n).default}})})(fle);var $z={},vot=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),bot=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yot=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&vot(t,e,n);return bot(t,e),t};Object.defineProperty($z,"__esModule",{value:!0});const a2=yot(C),xot=Ei;function wot(e){const{width:t,height:n,highResolutionScaling:r=1,style:o={},imageData:i,blockKey:a,showSoftClip:s}=e,[l,c]=(0,a2.useState)(!1),u=(0,a2.useRef)(null);(0,a2.useEffect)(()=>{if(!i)return;const h=u.current;if(!h)return;const g=h.getContext("2d");g&&((0,xot.drawImageOntoCanvasContext)(i,g),c(!0))},[i]);const d=s?"_softclipped":"",f=a?"_"+a:"",p=`prerendered_canvas${d}${f}${l?"_done":""}`;return a2.default.createElement("canvas",{"data-testid":p,ref:u,width:t*r,height:n*r,style:{width:t,height:n,...o}})}$z.default=wot;var Dz={},_ot=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Sot=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Cot=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&_ot(t,e,n);return Sot(t,e),t};Object.defineProperty(Dz,"__esModule",{value:!0});const _L=Cot(C),Pot=ii,Mot=Vo,Aot=u0,Eot=(0,Pot.makeStyles)()({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),Tot=({offsetX:e,offsetY:t,configuration:n,feature:r,timeout:o=300})=>{const{classes:i}=Eot(),[a,s]=(0,_L.useState)(!1);if((0,_L.useEffect)(()=>{const l=setTimeout(()=>s(!0),o);return()=>clearTimeout(l)}),r&&a){const l=(0,Aot.readConfObject)(n,"mouseover",{feature:r});return _L.default.createElement("div",{className:i.hoverLabel,style:{left:e,top:t}},l)}return null};Dz.default=(0,Mot.observer)(Tot);var Fz={},ple=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fz,"__esModule",{value:!0});const kg=ple(C),Oot=Vo,J0=Dr,Iot=ple(jS);function kot({model:e,handleClose:t}){return kg.default.createElement(Iot.default,{maxWidth:"xl",open:!0,onClose:t,title:"Reference sequence"},kg.default.createElement(J0.DialogContent,null,kg.default.createElement(J0.Typography,null,"Are you sure you want to return to the import form? This will lose your current view")),kg.default.createElement(J0.DialogActions,null,kg.default.createElement(J0.Button,{onClick:()=>{e.clearView(),t()},variant:"contained",color:"primary",autoFocus:!0},"OK"),kg.default.createElement(J0.Button,{onClick:()=>t(),color:"secondary",variant:"contained"},"Cancel")))}Fz.default=(0,Oot.observer)(kot);var zS={};/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Rot=/["'&<>]/,Lot=$ot;function $ot(e){var t=""+e,n=Rot.exec(t);if(!n)return t;var r,o="",i=0,a=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.substring(a,i)),a=i+1,o+=r}return a!==i?o+t.substring(a,i):o}var hle={exports:{}};/*! @license DOMPurify 3.0.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.2/LICENSE */(function(e,t){(function(n,r){e.exports=r()})(ue,function(){const{entries:n,setPrototypeOf:r,isFrozen:o,getPrototypeOf:i,getOwnPropertyDescriptor:a}=Object;let{freeze:s,seal:l,create:c}=Object,{apply:u,construct:d}=typeof Reflect<"u"&&Reflect;u||(u=function(oe,Ce,ve){return oe.apply(Ce,ve)}),s||(s=function(oe){return oe}),l||(l=function(oe){return oe}),d||(d=function(oe,Ce){return new oe(...Ce)});const f=S(Array.prototype.forEach),p=S(Array.prototype.pop),h=S(Array.prototype.push),g=S(String.prototype.toLowerCase),v=S(String.prototype.toString),m=S(String.prototype.match),b=S(String.prototype.replace),x=S(String.prototype.indexOf),y=S(String.prototype.trim),w=S(RegExp.prototype.test),_=P(TypeError);function S(W){return function(oe){for(var Ce=arguments.length,ve=new Array(Ce>1?Ce-1:0),me=1;me<Ce;me++)ve[me-1]=arguments[me];return u(W,oe,ve)}}function P(W){return function(){for(var oe=arguments.length,Ce=new Array(oe),ve=0;ve<oe;ve++)Ce[ve]=arguments[ve];return d(W,Ce)}}function M(W,oe,Ce){Ce=Ce||g,r&&r(W,null);let ve=oe.length;for(;ve--;){let me=oe[ve];if(typeof me=="string"){const ye=Ce(me);ye!==me&&(o(oe)||(oe[ve]=ye),me=ye)}W[me]=!0}return W}function I(W){const oe=c(null);for(const[Ce,ve]of n(W))oe[Ce]=ve;return oe}function O(W,oe){for(;W!==null;){const ve=a(W,oe);if(ve){if(ve.get)return S(ve.get);if(typeof ve.value=="function")return S(ve.value)}W=i(W)}function Ce(ve){return console.warn("fallback value for",ve),null}return Ce}const L=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),T=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=s(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=s(["#text"]),j=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Q=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),X=l(/<%[\w\W]*|[\w\W]*%>/gm),J=l(/\${[\w\W]*}/gm),G=l(/^data-[\-\w.\u00B7-\uFFFF]/),ie=l(/^aria-[\-\w]+$/),Y=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),le=l(/^(?:\w+script|data):/i),te=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),re=l(/^html$/i);var ae=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:X,TMPLIT_EXPR:J,DATA_ATTR:G,ARIA_ATTR:ie,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:le,ATTR_WHITESPACE:te,DOCTYPE_NAME:re});const pe=()=>typeof window>"u"?null:window,we=function(oe,Ce){if(typeof oe!="object"||typeof oe.createPolicy!="function")return null;let ve=null;const me="data-tt-policy-suffix";Ce.currentScript&&Ce.currentScript.hasAttribute(me)&&(ve=Ce.currentScript.getAttribute(me));const ye="dompurify"+(ve?"#"+ve:"");try{return oe.createPolicy(ye,{createHTML(Le){return Le},createScriptURL(Le){return Le}})}catch{return console.warn("TrustedTypes policy "+ye+" could not be created."),null}};function fe(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pe();const oe=Vt=>fe(Vt);if(oe.version="3.0.2",oe.removed=[],!W||!W.document||W.document.nodeType!==9)return oe.isSupported=!1,oe;const Ce=W.document;let{document:ve}=W;const{DocumentFragment:me,HTMLTemplateElement:ye,Node:Le,Element:Te,NodeFilter:Me,NamedNodeMap:$e=W.NamedNodeMap||W.MozNamedAttrMap,HTMLFormElement:U,DOMParser:D,trustedTypes:F}=W,K=Te.prototype,he=O(K,"cloneNode"),ge=O(K,"nextSibling"),Ae=O(K,"childNodes"),Ke=O(K,"parentNode");if(typeof ye=="function"){const Vt=ve.createElement("template");Vt.content&&Vt.content.ownerDocument&&(ve=Vt.content.ownerDocument)}const Je=we(F,Ce),ft=Je?Je.createHTML(""):"",{implementation:ht,createNodeIterator:it,createDocumentFragment:At,getElementsByTagName:Pe}=ve,{importNode:Re}=Ce;let ze={};oe.isSupported=typeof n=="function"&&typeof Ke=="function"&&ht&&typeof ht.createHTMLDocument<"u";const{MUSTACHE_EXPR:je,ERB_EXPR:Ue,TMPLIT_EXPR:tt,DATA_ATTR:be,ARIA_ATTR:He,IS_SCRIPT_OR_DATA:Ve,ATTR_WHITESPACE:z}=ae;let{IS_ALLOWED_URI:Z}=ae,ne=null;const de=M({},[...L,...R,...T,...k,...$]);let ce=null;const Se=M({},[...j,...V,...q,...Q]);let xe=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,Xe=null,Ye=!0,rt=!0,Fe=!1,Oe=!0,Ge=!1,et=!1,pt=!1,wt=!1,gt=!1,_t=!1,zt=!1,Eo=!0,li=!1;const sn="user-content-";let st=!0,Ct=!1,Xt={},fn=null;const Wt=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let bn=null;const pn=M({},["audio","video","img","source","image","track"]);let In=null;const zr=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),en="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",xo="http://www.w3.org/1999/xhtml";let To=xo,Oa=!1,Bi=null;const Ia=M({},[en,Hn,xo],v);let Oo;const ka=["application/xhtml+xml","text/html"],Xs="text/html";let vr,Ra=null;const Ll=ve.createElement("form"),Ks=function(qe){return qe instanceof RegExp||qe instanceof Function},us=function(qe){Ra&&Ra===qe||((!qe||typeof qe!="object")&&(qe={}),qe=I(qe),Oo=ka.indexOf(qe.PARSER_MEDIA_TYPE)===-1?Oo=Xs:Oo=qe.PARSER_MEDIA_TYPE,vr=Oo==="application/xhtml+xml"?v:g,ne="ALLOWED_TAGS"in qe?M({},qe.ALLOWED_TAGS,vr):de,ce="ALLOWED_ATTR"in qe?M({},qe.ALLOWED_ATTR,vr):Se,Bi="ALLOWED_NAMESPACES"in qe?M({},qe.ALLOWED_NAMESPACES,v):Ia,In="ADD_URI_SAFE_ATTR"in qe?M(I(zr),qe.ADD_URI_SAFE_ATTR,vr):zr,bn="ADD_DATA_URI_TAGS"in qe?M(I(pn),qe.ADD_DATA_URI_TAGS,vr):pn,fn="FORBID_CONTENTS"in qe?M({},qe.FORBID_CONTENTS,vr):Wt,Ie="FORBID_TAGS"in qe?M({},qe.FORBID_TAGS,vr):{},Xe="FORBID_ATTR"in qe?M({},qe.FORBID_ATTR,vr):{},Xt="USE_PROFILES"in qe?qe.USE_PROFILES:!1,Ye=qe.ALLOW_ARIA_ATTR!==!1,rt=qe.ALLOW_DATA_ATTR!==!1,Fe=qe.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=qe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ge=qe.SAFE_FOR_TEMPLATES||!1,et=qe.WHOLE_DOCUMENT||!1,gt=qe.RETURN_DOM||!1,_t=qe.RETURN_DOM_FRAGMENT||!1,zt=qe.RETURN_TRUSTED_TYPE||!1,wt=qe.FORCE_BODY||!1,Eo=qe.SANITIZE_DOM!==!1,li=qe.SANITIZE_NAMED_PROPS||!1,st=qe.KEEP_CONTENT!==!1,Ct=qe.IN_PLACE||!1,Z=qe.ALLOWED_URI_REGEXP||Y,To=qe.NAMESPACE||xo,xe=qe.CUSTOM_ELEMENT_HANDLING||{},qe.CUSTOM_ELEMENT_HANDLING&&Ks(qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&Ks(qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),qe.CUSTOM_ELEMENT_HANDLING&&typeof qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xe.allowCustomizedBuiltInElements=qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ge&&(rt=!1),_t&&(gt=!0),Xt&&(ne=M({},[...$]),ce=[],Xt.html===!0&&(M(ne,L),M(ce,j)),Xt.svg===!0&&(M(ne,R),M(ce,V),M(ce,Q)),Xt.svgFilters===!0&&(M(ne,T),M(ce,V),M(ce,Q)),Xt.mathMl===!0&&(M(ne,k),M(ce,q),M(ce,Q))),qe.ADD_TAGS&&(ne===de&&(ne=I(ne)),M(ne,qe.ADD_TAGS,vr)),qe.ADD_ATTR&&(ce===Se&&(ce=I(ce)),M(ce,qe.ADD_ATTR,vr)),qe.ADD_URI_SAFE_ATTR&&M(In,qe.ADD_URI_SAFE_ATTR,vr),qe.FORBID_CONTENTS&&(fn===Wt&&(fn=I(fn)),M(fn,qe.FORBID_CONTENTS,vr)),st&&(ne["#text"]=!0),et&&M(ne,["html","head","body"]),ne.table&&(M(ne,["tbody"]),delete Ie.tbody),s&&s(qe),Ra=qe)},Ys=M({},["mi","mo","mn","ms","mtext"]),ca=M({},["foreignobject","desc","title","annotation-xml"]),Nu=M({},["title","style","font","a","script"]),Zs=M({},R);M(Zs,T),M(Zs,E);const $l=M({},k);M($l,B);const Bu=function(qe){let bt=Ke(qe);(!bt||!bt.tagName)&&(bt={namespaceURI:To,tagName:"template"});const kt=g(qe.tagName),ur=g(bt.tagName);return Bi[qe.namespaceURI]?qe.namespaceURI===Hn?bt.namespaceURI===xo?kt==="svg":bt.namespaceURI===en?kt==="svg"&&(ur==="annotation-xml"||Ys[ur]):!!Zs[kt]:qe.namespaceURI===en?bt.namespaceURI===xo?kt==="math":bt.namespaceURI===Hn?kt==="math"&&ca[ur]:!!$l[kt]:qe.namespaceURI===xo?bt.namespaceURI===Hn&&!ca[ur]||bt.namespaceURI===en&&!Ys[ur]?!1:!$l[kt]&&(Nu[kt]||!Zs[kt]):!!(Oo==="application/xhtml+xml"&&Bi[qe.namespaceURI]):!1},ci=function(qe){h(oe.removed,{element:qe});try{qe.parentNode.removeChild(qe)}catch{qe.remove()}},Ic=function(qe,bt){try{h(oe.removed,{attribute:bt.getAttributeNode(qe),from:bt})}catch{h(oe.removed,{attribute:null,from:bt})}if(bt.removeAttribute(qe),qe==="is"&&!ce[qe])if(gt||_t)try{ci(bt)}catch{}else try{bt.setAttribute(qe,"")}catch{}},th=function(qe){let bt,kt;if(wt)qe="<remove></remove>"+qe;else{const La=m(qe,/^[\r\n\t ]+/);kt=La&&La[0]}Oo==="application/xhtml+xml"&&To===xo&&(qe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+qe+"</body></html>");const ur=Je?Je.createHTML(qe):qe;if(To===xo)try{bt=new D().parseFromString(ur,Oo)}catch{}if(!bt||!bt.documentElement){bt=ht.createDocument(To,"template",null);try{bt.documentElement.innerHTML=Oa?ft:ur}catch{}}const Io=bt.body||bt.documentElement;return qe&&kt&&Io.insertBefore(ve.createTextNode(kt),Io.childNodes[0]||null),To===xo?Pe.call(bt,et?"html":"body")[0]:et?bt.documentElement:Io},ua=function(qe){return it.call(qe.ownerDocument||qe,qe,Me.SHOW_ELEMENT|Me.SHOW_COMMENT|Me.SHOW_TEXT,null,!1)},ju=function(qe){return qe instanceof U&&(typeof qe.nodeName!="string"||typeof qe.textContent!="string"||typeof qe.removeChild!="function"||!(qe.attributes instanceof $e)||typeof qe.removeAttribute!="function"||typeof qe.setAttribute!="function"||typeof qe.namespaceURI!="string"||typeof qe.insertBefore!="function"||typeof qe.hasChildNodes!="function")},kc=function(qe){return typeof Le=="object"?qe instanceof Le:qe&&typeof qe=="object"&&typeof qe.nodeType=="number"&&typeof qe.nodeName=="string"},da=function(qe,bt,kt){ze[qe]&&f(ze[qe],ur=>{ur.call(oe,bt,kt,Ra)})},cC=function(qe){let bt;if(da("beforeSanitizeElements",qe,null),ju(qe))return ci(qe),!0;const kt=vr(qe.nodeName);if(da("uponSanitizeElement",qe,{tagName:kt,allowedTags:ne}),qe.hasChildNodes()&&!kc(qe.firstElementChild)&&(!kc(qe.content)||!kc(qe.content.firstElementChild))&&w(/<[/\w]/g,qe.innerHTML)&&w(/<[/\w]/g,qe.textContent))return ci(qe),!0;if(!ne[kt]||Ie[kt]){if(!Ie[kt]&&dC(kt)&&(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,kt)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(kt)))return!1;if(st&&!fn[kt]){const ur=Ke(qe)||qe.parentNode,Io=Ae(qe)||qe.childNodes;if(Io&&ur){const La=Io.length;for(let Hr=La-1;Hr>=0;--Hr)ur.insertBefore(he(Io[Hr],!0),ge(qe))}}return ci(qe),!0}return qe instanceof Te&&!Bu(qe)||(kt==="noscript"||kt==="noembed")&&w(/<\/no(script|embed)/i,qe.innerHTML)?(ci(qe),!0):(Ge&&qe.nodeType===3&&(bt=qe.textContent,bt=b(bt,je," "),bt=b(bt,Ue," "),bt=b(bt,tt," "),qe.textContent!==bt&&(h(oe.removed,{element:qe.cloneNode()}),qe.textContent=bt)),da("afterSanitizeElements",qe,null),!1)},uC=function(qe,bt,kt){if(Eo&&(bt==="id"||bt==="name")&&(kt in ve||kt in Ll))return!1;if(!(rt&&!Xe[bt]&&w(be,bt))){if(!(Ye&&w(He,bt))){if(!ce[bt]||Xe[bt]){if(!(dC(qe)&&(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,qe)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(qe))&&(xe.attributeNameCheck instanceof RegExp&&w(xe.attributeNameCheck,bt)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(bt))||bt==="is"&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,kt)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(kt))))return!1}else if(!In[bt]){if(!w(Z,b(kt,z,""))){if(!((bt==="src"||bt==="xlink:href"||bt==="href")&&qe!=="script"&&x(kt,"data:")===0&&bn[qe])){if(!(Fe&&!w(Ve,b(kt,z,"")))){if(kt)return!1}}}}}}return!0},dC=function(qe){return qe.indexOf("-")>0},fC=function(qe){let bt,kt,ur,Io;da("beforeSanitizeAttributes",qe,null);const{attributes:La}=qe;if(!La)return;const Hr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce};for(Io=La.length;Io--;){bt=La[Io];const{name:Qs,namespaceURI:T0}=bt;if(kt=Qs==="value"?bt.value:y(bt.value),ur=vr(Qs),Hr.attrName=ur,Hr.attrValue=kt,Hr.keepAttr=!0,Hr.forceKeepAttr=void 0,da("uponSanitizeAttribute",qe,Hr),kt=Hr.attrValue,Hr.forceKeepAttr||(Ic(Qs,qe),!Hr.keepAttr))continue;if(!Oe&&w(/\/>/i,kt)){Ic(Qs,qe);continue}Ge&&(kt=b(kt,je," "),kt=b(kt,Ue," "),kt=b(kt,tt," "));const pC=vr(qe.nodeName);if(uC(pC,ur,kt)){if(li&&(ur==="id"||ur==="name")&&(Ic(Qs,qe),kt=sn+kt),Je&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!T0)switch(F.getAttributeType(pC,ur)){case"TrustedHTML":kt=Je.createHTML(kt);break;case"TrustedScriptURL":kt=Je.createScriptURL(kt);break}try{T0?qe.setAttributeNS(T0,Qs,kt):qe.setAttribute(Qs,kt),p(oe.removed)}catch{}}}da("afterSanitizeAttributes",qe,null)},Tk=function Vt(qe){let bt;const kt=ua(qe);for(da("beforeSanitizeShadowDOM",qe,null);bt=kt.nextNode();)da("uponSanitizeShadowNode",bt,null),!cC(bt)&&(bt.content instanceof me&&Vt(bt.content),fC(bt));da("afterSanitizeShadowDOM",qe,null)};return oe.sanitize=function(Vt){let qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt,kt,ur,Io;if(Oa=!Vt,Oa&&(Vt="<!-->"),typeof Vt!="string"&&!kc(Vt)){if(typeof Vt.toString!="function")throw _("toString is not a function");if(Vt=Vt.toString(),typeof Vt!="string")throw _("dirty is not a string, aborting")}if(!oe.isSupported)return Vt;if(pt||us(qe),oe.removed=[],typeof Vt=="string"&&(Ct=!1),Ct){if(Vt.nodeName){const Qs=vr(Vt.nodeName);if(!ne[Qs]||Ie[Qs])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(Vt instanceof Le)bt=th("<!---->"),kt=bt.ownerDocument.importNode(Vt,!0),kt.nodeType===1&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?bt=kt:bt.appendChild(kt);else{if(!gt&&!Ge&&!et&&Vt.indexOf("<")===-1)return Je&&zt?Je.createHTML(Vt):Vt;if(bt=th(Vt),!bt)return gt?null:zt?ft:""}bt&&wt&&ci(bt.firstChild);const La=ua(Ct?Vt:bt);for(;ur=La.nextNode();)cC(ur)||(ur.content instanceof me&&Tk(ur.content),fC(ur));if(Ct)return Vt;if(gt){if(_t)for(Io=At.call(bt.ownerDocument);bt.firstChild;)Io.appendChild(bt.firstChild);else Io=bt;return(ce.shadowroot||ce.shadowrootmod)&&(Io=Re.call(Ce,Io,!0)),Io}let Hr=et?bt.outerHTML:bt.innerHTML;return et&&ne["!doctype"]&&bt.ownerDocument&&bt.ownerDocument.doctype&&bt.ownerDocument.doctype.name&&w(re,bt.ownerDocument.doctype.name)&&(Hr="<!DOCTYPE "+bt.ownerDocument.doctype.name+`>
`+Hr),Ge&&(Hr=b(Hr,je," "),Hr=b(Hr,Ue," "),Hr=b(Hr,tt," ")),Je&&zt?Je.createHTML(Hr):Hr},oe.setConfig=function(Vt){us(Vt),pt=!0},oe.clearConfig=function(){Ra=null,pt=!1},oe.isValidAttribute=function(Vt,qe,bt){Ra||us({});const kt=vr(Vt),ur=vr(qe);return uC(kt,ur,bt)},oe.addHook=function(Vt,qe){typeof qe=="function"&&(ze[Vt]=ze[Vt]||[],h(ze[Vt],qe))},oe.removeHook=function(Vt){if(ze[Vt])return p(ze[Vt])},oe.removeHooks=function(Vt){ze[Vt]&&(ze[Vt]=[])},oe.removeAllHooks=function(){ze={}},oe}var _e=fe();return _e})})(hle);var Dot=hle.exports,Nz=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zS,"__esModule",{value:!0});zS.isHTML=void 0;const Fot=Nz(C),Not=Nz(Lot),U7=Nz(Dot),Bot=["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","sup","sub","td","tfoot","th","thead","tr","u","ul"];let G7=!1;const jot=new RegExp(Bot.map(e=>`<${e}\\b[^>]*>`).join("|"),"i");function mle(e){return jot.test(e)}zS.isHTML=mle;function zot({html:e}){const t=mle(e)?e:(0,Not.default)(e);return G7||(G7=!0,U7.default.addHook("afterSanitizeAttributes",n=>{n.tagName==="A"&&(n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"))})),Fot.default.createElement("span",{dangerouslySetInnerHTML:{__html:U7.default.sanitize(t)}})}zS.default=zot;(function(e){var t=ue&&ue.__createBinding||(Object.create?function(w,_,S,P){P===void 0&&(P=S);var M=Object.getOwnPropertyDescriptor(_,S);(!M||("get"in M?!_.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(w,P,M)}:function(w,_,S,P){P===void 0&&(P=S),w[P]=_[S]}),n=ue&&ue.__exportStar||function(w,_){for(var S in w)S!=="default"&&!Object.prototype.hasOwnProperty.call(_,S)&&t(_,w,S)},r=ue&&ue.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.SanitizedHTML=e.ResizeHandle=e.ReturnToImportFormDialog=e.Tooltip=e.PrerenderedCanvas=e.Menu=e.LoadingEllipses=e.FileSelector=e.FatalErrorDialog=e.FactoryResetDialog=e.ErrorMessage=e.EditableTypography=e.Dialog=e.CascadingMenu=e.AssemblySelector=e.App=e.Logomark=e.LogoFull=void 0,n(Zj,e);var o=Am;Object.defineProperty(e,"LogoFull",{enumerable:!0,get:function(){return o.LogoFull}}),Object.defineProperty(e,"Logomark",{enumerable:!0,get:function(){return o.Logomark}});var i=Qj;Object.defineProperty(e,"App",{enumerable:!0,get:function(){return r(i).default}});var a=Mz;Object.defineProperty(e,"AssemblySelector",{enumerable:!0,get:function(){return r(a).default}});var s=Az;Object.defineProperty(e,"CascadingMenu",{enumerable:!0,get:function(){return r(s).default}});var l=jS;Object.defineProperty(e,"Dialog",{enumerable:!0,get:function(){return r(l).default}});var c=FS;Object.defineProperty(e,"EditableTypography",{enumerable:!0,get:function(){return r(c).default}});var u=c0;Object.defineProperty(e,"ErrorMessage",{enumerable:!0,get:function(){return r(u).default}});var d=z3;Object.defineProperty(e,"FactoryResetDialog",{enumerable:!0,get:function(){return r(d).default}});var f=Tz;Object.defineProperty(e,"FatalErrorDialog",{enumerable:!0,get:function(){return r(f).default}});var p=fle;Object.defineProperty(e,"FileSelector",{enumerable:!0,get:function(){return r(p).default}});var h=OS;Object.defineProperty(e,"LoadingEllipses",{enumerable:!0,get:function(){return r(h).default}});var g=$d;Object.defineProperty(e,"Menu",{enumerable:!0,get:function(){return r(g).default}});var v=$z;Object.defineProperty(e,"PrerenderedCanvas",{enumerable:!0,get:function(){return r(v).default}});var m=Dz;Object.defineProperty(e,"Tooltip",{enumerable:!0,get:function(){return r(m).default}});var b=Fz;Object.defineProperty(e,"ReturnToImportFormDialog",{enumerable:!0,get:function(){return r(b).default}});var x=M3;Object.defineProperty(e,"ResizeHandle",{enumerable:!0,get:function(){return r(x).default}});var y=zS;Object.defineProperty(e,"SanitizedHTML",{enumerable:!0,get:function(){return r(y).default}}),n($d,e)})(Ca);const Hot=`CLUSTAL O(1.2.3) multiple sequence alignment
UniProt/Swiss-Prot|P26898|IL2RA_SHEEP      MEPSLLMWRFFVFIVVPGCVTEACHDDPPSLRNA----------MFKVLRYE----VGTM
UniProt/Swiss-Prot|P01590|IL2RA_MOUSE      MEPRLLMLGFLSLTIVPSCRAELCLYDPPEVPNA----------TFKALSYK----NGTI
UniProt/Swiss-Prot|P41690|IL2RA_FELCA      MEPSLLLWGILTFVVVHGHVTELCDENPPDIQHA----------TFKALTYK----TGTM
UniProt/Swiss-Prot|P01589|IL2RA_HUMAN      MDSYLLMWGLLTFIMVPGCQAELCDDDPPEIPHA----------TFKAMAYK----EGTM
UniProt/Swiss-Prot|Q5MNY4|IL2RA_MACMU      MDPYLLMWGLLTFITVPGCQAELCDDDPPKITHA----------TFKAVAYK----EGTM
UniProt/Swiss-Prot|Q95118|IL2RG_BOVIN      -----------------------------------LLMWGLLT-----------------
UniProt/Swiss-Prot|P40321|IL2RG_CANFA      MLKPPLPLRSLLFLQLSLLGVGLNSTVPMPNGNEDIT------PDFFLTATPSETLSVSS
UniProt/Swiss-Prot|P26896|IL2RB_RAT        MATVDLSWRLPLYILLLLLATT--------------------------------WVSAAV
UniProt/Swiss-Prot|Q8BZM1|GLMN_MOUSE       PLPLRSLLFLQLPLLGVGLNP------------------PLPLRSLLFLQLPLLGVGLNP
UniProt/Swiss-Prot|P36835|IL2_CAPHI        -----------LLGVGLNPKFLTP------------------------------------
UniProt/Swiss-Prot|Q7JFM4|IL2_AOTVO        MLKPPLPLRSLLFLQLPLLGVGLNPKFLTPSGNEDIGGKPGTGGDFFLTSTPAGTLDVST
UniProt/Swiss-Prot|Q29416|IL2_CANFA        --------------LFLQLSLLG-------------------------------------
`,Vot=`CLUSTAL O(1.2.4) multiple sequence alignment


sp|P69905|HBA_HUMAN       MVLSPADKTNVKAAWGKVGAHAGEYGAEALERMFLSFPTTKTYFPHFDLSHGSAQVKGHG	60
sp|P01942|HBA_MOUSE       MVLSGEDKSNIKAAWGKIGGHGAEYGAEALERMFASFPTTKTYFPHFDVSHGSAQVKGHG	60
sp|P13786|HBAZ_CAPHI      MSLTRTERTIILSLWSKISTQADVIGTETLERLFSCYPQAKTYFPHFDLHSGSAQLRAHG	60
                          * *:  ::: : : *.*:. :.   *:*:***:* .:* :********:  ****::.**

sp|P69905|HBA_HUMAN       KKVADALTNAVAHVDDMPNALSALSDLHAHKLRVDPVNFKLLSHCLLVTLAAHLPAEFTP	120
sp|P01942|HBA_MOUSE       KKVADALASAAGHLDDLPGALSALSDLHAHKLRVDPVNFKLLSHCLLVTLASHHPADFTP	120
sp|P13786|HBAZ_CAPHI      SKVVAAVGDAVKSIDNVTSALSKLSELHAYVLRVDPVNFKFLSHCLLVTLASHFPADFTA	120
                          .**. *: .*.  :*:: .*** **:***: *********:**********:* **:**

sp|P69905|HBA_HUMAN       AVHASLDKFLASVSTVLTSKYR	142
sp|P01942|HBA_MOUSE       AVHASLDKFLASVSTVLTSKYR	142
sp|P13786|HBAZ_CAPHI      DAHAAWDKFLSIVSGVLTEKYR	142
                           .**: ****: ** ***.***`,Uot="(((UniProt/Swiss-Prot|P26898|IL2RA_SHEEP:0.24036,(UniProt/Swiss-Prot|P41690|IL2RA_FELCA:0.17737,(UniProt/Swiss-Prot|P01589|IL2RA_HUMAN:0.03906,UniProt/Swiss-Prot|Q5MNY4|IL2RA_MACMU:0.03787):0.13033):0.04964):0.02189,UniProt/Swiss-Prot|P01590|IL2RA_MOUSE:0.23072):0.06814,(((UniProt/Swiss-Prot|Q95118|IL2RG_BOVIN:0.09600,UniProt/Swiss-Prot|P40321|IL2RG_CANFA:0.09845):0.25333,UniProt/Swiss-Prot|Q29416|IL2_CANFA:-0.35055):0.10231,(UniProt/Swiss-Prot|P26896|IL2RB_RAT:0.33631,UniProt/Swiss-Prot|Q7JFM4|IL2_AOTVO:-0.33631):0.10166):0.01607,(UniProt/Swiss-Prot|Q8BZM1|GLMN_MOUSE:0.32378,UniProt/Swiss-Prot|P36835|IL2_CAPHI:-0.32378):0.09999)";async function ch(e,t,n){e.setError(void 0);try{t&&await e.setMSAFilehandle(t),n&&await e.setTreeFilehandle(n)}catch(r){e.setError(r)}}const ff=({onClick:e,model:t,children:n})=>ke.createElement("li",null,ke.createElement(If,{onClick:r=>{t.setError(void 0),r.preventDefault(),e()},href:"#"},ke.createElement(On,{display:"inline"},n))),Got=Wn(({model:e})=>{const[t,n]=C.useState(),[r,o]=C.useState(),{error:i}=e;return ke.createElement(Kre,null,ke.createElement("div",{style:{width:"50%"}},i?ke.createElement("div",{style:{padding:20}},ke.createElement(On,{color:"error"},"Error: ",`${i}`)):null,ke.createElement(On,null,"Open an MSA file (stockholm or clustal format) and/or a tree file (newick format)."),ke.createElement(On,{color:"error"},"Note: you can open up just an MSA or just a tree, both are not required. Some MSA files e.g. stockholm format have an embedded tree also and this is fine, and opening a separate tree file is not required.")),ke.createElement(F1,{container:!0,spacing:10,justifyContent:"center",alignItems:"center"},ke.createElement(F1,{item:!0},ke.createElement(On,null,"MSA file or URL"),ke.createElement(Ca.FileSelector,{location:t,setLocation:n}),ke.createElement(On,null,"Tree file or URL"),ke.createElement(Ca.FileSelector,{location:r,setLocation:o})),ke.createElement(F1,{item:!0},ke.createElement(fc,{onClick:()=>ch(e,t,r),variant:"contained",color:"primary",disabled:!t&&!r},"Open")),ke.createElement(F1,{item:!0},ke.createElement(On,null,"Examples"),ke.createElement("ul",null,ke.createElement(ff,{model:e,onClick:()=>ch(e,void 0,{uri:"https://jbrowse.org/genomes/newick_trees/sarscov2phylo.pub.ft.nh",locationType:"UriLocation"})},"230k COVID-19 samples (tree only)"),ke.createElement(ff,{model:e,onClick:()=>{e.setData({msa:Hot,tree:Uot})}},"Small protein MSA+tree"),ke.createElement(ff,{model:e,onClick:()=>{e.setData({msa:Vot})}},"Small MSA only"),ke.createElement(ff,{model:e,onClick:()=>ch(e,{uri:"https://ihh.github.io/abrowse/build/pfam-cov2.stock",locationType:"UriLocation"})},"PFAM SARS-CoV2 multi-stockholm"),ke.createElement(ff,{model:e,onClick:()=>ch(e,{uri:"https://jbrowse.org/genomes/multiple_sequence_alignments/Lysine.stock",locationType:"UriLocation"})},"Lysine stockholm file"),ke.createElement(ff,{model:e,onClick:()=>ch(e,{uri:"https://jbrowse.org/genomes/multiple_sequence_alignments/PF01601_full.txt",locationType:"UriLocation"})},"PF01601 stockholm file (SARS-CoV2 spike protein)"),ke.createElement(ff,{model:e,onClick:()=>ch(e,{uri:"https://jbrowse.org/genomes/multiple_sequence_alignments/europe_covid.fa",locationType:"UriLocation"})},"Europe COVID full genomes (LR883044.1 and 199 other sequences)"),ke.createElement(ff,{model:e,onClick:()=>ch(e,{uri:"https://jbrowse.org/genomes/multiple_sequence_alignments/rhv_test-only.aligned_with_mafft_auto.fa",locationType:"UriLocation"},{uri:"https://jbrowse.org/genomes/multiple_sequence_alignments/rhv_test-only.aligned_with_mafft_auto.nh",locationType:"UriLocation"})},"MAFFT+VeryFastTree(17.9k samples)")))))});var Bz={},Wot=sr;Object.defineProperty(Bz,"__esModule",{value:!0});var jz=Bz.default=void 0,qot=Wot(bo()),Xot=N,Kot=(0,qot.default)((0,Xot.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");jz=Bz.default=Kot;const Yot=ig()({guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}),Zot=Wn(function({model:e,coordX:t}){const{treeAreaWidth:n}=e,{classes:r}=Yot();return ke.createElement(ke.Fragment,null,ke.createElement(lO,{open:!0,placement:"top",title:`${e.pxToBp(t)+1}`,arrow:!0},ke.createElement("div",{style:{left:t+n,position:"absolute",height:1}})),ke.createElement("div",{className:r.guide,style:{left:t+n,background:"red"}}))}),Qot=ig()(e=>({rubberband:{height:"100%",background:"tertiary"in e.palette&&e.palette.tertiary?Pt(e.palette.tertiary.main,.7):Pt(e.palette.primary.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberbandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberbandText:{color:e.palette.tertiary?e.palette.tertiary.contrastText:e.palette.primary.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}}));function Jot({model:e,ControlComponent:t=ke.createElement("div",null)}){const{treeAreaWidth:n}=e,[r,o]=C.useState(),[i,a]=C.useState(),[s,l]=C.useState(),[c,u]=C.useState(),d=C.useRef(null),f=C.useRef(null),{classes:p}=Qot(),h=r!==void 0&&s===void 0;C.useEffect(()=>{function O(R){if(d.current&&h){const T=R.clientX-d.current.getBoundingClientRect().left;a(T)}}function L(R){if(r!==void 0&&d.current){const{clientX:T,clientY:E}=R,k=d.current,B=T-k.getBoundingClientRect().left;l({offsetX:B,clientX:T,clientY:E}),u(void 0)}}return h?(window.addEventListener("mousemove",O),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",L)}):()=>{}},[r,h,s]),C.useEffect(()=>{!h&&i!==void 0&&r!==void 0&&Math.abs(i-r)<=3&&b()},[h,i,r,e.colWidth]);function g(O){O.preventDefault(),O.stopPropagation();const L=O.clientX-O.target.getBoundingClientRect().left;o(L),a(L)}function v(O){const L=O.target;u(O.clientX-L.getBoundingClientRect().left)}function m(){u(void 0),e.clearAnnotPos()}function b(){l(void 0),o(void 0),a(void 0)}function x(O,L){L(),b()}if(r===void 0)return ke.createElement(ke.Fragment,null,c!==void 0?ke.createElement(Zot,{model:e,coordX:c}):null,ke.createElement("div",{"data-testid":"rubberband_controls",className:p.rubberbandControl,role:"presentation",ref:d,onMouseDown:g,onMouseOut:m,onMouseMove:v},t));const y=s?s.offsetX:i||0,w=y<r?y:r,_=Math.abs(y-r),S=e.pxToBp(w),P=e.pxToBp(w+_),M=Math.ceil(_/e.colWidth),I=[{label:"Create annotation",icon:jz,onClick:()=>{e.setOffsets(S,P),b()}}];return ke.createElement(ke.Fragment,null,f.current?ke.createElement(ke.Fragment,null,ke.createElement(wA,{className:p.popover,classes:{paper:p.paper},open:!0,anchorEl:f.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},ke.createElement(On,null,S+1)),ke.createElement(wA,{className:p.popover,classes:{paper:p.paper},open:!0,anchorEl:f.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},ke.createElement(On,null,P+1))):null,ke.createElement("div",{ref:f,className:p.rubberband,style:{left:w+n,width:_}},ke.createElement(On,{variant:"h6",className:p.rubberbandText},M.toLocaleString("en-US")," bp")),ke.createElement("div",{"data-testid":"rubberband_controls",className:p.rubberbandControl,role:"presentation",ref:d,onMouseDown:g,onMouseOut:m,onMouseMove:v},t),s?ke.createElement(Ca.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:s.clientX,top:s.clientY},onMenuItemClick:x,open:!!s,onClose:b,menuItems:I}):null)}const eit=Wn(Jot);var W7=!1,Nh,w5,_5,JP,eM,gle,tM,S5,C5,P5,vle,M5,A5,ble,yle;function Da(){if(!W7){W7=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(M5=/\b(iPhone|iP[ao]d)/.exec(e),A5=/\b(iP[ao]d)/.exec(e),P5=/Android/i.exec(e),ble=/FBAN\/\w+;/i.exec(e),yle=/Mobile/i.exec(e),vle=!!/Win64/.exec(e),t){Nh=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Nh&&document&&document.documentMode&&(Nh=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);gle=r?parseFloat(r[1])+4:Nh,w5=t[2]?parseFloat(t[2]):NaN,_5=t[3]?parseFloat(t[3]):NaN,JP=t[4]?parseFloat(t[4]):NaN,JP?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),eM=t&&t[1]?parseFloat(t[1]):NaN):eM=NaN}else Nh=w5=_5=eM=JP=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);tM=o?parseFloat(o[1].replace("_",".")):!0}else tM=!1;S5=!!n[2],C5=!!n[3]}else tM=S5=C5=!1}}var E5={ie:function(){return Da()||Nh},ieCompatibilityMode:function(){return Da()||gle>Nh},ie64:function(){return E5.ie()&&vle},firefox:function(){return Da()||w5},opera:function(){return Da()||_5},webkit:function(){return Da()||JP},safari:function(){return E5.webkit()},chrome:function(){return Da()||eM},windows:function(){return Da()||S5},osx:function(){return Da()||tM},linux:function(){return Da()||C5},iphone:function(){return Da()||M5},mobile:function(){return Da()||M5||A5||P5||yle},nativeApp:function(){return Da()||ble},android:function(){return Da()||P5},ipad:function(){return Da()||A5}},tit=E5,s2=!!(typeof window<"u"&&window.document&&window.document.createElement),nit={canUseDOM:s2,canUseWorkers:typeof Worker<"u",canUseEventListeners:s2&&!!(window.addEventListener||window.attachEvent),canUseViewport:s2&&!!window.screen,isInWorker:!s2},rit=nit,xle=rit,wle;xle.canUseDOM&&(wle=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function oit(e,t){if(!xle.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&wle&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var iit=oit,ait=tit,sit=iit,q7=10,X7=40,K7=800;function _le(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*q7,o=n*q7,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=X7,o*=X7):(r*=K7,o*=K7)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}_le.getEventType=function(){return ait.firefox()?"DOMMouseScroll":sit("wheel")?"wheel":"mousewheel"};var lit=_le,cit=lit;const zz=Pc(cit);function uit(e,t,n,r,o){Sle(e,t,n||0,r||e.length-1,o||dit)}function Sle(e,t,n,r,o){for(;r>n;){if(r-n>600){var i=r-n+1,a=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1),u=Math.max(n,Math.floor(t-a*l/i+c)),d=Math.min(r,Math.floor(t+(i-a)*l/i+c));Sle(e,t,u,d,o)}var f=e[t],p=n,h=r;for(e1(e,n,t),o(e[r],f)>0&&e1(e,n,r);p<h;){for(e1(e,p,h),p++,h--;o(e[p],f)<0;)p++;for(;o(e[h],f)>0;)h--}o(e[n],f)===0?e1(e,n,h):(h++,e1(e,h,r)),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function e1(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function dit(e,t){return e<t?-1:e>t?1:0}class Cle{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!c2(t,n))return r;const o=this.toBBox,i=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],l=n.leaf?o(s):s;c2(t,l)&&(n.leaf?r.push(s):CL(t,l)?this._all(s,r):i.push(s))}n=i.pop()}return r}collides(t){let n=this.data;if(!c2(t,n))return!1;const r=[];for(;n;){for(let o=0;o<n.children.length;o++){const i=n.children[o],a=n.leaf?this.toBBox(i):i;if(c2(t,a)){if(n.leaf||CL(t,a))return!0;r.push(i)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=pv([]),this}remove(t,n){if(!t)return this;let r=this.data;const o=this.toBBox(t),i=[],a=[];let s,l,c;for(;r||i.length;){if(r||(r=i.pop(),l=i[i.length-1],s=a.pop(),c=!0),r.leaf){const u=fit(t,r.children,n);if(u!==-1)return r.children.splice(u,1),i.push(r),this._condense(i),this}!c&&!r.leaf&&CL(r,o)?(i.push(r),a.push(s),s=0,l=r,r=r.children[0]):l?(s++,r=l.children[s],c=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,o){const i=r-n+1;let a=this._maxEntries,s;if(i<=a)return s=pv(t.slice(n,r+1)),Rg(s,this.toBBox),s;o||(o=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,o-1))),s=pv([]),s.leaf=!1,s.height=o;const l=Math.ceil(i/a),c=l*Math.ceil(Math.sqrt(a));Y7(t,n,r,c,this.compareMinX);for(let u=n;u<=r;u+=c){const d=Math.min(u+c-1,r);Y7(t,u,d,l,this.compareMinY);for(let f=u;f<=d;f+=l){const p=Math.min(f+l-1,d);s.children.push(this._build(t,f,p,o-1))}}return Rg(s,this.toBBox),s}_chooseSubtree(t,n,r,o){for(;o.push(n),!(n.leaf||o.length-1===r);){let i=1/0,a=1/0,s;for(let l=0;l<n.children.length;l++){const c=n.children[l],u=SL(c),d=mit(t,c)-u;d<a?(a=d,i=u<i?u:i,s=c):d===a&&u<i&&(i=u,s=c)}n=s||n.children[0]}return n}_insert(t,n,r){const o=r?t:this.toBBox(t),i=[],a=this._chooseSubtree(o,this.data,n,i);for(a.children.push(t),H1(a,o);n>=0&&i[n].children.length>this._maxEntries;)this._split(i,n),n--;this._adjustParentBBoxes(o,i,n)}_split(t,n){const r=t[n],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);const a=this._chooseSplitIndex(r,i,o),s=pv(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,Rg(r,this.toBBox),Rg(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(r,s)}_splitRoot(t,n){this.data=pv([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Rg(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let o,i=1/0,a=1/0;for(let s=n;s<=r-n;s++){const l=z1(t,0,s,this.toBBox),c=z1(t,s,r,this.toBBox),u=git(l,c),d=SL(l)+SL(c);u<i?(i=u,o=s,a=d<a?d:a):u===i&&d<a&&(a=d,o=s)}return o||r-n}_chooseSplitAxis(t,n,r){const o=t.leaf?this.compareMinX:pit,i=t.leaf?this.compareMinY:hit,a=this._allDistMargin(t,n,r,o),s=this._allDistMargin(t,n,r,i);a<s&&t.children.sort(o)}_allDistMargin(t,n,r,o){t.children.sort(o);const i=this.toBBox,a=z1(t,0,n,i),s=z1(t,r-n,r,i);let l=l2(a)+l2(s);for(let c=n;c<r-n;c++){const u=t.children[c];H1(a,t.leaf?i(u):u),l+=l2(a)}for(let c=r-n-1;c>=n;c--){const u=t.children[c];H1(s,t.leaf?i(u):u),l+=l2(s)}return l}_adjustParentBBoxes(t,n,r){for(let o=r;o>=0;o--)H1(n[o],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():Rg(t[n],this.toBBox)}}function fit(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Rg(e,t){z1(e,0,e.children.length,t,e)}function z1(e,t,n,r,o){o||(o=pv(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let i=t;i<n;i++){const a=e.children[i];H1(o,e.leaf?r(a):a)}return o}function H1(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function pit(e,t){return e.minX-t.minX}function hit(e,t){return e.minY-t.minY}function SL(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function l2(e){return e.maxX-e.minX+(e.maxY-e.minY)}function mit(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function git(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return Math.max(0,o-n)*Math.max(0,i-r)}function CL(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function c2(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function pv(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Y7(e,t,n,r,o){const i=[t,n];for(;i.length;){if(n=i.pop(),t=i.pop(),n-t<=r)continue;const a=t+Math.ceil((n-t)/r/2)*r;uit(e,a,t,n,o),i.push(t,a,a,n)}}var Hz={};const Vz=C.createContext(void 0);function Zt(){const e=C.useContext(Vz);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const vit=()=>C.useRef({}),Ple=C.createContext(void 0),It=()=>{const e=C.useContext(Ple);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function Pn(e){return lt("MuiDataGrid",e)}const We=ut("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLinkOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","root","root--densityStandard","root--densityComfortable","root--densityCompact","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),bit=e=>{const{classes:t}=e;return Qe({root:["main"]},Pn,t)},yit=Ee("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"}));function Mle(e){const t=It(),n=bit(t);return N.jsx(yit,{className:n.root,ownerState:t,children:e.children})}function xit(e,t){var n=function(y){var w=y.__resizeTriggers__,_=w.firstElementChild,S=w.lastElementChild,P=_.firstElementChild;S.scrollLeft=S.scrollWidth,S.scrollTop=S.scrollHeight,P.style.width=_.offsetWidth+1+"px",P.style.height=_.offsetHeight+1+"px",_.scrollLeft=_.scrollWidth,_.scrollTop=_.scrollHeight},r=function(y){return y.offsetWidth!=y.__resizeLast__.width||y.offsetHeight!=y.__resizeLast__.height},o=function(y){if(!(y.target.className.indexOf("contract-trigger")<0&&y.target.className.indexOf("expand-trigger")<0)){var w=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame(function(){r(w)&&(w.__resizeLast__.width=w.offsetWidth,w.__resizeLast__.height=w.offsetHeight,w.__resizeListeners__.forEach(function(_){_.call(w,y)}))})}},i=!1,a="",s="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u="";{var d=document.createElement("fakeelement");if(d.style.animationName!==void 0&&(i=!0),i===!1){for(var f=0;f<l.length;f++)if(d.style[l[f]+"AnimationName"]!==void 0){u=l[f],a="-"+u.toLowerCase()+"-",s=c[f],i=!0;break}}}var p="resizeanim",h="@"+a+"keyframes "+p+" { from { opacity: 0; } to { opacity: 0; } } ",g=a+"animation: 1ms "+p+"; ",v=function(y,w){if(!w.getElementById("muiDetectElementResize")){var _=(h||"")+".Mui-resizeTriggers { "+(g||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',S=w.constructor.name==="ShadowRoot"?w:y.head||y.getElementsByTagName("head")[0],P=y.createElement("style");P.id="muiDetectElementResize",P.type="text/css",e!=null&&P.setAttribute("nonce",e),P.styleSheet?P.styleSheet.cssText=_:P.appendChild(y.createTextNode(_)),S.appendChild(P)}},m=function(y,w){if(!y.__resizeTriggers__){var _=y.ownerDocument,S=t.getComputedStyle(y);S&&S.position=="static"&&(y.style.position="relative"),v(_,y.getRootNode()),y.__resizeLast__={},y.__resizeListeners__=[],(y.__resizeTriggers__=_.createElement("div")).className="Mui-resizeTriggers",y.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',y.appendChild(y.__resizeTriggers__),n(y),y.addEventListener("scroll",o,!0),s&&(y.__resizeTriggers__.__animationListener__=function(M){M.animationName==p&&n(y)},y.__resizeTriggers__.addEventListener(s,y.__resizeTriggers__.__animationListener__))}y.__resizeListeners__.push(w)},b=function(y,w){if(y.__resizeListeners__.splice(y.__resizeListeners__.indexOf(w),1),!y.__resizeListeners__.length){y.removeEventListener("scroll",o,!0),y.__resizeTriggers__.__animationListener__&&(y.__resizeTriggers__.removeEventListener(s,y.__resizeTriggers__.__animationListener__),y.__resizeTriggers__.__animationListener__=null);try{y.__resizeTriggers__=!y.removeChild(y.__resizeTriggers__)}catch{}}};return{addResizeListener:m,removeResizeListener:b}}const wit=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"],Ale=C.forwardRef(function(t,n){const{children:r,defaultHeight:o=null,defaultWidth:i=null,disableHeight:a=!1,disableWidth:s=!1,nonce:l,onResize:c,style:u}=t,d=De(t,wit),[f,p]=C.useState({height:o,width:i}),h=C.useRef(null),g=C.useRef(null),v=Dn(()=>{if(g.current){const y=g.current.offsetHeight||0,w=g.current.offsetWidth||0,S=ei(g.current).getComputedStyle(g.current),P=parseInt(S.paddingLeft,10)||0,M=parseInt(S.paddingRight,10)||0,I=parseInt(S.paddingTop,10)||0,O=parseInt(S.paddingBottom,10)||0,L=y-I-O,R=w-P-M;(!a&&f.height!==L||!s&&f.width!==R)&&(p({height:L,width:R}),c&&c({height:L,width:R}))}});ar(()=>{var y;if(g.current=h.current.parentElement,!g)return;const w=ei((y=g.current)!=null?y:void 0),_=xit(l,w);return _.addResizeListener(g.current,v),v(),()=>{_.removeResizeListener(g.current,v)}},[l,v]);const m={overflow:"visible"},b={};a||(m.height=0,b.height=f.height),s||(m.width=0,b.width=f.width);const x=wn(h,n);return N.jsx("div",A({ref:x,style:A({},m,u)},d,{children:f.height===null&&f.width===null?null:r(b)}))}),Gs=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},Yp=(e,t)=>e;function _it(e){return e.acceptsApiRef}Gs(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);const Rt=(e,t)=>_it(t)?t(e):t(e.current.state);var kA="NOT_FOUND";function Sit(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:kA},put:function(r,o){t={key:r,value:o}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function Cit(e,t){var n=[];function r(s){var l=n.findIndex(function(u){return t(s,u.key)});if(l>-1){var c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return kA}function o(s,l){r(s)===kA&&(n.unshift({key:s,value:l}),n.length>e&&n.pop())}function i(){return n}function a(){n=[]}return{get:r,put:o,getEntries:i,clear:a}}var Pit=function(t,n){return t===n};function Mit(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var o=n.length,i=0;i<o;i++)if(!e(n[i],r[i]))return!1;return!0}}function Ele(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,o=r===void 0?Pit:r,i=n.maxSize,a=i===void 0?1:i,s=n.resultEqualityCheck,l=Mit(o),c=a===1?Sit(l):Cit(a,l);function u(){var d=c.get(arguments);if(d===kA){if(d=e.apply(null,arguments),s){var f=c.getEntries(),p=f.find(function(h){return s(h.value,d)});p&&(d=p.value)}c.put(arguments,d)}return d}return u.clearCache=function(){return c.clear()},u}function Ait(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Eit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var c=0,u,d={memoizeOptions:void 0},f=s.pop();if(typeof f=="object"&&(d=f,f=s.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var p=d,h=p.memoizeOptions,g=h===void 0?n:h,v=Array.isArray(g)?g:[g],m=Ait(s),b=e.apply(void 0,[function(){return c++,f.apply(null,arguments)}].concat(v)),x=e(function(){for(var w=[],_=m.length,S=0;S<_;S++)w.push(m[S].apply(null,arguments));return u=b.apply(null,w),u});return Object.assign(x,{resultFunc:f,memoizedResultFunc:b,dependencies:m,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),x};return o}var Tit=Eit(Ele);const fd={cache:null};Gs(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);const Nt=(...e)=>{fd.cache===null&&(fd.cache={});const t=(...n)=>{const[r,o]=n,i=!!r.current,a=i?r.current.instanceId:o??"default",s=i?r.current.state:r;fd.cache===null&&(fd.cache={});const{cache:l}=fd;if(l[a]&&l[a].get(e))return l[a].get(e)(s,a);const c=Tit(...e);return l[a]||(l[a]=new Map),l[a].set(e,c),c(s,a)};return t.acceptsApiRef=!0,t},Oit=e=>{typeof e<"u"?fd.cache&&fd.cache[e]&&delete fd.cache[e]:fd.cache=null},Oc=e=>e.rows,HS=Nt(Oc,e=>e.totalRowCount),Tle=Nt(Oc,e=>e.loading),Ole=Nt(Oc,e=>e.totalTopLevelRowCount),om=Nt(Oc,e=>e.idRowsLookup),H3=Nt(Oc,e=>e.idToIdLookup),yd=Nt(Oc,e=>e.tree),Ile=Nt(Oc,e=>e.groupingName),V3=Nt(Oc,e=>e.treeDepth),Kf=Nt(Oc,e=>e.ids),Iit=Nt(Oc,e=>e==null?void 0:e.additionalRowGroups),VS=Nt(Iit,e=>e==null?void 0:e.pinnedRows),kit=Nt(VS,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),U3=e=>e.sorting,G3=Nt(U3,e=>e.sortedRows),W3=Nt(G3,om,(e,t)=>e.map(n=>({id:n,model:t[n]}))),sl=Nt(U3,e=>e.sortModel),kle=Nt(sl,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{})),Mp=e=>e.columns,Ap=Nt(Mp,e=>e.all),Zp=Nt(Mp,e=>e.lookup),Ts=Nt(Ap,Zp,(e,t)=>e.map(n=>t[n])),du=Nt(Mp,e=>e.columnVisibilityModel),bi=Nt(Ts,du,(e,t)=>e.filter(n=>t[n.field]!==!1)),Rit=Nt(bi,e=>e.map(t=>t.field)),Ep=Nt(bi,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),US=Nt(bi,Ep,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),GS=Nt(Ts,e=>e.filter(t=>t.filterable)),Rle=Nt(Ts,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),Lit=Yp(Ap),$it=Yp(Ts),Dit=Yp(bi),Fit=Yp(GS),Nit=Yp(Nt(GS,e=>e.map(t=>t.field))),Bit=Yp(Nt(bi,e=>e.length)),Lle=Yp(Nt(Ep,US,(e,t)=>({totalWidth:t,positions:e}))),h0=e=>e.filter,ha=Nt(h0,e=>e.filterModel),$le=Nt(ha,e=>e.quickFilterValues),Dle=Nt(h0,e=>e.visibleRowsLookup),Uz=Nt(h0,e=>e.filteredRowsLookup),jit=Nt(h0,e=>e.filteredDescendantCountLookup),Fu=Nt(Dle,W3,(e,t)=>t.filter(n=>e[n.id]!==!1)),im=Nt(Fu,e=>e.map(t=>t.id)),Fle=Nt(Uz,W3,(e,t)=>t.filter(n=>e[n.id]!==!1)),Nle=Nt(Fle,e=>e.map(t=>t.id)),zit=im,Gz=Nt(Fu,yd,V3,(e,t,n)=>n<2?e:e.filter(r=>{var o;return((o=t[r.id])==null?void 0:o.depth)===0})),Wz=Nt(Fu,e=>e.length),qz=Nt(Gz,e=>e.length),Xz=Nt(ha,Zp,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var o,i;if(!r.columnField)return!1;const a=t[r.columnField];if(!(a!=null&&a.filterOperators)||(a==null||(o=a.filterOperators)==null?void 0:o.length)===0)return!1;const s=a.filterOperators.find(l=>l.value===r.operatorValue);return s?!s.InputComponent||r.value!=null&&((i=r.value)==null?void 0:i.toString())!=="":!1})}),Ble=Nt(Xz,e=>e.reduce((n,r)=>(n[r.columnField]?n[r.columnField].push(r):n[r.columnField]=[r],n),{})),Qp=e=>e.density,Kz=Nt(Qp,e=>e.value),m0=Nt(Qp,e=>e.rowHeight),Yz=Nt(Qp,e=>e.headerHeight),q3=Nt(Qp,e=>e.headerGroupingMaxDepth),jle=Nt(Qp,e=>e.factor),g0=Nt(Qp,e=>e.headerHeight*(1+e.headerGroupingMaxDepth));function Hit(e){var t,n;const r=Zt(),o=It(),i=Rt(r,g0),[a,s]=C.useState(()=>{var u,d;return(u=(d=r.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?u:null}),l=C.useCallback(()=>{var u,d;s((u=(d=r.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?u:null)},[r]);ar(()=>r.current.subscribeEvent("viewportInnerSizeChange",l),[r,l]);let c=(t=a==null?void 0:a.height)!=null?t:0;return o.autoHeight&&c===0&&(c="auto"),a?N.jsx("div",A({style:{height:c,width:(n=a==null?void 0:a.width)!=null?n:0,position:"absolute",top:i,bottom:c==="auto"?0:void 0}},e)):null}function zle(){const e=Zt(),t=It(),n=Rt(e,HS),r=Rt(e,Wz),o=Rt(e,Tle),i=!o&&n===0,a=!o&&n>0&&r===0;let s=null;if(i){var l;s=N.jsx(t.components.NoRowsOverlay,A({},(l=t.componentsProps)==null?void 0:l.noRowsOverlay))}if(a){var c;s=N.jsx(t.components.NoResultsOverlay,A({},(c=t.componentsProps)==null?void 0:c.noResultsOverlay))}if(o){var u;s=N.jsx(t.components.LoadingOverlay,A({},(u=t.componentsProps)==null?void 0:u.loadingOverlay))}return s===null?null:N.jsx(Hit,{children:s})}function Hle(e){const{children:t,VirtualScrollerComponent:n,ColumnHeadersComponent:r}=e,o=Zt(),i=It(),a=Rt(o,g0),[s,l]=C.useState(i.disableVirtualization),c=C.useCallback(()=>{l(!0)},[]),u=C.useCallback(()=>{l(!1)},[]);C.useEffect(()=>{l(i.disableVirtualization)},[i.disableVirtualization]),o.current.unstable_disableVirtualization=c,o.current.unstable_enableVirtualization=u;const d=C.useRef(null),f=C.useRef(null),p=C.useRef(null),h=C.useRef(null);o.current.columnHeadersContainerElementRef=f,o.current.columnHeadersElementRef=d,o.current.windowRef=p,o.current.renderingZoneRef=h;const g=C.useCallback(v=>{o.current.publishEvent("resize",v)},[o]);return N.jsxs(Mle,{children:[N.jsx(zle,{}),N.jsx(r,{ref:f,innerRef:d}),N.jsx(Ale,{nonce:i.nonce,disableHeight:i.autoHeight,onResize:g,children:v=>{const m={width:v.width,height:v.height?v.height-a:"auto",marginTop:a};return N.jsx(n,{ref:p,style:m,disableVirtualization:s})}}),t]})}function yo(e,t){const n=C.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}class Vit extends C.Component{static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){this.props.api.current&&(this.logError(t),this.props.api.current.showError({error:t,errorInfo:n}))}logError(t,n){this.props.logger.error(`An unexpected error occurred. Error: ${t&&t.message}. `,t,n)}render(){var t;return this.props.hasError||(t=this.state)!=null&&t.hasError?this.props.render(this.state):this.props.children}}function Vle(e){const{children:t}=e,n=Zt(),r=yo(n,"GridErrorHandler"),o=It(),i=n.current.state.error;return N.jsx(Vit,{hasError:i!=null,api:n,logger:r,render:a=>{var s;return N.jsx(Mle,{children:N.jsx(o.components.ErrorOverlay,A({},a,i,(s=o.componentsProps)==null?void 0:s.errorOverlay))})},children:t})}function Ule(){var e;const t=Zt(),n=It(),r=C.useRef(null);return t.current.footerRef=r,n.hideFooter?null:N.jsx("div",{ref:r,children:N.jsx(n.components.Footer,A({},(e=n.componentsProps)==null?void 0:e.footer))})}function Gle(){var e;const t=Zt(),n=It(),r=C.useRef(null);return t.current.headerRef=r,N.jsx("div",{ref:r,children:N.jsx(n.components.Header,A({},(e=n.componentsProps)==null?void 0:e.header))})}var Di;(function(e){e.Cell="cell",e.Row="row"})(Di||(Di={}));var _n;(function(e){e.Edit="edit",e.View="view"})(_n||(_n={}));var Un;(function(e){e.Edit="edit",e.View="view"})(Un||(Un={}));const am={client:"client",server:"server"};var Zi;(function(e){e.And="and",e.Or="or"})(Zi||(Zi={}));var Qc;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(Qc||(Qc={}));var Xl;(function(e){e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(Xl||(Xl={}));var Jc;(function(e){e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown"})(Jc||(Jc={}));var Kl;(function(e){e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown"})(Kl||(Kl={}));var rc;(function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"})(rc||(rc={}));var T5;(function(e){e.resize="resize",e.debouncedResize="debouncedResize",e.viewportInnerSizeChange="viewportInnerSizeChange",e.componentError="componentError",e.unmount="unmount",e.cellModeChange="cellModeChange",e.cellClick="cellClick",e.cellDoubleClick="cellDoubleClick",e.cellMouseDown="cellMouseDown",e.cellMouseUp="cellMouseUp",e.cellKeyDown="cellKeyDown",e.cellFocusIn="cellFocusIn",e.cellFocusOut="cellFocusOut",e.cellDragEnter="cellDragEnter",e.cellDragOver="cellDragOver",e.editCellPropsChange="editCellPropsChange",e.cellEditCommit="cellEditCommit",e.cellEditStart="cellEditStart",e.cellEditStop="cellEditStop",e.cellModesModelChange="cellModesModelChange",e.rowModesModelChange="rowModesModelChange",e.rowEditStart="rowEditStart",e.rowEditStop="rowEditStop",e.rowEditCommit="rowEditCommit",e.cellNavigationKeyDown="cellNavigationKeyDown",e.rowClick="rowClick",e.rowDoubleClick="rowDoubleClick",e.rowMouseEnter="rowMouseEnter",e.rowMouseLeave="rowMouseLeave",e.editRowsModelChange="editRowsModelChange",e.rowDragStart="rowDragStart",e.rowDragOver="rowDragOver",e.rowDragEnd="rowDragEnd",e.columnHeaderBlur="columnHeaderBlur",e.columnHeaderFocus="columnHeaderFocus",e.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",e.columnHeaderKeyDown="columnHeaderKeyDown",e.columnHeaderClick="columnHeaderClick",e.columnHeaderDoubleClick="columnHeaderDoubleClick",e.columnHeaderOver="columnHeaderOver",e.columnHeaderOut="columnHeaderOut",e.columnHeaderEnter="columnHeaderEnter",e.columnHeaderLeave="columnHeaderLeave",e.columnHeaderDragStart="columnHeaderDragStart",e.columnHeaderDragOver="columnHeaderDragOver",e.columnHeaderDragEnter="columnHeaderDragEnter",e.columnHeaderDragEnd="columnHeaderDragEnd",e.selectionChange="selectionChange",e.headerSelectionCheckboxChange="headerSelectionCheckboxChange",e.rowSelectionCheckboxChange="rowSelectionCheckboxChange",e.pageChange="pageChange",e.pageSizeChange="pageSizeChange",e.rowGroupingModelChange="rowGroupingModelChange",e.aggregationModelChange="aggregationModelChange",e.rowsScroll="rowsScroll",e.rowsScrollEnd="rowsScrollEnd",e.columnSeparatorMouseDown="columnSeparatorMouseDown",e.columnResize="columnResize",e.columnWidthChange="columnWidthChange",e.columnResizeStart="columnResizeStart",e.columnResizeStop="columnResizeStop",e.columnOrderChange="columnOrderChange",e.rowOrderChange="rowOrderChange",e.rowsSet="rowsSet",e.rowExpansionChange="rowExpansionChange",e.sortedRowsSet="sortedRowsSet",e.filteredRowsSet="filteredRowsSet",e.columnsChange="columnsChange",e.detailPanelsExpandedRowIdsChange="detailPanelsExpandedRowIdsChange",e.pinnedColumnsChange="pinnedColumnsChange",e.activeStrategyProcessorChange="activeStrategyProcessorChange",e.strategyAvailabilityChange="strategyAvailabilityChange",e.sortModelChange="sortModelChange",e.filterModelChange="filterModelChange",e.columnVisibilityModelChange="columnVisibilityModelChange",e.stateChange="stateChange",e.columnVisibilityChange="columnVisibilityChange",e.virtualScrollerContentSizeChange="virtualScrollerContentSizeChange",e.virtualScrollerWheel="virtualScrollerWheel",e.virtualScrollerTouchMove="virtualScrollerTouchMove",e.preferencePanelClose="preferencePanelClose",e.preferencePanelOpen="preferencePanelOpen",e.menuOpen="menuOpen",e.menuClose="menuClose",e.renderedRowsIntervalChange="renderedRowsIntervalChange",e.fetchRows="fetchRows"})(T5||(T5={}));function Zz(e){return e.field!==void 0}const Qz=e=>e.focus,hl=Nt(Qz,e=>e.cell),Wle=Nt(Qz,e=>e.columnHeader),Jz=e=>e.tabIndex,pw=Nt(Jz,e=>e.cell),e6=Nt(Jz,e=>e.columnHeader),Uit=["align","children","colIndex","colDef","cellMode","field","formattedValue","hasFocus","height","isEditable","rowId","tabIndex","value","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onKeyDown","onDragEnter","onDragOver"];let PL;function Git(){return PL===void 0&&document.createElement("div").focus({get preventScroll(){return PL=!0,!1}}),PL}const Wit=e=>{const{align:t,showRightBorder:n,isEditable:r,classes:o}=e,i={root:["cell",`cell--text${Be(t)}`,r&&"cell--editable",n&&"withBorder"],content:["cellContent"]};return Qe(i,Pn,o)};function qle(e){const{align:t,children:n,colIndex:r,cellMode:o,field:i,formattedValue:a,hasFocus:s,height:l,isEditable:c,rowId:u,tabIndex:d,value:f,width:p,className:h,showRightBorder:g,colSpan:v,disableDragEvents:m,onClick:b,onDoubleClick:x,onMouseDown:y,onMouseUp:w,onKeyDown:_,onDragEnter:S,onDragOver:P}=e,M=De(e,Uit),I=a??f,O=C.useRef(null),L=C.useRef(null),R=Zt(),T=It(),E={align:t,showRightBorder:g,isEditable:c,classes:T.classes},k=Wit(E),B=C.useCallback(G=>ie=>{const Y=R.current.getCellParams(u,i||"");R.current.publishEvent(G,Y,ie),w&&w(ie)},[R,i,w,u]),$=C.useCallback(G=>ie=>{const Y=R.current.getCellParams(u,i||"");R.current.publishEvent(G,Y,ie),y&&y(ie)},[R,i,y,u]),j=C.useCallback((G,ie)=>Y=>{if(!Y.currentTarget.contains(Y.target)||!R.current.getRow(u))return;const le=R.current.getCellParams(u,i||"");R.current.publishEvent(G,le,Y),ie&&ie(Y)},[R,i,u]),V={minWidth:p,maxWidth:p,minHeight:l,maxHeight:l==="auto"?"none":l};C.useEffect(()=>{if(!s||o===_n.Edit)return;const G=Kn(R.current.rootElementRef.current);if(O.current&&!O.current.contains(G.activeElement)){const ie=O.current.querySelector('[tabindex="0"]'),Y=L.current||ie||O.current;if(Git())Y.focus({preventScroll:!0});else{const le=R.current.getScrollPosition();Y.focus(),R.current.scroll(le)}}},[s,o,R]);let q=M.onFocus;const H=R.current.getColumn(i).type==="actions",X=()=>{if(n==null){const G=I==null?void 0:I.toString();return N.jsx("div",{title:G,className:k.content,children:G})}return C.isValidElement(n)&&H?C.cloneElement(n,{focusElementRef:L}):n},J=m?null:{onDragEnter:j("cellDragEnter",S),onDragOver:j("cellDragOver",P)};return N.jsx("div",A({ref:O,className:Ne(h,k.root),role:"cell","data-field":i,"data-colindex":r,"aria-colindex":r+1,"aria-colspan":v,style:V,tabIndex:(o==="view"||!c)&&!H?d:-1,onClick:j("cellClick",b),onDoubleClick:j("cellDoubleClick",x),onMouseDown:$("cellMouseDown"),onMouseUp:B("cellMouseUp"),onKeyDown:j("cellKeyDown",_)},J,M,{onFocus:q,children:X()}))}const qit=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"],Xit=e=>{const{classes:t}=e;return Qe({root:["booleanCell"]},Pn,t)},Kit=e=>{const{value:t}=e,n=De(e,qit),r=Zt(),o=It(),i={classes:o.classes},a=Xit(i),s=C.useMemo(()=>t?o.components.BooleanCellTrueIcon:o.components.BooleanCellFalseIcon,[o.components.BooleanCellFalseIcon,o.components.BooleanCellTrueIcon,t]);return N.jsx(s,A({fontSize:"small",className:a.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))},Xle=C.memo(Kit),Kle=e=>e.rowNode.isAutoGenerated?"":N.jsx(Xle,A({},e)),Yit=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Zit=e=>{const{classes:t}=e;return Qe({root:["editBooleanCell"]},Pn,t)};function Yle(e){var t;const{id:n,value:r,field:o,className:i,hasFocus:a,onValueChange:s}=e,l=De(e,Yit),c=Zt(),u=C.useRef(null),d=fr(),[f,p]=C.useState(r),h=It(),g={classes:h.classes},v=Zit(g),m=C.useCallback(async b=>{const x=b.target.checked;s&&await s(b,x),p(x),await c.current.setEditCellValue({id:n,field:o,value:x},b)},[c,o,n,s]);return C.useEffect(()=>{p(r)},[r]),ar(()=>{a&&u.current.focus()},[a]),N.jsx("label",A({htmlFor:d,className:Ne(v.root,i)},l,{children:N.jsx(h.components.BaseCheckbox,A({id:d,inputRef:u,checked:!!f,onChange:m,size:"small"},(t=h.componentsProps)==null?void 0:t.baseCheckbox))}))}const Zle=e=>N.jsx(Yle,A({},e)),Qit=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","inputProps","isValidating","isProcessingProps","onValueChange"],Jit=Ee(rg)({fontSize:"inherit"}),eat=e=>{const{classes:t}=e;return Qe({root:["editInputCell"]},Pn,t)};function Qle(e){const{id:t,value:n,field:r,colDef:o,hasFocus:i,inputProps:a,onValueChange:s}=e,l=De(e,Qit),c=o.type==="dateTime",u=Zt(),d=C.useRef(),f=C.useMemo(()=>{let x;n==null?x=null:n instanceof Date?x=n:x=new Date((n??"").toString());let y;return x==null||Number.isNaN(x.getTime())?y="":y=new Date(x.getTime()-x.getTimezoneOffset()*60*1e3).toISOString().substr(0,c?16:10),{parsed:x,formatted:y}},[n,c]),[p,h]=C.useState(f),v={classes:It().classes},m=eat(v),b=C.useCallback(async x=>{const y=x.target.value;let w;if(y==="")w=null;else{const[_,S]=y.split("T"),[P,M,I]=_.split("-");if(w=new Date,w.setFullYear(Number(P),Number(M)-1,Number(I)),w.setHours(0,0,0,0),S){const[O,L]=S.split(":");w.setHours(Number(O),Number(L),0,0)}}s&&await s(x,w),h({parsed:w,formatted:y}),u.current.setEditCellValue({id:t,field:r,value:w},x)},[u,r,t,s]);return C.useEffect(()=>{h(x=>{var y,w;return f.parsed!==x.parsed&&((y=f.parsed)==null?void 0:y.getTime())!==((w=x.parsed)==null?void 0:w.getTime())?f:x})},[f]),ar(()=>{i&&d.current.focus()},[i]),N.jsx(Jit,A({inputRef:d,fullWidth:!0,className:m.root,type:c?"datetime-local":"date",inputProps:A({max:c?"9999-12-31T23:59":"9999-12-31"},a),value:p.formatted,onChange:b},l))}const t6=e=>N.jsx(Qle,A({},e)),Jle=an(N.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ece=an(N.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),O5=an(N.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),I5=an(N.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),tce=an(N.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),nce=an(N.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),rce=an(N.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),tat=an(N.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),nat=an(N.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),oce=an(N.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),ice=an(N.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),ace=an(N.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),sce=an(N.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),lce=an(N.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),cce=an(N.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),nM=an(N.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),n6=an(N.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),uce=an(N.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),X3=an(N.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),r6=an(N.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),dce=an(N.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),fce=an(N.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),pce=an(N.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");function Yf(e){return typeof e=="object"&&e!==null?e.value:e}function RA(e,t){if(t===void 0)return;const n=t.find(r=>{const o=Yf(r);return String(o)===String(e)});return Yf(n)}const rat=["item","applyValue","type","apiRef","focusElementRef"],oat=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(a=>{const s=typeof a=="object",l=s?a.value:a,c=s?a.value:a,u=t&&a!==""?t({value:a,field:n,api:r}):a,d=s?a.label:u;return N.jsx(o,{value:c,children:d},l)}),o6=500;function ec(e){var t,n,r,o,i;const{item:a,applyValue:s,type:l,apiRef:c,focusElementRef:u}=e,d=De(e,rat),f=C.useRef(),[p,h]=C.useState((t=a.value)!=null?t:""),[g,v]=C.useState(!1),m=fr(),b=It(),y=(r=(((n=b.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,w=l==="singleSelect"?{select:!0,SelectProps:A({native:y},(o=b.componentsProps)==null?void 0:o.baseSelect),children:oat(c.current.getColumn(a.columnField),c.current,y?"option":dr)}:{},_=C.useCallback(P=>{let M=P.target.value;if(l==="singleSelect"){const I=c.current.getColumn(a.columnField),O=typeof I.valueOptions=="function"?I.valueOptions({field:I.field}):I.valueOptions;M=RA(M,O)}clearTimeout(f.current),h(String(M)),v(!0),f.current=setTimeout(()=>{s(A({},a,{value:M})),v(!1)},o6)},[c,s,a,l]);C.useEffect(()=>()=>{clearTimeout(f.current)},[]),C.useEffect(()=>{var P;const M=(P=a.value)!=null?P:"";h(String(M))},[a.value]);const S=g?{endAdornment:N.jsx(X3,{})}:d.InputProps;return N.jsx(b.components.BaseTextField,A({id:m,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:_,variant:"standard",type:l||"text",InputProps:S,InputLabelProps:{shrink:!0},inputRef:u},w,d,(i=b.componentsProps)==null?void 0:i.baseTextField))}const iat=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue","isValidating","debounceMs","isProcessingProps","onValueChange"],aat=e=>{const{classes:t}=e;return Qe({root:["editInputCell"]},Pn,t)},sat=Ee(rg,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>A({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),hce=C.forwardRef((e,t)=>{var n,r;const o=It(),{id:i,value:a,field:s,colDef:l,hasFocus:c,debounceMs:u=(n=o.experimentalFeatures)!=null&&n.newEditingApi?200:o6,isProcessingProps:d,onValueChange:f}=e,p=De(e,iat),h=Zt(),g=C.useRef(),[v,m]=C.useState(a),b=aat(o),x=C.useCallback(async w=>{var _;const S=w.target.value;f&&await f(w,S);const P=h.current.getColumn(s);let M=S;P.valueParser&&(_=o.experimentalFeatures)!=null&&_.newEditingApi&&(M=P.valueParser(S,h.current.getCellParams(i,s))),m(M),h.current.setEditCellValue({id:i,field:s,value:M,debounceMs:u,unstable_skipValueParser:!0},w)},[h,u,s,i,f,(r=o.experimentalFeatures)==null?void 0:r.newEditingApi]),y=h.current.unstable_getEditCellMeta?h.current.unstable_getEditCellMeta(i,s):{};return C.useEffect(()=>{y.changeReason!=="debouncedSetEditCellValue"&&m(a)},[y.changeReason,a]),ar(()=>{c&&g.current.focus()},[c]),N.jsx(sat,A({ref:t,inputRef:g,className:b.root,ownerState:o,fullWidth:!0,type:l.type==="number"?l.type:"text",value:v??"",onChange:x,endAdornment:d?N.jsx(X3,{}):void 0},p))}),mce=e=>N.jsx(hce,A({},e)),i6=e=>e==="Escape",gce=e=>e==="Enter",K3=e=>e==="Tab",vce=e=>e===" ",lat=e=>e.indexOf("Arrow")===0,cat=e=>e==="Home"||e==="End",uat=e=>e.indexOf("Page")===0,k5=e=>e==="Delete"||e==="Backspace";function Y3(e){return e.key.length===1&&e.ctrlKey===!1&&e.metaKey===!1}const dat=["Enter","Escape","Tab"],fat=["Enter","Tab"],pat=e=>gce(e.key)||k5(e.key)||Y3(e),hat=e=>dat.indexOf(e)>-1,Z7=e=>fat.indexOf(e)>-1,WS=e=>cat(e)||lat(e)||uat(e)||vce(e),R5=e=>!!e.key,a6=e=>K3(e)||i6(e),mat=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],gat=(e,t)=>{const n=typeof e=="object",r=n?e.value:e,o=n?e.value:e,i=n?e.label:e;return N.jsx(t,{value:o,children:i},r)};function vat(e){return!!e.key}function bce(e){var t,n,r;const o=It(),{id:i,value:a,api:s,field:l,row:c,colDef:u,hasFocus:d,error:f,onValueChange:p,initialOpen:h=o.editMode===Di.Cell}=e,g=De(e,mat),v=Zt(),m=C.useRef(),b=C.useRef(),[x,y]=C.useState(h),_=(n=(((t=o.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1;let S;typeof u.valueOptions=="function"?S=u.valueOptions({id:i,row:c,field:l}):S=u.valueOptions,u.valueFormatter&&(S=S.map(O=>{if(typeof O=="object")return O;const L={field:l,api:s,value:O};return{value:O,label:String(u.valueFormatter(L))}}));const P=async O=>{var L;y(!1);const R=O.target,T=RA(R.value,S);p&&await p(O,T);const E=await v.current.setEditCellValue({id:i,field:l,value:T},O);if((L=o.experimentalFeatures)!=null&&L.newEditingApi||o.editMode===Di.Row||E===!1)return;if(await Promise.resolve(v.current.commitCellChange({id:i,field:l},O))&&(v.current.setCellMode(i,l,"view"),O.key)){const B=v.current.getCellParams(i,l);v.current.publishEvent("cellNavigationKeyDown",B,O)}},M=(O,L)=>{if(o.editMode===Di.Row){y(!1);return}if(L==="backdropClick"||i6(O.key)){var R;(R=o.experimentalFeatures)!=null&&R.newEditingApi?v.current.stopCellEditMode({id:i,field:l,ignoreModifications:!0}):v.current.setCellMode(i,l,"view")}},I=O=>{vat(O)&&O.key==="Enter"||y(!0)};return ar(()=>{d&&b.current.focus()},[d]),N.jsx(o.components.BaseSelect,A({ref:m,inputRef:b,value:a,onChange:P,open:x,onOpen:I,MenuProps:{onClose:M},error:f,native:_,fullWidth:!0},g,(r=o.componentsProps)==null?void 0:r.baseSelect,{children:S.map(O=>gat(O,_?"option":dr))}))}const yce=e=>N.jsx(bce,A({},e)),bat=["open","target","onClickAway","children","position","className","onExited"],yat=e=>{const{classes:t}=e;return Qe({root:["menu"]},Pn,t)},xat=Ee(Vp,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${We.menuList}`]:{outline:0}})),wat={"bottom-start":"top left","bottom-end":"top right"},qS=e=>{var t;const{open:n,target:r,onClickAway:o,children:i,position:a,className:s,onExited:l}=e,c=De(e,bat),u=Zt(),d=C.useRef(r),f=C.useRef(n),p=It(),h=yat(p);C.useEffect(()=>{f.current&&d.current&&d.current.focus();const v=n?"menuOpen":"menuClose";u.current.publishEvent(v,{target:r}),f.current=n,d.current=r},[u,n,r]);const g=v=>m=>{v&&v(),l&&l(m)};return N.jsx(xat,A({as:p.components.BasePopper,className:Ne(s,h.root),ownerState:p,open:n,anchorEl:r,transition:!0,placement:a},c,(t=p.componentsProps)==null?void 0:t.basePopper,{children:({TransitionProps:v,placement:m})=>N.jsx(WT,{onClickAway:o,mouseEvent:"onMouseDown",children:N.jsx(Xb,A({},v,{style:{transformOrigin:wat[m]},onExited:g(v==null?void 0:v.onExited),children:N.jsx(sa,{children:i})}))})}))},_at=["colDef","id","api","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","getValue","tabIndex","position","focusElementRef"],Sat=e=>typeof e.getActions=="function",xce=e=>{const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:i="bottom-end",focusElementRef:a}=e,s=De(e,_at),[l,c]=C.useState(-1),[u,d]=C.useState(!1),f=Zt(),p=C.useRef(null),h=C.useRef(null),g=C.useRef(!1),v=C.useRef({}),m=fr(),b=fr(),x=It();if(C.useLayoutEffect(()=>{r||Object.entries(v.current).forEach(([T,E])=>{E==null||E.stop({},()=>{delete v.current[T]})})},[r]),C.useEffect(()=>{if(l<0||!p.current||l>=p.current.children.length)return;p.current.children[l].focus({preventScroll:!0})},[l]),C.useEffect(()=>{r||(c(-1),g.current=!1)},[r]),C.useImperativeHandle(a,()=>({focus(){g.current||c(0)}}),[]),!Sat(t))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const y=t.getActions(f.current.getRowParams(n)),w=y.filter(T=>!T.props.showInMenu),_=y.filter(T=>T.props.showInMenu),S=w.length+(_.length?1:0);C.useEffect(()=>{l>=S&&c(S-1)},[l,S]);const P=()=>{d(!0),c(S-1),g.current=!0},M=()=>{d(!1)},I=T=>E=>{v.current[T]=E},O=(T,E)=>k=>{c(T),g.current=!0,E&&E(k)},L=T=>{if(S<=1)return;let E=l;T.key==="ArrowRight"?E+=1:T.key==="ArrowLeft"&&(E-=1),!(E<0||E>=S)&&E!==l&&(T.preventDefault(),T.stopPropagation(),c(E))},R=T=>{T.key==="Tab"&&T.preventDefault(),["Tab","Enter","Escape"].includes(T.key)&&M()};return N.jsxs("div",A({role:"menu",ref:p,tabIndex:-1,className:We.actionsCell,onKeyDown:L},s,{children:[w.map((T,E)=>C.cloneElement(T,{key:E,touchRippleRef:I(E),onClick:O(E,T.props.onClick),tabIndex:l===E?o:-1})),_.length>0&&b&&N.jsx(io,{ref:h,id:b,"aria-label":f.current.getLocaleText("actionsCellMore"),"aria-controls":m,"aria-expanded":u?"true":void 0,"aria-haspopup":"true",role:"menuitem",size:"small",onClick:P,touchRippleRef:I(b),tabIndex:l===w.length?o:-1,children:N.jsx(x.components.MoreActionsIcon,{fontSize:"small"})}),_.length>0&&N.jsx(qS,{onClickAway:M,onClick:M,open:u,target:h.current,position:i,children:N.jsx(Xy,{id:m,className:We.menuList,onKeyDown:R,"aria-labelledby":b,variant:"menu",autoFocusItem:!0,children:_.map((T,E)=>C.cloneElement(T,{key:E}))})})]}))},wce=e=>N.jsx(xce,A({},e)),Cat=["label","icon","showInMenu","onClick"],Pat=C.forwardRef((e,t)=>{const{label:n,icon:r,showInMenu:o,onClick:i}=e,a=De(e,Cat),s=l=>{i&&i(l)};return o?N.jsxs(dr,A({ref:t},a,{onClick:i,children:[r&&N.jsx(qj,{children:r}),n]})):N.jsx(io,A({ref:t,size:"small",role:"menuitem","aria-label":n},a,{onClick:s,children:C.cloneElement(r,{fontSize:"small"})}))}),Mat=["field","align","width","contentWidth"],Aat=e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton",`cell--text${Be(t)}`]};return Qe(r,Pn,n)};function _ce(e){const{align:t,width:n,contentWidth:r}=e,o=De(e,Mat),a={classes:It().classes,align:t},s=Aat(a);return N.jsx("div",A({className:s.root,style:{width:n}},o,{children:N.jsx(wie,{width:`${r}%`})}))}const Eat=Ee("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${We.autoHeight}`]:t.autoHeight},{[`&.${We.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${We["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${We["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${We["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${We.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`& .${We.editBooleanCell}`]:t.editBooleanCell},{[`& .${We["cell--editing"]}`]:t["cell--editing"]},{[`& .${We["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${We["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${We["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${We["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${We.cell}`]:t.cell},{[`& .${We.cellContent}`]:t.cellContent},{[`& .${We.cellCheckbox}`]:t.cellCheckbox},{[`& .${We.cellSkeleton}`]:t.cellSkeleton},{[`& .${We.checkboxInput}`]:t.checkboxInput},{[`& .${We["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${We["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${We["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${We["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${We["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${We["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${We["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${We["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${We.columnHeader}`]:t.columnHeader},{[`& .${We.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${We.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${We.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${We["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${We["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${We.columnSeparator}`]:t.columnSeparator},{[`& .${We.filterIcon}`]:t.filterIcon},{[`& .${We.iconSeparator}`]:t.iconSeparator},{[`& .${We.menuIcon}`]:t.menuIcon},{[`& .${We.menuIconButton}`]:t.menuIconButton},{[`& .${We.menuOpen}`]:t.menuOpen},{[`& .${We.menuList}`]:t.menuList},{[`& .${We["row--editable"]}`]:t["row--editable"]},{[`& .${We["row--editing"]}`]:t["row--editing"]},{[`& .${We["row--dragging"]}`]:t["row--dragging"]},{[`& .${We.row}`]:t.row},{[`& .${We.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${We.rowReorderCell}`]:t.rowReorderCell},{[`& .${We["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${We.sortIcon}`]:t.sortIcon},{[`& .${We.withBorder}`]:t.withBorder},{[`& .${We.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${We.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${We.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${We["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=e.palette.mode==="light"?ls(Pt(e.palette.divider,1),.88):ss(Pt(e.palette.divider,1),.68);return A({flex:1,boxSizing:"border-box",position:"relative",border:`1px solid ${t}`,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",flexDirection:"column",[`&.${We.autoHeight}`]:{height:"auto",[`& .${We["row--lastVisible"]} .${We.cell}`]:{borderBottomColor:"transparent"}},[`& .${We["virtualScrollerContent--overflowed"]} .${We["row--lastVisible"]} .${We.cell}`]:{borderBottomColor:"transparent"},[`& .${We.columnHeader}, & .${We.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${We.columnHeader}:focus-within, & .${We.cell}:focus-within`]:{outline:`solid ${Pt(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${We.columnHeader}:focus, & .${We.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${We.columnHeaderCheckbox}, & .${We.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${We.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${We["columnHeader--sorted"]} .${We.iconButtonContainer}, & .${We["columnHeader--filtered"]} .${We.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${We.columnHeader}:not(.${We["columnHeader--sorted"]}) .${We.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${We.columnHeader}:not(.${We["columnHeader--sorted"]}):hover .${We.sortIcon}`]:{opacity:.5},[`& .${We.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${We.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${We["columnHeader--filledGroup"]} .${We.columnHeaderTitleContainer}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${We["columnHeader--filledGroup"]}.${We["columnHeader--showColumnBorder"]} .${We.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${We["columnHeader--filledGroup"]}.${We["columnHeader--showColumnBorder"]}`]:{borderBottom:`solid ${t} 1px`,boxSizing:"border-box"},[`& .${We.sortIcon}, & .${We.filterIcon}`]:{fontSize:"inherit"},[`& .${We["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${We["columnHeader--alignCenter"]} .${We.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${We["columnHeader--alignRight"]} .${We.columnHeaderDraggableContainer}, & .${We["columnHeader--alignRight"]} .${We.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${We["columnHeader--alignCenter"]} .${We.menuIcon}, & .${We["columnHeader--alignRight"]} .${We.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${We["columnHeader--alignRight"]} .${We.menuIcon}, & .${We["columnHeader--alignRight"]} .${We.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${We["columnHeader--moving"]}`]:{backgroundColor:e.palette.action.hover},[`& .${We.columnSeparator}`]:{position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},[`& .${We["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${We["columnSeparator--sideRight"]}`]:{right:-12},[`& .${We["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},[`&.${We["columnSeparator--resizing"]}`]:{color:e.palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${We.iconSeparator}`]:{color:"inherit"},[`& .${We.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`& .${We.columnHeader}:hover`]:{[`& .${We.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${We.menuIcon}`]:{width:"auto",visibility:"visible"}},[`.${We.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${We.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:Pt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:Pt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Pt(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${We.cell}`]:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t}`},[`& .${We.row}:not(.${We["row--dynamicHeight"]}) > .${We.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${We.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${We.cell}.${We["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${We["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${We["row--editing"]} .${We.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},[`& .${We.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${We.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${We.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${We.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${We.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:e.palette.action.disabledOpacity},[`& .${We["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${We.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`& .${We.withBorder}`]:{borderRight:`1px solid ${t}`},[`& .${We["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${We["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${We["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${We.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${We.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${We["columnHeader--dragging"]}, & .${We["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity},[`& .${We["row--dragging"]}`]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity,[`& .${We.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${We.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${We.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${We.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${We.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),Tat=["children","className"],Oat=e=>{const{autoHeight:t,density:n,classes:r}=e,o={root:["root",t&&"autoHeight",`root--density${Be(n)}`]};return Qe(o,Pn,r)},Sce=C.forwardRef(function(t,n){const r=It(),{children:o,className:i}=t,a=De(t,Tat),s=Zt(),l=Rt(s,bi),c=Rt(s,HS),u=Rt(s,Kz),d=Rt(s,q3),f=C.useRef(null),p=wn(f,n),h=Rt(s,kit),g=A({},r,{density:u}),v=Oat(g);s.current.rootElementRef=f;const[m,b]=C.useState(!1);return ar(()=>{b(!0)},[]),ar(()=>{m&&s.current.unstable_updateGridDimensionsRef()},[s,m]),m?N.jsx(Eat,A({ref:p,className:Ne(i,v.root),ownerState:g,role:"grid","aria-colcount":l.length,"aria-rowcount":d+1+h+c,"aria-multiselectable":!r.disableMultipleSelection,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},a,{children:o})):null}),Iat=["className"],kat=e=>{const{classes:t}=e;return Qe({root:["footerContainer"]},Pn,t)},Rat=Ee("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:`1px solid ${e.palette.mode==="light"?ls(Pt(e.palette.divider,1),.88):ss(Pt(e.palette.divider,1),.68)}`})),Cce=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,Iat),i=It(),a=kat(i);return N.jsx(Rat,A({ref:n,className:Ne(a.root,r),ownerState:i},o))}),Lat=["className"],$at=e=>{const{classes:t}=e;return Qe({root:["overlay"]},Pn,t)},Dat=Ee("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})(({theme:e})=>({position:"absolute",top:0,zIndex:4,width:"100%",height:"100%",pointerEvents:"none",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:Pt(e.palette.background.default,e.palette.action.disabledOpacity)})),XS=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,Lat),i=It(),a=$at(i);return N.jsx(Dat,A({ref:n,className:Ne(a.root,r),ownerState:i},o))}),Fat=["className","children"],Nat=e=>{const{classes:t}=e;return Qe({root:["toolbarContainer"]},Pn,t)},Bat=Ee("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",padding:e.spacing(.5,.5,0)})),Pce=C.forwardRef(function(t,n){const{className:r,children:o}=t,i=De(t,Fat),a=It(),s=Nat(a);return o?N.jsx(Bat,A({ref:n,className:Ne(r,s.root),ownerState:a},i,{children:o})):null}),jat=["className"],zat=e=>{const{classes:t}=e;return Qe({root:["iconButtonContainer"]},Pn,t)},Hat=Ee("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Mce=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,jat),i=It(),a=zat(i);return N.jsx(Hat,A({ref:n,className:Ne(a.root,r),ownerState:i},o))}),Vat=e=>{const{classes:t}=e;return Qe({icon:["sortIcon"]},Pn,t)};function Uat(e,t,n,r){let o;const i={};return t==="asc"?o=e.ColumnSortedAscendingIcon:t==="desc"?o=e.ColumnSortedDescendingIcon:(o=e.ColumnUnsortedIcon,i.sortingOrder=r),o?N.jsx(o,A({fontSize:"small",className:n},i)):null}function Gat(e){const{direction:t,index:n,sortingOrder:r}=e,o=Zt(),i=It(),a=A({},e,{classes:i.classes}),s=Vat(a),l=Uat(i.components,t,s.icon,r);if(!l)return null;const c=N.jsx(io,{tabIndex:-1,"aria-label":o.current.getLocaleText("columnHeaderSortIconLabel"),title:o.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",children:l});return N.jsxs(Mce,{children:[n!=null&&N.jsx(rO,{badgeContent:n,color:"default",children:c}),n==null&&c]})}const Ace=C.memo(Gat),Wat=e=>{const{classes:t,open:n}=e;return Qe({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},Pn,t)},qat=C.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:i}=e,a=Zt(),s=It(),l=A({},e,{classes:s.classes}),c=Wat(l),u=C.useCallback(d=>{d.preventDefault(),d.stopPropagation(),a.current.toggleColumnMenu(t.field)},[a,t.field]);return N.jsx("div",{className:c.root,children:N.jsx(io,{ref:i,tabIndex:-1,className:c.button,"aria-label":a.current.getLocaleText("columnMenuLabel"),title:a.current.getLocaleText("columnMenuLabel"),size:"small",onClick:u,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:o,children:N.jsx(s.components.ColumnMenuIcon,{fontSize:"small"})})})});function Ece({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:i,target:a,onExited:s}){const l=Zt(),c=l.current.getColumn(o),u=C.useCallback(d=>{d.stopPropagation(),l.current.hideColumnMenu()},[l]);return a?N.jsx(qS,{placement:`bottom-${c.align==="right"?"start":"end"}`,open:i,target:a,onClickAway:u,onExited:s,children:N.jsx(n,A({currentColumn:c,hideMenu:u,open:i,id:e,labelledby:t},r))}):null}function Xat(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Kat(e,t){return e.closest(`.${t}`)}function s6(e){return e.replace(/["\\]/g,"\\$&")}function Yat(e,t){return e.querySelector(`[role="columnheader"][data-field="${s6(t)}"]`)}function Tce(e){return`.${We.row}[data-id="${s6(String(e))}"]`}function Zat(e,t){return e.querySelector(Tce(t))}function Qat(e,{id:t,field:n}){const r=Tce(t),o=`.${We.cell}[data-field="${s6(n)}"]`,i=`${r} ${o}`;return e.querySelector(i)}const Jat=["className"],est=e=>{const{classes:t}=e;return Qe({root:["columnHeaderTitle"]},Pn,t)},tst=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})(({theme:e})=>({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium})),nst=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,Jat),i=It(),a=est(i);return N.jsx(tst,A({ref:n,className:Ne(a.root,r),ownerState:i},o))});function Oce(e){var t;const{label:n,description:r,columnWidth:o}=e,i=It(),a=C.useRef(null),[s,l]=C.useState("");return C.useEffect(()=>{if(!r&&a&&a.current){const c=Xat(a.current);l(c?n:"")}},[a,o,r,n]),N.jsx(i.components.BaseTooltip,A({title:r||s},(t=i.componentsProps)==null?void 0:t.baseTooltip,{children:N.jsx(nst,{ref:a,children:n})}))}const rst=["resizable","resizing","height","side"];var LA;(function(e){e.Left="left",e.Right="right"})(LA||(LA={}));const ost=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,i={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${Be(o)}`],icon:["iconSeparator"]};return Qe(i,Pn,r)};function ist(e){const{height:t,side:n=LA.Right}=e,r=De(e,rst),o=It(),i=A({},e,{side:n,classes:o.classes}),a=ost(i),s=C.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]);return N.jsx("div",A({className:a.root,style:{minHeight:t,opacity:o.showColumnRightBorder?0:1}},r,{onClick:s,children:N.jsx(o.components.ColumnResizeIcon,{className:a.icon})}))}const Ice=C.memo(ist),ast=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","disableHeaderSeparator"],kce=C.forwardRef(function(t,n){const{classes:r,columnMenuOpen:o,colIndex:i,height:a,isResizing:s,sortDirection:l,hasFocus:c,tabIndex:u,separatorSide:d,isDraggable:f,headerComponent:p,description:h,width:g,columnMenuIconButton:v=null,columnMenu:m=null,columnTitleIconButtons:b=null,headerClassName:x,label:y,resizable:w,draggableContainerProps:_,columnHeaderSeparatorProps:S,disableHeaderSeparator:P}=t,M=De(t,ast),I=Zt(),O=It(),L=C.useRef(null),[R,T]=C.useState(o),E=wn(L,n);let k="none";return l!=null&&(k=l==="asc"?"ascending":"descending"),C.useEffect(()=>{R||T(o)},[R,o]),C.useLayoutEffect(()=>{const B=I.current.state.columnMenu;if(c&&!B.open){const j=L.current.querySelector('[tabindex="0"]')||L.current;j==null||j.focus(),I.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[I,c]),N.jsxs("div",A({ref:E,className:Ne(r.root,x),style:{height:a,width:g,minWidth:g,maxWidth:g},role:"columnheader",tabIndex:u,"aria-colindex":i+1,"aria-sort":k,"aria-label":p==null?y:void 0},M,{children:[N.jsxs("div",A({className:r.draggableContainer,draggable:f},_,{children:[N.jsxs("div",{className:r.titleContainer,children:[N.jsx("div",{className:r.titleContainerContent,children:p!==void 0?p:N.jsx(Oce,{label:y,description:h,columnWidth:g})}),b]}),v]})),!P&&N.jsx(Ice,A({resizable:!O.disableColumnResize&&!!w,resizing:s,height:a,side:d},S)),m]}))}),sst=e=>{const{column:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:i,filterItemsCounter:a}=e,s=o!=null,l=a!=null&&a>0,c=t.type==="number",u={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",s&&"columnHeader--sorted",l&&"columnHeader--filtered",c&&"columnHeader--numeric",i&&"withBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Qe(u,Pn,n)};function Rce(e){var t,n,r,o,i;const{column:a,columnMenuOpen:s,colIndex:l,headerHeight:c,isResizing:u,isLastColumn:d,sortDirection:f,sortIndex:p,filterItemsCounter:h,hasFocus:g,tabIndex:v,extendRowFullWidth:m,disableReorder:b,separatorSide:x}=e,y=Zt(),w=It(),_=C.useRef(null),S=fr(),P=fr(),M=C.useRef(null),[I,O]=C.useState(s),{hasScrollX:L,hasScrollY:R}=(t=y.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},T=C.useMemo(()=>!w.disableColumnReorder&&!b&&!a.disableReorder,[w.disableColumnReorder,b,a.disableReorder]);let E;a.renderHeader&&(E=a.renderHeader(y.current.getColumnHeaderParams(a.field)));const B=d?!(d&&L&&!R)&&!m:w.showColumnRightBorder,$=A({},e,{classes:w.classes,showRightBorder:B}),j=sst($),V=C.useCallback(re=>ae=>{ae.currentTarget.contains(ae.target)&&y.current.publishEvent(re,y.current.getColumnHeaderParams(a.field),ae)},[y,a.field]),q=C.useMemo(()=>({onClick:V("columnHeaderClick"),onDoubleClick:V("columnHeaderDoubleClick"),onMouseOver:V("columnHeaderOver"),onMouseOut:V("columnHeaderOut"),onMouseEnter:V("columnHeaderEnter"),onMouseLeave:V("columnHeaderLeave"),onKeyDown:V("columnHeaderKeyDown"),onFocus:V("columnHeaderFocus"),onBlur:V("columnHeaderBlur")}),[V]),Q=C.useMemo(()=>T?{onDragStart:V("columnHeaderDragStart"),onDragEnter:V("columnHeaderDragEnter"),onDragOver:V("columnHeaderDragOver"),onDragEnd:V("columnHeaderDragEnd")}:{},[T,V]),H=C.useMemo(()=>({onMouseDown:V("columnSeparatorMouseDown")}),[V]);C.useEffect(()=>{I||O(s)},[I,s]);const X=C.useCallback(()=>{O(!1)},[]),J=!w.disableColumnMenu&&!a.disableColumnMenu&&N.jsx(qat,{column:a,columnMenuId:S,columnMenuButtonId:P,open:I,iconButtonRef:M}),G=N.jsx(Ece,{columnMenuId:S,columnMenuButtonId:P,field:a.field,open:s,target:M.current,ContentComponent:w.components.ColumnMenu,contentComponentProps:(n=w.componentsProps)==null?void 0:n.columnMenu,onExited:X}),ie=(r=a.sortingOrder)!=null?r:w.sortingOrder,Y=N.jsxs(C.Fragment,{children:[!w.disableColumnFilter&&N.jsx(w.components.ColumnHeaderFilterIconButton,A({field:a.field,counter:h},(o=w.componentsProps)==null?void 0:o.columnHeaderFilterIconButton)),a.sortable&&!a.hideSortIcons&&N.jsx(Ace,{direction:f,index:p,sortingOrder:ie})]});C.useLayoutEffect(()=>{const re=y.current.state.columnMenu;if(g&&!re.open){const pe=_.current.querySelector('[tabindex="0"]')||_.current;pe==null||pe.focus(),y.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[y,g]);const le=typeof a.headerClassName=="function"?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,te=(i=a.headerName)!=null?i:a.field;return N.jsx(kce,A({ref:_,classes:j,columnMenuOpen:s,colIndex:l,height:c,isResizing:u,sortDirection:f,hasFocus:g,tabIndex:v,separatorSide:x,isDraggable:T,headerComponent:E,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:J,columnTitleIconButtons:Y,headerClassName:le,label:te,resizable:!w.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:G,draggableContainerProps:Q,columnHeaderSeparatorProps:H},q))}const Rm=e=>e.preferencePanel;var Al;(function(e){e.filters="filters",e.columns="columns"})(Al||(Al={}));const lst=e=>{const{classes:t}=e;return Qe({icon:["filterIcon"]},Pn,t)};function Lce(e){var t;const{counter:n,field:r,onClick:o}=e,i=Zt(),a=It(),s=A({},e,{classes:a.classes}),l=lst(s),c=C.useCallback(d=>{d.preventDefault(),d.stopPropagation();const{open:f,openedPanelValue:p}=Rm(i.current.state);f&&p===Al.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),o&&o(i.current.getColumnHeaderParams(r),d)},[i,r,o]);if(!n)return null;const u=N.jsx(io,{onClick:c,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,children:N.jsx(a.components.ColumnFilteredIcon,{className:l.icon,fontSize:"small"})});return N.jsx(a.components.BaseTooltip,A({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(t=a.componentsProps)==null?void 0:t.baseTooltip,{children:N.jsxs(Mce,{children:[n>1&&N.jsx(rO,{badgeContent:n,color:"default",children:u}),n===1&&u]})}))}const cst=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","getValue","api"],ust=e=>{const{classes:t}=e;return Qe({root:["checkboxInput"]},Pn,t)},$ce=C.forwardRef(function(t,n){var r;const{field:o,id:i,value:a,rowNode:s,hasFocus:l,tabIndex:c}=t,u=De(t,cst),d=Zt(),f=It(),p={classes:f.classes},h=ust(p),g=C.useRef(null),v=C.useRef(),m=wn(g,n),b=d.current.getCellElement(i,o),x=S=>{const P={value:S.target.checked,id:i};d.current.publishEvent("rowSelectionCheckboxChange",P,S)};C.useLayoutEffect(()=>{c===0&&b&&(b.tabIndex=-1)},[b,c]),C.useEffect(()=>{if(l){var S;const P=(S=g.current)==null?void 0:S.querySelector("input");P==null||P.focus({preventScroll:!0})}else v.current&&v.current.stop({})},[l]);const y=C.useCallback(S=>{vce(S.key)&&S.stopPropagation(),WS(S.key)&&!S.shiftKey&&d.current.publishEvent("cellNavigationKeyDown",t,S)},[d,t]);if(s.position==="footer")return null;const w=d.current.isRowSelectable(i),_=d.current.getLocaleText(a?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return s.isPinned?null:N.jsx(f.components.BaseCheckbox,A({ref:m,tabIndex:c,checked:a,onChange:x,className:h.root,inputProps:{"aria-label":_},onKeyDown:y,disabled:!w,touchRippleRef:v},(r=f.componentsProps)==null?void 0:r.baseCheckbox,u))}),Dce=$ce,ys=e=>e.selection,Fce=Nt(ys,e=>e.length),Nce=Nt(ys,om,(e,t)=>new Map(e.map(n=>[n,t[n]]))),hw=Nt(ys,e=>e.reduce((t,n)=>(t[n]=n,t),{})),xg=e=>e.pagination,Hv=Nt(xg,e=>e.page),ub=Nt(xg,e=>e.pageSize),dst=Nt(xg,e=>e.pageCount),Z3=Nt(xg,yd,V3,Fu,Gz,(e,t,n,r,o)=>{const i=o.length,a=Math.min(e.pageSize*e.page,i-1),s=Math.min(a+e.pageSize-1,i-1);if(a===-1||s===-1)return null;if(n<2)return{firstRowIndex:a,lastRowIndex:s};const l=o[a],c=s-a+1,u=r.findIndex(p=>p.id===l.id);let d=u,f=0;for(;d<r.length&&f<=c;){const p=r[d],h=t[p.id].depth;(f<c||h>0)&&(d+=1),h===0&&(f+=1)}return{firstRowIndex:u,lastRowIndex:d-1}}),Bce=Nt(Fu,Z3,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),l6=Nt(im,Z3,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),fst=["field","colDef"],pst=e=>{const{classes:t}=e;return Qe({root:["checkboxInput"]},Pn,t)},jce=C.forwardRef(function(t,n){var r;const o=De(t,fst),[,i]=C.useState(!1),a=Zt(),s=It(),l={classes:s.classes},c=pst(l),u=Rt(a,e6),d=Rt(a,ys),f=Rt(a,im),p=Rt(a,l6),h=C.useMemo(()=>typeof s.isRowSelectable!="function"?d:d.filter(P=>a.current.getRow(P)?s.isRowSelectable(a.current.getRowParams(P)):!1),[a,s.isRowSelectable,d]),g=C.useMemo(()=>(!s.pagination||!s.checkboxSelectionVisibleOnly?f:p).reduce((M,I)=>(M[I]=!0,M),{}),[s.pagination,s.checkboxSelectionVisibleOnly,p,f]),v=C.useMemo(()=>h.filter(P=>g[P]).length,[h,g]),m=v>0&&v<Object.keys(g).length,b=v>0,x=P=>{const M={value:P.target.checked};a.current.publishEvent("headerSelectionCheckboxChange",M)},y=u!==null&&u.field===t.field?0:-1;C.useLayoutEffect(()=>{const P=a.current.getColumnHeaderElement(t.field);y===0&&P&&(P.tabIndex=-1)},[y,a,t.field]);const w=C.useCallback(P=>{P.key===" "&&a.current.publishEvent("headerSelectionCheckboxChange",{value:!b}),WS(P.key)&&!P.shiftKey&&a.current.publishEvent("columnHeaderNavigationKeyDown",t,P)},[a,t,b]),_=C.useCallback(()=>{i(P=>!P)},[]);C.useEffect(()=>a.current.subscribeEvent("selectionChange",_),[a,_]);const S=a.current.getLocaleText(b?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return N.jsx(s.components.BaseCheckbox,A({ref:n,indeterminate:m,checked:b,onChange:x,className:c.root,inputProps:{"aria-label":S},tabIndex:y,onKeyDown:w},(r=s.componentsProps)==null?void 0:r.baseCheckbox,o))}),zce=e=>{const{onClick:t}=e,n=Zt(),r=It(),o=C.useCallback(i=>{t(i),n.current.showPreferences(Al.columns)},[n,t]);return r.disableColumnSelector?null:N.jsx(dr,{onClick:o,children:n.current.getLocaleText("columnMenuShowColumns")})},Hce=e=>{const{column:t,onClick:n}=e,r=Zt(),o=It(),i=C.useCallback(a=>{n(a),r.current.showFilterPanel(t==null?void 0:t.field)},[r,t==null?void 0:t.field,n]);return o.disableColumnFilter||!(t!=null&&t.filterable)?null:N.jsx(dr,{onClick:i,children:r.current.getLocaleText("columnMenuFilter")})},hst=["hideMenu","currentColumn","open","id","labelledby","className","children"],Vce=C.forwardRef(function(t,n){const{hideMenu:r,open:o,id:i,labelledby:a,className:s,children:l}=t,c=De(t,hst),u=C.useCallback(d=>{K3(d.key)&&d.preventDefault(),a6(d.key)&&r(d)},[r]);return N.jsx(Xy,A({id:i,ref:n,className:Ne(We.menuList,s),"aria-labelledby":a,onKeyDown:u,autoFocus:o},c,{children:l}))}),mst=Gs(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),Uce=(e,t)=>t&&e.length>1?(mst(),[e[0]]):e,Q7=(e,t)=>n=>A({},n,{sorting:A({},n.sorting,{sortModel:Uce(e,t)})}),gst=e=>e==="desc",vst=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const r=gst(e.sort)?(...i)=>-1*n.sortComparator(...i):n.sortComparator;return{getSortCellParams:i=>({id:i,field:n.field,rowNode:t.current.getRowNode(i),value:t.current.getCellValue(i,n.field),api:t.current}),comparator:r}},bst=(e,t,n)=>e.reduce((r,o,i)=>{if(r!==0)return r;const a=t.params[i],s=n.params[i];return r=o.comparator(a.value,s.value,a,s),r},0),yst=(e,t)=>{const n=e.map(r=>vst(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(i=>i.getSortCellParams(o.id))})).sort((o,i)=>bst(n,o,i)).map(o=>o.node.id)},J7=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},c6=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,xst=new Intl.Collator,Gce=(e,t)=>{const n=c6(e,t);return n!==null?n:typeof e=="string"?xst.compare(e.toString(),t.toString()):e-t},u6=(e,t)=>{const n=c6(e,t);return n!==null?n:Number(e)-Number(t)},d6=(e,t)=>{const n=c6(e,t);return n!==null?n:e>t?1:e<t?-1:0};function wst(e){return typeof e=="number"}function Wce(e){return typeof e=="function"}function _st(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function rM(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const ry=(e,t,n)=>Math.max(t,Math.min(n,e));function pc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(!pc(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;for(let i=0;i<o.length;i+=1){const a=o[i];if(!pc(a[1],t.get(a[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let i=0;i<o.length;i+=1)if(!t.has(o[i][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let i=0;i<o;i+=1)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const i=n[o];if(!pc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Sst(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Cst(e,t,n){const r=Sst(e);return()=>t+(n-t)*r()}function qce(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Pst=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function f6(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:i,color:a,error:s,helperText:l,size:c,variant:u}=e,d=De(e,Pst),f={color:a,error:s,helperText:l,size:c,variant:u},[p,h]=C.useState(t.value||[]),g=fr(),v=It();C.useEffect(()=>{var b;const x=(b=t.value)!=null?b:[];h(x.map(String))},[t.value]);const m=C.useCallback((b,x)=>{h(x.map(String)),n(A({},t,{value:[...x]}))},[n,t]);return N.jsx(Fj,A({multiple:!0,freeSolo:!0,options:[],filterOptions:(b,x)=>{const{inputValue:y}=x;return y==null||y===""?[]:[y]},id:g,value:p,onChange:m,renderTags:(b,x)=>b.map((y,w)=>N.jsx(ZT,A({variant:"outlined",size:"small",label:y},x({index:w})))),renderInput:b=>{var x;return N.jsx(v.components.BaseTextField,A({},b,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:A({},b.InputLabelProps,{shrink:!0}),inputRef:i,type:r||"text"},f,(x=v.componentsProps)==null?void 0:x.baseTextField))}},d))}const Xce=e=>{if(!e)return null;const t=new RegExp(rM(e),"i");return({value:n})=>n!=null?t.test(n.toString()):!1},Kce=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(rM(n),"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:ec},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?r.compare(n,o.toString())===0:!1},InputComponent:ec},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${rM(n)}.*$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:ec},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${rM(n)}$`,"i");return({value:o})=>o!=null?r.test(o.toString()):!1},InputComponent:ec},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:o})=>o!=null?n.some(i=>r.compare(i,o.toString()||"")===0):!1},InputComponent:f6}],Dd={width:100,minWidth:50,maxWidth:1/0,hide:!1,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Gce,type:"string",align:"left",filterOperators:Kce(),renderEditCell:mce,getApplyQuickFilterFn:Xce},Q3="actions",Yce=A({},Dd,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:wce,getApplyQuickFilterFn:void 0}),Mst=["item","applyValue","apiRef","focusElementRef"];function Ast(e){var t,n,r,o;const{item:i,applyValue:a,apiRef:s,focusElementRef:l}=e,c=De(e,Mst),[u,d]=C.useState(i.value||""),f=It(),h=(n=(((t=f.componentsProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!0,g=h?"option":dr,v=C.useCallback(m=>{const b=m.target.value;d(b),a(A({},i,{value:b}))},[a,i]);return C.useEffect(()=>{d(i.value||"")},[i.value]),N.jsxs(f.components.BaseTextField,A({label:s.current.getLocaleText("filterPanelInputLabel"),value:u,onChange:v,select:!0,variant:"standard",SelectProps:A({native:h,displayEmpty:!0},(r=f.componentsProps)==null?void 0:r.baseSelect),InputLabelProps:{shrink:!0},inputRef:l},c,(o=f.componentsProps)==null?void 0:o.baseTextField,{children:[N.jsx(g,{value:"",children:s.current.getLocaleText("filterValueAny")}),N.jsx(g,{value:"true",children:s.current.getLocaleText("filterValueTrue")}),N.jsx(g,{value:"false",children:s.current.getLocaleText("filterValueFalse")})]}))}const Zce=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=e.value==="true";return({value:n})=>!!n===t},InputComponent:Ast}];function Est({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const p6=A({},Dd,{type:"boolean",align:"center",headerAlign:"center",renderCell:Kle,renderEditCell:Zle,sortComparator:u6,valueFormatter:Est,filterOperators:Zce(),getApplyQuickFilterFn:void 0,aggregable:!1}),id="__check__",v0=A({},p6,{field:id,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,valueGetter:e=>hw(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>N.jsx(jce,A({},e)),renderCell:e=>N.jsx(Dce,A({},e))}),Tst=["item","applyValue","type","apiRef","focusElementRef","InputProps"],Qce=500;function Eh(e){var t,n;const{item:r,applyValue:o,type:i,apiRef:a,focusElementRef:s,InputProps:l}=e,c=De(e,Tst),u=C.useRef(),[d,f]=C.useState((t=r.value)!=null?t:""),[p,h]=C.useState(!1),g=fr(),v=It(),m=C.useCallback(b=>{const x=b.target.value;clearTimeout(u.current),f(String(x)),h(!0),u.current=setTimeout(()=>{o(A({},r,{value:x})),h(!1)},Qce)},[o,r]);return C.useEffect(()=>()=>{clearTimeout(u.current)},[]),C.useEffect(()=>{var b;const x=(b=r.value)!=null?b:"";f(String(x))},[r.value]),N.jsx(v.components.BaseTextField,A({id:g,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:d,onChange:m,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:s,InputProps:A({},p?{endAdornment:N.jsx(X3,{})}:{},l,{inputProps:A({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31"},l==null?void 0:l.inputProps)})},c,(n=v.componentsProps)==null?void 0:n.baseTextField))}const Ost=/(\d+)-(\d+)-(\d+)/,Ist=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Lg(e,t,n,r){if(!e.value)return null;const[o,i,a,s,l]=e.value.match(n?Ist:Ost).slice(1).map(Number),c=new Date(o,i-1,a,s||0,l||0).getTime();return({value:u})=>{if(!u)return!1;const d=u instanceof Date?u:new Date(u.toString());if(r)return t(d.getTime(),c);const p=(u instanceof Date?new Date(d):d).setHours(n?d.getHours():0,n?d.getMinutes():0,0,0);return t(p,c)}}const h6=e=>[{value:"is",getApplyFilterFn:t=>Lg(t,(n,r)=>n===r,e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Lg(t,(n,r)=>n!==r,e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Lg(t,(n,r)=>n>r,e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Lg(t,(n,r)=>n>=r,e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Lg(t,(n,r)=>n<r,e,!e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Lg(t,(n,r)=>n<=r,e),InputComponent:Eh,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:t})=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:t})=>t!=null,requiresFilterValue:!1}];function Jce({value:e}){return e instanceof Date?e.toLocaleDateString():e??""}function eue({value:e}){return e instanceof Date?e.toLocaleString():e??""}const tue=A({},Dd,{type:"date",sortComparator:d6,valueFormatter:Jce,filterOperators:h6(),renderEditCell:t6,getApplyQuickFilterFn:void 0}),nue=A({},Dd,{type:"dateTime",sortComparator:d6,valueFormatter:eue,filterOperators:h6(!0),renderEditCell:t6,getApplyQuickFilterFn:void 0}),kf=e=>e==null?null:Number(e),rue=e=>e==null||Number.isNaN(e)||e===""?null:({value:t})=>kf(t)===kf(e),m6=()=>[{label:"=",value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>kf(t)===e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>kf(t)!==e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:kf(t)>e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:kf(t)>=e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:kf(t)<e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:({value:t})=>t==null?!1:kf(t)<=e.value,InputComponent:ec,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:({value:t})=>t!=null&&e.value.includes(Number(t)),InputComponent:f6,InputComponentProps:{type:"number"}}],kst=Yp(m6),oue=A({},Dd,{type:"number",align:"right",headerAlign:"right",sortComparator:u6,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>wst(e)?e.toLocaleString():e||"",filterOperators:m6(),getApplyQuickFilterFn:rue}),Rst=["item","applyValue","type","apiRef","focusElementRef"],Lst=({valueOptions:e,valueFormatter:t,field:n},r,o)=>(typeof e=="function"?["",...e({field:n})]:["",...e||[]]).map(a=>{const s=typeof a=="object",l=s?a.value:a,c=s?a.value:a,u=t&&a!==""?t({value:a,field:n,api:r}):a,d=s?a.label:u;return N.jsx(o,{value:c,children:d},l)});function L5(e){var t,n,r,o,i;const{item:a,applyValue:s,type:l,apiRef:c,focusElementRef:u}=e,d=De(e,Rst),[f,p]=C.useState((t=a.value)!=null?t:""),h=fr(),g=It(),m=(r=(((n=g.componentsProps)==null?void 0:n.baseSelect)||{}).native)!=null?r:!0,b=a.columnField?c.current.getColumn(a.columnField):null,x=C.useMemo(()=>{if(b!==null)return typeof b.valueOptions=="function"?b.valueOptions({field:b.field}):b.valueOptions},[b]),y=C.useCallback(w=>{let _=w.target.value;_=RA(_,x),p(String(_)),s(A({},a,{value:_}))},[s,a,x]);return C.useEffect(()=>{var w;let _;if(x!==void 0){if(_=RA(a.value,x),_!==a.value){s(A({},a,{value:_}));return}}else _=a.value;_=(w=_)!=null?w:"",p(String(_))},[a,x,s]),N.jsx(g.components.BaseTextField,A({id:h,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:y,variant:"standard",type:l||"text",InputLabelProps:{shrink:!0},inputRef:u,select:!0,SelectProps:A({native:m},(o=g.componentsProps)==null?void 0:o.baseSelect)},d,(i=g.componentsProps)==null?void 0:i.baseTextField,{children:Lst(c.current.getColumn(a.columnField),c.current,m?"option":dr)}))}const $st=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],Dst=(e,t)=>Yf(e)===Yf(t),Fst=kj();function iue(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:i,error:a,helperText:s,size:l,variant:c="standard"}=e,u=De(e,$st),d={color:i,error:a,helperText:s,size:l,variant:c},f=fr(),p=It(),h=t.columnField?r.current.getColumn(t.columnField):null,g=C.useMemo(()=>h!=null&&h.valueOptions?typeof h.valueOptions=="function"?h.valueOptions({field:h.field}):h.valueOptions:[],[h]),v=C.useMemo(()=>g==null?void 0:g.map(Yf),[g]),{valueFormatter:m,field:b}=r.current.getColumn(t.columnField),x=_=>typeof _=="object"?_.label:m&&_!==""?m({value:_,field:b,api:r.current}):_,y=C.useMemo(()=>Array.isArray(t.value)?g!==void 0?t.value.map(S=>{const P=Yf(S);return(v==null?void 0:v.findIndex(I=>I===P))||0}).filter(S=>S>=0).map(S=>g[S]):t.value:[],[t.value,g,v]);C.useEffect(()=>{(!Array.isArray(t.value)||y.length!==t.value.length)&&n(A({},t,{value:y.map(Yf)}))},[t,y,n]);const w=C.useCallback((_,S)=>{n(A({},t,{value:[...S.map(Yf)]}))},[n,t]);return N.jsx(Fj,A({multiple:!0,options:g,isOptionEqualToValue:Dst,filterOptions:Fst,id:f,value:y,onChange:w,renderTags:(_,S)=>_.map((P,M)=>N.jsx(ZT,A({variant:"outlined",size:"small",label:x(P)},S({index:M})))),renderInput:_=>{var S;return N.jsx(p.components.BaseTextField,A({},_,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:A({},_.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},d,(S=p.componentsProps)==null?void 0:S.baseTextField))}},u))}const Rf=e=>e==null||typeof e!="object"?e:e.value,aue=(e,t,n)=>{if(!e)return null;const{valueOptions:r,valueFormatter:o,field:i}=t,a=[Rf(e).toString()],s=typeof r=="function"?r({field:i}):r||[];return s&&s.forEach(l=>{let c,u;typeof l=="object"?(c=l.value,u=l.label):(c=l,o?u=o({value:l,field:i,api:n.current}):u=l),u.slice(0,e.length).toLowerCase()===e.toLowerCase()&&(a.includes(c)||a.push(c.toString()))}),({value:l})=>l!=null?a.includes(Rf(l).toString()):!1},sue=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Rf(t)===Rf(e.value),InputComponent:L5},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:({value:t})=>Rf(t)!==Rf(e.value),InputComponent:L5},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Rf);return({value:n})=>t.includes(Rf(n))},InputComponent:iue}],lue=A({},Dd,{type:"singleSelect",renderEditCell:yce,filterOperators:sue(),getApplyQuickFilterFn:aue}),mw="__default__",cue=()=>({string:Dd,number:oue,date:tue,dateTime:nue,boolean:p6,singleSelect:lue,[Q3]:Yce,[mw]:Dd}),uue=["maxWidth","minWidth","width","flex"],due=(e={})=>{const t=A({},cue());return Object.entries(e).forEach(([n,r])=>{t[n]?t[n]=A({},t[n],r):t[n]=A({},t[r.extendType||mw],r)}),t};function Nst({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r={all:{},frozenFields:[],freeze:i=>{const a=r.all[i];a&&a.frozen!==!0&&(r.all[i].frozen=!0,r.frozenFields.push(i))}};function o(){if(r.frozenFields.length===n.length)return;const i={min:{},max:{}};let a=e,s=t,l=0;r.frozenFields.forEach(c=>{a-=r.all[c].computedWidth,s-=r.all[c].flex});for(let c=0;c<n.length;c+=1){const u=n[c];if(r.all[u.field]&&r.all[u.field].frozen===!0)continue;let f=a/s*u.flex;f<u.minWidth?(l+=u.minWidth-f,f=u.minWidth,i.min[u.field]=!0):f>u.maxWidth&&(l+=u.maxWidth-f,f=u.maxWidth,i.max[u.field]=!0),r.all[u.field]={frozen:!1,computedWidth:f,flex:u.flex}}l<0?Object.keys(i.max).forEach(c=>{r.freeze(c)}):l>0?Object.keys(i.min).forEach(c=>{r.freeze(c)}):n.forEach(({field:c})=>{r.freeze(c)}),o()}return o(),r.all}const fue=(e,t)=>{const n={};let r=0,o=0;const i=[];e.all.forEach(s=>{const l=A({},e.lookup[s]);if(e.columnVisibilityModel[s]===!1)l.computedWidth=0;else{let c;l.flex&&l.flex>0?(r+=l.flex,c=0,i.push(l)):c=ry(l.width,l.minWidth,l.maxWidth),o+=c,l.computedWidth=c}n[s]=l});const a=Math.max(t-o,0);if(r>0&&t>0){const s=Nst({initialFreeSpace:a,totalFlexUnits:r,flexColumns:i});Object.keys(s).forEach(l=>{n[l].computedWidth=s[l].computedWidth})}return A({},e,{lookup:n})},Bst=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const i={},a=[];for(let u=0;u<n.length;u+=1){const d=n[u];e.lookup[d]&&(i[d]=!0,a.push(d))}const s=a.length===0?e.all:[...a,...e.all.filter(u=>!i[u])],l=A({},e.lookup);for(let u=0;u<o.length;u+=1){const d=o[u],f=A({},l[d],{hasBeenResized:!0});Object.entries(r[d]).forEach(([p,h])=>{f[p]=h===-1?1/0:h}),l[d]=f}return{all:s,lookup:l}},pue=(e,t)=>!t||!e[t]?e[mw]:e[t],hv=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:r,currentColumnVisibilityModel:o=du(e),shouldRegenColumnVisibilityModelFromColumns:i,keepOnlyColumnsToUpsert:a=!1})=>{var s,l,c,u;const d=!e.current.state.columns;let f;if(d)f={all:[],lookup:{}};else{const y=Mp(e.current.state);f={all:a?[]:[...y.all],lookup:A({},y.lookup)}}let p={};a&&!d&&(p=Object.keys(f.lookup).reduce((y,w)=>A({},y,{[w]:!1}),{}));const h={};t.forEach(y=>{const{field:w}=y;h[w]=!0,p[w]=!0;let _=f.lookup[w];_==null?(_=A({},pue(r,y.type),{field:w,hasBeenResized:!1}),f.all.push(w)):a&&f.all.push(w);let S=_.hasBeenResized;uue.forEach(P=>{y[P]!==void 0&&(S=!0,y[P]===-1&&(y[P]=1/0))}),f.lookup[w]=A({},_,{hide:y.hide==null?!1:y.hide},y,{hasBeenResized:S})}),a&&!d&&Object.keys(f.lookup).forEach(y=>{p[y]||delete f.lookup[y]});const g=A({},f.lookup),v=e.current.unstable_applyPipeProcessors("hydrateColumns",f);let m={};if(i){let y=!1;const w=A({},o);d?v.all.forEach(_=>{w[_]=!f.lookup[_].hide}):a&&Object.keys(w).forEach(_=>{v.lookup[_]||(delete w[_],y=!0)}),v.all.forEach(_=>{if(!h[_]&&g[_]===v.lookup[_])return;let S=o[_];S===void 0&&(d?S=!0:S=!!Mp(e.current.state).lookup[_]);const P=!v.lookup[_].hide;P!==S&&(y=!0,w[_]=P)}),y||d?m=w:m=o}else m=o;const b=Bst(v,n),x=A({},b,{columnVisibilityModel:m});return fue(x,(s=(l=(c=e.current).getRootDimensions)==null||(u=l.call(c))==null?void 0:u.viewportInnerSize.width)!=null?s:0)},eW=e=>t=>A({},t,{columns:e});function $5({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let i=e;for(let a=n;a<r;a+=1)if(o[a]){const l=o[a].id,c=t.current.unstable_getCellColSpanInfo(l,e);c&&c.spannedByColSpan&&(i=c.leftVisibleCellIndex)}return i}function jst({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:r,lastRowToRender:o,apiRef:i,visibleRows:a}){const s=Math.max(e-n,t);return $5({firstColumnToRender:s,apiRef:i,firstRowToRender:r,lastRowToRender:o,visibleRows:a})}const hue=e=>{const{column:t,onClick:n}=e,r=Zt(),o=It(),i=C.useRef(),l=bi(r).filter(u=>u.disableColumnMenu!==!0).length===1,c=C.useCallback(u=>{l||(n(u),i.current=setTimeout(()=>{r.current.setColumnVisibility(t==null?void 0:t.field,!1)},100))},[r,t==null?void 0:t.field,n,l]);return C.useEffect(()=>()=>clearTimeout(i.current),[]),o.disableColumnSelector||t.hideable===!1?null:N.jsx(dr,{onClick:c,disabled:l,children:r.current.getLocaleText("columnMenuHideColumn")})};function mue(e){var t;const{column:n,onClick:r}=e,o=Zt(),i=Rt(o,sl),a=It(),s=(t=n.sortingOrder)!=null?t:a.sortingOrder,l=C.useMemo(()=>{if(!n)return null;const u=i.find(d=>d.field===n.field);return u==null?void 0:u.sort},[n,i]),c=C.useCallback(u=>{r(u);const d=u.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(n,d)},[o,n,r]);return!n||!n.sortable?null:N.jsxs(C.Fragment,{children:[s.includes(null)?N.jsx(dr,{onClick:c,disabled:l==null,children:o.current.getLocaleText("columnMenuUnsort")}):null,s.includes("asc")?N.jsx(dr,{onClick:c,"data-value":"asc",disabled:l==="asc",children:o.current.getLocaleText("columnMenuSortAsc")}):null,s.includes("desc")?N.jsx(dr,{onClick:c,"data-value":"desc",disabled:l==="desc",children:o.current.getLocaleText("columnMenuSortDesc")}):null]})}const gue=C.forwardRef(function(t,n){const{hideMenu:r,currentColumn:o}=t,i=Zt(),a=[N.jsx(mue,{onClick:r,column:o}),N.jsx(Hce,{onClick:r,column:o}),N.jsx(hue,{onClick:r,column:o}),N.jsx(zce,{onClick:r,column:o})],s=i.current.unstable_applyPipeProcessors("columnMenu",a,o);return N.jsx(Vce,A({ref:n},t,{children:s.map((l,c)=>C.cloneElement(l,{key:c,onClick:r,column:o}))}))}),zst=["className"],Hst=e=>{const{classes:t}=e;return Qe({root:["panelContent"]},Pn,t)},Vst=Ee("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function g6(e){const{className:t}=e,n=De(e,zst),r=It(),o=Hst(r);return N.jsx(Vst,A({className:Ne(t,o.root),ownerState:r},n))}const Ust=["className"],Gst=e=>{const{classes:t}=e;return Qe({root:["panelFooter"]},Pn,t)},Wst=Ee("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function v6(e){const{className:t}=e,n=De(e,Ust),r=It(),o=Gst(r);return N.jsx(Wst,A({className:Ne(t,o.root),ownerState:r},n))}const qst=["className"],Xst=e=>{const{classes:t}=e;return Qe({root:["panelHeader"]},Pn,t)},Kst=Ee("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function vue(e){const{className:t}=e,n=De(e,qst),r=It(),o=Xst(r);return N.jsx(Kst,A({className:Ne(t,o.root),ownerState:r},n))}const Yst=["className","slotProps"],Zst=e=>{const{classes:t}=e;return Qe({root:["panelWrapper"]},Pn,t)},Qst=Ee("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Jst=()=>!0,b6=C.forwardRef(function(t,n){const{className:r,slotProps:o={}}=t,i=De(t,Yst),a=It(),s=Zst(a);return N.jsx(Sj,A({open:!0,disableEnforceFocus:!0,isEnabled:Jst},o.TrapFocus,{children:N.jsx(Qst,A({ref:n,tabIndex:-1,className:Ne(r,s.root),ownerState:a},i))}))}),bue=!1,elt=["sort","searchPredicate","autoFocusSearchField"],tlt=e=>{const{classes:t}=e;return Qe({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},Pn,t)},nlt=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),rlt=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Pi.root}`]:{marginRight:e.spacing(.5)}})),olt=Ee(io)({justifyContent:"flex-end"}),tW=new Intl.Collator,ilt=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function yue(e){var t,n,r;const o=Zt(),i=C.useRef(null),a=Rt(o,Ts),s=Rt(o,du),l=It(),[c,u]=C.useState(""),d=tlt(l),{sort:f,searchPredicate:p=ilt,autoFocusSearchField:h=!0}=e,g=De(e,elt),v=C.useMemo(()=>{switch(f){case"asc":return[...a].sort((P,M)=>tW.compare(P.headerName||P.field,M.headerName||M.field));case"desc":return[...a].sort((P,M)=>-tW.compare(P.headerName||P.field,M.headerName||M.field));default:return a}},[a,f]),m=P=>{const{name:M}=P.target;o.current.setColumnVisibility(M,s[M]===!1)},b=C.useCallback(P=>{if(o.current.unstable_caches.columns.isUsingColumnVisibilityModel){const M=du(o),I=A({},M);return a.forEach(O=>{O.hideable&&(P?delete I[O.field]:I[O.field]=!1)}),o.current.setColumnVisibilityModel(I)}return o.current.updateColumns(a.map(M=>M.hideable!==!1?{field:M.field,hide:!P}:M))},[o,a]),x=C.useCallback(P=>{u(P.target.value)},[]),y=C.useMemo(()=>{if(!c)return v;const P=c.toLowerCase();return v.filter(M=>p(M,P))},[v,c,p]),w=C.useRef(null);C.useEffect(()=>{h?i.current.focus():w.current&&typeof w.current.focus=="function"&&w.current.focus()},[h]);let _=!1;const S=P=>_===!1&&P.hideable!==!1?(_=!0,!0):!1;return N.jsxs(b6,A({},g,{children:[N.jsx(vue,{children:N.jsx(l.components.BaseTextField,A({label:o.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:o.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:i,value:c,onChange:x,variant:"standard",fullWidth:!0},(t=l.componentsProps)==null?void 0:t.baseTextField))}),N.jsx(g6,{children:N.jsx(nlt,{className:d.root,ownerState:l,children:y.map(P=>{var M;return N.jsxs(rlt,{className:d.columnsPanelRow,ownerState:l,children:[N.jsx(jf,{control:N.jsx(l.components.BaseSwitch,A({disabled:P.hideable===!1,checked:s[P.field]!==!1,onClick:m,name:P.field,size:"small",inputRef:S(P)?w:void 0},(M=l.componentsProps)==null?void 0:M.baseSwitch)),label:P.headerName||P.field}),!l.disableColumnReorder&&bue&&N.jsx(olt,{draggable:!0,"aria-label":o.current.getLocaleText("columnsPanelDragIconLabel"),title:o.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:N.jsx(r6,{})})]},P.field)})})}),N.jsxs(v6,{children:[N.jsx(l.components.BaseButton,A({onClick:()=>b(!1)},(n=l.componentsProps)==null?void 0:n.baseButton,{children:o.current.getLocaleText("columnsPanelHideAllButton")})),N.jsx(l.components.BaseButton,A({onClick:()=>b(!0)},(r=l.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const alt=["children","className","classes"],xue=ut("MuiDataGrid",["panel","paper"]),slt=Ee(Vp,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),llt=Ee(sa,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),wue=C.forwardRef((e,t)=>{var n;const{children:r,className:o}=e,i=De(e,alt),a=Zt(),s=It(),l=xue,[c,u]=C.useState(!1),d=C.useCallback(()=>{a.current.hidePreferences()},[a]),f=C.useCallback(g=>{i6(g.key)&&a.current.hidePreferences()},[a]),p=C.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{u(!0)},effect:()=>()=>{u(!1)}}],[]),h=(n=a.current.columnHeadersContainerElementRef)==null?void 0:n.current;return h?N.jsx(slt,A({ref:t,placement:"bottom-start",className:Ne(o,l.panel),ownerState:s,anchorEl:h,modifiers:p},i,{children:N.jsx(WT,{mouseEvent:"onMouseUp",onClickAway:d,children:N.jsx(llt,{className:l.paper,ownerState:s,elevation:8,onKeyDown:f,children:c&&r})})})):null}),_ue=C.forwardRef(function(t,n){var r,o,i;const a=Zt(),s=Rt(a,Ts),l=It(),c=Rt(a,Rm),u=a.current.unstable_applyPipeProcessors("preferencePanel",null,(r=c.openedPanelValue)!=null?r:Al.filters);return N.jsx(l.components.Panel,A({ref:n,as:l.components.BasePopper,open:s.length>0&&c.open},(o=l.componentsProps)==null?void 0:o.panel,t,(i=l.componentsProps)==null?void 0:i.basePopper,{children:u}))}),clt=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","linkOperators","columnsSort","deleteIconProps","linkOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],ult=["InputComponentProps"],dlt=e=>{const{classes:t}=e;return Qe({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],linkOperatorInput:["filterFormLinkOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Pn,t)},flt=Ee("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),plt=Ee(Gp,{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),hlt=Ee(Gp,{name:"MuiDataGrid",slot:"FilterFormLinkOperatorInput",overridesResolver:(e,t)=>t.filterFormLinkOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),mlt=Ee(Gp,{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),glt=Ee(Gp,{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),vlt=Ee(Gp,{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),blt=e=>{switch(e){case Zi.And:return"filterPanelOperatorAnd";case Zi.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `linkOperator` property in the `GridFilterPanel`.")}},t1=e=>e.headerName||e.field,nW=new Intl.Collator,Sue=C.forwardRef(function(t,n){var r,o,i,a,s,l,c;const{item:u,hasMultipleFilters:d,deleteFilter:f,applyFilterChanges:p,multiFilterOperator:h,showMultiFilterOperators:g,disableMultiFilterOperator:v,applyMultiFilterOperatorChanges:m,focusElementRef:b,linkOperators:x=[Zi.And,Zi.Or],columnsSort:y,deleteIconProps:w={},linkOperatorInputProps:_={},operatorInputProps:S={},columnInputProps:P={},valueInputProps:M={}}=t,I=De(t,clt),O=Zt(),L=Rt(O,GS),R=fr(),T=fr(),E=fr(),k=fr(),B=It(),$=dlt(B),j=C.useRef(null),V=C.useRef(null),q=d&&x.length>0,Q=((r=B.componentsProps)==null?void 0:r.baseFormControl)||{},X=(i=(((o=B.componentsProps)==null?void 0:o.baseSelect)||{}).native)!=null?i:!0,J=X?"option":dr,{InputComponentProps:G}=M,ie=De(M,ult),Y=C.useMemo(()=>{switch(y){case"asc":return L.sort((fe,_e)=>nW.compare(t1(fe),t1(_e)));case"desc":return L.sort((fe,_e)=>-nW.compare(t1(fe),t1(_e)));default:return L}},[L,y]),le=u.columnField?O.current.getColumn(u.columnField):null,te=C.useMemo(()=>{var fe;return!u.operatorValue||!le?null:(fe=le.filterOperators)==null?void 0:fe.find(_e=>_e.value===u.operatorValue)},[u,le]),re=C.useCallback(fe=>{const _e=fe.target.value,W=O.current.getColumn(_e);if(W.field===le.field)return;const oe=W.filterOperators.find(ve=>ve.value===u.operatorValue)||W.filterOperators[0],Ce=!oe.InputComponent||oe.InputComponent!==(te==null?void 0:te.InputComponent);p(A({},u,{columnField:_e,operatorValue:oe.value,value:Ce?void 0:u.value}))},[O,p,u,le,te]),ae=C.useCallback(fe=>{const _e=fe.target.value,W=le==null?void 0:le.filterOperators.find(Ce=>Ce.value===_e),oe=!(W!=null&&W.InputComponent)||(W==null?void 0:W.InputComponent)!==(te==null?void 0:te.InputComponent);p(A({},u,{operatorValue:_e,value:oe?void 0:u.value}))},[p,u,le,te]),pe=C.useCallback(fe=>{const _e=fe.target.value===Zi.And.toString()?Zi.And:Zi.Or;m(_e)},[m]),we=()=>{B.disableMultipleColumnsFiltering?u.value===void 0?f(u):p(A({},u,{value:void 0})):f(u)};return C.useImperativeHandle(b,()=>({focus:()=>{if(te!=null&&te.InputComponent){var fe;j==null||(fe=j.current)==null||fe.focus()}else V.current.focus()}}),[te]),N.jsxs(flt,A({ref:n,className:$.root,ownerState:B},I,{children:[N.jsx(plt,A({variant:"standard",as:B.components.BaseFormControl},Q,w,{className:Ne($.deleteIcon,Q.className,w.className),ownerState:B,children:N.jsx(io,{"aria-label":O.current.getLocaleText("filterPanelDeleteIconLabel"),title:O.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:we,size:"small",children:N.jsx(B.components.FilterPanelDeleteIcon,{fontSize:"small"})})})),N.jsx(hlt,A({variant:"standard",as:B.components.BaseFormControl},Q,_,{sx:A({display:q?"flex":"none",visibility:g?"visible":"hidden"},Q.sx||{},_.sx||{}),className:Ne($.linkOperatorInput,Q.className,_.className),ownerState:B,children:N.jsx(B.components.BaseSelect,A({inputProps:{"aria-label":O.current.getLocaleText("filterPanelLinkOperator")},value:h,onChange:pe,disabled:!!v||x.length===1,native:X},(a=B.componentsProps)==null?void 0:a.baseSelect,{children:x.map(fe=>N.jsx(J,{value:fe.toString(),children:O.current.getLocaleText(blt(fe))},fe.toString()))}))})),N.jsxs(mlt,A({variant:"standard",as:B.components.BaseFormControl},Q,P,{className:Ne($.columnInput,Q.className,P.className),ownerState:B,children:[N.jsx(xA,{htmlFor:R,id:T,children:O.current.getLocaleText("filterPanelColumns")}),N.jsx(B.components.BaseSelect,A({labelId:T,id:R,label:O.current.getLocaleText("filterPanelColumns"),value:u.columnField||"",onChange:re,native:X},(s=B.componentsProps)==null?void 0:s.baseSelect,{children:Y.map(fe=>N.jsx(J,{value:fe.field,children:t1(fe)},fe.field))}))]})),N.jsxs(glt,A({variant:"standard",as:B.components.BaseFormControl},Q,S,{className:Ne($.operatorInput,Q.className,S.className),ownerState:B,children:[N.jsx(xA,{htmlFor:E,id:k,children:O.current.getLocaleText("filterPanelOperators")}),N.jsx(B.components.BaseSelect,A({labelId:k,label:O.current.getLocaleText("filterPanelOperators"),id:E,value:u.operatorValue,onChange:ae,native:X,inputRef:V},(l=B.componentsProps)==null?void 0:l.baseSelect,{children:le==null||(c=le.filterOperators)==null?void 0:c.map(fe=>N.jsx(J,{value:fe.value,children:fe.label||O.current.getLocaleText(`filterOperator${Be(fe.value)}`)},fe.value))}))]})),N.jsx(vlt,A({variant:"standard",as:B.components.BaseFormControl},Q,ie,{className:Ne($.valueInput,Q.className,ie.className),ownerState:B,children:te!=null&&te.InputComponent?N.jsx(te.InputComponent,A({apiRef:O,item:u,applyValue:p,focusElementRef:j},te.InputComponentProps,G)):null}))]}))}),ylt=["linkOperators","columnsSort","filterFormProps","children"],Cue=C.forwardRef(function(t,n){var r;const o=Zt(),i=It(),a=Rt(o,ha),s=Rt(o,GS),l=C.useRef(null),{linkOperators:c=[Zi.And,Zi.Or],columnsSort:u,filterFormProps:d}=t,f=De(t,ylt),p=C.useCallback(y=>{o.current.upsertFilterItem(y)},[o]),h=C.useCallback(y=>{o.current.setFilterLinkOperator(y)},[o]),g=C.useCallback(()=>{const y=s.find(w=>{var _;return(_=w.filterOperators)==null?void 0:_.length});return y?{columnField:y.field,operatorValue:y.filterOperators[0].value,id:Math.round(Math.random()*1e5)}:null},[s]),v=C.useMemo(()=>{if(a.items.length)return a.items;const y=g();return y?[y]:[]},[a.items,g]),m=v.length>1,b=()=>{const y=g();y&&o.current.upsertFilterItems([...v,y])},x=C.useCallback(y=>{const w=v.length===1;o.current.deleteFilterItem(y),w&&o.current.hideFilterPanel()},[o,v.length]);return C.useEffect(()=>{c.length>0&&a.linkOperator&&!c.includes(a.linkOperator)&&h(c[0])},[c,h,a.linkOperator]),C.useEffect(()=>{v.length>0&&l.current.focus()},[v.length]),N.jsxs(b6,A({ref:n},f,{children:[N.jsx(g6,{children:v.map((y,w)=>N.jsx(Sue,A({item:y,applyFilterChanges:p,deleteFilter:x,hasMultipleFilters:m,showMultiFilterOperators:w>0,multiFilterOperator:a.linkOperator,disableMultiFilterOperator:w!==1,applyMultiFilterOperatorChanges:h,focusElementRef:w===v.length-1?l:null,linkOperators:c,columnsSort:u},d),y.id==null?w:y.id))}),!i.disableMultipleColumnsFiltering&&N.jsx(v6,{children:N.jsx(i.components.BaseButton,A({onClick:b,startIcon:N.jsx(n6,{})},(r=i.componentsProps)==null?void 0:r.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")}))})]}))}),xlt=["onClick"],Pue=C.forwardRef(function(t,n){var r;const{onClick:o}=t,i=De(t,xlt),a=Zt(),s=It(),{open:l,openedPanelValue:c}=Rt(a,Rm),u=d=>{l&&c===Al.columns?a.current.hidePreferences():a.current.showPreferences(Al.columns),o==null||o(d)};return s.disableColumnSelector?null:N.jsx(s.components.BaseButton,A({ref:n,size:"small","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),startIcon:N.jsx(s.components.ColumnSelectorIcon,{})},i,{onClick:u},(r=s.componentsProps)==null?void 0:r.baseButton,{children:a.current.getLocaleText("toolbarColumns")}))}),wlt=["onClick"],Mue=C.forwardRef(function(t,n){var r;const{onClick:o}=t,i=De(t,wlt),a=Zt(),s=It(),l=Rt(a,Kz),c=fr(),u=fr(),[d,f]=C.useState(!1),p=C.useRef(null),h=wn(n,p),g=[{icon:N.jsx(s.components.DensityCompactIcon,{}),label:a.current.getLocaleText("toolbarDensityCompact"),value:rc.Compact},{icon:N.jsx(s.components.DensityStandardIcon,{}),label:a.current.getLocaleText("toolbarDensityStandard"),value:rc.Standard},{icon:N.jsx(s.components.DensityComfortableIcon,{}),label:a.current.getLocaleText("toolbarDensityComfortable"),value:rc.Comfortable}],v=C.useMemo(()=>{switch(l){case rc.Compact:return N.jsx(s.components.DensityCompactIcon,{});case rc.Comfortable:return N.jsx(s.components.DensityComfortableIcon,{});default:return N.jsx(s.components.DensityStandardIcon,{})}},[l,s]),m=_=>{f(S=>!S),o==null||o(_)},b=_=>{var S;p.current===_.target||(S=p.current)!=null&&S.contains(_.target)||f(!1)},x=_=>{a.current.setDensity(_),f(!1)},y=_=>{K3(_.key)&&_.preventDefault(),a6(_.key)&&f(!1)};if(s.disableDensitySelector)return null;const w=g.map((_,S)=>N.jsxs(dr,{onClick:()=>x(_.value),selected:_.value===l,children:[N.jsx(qj,{children:_.icon}),_.label]},S));return N.jsxs(C.Fragment,{children:[N.jsx(s.components.BaseButton,A({ref:h,size:"small",startIcon:v,"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":d?"true":void 0,"aria-haspopup":"menu","aria-controls":u,id:c},i,{onClick:m},(r=s.componentsProps)==null?void 0:r.baseButton,{children:a.current.getLocaleText("toolbarDensity")})),N.jsx(qS,{open:d,target:p.current,onClickAway:b,position:"bottom-start",children:N.jsx(Xy,{id:u,className:We.menuList,"aria-labelledby":c,onKeyDown:y,autoFocusItem:d,children:w})})]})}),_lt=["componentsProps"],Slt=e=>{const{classes:t}=e;return Qe({root:["toolbarFilterList"]},Pn,t)},Clt=Ee("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),Aue=C.forwardRef(function(t,n){var r,o;const{componentsProps:i={}}=t,a=De(t,_lt),s=i.button||{},l=Zt(),c=It(),u=Rt(l,Xz),d=Rt(l,Zp),f=Rt(l,Rm),p=Slt(c),h=C.useMemo(()=>{if(f.open)return l.current.getLocaleText("toolbarFiltersTooltipHide");if(u.length===0)return l.current.getLocaleText("toolbarFiltersTooltipShow");const v=b=>d[b.columnField].filterOperators.find(x=>x.value===b.operatorValue).label||l.current.getLocaleText(`filterOperator${Be(b.operatorValue)}`).toString(),m=b=>{const{getValueAsString:x}=d[b.columnField].filterOperators.find(y=>y.value===b.operatorValue);return x?x(b.value):b.value};return N.jsxs("div",{children:[l.current.getLocaleText("toolbarFiltersTooltipActive")(u.length),N.jsx(Clt,{className:p.root,ownerState:c,children:u.map((b,x)=>A({},d[b.columnField]&&N.jsx("li",{children:`${d[b.columnField].headerName||b.columnField}
                  ${v(b)}
                  ${b.value?m(b):""}`},x)))})]})},[l,c,f.open,u,d,p]),g=v=>{var m;const{open:b,openedPanelValue:x}=f;b&&x===Al.filters?l.current.hideFilterPanel():l.current.showFilterPanel(),(m=s.onClick)==null||m.call(s,v)};return c.disableColumnFilter?null:N.jsx(c.components.BaseTooltip,A({title:h,enterDelay:1e3},a,(r=c.componentsProps)==null?void 0:r.baseTooltip,{children:N.jsx(c.components.BaseButton,A({ref:n,size:"small","aria-label":l.current.getLocaleText("toolbarFiltersLabel"),startIcon:N.jsx(rO,{badgeContent:u.length,color:"primary",children:N.jsx(c.components.OpenFilterButtonIcon,{})})},s,{onClick:g},(o=c.componentsProps)==null?void 0:o.baseButton,{children:l.current.getLocaleText("toolbarFilters")}))}))}),Plt=["children","onClick"],Eue=C.forwardRef(function(t,n){var r;const{children:o,onClick:i}=t,a=De(t,Plt),s=Zt(),l=It(),c=fr(),u=fr(),[d,f]=C.useState(!1),p=C.useRef(null),h=wn(n,p),g=x=>{f(y=>!y),i==null||i(x)},v=()=>f(!1),m=x=>{K3(x.key)&&x.preventDefault(),a6(x.key)&&v()},b=x=>{var y;p.current===x.target||(y=p.current)!=null&&y.contains(x.target)||f(!1)};return o==null?null:N.jsxs(C.Fragment,{children:[N.jsx(l.components.BaseButton,A({ref:h,size:"small",startIcon:N.jsx(l.components.ExportIcon,{}),"aria-expanded":d?"true":void 0,"aria-label":s.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":u,id:c},a,{onClick:g},(r=l.componentsProps)==null?void 0:r.baseButton,{children:s.current.getLocaleText("toolbarExport")})),N.jsx(qS,{open:d,target:p.current,onClickAway:b,position:"bottom-start",children:N.jsx(Xy,{id:u,className:We.menuList,"aria-labelledby":c,onKeyDown:m,autoFocusItem:d,children:C.Children.map(o,x=>C.isValidElement(x)?C.cloneElement(x,{hideMenu:v}):x)})})]})}),Mlt=["hideMenu","options"],Alt=["hideMenu","options"],Elt=["csvOptions","printOptions","excelOptions"],Tue=e=>{const t=Zt(),{hideMenu:n,options:r}=e,o=De(e,Mlt);return N.jsx(dr,A({onClick:()=>{t.current.exportDataAsCsv(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))},Oue=e=>{const t=Zt(),{hideMenu:n,options:r}=e,o=De(e,Alt);return N.jsx(dr,A({onClick:()=>{t.current.exportDataAsPrint(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))},Iue=C.forwardRef(function(t,n){const{csvOptions:r={},printOptions:o={},excelOptions:i}=t,a=De(t,Elt),l=Zt().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:i,csvOptions:r,printOptions:o}).sort((c,u)=>c.componentName>u.componentName?1:-1);return l.length===0?null:N.jsx(Eue,A({},a,{ref:n,children:l.map((c,u)=>C.cloneElement(c.component,{key:u}))}))}),oy=()=>({items:[],linkOperator:Zi.And,quickFilterValues:[],quickFilterLogicOperator:Zi.And}),Tlt=["quickFilterParser","quickFilterFormatter","debounceMs"],Olt=Ee(cu,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${e.palette.divider}`},[`& input[type=search]::-ms-clear,
& input[type=search]::-ms-reveal`]:{display:"none",width:0,height:0},[`& input[type="search"]::-webkit-search-decoration,
  & input[type="search"]::-webkit-search-cancel-button,
  & input[type="search"]::-webkit-search-results-button,
  & input[type="search"]::-webkit-search-results-decoration`]:{display:"none"}})),Ilt=e=>e.split(" ").filter(t=>t!==""),klt=e=>e.join(" ");function kue(e){var t;const{quickFilterParser:n=Ilt,quickFilterFormatter:r=klt,debounceMs:o=500}=e,i=De(e,Tlt),a=Zt(),s=It(),l=Rt(a,$le),[c,u]=C.useState(()=>r(l??[])),[d,f]=C.useState(l);C.useEffect(()=>{pc(d,l)||(f(l),u(m=>pc(n(m),l)?m:r(l??[])))},[d,l,r,n]);const p=C.useCallback(m=>{a.current.setQuickFilterValues(n(m))},[a,n]),h=C.useMemo(()=>bc(p,o),[p,o]),g=C.useCallback(m=>{const b=m.target.value;u(b),h(b)},[h]),v=C.useCallback(()=>{u(""),p("")},[p]);return N.jsx(Olt,A({as:s.components.BaseTextField,ownerState:s,variant:"standard",value:c,onChange:g,placeholder:a.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":a.current.getLocaleText("toolbarQuickFilterLabel"),type:"search",InputProps:{startAdornment:N.jsx(s.components.QuickFilterIcon,{fontSize:"small"}),endAdornment:N.jsx(io,{"aria-label":a.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:c?"visible":"hidden"},onClick:v,children:N.jsx(s.components.QuickFilterClearIcon,{fontSize:"small"})})}},i,(t=s.componentsProps)==null?void 0:t.baseTextField))}const Rlt=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],Llt=C.forwardRef(function(t,n){const{csvOptions:r,printOptions:o,excelOptions:i,showQuickFilter:a=!1,quickFilterProps:s={}}=t,l=De(t,Rlt),c=It();return c.disableColumnFilter&&c.disableColumnSelector&&c.disableDensitySelector&&!a?null:N.jsxs(Pce,A({ref:n},l,{children:[N.jsx(Pue,{}),N.jsx(Aue,{}),N.jsx(Mue,{}),N.jsx(Iue,{csvOptions:r,printOptions:o,excelOptions:i}),N.jsx(Lre,{sx:{flex:1}}),a&&N.jsx(kue,A({},s))]}))}),$lt=["className","rowCount","visibleRowCount"],Dlt=e=>{const{classes:t}=e;return Qe({root:["rowCount"]},Pn,t)},Flt=Ee("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),Rue=C.forwardRef(function(t,n){const{className:r,rowCount:o,visibleRowCount:i}=t,a=De(t,$lt),s=Zt(),l=It(),c=Dlt(l);if(o===0)return null;const u=i<o?s.current.getLocaleText("footerTotalVisibleRows")(i,o):o.toLocaleString();return N.jsxs(Flt,A({ref:n,className:Ne(c.root,r),ownerState:l},a,{children:[s.current.getLocaleText("footerTotalRows")," ",u]}))}),Nlt=["className","selectedRowCount"],Blt=e=>{const{classes:t}=e;return Qe({root:["selectedRowCount"]},Pn,t)},jlt=Ee("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),Lue=C.forwardRef(function(t,n){const{className:r,selectedRowCount:o}=t,i=De(t,Nlt),a=Zt(),s=It(),l=Blt(s),c=a.current.getLocaleText("footerRowSelected")(o);return N.jsx(jlt,A({ref:n,className:Ne(l.root,r),ownerState:s},i,{children:c}))}),$ue=C.forwardRef(function(t,n){var r;const o=Zt(),i=It(),a=Rt(o,Ole),s=Rt(o,Fce),l=Rt(o,qz),c=!i.hideFooterSelectedRowCount&&s>0?N.jsx(Lue,{selectedRowCount:s}):N.jsx("div",{}),u=!i.hideFooterRowCount&&!i.pagination?N.jsx(Rue,{rowCount:a,visibleRowCount:l}):null,d=i.pagination&&!i.hideFooterPagination&&i.components.Pagination&&N.jsx(i.components.Pagination,A({},(r=i.componentsProps)==null?void 0:r.pagination));return N.jsxs(Cce,A({ref:n},t,{children:[c,u,d]}))}),Due=C.forwardRef(function(t,n){var r,o;const i=It();return N.jsxs("div",A({ref:n},t,{children:[N.jsx(i.components.PreferencesPanel,A({},(r=i.componentsProps)==null?void 0:r.preferencesPanel)),i.components.Toolbar&&N.jsx(i.components.Toolbar,A({},(o=i.componentsProps)==null?void 0:o.toolbar))]}))}),Fue=C.forwardRef(function(t,n){return N.jsx(XS,A({ref:n},t,{children:N.jsx(Hj,{})}))}),Nue=C.forwardRef(function(t,n){const o=Zt().current.getLocaleText("noRowsLabel");return N.jsx(XS,A({ref:n},t,{children:o}))}),zlt=Ee(pae)(({theme:e})=>({[`& .${lp.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${lp.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),Bue=C.forwardRef(function(t,n){var r;const o=Zt(),i=It(),a=Rt(o,xg),s=C.useMemo(()=>Math.floor(a.rowCount/(a.pageSize||1)),[a.rowCount,a.pageSize]),l=C.useCallback(u=>{const d=Number(u.target.value);o.current.setPageSize(d)},[o]),c=C.useCallback((u,d)=>{o.current.setPage(d)},[o]);return N.jsx(zlt,A({ref:n,component:"div",count:a.rowCount,page:a.page<=s?a.page:s,rowsPerPageOptions:(r=i.rowsPerPageOptions)!=null&&r.includes(a.pageSize)?i.rowsPerPageOptions:[],rowsPerPage:a.pageSize,onPageChange:c,onRowsPerPageChange:l},o.current.getLocaleText("MuiTablePagination"),t))}),J3=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=Z3(e),n=Bce(e)):(n=Fu(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},wg=(e,t)=>{const n=J3(e,t);return C.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},y6="__detail_panel_toggle__",Hlt=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","cellFocus","cellTabIndex","editRowsState","isLastVisible","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],Vlt=["changeReason"],Ult=e=>{const{editable:t,editing:n,selected:r,isLastVisible:o,rowHeight:i,classes:a}=e;return Qe({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",o&&"row--lastVisible",i==="auto"&&"row--dynamicHeight"]},Pn,a)},Glt=({width:e})=>{if(!e)return null;const t={width:e};return N.jsx("div",{className:"MuiDataGrid-cell",style:t})},jue=C.forwardRef(function(t,n){var r;const{selected:o,rowId:i,row:a,index:s,style:l,position:c,rowHeight:u,className:d,visibleColumns:f,renderedColumns:p,containerWidth:h,firstColumnToRender:g,cellFocus:v,cellTabIndex:m,editRowsState:b,isLastVisible:x=!1,onClick:y,onDoubleClick:w,onMouseEnter:_,onMouseLeave:S}=t,P=De(t,Hlt),M=Zt(),I=C.useRef(null),O=It(),L=wg(M,O),R=Rt(M,US),T=Rt(M,sl),E=Rt(M,V3),k=Rt(M,q3),B=wn(I,n),$=s+k+2,{hasScrollX:j,hasScrollY:V}=(r=M.current.getRootDimensions())!=null?r:{hasScrollX:!1,hasScrollY:!1},q={selected:o,isLastVisible:x,classes:O.classes,editing:M.current.getRowMode(i)===Un.Edit,editable:O.editMode===Di.Row,rowHeight:u},Q=Ult(q);C.useLayoutEffect(()=>{u==="auto"&&I.current&&typeof ResizeObserver>"u"&&M.current.unstable_storeRowHeightMeasurement(i,I.current.clientHeight,c)},[M,u,i,c]),C.useLayoutEffect(()=>{if(L.range){const oe=M.current.getRowIndexRelativeToVisibleRows(i);oe!=null&&M.current.unstable_setLastMeasuredRowIndex(oe)}const fe=I.current;if(!fe||u!=="auto"||typeof ResizeObserver>"u")return;const W=new ResizeObserver(oe=>{const[Ce]=oe,ve=Ce.borderBoxSize&&Ce.borderBoxSize.length>0?Ce.borderBoxSize[0].blockSize:Ce.contentRect.height;M.current.unstable_storeRowHeightMeasurement(i,ve,c)});return W.observe(fe),()=>W.disconnect()},[M,L.range,s,u,i,c]);const H=C.useCallback((fe,_e)=>W=>{W.target.nodeType===1&&!W.currentTarget.contains(W.target)||M.current.getRow(i)&&(M.current.publishEvent(fe,M.current.getRowParams(i),W),_e&&_e(W))},[M,i]),X=C.useCallback(fe=>{const _e=Kat(fe.target,We.cell),W=_e==null?void 0:_e.getAttribute("data-field");W&&(W===v0.field||W===y6||W==="__reorder__"||M.current.getCellMode(i,W)===_n.Edit||M.current.getColumn(W).type===Q3)||H("rowClick",y)(fe)},[M,y,H,i]),J=C.useCallback((fe,_e)=>{var W;const oe=M.current.getCellParams(i,fe.field),Ce=[],ve=O.disableColumnReorder&&fe.disableReorder||!O.rowReordering&&!!T.length&&E>1&&Object.keys(b).length>0;fe.cellClassName&&Ce.push(Ne(typeof fe.cellClassName=="function"?fe.cellClassName(oe):fe.cellClassName));const me=b[i]?b[i][fe.field]:null;let ye=null;if(me==null&&fe.renderCell){var Le;ye=fe.renderCell(A({},oe,{api:M.current})),Ce.push(Ne(We["cell--withRenderer"],(Le=O.classes)==null?void 0:Le["cell--withRenderer"]))}if(me!=null&&fe.renderEditCell){var Te;let U=a;M.current.unstable_getRowWithUpdatedValues&&(U=M.current.unstable_getRowWithUpdatedValues(i,fe.field));const D=De(me,Vlt),F=A({},oe,{row:U},D,{api:M.current});ye=fe.renderEditCell(F),Ce.push(Ne(We["cell--editing"],(Te=O.classes)==null?void 0:Te["cell--editing"]))}O.getCellClassName&&Ce.push(O.getCellClassName(oe));const Me=v!==null&&v.id===i&&v.field===fe.field,$e=m!==null&&m.id===i&&m.field===fe.field&&oe.cellMode==="view"?0:-1;return N.jsx(O.components.Cell,A({value:oe.value,field:fe.field,width:_e.width,rowId:i,height:u,showRightBorder:_e.showRightBorder,formattedValue:oe.formattedValue,align:fe.align||"left",cellMode:oe.cellMode,colIndex:_e.indexRelativeToAllColumns,isEditable:oe.isEditable,hasFocus:Me,tabIndex:$e,className:Ne(Ce),colSpan:_e.colSpan,disableDragEvents:ve},(W=O.componentsProps)==null?void 0:W.cell,{children:ye}),fe.field)},[M,m,b,v,O,a,u,i,E,T.length]),G=M.current.unstable_getRowInternalSizes(i);let ie=u;if(ie==="auto"&&G){let fe=0;const _e=Object.entries(G).reduce((W,[oe,Ce])=>/^base[A-Z]/.test(oe)?(fe+=1,Ce>W?Ce:W):W,0);_e>0&&fe>1&&(ie=_e)}const Y=A({},l,{maxHeight:u==="auto"?"none":u,minHeight:ie});if(G!=null&&G.spacingTop){const fe=O.rowSpacingType==="border"?"borderTopWidth":"marginTop";Y[fe]=G.spacingTop}if(G!=null&&G.spacingBottom){const fe=O.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let _e=Y[fe];typeof _e!="number"&&(_e=parseInt(_e||"0",10)),_e+=G.spacingBottom,Y[fe]=_e}const le=M.current.unstable_applyPipeProcessors("rowClassName",[],i);if(typeof O.getRowClassName=="function"){var te;const fe=s-(((te=L.range)==null?void 0:te.firstRowIndex)||0),_e=A({},M.current.getRowParams(i),{isFirstVisible:fe===0,isLastVisible:fe===L.rows.length-1,indexRelativeToCurrentPage:fe});le.push(O.getRowClassName(_e))}const re=Cst(1e4,20,80),ae=[];for(let fe=0;fe<p.length;fe+=1){const _e=p[fe],W=g+fe,oe=W===f.length-1,ve=oe?!(oe&&j&&!V)&&O.disableExtendRowFullWidth:O.showCellRightBorder,me=M.current.unstable_getCellColSpanInfo(i,W);if(me&&!me.spannedByColSpan)if(a){const{colSpan:ye,width:Le}=me.cellProps,Te={width:Le,colSpan:ye,showRightBorder:ve,indexRelativeToAllColumns:W};ae.push(J(_e,Te))}else{const{width:ye}=me.cellProps,Le=Math.round(re());ae.push(N.jsx(O.components.SkeletonCell,{width:ye,contentWidth:Le,field:_e.field,align:_e.align},_e.field))}}const pe=h-R,we=a?{onClick:X,onDoubleClick:H("rowDoubleClick",w),onMouseEnter:H("rowMouseEnter",_),onMouseLeave:H("rowMouseLeave",S)}:null;return N.jsxs("div",A({ref:B,"data-id":i,"data-rowindex":s,role:"row",className:Ne(...le,Q.root,d),"aria-rowindex":$,"aria-selected":o,style:Y},we,P,{children:[ae,pe>0&&N.jsx(Glt,{width:pe})]}))}),rW=1e3;class Wlt{constructor(t=rW){this.timeouts=new Map,this.cleanupTimeout=rW,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class qlt{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var Fd;(function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"})(Fd||(Fd={}));class Xlt{}function zue(e){let t=0;return function(r,o,i,a){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new qlt:new Wlt);const[s]=C.useState(new Xlt),l=C.useRef(null),c=C.useRef();c.current=i;const u=C.useRef(null);if(!l.current&&c.current){const d=(f,p,h)=>{if(!p.defaultMuiPrevented){var g;(g=c.current)==null||g.call(c,f,p,h)}};l.current=r.current.subscribeEvent(o,d,a),t+=1,u.current={cleanupToken:t},e.registry.register(s,()=>{var f;(f=l.current)==null||f.call(l),l.current=null,u.current=null},u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));C.useEffect(()=>{if(!l.current&&c.current){const d=(f,p,h)=>{if(!p.defaultMuiPrevented){var g;(g=c.current)==null||g.call(c,f,p,h)}};l.current=r.current.subscribeEvent(o,d,a)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var d;(d=l.current)==null||d.call(l),l.current=null}},[r,o,a])}}const D5={registry:null},Klt=()=>{var e;(e=D5.registry)==null||e.reset(),D5.registry=null},St=zue(D5),Ylt={isFirst:!0};function Rn(e,t,n){St(e,t,n,Ylt)}const oW=1,Zlt=1.5,Qlt=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return Qe(r,Pn,n)},Jlt=Ee("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${We["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${We["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${We["scrollArea--left"]}`]:{left:0},[`&.${We["scrollArea--right"]}`]:{right:0}}));function ect(e){const{scrollDirection:t}=e,n=C.useRef(null),r=Zt(),o=C.useRef(),[i,a]=C.useState(!1),s=Rt(r,Yz),l=C.useRef({left:0,top:0}),c=It(),u=A({},c,{scrollDirection:t}),d=Qlt(u),f=C.useCallback(g=>{l.current=g},[]),p=C.useCallback(g=>{let v;if(t==="left")v=g.clientX-n.current.getBoundingClientRect().right;else if(t==="right")v=Math.max(1,g.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI: Wrong drag direction");v=(v-oW)*Zlt+oW,clearTimeout(o.current),o.current=setTimeout(()=>{r.current.scroll({left:l.current.left+v,top:l.current.top})})},[t,r]);C.useEffect(()=>()=>{clearTimeout(o.current)},[]);const h=C.useCallback(()=>{a(g=>!g)},[]);return St(r,"rowsScroll",f),St(r,"columnHeaderDragStart",h),St(r,"columnHeaderDragEnd",h),i?N.jsx(Jlt,{ref:n,className:Ne(d.root),ownerState:u,onDragOver:p,style:{height:s}}):null}const F5=C.memo(ect),Hue=({apiRef:e,props:t,children:n})=>N.jsx(Ple.Provider,{value:t,children:N.jsx(Vz.Provider,{value:e,children:n})}),tct=_st()&&window.localStorage.getItem("DEBUG")!=null,V1=()=>{},nct={debug:V1,info:V1,warn:V1,error:V1},iW=["debug","info","warn","error"];function aW(e,t,n=console){const r=iW.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return iW.reduce((i,a,s)=>(s>=r?i[a]=(...l)=>{const[c,...u]=l;n[a](`MUI: ${e} - ${c}`,...u)}:i[a]=V1,i),{})}const rct=(e,t)=>{e.current.getLogger=C.useCallback(n=>tct?aW(n,"debug",t.logger):t.logLevel?aW(n,t.logLevel.toString(),t.logger):nct,[t.logLevel,t.logger])};function tr(e,t,n){const r=C.useRef(t),[o]=C.useState(Object.keys(t)),i=C.useCallback(()=>{e.current&&o.forEach(a=>{e.current.hasOwnProperty(a)||(e.current[a]=(...s)=>r.current[a](...s))})},[o,e]);C.useEffect(()=>{r.current=t},[t]),C.useEffect(()=>{i()},[i]),i()}class oct{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let a=o.length-1;a>=0;a-=1){const s=o[a];r.highPriority.has(s)&&s.apply(this,n)}for(let a=0;a<i.length;a+=1){const s=i[a];r.regular.has(s)&&s.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...i){r.removeListener(t,o),n.apply(r,i)})}}const ict=e=>e.isPropagationStopped!==void 0;let sW=0;function act(e,t){const n=C.useRef();n.current||(n.current={unstable_eventManager:new oct,unstable_caches:{},state:{},instanceId:sW},sW+=1),C.useImperativeHandle(e,()=>n.current,[n]);const r=C.useCallback((...a)=>{const[s,l,c={}]=a;if(c.defaultMuiPrevented=!1,ict(c)&&c.isPropagationStopped())return;const u=t.signature===Fd.DataGridPro?{api:n.current}:{};n.current.unstable_eventManager.emit(s,l,c,u)},[n,t.signature]),o=C.useCallback((a,s,l)=>{n.current.unstable_eventManager.on(a,s,l);const c=n.current;return()=>{c.unstable_eventManager.removeListener(a,s)}},[n]),i=C.useCallback(a=>{n.current.publishEvent("componentError",a)},[n]);return tr(n,{subscribeEvent:o,publishEvent:r,showError:i}),C.useEffect(()=>{const a=n.current;return()=>{Oit(a.instanceId),a.publishEvent("unmount")}},[n]),n}function sct(e,t){const n=C.useCallback(r=>{e.current.setState(o=>A({},o,{error:r}))},[e]);C.useEffect(()=>{t.error?n({error:t.error}):n(null)},[n,t.error]),St(e,"componentError",n)}const lct=(e,t)=>{const n=C.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.getLocaleText=n};function gw(e){return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function cct(e,t){if(gw(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vw(e){var t=cct(e,"string");return gw(t)==="symbol"?t:String(t)}const uct=e=>{const t=C.useRef({}),n=C.useCallback(l=>{l&&Object.values(l.appliers).forEach(c=>{c()})},[]),r=C.useCallback((l,c,u)=>{t.current[l]||(t.current[l]={processors:new Map,appliers:{}});const d=t.current[l];return d.processors.get(c)!==u&&(d.processors.set(c,u),n(d)),()=>{t.current[l].processors.set(c,null)}},[n]),o=C.useCallback((l,c,u)=>(t.current[l]||(t.current[l]={processors:new Map,appliers:{}}),t.current[l].appliers[c]=u,()=>{const d=t.current[l].appliers,f=De(d,[c].map(vw));t.current[l].appliers=f}),[]),i=C.useCallback(l=>{const c=t.current[l];n(c)},[n]),a=C.useCallback((...l)=>{const[c,u,d]=l;return t.current[c]?Array.from(t.current[c].processors.values()).reduce((p,h)=>h?h(p,d):p,u):u},[]);tr(e,{unstable_registerPipeProcessor:r,unstable_registerPipeApplier:o,unstable_requestPipeProcessorsApplication:i,unstable_applyPipeProcessors:a})},b0=e=>{const t=C.useRef(!0);t.current&&(t.current=!1,e())},vi=(e,t,n)=>{const r=C.useRef(),o=C.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=C.useCallback(()=>{r.current=e.current.unstable_registerPipeProcessor(t,o.current,n)},[e,n,t]);b0(()=>{i()});const a=C.useRef(!0);C.useEffect(()=>(a.current?a.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},x6=(e,t,n)=>{const r=C.useRef(),o=C.useRef(`mui-${Math.round(Math.random()*1e9)}`),i=C.useCallback(()=>{r.current=e.current.unstable_registerPipeApplier(t,o.current,n)},[e,n,t]);b0(()=>{i()});const a=C.useRef(!0);C.useEffect(()=>(a.current?a.current=!1:i(),()=>{r.current&&(r.current(),r.current=null)}),[i])},w6=(e,t,n,r)=>{const o=C.useCallback(()=>{e.current.unstable_registerStrategyProcessor(t,n,r)},[e,r,n,t]);b0(()=>{o()});const i=C.useRef(!0);C.useEffect(()=>{i.current?i.current=!1:o()},[o])},KS="none",lW={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree"},dct=e=>{const t=C.useRef(new Map),n=C.useRef({}),r=C.useCallback((l,c,u)=>{const d=()=>{const h=n.current[c],g=De(h,[l].map(vw));n.current[c]=g};n.current[c]||(n.current[c]={});const f=n.current[c],p=f[l];return f[l]=u,!p||p===u||l===e.current.unstable_getActiveStrategy(lW[c])&&e.current.publishEvent("activeStrategyProcessorChange",c),d},[e]),o=C.useCallback((l,c)=>{const u=e.current.unstable_getActiveStrategy(lW[l]);if(u==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const d=n.current[l];if(!d||!d[u])throw new Error(`No processor found for processor "${l}" on strategy "${u}"`);const f=d[u];return f(c)},[e]),i=C.useCallback(l=>{var c;const d=Array.from(t.current.entries()).find(([,f])=>f.group!==l?!1:f.isAvailable());return(c=d==null?void 0:d[0])!=null?c:KS},[]),a=C.useCallback((l,c,u)=>{t.current.set(c,{group:l,isAvailable:u}),e.current.publishEvent("strategyAvailabilityChange")},[e]);tr(e,{unstable_registerStrategyProcessor:r,unstable_applyStrategyProcessor:o,unstable_getActiveStrategy:i,unstable_setStrategyAvailability:a})};Gs(["MUI: The hook useGridApi is deprecated and will be removed in the next major version.","Access the ref content with apiRef.current instead"]);const fct=e=>e.current;function pct(e,t,n){const r=yo(e,"useGridScrollFn"),o=C.useRef();return[C.useCallback(a=>{var s;a.left===((s=o.current)==null?void 0:s.left)&&a.top===o.current.top||t&&t.current&&(r.debug(`Moving ${t.current.className} to: ${a.left}-${a.top}`),t.current.style.transform=`translate3d(${-a.left}px, ${-a.top}px, 0px)`,n.current.style.transform=`translate3d(${-a.left}px, 0px, 0px)`,o.current=a)},[t,r,n])]}Gs(["MUI: The hook useGridState is deprecated and will be removed in the next major version.","The two lines below are equivalent","","const [state, setState, forceUpdate] = useGridState(apiRef);","const { state, setState, forceUpdate } = apiRef.current"]);const hct=e=>[e.current.state,e.current.setState,e.current.forceUpdate],Vue=(e,t,n,r,o)=>{const i=yo(e,"useNativeEventListener"),[a,s]=C.useState(!1),l=C.useRef(r),c=C.useCallback(u=>l.current&&l.current(u),[]);C.useEffect(()=>{l.current=r},[r]),C.useEffect(()=>{let u;if(Wce(t)?u=t():u=t&&t.current?t.current:null,u&&n&&!a){i.debug(`Binding native ${n} event`),u.addEventListener(n,c,o);const d=u;s(!0);const f=()=>{i.debug(`Clearing native ${n} event`),d.removeEventListener(n,c,o)};e.current.subscribeEvent("unmount",f)}},[t,c,n,a,i,o,e])},mct=["stateId"],gct=(e,t)=>{const n=C.useRef({}),[,r]=C.useState(),o=C.useCallback(c=>{const{stateId:u}=c,d=De(c,mct);n.current[u]=A({},d,{stateId:u})},[]),i=C.useCallback((c,u)=>{let d;if(Wce(c)?d=c(e.current.state):d=c,e.current.state===d)return!1;let f=!1;const p=[];if(Object.keys(n.current).forEach(h=>{const g=n.current[h],v=g.stateSelector(e.current.state,e.current.instanceId),m=g.stateSelector(d,e.current.instanceId);m!==v&&(p.push({stateId:g.stateId,hasPropChanged:m!==g.propModel}),g.propModel!==void 0&&m!==g.propModel&&(f=!0))}),p.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${p[0].stateId}, therefore, you're not allowed to update ${p.map(h=>h.stateId).join(", ")} in the same transaction.`);if(f||(e.current.state=d,e.current.publishEvent&&e.current.publishEvent("stateChange",d)),p.length===1){const{stateId:h,hasPropChanged:g}=p[0],v=n.current[h],m=v.stateSelector(d,e.current.instanceId);if(v.propOnChange&&g){const b=t.signature===Fd.DataGridPro?{api:e.current,reason:u}:{reason:u};v.propOnChange(m,b)}f||e.current.publishEvent(v.changeEvent,m,{reason:u})}return!f},[e,t.signature]),a=C.useCallback((c,u,d)=>e.current.setState(f=>A({},f,{[c]:u(f[c])}),d),[e]),s=C.useCallback(()=>r(()=>e.current.state),[e]);tr(e,{setState:i,forceUpdate:s,unstable_updateControlState:a,unstable_registerControlState:o})},vct=(e,t)=>{const n=act(e,t);return rct(n,t),sct(n,t),gct(n,t),uct(n),dct(n),lct(n,t),n},ds=(e,t,n)=>{const r=C.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function cW(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function bct(e){var t;return((t=window.getSelection())==null?void 0:t.toString())!==""?!0:e?(e.selectionEnd||0)-(e.selectionStart||0)>0:!1}const yct=e=>{const t=C.useCallback((o=!1)=>{if(e.current.getSelectedRows().size===0)return;const i=e.current.getDataAsCsv({includeHeaders:o,delimiter:"	"});navigator.clipboard?navigator.clipboard.writeText(i).catch(()=>{cW(i)}):cW(i)},[e]),n=C.useCallback(o=>{const i=o.ctrlKey||o.metaKey||o.altKey;String.fromCharCode(o.keyCode)!=="C"||!i||bct(o.target)||e.current.unstable_copySelectedRowsToClipboard(o.altKey)},[e]);Vue(e,e.current.rootElementRef,"keydown",n),tr(e,{unstable_copySelectedRowsToClipboard:t})},_6=e=>e.columnMenu,xct=e=>A({},e,{columnMenu:{open:!1}}),wct=e=>{const t=yo(e,"useGridColumnMenu"),n=C.useCallback(s=>{e.current.setState(c=>c.columnMenu.open&&c.columnMenu.field===s?c:(t.debug("Opening Column Menu"),A({},c,{columnMenu:{open:!0,field:s}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=C.useCallback(()=>{e.current.setState(l=>!l.columnMenu.open&&l.columnMenu.field===void 0?l:(t.debug("Hiding Column Menu"),A({},l,{columnMenu:A({},l.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),o=C.useCallback(s=>{t.debug("Toggle Column Menu");const l=_6(e.current.state);!l.open||l.field!==s?n(s):r()},[e,t,n,r]);tr(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o});const a=C.useCallback((s,l)=>{if(!l.target.classList.contains(We.menuIconButton)||!l.relatedTarget)return;const c=l.relatedTarget.classList.contains(We.menuList),u=l.relatedTarget.getAttribute("role")==="menuitem";(c||u)&&e.current.setColumnHeaderFocus(s.field)},[e]);St(e,"columnResizeStart",r),St(e,"columnHeaderFocus",a),St(e,"virtualScrollerWheel",e.current.hideColumnMenu),St(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},_ct=(e,t,n)=>{var r,o,i,a,s,l,c;const u=!!t.columnVisibilityModel||!!((r=t.initialState)!=null&&(o=r.columns)!=null&&o.columnVisibilityModel);n.current.unstable_caches.columns={isUsingColumnVisibilityModel:u};const d=due(t.columnTypes),f=hv({apiRef:n,columnTypes:d,columnsToUpsert:t.columns,initialState:(i=t.initialState)==null?void 0:i.columns,shouldRegenColumnVisibilityModelFromColumns:!u,currentColumnVisibilityModel:(a=(s=t.columnVisibilityModel)!=null?s:(l=t.initialState)==null||(c=l.columns)==null?void 0:c.columnVisibilityModel)!=null?a:{},keepOnlyColumnsToUpsert:!0});return A({},e,{columns:f})};function Sct(e,t){var n,r;const o=yo(e,"useGridColumns"),i=C.useMemo(()=>due(t.columnTypes),[t.columnTypes]),a=C.useRef(t.columns),s=C.useRef(i);e.current.unstable_registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:du,changeEvent:"columnVisibilityModelChange"});const l=C.useCallback(R=>{o.debug("Updating columns state."),e.current.setState(eW(R)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",R.all)},[o,e]),c=C.useCallback(R=>Zp(e)[R],[e]),u=C.useCallback(()=>Ts(e),[e]),d=C.useCallback(()=>bi(e),[e]),f=C.useCallback(()=>Lle(e),[e]),p=C.useCallback((R,T=!0)=>(T?bi(e):Ts(e)).findIndex(k=>k.field===R),[e]),h=C.useCallback(R=>{const T=p(R);return Ep(e)[T]},[e,p]),g=C.useCallback(R=>{du(e)!==R&&(e.current.setState(E=>A({},E,{columns:hv({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!1,currentColumnVisibilityModel:R,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,i]),v=C.useCallback(R=>{const T=hv({apiRef:e,columnTypes:i,columnsToUpsert:R,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!0,keepOnlyColumnsToUpsert:!1});l(T)},[e,l,i]),m=C.useCallback(R=>e.current.updateColumns([R]),[e]),b=C.useCallback((R,T)=>{if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var E;const k=du(e),B=(E=k[R])!=null?E:!0;if(T!==B){const $=A({},k,{[R]:T});e.current.setColumnVisibilityModel($)}}else{const k=e.current.getColumn(R),B=A({},k,{hide:!T});e.current.updateColumns([B]);const $={field:R,colDef:B,isVisible:T};e.current.publishEvent("columnVisibilityChange",$)}},[e]),x=C.useCallback((R,T)=>{const E=Ap(e),k=E.findIndex(V=>V===R);if(k===T)return;o.debug(`Moving column ${R} to index ${T}`);const B=[...E],$=B.splice(k,1)[0];B.splice(T,0,$),l(A({},Mp(e.current.state),{all:B}));const j={field:R,element:e.current.getColumnHeaderElement(R),colDef:e.current.getColumn(R),targetIndex:T,oldIndex:k};e.current.publishEvent("columnOrderChange",j)},[e,o,l]),y=C.useCallback((R,T)=>{o.debug(`Updating column ${R} width to ${T}`);const E=e.current.getColumn(R),k=A({},E,{width:T});e.current.updateColumns([k]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(R),colDef:k,width:T})},[e,o]);tr(e,{getColumn:c,getAllColumns:u,getColumnIndex:p,getColumnPosition:h,getVisibleColumns:d,getColumnsMeta:f,updateColumn:m,updateColumns:v,setColumnVisibilityModel:g,setColumnVisibility:b,setColumnIndex:x,setColumnWidth:y});const _=C.useCallback((R,T)=>{const E={};if(e.current.unstable_caches.columns.isUsingColumnVisibilityModel){var k,B,$;const q=du(e);(!T.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((k=(B=t.initialState)==null||($=B.columns)==null?void 0:$.columnVisibilityModel)!=null?k:{}).length>0||Object.keys(q).length>0)&&(E.columnVisibilityModel=q)}E.orderedFields=Ap(e);const j=Ts(e),V={};return j.forEach(q=>{if(q.hasBeenResized){const Q={};uue.forEach(H=>{let X=q[H];X===1/0&&(X=-1),Q[H]=X}),V[q.field]=Q}}),Object.keys(V).length>0&&(E.dimensions=V),A({},R,{columns:E})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),S=C.useCallback((R,T)=>{var E;const k=e.current.unstable_caches.columns.isUsingColumnVisibilityModel?(E=T.stateToRestore.columns)==null?void 0:E.columnVisibilityModel:void 0,B=T.stateToRestore.columns;if(k==null&&B==null)return R;const $=hv({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:B,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,currentColumnVisibilityModel:k,keepOnlyColumnsToUpsert:!1});return e.current.setState(eW($)),B!=null&&e.current.publishEvent("columnsChange",$.all),R},[e,i]),P=C.useCallback((R,T)=>{if(T===Al.columns){var E;const k=t.components.ColumnsPanel;return N.jsx(k,A({},(E=t.componentsProps)==null?void 0:E.columnsPanel))}return R},[t.components.ColumnsPanel,(r=t.componentsProps)==null?void 0:r.columnsPanel]);vi(e,"exportState",_),vi(e,"restoreState",S),vi(e,"preferencePanel",P);const M=C.useRef(null);St(e,"viewportInnerSizeChange",R=>{M.current!==R.width&&(M.current=R.width,l(fue(Mp(e.current.state),R.width)))}),Rn(e,"columnVisibilityChange",t.onColumnVisibilityChange);const O=C.useCallback(()=>{o.info("Columns pipe processing have changed, regenerating the columns");const R=hv({apiRef:e,columnTypes:i,columnsToUpsert:[],initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,keepOnlyColumnsToUpsert:!1});l(R)},[e,o,l,i]);x6(e,"hydrateColumns",O);const L=C.useRef(!0);C.useEffect(()=>{if(L.current){L.current=!1;return}if(o.info(`GridColumns have changed, new length ${t.columns.length}`),a.current===t.columns&&s.current===i)return;const R=hv({apiRef:e,columnTypes:i,initialState:void 0,shouldRegenColumnVisibilityModelFromColumns:!e.current.unstable_caches.columns.isUsingColumnVisibilityModel,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});a.current=t.columns,s.current=i,l(R)},[o,e,l,t.columns,i]),C.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,o,t.columnVisibilityModel])}const Uue=e=>e.columnGrouping,S6=Nt(Uue,e=>e.lookup),Cct=["groupId","children"];function Pct(e){return e.groupPath!==void 0}const Gue=(e,t,n)=>{if(Zz(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurrs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(i=>{Gue(i,[...t,r],n)})},Wue=e=>{if(!e)return{};const t={};return e.forEach(n=>{Gue(n,[],t)}),t},C6=e=>{let t={};return e.forEach(n=>{if(Zz(n))return;const{groupId:r,children:o}=n,i=De(n,Cct);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");o||console.warn(`MUI: group groupId=${r} has no children.`);const a=A({},i,{groupId:r}),s=C6(o);if(s[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=A({},t,s,{[r]:a})}),A({},t)},Mct=(e,t)=>{var n;const r=C6((n=t.columnGroupingModel)!=null?n:[]);return A({},e,{columnGrouping:{lookup:r,groupCollapsedModel:{}}})},Act=(e,t)=>{var n;const r=C.useCallback(s=>{var l,c;return(l=(c=Zp(e)[s])==null?void 0:c.groupPath)!=null?l:[]},[e]),o=C.useCallback(()=>S6(e),[e]);tr(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:o});const a=C.useRef(!0);C.useEffect(()=>{var s,l;if(a.current){a.current=!1;return}if(!((s=t.experimentalFeatures)!=null&&s.columnGrouping))return;const c=C6((l=t.columnGroupingModel)!=null?l:[]);e.current.setState(u=>A({},u,{columnGrouping:A({},u.columnGrouping,{lookup:c})}))},[e,t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping])},ML=.7,AL=1.3,que=(e,t,n,r)=>{switch(e){case rc.Compact:return{value:e,headerHeight:Math.floor(t*ML),rowHeight:Math.floor(n*ML),headerGroupingMaxDepth:r,factor:ML};case rc.Comfortable:return{value:e,headerHeight:Math.floor(t*AL),rowHeight:Math.floor(n*AL),headerGroupingMaxDepth:r,factor:AL};default:return{value:e,headerHeight:t,rowHeight:n,headerGroupingMaxDepth:r,factor:1}}},Ect=(e,t)=>{let n;if(t.columnGroupingModel==null||Object.keys(t.columnGroupingModel).length===0)n=0;else{const r=Wue(t.columnGroupingModel),o=e.columns,i=o.all.filter(a=>o.columnVisibilityModel[a]!==!1);i.length===0?n=0:n=Math.max(...i.map(a=>{var s,l;return(s=(l=r[a])==null?void 0:l.length)!=null?s:0}))}return A({},e,{density:que(t.density,t.headerHeight,t.rowHeight,n)})},Tct=(e,t)=>{const n=Rt(e,bi),r=n.length>0?Math.max(...n.map(s=>{var l,c;return(l=(c=s.groupPath)==null?void 0:c.length)!=null?l:0})):0,o=yo(e,"useDensity"),i=C.useCallback((s,l=t.headerHeight,c=t.rowHeight,u=r)=>{o.debug(`Set grid density to ${s}`),e.current.setState(d=>{const f=Qp(d),p=que(s,l,c,u);return pc(f,p)?d:A({},d,{density:p})}),e.current.forceUpdate()},[o,e,t.headerHeight,t.rowHeight,r]);C.useEffect(()=>{e.current.setDensity(t.density,t.headerHeight,t.rowHeight,r)},[e,t.density,t.rowHeight,t.headerHeight,r]),tr(e,{setDensity:i})};function Oct(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=r,i.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI: exportAs not supported")}const Xue=(e,t)=>{if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(r=>n.includes(r))?`"${n}"`:n}return e};Gs(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);const Ict=(e,t,n,r)=>t.map(o=>{const i=n(e,o.field);return Xue(i.formattedValue,r)});function kct(e){const{columns:t,rowIds:n,getCellParams:r,delimiterCharacter:o,includeHeaders:i}=e,a=n.reduce((l,c)=>`${l}${Ict(c,t,r,o).join(o)}\r
`,"").trim();return i?`${`${t.filter(l=>l.field!==v0.field).map(l=>Xue(l.headerName||l.field,o)).join(o)}\r
`}${a}`.trim():a}const Kue=({apiRef:e,options:t})=>{const n=Ts(e);return t.fields?t.fields.map(o=>n.find(i=>i.field===o)).filter(o=>!!o):(t.allColumns?n:bi(e)).filter(o=>!o.disableExport)},Rct=({apiRef:e})=>{var t,n;const r=Nle(e),o=yd(e),i=e.current.getSelectedRows(),a=r.filter(u=>{var d;return((d=o[u].position)!=null?d:"body")==="body"}),s=VS(e),l=(s==null||(t=s.top)==null?void 0:t.map(u=>u.id))||[],c=(s==null||(n=s.bottom)==null?void 0:n.map(u=>u.id))||[];return a.unshift(...l),a.push(...c),i.size>0?a.filter(u=>i.has(u)):a},Lct=e=>{const t=yo(e,"useGridCsvExport"),n=C.useCallback((a={})=>{var s,l;t.debug("Get data as CSV");const c=Kue({apiRef:e,options:a}),d=((s=a.getRowsToExport)!=null?s:Rct)({apiRef:e});return kct({columns:c,rowIds:d,getCellParams:e.current.getCellParams,delimiterCharacter:a.delimiter||",",includeHeaders:(l=a.includeHeaders)!=null?l:!0})},[t,e]),r=C.useCallback(a=>{t.debug("Export data as CSV");const s=n(a),l=new Blob([a!=null&&a.utf8WithBom?new Uint8Array([239,187,191]):"",s],{type:"text/csv"});Oct(l,"csv",a==null?void 0:a.fileName)},[t,n]);tr(e,{getDataAsCsv:n,exportDataAsCsv:r});const i=C.useCallback((a,s)=>{var l;return(l=s.csvOptions)!=null&&l.disableToolbarButton?a:[...a,{component:N.jsx(Tue,{options:s.csvOptions}),componentName:"csvExport"}]},[]);vi(e,"exportMenu",i)},iy=e=>e.rowsMeta;function $ct(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Dct(){const e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return e?parseInt(e[2],10):null}const Fct=(e,t)=>{const n=yo(e,"useGridPrintExport"),r=C.useRef(null),o=C.useRef(null),i=C.useRef({});C.useEffect(()=>{r.current=Kn(e.current.rootElementRef.current)},[e]);const a=C.useCallback((p,h)=>new Promise(g=>{if(!p&&!h){g();return}const v=Kue({apiRef:e,options:{fields:p,allColumns:h}}).map(x=>x.field),m=Ts(e),b={};m.forEach(x=>{b[x.field]=v.includes(x.field)}),e.current.setColumnVisibilityModel(b),g()}),[e]),s=C.useCallback(p=>{const h=document.createElement("iframe");return h.style.position="absolute",h.style.width="0px",h.style.height="0px",h.title=p||document.title,h},[]),l=C.useCallback((p,h)=>{var g,v;const m=A({copyStyles:!0,hideToolbar:!1,hideFooter:!1},h),b=p.contentDocument;if(!b)return;const x=g0(e),y=iy(e.current.state),w=e.current.rootElementRef.current,_=w.cloneNode(!0),S=_.querySelector(`.${We.virtualScroller}`);S.style.height="auto",S.style.width="auto",S.parentElement.style.width="auto",S.parentElement.style.height="auto";const P=_.querySelector(`.${We.main}`);P.style.overflow="visible";const M=Dct();M&&M>=108&&(_.style.contain="size");const O=_.querySelector(`.${We.columnHeaders}`).querySelector(`.${We.columnHeadersInner}`);O.style.width="100%";let L=((g=w.querySelector(`.${We.toolbarContainer}`))==null?void 0:g.clientHeight)||0,R=((v=w.querySelector(`.${We.footerContainer}`))==null?void 0:v.clientHeight)||0;if(m.hideToolbar){var T;(T=_.querySelector(`.${We.toolbarContainer}`))==null||T.remove(),L=0}if(m.hideFooter){var E;(E=_.querySelector(`.${We.footerContainer}`))==null||E.remove(),R=0}_.style.height=`${y.currentPageTotalHeight+x+L+R}px`;const k=document.createElement("div");k.appendChild(_),b.body.innerHTML=k.innerHTML;const B=typeof m.pageStyle=="function"?m.pageStyle():m.pageStyle;if(typeof B=="string"){const $=b.createElement("style");$.appendChild(b.createTextNode(B)),b.head.appendChild($)}if(m.bodyClassName&&b.body.classList.add(...m.bodyClassName.split(" ")),m.copyStyles){const $=r.current.querySelectorAll("style, link[rel='stylesheet']");for(let j=0;j<$.length;j+=1){const V=$[j];if(V.tagName==="STYLE"){const q=b.createElement(V.tagName),Q=V.sheet;if(Q){let H="";for(let X=0;X<Q.cssRules.length;X+=1)typeof Q.cssRules[X].cssText=="string"&&(H+=`${Q.cssRules[X].cssText}\r
`);q.appendChild(b.createTextNode(H)),b.head.appendChild(q)}}else if(V.getAttribute("href")){const q=b.createElement(V.tagName);for(let Q=0;Q<V.attributes.length;Q+=1){const H=V.attributes[Q];H&&q.setAttribute(H.nodeName,H.nodeValue||"")}b.head.appendChild(q)}}}p.contentWindow.print()},[e,r]),c=C.useCallback(p=>{var h,g;r.current.body.removeChild(p),e.current.restoreState(o.current||{}),(h=o.current)!=null&&(g=h.columns)!=null&&g.columnVisibilityModel||e.current.setColumnVisibilityModel(i.current),e.current.unstable_enableVirtualization(),o.current=null,i.current={}},[e]),d={exportDataAsPrint:C.useCallback(async p=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(o.current=e.current.exportState(),i.current=du(e),t.pagination){const g=Wz(e);e.current.setPageSize(g)}await a(p==null?void 0:p.fields,p==null?void 0:p.allColumns),e.current.unstable_disableVirtualization(),await $ct();const h=s(p==null?void 0:p.fileName);h.onload=()=>{l(h,p),h.contentWindow.matchMedia("print").addEventListener("change",v=>{v.matches===!1&&c(h)})},r.current.body.appendChild(h)},[t,n,e,s,l,c,a])};tr(e,d);const f=C.useCallback((p,h)=>{var g;return(g=h.printOptions)!=null&&g.disableToolbarButton?p:[...p,{component:N.jsx(Oue,{options:h.printOptions}),componentName:"printExport"}]},[]);vi(e,"exportMenu",f)},Nct=["rowsBeforePartialUpdates"];function Yue(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const N5=(e,t,n)=>{const r=t?t(e):e.id;return Yue(r,e,n),r},oM=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,idRowsLookup:{},idToIdLookup:{},ids:[]};for(let i=0;i<e.length;i+=1){const a=e[i],s=N5(a,t);o.idRowsLookup[s]=a,o.idToIdLookup[s]=s,o.ids.push(s)}return o},Zue=({apiRef:e,previousTree:t,rowCountProp:n,loadingProp:r})=>{const o=e.current.unstable_caches.rows,i=De(o,Nct),a=n??0,s=e.current.unstable_applyStrategyProcessor("rowTreeCreation",A({},i,{previousTree:t})),l=e.current.unstable_applyPipeProcessors("hydrateRows",s),c=l.treeDepth===1?l.ids.length:Object.values(l.tree).filter(u=>u.parent==null&&!u.isPinned).length;return A({},l,{groupingResponseBeforeRowHydration:s,loading:r,totalRowCount:Math.max(a,l.ids.length),totalTopLevelRowCount:Math.max(a,c)})},Que=(e,t,n)=>{var r;const o=(r=e[t])==null?void 0:r.children;if(o==null)return[];const i=[];for(let a=0;a<o.length;a+=1){const s=o[a],l=e[s];(!n||!l.isAutoGenerated)&&i.push(s),i.push(...Que(e,l.id,n))}return i};function Jue(e){var t,n;const r=VS(e),o=(r==null||(t=r.top)==null?void 0:t.reduce((a,s)=>(a+=e.current.unstable_getRowHeight(s.id),a),0))||0,i=(r==null||(n=r.bottom)==null?void 0:n.reduce((a,s)=>(a+=e.current.unstable_getRowHeight(s.id),a),0))||0;return{top:o,bottom:i}}const B5=(e,t)=>{const n=A({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operatorValue==null){const r=Zp(t)[n.columnField];n.operatorValue=r&&r.filterOperators[0].value}return n},Bct=Gs(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),jct=Gs("MUI: The 'id' field is required on `filterModel.items` when you use multiple filters.","error"),zct=Gs(["MUI: One of your filtering item have no `operatorValue` provided.","This property will become required on `@mui/x-data-grid@6.X`."]),ede=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?(Bct(),o=[e.items[0]]):o=e.items;const i=r&&o.some(s=>s.id==null),a=o.some(s=>s.operatorValue==null);return i&&jct(),a&&zct(),a||i?A({},e,{items:o.map(s=>B5(s,n))}):e.items!==o?A({},e,{items:o}):e},uW=(e,t,n)=>r=>A({},r,{filterModel:ede(e,t,n)}),tde=(e,t)=>{if(!e.columnField||!e.operatorValue)return null;const n=t.current.getColumn(e.columnField);if(!n)return null;let r;if(n.valueParser){var o;const u=n.valueParser;r=Array.isArray(e.value)?(o=e.value)==null?void 0:o.map(d=>u(d)):u(e.value)}else r=e.value;const i=A({},e,{value:r}),a=n.filterOperators;if(!(a!=null&&a.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const s=a.find(u=>u.value===i.operatorValue);if(!s)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${i.operatorValue}'.`);const l=s.getApplyFilterFn(i,n);return typeof l!="function"?null:{fn:u=>{const d=t.current.getCellParams(u,i.columnField);return l(d)},item:i}},Hct=(e,t)=>{const{items:n}=e,r=n.map(o=>tde(o,t)).filter(o=>!!o);return r.length===0?null:(o,i)=>{const a={};return(i?r.filter(l=>i(l.item.columnField)):r).forEach(l=>{a[l.item.id]=l.fn(o)}),a}},Vct=(e,t)=>{const{quickFilterValues:n=[]}=e;if(n.length===0)return null;const r=Ap(t),o={};r.forEach(a=>{const s=t.current.getColumn(a),l=s==null?void 0:s.getApplyQuickFilterFn;l&&(o[a]=n.map(c=>l(c,s,t)))});const i=n.filter((a,s)=>Object.keys(o).some(l=>o[l][s]!=null));return i.length===0?null:(a,s)=>{const l={},c=[];Object.keys(o).forEach(d=>{(!s||s(d))&&(l[d]=t.current.getCellParams(a,d),c.push(d))});const u={};return i.forEach((d,f)=>{const p=c.some(h=>{var g,v;return o[h][f]==null?!1:(g=(v=o[h])[f])==null?void 0:g.call(v,l[h])});u[d]=p}),u}},Uct=(e,t)=>{const n=Hct(e,t),r=Vct(e,t);return(o,i)=>({passingFilterItems:n&&n(o,i),passingQuickFilterValues:r&&r(o,i)})},Gct=(e,t,n,r)=>{var o,i;const a=n.items.filter(d=>tde(d,r)!==null),s=e.filter(d=>d!=null),l=t.filter(d=>d!=null),c=(o=n.quickFilterLogicOperator)!=null?o:oy().quickFilterLogicOperator,u=(i=n.linkOperator)!=null?i:oy().linkOperator;if(s.length>0){const d=f=>s.some(p=>p[f.id]);if(u===Zi.And){if(!a.every(d))return!1}else if(!a.some(d))return!1}if(l.length>0&&n.quickFilterValues!=null){const d=f=>l.some(p=>p[f]);if(c===Zi.And){if(!n.quickFilterValues.every(d))return!1}else if(!n.quickFilterValues.some(d))return!1}return!0},Wct=(e,t,n)=>{var r,o,i,a;const s=(r=(o=t.filterModel)!=null?o:(i=t.initialState)==null||(a=i.filter)==null?void 0:a.filterModel)!=null?r:oy();return A({},e,{filter:{filterModel:ede(s,t.disableMultipleColumnsFiltering,n),visibleRowsLookup:{},filteredDescendantCountLookup:{}}})},qct=(e,t)=>{var n,r,o;const i=yo(e,"useGridFilter");e.current.unstable_registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:ha,changeEvent:"filterModelChange"});const a=C.useCallback(()=>{e.current.setState(P=>{const M=ha(P,e.current.instanceId),I=t.filterMode===am.client?Uct(M,e):null,O=e.current.unstable_applyStrategyProcessor("filtering",{isRowMatchingFilters:I,filterModel:M??oy()});return A({},P,{filter:A({},P.filter,O)})}),e.current.publishEvent("filteredRowsSet")},[t.filterMode,e]),s=C.useCallback(()=>{a(),e.current.forceUpdate()},[e,a]),l=C.useCallback(P=>{const M=ha(e),I=[...M.items],O=I.findIndex(L=>L.id===P.id);O===-1?I.push(P):I[O]=P,e.current.setFilterModel(A({},M,{items:I}),"upsertFilterItem")},[e]),c=C.useCallback(P=>{const M=ha(e),I=[...M.items];P.forEach(O=>{const L=P.findIndex(R=>R.id===O.id);L===-1?I.push(O):I[L]=O}),e.current.setFilterModel(A({},M,{items:P}),"upsertFilterItems")},[e]),u=C.useCallback(P=>{const M=ha(e),I=M.items.filter(O=>O.id!==P.id);I.length!==M.items.length&&e.current.setFilterModel(A({},M,{items:I}),"deleteFilterItem")},[e]),d=C.useCallback(P=>{if(i.debug("Displaying filter panel"),P){const M=ha(e),I=M.items.filter(R=>{var T;if(R.value!==void 0)return!0;const k=(T=e.current.getColumn(R.columnField).filterOperators)==null?void 0:T.find($=>$.value===R.operatorValue);return!(typeof(k==null?void 0:k.requiresFilterValue)>"u"?!0:k==null?void 0:k.requiresFilterValue)});let O;I.find(R=>R.columnField===P)?O=I:t.disableMultipleColumnsFiltering?O=[B5({columnField:P},e)]:O=[...I,B5({columnField:P},e)],e.current.setFilterModel(A({},M,{items:O}))}e.current.showPreferences(Al.filters)},[e,i,t.disableMultipleColumnsFiltering]),f=C.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),p=C.useCallback(P=>{const M=ha(e);M.linkOperator!==P&&e.current.setFilterModel(A({},M,{linkOperator:P}),"changeLogicOperator")},[e]),h=C.useCallback(P=>{const M=ha(e);pc(M.quickFilterValues,P)||e.current.setFilterModel(A({},M,{quickFilterValues:[...P]}))},[e]),g=C.useCallback((P,M)=>{ha(e)!==P&&(i.debug("Setting filter model"),e.current.unstable_updateControlState("filter",uW(P,t.disableMultipleColumnsFiltering,e),M),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),v=C.useCallback(()=>{const P=Fu(e);return new Map(P.map(M=>[M.id,M.model]))},[e]);tr(e,{setFilterLinkOperator:p,unstable_applyFilters:s,deleteFilterItem:u,upsertFilterItem:l,upsertFilterItems:c,setFilterModel:g,showFilterPanel:d,hideFilterPanel:f,getVisibleRowModels:v,setQuickFilterValues:h});const b=C.useCallback((P,M)=>{var I,O;const L=ha(e);return!M.exportOnlyDirtyModels||t.filterModel!=null||((I=t.initialState)==null||(O=I.filter)==null?void 0:O.filterModel)!=null||!pc(L,oy())?A({},P,{filter:{filterModel:L}}):P},[e,t.filterModel,(n=t.initialState)==null||(r=n.filter)==null?void 0:r.filterModel]),x=C.useCallback((P,M)=>{var I;const O=(I=M.stateToRestore.filter)==null?void 0:I.filterModel;return O==null?P:(e.current.unstable_updateControlState("filter",uW(O,t.disableMultipleColumnsFiltering,e),"restoreState"),A({},P,{callbacks:[...P.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),y=C.useCallback((P,M)=>{if(M===Al.filters){var I;const O=t.components.FilterPanel;return N.jsx(O,A({},(I=t.componentsProps)==null?void 0:I.filterPanel))}return P},[t.components.FilterPanel,(o=t.componentsProps)==null?void 0:o.filterPanel]),w=C.useCallback(P=>{if(t.filterMode===am.client&&P.isRowMatchingFilters){const M=Kf(e),I={};for(let O=0;O<M.length;O+=1){const L=M[O];let R;if(typeof L=="string"&&L.startsWith("auto-generated-group-footer"))R=!0;else{const{passingFilterItems:T,passingQuickFilterValues:E}=P.isRowMatchingFilters(L);R=Gct([T],[E],P.filterModel,e)}I[L]=R}return{filteredRowsLookup:I,visibleRowsLookup:I,filteredDescendantCountLookup:{}}}return{visibleRowsLookup:{},filteredRowsLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode]);vi(e,"exportState",b),vi(e,"restoreState",x),vi(e,"preferencePanel",y),w6(e,KS,"filtering",w);const _=C.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const P=ha(e),M=Rle(e),I=P.items.filter(O=>O.columnField&&M[O.columnField]);I.length<P.items.length&&e.current.setFilterModel(A({},P,{items:I}))},[e,i]),S=C.useCallback(P=>{P==="filtering"&&e.current.unstable_applyFilters()},[e]);St(e,"rowsSet",a),St(e,"rowExpansionChange",e.current.unstable_applyFilters),St(e,"columnsChange",_),St(e,"activeStrategyProcessorChange",S),b0(()=>{e.current.unstable_applyFilters()}),C.useEffect(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},Xct=e=>A({},e,{focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null}}),Kct=(e,t)=>{const n=yo(e,"useGridFocus"),r=C.useRef(null),o=C.useCallback((v,m)=>{v&&e.current.getRow(v.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(v.id,v.field),m)},[e]),i=C.useCallback((v,m)=>{const b=hl(e);(b==null?void 0:b.id)===v&&(b==null?void 0:b.field)===m||(e.current.setState(x=>(n.debug(`Focusing on cell with id=${v} and field=${m}`),A({},x,{tabIndex:{cell:{id:v,field:m},columnHeader:null},focus:{cell:{id:v,field:m},columnHeader:null}}))),e.current.forceUpdate(),e.current.getRow(v)&&(b&&o(b,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(v,m))))},[e,n,o]),a=C.useCallback((v,m={})=>{const b=hl(e);o(b,m),e.current.setState(x=>(n.debug(`Focusing on column header with colIndex=${v}`),A({},x,{tabIndex:{columnHeader:{field:v},cell:null},focus:{columnHeader:{field:v},cell:null}}))),e.current.forceUpdate()},[e,n,o]),s=C.useCallback((v,m,b)=>{let x=e.current.getColumnIndex(m),y=e.current.getRowIndexRelativeToVisibleRows(v);const w=bi(e);b==="right"?x+=1:b==="left"?x-=1:y+=1;const _=J3(e,{pagination:t.pagination,paginationMode:t.paginationMode});x>=w.length?(y+=1,y<_.rows.length&&(x=0)):x<0&&(y-=1,y>=0&&(x=w.length-1)),y=ry(y,0,_.rows.length-1);const S=_.rows[y],P=e.current.unstable_getCellColSpanInfo(S.id,x);P&&P.spannedByColSpan&&(b==="left"||b==="below"?x=P.leftVisibleCellIndex:b==="right"&&(x=P.rightVisibleCellIndex)),x=ry(x,0,w.length-1);const M=w[x];e.current.setCellFocus(S.id,M.field)},[e,t.pagination,t.paginationMode]),l=C.useCallback(({id:v,field:m})=>{e.current.setCellFocus(v,m)},[e]),c=C.useCallback((v,m)=>{m.key==="Enter"||m.key==="Tab"||WS(m.key)||e.current.setCellFocus(v.id,v.field)},[e]),u=C.useCallback(({field:v},m)=>{m.target===m.currentTarget&&e.current.setColumnHeaderFocus(v,m)},[e]),d=C.useCallback(()=>{n.debug("Clearing focus"),e.current.setState(v=>A({},v,{focus:{cell:null,columnHeader:null}}))},[n,e]),f=C.useCallback(v=>{r.current=v},[]),p=C.useCallback(v=>{const m=r.current;r.current=null;const b=hl(e);if(!b){m&&e.current.setCellFocus(m.id,m.field);return}if((m==null?void 0:m.id)===b.id&&(m==null?void 0:m.field)===b.field)return;const x=e.current.getCellElement(b.id,b.field);x!=null&&x.contains(v.target)||(m?e.current.setCellFocus(m.id,m.field):(e.current.setState(y=>A({},y,{focus:{cell:null,columnHeader:null}})),e.current.forceUpdate(),o(b,v)))},[e,o]),h=C.useCallback(v=>{if(v.cellMode==="view")return;const m=hl(e);((m==null?void 0:m.id)!==v.id||(m==null?void 0:m.field)!==v.field)&&e.current.setCellFocus(v.id,v.field)},[e]),g=C.useCallback(()=>{const v=hl(e);v&&!e.current.getRow(v.id)&&e.current.setState(m=>A({},m,{focus:{cell:null,columnHeader:null}}))},[e]);tr(e,{setCellFocus:i,setColumnHeaderFocus:a,unstable_moveFocusToRelativeCell:s}),C.useEffect(()=>{const v=Kn(e.current.rootElementRef.current);return v.addEventListener("click",p),()=>{v.removeEventListener("click",p)}},[e,p]),St(e,"columnHeaderBlur",d),St(e,"cellDoubleClick",l),St(e,"cellMouseDown",f),St(e,"cellKeyDown",c),St(e,"cellModeChange",h),St(e,"columnHeaderFocus",u),St(e,"rowsSet",g)};function Yct(e,t){const n=VS(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const Zct=(e,t)=>{const n=yo(e,"useGridKeyboardNavigation"),r=wg(e,t).rows,o=C.useMemo(()=>Yct(e,r),[e,r]),i=C.useCallback((d,f,p="left")=>{const h=Fu(e),g=e.current.unstable_getCellColSpanInfo(f,d);g&&g.spannedByColSpan&&(p==="left"?d=g.leftVisibleCellIndex:p==="right"&&(d=g.rightVisibleCellIndex));const v=h.findIndex(b=>b.id===f);n.debug(`Navigating to cell row ${v}, col ${d}`),e.current.scrollToIndexes({colIndex:d,rowIndex:v});const m=e.current.getVisibleColumns()[d].field;e.current.setCellFocus(f,m)},[e,n]),a=C.useCallback((d,f)=>{n.debug(`Navigating to header col ${d}`),e.current.scrollToIndexes({colIndex:d});const p=e.current.getVisibleColumns()[d].field;e.current.setColumnHeaderFocus(p,f)},[e,n]),s=C.useCallback(d=>o[d].id,[o]),l=C.useCallback((d,f)=>{const p=e.current.getRootDimensions();if(o.length===0||!p)return;const h=e.current.unstable_getViewportPageSize(),g=d.field?e.current.getColumnIndex(d.field):0,v=o.findIndex(_=>_.id===d.id),m=0,b=o.length-1,x=0,y=bi(e).length-1;let w=!0;switch(f.key){case"ArrowDown":case"Enter":{v<b&&i(g,s(v+1));break}case"ArrowUp":{v>m?i(g,s(v-1)):a(g,f);break}case"ArrowRight":{g<y&&i(g+1,s(v),"right");break}case"ArrowLeft":{g>x&&i(g-1,s(v));break}case"Tab":{f.shiftKey&&g>x?i(g-1,s(v),"left"):!f.shiftKey&&g<y&&i(g+1,s(v),"right");break}case" ":{if(d.field===y6)break;const S=d.colDef;if(S&&S.type==="treeDataGroup")break;!f.shiftKey&&v<b&&i(g,s(Math.min(v+h,b)));break}case"PageDown":{v<b&&i(g,s(Math.min(v+h,b)));break}case"PageUp":{const _=Math.max(v-h,m);_!==v&&_>=m?i(g,s(_)):a(g,f);break}case"Home":{f.ctrlKey||f.metaKey||f.shiftKey?i(x,s(m)):i(x,s(v));break}case"End":{f.ctrlKey||f.metaKey||f.shiftKey?i(y,s(b)):i(y,s(v));break}default:w=!1}w&&f.preventDefault()},[e,o,i,a,s]),c=C.useCallback((d,f)=>{const p=f.currentTarget.querySelector(`.${We.columnHeaderTitleContainerContent}`);if(!!p&&p.contains(f.target)&&d.field!==v0.field||!e.current.getRootDimensions())return;const v=e.current.unstable_getViewportPageSize(),m=d.field?e.current.getColumnIndex(d.field):0,b=0,x=o.length-1,y=0,w=bi(e).length-1;let _=!0;switch(f.key){case"ArrowDown":{i(m,s(b));break}case"ArrowRight":{m<w&&a(m+1,f);break}case"ArrowLeft":{m>y&&a(m-1,f);break}case"PageDown":{x!==null&&i(m,s(Math.min(b+v,x)));break}case"Home":{a(y,f);break}case"End":{a(w,f);break}case"Enter":{(f.ctrlKey||f.metaKey)&&e.current.toggleColumnMenu(d.field);break}case" ":break;default:_=!1}_&&f.preventDefault()},[e,o,i,a,s]),u=C.useCallback((d,f)=>{if(!f.currentTarget.contains(f.target))return;const p=e.current.getCellParams(d.id,d.field);p.cellMode!==_n.Edit&&WS(f.key)&&e.current.publishEvent("cellNavigationKeyDown",p,f)},[e]);St(e,"cellNavigationKeyDown",l),St(e,"columnHeaderKeyDown",c),St(e,"cellKeyDown",u)},nde=e=>e?0:100,dW=e=>t=>A({},t,{pagination:A({},t.pagination,{pageSize:e})}),Qct=(e,t)=>{var n,r;const o=yo(e,"useGridPageSize"),i=Rt(e,m0);e.current.unstable_registerControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:ub,changeEvent:"pageSizeChange"});const s={setPageSize:C.useCallback(d=>{d!==ub(e)&&(o.debug(`Setting page size to ${d}`),e.current.setState(dW(d)),e.current.forceUpdate())},[e,o])};tr(e,s);const l=C.useCallback((d,f)=>{var p,h;const g=ub(e);return!f.exportOnlyDirtyModels||t.pageSize!=null||((p=t.initialState)==null||(h=p.pagination)==null?void 0:h.pageSize)!=null||g!==nde(t.autoPageSize)?A({},d,{pagination:A({},d.pagination,{pageSize:g})}):d},[e,t.pageSize,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize,t.autoPageSize]),c=C.useCallback((d,f)=>{var p;const h=(p=f.stateToRestore.pagination)==null?void 0:p.pageSize;return h!=null&&e.current.setState(dW(h)),d},[e]);vi(e,"exportState",l),vi(e,"restoreState",c);const u=C.useCallback(()=>{const d=e.current.getRootDimensions();if(!t.autoPageSize||!d)return;const f=Jue(e),p=Math.floor((d.viewportInnerSize.height-f.top-f.bottom)/i);e.current.setPageSize(p)},[e,t.autoPageSize,i]);St(e,"viewportInnerSizeChange",u),C.useEffect(()=>{t.pageSize!=null&&!t.autoPageSize&&e.current.setPageSize(t.pageSize)},[e,t.autoPageSize,t.pageSize]),C.useEffect(()=>{u()},[u])},j5=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,z5=e=>e.pageCount?A({},e,{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,fW=e=>t=>A({},t,{pagination:z5(A({},t.pagination,{page:e}))});Gs(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Jct=(e,t)=>{var n,r;const o=yo(e,"useGridPage"),i=Rt(e,qz);e.current.unstable_registerControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:Hv,changeEvent:"pageChange"});const s={setPage:C.useCallback(f=>{o.debug(`Setting page to ${f}`),e.current.setState(fW(f)),e.current.forceUpdate()},[e,o])};tr(e,s);const l=C.useCallback((f,p)=>{var h,g;const v=Hv(e);return!p.exportOnlyDirtyModels||t.page!=null||((h=t.initialState)==null||(g=h.pagination)==null?void 0:g.page)!=null||v!==0?A({},f,{pagination:A({},f.pagination,{page:v})}):f},[e,t.page,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.page]),c=C.useCallback((f,p)=>{var h,g;const v=(h=(g=p.stateToRestore.pagination)==null?void 0:g.page)!=null?h:Hv(e);return e.current.setState(fW(v)),f},[e]);vi(e,"exportState",l),vi(e,"restoreState",c);const u=f=>{e.current.setState(p=>{const h=j5(p.pagination.rowCount,f);return A({},p,{pagination:z5(A({},p.pagination,{pageCount:h,page:p.pagination.page}))})}),e.current.forceUpdate()},d=()=>e.current.scrollToIndexes({rowIndex:Hv(e)*ub(e)});St(e,"pageSizeChange",u),St(e,"pageChange",d),C.useEffect(()=>{},[t.rowCount,t.paginationMode]),C.useEffect(()=>{e.current.setState(f=>{const p=t.rowCount!==void 0?t.rowCount:i,h=j5(p,f.pagination.pageSize),g=t.page==null?f.pagination.page:t.page;return A({},f,{pagination:z5(A({},f.pagination,{page:g,rowCount:p,pageCount:h}))})}),e.current.forceUpdate()},[i,t.rowCount,t.page,t.paginationMode,e])},eut=(e,t)=>{var n,r,o,i,a,s,l,c;let u;return t.pageSize!=null?u=t.pageSize:((n=t.initialState)==null||(r=n.pagination)==null?void 0:r.pageSize)!=null?u=t.initialState.pagination.pageSize:u=nde(t.autoPageSize),A({},e,{pagination:{pageSize:u,page:(o=(i=t.page)!=null?i:(a=t.initialState)==null||(s=a.pagination)==null?void 0:s.page)!=null?o:0,pageCount:j5((l=t.rowCount)!=null?l:0,u),rowCount:(c=t.rowCount)!=null?c:0}})},tut=(e,t)=>{Qct(e,t),Jct(e,t)},nut=(e,t)=>{var n,r;return A({},e,{preferencePanel:(n=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?n:{open:!1}})},rut=(e,t)=>{var n;const r=yo(e,"useGridPreferencesPanel"),o=C.useRef(),i=C.useRef(),a=C.useCallback(()=>{r.debug("Hiding Preferences Panel");const f=Rm(e.current.state);f.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:f.openedPanelValue}),e.current.setState(p=>A({},p,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),s=C.useCallback(()=>{i.current=setTimeout(()=>clearTimeout(o.current),0)},[]),l=C.useCallback(()=>{o.current=setTimeout(a,100)},[a]),c=C.useCallback(f=>{r.debug("Opening Preferences Panel"),s(),e.current.setState(p=>A({},p,{preferencePanel:A({},p.preferencePanel,{open:!0,openedPanelValue:f})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:f}),e.current.forceUpdate()},[r,s,e]);tr(e,{showPreferences:c,hidePreferences:l});const u=C.useCallback((f,p)=>{var h;const g=Rm(e.current.state);return!p.exportOnlyDirtyModels||((h=t.initialState)==null?void 0:h.preferencePanel)!=null||g.open?A({},f,{preferencePanel:g}):f},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),d=C.useCallback((f,p)=>{const h=p.stateToRestore.preferencePanel;return h!=null&&e.current.setState(g=>A({},g,{preferencePanel:h})),f},[e]);vi(e,"exportState",u),vi(e,"restoreState",d),C.useEffect(()=>()=>{clearTimeout(o.current),clearTimeout(i.current)},[])},Zr=e=>e.editRows;function pW(e){return typeof e.then=="function"}const out=(e,t)=>{var n;const r=yo(e,"useGridEditRows"),o=x=>(...y)=>{t.editMode===Di.Cell&&x(...y)},i=C.useCallback((x,y,w)=>{e.current.getCellMode(x,y)!==w&&(r.debug(`Switching cell id: ${x} field: ${y} to mode: ${w}`),e.current.setState(_=>{const S=A({},_.editRows);return S[x]=A({},S[x]),w===_n.Edit?S[x][y]={value:e.current.getCellValue(x,y)}:(delete S[x][y],Object.keys(S[x]).length||delete S[x]),A({},_,{editRows:S})}),e.current.forceUpdate(),e.current.publishEvent("cellModeChange",e.current.getCellParams(x,y)))},[e,r]),a=C.useCallback((x,y)=>{const w=Zr(e.current.state);return w[x]&&w[x][y]?_n.Edit:_n.View},[e]),s=C.useCallback((x,y={})=>{var w;const{id:_,field:S}=x;e.current.unstable_runPendingEditCellValueMutation(_,S);const P=e.current.getEditRowsModel();if(!P[_]||!P[_][S])throw new Error(`MUI: Cell at id: ${_} and field: ${S} is not in edit mode.`);const M=P[_][S],I=e.current.getColumn(S),O=e.current.getRow(_);if((w=t.experimentalFeatures)!=null&&w.preventCommitWhileValidating){const T=P[_][S];if(T.isValidating||T.error)return!1}const L=A({},x,{value:M.value});let R=!!M.error;if(!R&&typeof I.preProcessEditCellProps=="function"){const T=I.preProcessEditCellProps({id:_,row:O,props:M});if(pW(T))return T.then(E=>(e.current.unstable_setEditCellProps({id:_,field:S,props:E}),E.error?!1:(e.current.publishEvent("cellEditCommit",L,y),!0)));e.current.unstable_setEditCellProps({id:_,field:S,props:T}),R=!!T.error}return R?!1:(e.current.publishEvent("cellEditCommit",L,y),!0)},[e,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),l=C.useCallback(x=>{const y=e.current.getColumn(x.field),w=e.current.getRow(x.id);return new Promise(_=>{let S={value:x.value};const M=e.current.getEditRowsModel()[x.id][x.field];if(typeof y.preProcessEditCellProps!="function"){e.current.unstable_setEditCellProps(A({},x,{props:S})),_(!0);return}S=e.current.unstable_setEditCellProps(A({},x,{props:A({},M,{isValidating:!0})})),Promise.resolve(y.preProcessEditCellProps({id:x.id,row:w,props:A({},S,{value:e.current.unstable_parseValue(x.id,x.field,x.value)})})).then(I=>{e.current.unstable_setEditCellProps(A({},x,{props:A({},I,{isValidating:!1})})),_(!I.error)})})},[e]);tr(e,{setCellMode:i,getCellMode:a,commitCellChange:s,unstable_setCellEditingEditCellValue:l});const u=C.useCallback(async(x,y)=>{if(y.which===229)return;const{id:w,field:_,cellMode:S,isEditable:P}=x;if(!P)return;const M=S===_n.Edit,I=y.ctrlKey||y.metaKey||y.altKey;if(!M&&pat(y)&&!I&&!(y.key===" "&&y.shiftKey)&&e.current.publishEvent("cellEditStart",x,y),!M&&k5(y.key)&&(e.current.setEditCellValue({id:w,field:_,value:""}),e.current.commitCellChange({id:w,field:_},y),e.current.publishEvent("cellEditStop",x,y)),M&&Z7(y.key)){const O={id:w,field:_};if(!await e.current.commitCellChange(O,y))return}M&&hat(y.key)&&e.current.publishEvent("cellEditStop",x,y)},[e]),d=C.useCallback((x,y)=>{x.isEditable&&e.current.publishEvent("cellEditStart",x,y)},[e]),f=async(x,y)=>{x.cellMode!==_n.View&&(await e.current.commitCellChange(x,y),e.current.publishEvent("cellEditStop",x,y))},p=Dn((x,y)=>{f(x,y)}),h=Dn(()=>{const x=hl(e);if(!x)return;const y=e.current.getCellParams(x.id,x.field);f(y,{})}),g=C.useCallback((x,y)=>{x.isEditable&&(e.current.setCellMode(x.id,x.field,_n.Edit),R5(y)&&Y3(y)&&e.current.unstable_setEditCellProps({id:x.id,field:x.field,props:{value:""}}))},[e]),v=C.useCallback((x,y)=>{if(e.current.setCellMode(x.id,x.field,_n.View),!!R5(y)){if(Z7(y.key)){e.current.publishEvent("cellNavigationKeyDown",x,y);return}(y.key==="Escape"||k5(y.key))&&e.current.setCellFocus(x.id,x.field)}},[e]),m=C.useCallback(x=>{const{id:y,field:w}=x,_=e.current.getEditRowsModel(),{value:S}=_[y][w];r.debug(`Setting cell id: ${y} field: ${w} to value: ${S==null?void 0:S.toString()}`);const P=e.current.getRow(y);if(P){const M=e.current.getColumn(x.field);let I=A({},P,{[w]:S});M.valueSetter&&(I=M.valueSetter({row:P,value:S})),e.current.updateRows([I])}},[e,r]),b=C.useCallback(x=>{const y=e.current.getRow(x.id),w=e.current.getColumn(x.field),_=w.preProcessEditCellProps?w.preProcessEditCellProps({id:x.id,row:y,props:x.props}):x.props;pW(_)?_.then(S=>{e.current.unstable_setEditCellProps(A({},x,{props:S}))}):e.current.unstable_setEditCellProps(A({},x,{props:_}))},[e]);St(e,"cellKeyDown",o(u)),St(e,"cellDoubleClick",o(d)),St(e,"cellFocusOut",o(p)),St(e,"columnHeaderDragStart",o(h)),St(e,"cellEditStart",o(g)),St(e,"cellEditStop",o(v)),St(e,"cellEditCommit",o(m)),St(e,"editCellPropsChange",o(b)),Rn(e,"cellEditCommit",t.onCellEditCommit),Rn(e,"cellEditStart",t.onCellEditStart),Rn(e,"cellEditStop",t.onCellEditStop)},iut=(e,t)=>{var n,r;const o=C.useRef(null),i=C.useRef(null),a=Rt(e,Ts),s=S=>(...P)=>{t.editMode===Di.Row&&S(...P)},l=C.useCallback((S,P)=>{P!==e.current.getRowMode(S)&&(e.current.setState(M=>{const I=A({},M.editRows);return P===Un.Edit?(I[S]={},a.forEach(O=>{const L=e.current.getCellParams(S,O.field);L.isEditable&&(I[S][O.field]={value:L.value})})):delete I[S],A({},M,{editRows:I})}),e.current.forceUpdate())},[e,a]),c=C.useCallback(S=>t.editMode===Di.Cell?Un.View:Zr(e.current.state)[S]?Un.Edit:Un.View,[e,t.editMode]),u=C.useCallback((S,P={})=>{var M;if(t.editMode===Di.Cell)throw new Error("MUI: You can't commit changes when the edit mode is 'cell'.");e.current.unstable_runPendingEditCellValueMutation(S);const O=e.current.getEditRowsModel()[S];if(!O)throw new Error(`MUI: Row at id: ${S} is not being edited.`);if((M=t.experimentalFeatures)!=null&&M.preventCommitWhileValidating&&!Object.keys(O).reduce((E,k)=>E&&!O[k].isValidating&&!O[k].error,!0)||Object.values(O).some(T=>!!T.error))return!1;const R=Object.keys(O).filter(T=>typeof e.current.getColumn(T).preProcessEditCellProps=="function");if(R.length>0){const T=e.current.getRow(S),E=R.map(async k=>{const B=e.current.getColumn(k),$=await Promise.resolve(B.preProcessEditCellProps({id:S,row:T,props:O[k]}));return e.current.unstable_setEditCellProps({id:S,field:k,props:$}),$.error});return Promise.all(E).then(k=>k.some(B=>!!B)?!1:(e.current.publishEvent("rowEditCommit",S,P),!0))}return e.current.publishEvent("rowEditCommit",S,P),!0},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),d=C.useCallback(S=>{const M=e.current.getEditRowsModel()[S.id],I=e.current.getRow(S.id);let O=!0;return new Promise(L=>{Object.keys(M).forEach(async R=>{const T=e.current.getColumn(R);let E=R===S.field?{value:S.value}:M[R];E=e.current.unstable_setEditCellProps({id:S.id,field:R,props:A({},E,{isValidating:!0})}),T.preProcessEditCellProps&&(E=await Promise.resolve(T.preProcessEditCellProps({id:S.id,row:I,props:A({},E,{value:R===S.field?e.current.unstable_parseValue(S.id,R,S.value):E.value})}))),E.error&&(O=!1),e.current.unstable_setEditCellProps({id:S.id,field:R,props:A({},E,{isValidating:!1})})}),L(O)})},[e]);tr(e,{setRowMode:l,getRowMode:c,commitRowChange:u,unstable_setRowEditingEditCellValue:d});const p=C.useCallback(async(S,P)=>{if(P.which===229)return;const{cellMode:M,isEditable:I}=S;if(!I)return;const O=M===_n.Edit,L=e.current.getRowParams(S.id);if(O)if(P.key==="Enter"){var R;if(!await e.current.commitRowChange(S.id)&&(R=t.experimentalFeatures)!=null&&R.preventCommitWhileValidating)return;e.current.publishEvent("rowEditStop",L,P)}else P.key==="Escape"&&e.current.publishEvent("rowEditStop",L,P);else P.key==="Enter"&&e.current.publishEvent("rowEditStart",L,P)},[e,(r=t.experimentalFeatures)==null?void 0:r.preventCommitWhileValidating]),h=C.useCallback((S,P)=>{if(!S.isEditable)return;const M=e.current.getRowParams(S.id);e.current.publishEvent("rowEditStart",M,P)},[e]),g=C.useCallback(S=>{const P=e.current.getRow(S.id),I=e.current.getEditRowsModel()[S.id];Object.keys(I).forEach(async O=>{const L=e.current.getColumn(O);if(L.preProcessEditCellProps){const R=O===S.field?S.props:I[O],T=await Promise.resolve(L.preProcessEditCellProps({id:S.id,row:P,props:R}));e.current.unstable_setEditCellProps({id:S.id,field:O,props:T})}else O===S.field&&e.current.unstable_setEditCellProps(S)})},[e]),v=C.useCallback(S=>{e.current.setRowMode(S.id,Un.Edit)},[e]),m=C.useCallback((S,P)=>{e.current.setRowMode(S.id,Un.View),P.key==="Enter"&&e.current.publishEvent("cellNavigationKeyDown",S,P)},[e]),b=C.useCallback(S=>{const M=e.current.getEditRowsModel()[S];if(!M)throw new Error(`MUI: Row at id: ${S} is not being edited.`);const I=e.current.getRow(S);if(I){let O=A({},I);Object.keys(M).forEach(L=>{const R=e.current.getColumn(L),T=M[L].value;R.valueSetter?O=R.valueSetter({row:O,value:T}):O[L]=T}),e.current.updateRows([O])}},[e]),x=C.useCallback(S=>{i.current=S},[]),y=async(S,P)=>{S.cellMode!==_n.View&&(i.current=null,o.current=setTimeout(async()=>{var M;if(((M=i.current)==null?void 0:M.id)!==S.id){await e.current.commitRowChange(S.id,P);const I=e.current.getRowParams(S.id);e.current.publishEvent("rowEditStop",I,P)}}))},w=Dn((S,P)=>{y(S,P)}),_=Dn(()=>{const S=hl(e);if(!S)return;const P=e.current.getCellParams(S.id,S.field);y(P,{})});St(e,"cellKeyDown",s(p)),St(e,"cellDoubleClick",s(h)),St(e,"editCellPropsChange",s(g)),St(e,"rowEditStart",s(v)),St(e,"rowEditStop",s(m)),St(e,"rowEditCommit",s(b)),St(e,"cellFocusIn",s(x)),St(e,"cellFocusOut",s(w)),St(e,"columnHeaderDragStart",s(_)),Rn(e,"rowEditCommit",t.onRowEditCommit),Rn(e,"rowEditStart",t.onRowEditStart),Rn(e,"rowEditStop",t.onRowEditStop)},aut=e=>A({},e,{editRows:{}});function sut(e,t){var n;const r=yo(e,"useGridEditRows");out(e,t),iut(e,t);const o=C.useRef({});e.current.unstable_registerControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:Zr,changeEvent:"editRowsModelChange"});const i=C.useCallback(g=>!g.rowNode.isAutoGenerated&&!g.rowNode.isPinned&&!!g.colDef.editable&&!!g.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(g)),[t.isCellEditable]),a=(g,v,m,b)=>{if(!m){b();return}if(o.current[g]||(o.current[g]={}),o.current[g][v]){const[w]=o.current[g][v];clearTimeout(w)}const x=()=>{b();const[w]=o.current[g][v];clearTimeout(w),delete o.current[g][v]},y=setTimeout(()=>{b(),delete o.current[g][v]},m);o.current[g][v]=[y,x]},s=C.useCallback((g,v)=>{if(o.current[g]){if(!v)Object.keys(o.current[g]).forEach(m=>{const[,b]=o.current[g][m];b()});else if(o.current[g][v]){const[,m]=o.current[g][v];m()}}},[]),l=C.useCallback((g,v={})=>{a(g.id,g.field,g.debounceMs,()=>{var m;if((m=t.experimentalFeatures)!=null&&m.preventCommitWhileValidating)return t.editMode==="row"?e.current.unstable_setRowEditingEditCellValue(g):e.current.unstable_setCellEditingEditCellValue(g);const b={id:g.id,field:g.field,props:{value:g.value}};return e.current.publishEvent("editCellPropsChange",b,v)})},[e,t.editMode,(n=t.experimentalFeatures)==null?void 0:n.preventCommitWhileValidating]),c=C.useCallback((g,v,m)=>{const b=e.current.getColumn(v);return b.valueParser?b.valueParser(m,e.current.getCellParams(g,v)):m},[e]),u=C.useCallback(g=>{const{id:v,field:m,props:b}=g;return r.debug(`Setting cell props on id: ${v} field: ${m}`),e.current.setState(y=>{const w=A({},y.editRows);return w[v]=A({},y.editRows[v]),w[v][m]=A({},b,{value:c(v,m,b.value)}),A({},y,{editRows:w})}),e.current.forceUpdate(),Zr(e.current.state)[v][m]},[e,r,c]),d=C.useCallback(g=>{Zr(e.current.state)!==g&&(r.debug("Setting editRows model"),e.current.setState(m=>A({},m,{editRows:g})),e.current.forceUpdate())},[e,r]),f=C.useCallback(()=>Zr(e.current.state),[e]),p=C.useCallback((g,v)=>{const m=v.detail>1;g.isEditable&&g.cellMode===_n.View&&m&&v.preventDefault()},[]);St(e,"cellMouseDown",p),Rn(e,"editCellPropsChange",t.onEditCellPropsChange),tr(e,{isCellEditable:i,setEditRowsModel:d,getEditRowsModel:f,setEditCellValue:l,unstable_setEditCellProps:u,unstable_parseValue:c,unstable_runPendingEditCellValueMutation:s}),C.useEffect(()=>{t.editRowsModel!==void 0&&e.current.setEditRowsModel(t.editRowsModel)},[e,t.editRowsModel])}const lut=["id","field"],cut=["id","field"],uut=Gs(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),dut=(e,t)=>{const[n,r]=C.useState({}),o=C.useRef(n),i=C.useRef({}),{processRowUpdate:a,onProcessRowUpdateError:s,cellModesModel:l,onCellModesModelChange:c,signature:u}=t,d=T=>(...E)=>{t.editMode===Di.Cell&&T(...E)},f=C.useCallback((T,E)=>{const k=e.current.getCellParams(T,E);if(!e.current.isCellEditable(k))throw new Error(`MUI: The cell with id=${T} and field=${E} is not editable.`)},[e]),p=C.useCallback((T,E,k)=>{if(e.current.getCellMode(T,E)!==k)throw new Error(`MUI: The cell with id=${T} and field=${E} is not in ${k} mode.`)},[e]),h=C.useCallback((T,E)=>{if(!T.isEditable||T.cellMode===_n.Edit)return;const k=A({},T,{reason:Qc.cellDoubleClick});e.current.publishEvent("cellEditStart",k,E)},[e]),g=C.useCallback((T,E)=>{if(T.cellMode===_n.View||e.current.getCellMode(T.id,T.field)===_n.View)return;const k=A({},T,{reason:Xl.cellFocusOut});e.current.publishEvent("cellEditStop",k,E)},[e]),v=C.useCallback((T,E)=>{if(T.cellMode===_n.Edit){if(E.which===229)return;let k;if(E.key==="Escape"?k=Xl.escapeKeyDown:E.key==="Enter"?k=Xl.enterKeyDown:E.key==="Tab"&&(k=E.shiftKey?Xl.shiftTabKeyDown:Xl.tabKeyDown,E.preventDefault()),k){const B=A({},T,{reason:k});e.current.publishEvent("cellEditStop",B,E)}}else if(T.isEditable){let k;if(E.key===" "&&E.shiftKey)return;if(Y3(E)||(E.ctrlKey||E.metaKey)&&E.key==="v"?k=Qc.printableKeyDown:E.key==="Enter"?k=Qc.enterKeyDown:(E.key==="Delete"||E.key==="Backspace")&&(k=Qc.deleteKeyDown),k){const B=A({},T,{reason:k,key:E.key});e.current.publishEvent("cellEditStart",B,E)}}},[e]),m=C.useCallback(T=>{const{id:E,field:k,reason:B,key:$}=T,j={id:E,field:k};B===Qc.printableKeyDown?C.version.startsWith("18")?j.initialValue=$:j.deleteValue=!0:B===Qc.deleteKeyDown&&(j.deleteValue=!0),e.current.startCellEditMode(j)},[e]),b=C.useCallback(T=>{const{id:E,field:k,reason:B}=T;e.current.unstable_runPendingEditCellValueMutation(E,k);let $;B===Xl.enterKeyDown?$="below":B===Xl.tabKeyDown?$="right":B===Xl.shiftTabKeyDown&&($="left");let j=B==="escapeKeyDown";Zr(e.current.state)[E][k].isProcessingProps&&!t.disableIgnoreModificationsIfProcessingProps&&(j=!0),e.current.stopCellEditMode({id:E,field:k,ignoreModifications:j,cellToFocusAfter:$})},[e,t.disableIgnoreModificationsIfProcessingProps]);St(e,"cellDoubleClick",d(h)),St(e,"cellFocusOut",d(g)),St(e,"cellKeyDown",d(v)),St(e,"cellEditStart",d(m)),St(e,"cellEditStop",d(b)),Rn(e,"cellEditStart",t.onCellEditStart),Rn(e,"cellEditStop",t.onCellEditStop);const x=C.useCallback((T,E)=>{const k=Zr(e.current.state);return k[T]&&k[T][E]?_n.Edit:_n.View},[e]),y=Dn(T=>{const E=T!==t.cellModesModel;if(c&&E){const k=u===Fd.DataGridPro?{api:e.current}:{};c(T,k)}t.cellModesModel&&E||(r(T),o.current=T,e.current.publishEvent("cellModesModelChange",T))}),w=C.useCallback((T,E,k)=>{const B=A({},o.current);if(k!==null)B[T]=A({},B[T],{[E]:A({},k)});else{const $=B[T],j=De($,[E].map(vw));B[T]=j,Object.keys(B[T]).length===0&&delete B[T]}y(B)},[y]),_=C.useCallback((T,E,k)=>{e.current.setState(B=>{const $=A({},B.editRows);return k!==null?$[T]=A({},$[T],{[E]:A({},k)}):(delete $[T][E],Object.keys($[T]).length===0&&delete $[T]),A({},B,{editRows:$})}),e.current.forceUpdate()},[e]),S=C.useCallback(T=>{const{id:E,field:k}=T,B=De(T,lut);f(E,k),p(E,k,_n.View),w(E,k,A({mode:_n.Edit},B))},[f,p,w]),P=Dn(T=>{const{id:E,field:k,deleteValue:B,initialValue:$}=T;let j=e.current.getCellValue(E,k);(B||$)&&(j=B?"":$),_(E,k,{value:j,error:!1,isProcessingProps:!1}),e.current.setCellFocus(E,k)}),M=C.useCallback(T=>{const{id:E,field:k}=T,B=De(T,cut);p(E,k,_n.Edit),w(E,k,A({mode:_n.View},B))},[p,w]),I=Dn(async T=>{const{id:E,field:k,ignoreModifications:B,cellToFocusAfter:$="none"}=T;p(E,k,_n.Edit),e.current.unstable_runPendingEditCellValueMutation(E,k);const j=()=>{_(E,k,null),w(E,k,null),$!=="none"&&e.current.unstable_moveFocusToRelativeCell(E,k,$)};if(B){j();return}const V=Zr(e.current.state),{error:q,isProcessingProps:Q}=V[E][k];if(q||Q){i.current[E][k].mode=_n.Edit,w(E,k,{mode:_n.Edit});return}const H=e.current.unstable_getRowWithUpdatedValuesFromCellEditing(E,k);if(a){const X=J=>{i.current[E][k].mode=_n.Edit,w(E,k,{mode:_n.Edit}),s?s(J):uut()};try{const J=e.current.getRow(E);Promise.resolve(a(H,J)).then(G=>{e.current.updateRows([G]),j()}).catch(X)}catch(J){X(J)}}else e.current.updateRows([H]),j()}),O=C.useCallback(async T=>{var E,k;const{id:B,field:$,value:j,debounceMs:V,unstable_skipValueParser:q}=T;f(B,$),p(B,$,_n.Edit);const Q=e.current.getColumn($),H=e.current.getRow(B);let X=j;Q.valueParser&&!q&&(X=Q.valueParser(j,e.current.getCellParams(B,$)));let J=Zr(e.current.state),G=A({},J[B][$],{value:X,changeReason:V?"debouncedSetEditCellValue":"setEditCellValue"});if(Q.preProcessEditCellProps){const ie=j!==J[B][$].value;G=A({},G,{isProcessingProps:!0}),_(B,$,G),G=await Promise.resolve(Q.preProcessEditCellProps({id:B,row:H,props:G,hasChanged:ie}))}return e.current.getCellMode(B,$)===_n.View?!1:(J=Zr(e.current.state),G=A({},G,{isProcessingProps:!1}),G.value=Q.preProcessEditCellProps?J[B][$].value:X,_(B,$,G),J=Zr(e.current.state),!((E=J[B])!=null&&(k=E[$])!=null&&k.error))},[e,f,p,_]),L=C.useCallback((T,E)=>{const k=e.current.getColumn(E),B=Zr(e.current.state),{value:$}=B[T][E],j=e.current.getRow(T);return k.valueSetter?k.valueSetter({value:$,row:j}):A({},j,{[E]:$})},[e]);tr(e,{getCellMode:x,startCellEditMode:S,stopCellEditMode:M,unstable_setCellEditingEditCellValue:O,unstable_getRowWithUpdatedValuesFromCellEditing:L}),C.useEffect(()=>{l&&y(l)},[l,y]),C.useEffect(()=>{const T=H3(e),E=i.current;i.current=qce(n),Object.entries(n).forEach(([k,B])=>{Object.entries(B).forEach(([$,j])=>{var V,q,Q;const H=((V=E[k])==null||(q=V[$])==null?void 0:q.mode)||_n.View,X=(Q=T[k])!=null?Q:k;j.mode===_n.Edit&&H===_n.View?P(A({id:X,field:$},j)):j.mode===_n.View&&H===_n.Edit&&I(A({id:X,field:$},j))})})},[e,n,P,I])},fut=["id"],put=["id"],hut=Gs(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#persistence."],"error"),mut=(e,t)=>{const[n,r]=C.useState({}),o=C.useRef(n),i=C.useRef({}),a=C.useRef(null),s=C.useRef(null),{processRowUpdate:l,onProcessRowUpdateError:c,rowModesModel:u,onRowModesModelChange:d,signature:f}=t,p=$=>(...j)=>{t.editMode===Di.Row&&$(...j)},h=C.useCallback(($,j)=>{const V=e.current.getCellParams($,j);if(!e.current.isCellEditable(V))throw new Error(`MUI: The cell with id=${$} and field=${j} is not editable.`)},[e]),g=C.useCallback(($,j)=>{if(e.current.getRowMode($)!==j)throw new Error(`MUI: The row with id=${$} is not in ${j} mode.`)},[e]),v=C.useCallback(($,j)=>{if(!$.isEditable||e.current.getRowMode($.id)===Un.Edit)return;const V=e.current.getRowParams($.id),q=A({},V,{field:$.field,reason:Jc.cellDoubleClick});e.current.publishEvent("rowEditStart",q,j)},[e]),m=C.useCallback($=>{s.current=$},[]),b=C.useCallback(($,j)=>{$.isEditable&&e.current.getRowMode($.id)!==Un.View&&(s.current=null,a.current=setTimeout(()=>{var V;if(a.current=null,((V=s.current)==null?void 0:V.id)!==$.id){if(!e.current.getRow($.id)||e.current.getRowMode($.id)===Un.View)return;const q=e.current.getRowParams($.id),Q=A({},q,{field:$.field,reason:Kl.rowFocusOut});e.current.publishEvent("rowEditStop",Q,j)}}))},[e]);C.useEffect(()=>()=>{clearTimeout(a.current)},[]);const x=C.useCallback(($,j)=>{if($.cellMode===Un.Edit){if(j.which===229)return;let V;if(j.key==="Escape")V=Kl.escapeKeyDown;else if(j.key==="Enter")V=Kl.enterKeyDown;else if(j.key==="Tab"){const q=Ap(e).filter(Q=>e.current.isCellEditable(e.current.getCellParams($.id,Q)));j.shiftKey?$.field===q[0]&&(V=Kl.shiftTabKeyDown):$.field===q[q.length-1]&&(V=Kl.tabKeyDown),V&&j.preventDefault()}if(V){const q=e.current.getRowParams($.id),Q=A({},q,{reason:V,field:$.field});e.current.publishEvent("rowEditStop",Q,j)}}else if($.isEditable){let V;if(j.key===" "&&j.shiftKey)return;if(Y3(j)||(j.ctrlKey||j.metaKey)&&j.key==="v"?V=Jc.printableKeyDown:j.key==="Enter"?V=Jc.enterKeyDown:(j.key==="Delete"||j.key==="Backspace")&&(V=Jc.deleteKeyDown),V){const q=e.current.getRowParams($.id),Q=A({},q,{field:$.field,key:j.key,reason:V});e.current.publishEvent("rowEditStart",Q,j)}}},[e]),y=C.useCallback($=>{const{id:j,field:V,reason:q,key:Q}=$,H={id:j,fieldToFocus:V};q===Jc.printableKeyDown?C.version.startsWith("18")?H.initialValue=Q:H.deleteValue=!!V:q===Jc.deleteKeyDown&&(H.deleteValue=!!V),e.current.startRowEditMode(H)},[e]),w=C.useCallback($=>{const{id:j,reason:V,field:q}=$;e.current.unstable_runPendingEditCellValueMutation(j);let Q;V===Kl.enterKeyDown?Q="below":V===Kl.tabKeyDown?Q="right":V===Kl.shiftTabKeyDown&&(Q="left");let H=V==="escapeKeyDown";const X=Zr(e.current.state);!H&&!t.disableIgnoreModificationsIfProcessingProps&&(H=Object.values(X[j]).some(J=>J.isProcessingProps)),e.current.stopRowEditMode({id:j,ignoreModifications:H,field:q,cellToFocusAfter:Q})},[e,t.disableIgnoreModificationsIfProcessingProps]);St(e,"cellDoubleClick",p(v)),St(e,"cellFocusIn",p(m)),St(e,"cellFocusOut",p(b)),St(e,"cellKeyDown",p(x)),St(e,"rowEditStart",p(y)),St(e,"rowEditStop",p(w)),Rn(e,"rowEditStart",t.onRowEditStart),Rn(e,"rowEditStop",t.onRowEditStop);const _=C.useCallback($=>{if(t.editMode===Di.Cell)return Un.View;const j=Zr(e.current.state);return j[$]&&Object.keys(j[$]).length>0?Un.Edit:Un.View},[e,t.editMode]),S=Dn($=>{const j=$!==t.rowModesModel;if(d&&j){const V=f===Fd.DataGridPro?{api:e.current}:{};d($,V)}t.rowModesModel&&j||(r($),o.current=$,e.current.publishEvent("rowModesModelChange",$))}),P=C.useCallback(($,j)=>{const V=A({},o.current);j!==null?V[$]=A({},j):delete V[$],S(V)},[S]),M=C.useCallback(($,j)=>{e.current.setState(V=>{const q=A({},V.editRows);return j!==null?q[$]=j:delete q[$],A({},V,{editRows:q})}),e.current.forceUpdate()},[e]),I=C.useCallback(($,j,V)=>{e.current.setState(q=>{const Q=A({},q.editRows);return V!==null?Q[$]=A({},Q[$],{[j]:A({},V)}):(delete Q[$][j],Object.keys(Q[$]).length===0&&delete Q[$]),A({},q,{editRows:Q})}),e.current.forceUpdate()},[e]),O=C.useCallback($=>{const{id:j}=$,V=De($,fut);g(j,Un.View),P(j,A({mode:Un.Edit},V))},[g,P]),L=Dn($=>{const{id:j,fieldToFocus:V,deleteValue:q,initialValue:Q}=$,X=Ap(e).reduce((J,G)=>{if(!e.current.getCellParams(j,G).isEditable)return J;let Y=e.current.getCellValue(j,G);return V===G&&(q||Q)&&(Y=q?"":Q),J[G]={value:Y,error:!1,isProcessingProps:!1},J},{});M(j,X),V&&e.current.setCellFocus(j,V)}),R=C.useCallback($=>{const{id:j}=$,V=De($,put);g(j,Un.Edit),P(j,A({mode:Un.View},V))},[g,P]),T=Dn($=>{const{id:j,ignoreModifications:V,field:q,cellToFocusAfter:Q="none"}=$;e.current.unstable_runPendingEditCellValueMutation(j);const H=()=>{Q!=="none"&&q&&e.current.unstable_moveFocusToRelativeCell(j,q,Q),M(j,null),P(j,null)};if(V){H();return}const X=Zr(e.current.state),J=e.current.getRow(j);if(Object.values(X[j]).some(le=>le.isProcessingProps)){i.current[j].mode=Un.Edit;return}if(Object.values(X[j]).some(le=>le.error)){i.current[j].mode=Un.Edit,P(j,{mode:Un.Edit});return}const Y=e.current.unstable_getRowWithUpdatedValuesFromRowEditing(j);if(l){const le=te=>{i.current[j].mode=Un.Edit,P(j,{mode:Un.Edit}),c?c(te):hut()};try{Promise.resolve(l(Y,J)).then(te=>{e.current.updateRows([te]),H()}).catch(le)}catch(te){le(te)}}else e.current.updateRows([Y]),H()}),E=C.useCallback($=>{const{id:j,field:V,value:q,debounceMs:Q,unstable_skipValueParser:H}=$;h(j,V);const X=e.current.getColumn(V),J=e.current.getRow(j);let G=q;X.valueParser&&!H&&(G=X.valueParser(q,e.current.getCellParams(j,V)));let ie=Zr(e.current.state),Y=A({},ie[j][V],{value:G,changeReason:Q?"debouncedSetEditCellValue":"setEditCellValue"});return X.preProcessEditCellProps||I(j,V,Y),new Promise(le=>{const te=[];if(X.preProcessEditCellProps){const re=Y.value!==ie[j][V].value;Y=A({},Y,{isProcessingProps:!0}),I(j,V,Y);const ae=ie[j],pe=De(ae,[V].map(vw)),we=Promise.resolve(X.preProcessEditCellProps({id:j,row:J,props:Y,hasChanged:re,otherFieldsProps:pe})).then(fe=>{if(e.current.getRowMode(j)===Un.View){le(!1);return}ie=Zr(e.current.state),fe=A({},fe,{isProcessingProps:!1}),fe.value=X.preProcessEditCellProps?ie[j][V].value:G,I(j,V,fe)});te.push(we)}Object.entries(ie[j]).forEach(([re,ae])=>{if(re===V)return;const pe=e.current.getColumn(re);if(!pe.preProcessEditCellProps)return;ae=A({},ae,{isProcessingProps:!0}),I(j,re,ae),ie=Zr(e.current.state);const we=ie[j],fe=De(we,[re].map(vw)),_e=Promise.resolve(pe.preProcessEditCellProps({id:j,row:J,props:ae,hasChanged:!1,otherFieldsProps:fe})).then(W=>{if(e.current.getRowMode(j)===Un.View){le(!1);return}W=A({},W,{isProcessingProps:!1}),I(j,re,W)});te.push(_e)}),Promise.all(te).then(()=>{e.current.getRowMode(j)===Un.Edit?(ie=Zr(e.current.state),le(!ie[j][V].error)):le(!1)})})},[e,h,I]),k=C.useCallback($=>{const j=Zr(e.current.state),V=e.current.getRow($);let q=A({},V);return Object.entries(j[$]).forEach(([Q,H])=>{const X=e.current.getColumn(Q);X.valueSetter?q=X.valueSetter({value:H.value,row:q}):q[Q]=H.value}),q},[e]);tr(e,{getRowMode:_,startRowEditMode:O,stopRowEditMode:R,unstable_setRowEditingEditCellValue:E,unstable_getRowWithUpdatedValuesFromRowEditing:k}),C.useEffect(()=>{u&&S(u)},[u,S]),C.useEffect(()=>{const $=H3(e),j=i.current;i.current=qce(n),Object.entries(n).forEach(([V,q])=>{var Q,H;const X=((Q=j[V])==null?void 0:Q.mode)||Un.View,J=(H=$[V])!=null?H:V;q.mode===Un.Edit&&X===Un.View?L(A({id:J},q)):q.mode===Un.View&&X===Un.Edit&&T(A({id:J},q))})},[e,n,L,T])},gut=e=>A({},e,{editRows:{}}),vut=(e,t)=>{dut(e,t),mut(e,t);const n=C.useRef({}),{isCellEditable:r}=t,o=C.useCallback(d=>d.rowNode.isAutoGenerated||!d.colDef.editable||!d.colDef.renderEditCell?!1:r?r(d):!d.rowNode.isPinned,[r]),i=(d,f,p,h)=>{if(!p){h();return}if(n.current[d]||(n.current[d]={}),n.current[d][f]){const[m]=n.current[d][f];clearTimeout(m)}const g=()=>{const[m]=n.current[d][f];clearTimeout(m),h(),delete n.current[d][f]},v=setTimeout(()=>{h(),delete n.current[d][f]},p);n.current[d][f]=[v,g]};C.useEffect(()=>{const d=n.current;return()=>{Object.entries(d).forEach(([f,p])=>{Object.keys(p).forEach(h=>{const[g]=d[f][h];clearTimeout(g),delete d[f][h]})})}},[]);const a=C.useCallback((d,f)=>{if(n.current[d]){if(!f)Object.keys(n.current[d]).forEach(p=>{const[,h]=n.current[d][p];h()});else if(n.current[d][f]){const[,p]=n.current[d][f];p()}}},[]),s=C.useCallback(d=>{const{id:f,field:p,debounceMs:h}=d;return new Promise(g=>{i(f,p,h,async()=>{const v=t.editMode===Di.Row?e.current.unstable_setRowEditingEditCellValue:e.current.unstable_setCellEditingEditCellValue;if(e.current.getCellMode(f,p)===_n.Edit){const m=await v(d);g(m)}})})},[e,t.editMode]),l=C.useCallback((d,f)=>t.editMode===Di.Cell?e.current.unstable_getRowWithUpdatedValuesFromCellEditing(d,f):e.current.unstable_getRowWithUpdatedValuesFromRowEditing(d),[e,t.editMode]),c=C.useCallback((d,f)=>({changeReason:Zr(e.current.state)[d][f].changeReason}),[e]);tr(e,{isCellEditable:o,setEditCellValue:s,unstable_runPendingEditCellValueMutation:a,unstable_getRowWithUpdatedValues:l,unstable_getEditCellMeta:c})},but=(e,t,n)=>(n.current.unstable_caches.rows=oM({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),A({},e,{rows:Zue({apiRef:n,previousTree:null,rowCountProp:t.rowCount,loadingProp:t.loading})})),yut=(e,t)=>{const n=yo(e,"useGridRows"),r=wg(e,t),o=C.useRef(Date.now()),i=C.useRef(null),a=C.useCallback(I=>{var O;return(O=om(e)[I])!=null?O:null},[e]),s=C.useMemo(()=>r.rows.reduce((I,{id:O},L)=>(I[O]=L,I),{}),[r.rows]),l=C.useCallback((I,O)=>{const L=()=>{i.current=null,o.current=Date.now(),e.current.setState(T=>A({},T,{rows:Zue({apiRef:e,previousTree:yd(e),rowCountProp:t.rowCount,loadingProp:t.loading})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(i.current&&(clearTimeout(i.current),i.current=null),e.current.unstable_caches.rows=I,!O){L();return}const R=t.throttleRowsMs-(Date.now()-o.current);if(R>0){i.current=setTimeout(L,R);return}L()},[t.throttleRowsMs,t.rowCount,t.loading,e]),c=C.useCallback(I=>{n.debug(`Updating all rows, new length ${I.length}`);const O=oM({rows:I,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),L=e.current.unstable_caches.rows;O.rowsBeforePartialUpdates=L.rowsBeforePartialUpdates,l(O,!0)},[n,t.getRowId,t.loading,t.rowCount,l,e]),u=C.useCallback(I=>{if(t.signature===Fd.DataGrid&&I.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const O=new Map;I.forEach(E=>{const k=N5(E,t.getRowId,"A row was provided without id when calling updateRows():");O.has(k)?O.set(k,A({},O.get(k),E)):O.set(k,E)});const L=[],R=e.current.unstable_caches.rows,T={rowsBeforePartialUpdates:R.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:R.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:R.rowCountPropBeforePartialUpdates,idRowsLookup:A({},R.idRowsLookup),idToIdLookup:A({},R.idToIdLookup),ids:[...R.ids]};O.forEach((E,k)=>{if(E._action==="delete"){delete T.idRowsLookup[k],delete T.idToIdLookup[k],L.push(k);return}if(!e.current.getRow(k)){T.idRowsLookup[k]=E,T.idToIdLookup[k]=k,T.ids.push(k);return}T.idRowsLookup[k]=A({},e.current.getRow(k),E)}),L.length>0&&(T.ids=T.ids.filter(E=>!L.includes(E))),l(T,!0)},[t.signature,t.getRowId,l,e]),d=C.useCallback(()=>{const I=Kf(e),O=om(e);return new Map(I.map(L=>[L,O[L]]))},[e]),f=C.useCallback(()=>HS(e),[e]),p=C.useCallback(()=>Kf(e),[e]),h=C.useCallback(I=>s[I],[s]),g=C.useCallback((I,O)=>{const L=e.current.getRowNode(I);if(!L)throw new Error(`MUI: No row with id #${I} found`);const R=A({},L,{childrenExpanded:O});e.current.setState(T=>A({},T,{rows:A({},T.rows,{tree:A({},T.rows.tree,{[I]:R})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",R)},[e]),v=C.useCallback(I=>{var O;return(O=yd(e)[I])!=null?O:null},[e]),m=C.useCallback(({skipAutoGeneratedRows:I=!0,groupId:O,applySorting:L,applyFiltering:R})=>{const T=yd(e);let E;if(L){const k=T[O];if(!k)return[];const B=G3(e);E=[];const $=B.findIndex(j=>j===O)+1;for(let j=$;j<B.length&&T[B[j]].depth>k.depth;j+=1){const V=B[j],q=T[V];(!I||!q.isAutoGenerated)&&E.push(V)}}else E=Que(T,O,I);if(R){const k=Uz(e);E=E.filter(B=>k[B]!==!1)}return E},[e]),b=C.useCallback((I,O)=>{const L=Kf(e),R=L.findIndex(E=>E===I);if(R===-1||R===O)return;n.debug(`Moving row ${I} to index ${O}`);const T=[...L];T.splice(O,0,T.splice(R,1)[0]),e.current.setState(E=>A({},E,{rows:A({},E.rows,{ids:T})})),e.current.unstable_caches.rows.ids=T,e.current.publishEvent("rowsSet")},[e,n]),x=C.useCallback((I,O)=>{if(t.signature===Fd.DataGrid&&O.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(O.length===0)return;const R=[...Kf(e)],T=om(e),E=H3(e),k=yd(e),B=A({},T),$=A({},E),j=A({},k),V=O.map(q=>({id:N5(q,t.getRowId,"A row was provided without id when calling replaceRows()."),model:q}));V.forEach((q,Q)=>{const[H]=R.splice(I+Q,1,q.id);delete B[H],delete $[H],delete j[H]}),V.forEach(q=>{const Q={id:q.id,parent:null,depth:0,groupingKey:null,groupingField:null};B[q.id]=q.model,$[q.id]=q.id,j[q.id]=Q}),e.current.unstable_caches.rows.idRowsLookup=B,e.current.unstable_caches.rows.idToIdLookup=$,e.current.unstable_caches.rows.ids=R,e.current.setState(q=>{const Q={idRowsLookup:B,idToIdLookup:$,tree:j,ids:R};return A({},q,{rows:A({},q.rows,Q,{groupingResponseBeforeRowHydration:A({},q.rows.groupingResponseBeforeRowHydration,Q)})})}),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),y={getRow:a,getRowModels:d,getRowsCount:f,getAllRowIds:p,setRows:c,setRowIndex:b,updateRows:u,setRowChildrenExpansion:g,getRowNode:v,getRowIndexRelativeToVisibleRows:h,getRowGroupChildren:m,unstable_replaceRows:x},w=C.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let I;e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows?I=e.current.unstable_caches.rows:I=oM({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),l(I,!1)},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,l]),_=C.useCallback(I=>{I==="rowTreeCreation"&&w()},[w]),S=C.useCallback(()=>{e.current.unstable_getActiveStrategy("rowTree")!==Ile(e)&&w()},[e,w]);St(e,"activeStrategyProcessorChange",_),St(e,"strategyAvailabilityChange",S);const P=C.useCallback(()=>{e.current.setState(I=>A({},I,{rows:A({},I.rows,e.current.unstable_applyPipeProcessors("hydrateRows",I.rows.groupingResponseBeforeRowHydration))})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e]);x6(e,"hydrateRows",P),tr(e,y),C.useEffect(()=>()=>{i.current!==null&&clearTimeout(i.current)},[]);const M=C.useRef(!0);C.useEffect(()=>{if(M.current){M.current=!1;return}const I=e.current.unstable_caches.rows.rowsBeforePartialUpdates===t.rows,O=e.current.unstable_caches.rows.loadingPropBeforePartialUpdates===t.loading,L=e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(I){O||(e.current.setState(R=>A({},R,{rows:A({},R.rows,{loading:t.loading})})),e.current.unstable_caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),L||(e.current.setState(R=>A({},R,{rows:A({},R.rows,{totalRowCount:Math.max(t.rowCount||0,R.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,R.rows.totalTopLevelRowCount)})})),e.current.unstable_caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),l(oM({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),!1)},[t.rows,t.rowCount,t.getRowId,t.loading,n,l,e])},xut=({ids:e,idRowsLookup:t,idToIdLookup:n,previousTree:r})=>{const o={};for(let i=0;i<e.length;i+=1){const a=e[i];r&&r[a]&&r[a].depth===0&&r[a].parent==null&&!r[a].isPinned?o[a]=r[a]:o[a]={id:a,depth:0,parent:null,groupingKey:"",groupingField:null}}return{groupingName:KS,tree:o,treeDepth:1,idRowsLookup:t,idToIdLookup:n,ids:e}},wut=e=>{w6(e,KS,"rowTreeCreation",xut)};Gs(["MUI: You are calling getValue. This method is deprecated and will be removed in the next major version.","Instead, you can access the data from `params.row`."]);function _ut(e){const t=C.useCallback(d=>({field:d,colDef:e.current.getColumn(d)}),[e]),n=C.useCallback((...d)=>e.current.getCellValue(...d),[e]),r=C.useCallback(d=>{const f=e.current.getRow(d);if(!f)throw new Error(`No row with id #${d} found`);return{id:d,columns:e.current.getAllColumns(),row:f,getValue:n}},[e,n]),o=C.useCallback((d,f)=>{const p=e.current.getRow(d),h=e.current.getRowNode(d);if(!p||!h)throw new Error(`No row with id #${d} found`);const g=hl(e),v=pw(e);return{id:d,field:f,row:p,rowNode:h,value:p[f],colDef:e.current.getColumn(f),cellMode:e.current.getCellMode(d,f),getValue:n,api:e.current,hasFocus:g!==null&&g.field===f&&g.id===d,tabIndex:v&&v.field===f&&v.id===d?0:-1}},[e,n]),i=C.useCallback((d,f)=>{const p=e.current.getColumn(f),h=e.current.getCellValue(d,f),g=e.current.getRow(d),v=e.current.getRowNode(d);if(!g||!v)throw new Error(`No row with id #${d} found`);const m=hl(e),b=pw(e),x={id:d,field:f,row:g,rowNode:v,colDef:p,cellMode:e.current.getCellMode(d,f),getValue:n,hasFocus:m!==null&&m.field===f&&m.id===d,tabIndex:b&&b.field===f&&b.id===d?0:-1,value:h,formattedValue:h};return p&&p.valueFormatter&&(x.formattedValue=p.valueFormatter({id:d,field:x.field,value:x.value,api:e.current})),x.isEditable=p&&e.current.isCellEditable(x),x},[e,n]),a=C.useCallback((d,f)=>{const p=e.current.getColumn(f);if(!p||!p.valueGetter){const h=e.current.getRow(d);if(!h)throw new Error(`No row with id #${d} found`);return h[f]}return p.valueGetter(o(d,f))},[e,o]),s=C.useCallback(d=>e.current.rootElementRef.current?Yat(e.current.rootElementRef.current,d):null,[e]),l=C.useCallback(d=>e.current.rootElementRef.current?Zat(e.current.rootElementRef.current,d):null,[e]),c=C.useCallback((d,f)=>e.current.rootElementRef.current?Qat(e.current.rootElementRef.current,{id:d,field:f}):null,[e]);tr(e,{getCellValue:a,getCellParams:i,getCellElement:c,getRowParams:r,getRowElement:l,getColumnHeaderParams:t,getColumnHeaderElement:s})}const rde=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],Sut=(e,t)=>{var n;return A({},e,{selection:(n=rde(t.selectionModel))!=null?n:[]})},Cut=(e,t)=>{const n=yo(e,"useGridSelection"),r=C.useMemo(()=>rde(t.selectionModel,ys(e.current.state)),[e,t.selectionModel]),o=C.useRef(null);e.current.unstable_registerControlState({stateId:"selection",propModel:r,propOnChange:t.onSelectionModelChange,stateSelector:ys,changeEvent:"selectionChange"});const{checkboxSelection:i,disableMultipleSelection:a,disableSelectionOnClick:s,pagination:l,paginationMode:c,isRowSelectable:u}=t,d=!a||i,f=wg(e,t),p=C.useCallback(T=>{var E;let k=T;const B=(E=o.current)!=null?E:T,$=e.current.isRowSelected(T);if($){const j=im(e),V=j.findIndex(Q=>Q===B),q=j.findIndex(Q=>Q===k);if(V===q)return;V>q?k=j[q+1]:k=j[q-1]}o.current=T,e.current.selectRowRange({startId:B,endId:k},!$)},[e]),h=C.useCallback(T=>{ys(e.current.state)!==T&&(n.debug("Setting selection model"),e.current.setState(k=>A({},k,{selection:T})),e.current.forceUpdate())},[e,n]),g=C.useCallback(T=>ys(e.current.state).includes(T),[e]),v=C.useCallback(T=>{if(u&&!u(e.current.getRowParams(T)))return!1;const E=e.current.getRowNode(T);return!((E==null?void 0:E.position)==="footer"||E!=null&&E.isPinned)},[e,u]),m=C.useCallback(()=>Nce(e),[e]),b=C.useCallback((T,E=!0,k=!1)=>{if(e.current.isRowSelectable(T))if(o.current=T,k)n.debug(`Setting selection for row ${T}`),e.current.setSelectionModel(E?[T]:[]);else{n.debug(`Toggling selection for row ${T}`);const $=ys(e.current.state).filter(V=>V!==T);E&&$.push(T),($.length<2||d)&&e.current.setSelectionModel($)}},[e,n,d]),x=C.useCallback((T,E=!0,k=!1)=>{n.debug("Setting selection for several rows");const B=T.filter(V=>e.current.isRowSelectable(V));let $;if(k)$=E?B:[];else{const V=A({},hw(e));B.forEach(q=>{E?V[q]=q:delete V[q]}),$=Object.values(V)}($.length<2||d)&&e.current.setSelectionModel($)},[e,n,d]),y=C.useCallback(({startId:T,endId:E},k=!0,B)=>{if(!e.current.getRow(T)||!e.current.getRow(E))return;n.debug(`Expanding selection from row ${T} to row ${E}`);const $=im(e),j=$.indexOf(T),V=$.indexOf(E),[q,Q]=j>V?[V,j]:[j,V],H=$.slice(q,Q+1);e.current.selectRows(H,k,B)},[e,n]);tr(e,{selectRow:b,selectRows:x,selectRowRange:y,setSelectionModel:h,getSelectedRows:m,isRowSelected:g,isRowSelectable:v});const _=C.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const T=ys(e.current.state),E=om(e),k=A({},hw(e));let B=!1;T.forEach($=>{E[$]||(delete k[$],B=!0)}),B&&e.current.setSelectionModel(Object.values(k))},[e,t.keepNonExistentRowsSelected]),S=C.useCallback((T,E)=>{const k=E.metaKey||E.ctrlKey,B=!i&&!k&&!R5(E),$=!d||B,j=e.current.isRowSelected(T);$?e.current.selectRow(T,B?!0:!j,!0):e.current.selectRow(T,!j,!1)},[e,d,i]),P=C.useCallback((T,E)=>{var k;if(s)return;const B=(k=E.target.closest(`.${We.cell}`))==null?void 0:k.getAttribute("data-field");B===v0.field||B===y6||B&&e.current.getColumn(B).type===Q3||e.current.getRowNode(T.id).isPinned||(E.shiftKey&&(d||i)?p(T.id):S(T.id,E))},[s,d,i,e,p,S]),M=C.useCallback((T,E)=>{if(d&&E.shiftKey){var k;(k=window.getSelection())==null||k.removeAllRanges()}},[d]),I=C.useCallback((T,E)=>{E.nativeEvent.shiftKey?p(T.id):e.current.selectRow(T.id,T.value)},[e,p]),O=C.useCallback(T=>{const k=t.checkboxSelectionVisibleOnly&&t.pagination?l6(e):im(e);e.current.selectRows(k,T.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),L=C.useCallback((T,E)=>{if(e.current.getCellMode(T.id,T.field)!==_n.Edit&&E.currentTarget.contains(E.target)){if(WS(E.key)&&E.shiftKey){const k=hl(e);if(k&&k.id!==T.id){E.preventDefault();const B=e.current.isRowSelected(k.id);if(!d){e.current.selectRow(k.id,!B,!0);return}const $=e.current.getRowIndexRelativeToVisibleRows(k.id),j=e.current.getRowIndexRelativeToVisibleRows(T.id);let V,q;$>j?B?(V=j,q=$-1):(V=j,q=$):B?(V=$+1,q=j):(V=$,q=j);const Q=f.rows.slice(V,q+1).map(H=>H.id);e.current.selectRows(Q,!B);return}}if(E.key===" "&&E.shiftKey){E.preventDefault(),S(T.id,E);return}E.key.toLowerCase()==="a"&&(E.ctrlKey||E.metaKey)&&(E.preventDefault(),x(e.current.getAllRowIds(),!0))}},[e,S,x,f.rows,d]);St(e,"sortedRowsSet",_),St(e,"rowClick",P),St(e,"rowSelectionCheckboxChange",I),St(e,"headerSelectionCheckboxChange",O),St(e,"cellMouseDown",M),St(e,"cellKeyDown",L),C.useEffect(()=>{r!==void 0&&e.current.setSelectionModel(r)},[e,r]);const R=r!=null;C.useEffect(()=>{if(R)return;const T=ys(e.current.state);if(v){const E=T.filter(k=>v(k));E.length<T.length&&e.current.setSelectionModel(E)}},[e,v,R]),C.useEffect(()=>{const T=ys(e.current.state);if(!d&&T.length>1){const{rows:E}=J3(e,{pagination:l,paginationMode:c}),k=E.reduce(($,{id:j})=>($[j]=!0,$),{}),B=T.find($=>{let j=!0;return v&&(j=v($)),j&&k[$]});e.current.setSelectionModel(B!==void 0?[B]:[])}},[e,d,i,a,v,l,c])},P6={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelLinkOperator:"Logic operator",filterPanelOperators:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},Put=["sortingOrder"],Mut=C.memo(function(t){const{sortingOrder:n}=t,r=De(t,Put),o=It(),[i]=n,a=i==="asc"?o.components.ColumnSortedAscendingIcon:o.components.ColumnSortedDescendingIcon;return a?N.jsx(a,A({},r)):null}),Aut=["error","hasError","errorInfo"],Eut=C.forwardRef(function(t,n){const{error:r}=t,o=De(t,Aut),i=Zt(),a=i.current.getLocaleText("errorOverlayDefaultLabel"),s=Rt(i,m0);return N.jsx(XS,A({ref:n,sx:{width:"100%",minHeight:2*s}},o,{children:(r==null?void 0:r.message)||a}))}),Tut=C.forwardRef(function(t,n){const o=Zt().current.getLocaleText("noResultsOverlayLabel");return N.jsx(XS,A({ref:n},t,{children:o}))}),Out={BooleanCellTrueIcon:fce,BooleanCellFalseIcon:nM,ColumnMenuIcon:cce,OpenFilterButtonIcon:tce,FilterPanelDeleteIcon:nM,ColumnFilteredIcon:nce,ColumnSelectorIcon:oce,ColumnUnsortedIcon:Mut,ColumnSortedAscendingIcon:Jle,ColumnSortedDescendingIcon:ece,ColumnResizeIcon:ice,DensityCompactIcon:ace,DensityStandardIcon:sce,DensityComfortableIcon:lce,ExportIcon:dce,MoreActionsIcon:pce,TreeDataCollapseIcon:I5,TreeDataExpandIcon:O5,GroupingCriteriaCollapseIcon:I5,GroupingCriteriaExpandIcon:O5,DetailPanelExpandIcon:n6,DetailPanelCollapseIcon:uce,RowReorderIcon:r6,QuickFilterIcon:rce,QuickFilterClearIcon:nM},H5=A({},Out,{BaseCheckbox:Bf,BaseTextField:cu,BaseFormControl:Gp,BaseSelect:Ky,BaseSwitch:eae,BaseButton:fc,BaseTooltip:lO,BasePopper:Vp,Cell:qle,SkeletonCell:_ce,ColumnHeaderFilterIconButton:Lce,ColumnMenu:gue,ErrorOverlay:Eut,Footer:$ue,Header:Due,Toolbar:null,PreferencesPanel:_ue,LoadingOverlay:Fue,NoResultsOverlay:Tut,NoRowsOverlay:Nue,Pagination:Bue,FilterPanel:Cue,ColumnsPanel:yue,Panel:wue,Row:jue}),Iut=e=>{const{classes:t}=e;return C.useMemo(()=>Qe({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Pn,t),[t])},kut=(e,t)=>{const n={classes:t.classes},r=Iut(n),o=C.useCallback(i=>{const a=A({},v0,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),s=t.checkboxSelection,l=i.lookup[id]!=null;return s&&!l?(i.lookup[id]=a,i.all=[id,...i.all]):!s&&l?(delete i.lookup[id],i.all=i.all.filter(c=>c!==id)):s&&l&&(i.lookup[id]=A({},a,i.lookup[id])),i},[e,r,t.checkboxSelection]);vi(e,"hydrateColumns",o)},Rut=(e,t)=>{var n,r,o,i;const a=(n=(r=t.sortModel)!=null?r:(o=t.initialState)==null||(i=o.sorting)==null?void 0:i.sortModel)!=null?n:[];return A({},e,{sorting:{sortModel:Uce(a,t.disableMultipleColumnsSorting),sortedRows:[]}})},Lut=(e,t)=>{var n,r;const o=yo(e,"useGridSorting");e.current.unstable_registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:sl,changeEvent:"sortModelChange"});const i=C.useCallback((S,P)=>{const M=sl(e),I=M.findIndex(L=>L.field===S);let O=[...M];return I>-1?P?O.splice(I,1,P):O.splice(I,1):O=[...M,P],O},[e]),a=C.useCallback((S,P)=>{var M;const O=sl(e).find(R=>R.field===S.field);if(O){var L;const R=P===void 0?J7((L=S.sortingOrder)!=null?L:t.sortingOrder,O.sort):P;return R==null?void 0:A({},O,{sort:R})}return{field:S.field,sort:P===void 0?J7((M=S.sortingOrder)!=null?M:t.sortingOrder):P}},[e,t.sortingOrder]),s=C.useCallback(()=>{e.current.setState(S=>{if(t.sortingMode===am.server)return o.debug("Skipping sorting rows as sortingMode = server"),A({},S,{sorting:A({},S.sorting,{sortedRows:Kf(S,e.current.instanceId)})});const P=sl(S,e.current.instanceId),M=yst(P,e),I=e.current.unstable_applyStrategyProcessor("sorting",{sortRowList:M});return A({},S,{sorting:A({},S.sorting,{sortedRows:I})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,o,t.sortingMode]),l=C.useCallback(S=>{sl(e)!==S&&(o.debug("Setting sort model"),e.current.setState(Q7(S,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),c=C.useCallback((S,P,M)=>{if(!S.sortable)return;const I=a(S,P);let O;!M||t.disableMultipleColumnsSorting?O=I?[I]:[]:O=i(S.field,I),e.current.setSortModel(O)},[e,i,a,t.disableMultipleColumnsSorting]),u=C.useCallback(()=>sl(e),[e]),d=C.useCallback(()=>W3(e).map(P=>P.model),[e]),f=C.useCallback(()=>G3(e),[e]),p=C.useCallback(S=>e.current.getSortedRowIds().indexOf(S),[e]),h=C.useCallback(S=>e.current.getSortedRowIds()[S],[e]);tr(e,{getSortModel:u,getSortedRows:d,getSortedRowIds:f,getRowIndex:p,getRowIdFromRowIndex:h,setSortModel:l,sortColumn:c,applySorting:s});const v=C.useCallback((S,P)=>{var M,I;const O=sl(e);return!P.exportOnlyDirtyModels||t.sortModel!=null||((M=t.initialState)==null||(I=M.sorting)==null?void 0:I.sortModel)!=null||O.length>0?A({},S,{sorting:{sortModel:O}}):S},[e,t.sortModel,(n=t.initialState)==null||(r=n.sorting)==null?void 0:r.sortModel]),m=C.useCallback((S,P)=>{var M;const I=(M=P.stateToRestore.sorting)==null?void 0:M.sortModel;return I==null?S:(e.current.setState(Q7(I,t.disableMultipleColumnsSorting)),A({},S,{callbacks:[...S.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),b=C.useCallback(S=>{const P=yd(e);if(!S.sortRowList){const O=[],L=[];return Kf(e).forEach(R=>{P[R].isPinned||(P[R].position==="footer"?L.push(R):O.push(R))}),[...O,...L]}const M=[],I=[];return Object.values(P).forEach(O=>{O.isPinned||(O.position==="footer"?I.push(O.id):M.push(O))}),[...S.sortRowList(M),...I]},[e]);vi(e,"exportState",v),vi(e,"restoreState",m),w6(e,KS,"sorting",b);const x=C.useCallback(({colDef:S},P)=>{const M=P.shiftKey||P.metaKey||P.ctrlKey;c(S,void 0,M)},[c]),y=C.useCallback(({colDef:S},P)=>{gce(P.key)&&!P.ctrlKey&&!P.metaKey&&c(S,void 0,P.shiftKey)},[c]),w=C.useCallback(()=>{const S=sl(e),P=Zp(e);if(S.length>0){const M=S.filter(I=>P[I.field]);M.length<S.length&&e.current.setSortModel(M)}},[e]),_=C.useCallback(S=>{S==="sorting"&&e.current.applySorting()},[e]);St(e,"columnHeaderClick",x),St(e,"columnHeaderKeyDown",y),St(e,"rowsSet",e.current.applySorting),St(e,"columnsChange",w),St(e,"activeStrategyProcessorChange",_),b0(()=>{e.current.applySorting()}),C.useEffect(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function hW(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,i=o+r;if(r>t)return o;if(i-t>n)return i-t;if(o<n)return o}const $ut=(e,t)=>{const n=yo(e,"useGridScroll"),r=e.current.columnHeadersElementRef,o=e.current.windowRef,i=Rt(e,Fu),a=C.useCallback(u=>{const d=HS(e),f=bi(e);if(!(u.rowIndex==null)&&d===0||f.length===0)return!1;n.debug(`Scrolling to cell at row ${u.rowIndex}, col: ${u.colIndex} `);let h={};if(u.colIndex!=null){const b=Ep(e);let x;if(typeof u.rowIndex<"u"){var g;const y=(g=i[u.rowIndex])==null?void 0:g.id,w=e.current.unstable_getCellColSpanInfo(y,u.colIndex);w&&!w.spannedByColSpan&&(x=w.cellProps.width)}typeof x>"u"&&(x=f[u.colIndex].computedWidth),h.left=hW({clientHeight:o.current.clientWidth,scrollTop:o.current.scrollLeft,offsetHeight:x,offsetTop:b[u.colIndex]})}if(u.rowIndex!=null){var v,m;const b=iy(e.current.state),x=Hv(e),y=ub(e),w=t.pagination?u.rowIndex-x*y:u.rowIndex,_=b.positions[w+1]?b.positions[w+1]-b.positions[w]:b.currentPageTotalHeight-b.positions[w],S=((v=o.current.querySelector(`.${We["pinnedRows--top"]}`))==null?void 0:v.clientHeight)||0,P=((m=o.current.querySelector(`.${We["pinnedRows--bottom"]}`))==null?void 0:m.clientHeight)||0;h.top=hW({clientHeight:o.current.clientHeight-S-P,scrollTop:o.current.scrollTop,offsetHeight:_,offsetTop:b.positions[w]})}return h=e.current.unstable_applyPipeProcessors("scrollToIndexes",h,u),typeof h.left!==void 0||typeof h.top!==void 0?(e.current.scroll(h),!0):!1},[n,e,o,t.pagination,i]),s=C.useCallback(u=>{o.current&&u.left!=null&&r.current&&(r.current.scrollLeft=u.left,o.current.scrollLeft=u.left,n.debug(`Scrolling left: ${u.left}`)),o.current&&u.top!=null&&(o.current.scrollTop=u.top,n.debug(`Scrolling top: ${u.top}`)),n.debug("Scrolling, updating container, and viewport")},[o,r,n]),l=C.useCallback(()=>o!=null&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0},[o]);tr(e,{scroll:s,scrollToIndexes:a,getScrollPosition:l})};function Dut(e,t){Rn(e,"columnHeaderClick",t.onColumnHeaderClick),Rn(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Rn(e,"columnHeaderOver",t.onColumnHeaderOver),Rn(e,"columnHeaderOut",t.onColumnHeaderOut),Rn(e,"columnHeaderEnter",t.onColumnHeaderEnter),Rn(e,"columnHeaderLeave",t.onColumnHeaderLeave),Rn(e,"columnOrderChange",t.onColumnOrderChange),Rn(e,"cellClick",t.onCellClick),Rn(e,"cellDoubleClick",t.onCellDoubleClick),Rn(e,"cellKeyDown",t.onCellKeyDown),Rn(e,"cellFocusOut",t.onCellFocusOut),Rn(e,"preferencePanelClose",t.onPreferencePanelClose),Rn(e,"preferencePanelOpen",t.onPreferencePanelOpen),Rn(e,"menuOpen",t.onMenuOpen),Rn(e,"menuClose",t.onMenuClose),Rn(e,"rowDoubleClick",t.onRowDoubleClick),Rn(e,"rowClick",t.onRowClick),Rn(e,"componentError",t.onError),Rn(e,"stateChange",t.onStateChange)}const Fut=({content:e,container:t,scrollBarSize:n})=>{const r=e.width>t.width,o=e.height>t.height;let i=!1,a=!1;return(r||o)&&(i=r,a=e.height+(i?n:0)>t.height,a&&(i=e.width+n>t.width)),{hasScrollX:i,hasScrollY:a}};function Nut(e,t){const n=yo(e,"useResizeContainer"),r=C.useRef(!1),o=C.useRef(null),i=C.useRef(null),a=Rt(e,iy),s=Rt(e,g0),l=C.useCallback(()=>{var v;const m=(v=e.current.rootElementRef)==null?void 0:v.current,b=US(e),x=Jue(e);if(!o.current)return;let y;if(t.scrollbarSize!=null)y=t.scrollbarSize;else if(!b||!m)y=0;else{const L=Kn(m).createElement("div");L.style.width="99px",L.style.height="99px",L.style.position="absolute",L.style.overflow="scroll",L.className="scrollDiv",m.appendChild(L),y=L.offsetWidth-L.clientWidth,m.removeChild(L)}let w,_,S;if(t.autoHeight)S=!1,_=Math.round(b)>o.current.width,w={width:o.current.width,height:a.currentPageTotalHeight+(_?y:0)};else{w={width:o.current.width,height:o.current.height-s};const O=Fut({content:{width:Math.round(b),height:a.currentPageTotalHeight},container:{width:w.width,height:w.height-x.top-x.bottom},scrollBarSize:y});S=O.hasScrollY,_=O.hasScrollX}const P={width:w.width-(S?y:0),height:w.height-(_?y:0)},M={viewportOuterSize:w,viewportInnerSize:P,hasScrollX:_,hasScrollY:S,scrollBarSize:y},I=i.current;i.current=M,(M.viewportInnerSize.width!==(I==null?void 0:I.viewportInnerSize.width)||M.viewportInnerSize.height!==(I==null?void 0:I.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",M.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,s,a.currentPageTotalHeight]),c=C.useCallback(()=>{l(),e.current.publishEvent("debouncedResize",o.current)},[e,l]),u=C.useCallback(()=>i.current,[]),d=C.useCallback(()=>{const v=e.current.getRootDimensions();if(!v)return 0;const m=J3(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const x=e.current.unstable_getRenderContext(),y=x.lastRowIndex-x.firstRowIndex;return Math.min(y-1,m.rows.length)}const b=Math.floor(v.viewportInnerSize.height/m0(e));return Math.min(b,m.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight]);tr(e,{resize:c,getRootDimensions:u,unstable_getViewportPageSize:d,unstable_updateGridDimensionsRef:l});const p=C.useMemo(()=>bc(c,60),[c]),h=C.useRef(!0),g=C.useCallback(v=>{o.current=v;const m=/jsdom/.test(window.navigator.userAgent);if(v.height===0&&!r.current&&!t.autoHeight&&!m&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),v.width===0&&!r.current&&!m&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),h.current){c(),h.current=!1;return}p()},[t.autoHeight,p,n,c]);ar(()=>l(),[l]),Rn(e,"sortedRowsSet",l),Rn(e,"pageChange",l),Rn(e,"pageSizeChange",l),Rn(e,"columnsChange",l),St(e,"resize",g),Rn(e,"debouncedResize",t.onResize)}const But=e=>A({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),jut=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,i=C.useRef({}),a=C.useRef(-1),s=C.useRef(!1),l=Rt(e,m0),c=Rt(e,h0),u=Rt(e,xg),d=Rt(e,U3),f=wg(e,t),p=Rt(e,VS),h=C.useCallback(()=>{var M,I;s.current=!1;const O=jle(e.current.state,e.current.instanceId),L=E=>{i.current[E.id]||(i.current[E.id]={sizes:{baseCenter:l},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:k,needsFirstMeasurement:B,sizes:$}=i.current[E.id];let j=l;const V=$.baseCenter;if(k)j=V;else if(n){const G=n(A({},E,{densityFactor:O}));if(G==="auto"){if(B){const ie=o?o(A({},E,{densityFactor:O})):l;j=ie??l}else j=V;s.current=!0,i.current[E.id].autoHeight=!0}else j=G??l,i.current[E.id].needsFirstMeasurement=!1,i.current[E.id].autoHeight=!1}else i.current[E.id].needsFirstMeasurement=!1;const q=Object.entries($).reduce((G,[ie,Y])=>(/^base[A-Z]/.test(ie)&&(G[ie]=Y),G),{}),Q=A({},q,{baseCenter:j});if(r){var H,X;const G=e.current.getRowIndexRelativeToVisibleRows(E.id),ie=r(A({},E,{isFirstVisible:G===0,isLastVisible:G===f.rows.length-1,indexRelativeToCurrentPage:G}));Q.spacingTop=(H=ie.top)!=null?H:0,Q.spacingBottom=(X=ie.bottom)!=null?X:0}const J=e.current.unstable_applyPipeProcessors("rowHeight",Q,E);return i.current[E.id].sizes=J,J},R=[],T=f.rows.reduce((E,k)=>{R.push(E);let B=0,$=0;const j=L(k);return Object.entries(j).forEach(([V,q])=>{/^base[A-Z]/.test(V)?B=q>B?q:B:$+=q}),E+B+$},0);p==null||(M=p.top)==null||M.forEach(E=>{L(E)}),p==null||(I=p.bottom)==null||I.forEach(E=>{L(E)}),e.current.setState(E=>A({},E,{rowsMeta:{currentPageTotalHeight:T,positions:R}})),s.current||(a.current=1/0),e.current.forceUpdate()},[e,f.rows,l,n,r,o,p]),g=C.useCallback(M=>{const I=i.current[M];return I?I.sizes.baseCenter:l},[l]),v=M=>{var I;return(I=i.current[M])==null?void 0:I.sizes},m=C.useCallback((M,I)=>{i.current[M].sizes.baseCenter=I,i.current[M].isResized=!0,i.current[M].needsFirstMeasurement=!1,h()},[h]),b=C.useMemo(()=>bc(h),[h]),x=C.useCallback((M,I,O)=>{if(!i.current[M]||!i.current[M].autoHeight)return;const L=i.current[M].sizes[`base${Be(O)}`]!==I;i.current[M].needsFirstMeasurement=!1,i.current[M].sizes[`base${Be(O)}`]=I,L&&b()},[b]),y=C.useCallback(M=>{var I;return((I=i.current[M])==null?void 0:I.autoHeight)||!1},[]),w=C.useCallback(()=>a.current,[]),_=C.useCallback(M=>{s.current&&M>a.current&&(a.current=M)},[]),S=C.useCallback(()=>{i.current={},h()},[h]);C.useEffect(()=>{h()},[l,c,u,d,h]),x6(e,"rowHeight",h),tr(e,{unstable_getLastMeasuredRowIndex:w,unstable_setLastMeasuredRowIndex:_,unstable_rowHasAutoHeight:y,unstable_getRowHeight:g,unstable_getRowInternalSizes:v,unstable_setRowHeight:m,unstable_storeRowHeightMeasurement:x,resetRowHeights:S})},zut=e=>{const t=C.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=C.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(a=>{a()}),e.current.forceUpdate()},[e]);tr(e,{exportState:t,restoreState:n})},Hut=e=>{const t=C.useRef({}),n=C.useCallback((l,c,u)=>{const d=t.current;d[l]||(d[l]={}),d[l][c]=u},[]),r=C.useCallback((l,c)=>{var u;return(u=t.current[l])==null?void 0:u[c]},[]),o=C.useCallback(l=>{const{columnIndex:c,rowId:u,minFirstColumnIndex:d,maxLastColumnIndex:f,columns:p}=l,h=p.length,g=p[c],v=typeof g.colSpan=="function"?g.colSpan(e.current.getCellParams(u,g.field)):g.colSpan;if(!v||v===1)return n(u,c,{spannedByColSpan:!1,cellProps:{colSpan:1,width:g.computedWidth}}),{colSpan:1};let m=g.computedWidth;for(let b=1;b<v;b+=1){const x=c+b;if(x>=d&&x<f){const y=p[x];m+=y.computedWidth,n(u,c+b,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(c+v,h-1),leftVisibleCellIndex:c})}n(u,c,{spannedByColSpan:!1,cellProps:{colSpan:v,width:m}})}return{colSpan:v}},[e,n]),i=C.useCallback(({rowId:l,minFirstColumn:c,maxLastColumn:u,columns:d})=>{for(let f=c;f<u;f+=1){const p=o({columnIndex:f,rowId:l,minFirstColumnIndex:c,maxLastColumnIndex:u,columns:d});p.colSpan>1&&(f+=p.colSpan-1)}},[o]);tr(e,{unstable_getCellColSpanInfo:r,unstable_calculateColSpan:i});const s=C.useCallback(()=>{t.current={}},[]);St(e,"columnOrderChange",s)},Vut=(e,t)=>{var n;const r=C.useCallback(o=>{var i;if(!((i=t.experimentalFeatures)!=null&&i.columnGrouping))return o;const a=Wue(t.columnGroupingModel);return o.all.forEach(s=>{var l,c;const u=(l=a[s])!=null?l:[],d=o.lookup[s];Pct(d)&&pc(u,d==null?void 0:d.groupPath)||(o.lookup[s]=A({},o.lookup[s],{groupPath:(c=a[s])!=null?c:[]}))}),o},[t.columnGroupingModel,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);vi(e,"hydrateColumns",r)},Uut=e=>{var t,n;const r=vct(void 0,e);return Vut(r,e),kut(r,e),wut(r),ds(Sut,r,e),ds(_ct,r,e),ds(Mct,r,e),ds(but,r,e),ds((t=e.experimentalFeatures)!=null&&t.newEditingApi?gut:aut,r,e),ds(Xct,r,e),ds(Rut,r,e),ds(nut,r,e),ds(Wct,r,e),ds(Ect,r,e),ds(eut,r,e),ds(But,r,e),ds(xct,r,e),Zct(r,e),Cut(r,e),Sct(r,e),yut(r,e),_ut(r),Hut(r),Act(r,e),((n=e.experimentalFeatures)!=null&&n.newEditingApi?vut:sut)(r,e),Kct(r,e),rut(r,e),qct(r,e),Lut(r,e),Tct(r,e),tut(r,e),jut(r,e),$ut(r,e),wct(r),Lct(r),Fct(r,e),yct(r),Nut(r,e),Dut(r,e),zut(r),r},Gut={apiRef:void 0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},ode=100,ide={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,density:rc.Standard,disableExtendRowFullWidth:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleSelection:!1,disableMultipleColumnsSorting:!1,disableSelectionOnClick:!1,disableVirtualization:!1,disableIgnoreModificationsIfProcessingProps:!1,editMode:Di.Cell,filterMode:am.client,headerHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:am.client,rowHeight:52,rowsPerPageOptions:[25,50,100],rowSpacingType:"margin",showCellRightBorder:!1,showColumnRightBorder:!1,sortingOrder:["asc","desc",null],sortingMode:am.client,throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1},Wut=e=>{if(e.pageSize>ode)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=dt({props:e,name:"MuiDataGrid"}),n=C.useMemo(()=>A({},P6,t.localeText),[t.localeText]),r=C.useMemo(()=>{const o=t.components;if(!o)return A({},H5);const i={};return Object.entries(H5).forEach(([a,s])=>{i[a]=o[a]===void 0?s:o[a]}),i},[t.components]);return C.useMemo(()=>A({},ide,t,{localeText:n,components:r},Gut),[t,n,r])},qut=["className"],Xut=e=>{const{classes:t}=e;return Qe({root:["virtualScroller"]},Pn,t)},Kut=Ee("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",position:"relative","@media print":{overflow:"hidden"}}),Yut=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,qut),i=It(),a=Xut(i);return N.jsx(Kut,A({ref:n,className:Ne(a.root,r),ownerState:i},o))}),Zut=["className","style"],Qut=e=>{const{classes:t,overflowedContent:n}=e;return Qe({root:["virtualScrollerContent",n&&"virtualScrollerContent--overflowed"]},Pn,t)},Jut=Ee("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),edt=C.forwardRef(function(t,n){const{className:r,style:o}=t,i=De(t,Zut),a=It(),s=A({},a,{overflowedContent:!a.autoHeight&&(o==null?void 0:o.minHeight)==="auto"}),l=Qut(s);return N.jsx(Jut,A({ref:n,className:Ne(l.root,r),ownerState:s,style:o},i))}),tdt=["className"],ndt=e=>{const{classes:t}=e;return Qe({root:["virtualScrollerRenderZone"]},Pn,t)},rdt=Ee("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),odt=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,tdt),i=It(),a=ndt(i);return N.jsx(rdt,A({ref:n,className:Ne(a.root,r),ownerState:i},o))}),idt=["style"];function db(e,t,n=0,r=t.length){if(t.length<=0)return-1;if(n>=r)return n;const o=n+Math.floor((r-n)/2),i=t[o];return e<=i?db(e,t,n,o):db(e,t,o+1,r)}function adt(e,t,n){let r=1;for(;n<t.length&&t[n]<e;)n+=r,r*=2;return db(e,t,Math.floor(n/2),Math.min(n,t.length))}const Lf=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:r,maxLastIndex:o})=>[ry(e-n,r,o),ry(t+n,r,o)],sdt=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,ldt=e=>{var t,n;const r=Zt(),o=It(),i=Rt(r,bi),{ref:a,disableVirtualization:s,onRenderZonePositioning:l,renderZoneMinColumnIndex:c=0,renderZoneMaxColumnIndex:u=i.length,getRowProps:d}=e,f=Rt(r,Ep),p=Rt(r,US),h=Rt(r,m0),g=Rt(r,hl),v=Rt(r,pw),m=Rt(r,iy),b=Rt(r,Zr),x=Rt(r,hw),y=wg(r,o),w=C.useRef(null),_=C.useRef(null),S=wn(a,_),[P,M]=C.useState(null),I=C.useRef(P),O=C.useRef({top:0,left:0}),[L,R]=C.useState({width:null,height:null}),T=C.useRef(p),E=C.useCallback(Y=>{var le,te;const re=r.current.unstable_getLastMeasuredRowIndex();let ae=re===1/0;(le=y.range)!=null&&le.lastRowIndex&&!ae&&(ae=re>=y.range.lastRowIndex);const pe=ry(re-(((te=y.range)==null?void 0:te.firstRowIndex)||0),0,m.positions.length);return ae||m.positions[pe]>=Y?db(Y,m.positions):adt(Y,m.positions,pe)},[r,(t=y.range)==null?void 0:t.firstRowIndex,(n=y.range)==null?void 0:n.lastRowIndex,m.positions]),k=C.useCallback(()=>{if(s)return{firstRowIndex:0,lastRowIndex:y.rows.length,firstColumnIndex:0,lastColumnIndex:i.length};const{top:Y,left:le}=O.current,te=Math.min(E(Y),m.positions.length-1),re=o.autoHeight?te+y.rows.length:E(Y+L.height);let ae=!1,pe=0,we=f.length;const[fe,_e]=Lf({firstIndex:te,lastIndex:re,minFirstIndex:0,maxLastIndex:y.rows.length,buffer:o.rowBuffer});for(let W=fe;W<_e&&!ae;W+=1){const oe=y.rows[W];ae=r.current.unstable_rowHasAutoHeight(oe.id)}return ae||(pe=db(le,f),we=db(le+L.width,f)),{firstRowIndex:te,lastRowIndex:re,firstColumnIndex:pe,lastColumnIndex:we}},[s,E,m.positions.length,o.autoHeight,o.rowBuffer,y.rows,f,i.length,r,L]);ar(()=>{s?w.current.style.transform="translate3d(0px, 0px, 0px)":(_.current.scrollLeft=0,_.current.scrollTop=0)},[s]),ar(()=>{R({width:_.current.clientWidth,height:_.current.clientHeight})},[m.currentPageTotalHeight]);const B=C.useCallback(Y=>{R({width:Y.width,height:Y.height})},[]);St(r,"resize",B);const $=C.useCallback(Y=>{const[le,te]=Lf({firstIndex:Y.firstRowIndex,lastIndex:Y.lastRowIndex,minFirstIndex:0,maxLastIndex:y.rows.length,buffer:o.rowBuffer}),[re]=Lf({firstIndex:Y.firstColumnIndex,lastIndex:Y.lastColumnIndex,minFirstIndex:c,maxLastIndex:u,buffer:o.columnBuffer}),ae=$5({firstColumnToRender:re,apiRef:r,firstRowToRender:le,lastRowToRender:te,visibleRows:y.rows}),pe=iy(r.current.state).positions[le],we=Ep(r)[ae];w.current.style.transform=`translate3d(${we}px, ${pe}px, 0px)`,typeof l=="function"&&l({top:pe,left:we})},[r,y.rows,l,c,u,o.columnBuffer,o.rowBuffer]),j=C.useCallback(Y=>{if(I.current&&sdt(Y,I.current)){$(Y);return}M(Y),$(Y);const[le,te]=Lf({firstIndex:Y.firstRowIndex,lastIndex:Y.lastRowIndex,minFirstIndex:0,maxLastIndex:y.rows.length,buffer:o.rowBuffer});r.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:le,lastRowToRender:te}),I.current=Y},[r,M,I,y.rows.length,o.rowBuffer,$]);ar(()=>{if(L.width==null)return;const Y=k();j(Y);const{top:le,left:te}=O.current,re={top:le,left:te,renderContext:Y};r.current.publishEvent("rowsScroll",re)},[r,k,L.width,j]);const V=Y=>{const{scrollTop:le,scrollLeft:te}=Y.currentTarget;if(O.current.top=le,O.current.left=te,te<0||le<0||!I.current)return;const re=s?I.current:k(),ae=Math.abs(re.firstRowIndex-I.current.firstRowIndex),pe=Math.abs(re.lastRowIndex-I.current.lastRowIndex),we=Math.abs(re.firstColumnIndex-I.current.firstColumnIndex),fe=Math.abs(re.lastColumnIndex-I.current.lastColumnIndex),_e=ae>=o.rowThreshold||pe>=o.rowThreshold||we>=o.columnThreshold||fe>=o.columnThreshold||T.current!==p;r.current.publishEvent("rowsScroll",{top:le,left:te,renderContext:_e?re:I.current},Y),_e&&(Td.flushSync(()=>{j(re)}),T.current=p)},q=Y=>{r.current.publishEvent("virtualScrollerWheel",{},Y)},Q=Y=>{r.current.publishEvent("virtualScrollerTouchMove",{},Y)},H=(Y={renderContext:P})=>{const{renderContext:le,minFirstColumn:te=c,maxLastColumn:re=u,availableSpace:ae=L.width,rowIndexOffset:pe=0,position:we="center"}=Y;if(!le||ae==null)return null;const fe=s?0:o.rowBuffer,_e=s?0:o.columnBuffer,[W,oe]=Lf({firstIndex:le.firstRowIndex,lastIndex:le.lastRowIndex,minFirstIndex:0,maxLastIndex:y.rows.length,buffer:fe}),Ce=[];if(Y.rows)Y.rows.forEach(U=>{Ce.push(U),r.current.unstable_calculateColSpan({rowId:U.id,minFirstColumn:te,maxLastColumn:re,columns:i})});else{if(!y.range)return null;for(let U=W;U<oe;U+=1){const D=y.rows[U];Ce.push(D),r.current.unstable_calculateColSpan({rowId:D.id,minFirstColumn:te,maxLastColumn:re,columns:i})}}const[ve,me]=Lf({firstIndex:le.firstColumnIndex,lastIndex:le.lastColumnIndex,minFirstIndex:te,maxLastIndex:re,buffer:_e}),ye=$5({firstColumnToRender:ve,apiRef:r,firstRowToRender:W,lastRowToRender:oe,visibleRows:y.rows}),Le=i.slice(ye,me),Te=[];for(let U=0;U<Ce.length;U+=1){var Me,$e;const{id:D,model:F}=Ce[U],K=W+U===y.rows.length-1,he=r.current.unstable_rowHasAutoHeight(D)?"auto":r.current.unstable_getRowHeight(D);let ge;x[D]==null?ge=!1:ge=r.current.isRowSelectable(D),Te.push(N.jsx(o.components.Row,A({row:F,rowId:D,rowHeight:he,cellFocus:g,cellTabIndex:v,editRowsState:b,renderedColumns:Le,visibleColumns:i,firstColumnToRender:ye,lastColumnToRender:me,selected:ge,index:pe+((y==null||(Me=y.range)==null?void 0:Me.firstRowIndex)||0)+W+U,containerWidth:ae,isLastVisible:K,position:we},typeof d=="function"?d(D,F):{},($e=o.componentsProps)==null?void 0:$e.row),D))}return Te},X=L.width&&p>L.width,J=C.useMemo(()=>{const Y=Math.max(m.currentPageTotalHeight,1);let le=!1;_!=null&&_.current&&Y<=(_==null?void 0:_.current.clientHeight)&&(le=!0);const te={width:X?p:"auto",height:Y,minHeight:le?"100%":"auto"};return o.autoHeight&&y.rows.length===0&&(te.height=2*h),te},[_,p,m.currentPageTotalHeight,y.rows.length,X,o.autoHeight,h]);C.useEffect(()=>{r.current.publishEvent("virtualScrollerContentSizeChange")},[r,J]),o.autoHeight&&y.rows.length===0&&(J.height=2*h);const G={};X||(G.overflowX="hidden"),o.autoHeight&&(G.overflowY="hidden");const ie=C.useCallback(()=>I.current,[]);return r.current.unstable_getRenderContext=ie,{renderContext:P,updateRenderZonePosition:$,getRows:H,getRootProps:(Y={})=>{let{style:le={}}=Y,te=De(Y,idt);return A({ref:S,onScroll:V,onWheel:q,onTouchMove:Q,style:A({},le,G)},te)},getContentProps:({style:Y={}}={})=>({style:A({},Y,J)}),getRenderZoneProps:()=>({ref:w})}},cdt=["className","disableVirtualization"],udt=C.forwardRef(function(t,n){const{className:r,disableVirtualization:o}=t,i=De(t,cdt),{getRootProps:a,getContentProps:s,getRenderZoneProps:l,getRows:c}=ldt({ref:n,disableVirtualization:o});return N.jsx(Yut,A({className:r},a(i),{children:N.jsx(edt,A({},s(),{children:N.jsx(odt,A({},l(),{children:c()}))}))}))}),ddt=e=>{const{classes:t,headerAlign:n,isDragging:r,showRightBorder:o,showColumnBorder:i,groupId:a}=e;return Qe({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",o&&"withBorder",i&&"columnHeader--showColumnBorder",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},Pn,t)};function fdt(e){var t,n;const{groupId:r,width:o,depth:i,maxDepth:a,fields:s,height:l,colIndex:c,isLastColumn:u,extendRowFullWidth:d}=e,f=It(),p=Zt(),h=Rt(p,S6),{hasScrollX:g,hasScrollY:v}=(t=p.current.getRootDimensions())!=null?t:{hasScrollX:!1,hasScrollY:!1},m=r?h[r]:{},{headerName:b=r??"",description:x="",headerAlign:y=void 0}=m;let w;const _=r&&((n=h[r])==null?void 0:n.renderHeaderGroup),S={groupId:r,headerName:b,description:x,depth:i,maxDepth:a,fields:s,colIndex:c,isLastColumn:u};r&&_&&(w=_(S));const M=u?!(u&&g&&!v)&&!d:f.showColumnRightBorder,I=f.showColumnRightBorder,O=A({},e,{classes:f.classes,showRightBorder:M,showColumnBorder:I,headerAlign:y,depth:i,isDragging:!1}),L=b??r,R=fr(),T=r===null?`empty-group-cell-${R}`:r,E=ddt(O),k=typeof m.headerClassName=="function"?m.headerClassName(S):m.headerClassName;return N.jsx(kce,{classes:E,columnMenuOpen:!1,colIndex:c,height:l,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:-1,isDraggable:!1,headerComponent:w,headerClassName:k,description:x,elementId:T,width:o,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:L,"aria-colspan":s.length,"data-fields":`|-${s.join("-|-")}-|`,disableHeaderSeparator:!0})}const mW=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function pdt(e){return!!e.target}const hdt=e=>{const{innerRef:t,minColumnIndex:n=0}=e,[r,o]=C.useState(""),[i,a]=C.useState(""),s=Zt(),l=Rt(s,bi),c=Rt(s,Ep),u=Rt(s,e6),d=Rt(s,pw),f=Rt(s,Wle),p=Rt(s,Yz),h=Rt(s,q3),g=Rt(s,g0),v=Rt(s,Ble),m=Rt(s,kle),b=Rt(s,_6),x=It(),y=C.useRef(null),w=wn(t,y),[_,S]=C.useState(null),P=C.useRef(_),M=C.useRef(0),I=wg(s,x);C.useEffect(()=>{s.current.columnHeadersContainerElementRef.current.scrollLeft=0},[s]);const O=C.useRef(Ele(jst,{equalityCheck:(H,X)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(J=>H[J]===X[J])})),L=C.useCallback(H=>{const[X,J]=Lf({firstIndex:H.firstRowIndex,lastIndex:H.lastRowIndex,minFirstIndex:0,maxLastIndex:I.rows.length,buffer:x.rowBuffer}),G=O.current({firstColumnIndex:H.firstColumnIndex,minColumnIndex:n,columnBuffer:x.columnBuffer,firstRowToRender:X,lastRowToRender:J,apiRef:s,visibleRows:I.rows}),ie=G>0?M.current-c[G]:M.current;y.current.style.transform=`translate3d(${-ie}px, 0px, 0px)`},[c,n,x.columnBuffer,s,I.rows,x.rowBuffer]);C.useLayoutEffect(()=>{_&&L(_)},[_,L]);const R=C.useCallback(({left:H,renderContext:X=null},J)=>{var G,ie;if(!y.current||M.current===H&&((G=P.current)==null?void 0:G.firstColumnIndex)===(X==null?void 0:X.firstColumnIndex)&&((ie=P.current)==null?void 0:ie.lastColumnIndex)===(X==null?void 0:X.lastColumnIndex))return;M.current=H;let Y=!1;X!==P.current||!P.current?(pdt(J)?(Td.flushSync(()=>{S(X)}),Y=!0):S(X),P.current=X):Y=!0,X&&Y&&L(X)},[L]),T=C.useCallback(H=>a(H.field),[]),E=C.useCallback(()=>a(""),[]),k=C.useCallback(H=>o(H.field),[]),B=C.useCallback(()=>o(""),[]);St(s,"columnResizeStart",T),St(s,"columnResizeStop",E),St(s,"columnHeaderDragStart",k),St(s,"columnHeaderDragEnd",B),St(s,"rowsScroll",R);const $=H=>{const{renderContext:X=_,minFirstColumn:J=n,maxLastColumn:G=l.length}=H||{};if(!X)return null;const[ie,Y]=Lf({firstIndex:X.firstRowIndex,lastIndex:X.lastRowIndex,minFirstIndex:0,maxLastIndex:I.rows.length,buffer:x.rowBuffer}),le=O.current({firstColumnIndex:X.firstColumnIndex,minColumnIndex:J,columnBuffer:x.columnBuffer,apiRef:s,firstRowToRender:ie,lastRowToRender:Y,visibleRows:I.rows}),te=Math.min(X.lastColumnIndex+x.columnBuffer,G);return{renderedColumns:l.slice(le,te),firstColumnToRender:le,lastColumnToRender:te,minFirstColumn:J,maxLastColumn:G}},j=(H,X={})=>{const J=$(H);if(J==null)return null;const{renderedColumns:G,firstColumnToRender:ie}=J,Y=[];for(let le=0;le<G.length;le+=1){const te=G[le],re=ie+le,ae=re===0,pe=!(u===null&&d===null),we=u!==null&&u.field===te.field||ae&&!pe?0:-1,fe=f!==null&&f.field===te.field,_e=b.open&&b.field===te.field;Y.push(N.jsx(Rce,A({},m[te.field],{columnMenuOpen:_e,filterItemsCounter:v[te.field]&&v[te.field].length,headerHeight:p,isDragging:te.field===r,column:te,colIndex:re,isResizing:i===te.field,isLastColumn:re===l.length-1,extendRowFullWidth:!x.disableExtendRowFullWidth,hasFocus:fe,tabIndex:we},X),te.field))}return N.jsx(mW,{role:"row","aria-rowindex":h+1,ownerState:x,children:Y})},V=(H=[],X)=>H.slice(0,X+1),q=H=>{if(h===0)return null;const X=$(H);if(X==null||X.renderedColumns.length===0)return null;const{renderedColumns:J,firstColumnToRender:G,lastColumnToRender:ie,maxLastColumn:Y}=X,le=[],te=[];for(let Le=0;Le<h;Le+=1){var re,ae,pe;const Te=[];let Me=0,$e=G-1;const U=(re=l[G])==null||(ae=re.groupPath)==null?void 0:ae[Le],D=V((pe=l[G])==null?void 0:pe.groupPath,Le);for(;U!==null&&$e>=n&&(we=l[$e])!=null&&we.groupPath&&pc(V((fe=l[$e])==null?void 0:fe.groupPath,Le),D);){var we,fe,_e;const he=l[$e];if(Me+=(_e=he.computedWidth)!=null?_e:0,Te.length===0){var W;Te.push({width:(W=he.computedWidth)!=null?W:0,fields:[he.field],groupId:U,groupParents:D,colIndex:$e})}else{var oe;Te[0].width+=(oe=he.computedWidth)!=null?oe:0,Te[0].fields.push(he.field),Te[0].colIndex=$e}$e-=1}const F=J.reduce((he,ge,Ae)=>{var Ke;const Je=he[he.length-1];if(ge.groupPath&&ge.groupPath.length>Le){var ft;if(Je&&Je.groupId===ge.groupPath[Le]){var ht;return[...he.slice(0,he.length-1),A({},Je,{width:Je.width+((ht=ge.computedWidth)!=null?ht:0),fields:[...Je.fields,ge.field]})]}return[...he,{groupId:ge.groupPath[Le],groupParents:V(ge.groupPath,Le),width:(ft=ge.computedWidth)!=null?ft:0,fields:[ge.field],colIndex:G+Ae}]}if(Je&&Je.groupId===null&&pc(V(ge.groupPath,Le),Je.groupParents)){var it;return[...he.slice(0,he.length-1),A({},Je,{width:Je.width+((it=ge.computedWidth)!=null?it:0),fields:[...Je.fields,ge.field]})]}return[...he,{groupId:null,groupParents:V(ge.groupPath,Le),width:(Ke=ge.computedWidth)!=null?Ke:0,fields:[ge.field],colIndex:G+Ae}]},Te);$e=ie;const K=F[F.length-1].groupId;for(;K!==null&&$e<Y&&(Ce=l[$e])!=null&&Ce.groupPath&&((ve=l[$e])==null||(me=ve.groupPath)==null?void 0:me[Le])===K;){var Ce,ve,me,ye;const he=l[$e];F[F.length-1].width+=(ye=he.computedWidth)!=null?ye:0,F[F.length-1].fields.push(he.field),$e+=1}te.push({leftOverflow:Me,elements:[...F]})}return te.forEach((Le,Te)=>{le.push(N.jsx(mW,{style:{height:`${p}px`,transform:`translateX(-${Le.leftOverflow}px)`},role:"row","aria-rowindex":Te+1,ownerState:x,children:Le.elements.map(({groupId:Me,width:$e,fields:U,colIndex:D},F)=>N.jsx(fdt,{groupId:Me,width:$e,fields:U,colIndex:D,depth:Te,isLastColumn:D===l.length-U.length,extendRowFullWidth:!x.disableExtendRowFullWidth,maxDepth:te.length,height:p},F))},Te))}),le},Q={minHeight:g,maxHeight:g,lineHeight:`${p}px`};return{renderContext:_,getColumnHeaders:j,getColumnGroupHeaders:q,isDragging:!!r,getRootProps:(H={})=>A({style:Q},H),getInnerProps:()=>({ref:w,role:"rowgroup"})}},mdt=["className"],gdt=e=>{const{classes:t}=e;return Qe({root:["columnHeaders"]},Pn,t)},vdt=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})(({theme:e})=>({position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:`1px solid ${e.palette.mode==="light"?ls(Pt(e.palette.divider,1),.88):ss(Pt(e.palette.divider,1),.68)}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius})),bdt=C.forwardRef(function(t,n){const{className:r}=t,o=De(t,mdt),i=It(),a=gdt(i);return N.jsx(vdt,A({ref:n,className:Ne(r,a.root),ownerState:i},o))}),ydt=["isDragging","className"],xdt=e=>{const{isDragging:t,hasScrollX:n,classes:r}=e;return Qe({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},Pn,r)},wdt=Ee("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${We.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${We.columnHeaderDropZone} .${We.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${We["columnHeadersInner--scrollable"]} .${We.columnHeader}:last-child`]:{borderRight:"none"}})),_dt=C.forwardRef(function(t,n){var r,o;const{isDragging:i,className:a}=t,s=De(t,ydt),l=Zt(),c=It(),u=A({},c,{isDragging:i,hasScrollX:(r=(o=l.current.getRootDimensions())==null?void 0:o.hasScrollX)!=null?r:!1}),d=xdt(u);return N.jsx(wdt,A({ref:n,className:Ne(a,d.root),ownerState:u},s))}),Sdt=["innerRef","className"],Cdt=C.forwardRef(function(t,n){const{innerRef:r}=t,o=De(t,Sdt),{isDragging:i,getRootProps:a,getInnerProps:s,getColumnHeaders:l,getColumnGroupHeaders:c}=hdt({innerRef:r});return N.jsxs(bdt,A({ref:n},a(o),{children:[N.jsx(F5,{scrollDirection:"left"}),N.jsxs(_dt,A({isDragging:i},s(),{children:[c(),l()]})),N.jsx(F5,{scrollDirection:"right"})]}))}),ade=C.forwardRef(function(t,n){const r=Wut(t),o=Uut(r);return N.jsx(Hue,{apiRef:o,props:r,children:N.jsx(Sce,{className:r.className,style:r.style,sx:r.sx,ref:n,children:N.jsxs(Vle,{children:[N.jsx(Gle,{}),N.jsx(Hle,{ColumnHeadersComponent:Cdt,VirtualScrollerComponent:udt}),N.jsx(Ule,{})]})})})}),Pdt=C.memo(ade);ade.propTypes={"aria-label":nt.string,"aria-labelledby":nt.string,autoHeight:nt.bool,autoPageSize:nt.bool,cellModesModel:nt.object,checkboxSelection:nt.bool,classes:nt.object,columnBuffer:nt.number,columnGroupingModel:nt.arrayOf(nt.object),columns:fR(nt.array.isRequired),columnThreshold:nt.number,columnTypes:nt.object,columnVisibilityModel:nt.object,components:nt.object,componentsProps:nt.object,density:nt.oneOf(["comfortable","compact","standard"]),disableColumnFilter:nt.bool,disableColumnMenu:nt.bool,disableColumnSelector:nt.bool,disableDensitySelector:nt.bool,disableExtendRowFullWidth:nt.bool,disableIgnoreModificationsIfProcessingProps:nt.bool,disableSelectionOnClick:nt.bool,disableVirtualization:nt.bool,editMode:nt.oneOf(["cell","row"]),editRowsModel:nt.object,error:nt.any,experimentalFeatures:nt.shape({columnGrouping:nt.bool,newEditingApi:nt.bool,preventCommitWhileValidating:nt.bool,warnIfFocusStateIsNotSynced:nt.bool}),filterMode:nt.oneOf(["client","server"]),filterModel:nt.shape({items:nt.arrayOf(nt.shape({columnField:nt.string.isRequired,id:nt.oneOfType([nt.number,nt.string]),operatorValue:nt.string,value:nt.any})).isRequired,linkOperator:nt.oneOf(["and","or"]),quickFilterLogicOperator:nt.oneOf(["and","or"]),quickFilterValues:nt.array}),getCellClassName:nt.func,getDetailPanelContent:nt.func,getEstimatedRowHeight:nt.func,getRowClassName:nt.func,getRowHeight:nt.func,getRowId:nt.func,getRowSpacing:nt.func,headerHeight:nt.number,hideFooter:nt.bool,hideFooterPagination:nt.bool,hideFooterSelectedRowCount:nt.bool,initialState:nt.object,isCellEditable:nt.func,isRowSelectable:nt.func,keepNonExistentRowsSelected:nt.bool,loading:nt.bool,localeText:nt.object,logger:nt.shape({debug:nt.func.isRequired,error:nt.func.isRequired,info:nt.func.isRequired,warn:nt.func.isRequired}),logLevel:nt.oneOf(["debug","error","info","warn",!1]),nonce:nt.string,onCellClick:nt.func,onCellDoubleClick:nt.func,onCellEditCommit:nt.func,onCellEditStart:nt.func,onCellEditStop:nt.func,onCellFocusOut:nt.func,onCellKeyDown:nt.func,onCellModesModelChange:nt.func,onColumnHeaderClick:nt.func,onColumnHeaderDoubleClick:nt.func,onColumnHeaderEnter:nt.func,onColumnHeaderLeave:nt.func,onColumnHeaderOut:nt.func,onColumnHeaderOver:nt.func,onColumnOrderChange:nt.func,onColumnVisibilityChange:nt.func,onColumnVisibilityModelChange:nt.func,onEditCellPropsChange:nt.func,onEditRowsModelChange:nt.func,onError:nt.func,onFilterModelChange:nt.func,onMenuClose:nt.func,onMenuOpen:nt.func,onPageChange:nt.func,onPageSizeChange:nt.func,onPreferencePanelClose:nt.func,onPreferencePanelOpen:nt.func,onProcessRowUpdateError:nt.func,onResize:nt.func,onRowClick:nt.func,onRowDoubleClick:nt.func,onRowEditCommit:nt.func,onRowEditStart:nt.func,onRowEditStop:nt.func,onRowModesModelChange:nt.func,onSelectionModelChange:nt.func,onSortModelChange:nt.func,onStateChange:nt.func,page:nt.number,pageSize:fR(nt.number),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:nt.oneOf(["client","server"]),processRowUpdate:nt.func,rowBuffer:nt.number,rowCount:nt.number,rowHeight:nt.number,rowModesModel:nt.object,rows:nt.arrayOf(nt.object).isRequired,rowSpacingType:nt.oneOf(["border","margin"]),rowsPerPageOptions:nt.arrayOf(nt.number),rowThreshold:nt.number,scrollbarSize:nt.number,selectionModel:fR(nt.oneOfType([nt.number,nt.string,nt.array])),showCellRightBorder:nt.bool,showColumnRightBorder:nt.bool,sortingMode:nt.oneOf(["client","server"]),sortingOrder:nt.arrayOf(nt.oneOf(["asc","desc"])),sortModel:nt.arrayOf(nt.shape({field:nt.string.isRequired,sort:nt.oneOf(["asc","desc"])})),sx:nt.oneOfType([nt.arrayOf(nt.oneOfType([nt.func,nt.object,nt.bool])),nt.func,nt.object])};const Mdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"إظهار المسار"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"انتقل إلى الصفحة الأولى":e==="last"?"انتقل إلى الصفحة الأخيرة":e==="next"?"انتقل إلى الصفحة التالية":"انتقل إلى الصفحة السابقة",labelRowsPerPage:"عدد الصفوف في الصفحة:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} من ${n!==-1?n:` أكثر من${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} ${e!==1?"نجوم":"نجمة"}`,emptyLabelText:"فارغ"}},MuiAutocomplete:{defaultProps:{clearText:"مسح",closeText:"إغلاق",loadingText:"جار التحميل...",noOptionsText:"لا يوجد خيارات",openText:"فتح"}},MuiAlert:{defaultProps:{closeText:"إغلاق"}},MuiPagination:{defaultProps:{"aria-label":"التنقل عبر الصفحات",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"انتقل إلى "} صفحة ${t}`:e==="first"?"انتقل إلى الصفحة الأولى":e==="last"?"انتقل الي الصفحة الأخيرة":e==="next"?"انتقل إلى الصفحة التالية":"انتقل إلى الصفحة السابقة"}}}},Adt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Показване на пътя"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Отиди на първата страница":e==="last"?"Отиди на последната страница":e==="next"?"Отиди на следващата страница":"Отиди на предишната страница",labelRowsPerPage:"Редове на страница:"}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Звезд${e!==1?"и":"а"}`,emptyLabelText:"Изчисти"}},MuiAutocomplete:{defaultProps:{clearText:"Изчисти",closeText:"Затвори",loadingText:"Зареждане…",noOptionsText:"Няма налични опции",openText:"Отвори"}},MuiAlert:{defaultProps:{closeText:"Затвори"}},MuiPagination:{defaultProps:{"aria-label":"Пагинация",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Към "}страница ${t}`:e==="first"?"Отиди на първата страница":e==="last"?"Отиди на последната страница":e==="next"?"Отиди на следващата страница":"Отиди на предишната страница"}}}},Edt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Ukázat cestu"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Jít na první stránku":e==="last"?"Jít na poslední stránku":e==="next"?"Jít na další stránku":"Jít na předchozí stránku",labelRowsPerPage:"Řádků na stránce:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} z ${n!==-1?n:`více než ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>e===1?`${e} hvězdička`:e>=2&&e<=4?`${e} hvězdičky`:`${e} hvězdiček`,emptyLabelText:"Prázdné"}},MuiAutocomplete:{defaultProps:{clearText:"Vymazat",closeText:"Zavřít",loadingText:"Načítání…",noOptionsText:"Žádné možnosti",openText:"Otevřít"}},MuiAlert:{defaultProps:{closeText:"Zavřít"}},MuiPagination:{defaultProps:{"aria-label":"Navigace stránkováním",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Jít na "}${t}. stránku`:e==="first"?"Jít na první stránku":e==="last"?"Jít na poslední stránku":e==="next"?"Jít na další stránku":"Jít na předchozí stránku"}}}},Tdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Vis sti"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Gå til den første side":e==="last"?"Gå til den sidste side":e==="next"?"Gå til den næste side":"Gå til den forrige side",labelRowsPerPage:"Rækker pr side:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}-${t} af ${n!==-1?n:`mere end ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Stjern${e!==1?"er":""}`,emptyLabelText:"Tom"}},MuiAutocomplete:{defaultProps:{clearText:"Slet",closeText:"Luk",loadingText:"Indlæser…",noOptionsText:"Ingen muligheder",openText:"Åben"}},MuiAlert:{defaultProps:{closeText:"Luk"}},MuiPagination:{defaultProps:{"aria-label":"Sideinddelings navigation",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Go to "}page ${t}`:e==="first"?"Gå til den første side":e==="last"?"Gå til den sidste side":e==="next"?"Gå til den næste side":"Gå til den forrige side"}}}},Odt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Pfad anzeigen"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Zur ersten Seite":e==="last"?"Zur letzten Seite":e==="next"?"Zur nächsten Seite":"Zur vorherigen Seite",labelRowsPerPage:"Zeilen pro Seite:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} von ${n!==-1?n:`mehr als ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} ${e!==1?"Sterne":"Stern"}`,emptyLabelText:"Keine Wertung"}},MuiAutocomplete:{defaultProps:{clearText:"Leeren",closeText:"Schließen",loadingText:"Wird geladen…",noOptionsText:"Keine Optionen",openText:"Öffnen"}},MuiAlert:{defaultProps:{closeText:"Schließen"}},MuiPagination:{defaultProps:{"aria-label":"Navigation via Seitennummerierung",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Gehe zu "}Seite ${t}`:e==="first"?"Zur ersten Seite":e==="last"?"Zur letzten Seite":e==="next"?"Zur nächsten Seite":"Zur vorherigen Seite"}}}},Idt={},kdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mostrar ruta"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Ir a la primera página":e==="last"?"Ir a la última página":e==="next"?"Ir a la página siguiente":"Ir a la página anterior",labelRowsPerPage:"Filas por página:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} de ${n!==-1?n:`más de ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Estrella${e!==1?"s":""}`,emptyLabelText:"Vacío"}},MuiAutocomplete:{defaultProps:{clearText:"Limpiar",closeText:"Cerrar",loadingText:"Cargando…",noOptionsText:"Sin opciones",openText:"Abierto"}},MuiAlert:{defaultProps:{closeText:"Cerrar"}},MuiPagination:{defaultProps:{"aria-label":"Paginador",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Ir a la "}página ${t}`:e==="first"?"Ir a la primera página":e==="last"?"Ir a la última página":e==="next"?"Ir a la página siguiente":"Ir a la página anterior"}}}},Rdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"نمایش مسیر"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"رفتن به اولین صفحه":e==="last"?"رفتن به آخرین صفحه":e==="next"?"رفتن به صفحه‌ی بعدی":"رفتن به صفحه‌ی قبلی",labelRowsPerPage:"تعداد سطرهای هر صفحه:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} از ${n!==-1?n:`بیشتر از ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} ستاره`,emptyLabelText:"خالی"}},MuiAutocomplete:{defaultProps:{clearText:"پاک‌کردن",closeText:"بستن",loadingText:"در حال بارگذاری…",noOptionsText:"بی‌نتیجه",openText:"بازکردن"}},MuiAlert:{defaultProps:{closeText:"بستن"}},MuiPagination:{defaultProps:{"aria-label":"ناوبری صفحه",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"رفتن به "}صفحهٔ ${t}`:e==="first"?"رفتن به اولین صفحه":e==="last"?"رفتن به آخرین صفحه":e==="next"?"رفتن به صفحه‌ی بعدی":"رفتن به صفحه‌ی قبلی"}}}},Ldt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Näytä reitti"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Mene ensimmäiselle sivulle":e==="last"?"Mene viimeiselle sivulle":e==="next"?"Mene seuraavalle sivulle":"Mene edelliselle sivulle",labelRowsPerPage:"Rivejä per sivu:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} / ${n!==-1?n:`enemmän kuin ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Täht${e!==1?"eä":"i"}`,emptyLabelText:"Tyhjä"}},MuiAutocomplete:{defaultProps:{clearText:"Tyhjennä",closeText:"Sulje",loadingText:"Ladataan…",noOptionsText:"Ei valintoja",openText:"Avaa"}},MuiAlert:{defaultProps:{closeText:"Sulje"}},MuiPagination:{defaultProps:{"aria-label":"Sivutus navigaatio",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"sivu":"Mene sivulle"} ${t}`:e==="first"?"Mene ensimmäiselle sivulle":e==="last"?"Mene viimeiselle sivulle":e==="next"?"Mene seuraavalle sivulle":"Mene edelliselle sivulle"}}}},$dt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Montrer le chemin"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Aller à la première page":e==="last"?"Aller à la dernière page":e==="next"?"Aller à la page suivante":"Aller à la page précédente",labelRowsPerPage:"Lignes par page :",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} sur ${n!==-1?n:`plus que ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Etoile${e!==1?"s":""}`,emptyLabelText:"Vide"}},MuiAutocomplete:{defaultProps:{clearText:"Vider",closeText:"Fermer",loadingText:"Chargement…",noOptionsText:"Pas de résultats",openText:"Ouvrir"}},MuiAlert:{defaultProps:{closeText:"Fermer"}},MuiPagination:{defaultProps:{"aria-label":"navigation de pagination",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Aller à la "}page ${t}`:e==="first"?"Aller à la première page":e==="last"?"Aller à la dernière page":e==="next"?"Aller à la page suivante":"Aller à la page précédente"}}}},Ddt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"הצג נתיב"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"לעמוד הראשון":e==="last"?"לעמוד האחרון":e==="next"?"לעמוד הבא":"לעמוד הקודם",labelRowsPerPage:"שורות בעמוד:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} מתוך ${n!==-1?n:`יותר מ ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} כוכב${e!==1?"ים":""}`,emptyLabelText:"ריק"}},MuiAutocomplete:{defaultProps:{clearText:"נקה",closeText:"סגור",loadingText:"טוען…",noOptionsText:"אין אופציות",openText:"פתח"}},MuiAlert:{defaultProps:{closeText:"סגור"}},MuiPagination:{defaultProps:{"aria-label":"ניווט בעמודים",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"ל "}עמוד ${t}`:e==="first"?"לעמוד הראשון":e==="last"?"לעמוד האחרון":e==="next"?"לעמוד הבא":"לעמוד הקודם"}}}},Fdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Útvonal"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Első oldalra":e==="last"?"Utolsó oldalra":e==="next"?"Következő oldalra":"Előző oldalra",labelRowsPerPage:"Sorok száma:"}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Csillag`,emptyLabelText:"Üres"}},MuiAutocomplete:{defaultProps:{clearText:"Törlés",closeText:"Bezárás",loadingText:"Töltés…",noOptionsText:"Nincs találat",openText:"Megnyitás"}},MuiAlert:{defaultProps:{closeText:"Bezárás"}},MuiPagination:{defaultProps:{"aria-label":"Lapozás",getItemAriaLabel:(e,t,n)=>e==="page"?`${t}. oldal${n?"":"ra"}`:e==="first"?"Első oldalra":e==="last"?"Utolsó oldalra":e==="next"?"Következő oldalra":"Előző oldalra"}}}},Ndt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Visualizza percorso"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Vai alla prima pagina":e==="last"?"Vai all'ultima pagina":e==="next"?"Vai alla pagina successiva":"Vai alla pagina precedente",labelRowsPerPage:"Righe per pagina:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} di ${n!==-1?n:`più di ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Stell${e!==1?"e":"a"}`,emptyLabelText:"Vuoto"}},MuiAutocomplete:{defaultProps:{clearText:"Svuota",closeText:"Chiudi",loadingText:"Caricamento in corso…",noOptionsText:"Nessuna opzione",openText:"Apri"}},MuiAlert:{defaultProps:{closeText:"Chiudi"}},MuiPagination:{defaultProps:{"aria-label":"Navigazione impaginata",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Vai alla "}pagina ${t}`:e==="first"?"Vai alla prima pagina":e==="last"?"Vai all'ultima pagina":e==="next"?"Vai alla pagina successiva":"Vai alla pagina precedente"}}}},Bdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"すべて表示"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"最初のページへ":e==="last"?"最後のページへ":e==="next"?"次のページへ":"前のページへ",labelRowsPerPage:"ページあたりの行数:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}～${t} / ${n!==-1?n:`${t}以上`}`}},MuiRating:{defaultProps:{getLabelText:e=>`星${e}`,emptyLabelText:"星なし"}},MuiAutocomplete:{defaultProps:{clearText:"クリア",closeText:"閉じる",loadingText:"読み込み中…",noOptionsText:"データがありません",openText:"開く"}},MuiAlert:{defaultProps:{closeText:"閉じる"}},MuiPagination:{defaultProps:{"aria-label":"ページ選択",getItemAriaLabel:(e,t,n)=>e==="page"?`ページ${t}${n?"":"へ"}`:e==="first"?"最初のページへ":e==="last"?"最後のページへ":e==="next"?"次のページへ":"前のページへ"}}}},jdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"경로 보기"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"첫 번째 페이지로 이동":e==="last"?"마지막 페이지로 이동":e==="next"?"다음 페이지로 이동":"이전 페이지로 이동",labelRowsPerPage:"페이지 당 행:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} / ${n!==-1?n:`${t}개 이상`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} 점`,emptyLabelText:"빈 텍스트"}},MuiAutocomplete:{defaultProps:{clearText:"지우기",closeText:"닫기",loadingText:"불러오는 중…",noOptionsText:"옵션 없음",openText:"열기"}},MuiAlert:{defaultProps:{closeText:"닫기"}},MuiPagination:{defaultProps:{"aria-label":"페이지네이션 네비게이션",getItemAriaLabel:(e,t,n)=>e==="page"?`${t} 번째 페이지${n?"":"로 이동"}`:e==="first"?"첫 번째 페이지로 이동":e==="last"?"마지막 페이지로 이동":e==="next"?"다음 페이지로 이동":"이전 페이지로 이동"}}}},zdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Vis sti"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Gå til første side":e==="last"?"Gå til siste side":e==="next"?"Gå til neste side":"Gå til forrige side",labelRowsPerPage:"Rader per side:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} av ${n!==-1?n:`mer enn ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Stjerne${e!==1?"r":""}`,emptyLabelText:"Tom"}},MuiAutocomplete:{defaultProps:{clearText:"Tøm",closeText:"Lukk",loadingText:"Laster inn…",noOptionsText:"Ingen alternativer",openText:"Åpne"}},MuiAlert:{defaultProps:{closeText:"Lukk"}},MuiPagination:{defaultProps:{"aria-label":"Paginering navigasjon",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Gå til "}side ${t}`:e==="first"?"Gå til første side":e==="last"?"Gå til siste side":e==="next"?"Gå til neste side":"Gå til forrige side"}}}},Hdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Pad tonen"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Ga naar eerste pagina":e==="last"?"Ga naar laatste pagina":e==="next"?"Ga naar volgende pagina":"Ga naar vorige pagina",labelRowsPerPage:"Regels per pagina:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} van ${n!==-1?n:`meer dan ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Ster${e!==1?"ren":""}`,emptyLabelText:"Leeg"}},MuiAutocomplete:{defaultProps:{clearText:"Wissen",closeText:"Sluiten",loadingText:"Laden…",noOptionsText:"Geen opties",openText:"Openen"}},MuiAlert:{defaultProps:{closeText:"Sluiten"}},MuiPagination:{defaultProps:{"aria-label":"Navigatie via paginering",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Ga naar "}pagina ${t}`:e==="first"?"Ga naar eerste pagina":e==="last"?"Ga naar laatste pagina":e==="next"?"Ga naar volgende pagina":"Ga naar vorige pagina"}}}},Vdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Pokaż ścieżkę"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Przejdź do pierwszej strony":e==="last"?"Przejdź do ostatniej strony":e==="next"?"Przejdź do następnej strony":"Przejdź do poprzedniej strony",labelRowsPerPage:"Wierszy na stronę:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} z ${n!==-1?n:`ponad ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>{let t="gwiazdek";const n=e%10;return(e<10||e>20)&&n>1&&n<5?t="gwiazdki":e===1&&(t="gwiazdka"),`${e} ${t}`},emptyLabelText:"Brak gwiazdek"}},MuiAutocomplete:{defaultProps:{clearText:"Wyczyść",closeText:"Zamknij",loadingText:"Ładowanie…",noOptionsText:"Brak opcji",openText:"Otwórz"}},MuiAlert:{defaultProps:{closeText:"Zamknij"}},MuiPagination:{defaultProps:{"aria-label":"Nawigacja podziału na strony",getItemAriaLabel:(e,t,n)=>e==="page"?n?`${t}. strona`:`Przejdź do ${t}. strony`:e==="first"?"Przejdź do pierwszej strony":e==="last"?"Przejdź do ostatniej strony":e==="next"?"Przejdź do następnej strony":"Przejdź do poprzedniej strony"}}}},Udt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mostrar caminho"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Ir para a primeira página":e==="last"?"Ir para a última página":e==="next"?"Ir para a próxima página":"Ir para a página anterior",labelRowsPerPage:"Linhas por página:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} de ${n!==-1?n:`mais de ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Estrela${e!==1?"s":""}`,emptyLabelText:"Vazio"}},MuiAutocomplete:{defaultProps:{clearText:"Limpar",closeText:"Fechar",loadingText:"Carregando…",noOptionsText:"Sem opções",openText:"Abrir"}},MuiAlert:{defaultProps:{closeText:"Fechar"}},MuiPagination:{defaultProps:{"aria-label":"Navegar pela paginação",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Ir para a "}página ${t}`:e==="first"?"Ir para a primeira página":e==="last"?"Ir para a última página":e==="next"?"Ir para a próxima página":"Ir para a página anterior"}}}},Gdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Arată calea"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Mergi la prima pagină":e==="last"?"Mergi la ultima pagină":e==="next"?"Mergi la pagina următoare":"Mergi la pagina precedentă",labelRowsPerPage:"Rânduri pe pagină:"}},MuiRating:{defaultProps:{getLabelText:e=>`${e} St${e!==1?"ele":"ea"}`,emptyLabelText:"Gol"}},MuiAutocomplete:{defaultProps:{clearText:"Șterge",closeText:"Închide",loadingText:"Se încarcă…",noOptionsText:"Nicio opțiune",openText:"Deschide"}},MuiAlert:{defaultProps:{closeText:"Închide"}},MuiPagination:{defaultProps:{"aria-label":"Navigare prin paginare",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Mergi la "}pagina ${t}`:e==="first"?"Mergi la prima pagină":e==="last"?"Mergi la ultima pagină":e==="next"?"Mergi la pagina următoare":"Mergi la pagina precedentă"}}}},Wdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Показать полный путь"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Перейти на первую страницу":e==="last"?"Перейти на последнюю страницу":e==="next"?"Перейти на следующую страницу":"Перейти на предыдущую страницу",labelRowsPerPage:"Строк на странице:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} из ${n!==-1?n:`более чем ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>{let t="Звёзд";const n=e%10;return n>1&&n<5?t="Звезды":n===1&&(t="Звезда"),`${e} ${t}`},emptyLabelText:"Рейтинг отсутствует"}},MuiAutocomplete:{defaultProps:{clearText:"Очистить",closeText:"Закрыть",loadingText:"Загрузка…",noOptionsText:"Нет доступных вариантов",openText:"Открыть"}},MuiAlert:{defaultProps:{closeText:"Закрыть"}},MuiPagination:{defaultProps:{"aria-label":"Навигация по страницам",getItemAriaLabel:(e,t,n)=>e==="page"?n?`${t} страница`:`Перейти на ${t} страницу`:e==="first"?"Перейти на первую страницу":e==="last"?"Перейти на последнюю страницу":e==="next"?"Перейти на следующую страницу":"Перейти на предыдущую страницу"}}}},qdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Ukázať cestu "}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Ísť na prvú stránku":e==="last"?"Ísť na poslednú stránku":e==="next"?"Ísť na ďaľšiu stránku":"Ísť na predchádzajúcu stránku",labelRowsPerPage:"Riadkov na stránke:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} z ${n!==-1?n:`viac ako ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>e===1?`${e} hviezdička`:e>=2&&e<=4?`${e} hviezdičky`:`${e} hviezdičiek`,emptyLabelText:"Prázdne"}},MuiAutocomplete:{defaultProps:{clearText:"Vymazať",closeText:"Zavrieť",loadingText:"Načítanie…",noOptionsText:"Žiadne možnosti",openText:"Otvoriť"}},MuiAlert:{defaultProps:{closeText:"Zavrieť"}},MuiPagination:{defaultProps:{"aria-label":"Navigácia stránkovanim",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Ísť na "}stránku ${t}`:e==="first"?"Ísť na prvú stránku":e==="last"?"Ísť na poslednú stránku":e==="next"?"Ísť na ďaľšiu stránku":"Ísť na predchádzajúcu stránku"}}}},Xdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Visa sökväg"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Gå till första sidan":e==="last"?"Gå till sista sidan":e==="next"?"Gå till nästa sida":"Gå till föregående sida",labelRowsPerPage:"Rader per sida:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} av ${n!==-1?n:`fler än ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} ${e!==1?"Stjärnor":"Stjärna"}`,emptyLabelText:"Tom"}},MuiAutocomplete:{defaultProps:{clearText:"Rensa",closeText:"Stäng",loadingText:"Laddar…",noOptionsText:"Inga alternativ",openText:"Öppna"}},MuiAlert:{defaultProps:{closeText:"Stäng"}},MuiPagination:{defaultProps:{"aria-label":"Sidnavigering",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Gå till "}sida ${t}`:e==="first"?"Gå till första sidan":e==="last"?"Gå till sista sidan":e==="next"?"Gå till nästa sida":"Gå till föregående sida"}}}},Kdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Yolu göster"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"İlk sayfaya git":e==="last"?"Son sayfaya git":e==="next"?"Sonraki sayfaya git":"Önceki sayfaya git",labelRowsPerPage:"Sayfa başına satır:"}},MuiRating:{defaultProps:{getLabelText:e=>`${e} Yıldız`,emptyLabelText:"Boş"}},MuiAutocomplete:{defaultProps:{clearText:"Temizle",closeText:"Kapat",loadingText:"Yükleniyor…",noOptionsText:"Seçenek yok",openText:"Aç"}},MuiAlert:{defaultProps:{closeText:"Kapat"}},MuiPagination:{defaultProps:{"aria-label":"Sayfa navigasyonu",getItemAriaLabel:(e,t,n)=>e==="page"?`${t}. ${n?"sayfa":"sayfaya git"}`:e==="first"?"İlk sayfaya git":e==="last"?"Son sayfaya git":e==="next"?"Sonraki sayfaya git":"Önceki sayfaya git"}}}},Ydt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Показати шлях сторінок"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Перейти на першу сторінку":e==="last"?"Перейти на останню сторінку":e==="next"?"Перейти на наступну сторінку":"Перейти на попередню сторінку",labelRowsPerPage:"Рядків на сторінці:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} з ${n!==-1?n:`понад ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>{let t="Зірок";const n=e%10;return n>1&&n<5?t="Зірки":n===1&&(t="Зірка"),`${e} ${t}`},emptyLabelText:"Рейтинг відсутній"}},MuiAutocomplete:{defaultProps:{clearText:"Очистити",closeText:"Згорнути",loadingText:"Завантаження…",noOptionsText:"Немає варіантів",openText:"Розгорнути"}},MuiAlert:{defaultProps:{closeText:"Згорнути"}},MuiPagination:{defaultProps:{"aria-label":"Навігація сторінками",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Перейти на "}сторінку ${t}`:e==="first"?"Перейти на першу сторінку":e==="last"?"Перейти на останню сторінку":e==="next"?"Перейти на наступну сторінку":"Перейти на попередню сторінку"}}}},Zdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Mở ra"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Tới trang đầu tiên":e==="last"?"Tới trang cuối cùng":e==="next"?"Tới trang tiếp theo":"Về trang trước đó",labelRowsPerPage:"Số hàng mỗi trang:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} trong ${n!==-1?n:`nhiều hơn ${t}`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} sao`,emptyLabelText:"Không có dữ liệu"}},MuiAutocomplete:{defaultProps:{clearText:"Xóa",closeText:"Đóng",loadingText:"Đang tải…",noOptionsText:"Không có lựa chọn nào",openText:"Mở"}},MuiAlert:{defaultProps:{closeText:"Đóng"}},MuiPagination:{defaultProps:{"aria-label":"Thanh điều khiển trang",getItemAriaLabel:(e,t,n)=>e==="page"?`${n?"":"Tới "}trang ${t}`:e==="first"?"Tới trang đầu tiên":e==="last"?"Tới trang cuối cùng":e==="next"?"Tới trang tiếp theo":"Về trang trước đó"}}}},Qdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"展开"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"第一页":e==="last"?"最后一页":e==="next"?"下一页":"上一页",labelRowsPerPage:"每页行数:",labelDisplayedRows:({from:e,to:t,count:n})=>`第 ${e} 条到第 ${t} 条，${n!==-1?`共 ${n} 条`:`至少 ${t} 条`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} 颗星`,emptyLabelText:"无标签"}},MuiAutocomplete:{defaultProps:{clearText:"清空",closeText:"关闭",loadingText:"加载中……",noOptionsText:"没有可用选项",openText:"打开"}},MuiAlert:{defaultProps:{closeText:"关闭"}}}},Jdt={components:{MuiBreadcrumbs:{defaultProps:{expandText:"展開"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"第一頁":e==="last"?"最後一頁":e==="next"?"下一頁":"上一頁",labelRowsPerPage:"每頁數量:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e} ~ ${t} / ${n!==-1?n:`${t} 以上`}`}},MuiRating:{defaultProps:{getLabelText:e=>`${e} 顆星`,emptyLabelText:"無標籤"}},MuiAutocomplete:{defaultProps:{clearText:"清空",closeText:"關閉",loadingText:"載入中…",noOptionsText:"沒有可用選項",openText:"打開"}},MuiAlert:{defaultProps:{closeText:"關閉"}}}},cr=(e,t)=>{var n,r;return{components:{MuiDataGrid:{defaultProps:{localeText:A({},e,{MuiTablePagination:(t==null||(n=t.components)==null||(r=n.MuiTablePagination)==null?void 0:r.defaultProps)||{}})}}}}},eft={noRowsLabel:"لا توجد صفوف",noResultsOverlayLabel:"لم يتم العثور على نتائج.",errorOverlayDefaultLabel:"حدث خطأ.",toolbarDensity:"الكثافة",toolbarDensityLabel:"الكثافة",toolbarDensityCompact:"مضغوط",toolbarDensityStandard:"قياسي",toolbarDensityComfortable:"مريح",toolbarColumns:"الأعمدة",toolbarColumnsLabel:"حدد أعمدة",toolbarFilters:"المُرشِحات",toolbarFiltersLabel:"إظهار المرشِحات",toolbarFiltersTooltipHide:"إخفاء المرشِحات",toolbarFiltersTooltipShow:"اظهر المرشِحات",toolbarFiltersTooltipActive:e=>e!==1?`${e} من المرشِحات النشطة`:"مرشِح نشط",toolbarQuickFilterPlaceholder:"بحث...",toolbarQuickFilterLabel:"بحث",toolbarQuickFilterDeleteIconLabel:"أزال",toolbarExport:"تصدير",toolbarExportLabel:"تصدير",toolbarExportCSV:"تنزيل كملف CSV",toolbarExportPrint:"طباعة",toolbarExportExcel:"تحميل كملف الإكسل",columnsPanelTextFieldLabel:"البحث عن العمود",columnsPanelTextFieldPlaceholder:"عنوان العمود",columnsPanelDragIconLabel:"إعادة ترتيب العمود",columnsPanelShowAllButton:"إظهار الكل",columnsPanelHideAllButton:"إخفاء الكل",filterPanelAddFilter:"إضافة مرشِح",filterPanelDeleteIconLabel:"حذف",filterPanelLinkOperator:"عامل منطقي",filterPanelOperators:"عامل",filterPanelOperatorAnd:"و",filterPanelOperatorOr:"أو",filterPanelColumns:"الأعمدة",filterPanelInputLabel:"القيمة",filterPanelInputPlaceholder:"ترشِيح قيمة",filterOperatorContains:"يحتوي",filterOperatorEquals:"يساوي",filterOperatorStartsWith:"يبدأ بـ",filterOperatorEndsWith:"ينتهي بـ",filterOperatorIs:"يكون",filterOperatorNot:"ليس",filterOperatorAfter:"بعد",filterOperatorOnOrAfter:"عند أو بعد",filterOperatorBefore:"قبل",filterOperatorOnOrBefore:"عند أو قبل",filterOperatorIsEmpty:"خالي",filterOperatorIsNotEmpty:"غير خالي",filterOperatorIsAnyOf:"أي من",filterValueAny:"أي",filterValueTrue:"صائب",filterValueFalse:"خاطئ",columnMenuLabel:"القائمة",columnMenuShowColumns:"إظهار الأعمدة",columnMenuFilter:"المرشِح",columnMenuHideColumn:"إخفاء",columnMenuUnsort:"الغاء الفرز",columnMenuSortAsc:"الفرز تصاعدياً",columnMenuSortDesc:"الفرز تنازلياً",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} من المرشِحات النشطة`:"مرشِح نشط",columnHeaderFiltersLabel:"إظهار المرشحات",columnHeaderSortIconLabel:"فرز",footerRowSelected:e=>e!==1?`تم تحديد ${e.toLocaleString()} من الصفوف`:"تم تحديد صف واحد",footerTotalRows:"إجمالي الصفوف:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} من ${t.toLocaleString()}`,checkboxSelectionHeaderName:"تحديد خانة الاختيار",checkboxSelectionSelectAllRows:"تحديد كل الصفوف",checkboxSelectionUnselectAllRows:"الغاء تحديد كل الصفوف",checkboxSelectionSelectRow:"تحديد صف",checkboxSelectionUnselectRow:"الغاء تحديد الصف",booleanCellTrueLabel:"نعم",booleanCellFalseLabel:"لا",actionsCellMore:"المزيد",pinToLeft:"التدبيس يميناً",pinToRight:"التدبيس يساراً",unpin:"الغاء التدبيس",treeDataGroupingHeaderName:"تجميع",treeDataExpand:"رؤية الأبناء",treeDataCollapse:"إخفاء الأبناء",groupingColumnHeaderName:"تجميع",groupColumn:e=>`تجميع حسب ${e}`,unGroupColumn:e=>`إيقاف التجميع حسب ${e}`,detailPanelToggle:"اظهار/اخفاء لوحة التفاصيل",expandDetailPanel:"توسيع",collapseDetailPanel:"طوي",rowReorderingHeaderName:"أعادة ترتيب الصفوف",aggregationMenuItemHeader:"الدلالات الحسابية",aggregationFunctionLabelSum:"مجموع",aggregationFunctionLabelAvg:"معدل",aggregationFunctionLabelMin:"الحد الادنى",aggregationFunctionLabelMax:"الحد الاقصى",aggregationFunctionLabelSize:"الحجم"},tft=cr(eft,Mdt),nft={components:{MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"Перайсці на першую старонку":e==="last"?"Перайсці на апошнюю старонку":e==="next"?"Перайсці на наступную старонку":"Перайсці на папярэднюю старонку",labelRowsPerPage:"Радкоў на старонцы:",labelDisplayedRows:({from:e,to:t,count:n})=>`${e}–${t} з ${n!==-1?n:`больш чым ${t}`}`}}}},rft={components:{MuiTablePagination:{defaultProps:{getItemAriaLabel:e=>e==="first"?"پہلے صفحے پر جائیں":e==="last"?"آخری صفحے پر جائیں":e==="next"?"اگلے صفحے پر جائیں":"پچھلے صفحے پر جائیں",labelRowsPerPage:"ایک صفحے پر قطاریں:",labelDisplayedRows:({from:e,to:t,count:n})=>`${n!==-1?`${n} میں سے`:`${t} سے ذیادہ میں سے`} ${e} سے ${t} قطاریں`}}}},EL=(e,t)=>{let n=t.other;const r=e%10;return r>1&&r<5&&(e<10||e>20)?n=t.twoToFour:r===1&&e%100!==11&&(n=t.one),`${e} ${n}`},oft={noRowsLabel:"Няма радкоў",noResultsOverlayLabel:"Дадзеныя не знойдзены.",toolbarDensity:"Вышыня радка",toolbarDensityLabel:"Вышыня радка",toolbarDensityCompact:"Кампактны",toolbarDensityStandard:"Стандартны",toolbarDensityComfortable:"Камфортны",toolbarColumns:"Слупкі",toolbarColumnsLabel:"Выберыце слупкі",toolbarFilters:"Фільтры",toolbarFiltersLabel:"Паказаць фільтры",toolbarFiltersTooltipHide:"Схаваць фільтры",toolbarFiltersTooltipShow:"Паказаць фільтры",toolbarFiltersTooltipActive:e=>EL(e,{one:"актыўны фільтр",twoToFour:"актыўных фільтра",other:"актыўных фільтраў"}),toolbarQuickFilterPlaceholder:"Пошук…",toolbarQuickFilterLabel:"Пошук",toolbarQuickFilterDeleteIconLabel:"Ачысціць",toolbarExport:"Экспарт",toolbarExportLabel:"Экспарт",toolbarExportCSV:"Спампаваць у фармаце CSV",toolbarExportPrint:"Друк",toolbarExportExcel:"Спампаваць у фармаце Excel",columnsPanelTextFieldLabel:"Знайсці слупок",columnsPanelTextFieldPlaceholder:"Загаловак слупка",columnsPanelDragIconLabel:"Змяніць чарговасць слупкоў",columnsPanelShowAllButton:"Паказаць усе",columnsPanelHideAllButton:"Схаваць усе",filterPanelAddFilter:"Дадаць фільтр",filterPanelDeleteIconLabel:"Выдаліць",filterPanelLinkOperator:"Лагічныя аператары",filterPanelOperators:"Аператары",filterPanelOperatorAnd:"І",filterPanelOperatorOr:"Або",filterPanelColumns:"Слупкі",filterPanelInputLabel:"Значэнне",filterPanelInputPlaceholder:"Значэнне фільтра",filterOperatorContains:"змяшчае",filterOperatorEquals:"роўны",filterOperatorStartsWith:"пачынаецца з",filterOperatorEndsWith:"скончваецца на",filterOperatorIs:"роўны",filterOperatorNot:"не роўны",filterOperatorAfter:"больш чым",filterOperatorOnOrAfter:"больш ці роўны",filterOperatorBefore:"меньш чым",filterOperatorOnOrBefore:"меньш ці роўны",filterOperatorIsEmpty:"пусты",filterOperatorIsNotEmpty:"не пусты",filterOperatorIsAnyOf:"усякі з",filterValueAny:"усякі",filterValueTrue:"праўда",filterValueFalse:"няпраўда",columnMenuLabel:"Меню",columnMenuShowColumns:"Паказаць слупкі",columnMenuFilter:"Фільтр",columnMenuHideColumn:"Схаваць",columnMenuUnsort:"Скасаваць сартыроўку",columnMenuSortAsc:"Сартыраваць па нарастанню",columnMenuSortDesc:"Сартыраваць па спаданню",columnHeaderFiltersTooltipActive:e=>EL(e,{one:"актыўны фільтр",twoToFour:"актыўных фільтра",other:"актыўных фільтраў"}),columnHeaderFiltersLabel:"Паказаць фільтры",columnHeaderSortIconLabel:"Сартыраваць",footerRowSelected:e=>EL(e,{one:"абраны радок",twoToFour:"абраных радка",other:"абраных радкоў"}),footerTotalRows:"Усяго радкоў:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} з ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Выбар сцяжка",checkboxSelectionSelectAllRows:"Абраць усе радкі",checkboxSelectionUnselectAllRows:"Скасаваць выбар усіх радкоў",checkboxSelectionSelectRow:"Абраць радок",checkboxSelectionUnselectRow:"Скасаваць выбар радка",booleanCellTrueLabel:"праўда",booleanCellFalseLabel:"няпраўда",actionsCellMore:"больш",pinToLeft:"Замацаваць злева",pinToRight:"Замацаваць справа",unpin:"Адмацаваць",treeDataGroupingHeaderName:"Група",treeDataExpand:"паказаць даччыныя элементы",treeDataCollapse:"схаваць даччыныя элементы",groupingColumnHeaderName:"Група",groupColumn:e=>`Групаваць па ${e}`,unGroupColumn:e=>`Разгрупаваць па ${e}`,detailPanelToggle:"Дэталі",expandDetailPanel:"Разгарнуць",collapseDetailPanel:"Згарнуць",rowReorderingHeaderName:"Змяненне чарговасці радкоў",aggregationMenuItemHeader:"Аб'яднанне дадзеных",aggregationFunctionLabelSum:"сума",aggregationFunctionLabelAvg:"сярэдняе",aggregationFunctionLabelMin:"мінімум",aggregationFunctionLabelMax:"максімум",aggregationFunctionLabelSize:"памер"},ift=cr(oft,nft),aft={noRowsLabel:"Няма редове",noResultsOverlayLabel:"Няма намерени резултати.",errorOverlayDefaultLabel:"Възникна грешка.",toolbarDensity:"Гъстота",toolbarDensityLabel:"Гъстота",toolbarDensityCompact:"Компактна",toolbarDensityStandard:"Стандартна",toolbarDensityComfortable:"Комфортна",toolbarColumns:"Колони",toolbarColumnsLabel:"Покажи селектора на колони",toolbarFilters:"Филтри",toolbarFiltersLabel:"Покажи Филтрите",toolbarFiltersTooltipHide:"Скрий Филтрите",toolbarFiltersTooltipShow:"Покажи Филтрите",toolbarFiltersTooltipActive:e=>`${e} активни филтри`,toolbarExport:"Изтегли",toolbarExportLabel:"Изтегли",toolbarExportCSV:"Изтегли като CSV",toolbarExportPrint:"Принтиране",columnsPanelTextFieldLabel:"Намери колона",columnsPanelTextFieldPlaceholder:"Заглавие на колона",columnsPanelDragIconLabel:"Пренареди на колона",columnsPanelShowAllButton:"Покажи Всички",columnsPanelHideAllButton:"Скрий Всички",filterPanelAddFilter:"Добави Филтър",filterPanelDeleteIconLabel:"Изтрий",filterPanelOperators:"Оператори",filterPanelOperatorAnd:"И",filterPanelOperatorOr:"Или",filterPanelColumns:"Колони",filterPanelInputLabel:"Стойност",filterPanelInputPlaceholder:"Стойност на филтъра",filterOperatorContains:"съдържа",filterOperatorEquals:"равно",filterOperatorStartsWith:"започва с",filterOperatorEndsWith:"завършва с",filterOperatorIs:"е",filterOperatorNot:"не е",filterOperatorAfter:"е след",filterOperatorOnOrAfter:"е на или след",filterOperatorBefore:"е преди",filterOperatorOnOrBefore:"е на или преди",filterOperatorIsEmpty:"е празен",filterOperatorIsNotEmpty:"не е празен",filterOperatorIsAnyOf:"е някой от",filterValueAny:"всякакви",filterValueTrue:"вярно",filterValueFalse:"невярно",columnMenuLabel:"Меню",columnMenuShowColumns:"Покажи колоните",columnMenuFilter:"Филтри",columnMenuHideColumn:"Скрий",columnMenuUnsort:"Отмени сортирането",columnMenuSortAsc:"Сортирай по възходящ ред",columnMenuSortDesc:"Сортирай по низходящ ред",columnHeaderFiltersTooltipActive:e=>`${e} активни филтри`,columnHeaderFiltersLabel:"Покажи Филтрите",columnHeaderSortIconLabel:"Сортирай",footerRowSelected:e=>e!==1?`${e.toLocaleString()} избрани редове`:`${e.toLocaleString()} избран ред`,footerTotalRows:"Общо Редове:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} от ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Избор на квадратче",checkboxSelectionSelectAllRows:"Избери всички редове",checkboxSelectionUnselectAllRows:"Отмени избора на всички редове",checkboxSelectionSelectRow:"Избери ред",checkboxSelectionUnselectRow:"Отмени избора на ред",booleanCellTrueLabel:"да",booleanCellFalseLabel:"не",actionsCellMore:"още",pinToLeft:"Закачи в ляво",pinToRight:"Закачи в дясно",unpin:"Откачи",treeDataGroupingHeaderName:"Група",treeDataExpand:"виж деца",treeDataCollapse:"скрий децата",groupingColumnHeaderName:"Група",groupColumn:e=>`Групирай по ${e}`,unGroupColumn:e=>`Спри групиране по ${e}`,expandDetailPanel:"Разгъване",collapseDetailPanel:"Свиване"},sft=cr(aft,Adt),lft={noRowsLabel:"Žádné záznamy",noResultsOverlayLabel:"Nenašli se žadné výsledky.",errorOverlayDefaultLabel:"Stala sa nepředvídaná chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktní",toolbarDensityStandard:"Standartní",toolbarDensityComfortable:"Komfortní",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skrýt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:e=>{let t="aktivních filtrů";return e>1&&e<5?t="aktivní filtry":e===1&&(t="aktivní filtr"),`${e} ${t}`},toolbarQuickFilterPlaceholder:"Vyhledávat…",toolbarQuickFilterLabel:"Vyhledat",toolbarQuickFilterDeleteIconLabel:"Vymazat",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stáhnout jako CSV",toolbarExportPrint:"Vytisknout",toolbarExportExcel:"Stáhnout jako Excel",columnsPanelTextFieldLabel:"Najít sloupec",columnsPanelTextFieldPlaceholder:"Název sloupce",columnsPanelDragIconLabel:"Uspořádat sloupce",columnsPanelShowAllButton:"Zobrazit vše",columnsPanelHideAllButton:"Skrýt vše",filterPanelAddFilter:"Přidat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelLinkOperator:"Logický operátor",filterPanelOperators:"Operátory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovná se",filterOperatorStartsWith:"začíná s",filterOperatorEndsWith:"končí na",filterOperatorIs:"je",filterOperatorNot:"není",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je před",filterOperatorOnOrBefore:"je na nebo dříve",filterOperatorIsEmpty:"je prázdný",filterOperatorIsNotEmpty:"není prázdný",filterOperatorIsAnyOf:"je jeden z",filterValueAny:"jakýkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skrýt",columnMenuUnsort:"Zrušit filtry",columnMenuSortAsc:"Seřadit vzestupně",columnMenuSortDesc:"Seřadit sestupně",columnHeaderFiltersTooltipActive:e=>{let t="aktivních filtrů";return e>1&&e<5?t="aktivní filtry":e===1&&(t="aktivní filtr"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:e=>{let t="vybraných záznamů";return e>1&&e<5?t="vybrané záznamy":e===1&&(t="vybraný záznam"),`${e} ${t}`},footerTotalRows:"Celkem řádků:",footerTotalVisibleRows:(e,t)=>{const n=t.toString(),r=n[0],o=["4","6","7"].includes(r)||r==="1"&&n.length%3===0?"ze":"z";return`${e.toLocaleString()} ${o} ${t.toLocaleString()}`},checkboxSelectionHeaderName:"Výběr řádku",checkboxSelectionSelectAllRows:"Označit všechny řádky",checkboxSelectionUnselectAllRows:"Odznačit všechny řádky",checkboxSelectionSelectRow:"Označit řádek",checkboxSelectionUnselectRow:"Odznačit řádek",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne",actionsCellMore:"více",pinToLeft:"Připnout na levo",pinToRight:"Připnout na pravo",unpin:"Odepnout",treeDataGroupingHeaderName:"Skupina",treeDataExpand:"zobrazit potomky",treeDataCollapse:"skrýt potomky",groupingColumnHeaderName:"Skupina",groupColumn:e=>`Zeskupit podle ${e}`,unGroupColumn:e=>`Přestat zeskupovat podle ${e}`,detailPanelToggle:"Přepnout detail panelu",expandDetailPanel:"Rozbalit",collapseDetailPanel:"Sbalit",rowReorderingHeaderName:"Přeuspořádávání řádků",aggregationMenuItemHeader:"Seskupování",aggregationFunctionLabelSum:"součet",aggregationFunctionLabelAvg:"průměr",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"počet"},cft=cr(lft,Edt),uft={noRowsLabel:"Ingen rækker",noResultsOverlayLabel:"Ingen resultater",errorOverlayDefaultLabel:"Der skete en fejl.",toolbarDensity:"Tæthed",toolbarDensityLabel:"Tæthed",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Luftig",toolbarColumns:"Kolonne",toolbarColumnsLabel:"Vælg kolonne",toolbarFilters:"Filtre",toolbarFiltersLabel:"Vis filtre",toolbarFiltersTooltipHide:"Skjul filtre",toolbarFiltersTooltipShow:"Vis filtre",toolbarFiltersTooltipActive:e=>e!==1?`${e} aktive filtre`:`${e} aktivt filter`,toolbarExportLabel:"Eksporter",toolbarExportCSV:"Download som CSV",toolbarExportPrint:"Print",columnsPanelTextFieldLabel:"Find kolonne",columnsPanelTextFieldPlaceholder:"Kolonne titel",columnsPanelDragIconLabel:"Reorder kolonne",columnsPanelShowAllButton:"Vis alle",columnsPanelHideAllButton:"Skjul alle",filterPanelAddFilter:"Tilføj filter",filterPanelDeleteIconLabel:"Slet",filterPanelLinkOperator:"Logisk operator",filterPanelOperators:"Operatorer",filterPanelOperatorAnd:"Og",filterPanelOperatorOr:"Eller",filterPanelColumns:"Kolonne",filterPanelInputLabel:"Værdi",filterPanelInputPlaceholder:"Filter værdi",filterOperatorContains:"Indeholder",filterOperatorEquals:"Lig med",filterOperatorStartsWith:"Begynder med",filterOperatorEndsWith:"Ender med",filterOperatorIs:"Er lig med",filterOperatorNot:"Er ikke lig med",filterOperatorAfter:"Efter",filterOperatorOnOrAfter:"På eller efter",filterOperatorBefore:"Før",filterOperatorOnOrBefore:"På eller før",filterOperatorIsEmpty:"Indeholder ikke data",filterOperatorIsNotEmpty:"Indeholder data",filterOperatorIsAnyOf:"indeholder en af",filterValueAny:"hvilken som helst",filterValueTrue:"positiv",filterValueFalse:"negativ",columnMenuLabel:"Menu",columnMenuShowColumns:"Vis Kolonner",columnMenuFilter:"Filtre",columnMenuHideColumn:"Skjul",columnMenuUnsort:"Fjern sortering",columnMenuSortAsc:"Sorter stigende",columnMenuSortDesc:"Sorter faldende",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} aktive filtre`:"Ét aktivt filter",columnHeaderFiltersLabel:"Vis filtre",columnHeaderSortIconLabel:"Sorter",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rækker valgt`:"Én række valgt",footerTotalRows:"Antal rækker i alt:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} af ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Afkrydsningsvalg",checkboxSelectionSelectAllRows:"Vælg alle rækker",checkboxSelectionUnselectAllRows:"Fravælg alle rækker",checkboxSelectionSelectRow:"Vælg række",checkboxSelectionUnselectRow:"Fravælg række",booleanCellTrueLabel:"ja",booleanCellFalseLabel:"nej",actionsCellMore:"mere",pinToLeft:"Fastgør til venstre",pinToRight:"Fastgør til højre",unpin:"Frigiv",treeDataGroupingHeaderName:"Gruppering",treeDataExpand:"Vis underelementer",treeDataCollapse:"Skjul underelementer",groupingColumnHeaderName:"Gruppér",groupColumn:e=>`Gruppér efter ${e}`,unGroupColumn:e=>`Fjern gruppéring efter ${e}`,expandDetailPanel:"Udvid",collapseDetailPanel:"Kollaps"},dft=cr(uft,Tdt),fft={noRowsLabel:"Keine Einträge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenhöhe",toolbarDensityLabel:"Zeilenhöhe",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:e=>e!==1?`${e} aktive Filter`:`${e} aktiver Filter`,toolbarQuickFilterPlaceholder:"Suchen…",toolbarQuickFilterLabel:"Suchen",toolbarQuickFilterDeleteIconLabel:"Löschen",toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",toolbarExportPrint:"Drucken",toolbarExportExcel:"Download als Excel",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spaltenüberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzufügen",filterPanelDeleteIconLabel:"Löschen",filterPanelLinkOperator:"Logische Operatoren",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"enthält",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorAfter:"ist nach",filterOperatorOnOrAfter:"ist am oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist am oder vor",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",filterOperatorIsAnyOf:"ist einer der Werte",filterValueAny:"Beliebig",filterValueTrue:"Ja",filterValueFalse:"Nein",columnMenuLabel:"Menü",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} aktive Filter`:`${e} aktiver Filter`,columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:e=>e!==1?`${e.toLocaleString()} Einträge ausgewählt`:`${e.toLocaleString()} Eintrag ausgewählt`,footerTotalRows:"Gesamt:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} von ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox Auswahl",checkboxSelectionSelectAllRows:"Alle Zeilen auswählen",checkboxSelectionUnselectAllRows:"Alle Zeilen abwählen",checkboxSelectionSelectRow:"Zeile auswählen",checkboxSelectionUnselectRow:"Zeile abwählen",booleanCellTrueLabel:"Ja",booleanCellFalseLabel:"Nein",actionsCellMore:"Mehr",pinToLeft:"Links anheften",pinToRight:"Rechts anheften",unpin:"Loslösen",treeDataGroupingHeaderName:"Gruppe",treeDataExpand:"Kinder einblenden",treeDataCollapse:"Kinder ausblenden",groupingColumnHeaderName:"Gruppierung",groupColumn:e=>`Gruppieren nach ${e}`,unGroupColumn:e=>`Gruppierung nach ${e} aufheben`,detailPanelToggle:"Detailansicht Kippschalter",expandDetailPanel:"Aufklappen",collapseDetailPanel:"Zuklappen",rowReorderingHeaderName:"Reihen neu ordnen",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"Summe",aggregationFunctionLabelAvg:"Mittelwert",aggregationFunctionLabelMin:"Minimum",aggregationFunctionLabelMax:"Maximum",aggregationFunctionLabelSize:"Anzahl"},pft=cr(fft,Odt),hft={noRowsLabel:"Δεν υπάρχουν καταχωρήσεις",noResultsOverlayLabel:"Δεν βρέθηκαν αποτελέσματα.",errorOverlayDefaultLabel:"Παρουσιάστηκε απρόβλεπτο σφάλμα.",toolbarDensity:"Ύψος σειράς",toolbarDensityLabel:"Ύψος σειράς",toolbarDensityCompact:"Συμπαγής",toolbarDensityStandard:"Προκαθορισμένο",toolbarDensityComfortable:"Πλατύ",toolbarColumns:"Στήλες",toolbarColumnsLabel:"Επιλέξτε στήλες",toolbarFilters:"Φίλτρα",toolbarFiltersLabel:"Εμφάνιση φίλτρων",toolbarFiltersTooltipHide:"Απόκρυψη φίλτρων",toolbarFiltersTooltipShow:"Εμφάνιση φίλτρων",toolbarFiltersTooltipActive:e=>e!==1?`${e} ενεργά φίλτρα`:`${e} ενεργό φίλτρο`,toolbarExport:"Εξαγωγή",toolbarExportLabel:"Εξαγωγή",toolbarExportCSV:"Λήψη ως CSV",columnsPanelTextFieldLabel:"Εύρεση στήλης",columnsPanelTextFieldPlaceholder:"Επικεφαλίδα στήλης",columnsPanelDragIconLabel:"Αναδιάταξη στήλης",columnsPanelShowAllButton:"Προβολή όλων",columnsPanelHideAllButton:"Απόκρυψη όλων",filterPanelAddFilter:"Προσθήκη φίλτρου",filterPanelDeleteIconLabel:"Διαγραφή",filterPanelOperators:"Τελεστές",filterPanelOperatorAnd:"Καί",filterPanelOperatorOr:"Ή",filterPanelColumns:"Στήλες",filterPanelInputLabel:"Τιμή",filterPanelInputPlaceholder:"Τιμή φίλτρου",filterOperatorContains:"περιέχει",filterOperatorEquals:"ισούται",filterOperatorStartsWith:"ξεκινάει με",filterOperatorEndsWith:"τελειώνει με",filterOperatorIs:"είναι",filterOperatorNot:"δεν είναι",filterOperatorAfter:"είναι μετά",filterOperatorOnOrAfter:"είναι ίσο ή μετά",filterOperatorBefore:"είναι πριν",filterOperatorOnOrBefore:"είναι ίσο ή πριν",filterOperatorIsEmpty:"είναι κενό",filterOperatorIsNotEmpty:"δεν είναι κενό",columnMenuLabel:"Μενού",columnMenuShowColumns:"Εμφάνιση στηλών",columnMenuFilter:"Φίλτρο",columnMenuHideColumn:"Απόκρυψη",columnMenuUnsort:"Απενεργοποίηση ταξινόμησης",columnMenuSortAsc:"Ταξινόμηση σε αύξουσα σειρά",columnMenuSortDesc:"Ταξινόμηση σε φθίνουσα σειρά",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} ενεργά φίλτρα`:`${e} ενεργό φίλτρο`,columnHeaderFiltersLabel:"Εμφάνιση φίλτρων",columnHeaderSortIconLabel:"Ταξινόμηση",footerRowSelected:e=>e!==1?`${e.toLocaleString()} επιλεγμένες γραμμές`:`${e.toLocaleString()} επιλεγμένη γραμμή`,footerTotalRows:"Σύνολο Γραμμών:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} από ${t.toLocaleString()}`,actionsCellMore:"περισσότερα"},mft=cr(hft),gft=cr(P6,Idt),vft={noRowsLabel:"Sin filas",noResultsOverlayLabel:"Resultados no encontrados",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:e=>e>1?`${e} filtros activos`:`${e} filtro activo`,toolbarQuickFilterPlaceholder:"Buscar…",toolbarQuickFilterLabel:"Buscar",toolbarQuickFilterDeleteIconLabel:"Limpiar",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",toolbarExportPrint:"Imprimir",toolbarExportExcel:"Descargar como Excel",columnsPanelTextFieldLabel:"Columna de búsqueda",columnsPanelTextFieldPlaceholder:"Título de columna",columnsPanelDragIconLabel:"Reordenar columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelLinkOperator:"Operador lógico",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"está vacío",filterOperatorIsNotEmpty:"no esta vacío",filterOperatorIsAnyOf:"es cualquiera de",filterValueAny:"cualquiera",filterValueTrue:"verdadero",filterValueFalse:"falso",columnMenuLabel:"Menú",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:e=>e>1?`${e} filtros activos`:`${e} filtro activo`,columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>e>1?`${e.toLocaleString()} filas seleccionadas`:`${e.toLocaleString()} fila seleccionada`,footerTotalRows:"Filas Totales:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleccionar casilla",checkboxSelectionSelectAllRows:"Seleccionar todas las filas",checkboxSelectionUnselectAllRows:"Deseleccionar todas las filas",checkboxSelectionSelectRow:"Seleccionar fila",checkboxSelectionUnselectRow:"Deseleccionar fila",booleanCellTrueLabel:"si",booleanCellFalseLabel:"no",actionsCellMore:"más",pinToLeft:"Anclar a la izquierda",pinToRight:"Anclar a la derecha",unpin:"Desanclar",treeDataGroupingHeaderName:"Grupo",treeDataExpand:"mostrar hijos",treeDataCollapse:"ocultar hijos",groupingColumnHeaderName:"Grupo",groupColumn:e=>`Agrupar por ${e}`,unGroupColumn:e=>`No agrupar por ${e}`,detailPanelToggle:"Alternar detalle",expandDetailPanel:"Expandir",collapseDetailPanel:"Contraer",rowReorderingHeaderName:"Reordenar filas",aggregationMenuItemHeader:"Agregación",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"tamaño"},bft=cr(vft,kdt),yft={noRowsLabel:"بدون سطر",noResultsOverlayLabel:"نتیجه ای پیدا نشد.",errorOverlayDefaultLabel:"خطایی روی داد.",toolbarDensity:"تراکم",toolbarDensityLabel:"تراکم",toolbarDensityCompact:"فشرده",toolbarDensityStandard:"استاندارد",toolbarDensityComfortable:"راحت",toolbarColumns:"ستون‌ها",toolbarColumnsLabel:"ستون‌ها را انتخاب کنید",toolbarFilters:"فیلترها",toolbarFiltersLabel:"نمایش فیلترها",toolbarFiltersTooltipHide:"مخفی کردن فیلترها",toolbarFiltersTooltipShow:"نمایش فیلترها",toolbarFiltersTooltipActive:e=>e!==1?`${e} فیلترهای فعال`:`${e} فیلتر فعال`,toolbarQuickFilterPlaceholder:"جستجو...",toolbarQuickFilterLabel:"جستجو",toolbarQuickFilterDeleteIconLabel:"حذف",toolbarExport:"خروجی",toolbarExportLabel:"خروجی",toolbarExportCSV:"دانلود به صورت CSV",toolbarExportPrint:"چاپ",toolbarExportExcel:"دانلود به صورت اکسل",columnsPanelTextFieldLabel:"پیداکردن ستون",columnsPanelTextFieldPlaceholder:"عنوان ستون",columnsPanelDragIconLabel:"جا‌به‌جایی ستون",columnsPanelShowAllButton:"نمایش همه",columnsPanelHideAllButton:"مخفی همه",filterPanelAddFilter:"افزودن فیلتر",filterPanelDeleteIconLabel:"حذف",filterPanelLinkOperator:"عملگر منطقی",filterPanelOperators:"عملگرها",filterPanelOperatorAnd:"و",filterPanelOperatorOr:"یا",filterPanelColumns:"ستون‌ها",filterPanelInputLabel:"مقدار",filterPanelInputPlaceholder:"فیلتر مقدار",filterOperatorContains:"شامل",filterOperatorEquals:"مساوی",filterOperatorStartsWith:"شروع با",filterOperatorEndsWith:"پایان با",filterOperatorIs:"هست",filterOperatorNot:"نیست",filterOperatorAfter:"بعد از",filterOperatorOnOrAfter:"معادل یا بعدش",filterOperatorBefore:"قبلش",filterOperatorOnOrBefore:"معادل یا قبلش",filterOperatorIsEmpty:"خالی است",filterOperatorIsNotEmpty:"خالی نیست",filterOperatorIsAnyOf:"هر یک از",filterValueAny:"هرچیزی",filterValueTrue:"صحیح",filterValueFalse:"غلط",columnMenuLabel:"فهرست",columnMenuShowColumns:"نمایش ستون‌ها",columnMenuFilter:"فیلتر",columnMenuHideColumn:"مخفی",columnMenuUnsort:"نامرتب‌کردن",columnMenuSortAsc:"مرتب‌کردن صعودی",columnMenuSortDesc:"مرتب‌کردن نزولی",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} فیلتر‌های فعال`:`${e} فیلتر فعال`,columnHeaderFiltersLabel:"نمایش فیلترها",columnHeaderSortIconLabel:"مرتب‌کردن",footerRowSelected:e=>e!==1?`${e.toLocaleString()} سطرهای انتخاب شده`:`${e.toLocaleString()} سطر انتخاب شده`,footerTotalRows:"مجموع سطرها:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} از ${t.toLocaleString()}`,checkboxSelectionHeaderName:"چک‌باکس انتخاب",checkboxSelectionSelectAllRows:"انتخاب همه‌ی ردیف‌ها",checkboxSelectionUnselectAllRows:"لغو انتخاب همه‌ی ردیف‌ها",checkboxSelectionSelectRow:"انتخاب ردیف",checkboxSelectionUnselectRow:"لغو انتخاب ردیف",booleanCellTrueLabel:"صحیح",booleanCellFalseLabel:"غلط",actionsCellMore:"بیشتر",pinToLeft:"سنجاق کردن به چپ",pinToRight:"سنجاق کردن به راست",unpin:"برداشتن سنجاق",treeDataGroupingHeaderName:"گروه‌بندی",treeDataExpand:"نمایش فرزندان",treeDataCollapse:"پنهان‌سازی فرزندان",groupingColumnHeaderName:"گروه‌بندی",groupColumn:e=>`گروه‌بندی براساس ${e}`,unGroupColumn:e=>`لغو گروه‌بندی براساس ${e}`,detailPanelToggle:"پنل جزئیات",expandDetailPanel:"بازکردن پنل جزئیات",collapseDetailPanel:"بستن پنل جزئیات",rowReorderingHeaderName:"ترتیب مجدد سطر",aggregationMenuItemHeader:"تجمیع",aggregationFunctionLabelSum:"جمع",aggregationFunctionLabelAvg:"میانگین",aggregationFunctionLabelMin:"حداقل",aggregationFunctionLabelMax:"حداکثر",aggregationFunctionLabelSize:"اندازه"},xft=cr(yft,Rdt),wft={noRowsLabel:"Ei rivejä",noResultsOverlayLabel:"Ei tuloksia.",errorOverlayDefaultLabel:"Tapahtui virhe.",toolbarDensity:"Tiiveys",toolbarDensityLabel:"Tiiveys",toolbarDensityCompact:"Kompakti",toolbarDensityStandard:"Vakio",toolbarDensityComfortable:"Mukava",toolbarColumns:"Sarakkeet",toolbarColumnsLabel:"Valitse sarakkeet",toolbarFilters:"Suodattimet",toolbarFiltersLabel:"Näytä suodattimet",toolbarFiltersTooltipHide:"Piilota suodattimet",toolbarFiltersTooltipShow:"Näytä suodattimet",toolbarFiltersTooltipActive:e=>e!==1?`${e} aktiivista suodatinta`:`${e} aktiivinen suodatin`,toolbarQuickFilterPlaceholder:"Hae…",toolbarQuickFilterLabel:"Hae",toolbarQuickFilterDeleteIconLabel:"Tyhjennä",toolbarExport:"Vie",toolbarExportLabel:"Vie",toolbarExportCSV:"Lataa CSV-muodossa",toolbarExportPrint:"Tulosta",toolbarExportExcel:"Lataa Excel-muodossa",columnsPanelTextFieldLabel:"Etsi sarake",columnsPanelTextFieldPlaceholder:"Sarakkeen otsikko",columnsPanelDragIconLabel:"Järjestä sarake uudelleen",columnsPanelShowAllButton:"Näytä kaikki",columnsPanelHideAllButton:"Piilota kaikki",filterPanelAddFilter:"Lisää suodatin",filterPanelDeleteIconLabel:"Poista",filterPanelLinkOperator:"Logiikkaoperaattori",filterPanelOperators:"Operaattorit",filterPanelOperatorAnd:"Ja",filterPanelOperatorOr:"Tai",filterPanelColumns:"Sarakkeet",filterPanelInputLabel:"Arvo",filterPanelInputPlaceholder:"Suodattimen arvo",filterOperatorContains:"sisältää",filterOperatorEquals:"on yhtä suuri",filterOperatorStartsWith:"alkaa",filterOperatorEndsWith:"päättyy",filterOperatorIs:"on",filterOperatorNot:"ei ole",filterOperatorAfter:"on jälkeen",filterOperatorOnOrAfter:"on sama tai jälkeen",filterOperatorBefore:"on ennen",filterOperatorOnOrBefore:"on sama tai ennen",filterOperatorIsEmpty:"on tyhjä",filterOperatorIsNotEmpty:"ei ole tyhjä",filterOperatorIsAnyOf:"mikä tahansa seuraavista",filterValueAny:"mikä tahansa",filterValueTrue:"tosi",filterValueFalse:"epätosi",columnMenuLabel:"Valikko",columnMenuShowColumns:"Näytä sarakkeet",columnMenuFilter:"Suodata",columnMenuHideColumn:"Piilota",columnMenuUnsort:"Poista järjestys",columnMenuSortAsc:"Järjestä nousevasti",columnMenuSortDesc:"Järjestä laskevasti",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} aktiivista suodatinta`:`${e} aktiivinen suodatin`,columnHeaderFiltersLabel:"Näytä suodattimet",columnHeaderSortIconLabel:"Järjestä",footerRowSelected:e=>e!==1?`${e.toLocaleString()} riviä valittu`:`${e.toLocaleString()} rivi valittu`,footerTotalRows:"Rivejä yhteensä:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Valintaruutu",checkboxSelectionSelectAllRows:"Valitse kaikki rivit",checkboxSelectionUnselectAllRows:"Poista kaikkien rivien valinta",checkboxSelectionSelectRow:"Valitse rivi",checkboxSelectionUnselectRow:"Poista rivin valinta",booleanCellTrueLabel:"tosi",booleanCellFalseLabel:"epätosi",actionsCellMore:"lisää",pinToLeft:"Kiinnitä vasemmalle",pinToRight:"Kiinnitä oikealle",unpin:"Irrota kiinnitys",treeDataGroupingHeaderName:"Ryhmä",treeDataExpand:"Laajenna",treeDataCollapse:"Supista",groupingColumnHeaderName:"Ryhmä",groupColumn:e=>`Ryhmittelyperuste ${e}`,unGroupColumn:e=>`Poista ryhmittelyperuste ${e}`,detailPanelToggle:"Yksityiskohtapaneelin vaihto",expandDetailPanel:"Laajenna",collapseDetailPanel:"Tiivistä",rowReorderingHeaderName:"Rivien uudelleenjärjestely",aggregationMenuItemHeader:"Koostaminen",aggregationFunctionLabelSum:"summa",aggregationFunctionLabelAvg:"ka.",aggregationFunctionLabelMin:"min.",aggregationFunctionLabelMax:"maks.",aggregationFunctionLabelSize:"koko"},_ft=cr(wft,Ldt),Sft={noRowsLabel:"Pas de résultats",noResultsOverlayLabel:"Aucun résultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densité",toolbarDensityLabel:"Densité",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>e>1?`${e} filtres actifs`:`${e} filtre actif`,toolbarQuickFilterPlaceholder:"Recherche…",toolbarQuickFilterLabel:"Recherche",toolbarQuickFilterDeleteIconLabel:"Supprimer",toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"Télécharger en CSV",toolbarExportPrint:"Imprimer",toolbarExportExcel:"Télécharger pour Excel",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"Réorganiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelLinkOperator:"Opérateur logique",filterPanelOperators:"Opérateur",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"égal à",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorAfter:"postérieur",filterOperatorOnOrAfter:"égal ou postérieur",filterOperatorBefore:"antérieur",filterOperatorOnOrBefore:"égal ou antérieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",filterOperatorIsAnyOf:"fait partie de",filterValueAny:"tous",filterValueTrue:"vrai",filterValueFalse:"faux",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>e>1?`${e} filtres actifs`:`${e} filtre actif`,columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>e>1?`${e.toLocaleString()} lignes sélectionnées`:`${e.toLocaleString()} ligne sélectionnée`,footerTotalRows:"Lignes totales :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} sur ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Sélection",checkboxSelectionSelectAllRows:"Sélectionner toutes les lignes",checkboxSelectionUnselectAllRows:"Désélectionner toutes les lignes",checkboxSelectionSelectRow:"Sélectionner la ligne",checkboxSelectionUnselectRow:"Désélectionner la ligne",booleanCellTrueLabel:"vrai",booleanCellFalseLabel:"faux",actionsCellMore:"Plus",pinToLeft:"Épingler à gauche",pinToRight:"Épingler à droite",unpin:"Désépingler",treeDataGroupingHeaderName:"Groupe",treeDataExpand:"afficher les enfants",treeDataCollapse:"masquer les enfants",groupingColumnHeaderName:"Groupe",groupColumn:e=>`Grouper par ${e}`,unGroupColumn:e=>`Arrêter de grouper par ${e}`,detailPanelToggle:"Afficher/masquer les détails",expandDetailPanel:"Afficher",collapseDetailPanel:"Masquer",rowReorderingHeaderName:"Positionnement des lignes"},Cft=cr(Sft,$dt),Pft={noRowsLabel:"אין שורות",noResultsOverlayLabel:"לא נמצאו תוצאות.",errorOverlayDefaultLabel:"אירעה שגיאה.",toolbarDensity:"צפיפות",toolbarDensityLabel:"צפיפות",toolbarDensityCompact:"דחוסה",toolbarDensityStandard:"רגילה",toolbarDensityComfortable:"אוורירית",toolbarColumns:"עמודות",toolbarColumnsLabel:"בחר עמודות",toolbarFilters:"סינון",toolbarFiltersLabel:"הצג מסננים",toolbarFiltersTooltipHide:"הסתר מסננים",toolbarFiltersTooltipShow:"הצג מסננים",toolbarFiltersTooltipActive:e=>e!==1?`${e} מסננים פעילים`:"מסנן אחד פעיל",toolbarQuickFilterPlaceholder:"חיפוש…",toolbarQuickFilterLabel:"חיפוש",toolbarQuickFilterDeleteIconLabel:"ניקוי",toolbarExport:"ייצוא",toolbarExportLabel:"ייצוא",toolbarExportCSV:"ייצוא ל- CSV",toolbarExportPrint:"הדפסה",toolbarExportExcel:"ייצוא ל- Excel",columnsPanelTextFieldLabel:"חפש עמודה",columnsPanelTextFieldPlaceholder:"כותרת עמודה",columnsPanelDragIconLabel:"סדר עמודות מחדש",columnsPanelShowAllButton:"הצג הכל",columnsPanelHideAllButton:"הסתר הכל",filterPanelAddFilter:"הוסף מסנן",filterPanelDeleteIconLabel:"מחק",filterPanelLinkOperator:"אופרטור לוגי",filterPanelOperators:"אופרטור",filterPanelOperatorAnd:"וגם",filterPanelOperatorOr:"או",filterPanelColumns:"עמודות",filterPanelInputLabel:"ערך",filterPanelInputPlaceholder:"ערך מסנן",filterOperatorContains:"מכיל",filterOperatorEquals:"שווה",filterOperatorStartsWith:"מתחיל ב-",filterOperatorEndsWith:"נגמר ב-",filterOperatorIs:"הינו",filterOperatorNot:"אינו",filterOperatorAfter:"אחרי",filterOperatorOnOrAfter:"ב- או אחרי",filterOperatorBefore:"לפני",filterOperatorOnOrBefore:"ב- או לפני",filterOperatorIsEmpty:"ריק",filterOperatorIsNotEmpty:"אינו ריק",filterOperatorIsAnyOf:"הוא אחד מ-",filterValueAny:"כל ערך",filterValueTrue:"כן",filterValueFalse:"לא",columnMenuLabel:"תפריט",columnMenuShowColumns:"הצג עמודות",columnMenuFilter:"סנן",columnMenuHideColumn:"הסתר",columnMenuUnsort:"בטל מיון",columnMenuSortAsc:"מיין בסדר עולה",columnMenuSortDesc:"מיין בסדר יורד",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} מסננים פעילים`:"מסנן אחד פעיל",columnHeaderFiltersLabel:"הצג מסננים",columnHeaderSortIconLabel:"מיין",footerRowSelected:e=>e!==1?`${e.toLocaleString()} שורות נבחרו`:"שורה אחת נבחרה",footerTotalRows:"סך הכל:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} מתוך ${t.toLocaleString()}`,checkboxSelectionHeaderName:"בחירה",checkboxSelectionSelectAllRows:"בחר הכל",checkboxSelectionUnselectAllRows:"בטל הכל",checkboxSelectionSelectRow:"בחר שורה",checkboxSelectionUnselectRow:"בטל בחירת שורה",booleanCellTrueLabel:"כן",booleanCellFalseLabel:"לא",actionsCellMore:"עוד",pinToLeft:"נעץ משמאל",pinToRight:"נעץ מימין",unpin:"בטל נעיצה",treeDataGroupingHeaderName:"קבוצה",treeDataExpand:"הרחב",treeDataCollapse:"כווץ",groupingColumnHeaderName:"קבוצה",groupColumn:e=>`קבץ לפי ${e}`,unGroupColumn:e=>`הפסק לקבץ לפי ${e}`,expandDetailPanel:"הרחב",collapseDetailPanel:"כווץ",rowReorderingHeaderName:"סידור שורות"},Mft=cr(Pft,Ddt),Aft={noRowsLabel:"Nincsenek sorok",noResultsOverlayLabel:"Nincs találat.",errorOverlayDefaultLabel:"Váratlan hiba történt.",toolbarDensity:"Sormagasság",toolbarDensityLabel:"Sormagasság",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Normál",toolbarDensityComfortable:"Kényelmes",toolbarColumns:"Oszlopok",toolbarColumnsLabel:"Oszlopok kiválasztása",toolbarFilters:"Szűrők",toolbarFiltersLabel:"Szűrők megjelenítése",toolbarFiltersTooltipHide:"Szűrők elrejtése",toolbarFiltersTooltipShow:"Szűrők megjelenítése",toolbarFiltersTooltipActive:e=>`${e} aktív szűrő`,toolbarExport:"Exportálás",toolbarExportLabel:"Exportálás",toolbarExportCSV:"Mentés CSV fájlként",toolbarExportPrint:"Nyomtatás",columnsPanelTextFieldLabel:"Oszlop keresése",columnsPanelTextFieldPlaceholder:"Oszlop neve",columnsPanelDragIconLabel:"Oszlop átrendezése",columnsPanelShowAllButton:"Összes megjelenítése",columnsPanelHideAllButton:"Összes elrejtése",filterPanelAddFilter:"Szűrő hozzáadása",filterPanelDeleteIconLabel:"Törlés",filterPanelLinkOperator:"Logikai operátor",filterPanelOperators:"Operátorok",filterPanelOperatorAnd:"És",filterPanelOperatorOr:"Vagy",filterPanelColumns:"Oszlopok",filterPanelInputLabel:"Érték",filterPanelInputPlaceholder:"Érték szűrése",filterOperatorContains:"tartalmazza:",filterOperatorEquals:"egyenlő ezzel:",filterOperatorStartsWith:"ezzel kezdődik:",filterOperatorEndsWith:"ezzel végződik:",filterOperatorIs:"a következő:",filterOperatorNot:"nem a következő:",filterOperatorAfter:"ezutáni:",filterOperatorOnOrAfter:"ekkori vagy ezutáni:",filterOperatorBefore:"ezelőtti:",filterOperatorOnOrBefore:"ekkori vagy ezelőtti:",filterOperatorIsEmpty:"üres",filterOperatorIsNotEmpty:"nem üres",filterOperatorIsAnyOf:"a következők egyike:",filterValueAny:"bármilyen",filterValueTrue:"igaz",filterValueFalse:"hamis",columnMenuLabel:"Menü",columnMenuShowColumns:"Oszlopok megjelenítése",columnMenuFilter:"Szűrők",columnMenuHideColumn:"Elrejtés",columnMenuUnsort:"Sorrend visszaállítása",columnMenuSortAsc:"Növekvő sorrendbe",columnMenuSortDesc:"Csökkenő sorrendbe",columnHeaderFiltersTooltipActive:e=>`${e} aktív szűrő`,columnHeaderFiltersLabel:"Szűrők megjelenítése",columnHeaderSortIconLabel:"Átrendezés",footerRowSelected:e=>`${e.toLocaleString()} sor kiválasztva`,footerTotalRows:"Összesen:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} (összesen: ${t.toLocaleString()})`,checkboxSelectionHeaderName:"Jelölőnégyzetes kijelölés",checkboxSelectionSelectAllRows:"Minden sor kijelölése",checkboxSelectionUnselectAllRows:"Minden sor kijelölésének törlése",checkboxSelectionSelectRow:"Sor kijelölése",checkboxSelectionUnselectRow:"Sor kijelölésének törlése",booleanCellTrueLabel:"igen",booleanCellFalseLabel:"nem",actionsCellMore:"további",pinToLeft:"Rögzítés balra",pinToRight:"Rögzítés jobbra",unpin:"Rögzítés törlése",treeDataGroupingHeaderName:"Csoport",treeDataExpand:"gyermekek megjelenítése",treeDataCollapse:"gyermekek elrejtése",groupingColumnHeaderName:"Csoportosítás",groupColumn:e=>`Csoportosítás ${e} szerint`,unGroupColumn:e=>`${e} szerinti csoportosítás törlése`,expandDetailPanel:"Kibontás",collapseDetailPanel:"Összecsukás"},Eft=cr(Aft,Fdt),Tft={noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si è verificato un errore.",toolbarDensity:"Densità",toolbarDensityLabel:"Densità",toolbarDensityCompact:"Compatta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:e=>e>1?`${e} filtri attivi`:`${e} filtro attivo`,toolbarQuickFilterPlaceholder:"Cerca…",toolbarQuickFilterLabel:"Cerca",toolbarQuickFilterDeleteIconLabel:"Resetta",toolbarExport:"Esporta",toolbarExportLabel:"Esporta",toolbarExportCSV:"Esporta in CSV",toolbarExportPrint:"Stampa",toolbarExportExcel:"Scarica come Excel",columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelLinkOperator:"Operatore logico",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorAfter:"dopo il",filterOperatorOnOrAfter:"a partire dal",filterOperatorBefore:"prima del",filterOperatorOnOrBefore:"fino al",filterOperatorIsEmpty:"è vuoto",filterOperatorIsNotEmpty:"non è vuoto",filterOperatorIsAnyOf:"è uno tra",filterValueAny:"qualunque",filterValueTrue:"vero",filterValueFalse:"falso",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:e=>e>1?`${e} filtri attivi`:`${e} filtro attivo`,columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:e=>e>1?`${e.toLocaleString()} record selezionati`:`${e.toLocaleString()} record selezionato`,footerTotalRows:"Record totali:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} di ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleziona",checkboxSelectionSelectAllRows:"Seleziona tutte le righe",checkboxSelectionUnselectAllRows:"Deseleziona tutte le righe",checkboxSelectionSelectRow:"Seleziona riga",checkboxSelectionUnselectRow:"Deseleziona riga",booleanCellTrueLabel:"vero",booleanCellFalseLabel:"falso",actionsCellMore:"più",pinToLeft:"Blocca a sinistra",pinToRight:"Blocca a destra",unpin:"Sblocca",treeDataGroupingHeaderName:"Gruppo",treeDataExpand:"mostra figli",treeDataCollapse:"nascondi figli",groupingColumnHeaderName:"Gruppo",groupColumn:e=>`Raggruppa per ${e}`,unGroupColumn:e=>`Annulla raggruppamento per ${e}`,detailPanelToggle:"Abilita pannello dettagli",expandDetailPanel:"Espandi",collapseDetailPanel:"Comprimi",rowReorderingHeaderName:"Riordinamento righe"},Oft=cr(Tft,Ndt),Ift={noRowsLabel:"行がありません。",noResultsOverlayLabel:"結果がありません。",errorOverlayDefaultLabel:"エラーが発生しました。",toolbarDensity:"行間隔",toolbarDensityLabel:"行間隔",toolbarDensityCompact:"コンパクト",toolbarDensityStandard:"標準",toolbarDensityComfortable:"広め",toolbarColumns:"列一覧",toolbarColumnsLabel:"列選択",toolbarFilters:"フィルター",toolbarFiltersLabel:"フィルター表示",toolbarFiltersTooltipHide:"フィルター非表示",toolbarFiltersTooltipShow:"フィルター表示",toolbarFiltersTooltipActive:e=>`${e}件のフィルターを適用中`,toolbarQuickFilterPlaceholder:"検索…",toolbarQuickFilterLabel:"検索",toolbarQuickFilterDeleteIconLabel:"クリア",toolbarExport:"エクスポート",toolbarExportLabel:"エクスポート",toolbarExportCSV:"CSVダウンロード",toolbarExportPrint:"印刷",toolbarExportExcel:"Excelダウンロード",columnsPanelTextFieldLabel:"列検索",columnsPanelTextFieldPlaceholder:"検索クエリを入力…",columnsPanelDragIconLabel:"列並べ替え",columnsPanelShowAllButton:"すべて表示",columnsPanelHideAllButton:"すべて非表示",filterPanelAddFilter:"フィルター追加",filterPanelDeleteIconLabel:"削除",filterPanelLinkOperator:"論理演算子",filterPanelOperators:"演算子",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"列",filterPanelInputLabel:"値",filterPanelInputPlaceholder:"値を入力…",filterOperatorContains:"...を含む",filterOperatorEquals:"...に等しい",filterOperatorStartsWith:"...で始まる",filterOperatorEndsWith:"...で終わる",filterOperatorIs:"...である",filterOperatorNot:"...でない",filterOperatorAfter:"...より後ろ",filterOperatorOnOrAfter:"...以降",filterOperatorBefore:"...より前",filterOperatorOnOrBefore:"...以前",filterOperatorIsEmpty:"...空である",filterOperatorIsNotEmpty:"...空でない",filterOperatorIsAnyOf:"...のいずれか",filterValueAny:"いずれか",filterValueTrue:"真",filterValueFalse:"偽",columnMenuLabel:"メニュー",columnMenuShowColumns:"列表示",columnMenuFilter:"フィルター",columnMenuHideColumn:"列非表示",columnMenuUnsort:"ソート解除",columnMenuSortAsc:"昇順ソート",columnMenuSortDesc:"降順ソート",columnHeaderFiltersTooltipActive:e=>`${e}件のフィルターを適用中`,columnHeaderFiltersLabel:"フィルター表示",columnHeaderSortIconLabel:"ソート",footerRowSelected:e=>`${e}行を選択中`,footerTotalRows:"総行数:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"チェックボックス",checkboxSelectionSelectAllRows:"すべての行を選択",checkboxSelectionUnselectAllRows:"すべての行選択を解除",checkboxSelectionSelectRow:"行を選択",checkboxSelectionUnselectRow:"行選択を解除",booleanCellTrueLabel:"真",booleanCellFalseLabel:"偽",actionsCellMore:"もっと見る",pinToLeft:"左側に固定",pinToRight:"右側に固定",unpin:"固定解除",treeDataGroupingHeaderName:"グループ",treeDataExpand:"展開",treeDataCollapse:"折りたたみ",groupingColumnHeaderName:"グループ",groupColumn:e=>`${e}でグループ化`,unGroupColumn:e=>`${e}のグループを解除`,detailPanelToggle:"詳細パネルの切り替え",expandDetailPanel:"展開",collapseDetailPanel:"折りたたみ",rowReorderingHeaderName:"行並び替え",aggregationMenuItemHeader:"合計",aggregationFunctionLabelSum:"和",aggregationFunctionLabelAvg:"平均",aggregationFunctionLabelMin:"最小値",aggregationFunctionLabelMax:"最大値",aggregationFunctionLabelSize:"サイズ"},kft=cr(Ift,Bdt),Rft={noRowsLabel:"행이 없습니다.",noResultsOverlayLabel:"결과값이 없습니다.",errorOverlayDefaultLabel:"오류가 발생했습니다.",toolbarDensity:"행 간격",toolbarDensityLabel:"행 간격",toolbarDensityCompact:"좁게",toolbarDensityStandard:"기본",toolbarDensityComfortable:"넓게",toolbarColumns:"열 목록",toolbarColumnsLabel:"열 선택",toolbarFilters:"필터",toolbarFiltersLabel:"필터 표시",toolbarFiltersTooltipHide:"필터 숨기기",toolbarFiltersTooltipShow:"필터 표시",toolbarFiltersTooltipActive:e=>`${e}건의 필터를 적용중`,toolbarQuickFilterPlaceholder:"검색…",toolbarQuickFilterLabel:"검색",toolbarQuickFilterDeleteIconLabel:"초기화",toolbarExport:"내보내기",toolbarExportLabel:"내보내기",toolbarExportCSV:"CSV로 내보내기",toolbarExportPrint:"프린트",toolbarExportExcel:"Excel로 내보내기",columnsPanelTextFieldLabel:"열 검색",columnsPanelTextFieldPlaceholder:"열 이름",columnsPanelDragIconLabel:"열 정렬",columnsPanelShowAllButton:"모두 보기",columnsPanelHideAllButton:"모두 숨기기",filterPanelAddFilter:"필터 추가",filterPanelDeleteIconLabel:"삭제",filterPanelLinkOperator:"논리 연산자",filterPanelOperators:"연산자",filterPanelOperatorAnd:"그리고",filterPanelOperatorOr:"또는",filterPanelColumns:"목록",filterPanelInputLabel:"값",filterPanelInputPlaceholder:"값 입력",filterOperatorContains:"포함하는",filterOperatorEquals:"값이 같은",filterOperatorStartsWith:"시작하는",filterOperatorEndsWith:"끝나는",filterOperatorIs:"~인",filterOperatorNot:"~아닌",filterOperatorAfter:"더 이후",filterOperatorOnOrAfter:"이후",filterOperatorBefore:"더 이전",filterOperatorOnOrBefore:"이전",filterOperatorIsEmpty:"값이 없는",filterOperatorIsNotEmpty:"값이 있는",filterOperatorIsAnyOf:"값 중 하나인",filterValueAny:"아무값",filterValueTrue:"참",filterValueFalse:"거짓",columnMenuLabel:"메뉴",columnMenuShowColumns:"열 표시",columnMenuFilter:"필터",columnMenuHideColumn:"열 숨기기",columnMenuUnsort:"정렬 해제",columnMenuSortAsc:"오름차순 정렬",columnMenuSortDesc:"내림차순 정렬",columnHeaderFiltersTooltipActive:e=>`${e}건의 필터를 적용중`,columnHeaderFiltersLabel:"필터 표시",columnHeaderSortIconLabel:"정렬",footerRowSelected:e=>`${e}행 선택중`,footerTotalRows:"총 행수:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"선택",checkboxSelectionSelectAllRows:"모든 행 선택",checkboxSelectionUnselectAllRows:"모든 행 선택 해제",checkboxSelectionSelectRow:"행 선택",checkboxSelectionUnselectRow:"행 선택 해제",booleanCellTrueLabel:"참",booleanCellFalseLabel:"거짓",actionsCellMore:"더보기",pinToLeft:"왼쪽에 고정",pinToRight:"오른쪽에 고정",unpin:"고정 해제",treeDataGroupingHeaderName:"그룹",treeDataExpand:"하위노드 펼치기",treeDataCollapse:"하위노드 접기",groupingColumnHeaderName:"그룹",groupColumn:e=>`${e} 값으로 그룹 생성`,unGroupColumn:e=>`${e} 값으로 그룹 해제`,detailPanelToggle:"상세 패널 토글",expandDetailPanel:"열기",collapseDetailPanel:"접기",rowReorderingHeaderName:"행 재배치",aggregationMenuItemHeader:"총계",aggregationFunctionLabelSum:"합",aggregationFunctionLabelAvg:"평균",aggregationFunctionLabelMin:"최소값",aggregationFunctionLabelMax:"최대값",aggregationFunctionLabelSize:"크기"},Lft=cr(Rft,jdt),$ft={noRowsLabel:"Ingen rader",noResultsOverlayLabel:"Fant ingen resultat.",errorOverlayDefaultLabel:"Det skjedde en feil.",toolbarDensity:"Tetthet",toolbarDensityLabel:"Tetthet",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfortabelt",toolbarColumns:"Kolonner",toolbarColumnsLabel:"Velg kolonner",toolbarFilters:"Filter",toolbarFiltersLabel:"Vis filter",toolbarFiltersTooltipHide:"Skjul fitler",toolbarFiltersTooltipShow:"Vis filter",toolbarFiltersTooltipActive:e=>e!==1?`${e} aktive filter`:`${e} aktivt filter`,toolbarQuickFilterPlaceholder:"Søk…",toolbarQuickFilterLabel:"Søk",toolbarQuickFilterDeleteIconLabel:"Slett",toolbarExport:"Eksporter",toolbarExportLabel:"Eksporter",toolbarExportCSV:"Last ned som CSV",toolbarExportPrint:"Skriv ut",toolbarExportExcel:"Last ned som Excel",columnsPanelTextFieldLabel:"Finn kolonne",columnsPanelTextFieldPlaceholder:"Kolonne tittel",columnsPanelDragIconLabel:"Reorganiser kolonne",columnsPanelShowAllButton:"Vis alle",columnsPanelHideAllButton:"Skjul alle",filterPanelAddFilter:"Legg til filter",filterPanelDeleteIconLabel:"Slett",filterPanelLinkOperator:"Logisk operator",filterPanelOperators:"Operatører",filterPanelOperatorAnd:"Og",filterPanelOperatorOr:"Eller",filterPanelColumns:"Kolonner",filterPanelInputLabel:"Verdi",filterPanelInputPlaceholder:"Filter verdi",filterOperatorContains:"inneholder",filterOperatorEquals:"er lik",filterOperatorStartsWith:"starter med",filterOperatorEndsWith:"slutter med",filterOperatorIs:"er",filterOperatorNot:"er ikke",filterOperatorAfter:"er etter",filterOperatorOnOrAfter:"er på eller etter",filterOperatorBefore:"er før",filterOperatorOnOrBefore:"er på eller før",filterOperatorIsEmpty:"er tom",filterOperatorIsNotEmpty:"er ikke tom",filterOperatorIsAnyOf:"er en av",filterValueAny:"noen",filterValueTrue:"sant",filterValueFalse:"usant",columnMenuLabel:"Meny",columnMenuShowColumns:"Vis kolonner",columnMenuFilter:"Filter",columnMenuHideColumn:"Skjul",columnMenuUnsort:"Usorter",columnMenuSortAsc:"Sorter ØKENDE",columnMenuSortDesc:"Sorter SYNKENDE",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} aktive filter`:`${e} aktivt filter`,columnHeaderFiltersLabel:"Vis filter",columnHeaderSortIconLabel:"Sorter",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rader valgt`:`${e.toLocaleString()} rad valgt`,footerTotalRows:"Totalt antall rader:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} av ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Avmerkingsboks valgt",checkboxSelectionSelectAllRows:"Velg alle rader",checkboxSelectionUnselectAllRows:"Velg bort alle rader",checkboxSelectionSelectRow:"Velg rad",checkboxSelectionUnselectRow:"Velg bort rad",booleanCellTrueLabel:"sant",booleanCellFalseLabel:"usant",actionsCellMore:"mer",pinToLeft:"Fest til venstre",pinToRight:"Fest til høyre",unpin:"Løsne",treeDataGroupingHeaderName:"Grupper",treeDataExpand:"se barn",treeDataCollapse:"skjul barn",groupingColumnHeaderName:"Grupper",groupColumn:e=>`Grupper på ${e}`,unGroupColumn:e=>`Stopp å grupper på ${e}`,expandDetailPanel:"Utvid",collapseDetailPanel:"Kollaps",rowReorderingHeaderName:"Rad reorganisering"},Dft=cr($ft,zdt),Fft={noRowsLabel:"Geen resultaten.",noResultsOverlayLabel:"Geen resultaten gevonden.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:e=>e>1?`${e} actieve filters`:`${e} filter actief`,toolbarQuickFilterPlaceholder:"Zoeken…",toolbarQuickFilterLabel:"Zoeken",toolbarQuickFilterDeleteIconLabel:"Wissen",toolbarExport:"Exporteren",toolbarExportLabel:"Exporteren",toolbarExportCSV:"Exporteer naar CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Downloaden als Excel-bestand",columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelLinkOperator:"Logische operator",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorAfter:"is na",filterOperatorOnOrAfter:"is gelijk of er na",filterOperatorBefore:"is voor",filterOperatorOnOrBefore:"is gelijk of er voor",filterOperatorIsEmpty:"is leeg",filterOperatorIsNotEmpty:"is niet leeg",filterOperatorIsAnyOf:"is een van",filterValueAny:"alles",filterValueTrue:"waar",filterValueFalse:"onwaar",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:e=>e>1?`${e} actieve filters`:`${e} filter actief`,columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:e=>e>1?`${e.toLocaleString()} rijen geselecteerd`:`${e.toLocaleString()} rij geselecteerd`,footerTotalRows:"Totaal:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} van ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selectie",checkboxSelectionSelectAllRows:"Alle rijen selecteren",checkboxSelectionUnselectAllRows:"Alle rijen de-selecteren",checkboxSelectionSelectRow:"Rij selecteren",checkboxSelectionUnselectRow:"Rij de-selecteren",booleanCellTrueLabel:"waar",booleanCellFalseLabel:"onwaar",actionsCellMore:"meer",pinToLeft:"Links vastzetten",pinToRight:"Rechts vastzetten",unpin:"Losmaken",treeDataGroupingHeaderName:"Groep",treeDataExpand:"Uitvouwen",treeDataCollapse:"Inklappen",groupingColumnHeaderName:"Groep",groupColumn:e=>`Groepeer op ${e}`,unGroupColumn:e=>`Stop groeperen op ${e}`,expandDetailPanel:"Uitklappen",collapseDetailPanel:"Inklappen",rowReorderingHeaderName:"Rijen hersorteren"},Nft=cr(Fft,Hdt),Bft={noRowsLabel:"Brak danych",noResultsOverlayLabel:"Nie znaleziono wyników.",errorOverlayDefaultLabel:"Wystąpił błąd.",toolbarDensity:"Wysokość rzędu",toolbarDensityLabel:"Wysokość rzędu",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Pokaż filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Pokaż filtry",toolbarFiltersTooltipActive:e=>`Liczba aktywnych filtrów: ${e}`,toolbarQuickFilterPlaceholder:"Wyszukaj…",toolbarQuickFilterLabel:"Szukaj",toolbarQuickFilterDeleteIconLabel:"Wyczyść",toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",toolbarExportPrint:"Drukuj",toolbarExportExcel:"Pobierz jako plik Excel",columnsPanelTextFieldLabel:"Znajdź kolumnę",columnsPanelTextFieldPlaceholder:"Tytuł kolumny",columnsPanelDragIconLabel:"Zmień kolejność kolumn",columnsPanelShowAllButton:"Pokaż wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usuń",filterPanelLinkOperator:"Operator logiczny",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Wartość",filterPanelInputPlaceholder:"Filtrowana wartość",filterOperatorContains:"zawiera",filterOperatorEquals:"równa się",filterOperatorStartsWith:"zaczyna się od",filterOperatorEndsWith:"kończy się na",filterOperatorIs:"równa się",filterOperatorNot:"różne",filterOperatorAfter:"większe niż",filterOperatorOnOrAfter:"większe lub równe",filterOperatorBefore:"mniejsze niż",filterOperatorOnOrBefore:"mniejsze lub równe",filterOperatorIsEmpty:"jest pusty",filterOperatorIsNotEmpty:"nie jest pusty",filterOperatorIsAnyOf:"jest jednym z",filterValueAny:"dowolny",filterValueTrue:"prawda",filterValueFalse:"fałsz",columnMenuLabel:"Menu",columnMenuShowColumns:"Pokaż wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosnąco",columnMenuSortDesc:"Sortuj malejąco",columnHeaderFiltersTooltipActive:e=>`Liczba aktywnych filtrów: ${e}`,columnHeaderFiltersLabel:"Pokaż filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:e=>`Liczba wybranych wierszy: ${e.toLocaleString()}`,footerTotalRows:"Łączna liczba wierszy:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} z ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Pole wyboru",checkboxSelectionSelectAllRows:"Zaznacz wszystkie wiersze",checkboxSelectionUnselectAllRows:"Odznacz wszystkie wiersze",checkboxSelectionSelectRow:"Zaznacz wiersz",checkboxSelectionUnselectRow:"Odznacz wiersz",booleanCellTrueLabel:"tak",booleanCellFalseLabel:"nie",actionsCellMore:"więcej",pinToLeft:"Przypnij do lewej",pinToRight:"Przypnij do prawej",unpin:"Odepnij",treeDataGroupingHeaderName:"Grupa",treeDataExpand:"pokaż elementy potomne",treeDataCollapse:"ukryj elementy potomne",groupingColumnHeaderName:"Grupa",groupColumn:e=>`Grupuj według ${e}`,unGroupColumn:e=>`Rozgrupuj ${e}`,expandDetailPanel:"Rozwiń",collapseDetailPanel:"Zwiń",rowReorderingHeaderName:"Porządkowanie wierszy"},jft=cr(Bft,Vdt),zft={noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padrão",toolbarDensityComfortable:"Confortável",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:e=>`${e} ${e!==1?"filtros":"filtro"} ${e!==1?"ativos":"ativo"}`,toolbarQuickFilterPlaceholder:"Procurar…",toolbarQuickFilterLabel:"Procurar",toolbarQuickFilterDeleteIconLabel:"Limpar",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",toolbarExportPrint:"Imprimir",toolbarExportExcel:"Baixar como Excel",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"Título da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelLinkOperator:"Operador lógico",filterPanelOperators:"Operador",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"contém",filterOperatorEquals:"é igual a",filterOperatorStartsWith:"começa com",filterOperatorEndsWith:"termina com",filterOperatorIs:"é",filterOperatorNot:"não é",filterOperatorAfter:"após",filterOperatorOnOrAfter:"em ou após",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorIsEmpty:"está vazio",filterOperatorIsNotEmpty:"não está vazio",filterOperatorIsAnyOf:"é qualquer um dos",filterValueAny:"qualquer",filterValueTrue:"verdadeiro",filterValueFalse:"falso",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordenação",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:e=>`${e} ${e!==1?"filtros":"filtro"} ${e!==1?"ativos":"ativo"}`,columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>e!==1?`${e.toLocaleString()} linhas selecionadas`:`${e.toLocaleString()} linha selecionada`,footerTotalRows:"Total de linhas:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleção",checkboxSelectionSelectAllRows:"Selecionar todas linhas",checkboxSelectionUnselectAllRows:"Deselecionar todas linhas",checkboxSelectionSelectRow:"Selecionar linha",checkboxSelectionUnselectRow:"Deselecionar linha",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"não",actionsCellMore:"mais",pinToLeft:"Fixar à esquerda",pinToRight:"Fixar à direita",unpin:"Desafixar",treeDataGroupingHeaderName:"Grupo",treeDataExpand:"mostrar filhos",treeDataCollapse:"esconder filhos",groupingColumnHeaderName:"Grupo",groupColumn:e=>`Agrupar por ${e}`,unGroupColumn:e=>`Parar agrupamento por ${e}`,detailPanelToggle:"Painel de detalhes",expandDetailPanel:"Expandir",collapseDetailPanel:"Esconder",rowReorderingHeaderName:"Reorganizar linhas"},Hft=cr(zft,Udt),Vft={noRowsLabel:"Lipsă date",noResultsOverlayLabel:"Nu au fost găsite rezultate.",errorOverlayDefaultLabel:"A apărut o eroare neașteptată.",toolbarDensity:"Înălțime rând",toolbarDensityLabel:"Înălțime rând",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Lat",toolbarColumns:"Coloane",toolbarColumnsLabel:"Afișează selecție coloane",toolbarFilters:"Filtru",toolbarFiltersLabel:"Afișează filtru",toolbarFiltersTooltipHide:"Ascunde filtru",toolbarFiltersTooltipShow:"Afișează filtru",toolbarFiltersTooltipActive:e=>e!==1?`${e} filtru activ`:`${e} filtru activ`,toolbarQuickFilterPlaceholder:"Căutare…",toolbarQuickFilterLabel:"Căutare",toolbarQuickFilterDeleteIconLabel:"Ștergere",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download în format CSV",toolbarExportPrint:"Printare",toolbarExportExcel:"Download în format Excel",columnsPanelTextFieldLabel:"Găsește coloana",columnsPanelTextFieldPlaceholder:"Titlu coloană",columnsPanelDragIconLabel:"Resortare coloană",columnsPanelShowAllButton:"Afișează tot",columnsPanelHideAllButton:"Ascunde tot",filterPanelAddFilter:"Adăugare filtru",filterPanelDeleteIconLabel:"Ștergere",filterPanelLinkOperator:"Operatori logici",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"Și",filterPanelOperatorOr:"Sau",filterPanelColumns:"Coloane",filterPanelInputLabel:"Valoare",filterPanelInputPlaceholder:"Filtrare valoare",filterOperatorContains:"conține",filterOperatorEquals:"este egal cu",filterOperatorStartsWith:"începe cu",filterOperatorEndsWith:"se termină cu",filterOperatorIs:"este",filterOperatorNot:"nu este",filterOperatorAfter:"este după",filterOperatorOnOrAfter:"este la sau după",filterOperatorBefore:"este înainte de",filterOperatorOnOrBefore:"este la sau înainte de",filterOperatorIsEmpty:"este gol",filterOperatorIsNotEmpty:"nu este gol",filterOperatorIsAnyOf:"este una din valori",filterValueAny:"Aleatoriu",filterValueTrue:"Da",filterValueFalse:"Nu",columnMenuLabel:"Meniu",columnMenuShowColumns:"Afișează toate coloanele",columnMenuFilter:"Filtru",columnMenuHideColumn:"Ascunde",columnMenuUnsort:"Dezactivare sortare",columnMenuSortAsc:"Sortează crescător",columnMenuSortDesc:"Sortează descrescător",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} filtru activ`:`${e} filtru activ`,columnHeaderFiltersLabel:"Afișează filtru",columnHeaderSortIconLabel:"Sortare",footerRowSelected:e=>e!==1?`${e.toLocaleString()} Înregistrări selectate`:`${e.toLocaleString()} Înregistrare selectată`,footerTotalRows:"Total:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} din ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox Selecție",checkboxSelectionSelectAllRows:"Selectare toate rândurile",checkboxSelectionUnselectAllRows:"Deselectare toate rândurile",checkboxSelectionSelectRow:"Selectare rând",checkboxSelectionUnselectRow:"Deselectare rând",booleanCellTrueLabel:"Da",booleanCellFalseLabel:"Nu",actionsCellMore:"Mai multe",pinToLeft:"Fixare în stânga",pinToRight:"Fixare în dreapta",unpin:"Anulare fixare",treeDataGroupingHeaderName:"Grup",treeDataExpand:"Afișare copii",treeDataCollapse:"Ascundere copii",groupingColumnHeaderName:"Grupare",groupColumn:e=>`Grupare după ${e}`,unGroupColumn:e=>`Anulare Grupare după ${e}`,detailPanelToggle:"Comutare panou detalii",expandDetailPanel:"Extindere",collapseDetailPanel:"Restrângere",rowReorderingHeaderName:"Reordonare rânduri"},Uft=cr(Vft,Gdt),Gft={noRowsLabel:"Нет строк",noResultsOverlayLabel:"Данные не найдены.",errorOverlayDefaultLabel:"Обнаружена ошибка.",toolbarDensity:"Высота строки",toolbarDensityLabel:"Высота строки",toolbarDensityCompact:"Компактная",toolbarDensityStandard:"Стандартная",toolbarDensityComfortable:"Комфортная",toolbarColumns:"Столбцы",toolbarColumnsLabel:"Выделите столбцы",toolbarFilters:"Фильтры",toolbarFiltersLabel:"Показать фильтры",toolbarFiltersTooltipHide:"Скрыть фильтры",toolbarFiltersTooltipShow:"Показать фильтры",toolbarFiltersTooltipActive:e=>{let t="активных фильтров";const n=e%10;return n>1&&n<5?t="активных фильтра":n===1&&(t="активный фильтр"),`${e} ${t}`},toolbarQuickFilterPlaceholder:"Поиск…",toolbarQuickFilterLabel:"Поиск",toolbarQuickFilterDeleteIconLabel:"Очистить",toolbarExport:"Экспорт",toolbarExportLabel:"Экспорт",toolbarExportCSV:"Скачать в формате CSV",toolbarExportPrint:"Печать",toolbarExportExcel:"Скачать в формате Excel",columnsPanelTextFieldLabel:"Найти столбец",columnsPanelTextFieldPlaceholder:"Заголовок столбца",columnsPanelDragIconLabel:"Изменить порядок столбца",columnsPanelShowAllButton:"Показать все",columnsPanelHideAllButton:"Скрыть все",filterPanelAddFilter:"Добавить фильтр",filterPanelDeleteIconLabel:"Удалить",filterPanelLinkOperator:"Логические операторы",filterPanelOperators:"Операторы",filterPanelOperatorAnd:"И",filterPanelOperatorOr:"Или",filterPanelColumns:"Столбцы",filterPanelInputLabel:"Значение",filterPanelInputPlaceholder:"Значение фильтра",filterOperatorContains:"содержит",filterOperatorEquals:"равен",filterOperatorStartsWith:"начинается с",filterOperatorEndsWith:"заканчивается на",filterOperatorIs:"равен",filterOperatorNot:"не равен",filterOperatorAfter:"больше чем",filterOperatorOnOrAfter:"больше или равно",filterOperatorBefore:"меньше чем",filterOperatorOnOrBefore:"меньше или равно",filterOperatorIsEmpty:"пустой",filterOperatorIsNotEmpty:"не пустой",filterOperatorIsAnyOf:"любой из",filterValueAny:"любой",filterValueTrue:"истина",filterValueFalse:"ложь",columnMenuLabel:"Меню",columnMenuShowColumns:"Показать столбцы",columnMenuFilter:"Фильтр",columnMenuHideColumn:"Скрыть",columnMenuUnsort:"Отменить сортировку",columnMenuSortAsc:"Сортировать по возрастанию",columnMenuSortDesc:"Сортировать по убыванию",columnHeaderFiltersTooltipActive:e=>{let t="активных фильтров";const n=e%10;return n>1&&n<5?t="активных фильтра":n===1&&(t="активный фильтр"),`${e} ${t}`},columnHeaderFiltersLabel:"Показать фильтры",columnHeaderSortIconLabel:"Сортировать",footerRowSelected:e=>{let t="строк выбрано";const n=e%10;return n>1&&n<5?t="строки выбраны":n===1&&(t="строка выбрана"),`${e} ${t}`},footerTotalRows:"Всего строк:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} из ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Выбор флажка",checkboxSelectionSelectAllRows:"Выбрать все строки",checkboxSelectionUnselectAllRows:"Отменить выбор всех строк",checkboxSelectionSelectRow:"Выбрать строку",checkboxSelectionUnselectRow:"Отменить выбор строки",booleanCellTrueLabel:"истина",booleanCellFalseLabel:"ложь",actionsCellMore:"ещё",pinToLeft:"Закрепить слева",pinToRight:"Закрепить справа",unpin:"Открепить",treeDataGroupingHeaderName:"Группа",treeDataExpand:"показать дочерние элементы",treeDataCollapse:"скрыть дочерние элементы",groupingColumnHeaderName:"Группа",groupColumn:e=>`Сгруппировать по ${e}`,unGroupColumn:e=>`Разгруппировать по ${e}`,detailPanelToggle:"Детали",expandDetailPanel:"Развернуть",collapseDetailPanel:"Свернуть",rowReorderingHeaderName:"Изменение порядка строк",aggregationMenuItemHeader:"Объединение данных",aggregationFunctionLabelSum:"сумм",aggregationFunctionLabelAvg:"срзнач",aggregationFunctionLabelMin:"мин",aggregationFunctionLabelMax:"макс",aggregationFunctionLabelSize:"счет"},Wft=cr(Gft,Wdt),qft={noRowsLabel:"Žiadne záznamy",noResultsOverlayLabel:"Nenašli sa žadne výsledky.",errorOverlayDefaultLabel:"Stala sa nepredvídaná chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktná",toolbarDensityStandard:"Štandartná",toolbarDensityComfortable:"Komfortná",toolbarColumns:"Stĺpce",toolbarColumnsLabel:"Vybrať stĺpce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobraziť filtre",toolbarFiltersTooltipHide:"Skryť filtre ",toolbarFiltersTooltipShow:"Zobraziť filtre",toolbarFiltersTooltipActive:e=>{let t="aktívnych filtrov";return e>1&&e<5?t="aktívne filtre":e===1&&(t="aktívny filter"),`${e} ${t}`},toolbarQuickFilterPlaceholder:"Vyhľadať…",toolbarQuickFilterLabel:"Vyhľadať",toolbarQuickFilterDeleteIconLabel:"Vymazať",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnuť ako CSV",toolbarExportPrint:"Vytlačiť",toolbarExportExcel:"Stiahnuť ako Excel",columnsPanelTextFieldLabel:"Nájsť stĺpec",columnsPanelTextFieldPlaceholder:"Názov stĺpca",columnsPanelDragIconLabel:"Usporiadť stĺpce",columnsPanelShowAllButton:"Zobraziť všetko",columnsPanelHideAllButton:"Skryť všetko",filterPanelAddFilter:"Pridať filter",filterPanelDeleteIconLabel:"Odstrániť",filterPanelLinkOperator:"Logický operátor",filterPanelOperators:"Operátory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"Stĺpce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovná sa",filterOperatorStartsWith:"začína s",filterOperatorEndsWith:"končí na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo skôr",filterOperatorIsEmpty:"je prázdny",filterOperatorIsNotEmpty:"nie je prázdny",filterOperatorIsAnyOf:"je jeden z",filterValueAny:"akýkoľvek",filterValueTrue:"áno",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobraziť stĺpce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skryť",columnMenuUnsort:"Zrušiť filtre",columnMenuSortAsc:"Zoradiť vzostupne",columnMenuSortDesc:"Zoradiť zostupne",columnHeaderFiltersTooltipActive:e=>{let t="aktívnych filtrov";return e>1&&e<5?t="aktívne filtre":e===1&&(t="aktívny filter"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobraziť filtre",columnHeaderSortIconLabel:"Filtrovať",footerRowSelected:e=>{let t="vybraných záznamov";return e>1&&e<5?t="vybrané záznamy":e===1&&(t="vybraný záznam"),`${e} ${t}`},footerTotalRows:"Riadkov spolu:",footerTotalVisibleRows:(e,t)=>{const n=t.toString(),r=n[0],o=["4","6","7"].includes(r)||r==="1"&&n.length%3===0?"zo":"z";return`${e.toLocaleString()} ${o} ${t.toLocaleString()}`},checkboxSelectionHeaderName:"Výber riadku",checkboxSelectionSelectAllRows:"Vybrať všetky riadky",checkboxSelectionUnselectAllRows:"Zrušiť výber všetkých riadkov",checkboxSelectionSelectRow:"Vyber riadok",checkboxSelectionUnselectRow:"Zruš výber riadku",booleanCellTrueLabel:"áno",booleanCellFalseLabel:"nie",actionsCellMore:"viac",pinToLeft:"Pripnúť na ľavo",pinToRight:"Pripnúť na pravo",unpin:"Odopnúť",treeDataGroupingHeaderName:"Skupina",treeDataExpand:"zobraziť potomkov",treeDataCollapse:"skryť potomkov",groupingColumnHeaderName:"Skupina",groupColumn:e=>`Zoskupiť podľa ${e}`,unGroupColumn:e=>`Prestať zoskupovať podľa ${e}`,detailPanelToggle:"Prepnúť detail panelu",expandDetailPanel:"Rozbaliť",collapseDetailPanel:"Zbaliť",rowReorderingHeaderName:"Preusporiadávanie riadkov",aggregationMenuItemHeader:"Agregácia",aggregationFunctionLabelSum:"suma",aggregationFunctionLabelAvg:"priemer",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"počet"},Xft=cr(qft,qdt),Kft={noRowsLabel:"Inga rader",noResultsOverlayLabel:"Inga resultat funna.",errorOverlayDefaultLabel:"Ett fel uppstod.",toolbarDensity:"Densitet",toolbarDensityLabel:"Densitet",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Bekväm",toolbarColumns:"Kolumner",toolbarColumnsLabel:"Välj kolumner",toolbarFilters:"Filter",toolbarFiltersLabel:"Visa filter",toolbarFiltersTooltipHide:"Dölj filter",toolbarFiltersTooltipShow:"Visa filter",toolbarFiltersTooltipActive:e=>e!==1?`${e} aktiva filter`:`${e} aktivt filter`,toolbarQuickFilterPlaceholder:"Sök…",toolbarQuickFilterLabel:"Sök",toolbarQuickFilterDeleteIconLabel:"Rensa",toolbarExport:"Exportera",toolbarExportLabel:"Exportera",toolbarExportCSV:"Ladda ner som CSV",toolbarExportPrint:"Skriv ut",toolbarExportExcel:"Ladda ner som Excel",columnsPanelTextFieldLabel:"Hitta kolumn",columnsPanelTextFieldPlaceholder:"Kolumntitel",columnsPanelDragIconLabel:"Ordna om kolumnen",columnsPanelShowAllButton:"Visa alla",columnsPanelHideAllButton:"Dölj alla",filterPanelAddFilter:"Lägg till filter",filterPanelDeleteIconLabel:"Ta bort",filterPanelLinkOperator:"Logisk operatör",filterPanelOperators:"Operatör",filterPanelOperatorAnd:"Och",filterPanelOperatorOr:"Eller",filterPanelColumns:"Kolumner",filterPanelInputLabel:"Värde",filterPanelInputPlaceholder:"Filtervärde",filterOperatorContains:"innehåller",filterOperatorEquals:"är lika med",filterOperatorStartsWith:"börjar med",filterOperatorEndsWith:"slutar med",filterOperatorIs:"är",filterOperatorNot:"är inte",filterOperatorAfter:"är efter",filterOperatorOnOrAfter:"är på eller efter",filterOperatorBefore:"är innan",filterOperatorOnOrBefore:"är på eller innan",filterOperatorIsEmpty:"är tom",filterOperatorIsNotEmpty:"är inte tom",filterOperatorIsAnyOf:"är någon av",filterValueAny:"något",filterValueTrue:"sant",filterValueFalse:"falskt",columnMenuLabel:"Meny",columnMenuShowColumns:"Visa kolumner",columnMenuFilter:"Filtrera",columnMenuHideColumn:"Dölj",columnMenuUnsort:"Osortera",columnMenuSortAsc:"Sortera stigande",columnMenuSortDesc:"Sortera fallande",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} aktiva filter`:`${e} aktivt filter`,columnHeaderFiltersLabel:"Visa filter",columnHeaderSortIconLabel:"Sortera",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rader markerade`:`${e.toLocaleString()} rad markerad`,footerTotalRows:"Totalt antal rader:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} av ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Markering med kryssruta",checkboxSelectionSelectAllRows:"Markera alla rader",checkboxSelectionUnselectAllRows:"Avmarkera alla rader",checkboxSelectionSelectRow:"Markera rad",checkboxSelectionUnselectRow:"Avmarkera rad",booleanCellTrueLabel:"ja",booleanCellFalseLabel:"nej",actionsCellMore:"mer",pinToLeft:"Fäst till vänster",pinToRight:"Fäst till höger",unpin:"Ta bort fästning",treeDataGroupingHeaderName:"Grupp",treeDataExpand:"visa underordnade",treeDataCollapse:"dölj underordnade",groupingColumnHeaderName:"Grupp",groupColumn:e=>`Gruppera efter ${e}`,unGroupColumn:e=>`Sluta gruppera efter ${e}`,detailPanelToggle:"Växla detaljpanel",expandDetailPanel:"Expandera",collapseDetailPanel:"Kollapsa",rowReorderingHeaderName:"Ordna om rader",aggregationMenuItemHeader:"Aggregering",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"medel",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"antal"},Yft=cr(Kft,Xdt),Zft={noRowsLabel:"Satır yok",noResultsOverlayLabel:"Sonuç bulunamadı.",errorOverlayDefaultLabel:"Bir hata oluştu.",toolbarDensity:"Yoğunluk",toolbarDensityLabel:"Yoğunluk",toolbarDensityCompact:"Sıkı",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"Sütunlar",toolbarColumnsLabel:"Sütun seç",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri göster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri göster",toolbarFiltersTooltipActive:e=>`${e} aktif filtre`,toolbarQuickFilterPlaceholder:"Ara…",toolbarQuickFilterLabel:"Ara",toolbarQuickFilterDeleteIconLabel:"Temizle",toolbarExport:"Dışa aktar",toolbarExportLabel:"Dışa aktar",toolbarExportCSV:"CSV olarak aktar",toolbarExportPrint:"Yazdır",toolbarExportExcel:"Excel olarak aktar",columnsPanelTextFieldLabel:"Sütun ara",columnsPanelTextFieldPlaceholder:"Sütun adı",columnsPanelDragIconLabel:"Sütunları yeniden sırala",columnsPanelShowAllButton:"Hepsini göster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kaldır",filterPanelLinkOperator:"Mantıksal operatörler",filterPanelOperators:"Operatör",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"Sütunlar",filterPanelInputLabel:"Değer",filterPanelInputPlaceholder:"Filtre değeri",filterOperatorContains:"içerir",filterOperatorEquals:"eşittir",filterOperatorStartsWith:"ile başlar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"eşittir",filterOperatorNot:"eşit değildir",filterOperatorAfter:"büyük",filterOperatorOnOrAfter:"büyük eşit",filterOperatorBefore:"küçük",filterOperatorOnOrBefore:"küçük eşit",filterOperatorIsEmpty:"boş",filterOperatorIsNotEmpty:"dolu",filterOperatorIsAnyOf:"herhangi biri",filterValueAny:"herhangi",filterValueTrue:"doğru",filterValueFalse:"yanlış",columnMenuLabel:"Menü",columnMenuShowColumns:"Sütunları göster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"Sıralama",columnMenuSortAsc:"Sırala - Artan",columnMenuSortDesc:"Sırala - Azalan",columnHeaderFiltersTooltipActive:e=>`${e} filtre aktif`,columnHeaderFiltersLabel:"Filtreleri göster",columnHeaderSortIconLabel:"Sırala",footerRowSelected:e=>`${e.toLocaleString()} satır seçildi`,footerTotalRows:"Toplam Satır:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seçim",checkboxSelectionSelectAllRows:"Tüm satırları seç",checkboxSelectionUnselectAllRows:"Tüm satırların seçimini kaldır",checkboxSelectionSelectRow:"Satırı seç",checkboxSelectionUnselectRow:"Satır seçimini bırak",booleanCellTrueLabel:"Evet",booleanCellFalseLabel:"Hayır",actionsCellMore:"daha fazla",pinToLeft:"Sola sabitle",pinToRight:"Sağa sabitle",unpin:"Sabitlemeyi kaldır",treeDataGroupingHeaderName:"Grup",treeDataExpand:"göster",treeDataCollapse:"gizle",groupingColumnHeaderName:"Grup",groupColumn:e=>`${e} için grupla`,unGroupColumn:e=>`${e} için gruplamayı kaldır`,detailPanelToggle:"Detay görünümüne geçiş",expandDetailPanel:"Genişlet",collapseDetailPanel:"Gizle",rowReorderingHeaderName:"Satırı yeniden sırala",aggregationMenuItemHeader:"Toplama",aggregationFunctionLabelSum:"top",aggregationFunctionLabelAvg:"ort",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"maks",aggregationFunctionLabelSize:"boyut"},Qft=cr(Zft,Kdt),TL=(e,t)=>{let n=t.many;const r=e%10;return r>1&&r<5?n=t.few:r===1&&(n=t.one),`${e} ${n}`},Jft={noRowsLabel:"Немає рядків",noResultsOverlayLabel:"Дані не знайдено.",errorOverlayDefaultLabel:"Виявлено помилку.",toolbarDensity:"Висота рядка",toolbarDensityLabel:"Висота рядка",toolbarDensityCompact:"Компактний",toolbarDensityStandard:"Стандартний",toolbarDensityComfortable:"Комфортний",toolbarColumns:"Стовпці",toolbarColumnsLabel:"Виділіть стовпці",toolbarFilters:"Фільтри",toolbarFiltersLabel:"Показати фільтри",toolbarFiltersTooltipHide:"Приховати фільтри",toolbarFiltersTooltipShow:"Показати фільтри",toolbarFiltersTooltipActive:e=>TL(e,{one:"активний фільтр",few:"активні фільтри",many:"активних фільтрів"}),toolbarQuickFilterPlaceholder:"Пошук…",toolbarQuickFilterLabel:"Пошук",toolbarQuickFilterDeleteIconLabel:"Очистити",toolbarExport:"Експорт",toolbarExportLabel:"Експорт",toolbarExportCSV:"Завантажити у форматі CSV",toolbarExportPrint:"Друк",toolbarExportExcel:"Завантажити у форматі Excel",columnsPanelTextFieldLabel:"Знайти стовпець",columnsPanelTextFieldPlaceholder:"Заголовок стовпця",columnsPanelDragIconLabel:"Змінити порядок стовпця",columnsPanelShowAllButton:"Показати всі",columnsPanelHideAllButton:"Приховати всі",filterPanelAddFilter:"Додати фільтр",filterPanelDeleteIconLabel:"Видалити",filterPanelLinkOperator:"Логічна функція",filterPanelOperators:"Оператори",filterPanelOperatorAnd:"І",filterPanelOperatorOr:"Або",filterPanelColumns:"Стовпці",filterPanelInputLabel:"Значення",filterPanelInputPlaceholder:"Значення фільтра",filterOperatorContains:"містить",filterOperatorEquals:"дорівнює",filterOperatorStartsWith:"починається з",filterOperatorEndsWith:"закінчується на",filterOperatorIs:"дорівнює",filterOperatorNot:"не дорівнює",filterOperatorAfter:"більше ніж",filterOperatorOnOrAfter:"більше або дорівнює",filterOperatorBefore:"менше ніж",filterOperatorOnOrBefore:"менше або дорівнює",filterOperatorIsEmpty:"порожній",filterOperatorIsNotEmpty:"не порожній",filterOperatorIsAnyOf:"будь-що із",filterValueAny:"будь-який",filterValueTrue:"так",filterValueFalse:"ні",columnMenuLabel:"Меню",columnMenuShowColumns:"Показати стовпці",columnMenuFilter:"Фільтр",columnMenuHideColumn:"Приховати",columnMenuUnsort:"Скасувати сортування",columnMenuSortAsc:"Сортувати за зростанням",columnMenuSortDesc:"Сортувати за спаданням",columnHeaderFiltersTooltipActive:e=>TL(e,{one:"активний фільтр",few:"активні фільтри",many:"активних фільтрів"}),columnHeaderFiltersLabel:"Показати фільтри",columnHeaderSortIconLabel:"Сортувати",footerRowSelected:e=>TL(e,{one:"вибраний рядок",few:"вибрані рядки",many:"вибраних рядків"}),footerTotalRows:"Усього рядків:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} з ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Вибір прапорця",checkboxSelectionSelectAllRows:"Вибрати всі рядки",checkboxSelectionUnselectAllRows:"Скасувати вибір всіх рядків",checkboxSelectionSelectRow:"Вибрати рядок",checkboxSelectionUnselectRow:"Скасувати вибір рядка",booleanCellTrueLabel:"так",booleanCellFalseLabel:"ні",actionsCellMore:"більше",pinToLeft:"Закріпити ліворуч",pinToRight:"Закріпити праворуч",unpin:"Відкріпити",treeDataGroupingHeaderName:"Група",treeDataExpand:"показати дочірні елементи",treeDataCollapse:"приховати дочірні елементи",groupingColumnHeaderName:"Група",groupColumn:e=>`Групувати за ${e}`,unGroupColumn:e=>`Відмінити групування за ${e}`,detailPanelToggle:"Перемикач панелі деталей",expandDetailPanel:"Показати",collapseDetailPanel:"Приховати",rowReorderingHeaderName:"Порядок рядків",aggregationMenuItemHeader:"Агрегація"},ept=cr(Jft,Ydt),tpt={noRowsLabel:"کوئی قطاریں نہیں",noResultsOverlayLabel:"کوئی نتائج نہیں",errorOverlayDefaultLabel:"ایک مسئلہ ہو گیا",toolbarDensity:"کثافت",toolbarDensityLabel:"کثافت",toolbarDensityCompact:"تنگ",toolbarDensityStandard:"درمیانہ",toolbarDensityComfortable:"مناسب",toolbarColumns:"کالمز",toolbarColumnsLabel:"کالمز کو منتخب کریں",toolbarFilters:"فلٹرز",toolbarFiltersLabel:"فلٹرز دکھائیں",toolbarFiltersTooltipHide:"فلٹرز چھپائیں",toolbarFiltersTooltipShow:"فلٹرز دکھائیں",toolbarFiltersTooltipActive:e=>e!==1?`${e} فعال فلٹرز`:`${e} فلٹرز فعال`,toolbarQuickFilterPlaceholder:"تلاش کریں۔۔۔",toolbarQuickFilterLabel:"تلاش کریں",toolbarQuickFilterDeleteIconLabel:"کلئیر کریں",toolbarExport:"ایکسپورٹ",toolbarExportLabel:"ایکسپورٹ",toolbarExportCSV:"CSV کے طور پر ڈاوٴنلوڈ کریں",toolbarExportPrint:"پرنٹ کریں",toolbarExportExcel:"ایکسل کے طور پر ڈاوٴنلوڈ کریں",columnsPanelTextFieldLabel:"کالم کو تلاش کریں",columnsPanelTextFieldPlaceholder:"کالم کا عنوان",columnsPanelDragIconLabel:"کالم کی ترتیب تبدیل کریں",columnsPanelShowAllButton:"سارے دکھائیں",columnsPanelHideAllButton:"سارے چھپائیں",filterPanelAddFilter:"نیا فلٹر",filterPanelDeleteIconLabel:"ختم کریں",filterPanelLinkOperator:"لاجک آپریٹر",filterPanelOperators:"آپریٹر",filterPanelOperatorAnd:"اور",filterPanelOperatorOr:"یا",filterPanelColumns:"کالمز",filterPanelInputLabel:"ویلیو",filterPanelInputPlaceholder:"ویلیو کو فلٹر کریں",filterOperatorContains:"شامل ہے",filterOperatorEquals:"برابر ہے",filterOperatorStartsWith:"شروع ہوتا ہے",filterOperatorEndsWith:"ختم ہوتا ہے",filterOperatorIs:"ہے",filterOperatorNot:"نہیں",filterOperatorAfter:"بعد میں ہے",filterOperatorOnOrAfter:"پر یا بعد میں ہے",filterOperatorBefore:"پہلے ہے",filterOperatorOnOrBefore:"پر یا پہلے ہے",filterOperatorIsEmpty:"خالی ہے",filterOperatorIsNotEmpty:"خالی نہیں ہے",filterOperatorIsAnyOf:"ان میں سے کوئی ہے",filterValueAny:"کوئی بھی",filterValueTrue:"صحیح",filterValueFalse:"غلط",columnMenuLabel:"مینیو",columnMenuShowColumns:"کالم دکھائیں",columnMenuFilter:"فلٹر",columnMenuHideColumn:"چھپائیں",columnMenuUnsort:"sort ختم کریں",columnMenuSortAsc:"ترتیب صعودی",columnMenuSortDesc:"ترتیب نزولی",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} فعال فلٹرز`:`${e} فلٹرز فعال`,columnHeaderFiltersLabel:"فلٹرز دکھائیں",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} منتخب قطاریں`:`${e.toLocaleString()} منتخب قطار`,footerTotalRows:"کل قطاریں:",footerTotalVisibleRows:(e,t)=>`${t.toLocaleString()} میں سے ${e.toLocaleString()}`,checkboxSelectionHeaderName:"چیک باکس منتخب کریں",checkboxSelectionSelectAllRows:"تمام قطاریں منتخب کریں",checkboxSelectionUnselectAllRows:"تمام قطاریں نامنتخب کریں ",checkboxSelectionSelectRow:"قطار منتخب کریں",checkboxSelectionUnselectRow:"قطار نامنتخب کریں",booleanCellTrueLabel:"ہاں",booleanCellFalseLabel:"نہیں",actionsCellMore:"ذیادہ",pinToLeft:"بائیں جانب pin کریں",pinToRight:"دائیں جانب pin کریں",unpin:"pin ختم کریں",treeDataGroupingHeaderName:"گروپ",treeDataExpand:"شاخیں دیکھیں",treeDataCollapse:"شاخیں چھپائیں",groupingColumnHeaderName:"گروپ",groupColumn:e=>`${e} سے گروپ کریں`,unGroupColumn:e=>`${e} سے گروپ ختم کریں`,detailPanelToggle:"ڈیٹیل پینل کھولیں / بند کریں",expandDetailPanel:"پھیلائیں",collapseDetailPanel:"تنگ کریں",rowReorderingHeaderName:"قطاروں کی ترتیب تبدیل کریں",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},npt=cr(tpt,rft),rpt={noRowsLabel:"Không có dữ liệu",noResultsOverlayLabel:"Không tìm thấy kết quả.",errorOverlayDefaultLabel:"Có lỗi xảy ra.",toolbarDensity:"Độ giãn",toolbarDensityLabel:"Độ giãn",toolbarDensityCompact:"Trung bình",toolbarDensityStandard:"Tiêu chuẩn",toolbarDensityComfortable:"Rộng",toolbarColumns:"Cột",toolbarColumnsLabel:"Chọn cột",toolbarFilters:"Bộ lọc",toolbarFiltersLabel:"Hiển thị bộ lọc",toolbarFiltersTooltipHide:"Ẩn",toolbarFiltersTooltipShow:"Hiện",toolbarFiltersTooltipActive:e=>e>1?`${e} bộ lọc hoạt động`:`${e} bộ lọc hoạt động`,toolbarQuickFilterPlaceholder:"Tìm kiếm…",toolbarQuickFilterLabel:"Tìm kiếm",toolbarQuickFilterDeleteIconLabel:"Xóa tìm kiếm",toolbarExport:"Xuất",toolbarExportLabel:"Xuất",toolbarExportCSV:"Xuất CSV",toolbarExportPrint:"In",toolbarExportExcel:"Xuất Excel",columnsPanelTextFieldLabel:"Tìm kiếm",columnsPanelTextFieldPlaceholder:"Tiêu đề cột",columnsPanelDragIconLabel:"Sắp xếp",columnsPanelShowAllButton:"Hiện tất cả",columnsPanelHideAllButton:"Ẩn tất cả",filterPanelAddFilter:"Thêm bộ lọc",filterPanelDeleteIconLabel:"Xóa",filterPanelLinkOperator:"Toán tử logic",filterPanelOperators:"Toán tử",filterPanelOperatorAnd:"Và",filterPanelOperatorOr:"Hoặc",filterPanelColumns:"Cột",filterPanelInputLabel:"Giá trị",filterPanelInputPlaceholder:"Lọc giá trị",filterOperatorContains:"Chứa",filterOperatorEquals:"Bằng",filterOperatorStartsWith:"Bắt đầu bằng",filterOperatorEndsWith:"Kết thúc bằng",filterOperatorIs:"Là",filterOperatorNot:"Không là",filterOperatorAfter:"Trước",filterOperatorOnOrAfter:"bằng hoặc sau",filterOperatorBefore:"Sau",filterOperatorOnOrBefore:"bằng hoặc trước",filterOperatorIsEmpty:"Rỗng",filterOperatorIsNotEmpty:"Khác rỗng",filterValueAny:"bất kỳ giá trị nào",filterValueTrue:"Có",filterValueFalse:"Không",columnMenuLabel:"Danh mục",columnMenuShowColumns:"Danh sách cột",columnMenuFilter:"Bộ lọc",columnMenuHideColumn:"Ẩn cột",columnMenuUnsort:"Bỏ sắp xếp",columnMenuSortAsc:"Sắp xếp tăng dần",columnMenuSortDesc:"Sắp xếp giảm dần",columnHeaderFiltersTooltipActive:e=>e>1?`${e} bộ lọc hoạt động`:`${e} bộ lọc hoạt động`,columnHeaderFiltersLabel:"Bộ lọc",columnHeaderSortIconLabel:"Sắp xếp",footerRowSelected:e=>e>1?`${e.toLocaleString()} hàng đã chọn`:`${e.toLocaleString()} hàng đã chọn`,footerTotalRows:"Tổng:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Tích vào ô trống",checkboxSelectionSelectAllRows:"Chọn tất cả hàng",checkboxSelectionUnselectAllRows:"Bỏ chọn tất cả hàng",checkboxSelectionSelectRow:"Chọn hàng",checkboxSelectionUnselectRow:"Bỏ chọn hàng",booleanCellTrueLabel:"Có",booleanCellFalseLabel:"Không",actionsCellMore:"Thêm",pinToLeft:"Ghim cột bên trái",pinToRight:"Ghim cột bên phải",unpin:"Bỏ ghim",treeDataGroupingHeaderName:"Nhóm",treeDataExpand:"mở rộng",treeDataCollapse:"ẩn đi",groupingColumnHeaderName:"Nhóm",groupColumn:e=>`Nhóm theo ${e}`,unGroupColumn:e=>`Hủy nhóm theo ${e}`,detailPanelToggle:"Ẩn/hiện chi tiết",expandDetailPanel:"Mở rộng",collapseDetailPanel:"Thu nhỏ",rowReorderingHeaderName:"Sắp xếp hàng"},opt=cr(rpt,Zdt),ipt={noRowsLabel:"没有数据。",noResultsOverlayLabel:"未找到数据。",errorOverlayDefaultLabel:"发生错误。",toolbarDensity:"表格密度",toolbarDensityLabel:"表格密度",toolbarDensityCompact:"紧密",toolbarDensityStandard:"标准",toolbarDensityComfortable:"稀疏",toolbarColumns:"列",toolbarColumnsLabel:"选择列",toolbarFilters:"筛选器",toolbarFiltersLabel:"显示筛选器",toolbarFiltersTooltipHide:"隐藏筛选器",toolbarFiltersTooltipShow:"显示筛选器",toolbarFiltersTooltipActive:e=>`${e} 个筛选器`,toolbarQuickFilterPlaceholder:"搜索…",toolbarQuickFilterLabel:"搜索",toolbarQuickFilterDeleteIconLabel:"清除",toolbarExport:"导出",toolbarExportLabel:"导出",toolbarExportCSV:"导出至CSV",toolbarExportPrint:"打印",toolbarExportExcel:"导出至Excel",columnsPanelTextFieldLabel:"搜索列",columnsPanelTextFieldPlaceholder:"列名",columnsPanelDragIconLabel:"重排序列",columnsPanelShowAllButton:"显示所有",columnsPanelHideAllButton:"隐藏所有",filterPanelAddFilter:"添加筛选器",filterPanelDeleteIconLabel:"删除",filterPanelLinkOperator:"逻辑操作器",filterPanelOperators:"操作器",filterPanelOperatorAnd:"与",filterPanelOperatorOr:"或",filterPanelColumns:"列",filterPanelInputLabel:"值",filterPanelInputPlaceholder:"筛选值",filterOperatorContains:"包含",filterOperatorEquals:"等于",filterOperatorStartsWith:"开始于",filterOperatorEndsWith:"结束于",filterOperatorIs:"是",filterOperatorNot:"不是",filterOperatorAfter:"在后面",filterOperatorOnOrAfter:"正在后面",filterOperatorBefore:"在前面",filterOperatorOnOrBefore:"正在前面",filterOperatorIsEmpty:"为空",filterOperatorIsNotEmpty:"不为空",filterOperatorIsAnyOf:"属于",filterValueAny:"任何",filterValueTrue:"真",filterValueFalse:"假",columnMenuLabel:"菜单",columnMenuShowColumns:"显示",columnMenuFilter:"筛选器",columnMenuHideColumn:"隐藏",columnMenuUnsort:"恢复默认",columnMenuSortAsc:"升序",columnMenuSortDesc:"降序",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} 个筛选器`:`${e} 个筛选器`,columnHeaderFiltersLabel:"显示筛选器",columnHeaderSortIconLabel:"排序",footerRowSelected:e=>`共选中了${e.toLocaleString()}行`,footerTotalRows:"所有行:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"多选框",checkboxSelectionSelectAllRows:"全选行",checkboxSelectionUnselectAllRows:"反选所有行",checkboxSelectionSelectRow:"选择行",checkboxSelectionUnselectRow:"反选行",booleanCellTrueLabel:"真",booleanCellFalseLabel:"假",actionsCellMore:"更多",pinToLeft:"固定到左侧",pinToRight:"固定到右侧",unpin:"取消固定",treeDataGroupingHeaderName:"组",treeDataExpand:"查看子项目",treeDataCollapse:"隐藏子项目",groupingColumnHeaderName:"组",groupColumn:e=>`用${e}分组`,unGroupColumn:e=>`不再用${e}分组`,detailPanelToggle:"详细信息",expandDetailPanel:"显示",collapseDetailPanel:"折叠",rowReorderingHeaderName:"重新排列行",aggregationMenuItemHeader:"集合",aggregationFunctionLabelSum:"总数",aggregationFunctionLabelAvg:"平均",aggregationFunctionLabelMin:"最小",aggregationFunctionLabelMax:"最大",aggregationFunctionLabelSize:"大小"},apt=cr(ipt,Qdt),spt={noRowsLabel:"沒有資料",noResultsOverlayLabel:"沒有結果",errorOverlayDefaultLabel:"發生錯誤",toolbarDensity:"表格密度",toolbarDensityLabel:"表格密度",toolbarDensityCompact:"緊湊",toolbarDensityStandard:"標準",toolbarDensityComfortable:"舒適",toolbarColumns:"欄位",toolbarColumnsLabel:"選擇欄位",toolbarFilters:"篩選器",toolbarFiltersLabel:"顯示篩選器",toolbarFiltersTooltipHide:"隱藏篩選器",toolbarFiltersTooltipShow:"顯示篩選器",toolbarFiltersTooltipActive:e=>`${e} 個篩選器`,toolbarQuickFilterPlaceholder:"搜尋…",toolbarQuickFilterLabel:"搜尋",toolbarQuickFilterDeleteIconLabel:"清除",toolbarExport:"匯出",toolbarExportLabel:"匯出",toolbarExportCSV:"匯出 CSV",toolbarExportPrint:"列印",toolbarExportExcel:"匯出 Excel",columnsPanelTextFieldLabel:"欄位搜尋",columnsPanelTextFieldPlaceholder:"欄位名稱",columnsPanelDragIconLabel:"排序欄位",columnsPanelShowAllButton:"顯示所有",columnsPanelHideAllButton:"隱藏所有",filterPanelAddFilter:"增加篩選器",filterPanelDeleteIconLabel:"刪除",filterPanelLinkOperator:"邏輯運算子",filterPanelOperators:"運算子",filterPanelOperatorAnd:"且",filterPanelOperatorOr:"或",filterPanelColumns:"欄位",filterPanelInputLabel:"值",filterPanelInputPlaceholder:"篩選值",filterOperatorContains:"包含",filterOperatorEquals:"等於",filterOperatorStartsWith:"以...開頭",filterOperatorEndsWith:"以...結束",filterOperatorIs:"為",filterOperatorNot:"不為",filterOperatorAfter:"...之後",filterOperatorOnOrAfter:"...(含)之後",filterOperatorBefore:"...之前",filterOperatorOnOrBefore:"...(含)之前",filterOperatorIsEmpty:"為空",filterOperatorIsNotEmpty:"不為空",filterOperatorIsAnyOf:"是其中之一",filterValueAny:"任何值",filterValueTrue:"真",filterValueFalse:"假",columnMenuLabel:"選單",columnMenuShowColumns:"顯示欄位",columnMenuFilter:"篩選器",columnMenuHideColumn:"隱藏",columnMenuUnsort:"預設排序",columnMenuSortAsc:"升序",columnMenuSortDesc:"降序",columnHeaderFiltersTooltipActive:e=>`${e} 個篩選器`,columnHeaderFiltersLabel:"顯示篩選器",columnHeaderSortIconLabel:"排序",footerRowSelected:e=>`已選取 ${e.toLocaleString()} 個`,footerTotalRows:"總數:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`,checkboxSelectionHeaderName:"核取方塊",checkboxSelectionSelectAllRows:"全選",checkboxSelectionUnselectAllRows:"取消全選",checkboxSelectionSelectRow:"選取",checkboxSelectionUnselectRow:"取消選取",booleanCellTrueLabel:"真",booleanCellFalseLabel:"假",actionsCellMore:"查看更多",pinToLeft:"釘選在左側",pinToRight:"釘選在右側",unpin:"取消釘選",treeDataGroupingHeaderName:"群組",treeDataExpand:"查看子項目",treeDataCollapse:"隱藏子項目",groupingColumnHeaderName:"群組",groupColumn:e=>`以 ${e} 分組`,unGroupColumn:e=>`取消以 ${e} 分組`,detailPanelToggle:"切換顯示詳細資訊",expandDetailPanel:"展開",collapseDetailPanel:"摺疊",rowReorderingHeaderName:"排序"},lpt=cr(spt,Jdt);/** @license MUI X v5.17.26
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const cpt=Object.freeze(Object.defineProperty({__proto__:null,DATA_GRID_DEFAULT_SLOTS_COMPONENTS:H5,DATA_GRID_PROPS_DEFAULT_VALUES:ide,DEFAULT_GRID_COL_TYPE_KEY:mw,DataGrid:Pdt,GRID_ACTIONS_COLUMN_TYPE:Q3,GRID_ACTIONS_COL_DEF:Yce,GRID_BOOLEAN_COL_DEF:p6,GRID_CHECKBOX_SELECTION_COL_DEF:v0,GRID_CHECKBOX_SELECTION_FIELD:id,GRID_DATETIME_COL_DEF:nue,GRID_DATE_COL_DEF:tue,GRID_DEFAULT_LOCALE_TEXT:P6,GRID_EXPERIMENTAL_ENABLED:bue,GRID_NUMERIC_COL_DEF:oue,GRID_SINGLE_SELECT_COL_DEF:lue,GRID_STRING_COL_DEF:Dd,GridActionsCell:xce,GridActionsCellItem:Pat,GridAddIcon:n6,GridApiContext:Vz,GridArrowDownwardIcon:ece,GridArrowUpwardIcon:Jle,GridAutoSizer:Ale,GridBody:Hle,GridBooleanCell:Xle,GridCell:qle,GridCellCheckboxForwardRef:$ce,GridCellCheckboxRenderer:Dce,get GridCellEditStartReasons(){return Qc},get GridCellEditStopReasons(){return Xl},get GridCellModes(){return _n},GridCheckCircleIcon:nat,GridCheckIcon:fce,GridCloseIcon:nM,GridColumnHeaderFilterIconButton:Lce,GridColumnHeaderItem:Rce,GridColumnHeaderMenu:Ece,GridColumnHeaderSeparator:Ice,get GridColumnHeaderSeparatorSides(){return LA},GridColumnHeaderSortIcon:Ace,GridColumnHeaderTitle:Oce,GridColumnIcon:oce,GridColumnMenu:gue,GridColumnMenuContainer:Vce,GridColumnsMenuItem:zce,GridColumnsPanel:yue,GridContextProvider:Hue,GridCsvExportMenuItem:Tue,get GridDensityTypes(){return rc},GridDragIcon:r6,GridEditBooleanCell:Yle,GridEditDateCell:Qle,GridEditInputCell:hce,get GridEditModes(){return Di},GridEditSingleSelectCell:bce,GridErrorHandler:Vle,get GridEvents(){return T5},GridExpandMoreIcon:I5,GridFeatureModeConstant:am,GridFilterAltIcon:nce,GridFilterForm:Sue,GridFilterInputDate:Eh,GridFilterInputMultipleSingleSelect:iue,GridFilterInputMultipleValue:f6,GridFilterInputSingleSelect:L5,GridFilterInputValue:ec,GridFilterListIcon:tce,GridFilterMenuItem:Hce,GridFilterPanel:Cue,GridFooter:$ue,GridFooterContainer:Cce,GridFooterPlaceholder:Ule,GridHeader:Due,GridHeaderCheckbox:jce,GridHeaderPlaceholder:Gle,GridKeyboardArrowRight:O5,get GridLinkOperator(){return Zi},GridLoadIcon:X3,GridLoadingOverlay:Fue,GridMenu:qS,GridMenuIcon:tat,GridMoreVertIcon:pce,GridNoRowsOverlay:Nue,GridOverlay:XS,GridOverlays:zle,GridPagination:Bue,GridPanel:wue,GridPanelContent:g6,GridPanelFooter:v6,GridPanelHeader:vue,GridPanelWrapper:b6,get GridPreferencePanelsValue(){return Al},GridPreferencesPanel:_ue,GridPrintExportMenuItem:Oue,GridRemoveIcon:uce,GridRoot:Sce,GridRow:jue,GridRowCount:Rue,get GridRowEditStartReasons(){return Jc},get GridRowEditStopReasons(){return Kl},get GridRowModes(){return Un},GridSaveAltIcon:dce,GridScrollArea:F5,GridSearchIcon:rce,GridSelectedRowCount:Lue,GridSeparatorIcon:ice,get GridSignature(){return Fd},GridSkeletonCell:_ce,GridTableRowsIcon:sce,GridToolbar:Llt,GridToolbarColumnsButton:Pue,GridToolbarContainer:Pce,GridToolbarDensitySelector:Mue,GridToolbarExport:Iue,GridToolbarExportContainer:Eue,GridToolbarFilterButton:Aue,GridToolbarQuickFilter:kue,GridTripleDotsVerticalIcon:cce,GridViewHeadlineIcon:ace,GridViewStreamIcon:lce,HideGridColMenuItem:hue,MAX_PAGE_SIZE:ode,SUBMIT_FILTER_DATE_STROKE_TIME:Qce,SUBMIT_FILTER_STROKE_TIME:o6,SortGridMenuItems:mue,allGridColumnsFieldsSelector:Lit,allGridColumnsSelector:$it,arSD:tft,beBY:ift,bgBG:sft,checkGridRowIdIsValid:Yue,createUseGridApiEventHandler:zue,csCZ:cft,daDK:dft,deDE:pft,elGR:mft,enUS:gft,esES:bft,faIR:xft,fiFI:_ft,filterableGridColumnsIdsSelector:Nit,filterableGridColumnsSelector:Fit,frFR:Cft,getDataGridUtilityClass:Pn,getDefaultGridFilterModel:oy,getGridBooleanOperators:Zce,getGridColDef:pue,getGridDateOperators:h6,getGridDefaultColumnTypes:cue,getGridNumericColumnOperators:kst,getGridNumericOperators:m6,getGridNumericQuickFilterFn:rue,getGridSingleSelectOperators:sue,getGridSingleSelectQuickFilterFn:aue,getGridStringOperators:Kce,getGridStringQuickFilterFn:Xce,gridClasses:We,gridColumnDefinitionsSelector:Ts,gridColumnFieldsSelector:Ap,gridColumnGroupingSelector:Uue,gridColumnGroupsLookupSelector:S6,gridColumnLookupSelector:Zp,gridColumnMenuSelector:_6,gridColumnPositionsSelector:Ep,gridColumnVisibilityModelSelector:du,gridColumnsMetaSelector:Lle,gridColumnsSelector:Mp,gridColumnsTotalWidthSelector:US,gridDateComparator:d6,gridDateFormatter:Jce,gridDateTimeFormatter:eue,gridDensityFactorSelector:jle,gridDensityHeaderGroupingMaxDepthSelector:q3,gridDensityHeaderHeightSelector:Yz,gridDensityRowHeightSelector:m0,gridDensitySelector:Qp,gridDensityTotalHeaderHeightSelector:g0,gridDensityValueSelector:Kz,gridEditRowsStateSelector:Zr,gridFilterActiveItemsLookupSelector:Ble,gridFilterActiveItemsSelector:Xz,gridFilterModelSelector:ha,gridFilterStateSelector:h0,gridFilterableColumnDefinitionsSelector:GS,gridFilterableColumnLookupSelector:Rle,gridFilteredDescendantCountLookupSelector:jit,gridFilteredRowsLookupSelector:Uz,gridFilteredSortedRowEntriesSelector:Fle,gridFilteredSortedRowIdsSelector:Nle,gridFocusCellSelector:hl,gridFocusColumnHeaderSelector:Wle,gridFocusStateSelector:Qz,gridNumberComparator:u6,gridPageCountSelector:dst,gridPageSelector:Hv,gridPageSizeSelector:ub,gridPaginatedVisibleSortedGridRowEntriesSelector:Bce,gridPaginatedVisibleSortedGridRowIdsSelector:l6,gridPaginationRowRangeSelector:Z3,gridPaginationSelector:xg,gridPanelClasses:xue,gridPreferencePanelStateSelector:Rm,gridQuickFilterValuesSelector:$le,gridRowCountSelector:HS,gridRowGroupingNameSelector:Ile,gridRowIdsSelector:Kf,gridRowTreeDepthSelector:V3,gridRowTreeSelector:yd,gridRowsIdToIdLookupSelector:H3,gridRowsLoadingSelector:Tle,gridRowsLookupSelector:om,gridRowsMetaSelector:iy,gridRowsStateSelector:Oc,gridSelectionStateSelector:ys,gridSortColumnLookupSelector:kle,gridSortModelSelector:sl,gridSortedRowEntriesSelector:W3,gridSortedRowIdsSelector:G3,gridSortingStateSelector:U3,gridStringOrNumberComparator:Gce,gridTabIndexCellSelector:pw,gridTabIndexColumnHeaderSelector:e6,gridTabIndexStateSelector:Jz,gridTopLevelRowCountSelector:Ole,gridVisibleColumnDefinitionsSelector:bi,gridVisibleColumnFieldsSelector:Rit,gridVisibleRowCountSelector:Wz,gridVisibleRowsLookupSelector:Dle,gridVisibleRowsSelector:zit,gridVisibleSortedRowEntriesSelector:Fu,gridVisibleSortedRowIdsSelector:im,gridVisibleSortedTopLevelRowEntriesSelector:Gz,gridVisibleTopLevelRowCountSelector:qz,heIL:Mft,huHU:Eft,isLeaf:Zz,itIT:Oft,jaJP:kft,koKR:Lft,nbNO:Dft,nlNL:Nft,plPL:jft,ptBR:Hft,renderActionsCell:wce,renderBooleanCell:Kle,renderEditBooleanCell:Zle,renderEditDateCell:t6,renderEditInputCell:mce,renderEditSingleSelectCell:yce,roRO:Uft,ruRU:Wft,selectedGridRowsCountSelector:Fce,selectedGridRowsSelector:Nce,selectedIdsLookupSelector:hw,skSK:Xft,svSE:Yft,trTR:Qft,ukUA:ept,unstable_resetCleanupTracking:Klt,urPK:npt,useFirstRender:b0,useGridApi:fct,useGridApiContext:Zt,useGridApiEventHandler:St,useGridApiMethod:tr,useGridApiOptionHandler:Rn,useGridApiRef:vit,useGridLogger:yo,useGridNativeEventListener:Vue,useGridRootProps:It,useGridScrollFn:pct,useGridSelector:Rt,useGridState:hct,viVN:opt,visibleGridColumnsLengthSelector:Bit,visibleGridColumnsSelector:Dit,zhCN:apt,zhTW:lpt},Symbol.toStringTag,{value:"Module"})),upt=Pa(cpt);var ek={},dpt=sr;Object.defineProperty(ek,"__esModule",{value:!0});ek.default=void 0;var fpt=dpt(bo()),ppt=N,hpt=(0,fpt.default)((0,ppt.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");ek.default=hpt;var M6={},mpt=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},gpt=mpt,gW={"text/plain":"Text","text/html":"Url",default:"Text"},vpt="Copy to clipboard: #{key}, Enter";function bpt(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function ypt(e,t){var n,r,o,i,a,s,l=!1;t||(t={}),n=t.debug||!1;try{o=gpt(),i=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(u){if(u.stopPropagation(),t.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=gW[t.format]||gW.default;window.clipboardData.setData(d,e)}else u.clipboardData.clearData(),u.clipboardData.setData(t.format,e);t.onCopy&&(u.preventDefault(),t.onCopy(u.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=bpt("message"in t?t.message:vpt),window.prompt(r,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return l}var sde=ypt;const xpt=Pc(sde);var YS={},wpt=sr;Object.defineProperty(YS,"__esModule",{value:!0});var lde=YS.default=void 0,_pt=wpt(bo()),Spt=N,Cpt=(0,_pt.default)((0,Spt.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");lde=YS.default=Cpt;var tk={},Ppt=sr;Object.defineProperty(tk,"__esModule",{value:!0});var cde=tk.default=void 0,Mpt=Ppt(bo()),Apt=N,Ept=(0,Mpt.default)((0,Apt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");cde=tk.default=Ept;var u2={},vW;function Tpt(){if(vW)return u2;vW=1;var e=ue&&ue.__createBinding||(Object.create?function(c,u,d,f){f===void 0&&(f=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,f,p)}:function(c,u,d,f){f===void 0&&(f=d),c[f]=u[d]}),t=ue&&ue.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),n=ue&&ue.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(u,c,d);return t(u,c),u};Object.defineProperty(u2,"__esModule",{value:!0});const r=n(C),o=Dr,i=Ca,s=(0,ii.makeStyles)()(c=>({formElt:{margin:c.spacing(3),width:400},dialogContent:{width:"80em"}}));function l({handleClose:c,intronBp:u,upDownBp:d}){const{classes:f}=s(),[p,h]=(0,r.useState)(`${u}`),[g,v]=(0,r.useState)(`${d}`),m=!Number.isNaN(+p),b=!Number.isNaN(+g);return r.default.createElement(i.Dialog,{maxWidth:"xl",open:!0,onClose:()=>c(),title:"Feature sequence settings"},r.default.createElement(o.DialogContent,{className:f.dialogContent},r.default.createElement(o.TextField,{label:"Number of intronic bases around splice site to display",className:f.formElt,value:p,helperText:m?"":"Not a number",error:!m,onChange:x=>h(x.target.value)}),r.default.createElement(o.TextField,{label:"Number of bases up/down stream of feature to display",className:f.formElt,value:g,helperText:b?"":"Not a number",error:!b,onChange:x=>v(x.target.value)})),r.default.createElement(o.DialogActions,null,r.default.createElement(o.Button,{onClick:()=>c({upDownBp:+g,intronBp:+p}),disabled:!m||!b,color:"primary",variant:"contained"},"Submit"),r.default.createElement(o.Button,{onClick:()=>c(),color:"secondary",autoFocus:!0,variant:"contained"},"Cancel")))}return u2.default=l,u2}var d2={},bW;function Opt(){if(bW)return d2;bW=1;var e=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(d2,"__esModule",{value:!0});const t=e(C),n=Dr,r=Ca,o=e(YS);function i({handleClose:a}){return t.default.createElement(r.Dialog,{maxWidth:"xl",open:!0,onClose:()=>a(),title:"Feature sequence panel help"},t.default.createElement(n.DialogContent,null,t.default.createElement(n.Typography,{paragraph:!0},'The "Feature sequence" panel shows the underlying genomic sequence for a given feature, fetched from the reference genome.'),t.default.createElement(n.Typography,null,"For gene features, this panel does special calculations to e.g. stitch together the coding sequence, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"CDS - shows the stitched together CDS sequences"),t.default.createElement("li",null,'Protein - the translated coding sequence, with the "standard" genetic code'),t.default.createElement("li",null,"cDNA - shows the UTRs and stitched together CDS sequences"),t.default.createElement("li",null,"Gene w/ introns - the sequence underlying the entire gene including including introns, with UTR and CDS highlighted"),t.default.createElement("li",null,'Gene w/ Nbp introns - same "Gene w/ introns", but limiting to a subset of the intron sequence displayed'),t.default.createElement("li",null,'Gene +/- Nbp up+down stream - same as "Gene w/ introns" but with up and downstream sequence displayed'),t.default.createElement("li",null,'Gene +/- Nbp up+down stream, Nbp introns - same as "Gene w/ introns", but with limited intron sequence displayed and up and downstream sequence')),t.default.createElement(n.Typography,{paragraph:!0},"For other feature types, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"Feature sequence - the reference genome sequence underlying the feature"),t.default.createElement("li",null,"Feature sequence +/- Nbp up+down stream - the reference genome sequence underlying the feature, with the up and downstream sequence")),t.default.createElement(n.Typography,null,'Note: you can use the "gear icon" ',t.default.createElement(o.default,null)," to edit the number of bp displayed up/downstream and in the intron region")),t.default.createElement(n.DialogActions,null,t.default.createElement(n.Button,{onClick:()=>a(),autoFocus:!0,variant:"contained"},"Close")))}return d2.default=i,d2}var f2={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.ellipses=Ki.calculateUTRs2=Ki.calculateUTRs=Ki.revlist=Ki.dedupe=Ki.stitch=void 0;function Ipt(e,t){return e.map(n=>t.slice(n.start,n.end)).join("")}Ki.stitch=Ipt;function yW(e){return`${e.start}-${e.end}`}function kpt(e){return e.filter((t,n,r)=>!n||yW(t)!==yW(r[n-1]))}Ki.dedupe=kpt;function Rpt(e,t){return e.map(n=>({...n,start:t-n.end,end:t-n.start})).sort((n,r)=>n.start-r.start)}Ki.revlist=Rpt;function Lpt(e,t){const n=e[0],r=e[e.length-1],o=t.findIndex(u=>u.end>=n.start&&u.start<=n.start),i=t.findIndex(u=>u.end>=r.end&&u.start<=r.end),a=t[i],s=t[o],l=[...t.slice(0,o),{start:s.start,end:n.start}].map(u=>({...u,type:"five_prime_UTR"})),c=[{start:r.end,end:a.end},...t.slice(i+1)].map(u=>({...u,type:"three_prime_UTR"}));return[...l,...c]}Ki.calculateUTRs=Lpt;function $pt(e,t){const n=e[0],r=e[e.length-1],o=[{start:t.start,end:n.start}].map(a=>({...a,type:"five_prime_UTR"})),i=[{start:r.end,end:t.end}].map(a=>({...a,type:"three_prime_UTR"}));return[...o,...i]}Ki.calculateUTRs2=$pt;function Dpt(e){return e.length>20?`${e.slice(0,20)}...`:e}Ki.ellipses=Dpt;var Nl={},xW;function Fpt(){if(xW)return Nl;xW=1;var e=ue&&ue.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Genomic=Nl.GenecDNA=Nl.GeneProtein=Nl.GeneCDS=void 0;const t=e(C),n=Ki,r="rgb(220,160,220)",o=void 0,i="rgb(220,220,180)",a="rgba(250,200,200)",s="rgb(200,240,240)",l="rgb(200,280,200)";function c({cds:p,sequence:h}){return t.default.createElement("span",{style:{background:i}},(0,n.stitch)(p,h))}Nl.GeneCDS=c;function u({cds:p,sequence:h,codonTable:g}){const v=(0,n.stitch)(p,h);let m="";for(let b=0;b<v.length;b+=3)m+=g[v.slice(b,b+3)]||"&";return t.default.createElement("span",{style:{background:r}},m)}Nl.GeneProtein=u;function d({utr:p,cds:h,exons:g,sequence:v,upstream:m,downstream:b,includeIntrons:x,collapseIntron:y,intronBp:w}){const _=(h.length?[...h,...p].sort((S,P)=>S.start-P.start):g).filter(S=>S.start!==S.end);return t.default.createElement(t.default.Fragment,null,m?t.default.createElement("span",{style:{background:a}},m):null,_.map((S,P)=>{var M;const I=v.slice(S.end,(M=_[P+1])===null||M===void 0?void 0:M.start);return t.default.createElement(t.default.Fragment,{key:JSON.stringify(S)},t.default.createElement("span",{style:{background:S.type==="CDS"?i:s}},v.slice(S.start,S.end)),x&&P<_.length-1?t.default.createElement("span",{style:{background:o}},y&&I.length>w*2?`${I.slice(0,w)}...${I.slice(-w)}`:I):null)}),b?t.default.createElement("span",{style:{background:a}},b):null)}Nl.GenecDNA=d;function f({sequence:p,upstream:h,downstream:g}){return t.default.createElement(t.default.Fragment,null,h?t.default.createElement("span",{style:{background:a}},h):null,t.default.createElement("span",{style:{background:l}},p),g?t.default.createElement("span",{style:{background:a}},g):null)}return Nl.Genomic=f,Nl}var wW;function Npt(){if(wW)return f2;wW=1;var e=ue&&ue.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(f2,"__esModule",{value:!0});const t=e(C),n=Ea(),r=Ki,o=Fpt(),i=t.default.forwardRef(function(a,s){const{feature:l,mode:c,intronBp:u=10}=a;let{sequence:{seq:d,upstream:f="",downstream:p=""}}=a;const{subfeatures:h=[]}=l,g=h.sort((y,w)=>y.start-w.start).map(y=>({...y,start:y.start-l.start,end:y.end-l.start}));let v=(0,r.dedupe)(g.filter(y=>y.type==="CDS")),m=(0,r.dedupe)(g.filter(y=>y.type.match(/utr/i))),b=(0,r.dedupe)(g.filter(y=>y.type==="exon"));!m.length&&v.length&&b.length&&(m=(0,r.calculateUTRs)(v,b)),!m.length&&v.length&&!b.length&&(m=(0,r.calculateUTRs2)(v,{start:0,end:l.end-l.start,type:"gene"})),l.strand===-1&&([d,f,p]=[(0,n.revcom)(d),(0,n.revcom)(p),(0,n.revcom)(f)],v=(0,r.revlist)(v,d.length),b=(0,r.revlist)(b,d.length),m=(0,r.revlist)(m,d.length));const x=(0,n.generateCodonTable)(n.defaultCodonTable);return t.default.createElement("div",{ref:s,"data-testid":"sequence_panel"},t.default.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",overflow:"auto",color:"black",fontSize:12,maxWidth:600,maxHeight:500}},t.default.createElement("span",{style:{background:"white"}},`>${l.name||l.id||`${l.refName}:${l.start+1}-${l.end}`}-${c}
`),t.default.createElement("br",null),c==="genomic"?t.default.createElement(o.Genomic,{sequence:d}):c==="genomic_sequence_updown"?t.default.createElement(o.Genomic,{sequence:d,upstream:f,downstream:p}):c==="cds"?t.default.createElement(o.GeneCDS,{cds:v,sequence:d}):c==="cdna"?t.default.createElement(o.GenecDNA,{exons:b,cds:v,utr:m,sequence:d,intronBp:u}):c==="protein"?t.default.createElement(o.GeneProtein,{cds:v,codonTable:x,sequence:d}):c==="gene"?t.default.createElement(o.GenecDNA,{exons:b,cds:v,utr:m,sequence:d,includeIntrons:!0,intronBp:u}):c==="gene_collapsed_intron"?t.default.createElement(o.GenecDNA,{exons:b,cds:v,sequence:d,utr:m,includeIntrons:!0,collapseIntron:!0,intronBp:u}):c==="gene_updownstream"?t.default.createElement(o.GenecDNA,{exons:b,cds:v,sequence:d,utr:m,upstream:f,downstream:p,includeIntrons:!0,intronBp:u}):c==="gene_updownstream_collapsed_intron"?t.default.createElement(o.GenecDNA,{exons:b,cds:v,sequence:d,utr:m,upstream:f,downstream:p,includeIntrons:!0,collapseIntron:!0,intronBp:u}):t.default.createElement("div",null,"Unknown type")))});return f2.default=i,f2}var Bpt=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),jpt=ue&&ue.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nk=ue&&ue.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Bpt(t,e,n);return jpt(t,e),t},A6=ue&&ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M6,"__esModule",{value:!0});const Kt=nk(C),Si=Dr,zpt=ii,_W=A6(sde),p2=Ea(),SW=u0,Hpt=Ca,Vpt=A6(YS),Upt=A6(tk),Gpt=(0,Kt.lazy)(()=>Promise.resolve().then(()=>nk(Tpt()))),Wpt=(0,Kt.lazy)(()=>Promise.resolve().then(()=>nk(Opt()))),qpt=(0,Kt.lazy)(()=>Promise.resolve().then(()=>nk(Npt()))),ude=(0,zpt.makeStyles)()(e=>({button:{margin:e.spacing(1)},formControl:{margin:0},container2:{marginTop:e.spacing(1)}})),CW=5e5;function Xpt({model:e,feature:t}){const{classes:n}=ude(),[r,o]=(0,Kt.useState)(!1),[i,a]=(0,Kt.useState)(!1);return e?Kt.default.createElement("div",{className:n.container2},Kt.default.createElement(Si.Button,{variant:"contained",onClick:()=>o(!r)},r?"Hide feature sequence":"Show feature sequence"),Kt.default.createElement(Si.FormControl,{className:n.formControl},Kt.default.createElement(Si.IconButton,{onClick:()=>a(!0)},Kt.default.createElement(Upt.default,null))),Kt.default.createElement("br",null),r?Kt.default.createElement(Kpt,{model:e,feature:t}):null,i?Kt.default.createElement(Kt.Suspense,{fallback:Kt.default.createElement("div",null)},Kt.default.createElement(Wpt,{handleClose:()=>a(!1)})):null):null}M6.default=Xpt;function Kpt({model:e,feature:t}){var n,r;const{classes:o}=ude(),i=t,a=!!(!((n=i.subfeatures)===null||n===void 0)&&n.find($=>$.type==="CDS")),s=(0,Kt.useRef)(null),[l,c]=(0,Kt.useState)(!1),[u,d]=(0,p2.useLocalStorage)("intronBp",10),[f,p]=(0,p2.useLocalStorage)("upDownBp",500),[h,g]=(0,Kt.useState)(),[v,m]=(0,Kt.useState)(),[b,x]=(0,Kt.useState)(!1),[y,w]=(0,Kt.useState)(!1),[_,S]=(0,Kt.useState)({id:t.uniqueId,force:!1});(0,Kt.useEffect)(()=>{S({id:t.uniqueId,force:!1})},[t]),(0,Kt.useEffect)(()=>{var $;let j=!1;if(!e)return()=>{};const{assemblyManager:V,rpcManager:q}=(0,p2.getSession)(e),[Q]=(($=e.view)===null||$===void 0?void 0:$.assemblyNames)||[];async function H(X,J,G){const ie=await V.waitForAssembly(Q);if(!ie)throw new Error("assembly not found");const Y="getSequence",le=await q.call(Y,"CoreGetFeatures",{adapterConfig:(0,SW.getConf)(ie,["sequence","adapter"]),sessionId:Y,regions:[{start:X,end:J,refName:ie.getCanonicalRefName(G),assemblyName:Q}]}),[te]=le;return(te==null?void 0:te.get("seq"))||""}return(async()=>{try{m(void 0);const{start:X,end:J,refName:G}=t;if(!_.force&&J-X>CW)g({error:`Genomic sequence larger than ${CW}bp, use "force load" button to display`});else{const ie=await H(X,J,G),Y=await H(Math.max(0,X-f),X,G),le=await H(J,J+f,G);j||g({seq:ie,upstream:Y,downstream:le})}}catch(X){console.error(X),m(X)}})(),()=>{j=!0}},[t,e,f,_]);const P=!h,M=(0,p2.getSession)(e),I=["mRNA","transcript","gene"],O=(0,SW.getConf)(M,["featureDetails","sequenceTypes"])||I,L=t.type==="CDS"?O.includes("CDS")&&!t.parentId:O.includes(t.type)&&((r=t.subfeatures)===null||r===void 0?void 0:r.length),R=L?a?"cds":"cdna":"genomic";(0,Kt.useEffect)(()=>{E(R)},[L,R]);const[T,E]=(0,Kt.useState)(L?a?"cds":"cdna":"genomic"),k={gene:"Gene w/ introns",gene_collapsed_intron:`Gene w/ ${u}bp of intron`,gene_updownstream:`Gene w/ ${f}bp up+down stream`,gene_updownstream_collapsed_intron:`Gene w/ ${f}bp up+down stream w/ ${u}bp intron`,cdna:"cDNA"},B=L?a?{cds:"CDS",protein:"Protein",...k}:k:{genomic:"Genomic seq",genomic_sequence_updown:`Genomic seq w/ ${f}bp up+down stream`};return Kt.default.createElement("div",{className:o.container2},Kt.default.createElement(Si.FormControl,{className:o.formControl},Kt.default.createElement(Si.Select,{value:T,onChange:$=>E($.target.value)},Object.entries(B).map(([$,j])=>Kt.default.createElement(Si.MenuItem,{key:$,value:$},j)))),Kt.default.createElement(Si.FormControl,{className:o.formControl},Kt.default.createElement(Si.Button,{className:o.button,variant:"contained",onClick:()=>{const $=s.current;$&&((0,_W.default)($.textContent||"",{format:"text/plain"}),x(!0),setTimeout(()=>x(!1),1e3))}},b?"Copied to clipboard!":"Copy plaintext")),Kt.default.createElement(Si.FormControl,{className:o.formControl},Kt.default.createElement(Si.Tooltip,{title:"The 'Copy HTML' function retains the colors from the sequence panel but cannot be pasted into some programs like notepad that only expect plain text"},Kt.default.createElement(Si.Button,{className:o.button,variant:"contained",onClick:()=>{const $=s.current;$&&((0,_W.default)($.innerHTML,{format:"text/html"}),w(!0),setTimeout(()=>w(!1),1e3))}},y?"Copied to clipboard!":"Copy HTML"))),Kt.default.createElement(Si.FormControl,{className:o.formControl},Kt.default.createElement(Si.IconButton,{onClick:()=>c(!0)},Kt.default.createElement(Vpt.default,null))),Kt.default.createElement("br",null),v?Kt.default.createElement(Si.Typography,{color:"error"},`${v}`):P?Kt.default.createElement(Hpt.LoadingEllipses,null):h?"error"in h?Kt.default.createElement(Kt.default.Fragment,null,Kt.default.createElement(Si.Typography,{color:"error"},h.error),Kt.default.createElement(Si.Button,{variant:"contained",color:"inherit",onClick:()=>S({..._,force:!0})},"Force load")):Kt.default.createElement(Kt.Suspense,{fallback:Kt.default.createElement("div",null,"Loading")},Kt.default.createElement(qpt,{ref:s,feature:i,mode:T,sequence:h,intronBp:u})):Kt.default.createElement(Si.Typography,null,"No sequence found"),l?Kt.default.createElement(Kt.Suspense,{fallback:Kt.default.createElement("div",null)},Kt.default.createElement(Gpt,{handleClose:$=>{if($){const{upDownBp:j,intronBp:V}=$;d(V),p(j)}c(!1)},upDownBp:f,intronBp:u})):null)}(function(e){var t=ue&&ue.__createBinding||(Object.create?function(H,X,J,G){G===void 0&&(G=J);var ie=Object.getOwnPropertyDescriptor(X,J);(!ie||("get"in ie?!X.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return X[J]}}),Object.defineProperty(H,G,ie)}:function(H,X,J,G){G===void 0&&(G=J),H[G]=X[J]}),n=ue&&ue.__setModuleDefault||(Object.create?function(H,X){Object.defineProperty(H,"default",{enumerable:!0,value:X})}:function(H,X){H.default=X}),r=ue&&ue.__importStar||function(H){if(H&&H.__esModule)return H;var X={};if(H!=null)for(var J in H)J!=="default"&&Object.prototype.hasOwnProperty.call(H,J)&&t(X,H,J);return n(X,H),X},o=ue&&ue.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureDetails=e.BaseAttributes=e.Attributes=e.UriLink=e.BaseCoreDetails=e.SimpleValue=e.BasicValue=e.FieldName=e.BaseCard=e.useStyles=void 0;const i=r(C),a=uO,s=Dr,l=ii,c=upt,u=Vo,d=o(Iae),f=o(ek),p=Ea(),h=Ca,g=o(M6),v=Ki,m=170,b=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"],x=["name","start","end","strand","refName","description","type"];e.useStyles=(0,l.makeStyles)()(H=>{var X;return{expansionPanelDetails:{display:"block",padding:H.spacing(1)},expandIcon:{color:((X=H.palette.tertiary)===null||X===void 0?void 0:X.contrastText)||"#fff"},field:{display:"flex",flexWrap:"wrap"},fieldDescription:{"&:hover":{background:H.palette.mode==="dark"?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:H.palette.action.disabledBackground,marginRight:H.spacing(1),padding:H.spacing(.5)},fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:H.spacing(.5),overflow:"auto"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:H.spacing(.5),background:H.palette.action.disabledBackground,border:`1px solid ${H.palette.action.disabledBackground}`,boxSizing:"border-box",overflow:"auto"}}});function y({children:H,title:X,defaultExpanded:J=!0}){const{classes:G}=(0,e.useStyles)(),[ie,Y]=(0,i.useState)(J);return i.default.createElement(s.Accordion,{expanded:ie,onChange:()=>Y(le=>!le),TransitionProps:{unmountOnExit:!0,timeout:150}},i.default.createElement(s.AccordionSummary,{expandIcon:i.default.createElement(f.default,{className:G.expandIcon})},i.default.createElement(s.Typography,{variant:"button"}," ",X)),i.default.createElement(s.AccordionDetails,{className:G.expansionPanelDetails},H))}e.BaseCard=y;const w=({description:H,name:X,width:J,prefix:G=[]})=>{const{classes:ie,cx:Y}=(0,e.useStyles)(),le=[...G,X].join(".");return H?i.default.createElement(s.Tooltip,{title:H,placement:"left"},i.default.createElement("div",{className:Y(ie.fieldDescription,ie.fieldName)},le)):i.default.createElement("div",{className:ie.fieldName,style:{width:J}},le)};e.FieldName=w;const _=({value:H})=>{const{classes:X}=(0,e.useStyles)(),J=`${H}`.match(/^https?:\/\//);return i.default.createElement("div",{className:X.fieldValue},i.default.isValidElement(H)?H:J?i.default.createElement(s.Link,{href:`${H}`},`${H}`):i.default.createElement(h.SanitizedHTML,{html:(0,d.default)(H)?JSON.stringify(H):String(H)}))};e.BasicValue=_;function S({name:H,value:X,description:J,prefix:G,width:ie}){const{classes:Y}=(0,e.useStyles)();return X!=null?i.default.createElement("div",{className:Y.field},i.default.createElement(e.FieldName,{prefix:G,description:J,name:H,width:ie}),i.default.createElement(e.BasicValue,{value:X})):null}e.SimpleValue=S;function P({name:H,value:X,description:J,prefix:G=[]}){const{classes:ie}=(0,e.useStyles)();return X.length===1?(0,d.default)(X[0])?i.default.createElement($,{attributes:X[0],prefix:[...G,H]}):i.default.createElement("div",{className:ie.field},i.default.createElement(e.FieldName,{prefix:G,description:J,name:H}),i.default.createElement(e.BasicValue,{value:X[0]})):X.every(Y=>(0,d.default)(Y))?i.default.createElement(i.default.Fragment,null,X.map((Y,le)=>i.default.createElement($,{key:JSON.stringify(Y)+"-"+le,attributes:Y,prefix:[...G,H+"-"+le]}))):i.default.createElement("div",{className:ie.field},i.default.createElement(e.FieldName,{prefix:G,description:J,name:H}),X.map((Y,le)=>i.default.createElement("div",{key:JSON.stringify(Y)+"-"+le,className:ie.fieldSubvalue},i.default.createElement(e.BasicValue,{value:Y}))))}const M=H=>H.toLocaleString("en-US");function I(H){const{feature:X}=H,J=X.strand,G={"-1":"-",0:"",1:"+"},ie=G[J]?`(${G[J]})`:"",Y=(0,p.assembleLocString)(X);return i.default.createElement(i.default.Fragment,null,`${Y} ${ie}`)}function O(H){const{feature:X}=H,J=X,G={...J,...J.__jbrowsefmt},{start:ie,end:Y}=G,le={...G,length:M(Y-ie)},te={description:"Description",name:"Name",length:"Length",type:"Type"};return i.default.createElement(i.default.Fragment,null,i.default.createElement(S,{name:"Position",value:i.default.createElement(I,{...H,feature:G})}),Object.entries(te).map(([re,ae])=>[ae,le[re]]).filter(([,re])=>re!=null).map(([re,ae])=>i.default.createElement(S,{key:re,name:re,value:ae})))}const L=H=>i.default.createElement(y,{...H,title:"Primary data"},i.default.createElement(O,{...H}));e.BaseCoreDetails=L;function R({value:H}){const X=(0,p.getUriLink)(H);return i.default.createElement(h.SanitizedHTML,{html:`<a href="${X}">${X}</a>`})}e.UriLink=R;function T({value:H,prefix:X,name:J}){const G=Object.keys(H[0]).sort(),ie=new Set(G);for(const Y of H)for(const le of Object.keys(Y))ie.add(le);if(ie.size<G.length+5){const Y=Object.entries(H).map(([fe,_e])=>{const{id:W,...oe}=_e;return{id:fe,identifier:W,...oe}});let le;ie.has("id")?(ie.delete("id"),le=["identifier",...ie]):le=[...ie];const te=le.map(fe=>({field:fe,renderCell:_e=>{const{value:W}=_e;return(0,p.isUriLocation)(W)?i.default.createElement(R,{value:W}):(0,p.getStr)(W)},width:(0,p.measureGridWidth)(Y.map(_e=>_e[fe]))})),re=25,ae=Y.length<100,pe=80,we=Math.min(Y.length,100)*re+pe+(ae?0:50);return i.default.createElement(i.default.Fragment,null,i.default.createElement(e.FieldName,{prefix:X,name:J}),i.default.createElement("div",{style:{height:we,width:"100%"}},i.default.createElement(c.DataGrid,{disableSelectionOnClick:!0,rowHeight:re,rows:Y,hideFooterSelectedRowCount:!0,columns:te,hideFooter:ae})))}return null}function E(H,X={}){return H.forEach(J=>{X&&(X=X[J])}),typeof X=="string"?X:typeof(X==null?void 0:X.Description)=="string"?X.Description:void 0}function k(H,X){const J=[];return H.forEach(G=>{const ie=[...X,G[0]].join(".");J.push((0,p.measureText)(ie,12))}),Math.ceil(Math.max(...J))+10}function B({value:H,prefix:X,name:J}){const{classes:G}=(0,e.useStyles)(),{uri:ie,baseUri:Y=""}=H;let le;try{le=new URL(ie,Y).href}catch{le=ie}return i.default.createElement("div",{className:G.field},i.default.createElement(e.FieldName,{prefix:X,name:J}),i.default.createElement(e.BasicValue,{value:le}))}function $(H){const{attributes:X,omit:J=[],omitSingleLevel:G=[],descriptions:ie,formatter:Y=_e=>_e,hideUris:le,prefix:te=[]}=H,re=new Set([...J,...b,...G]),{__jbrowsefmt:ae,...pe}=X,we={...pe,...ae},fe=k(Object.entries(we).filter(([_e,W])=>W!==void 0&&!re.has(_e)),te);return i.default.createElement(i.default.Fragment,null,Object.entries(we).filter(([_e,W])=>W!==void 0&&!re.has(_e)).map(([_e,W])=>{const oe=E([...te,_e],ie);if(Array.isArray(W))return W.length>1&&W.every(Ce=>(0,d.default)(Ce))?i.default.createElement(T,{key:_e,name:_e,prefix:te,value:W}):i.default.createElement(P,{key:_e,name:_e,value:W,description:oe,prefix:te});if((0,d.default)(W)){const{omitSingleLevel:Ce,...ve}=H;return(0,p.isUriLocation)(W)?le?null:i.default.createElement(B,{key:_e,name:_e,prefix:te,value:W}):i.default.createElement($,{...ve,key:_e,attributes:W,descriptions:ie,prefix:[...te,_e]})}else return i.default.createElement(S,{key:_e,name:_e,value:Y(W,_e),description:oe,prefix:te,width:Math.min(fe,m)})}))}e.Attributes=$;const j=H=>{const{feature:X}=H;return i.default.createElement(y,{...H,title:"Attributes"},i.default.createElement($,{...H,attributes:X}))};e.BaseAttributes=j;function V(H){return Object.keys(H).length===0}function q(H,X,J){return[(0,v.ellipses)(`${H}`||`${X}`),`${J}`].filter(G=>!!G).join(" - ")}function Q(H){const{omit:X=[],model:J,feature:G,depth:ie=0}=H,{mate:Y,name:le="",id:te="",type:re="",subfeatures:ae}=G,pe=(0,p.getEnv)(J).pluginManager,we=(0,p.getSession)(J),fe=pe.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:we,feature:G,model:J});return i.default.createElement(y,{title:q(le,te,re)},i.default.createElement(s.Typography,null,"Core details"),i.default.createElement(O,{...H}),Y?i.default.createElement(i.default.Fragment,null,i.default.createElement(s.Divider,null),i.default.createElement(s.Typography,null,"Mate details"),i.default.createElement(O,{...H,feature:Y})):null,i.default.createElement(s.Divider,null),i.default.createElement(s.Typography,null,"Attributes"),i.default.createElement($,{attributes:G,...H,omit:X,omitSingleLevel:x}),i.default.createElement(a.ErrorBoundary,{FallbackComponent:({error:_e})=>i.default.createElement(h.ErrorMessage,{error:_e})},i.default.createElement(g.default,{...H})),fe?i.default.createElement(i.default.Fragment,null,i.default.createElement(s.Divider,null),i.default.createElement(y,{title:fe.name},i.default.createElement(fe.Component,{...H}))):null,ae!=null&&ae.length?i.default.createElement(y,{title:"Subfeatures",defaultExpanded:ie<1},ae.map(_e=>i.default.createElement(Q,{key:JSON.stringify(_e),feature:_e,model:J,depth:ie+1}))):null)}e.FeatureDetails=Q,e.default=(0,u.observer)(function({model:H}){const{featureData:X}=H;if(!X)return null;const J=JSON.parse(JSON.stringify(X,(G,ie)=>ie===void 0?null:ie));return V(J)?null:i.default.createElement(Q,{model:H,feature:J})})})(Hz);const Ypt=Wn(function({info:e,onClose:t}){return ke.createElement(Ca.Dialog,{onClose:()=>t(),open:!0,title:"Metadata"},ke.createElement(Up,null,ke.createElement(Hz.Attributes,{attributes:e})))}),h2=5,Th=3.5,n1=Th*2,Oh=600,Zpt=Wn(function({node:e,onClose:t,model:n}){var r,o;const{structures:i}=n,a=e?n.getRowData(e.name):void 0;return ke.createElement(ke.Fragment,null,ke.createElement(H_,{anchorReference:"anchorPosition",anchorPosition:{top:e.y,left:e.x},transitionDuration:0,keepMounted:!0,open:!!e,onClose:t},ke.createElement(dr,{dense:!0,disabled:!0},e.name),ke.createElement(dr,{dense:!0,onClick:()=>{n.setDialogComponent(Ypt,{info:n.getRowData(e.name)}),t()}},"More info..."),(r=i[e.name])===null||r===void 0?void 0:r.map(s=>n.selectedStructures.some(l=>l.id===e.name)?ke.createElement(dr,{key:JSON.stringify(s),dense:!0,onClick:()=>{n.removeStructureFromSelection({structure:s,id:e.name}),t()}},"Remove PDB from selection (",s.pdb,")"):ke.createElement(dr,{key:JSON.stringify(s),dense:!0,onClick:()=>{n.addStructureToSelection({structure:s,id:e.name}),t()}},"Add PDB to selection (",s.pdb,")")),(o=a==null?void 0:a.data.accession)===null||o===void 0?void 0:o.map(s=>ke.createElement(dr,{dense:!0,key:s,onClick:()=>{n.addUniprotTrack({name:a==null?void 0:a.data.name,accession:s}),t()}},"Open UniProt track (",s,")"))))}),Qpt=Wn(function({node:e,model:t,onClose:n}){return ke.createElement(H_,{anchorReference:"anchorPosition",anchorPosition:{left:e.x,top:e.y},transitionDuration:0,keepMounted:!0,open:!!e,onClose:n},ke.createElement(dr,{dense:!0,disabled:!0},e.name),ke.createElement(dr,{dense:!0,onClick:()=>{t.toggleCollapsed(e.id),n()}},t.collapsed.includes(e.id)?"Expand this node":"Collapse this node"),ke.createElement(dr,{dense:!0,onClick:()=>{t.showOnly===e.id?t.setShowOnly(void 0):t.setShowOnly(e.id),n()}},t.showOnly===e.id?"Disable show only this node":"Show only this node"))}),Jpt=Wn(function({model:e,offsetY:t}){const n=C.useRef(null),r=C.useRef(new Cle),o=C.useRef(null),[i,a]=C.useState(),[s,l]=C.useState(),[c,u]=C.useState(),{hierarchy:d,rowHeight:f,scrollY:p,treeWidth:h,showBranchLen:g,collapsed:v,margin:m,labelsAlignRight:b,noTree:x,blockSize:y,drawNodeBubbles:w,drawTree:_,treeAreaWidth:S,structures:P,highResScaleFactor:M}=e;C.useEffect(()=>{if(r.current.clear(),!n.current)return;const L=n.current.getContext("2d");if(!L)return;L.resetTransform(),L.scale(M,M),L.clearRect(0,0,h+Oh,y),L.translate(m.left,-t);const R=L.font;L.font=R.replace(/\d+px/,`${Math.max(8,f-8)}px`),!x&&_&&(d.links().forEach(({source:T,target:E})=>{const k=g?"len":"y",{x:B,[k]:$}=T,{x:j,[k]:V}=E,q=Math.min(B,j),Q=Math.max(B,j);t+y>=q&&Q>=t&&(L.beginPath(),L.moveTo($,B),L.lineTo($,j),L.lineTo(V,j),L.stroke())}),w&&d.descendants().forEach(T=>{const E=g?"len":"y",{x:k,[E]:B,data:$}=T,{id:j="",name:V=""}=$;k>t-h2&&k<t+y+h2&&(L.strokeStyle="black",L.fillStyle=v.includes(j)?"black":"white",L.beginPath(),L.arc(B,k,Th,0,2*Math.PI),L.fill(),L.stroke(),r.current.insert({minX:B-Th,maxX:B-Th+n1,minY:k-Th,maxY:k-Th+n1,branch:!0,id:j,name:V}))})),f>=10&&(b?(L.textAlign="right",L.setLineDash([1,3])):L.textAlign="start",d.leaves().forEach(T=>{const{x:E,y:k,data:{name:B,id:$},len:j}=T;if(E>t-h2&&E<t+y+h2){const V=E+f/4,q=g?j:k,{width:Q}=L.measureText(B),H=L.measureText("M").width,X=P[B];if(L.fillStyle=X?"blue":"black",!_&&!b)L.fillText(B,0,V),r.current.insert({minX:0,maxX:Q,minY:V-H,maxY:V,name:B,id:$});else if(b){const G=S-2-m.left;if(_&&!x){const{width:ie}=L.measureText(B);L.moveTo(q+Th+2,E),L.lineTo(G-2-ie,E),L.stroke()}L.fillText(B,G,V),r.current.insert({minX:S-m.left-Q,maxX:S-m.left,minY:V-H,maxY:V,name:B,id:$})}else L.fillText(B,q+n1,V),r.current.insert({minX:q+n1,maxX:q+n1+Q,minY:V-H,maxY:V,name:B,id:$})}}),L.setLineDash([]))},[v,f,m.left,d,t,h,g,x,y,w,_,b,S,P,M]),C.useEffect(()=>{const L=o.current;if(!L)return;const R=L.getContext("2d");if(R&&(R.resetTransform(),R.clearRect(0,0,h+Oh,y),R.translate(m.left,-t),c)){const{minX:T,maxX:E,minY:k,maxY:B}=c;R.fillStyle="rgba(0,0,0,0.1)",R.fillRect(T,k,E-T,B-k)}},[c,m.left,t,y,h]);function I(L){const R=L.nativeEvent.offsetX-m.left,T=L.nativeEvent.offsetY,[E]=r.current.search({minX:R,maxX:R+1,minY:T+t,maxY:T+1+t});return E&&E.branch?{...E,x:L.clientX,y:L.clientY}:void 0}function O(L){const R=L.nativeEvent.offsetX-m.left,T=L.nativeEvent.offsetY,[E]=r.current.search({minX:R,maxX:R+1,minY:T+t,maxY:T+1+t});return E&&!E.branch?{...E,x:L.clientX,y:L.clientY}:void 0}return ke.createElement(ke.Fragment,null,i!=null&&i.id?ke.createElement(Qpt,{node:i,model:e,onClose:()=>a(void 0)}):null,s!=null&&s.id?ke.createElement(Zpt,{node:s,model:e,onClose:()=>l(void 0)}):null,ke.createElement("canvas",{width:(h+Oh)*M,height:y*M,style:{width:h+Oh,height:y,top:p+t,left:0,position:"absolute"},onMouseMove:L=>{if(!n.current)return;const R=O(L)||I(L);n.current.style.cursor=R?"pointer":"default",u(O(L))},onClick:L=>{const{clientX:R,clientY:T}=L,E=I(L);E!=null&&E.id&&a({...E,x:R,y:T});const k=O(L);k!=null&&k.id&&l({...k,x:R,y:T})},ref:n}),ke.createElement("canvas",{style:{width:h+Oh,height:y,top:p+t,left:0,position:"absolute",pointerEvents:"none",zIndex:100},width:h+Oh,height:y,ref:o}))}),eht=Wn(function({model:e}){const t=C.useRef(null),n=C.useRef(!1),r=C.useRef(0),o=C.useRef(0),{treeWidth:i,height:a,blocksY:s}=e,[l,c]=C.useState(!1);C.useEffect(()=>{const p=t.current;if(!p)return;function h(g){const v=zz(g);r.current+=v.pixelY,n.current||(n.current=!0,requestAnimationFrame(()=>{e.doScrollY(-r.current),r.current=0,n.current=!1})),g.preventDefault()}return p.addEventListener("wheel",h),()=>{p.removeEventListener("wheel",h)}},[e]),C.useEffect(()=>{let p=()=>{};function h(v){v.preventDefault();const b=v.clientY-o.current;b&&(n.current||(n.current=!0,window.requestAnimationFrame(()=>{e.doScrollY(b),n.current=!1,o.current=v.clientY})))}function g(){o.current=0,l&&c(!1)}return l&&(window.addEventListener("mousemove",h,!0),window.addEventListener("mouseup",g,!0),p=()=>{window.removeEventListener("mousemove",h,!0),window.removeEventListener("mouseup",g,!0)}),p},[e,l]);function u(p){const h=p.target;h.draggable||h.dataset.resizer||p.button===0&&(o.current=p.clientY,c(!0))}function d(p){p.preventDefault(),c(!1)}function f(p){p.preventDefault()}return ke.createElement("div",{ref:t,onMouseDown:u,onMouseUp:d,onMouseLeave:f,style:{height:a,position:"relative",overflow:"hidden",width:i+Oh}},s.map(p=>ke.createElement(Jpt,{key:p,model:e,offsetY:p})))});var dde={exports:{}},tht={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},fde={exports:{}},nht=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},rht=nht,oht=Array.prototype.concat,iht=Array.prototype.slice,PW=fde.exports=function(t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];rht(i)?n=oht.call(n,iht.call(i)):n.push(i)}return n};PW.wrap=function(e){return function(){return e(PW(arguments))}};var aht=fde.exports,xx=tht,ZS=aht,pde=Object.hasOwnProperty,hde=Object.create(null);for(var OL in xx)pde.call(xx,OL)&&(hde[xx[OL]]=OL);var Ms=dde.exports={to:{},get:{}};Ms.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=Ms.get.hsl(e),r="hsl";break;case"hwb":n=Ms.get.hwb(e),r="hwb";break;default:n=Ms.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null};Ms.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^(\w+)$/,a=[0,0,0,1],s,l,c;if(s=e.match(n)){for(c=s[2],s=s[1],l=0;l<3;l++){var u=l*2;a[l]=parseInt(s.slice(u,u+2),16)}c&&(a[3]=parseInt(c,16)/255)}else if(s=e.match(t)){for(s=s[1],c=s[3],l=0;l<3;l++)a[l]=parseInt(s[l]+s[l],16);c&&(a[3]=parseInt(c+c,16)/255)}else if(s=e.match(r)){for(l=0;l<3;l++)a[l]=parseInt(s[l+1],0);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else if(s=e.match(o)){for(l=0;l<3;l++)a[l]=Math.round(parseFloat(s[l+1])*2.55);s[4]&&(s[5]?a[3]=parseFloat(s[4])*.01:a[3]=parseFloat(s[4]))}else return(s=e.match(i))?s[1]==="transparent"?[0,0,0,0]:pde.call(xx,s[1])?(a=xx[s[1]],a[3]=1,a):null:null;for(l=0;l<3;l++)a[l]=dp(a[l],0,255);return a[3]=dp(a[3],0,1),a};Ms.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),o=(parseFloat(n[1])%360+360)%360,i=dp(parseFloat(n[2]),0,100),a=dp(parseFloat(n[3]),0,100),s=dp(isNaN(r)?1:r,0,1);return[o,i,a,s]}return null};Ms.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),o=(parseFloat(n[1])%360+360)%360,i=dp(parseFloat(n[2]),0,100),a=dp(parseFloat(n[3]),0,100),s=dp(isNaN(r)?1:r,0,1);return[o,i,a,s]}return null};Ms.to.hex=function(){var e=ZS(arguments);return"#"+m2(e[0])+m2(e[1])+m2(e[2])+(e[3]<1?m2(Math.round(e[3]*255)):"")};Ms.to.rgb=function(){var e=ZS(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Ms.to.rgb.percent=function(){var e=ZS(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"};Ms.to.hsl=function(){var e=ZS(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Ms.to.hwb=function(){var e=ZS(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Ms.to.keyword=function(e){return hde[e.slice(0,3)]};function dp(e,t,n){return Math.min(Math.max(t,e),n)}function m2(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var sht=dde.exports,mde={exports:{}},lht={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},sm=lht,gde={};for(var IL in sm)sm.hasOwnProperty(IL)&&(gde[sm[IL]]=IL);var jt=mde.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var Fa in jt)if(jt.hasOwnProperty(Fa)){if(!("channels"in jt[Fa]))throw new Error("missing channels property: "+Fa);if(!("labels"in jt[Fa]))throw new Error("missing channel labels property: "+Fa);if(jt[Fa].labels.length!==jt[Fa].channels)throw new Error("channel and label counts mismatch: "+Fa);var cht=jt[Fa].channels,uht=jt[Fa].labels;delete jt[Fa].channels,delete jt[Fa].labels,Object.defineProperty(jt[Fa],"channels",{value:cht}),Object.defineProperty(jt[Fa],"labels",{value:uht})}jt.rgb.hsl=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=i-o,s,l,c;return i===o?s=0:t===i?s=(n-r)/a:n===i?s=2+(r-t)/a:r===i&&(s=4+(t-n)/a),s=Math.min(s*60,360),s<0&&(s+=360),c=(o+i)/2,i===o?l=0:c<=.5?l=a/(i+o):l=a/(2-i-o),[s,l*100,c*100]};jt.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(a,s,l),u=c-Math.min(a,s,l),d=function(f){return(c-f)/6/u+1/2};return u===0?o=i=0:(i=u/c,t=d(a),n=d(s),r=d(l),a===c?o=r-n:s===c?o=1/3+t-r:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[o*360,i*100,c*100]};jt.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2],o=jt.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[o,i*100,r*100]};jt.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o,i,a,s;return s=Math.min(1-t,1-n,1-r),o=(1-t-s)/(1-s)||0,i=(1-n-s)/(1-s)||0,a=(1-r-s)/(1-s)||0,[o*100,i*100,a*100,s*100]};function dht(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}jt.rgb.keyword=function(e){var t=gde[e];if(t)return t;var n=1/0,r;for(var o in sm)if(sm.hasOwnProperty(o)){var i=sm[o],a=dht(e,i);a<n&&(n=a,r=o)}return r};jt.keyword.rgb=function(e){return sm[e]};jt.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=t*.4124+n*.3576+r*.1805,i=t*.2126+n*.7152+r*.0722,a=t*.0193+n*.1192+r*.9505;return[o*100,i*100,a*100]};jt.rgb.lab=function(e){var t=jt.rgb.xyz(e),n=t[0],r=t[1],o=t[2],i,a,s;return n/=95.047,r/=100,o/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=116*r-16,a=500*(n-r),s=200*(r-o),[i,a,s]};jt.hsl.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,o,i,a,s,l;if(n===0)return l=r*255,[l,l,l];r<.5?i=r*(1+n):i=r+n-r*n,o=2*r-i,s=[0,0,0];for(var c=0;c<3;c++)a=t+1/3*-(c-1),a<0&&a++,a>1&&a--,6*a<1?l=o+(i-o)*6*a:2*a<1?l=i:3*a<2?l=o+(i-o)*(2/3-a)*6:l=o,s[c]=l*255;return s};jt.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01),a,s;return r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i,s=(r+n)/2,a=r===0?2*o/(i+o):2*n/(r+n),[t,a*100,s*100]};jt.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*i),l=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}};jt.hsv.hsl=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=Math.max(r,.01),i,a,s;return s=(2-n)*r,i=(2-n)*o,a=n*o,a/=i<=1?i:2-i,a=a||0,s/=2,[t,a*100,s*100]};jt.hwb.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,o=n+r,i,a,s,l;o>1&&(n/=o,r/=o),i=Math.floor(6*t),a=1-r,s=6*t-i,i&1&&(s=1-s),l=n+s*(a-n);var c,u,d;switch(i){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l;break}return[c*255,u*255,d*255]};jt.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100,i,a,s;return i=1-Math.min(1,t*(1-o)+o),a=1-Math.min(1,n*(1-o)+o),s=1-Math.min(1,r*(1-o)+o),[i*255,a*255,s*255]};jt.xyz.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o,i,a;return o=t*3.2406+n*-1.5372+r*-.4986,i=t*-.9689+n*1.8758+r*.0415,a=t*.0557+n*-.204+r*1.057,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[o*255,i*255,a*255]};jt.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2],o,i,a;return t/=95.047,n/=100,r/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=116*n-16,i=500*(t-n),a=200*(n-r),[o,i,a]};jt.lab.xyz=function(e){var t=e[0],n=e[1],r=e[2],o,i,a;i=(t+16)/116,o=n/500+i,a=i-r/200;var s=Math.pow(i,3),l=Math.pow(o,3),c=Math.pow(a,3);return i=s>.008856?s:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,a=c>.008856?c:(a-16/116)/7.787,o*=95.047,i*=100,a*=108.883,[o,i,a]};jt.lab.lch=function(e){var t=e[0],n=e[1],r=e[2],o,i,a;return o=Math.atan2(r,n),i=o*360/2/Math.PI,i<0&&(i+=360),a=Math.sqrt(n*n+r*r),[t,a,i]};jt.lch.lab=function(e){var t=e[0],n=e[1],r=e[2],o,i,a;return a=r/360*2*Math.PI,o=n*Math.cos(a),i=n*Math.sin(a),[t,o,i]};jt.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],o=1 in arguments?arguments[1]:jt.rgb.hsv(e)[2];if(o=Math.round(o/50),o===0)return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return o===2&&(i+=60),i};jt.hsv.ansi16=function(e){return jt.rgb.ansi16(jt.hsv.rgb(e),e[2])};jt.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var o=16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return o};jt.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var n=(~~(e>50)+1)*.5,r=(t&1)*n*255,o=(t>>1&1)*n*255,i=(t>>2&1)*n*255;return[r,o,i]};jt.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var n,r=Math.floor(e/36)/5*255,o=Math.floor((n=e%36)/6)/5*255,i=n%6/5*255;return[r,o,i]};jt.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),n=t.toString(16).toUpperCase();return"000000".substring(n.length)+n};jt.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];t[0].length===3&&(n=n.split("").map(function(s){return s+s}).join(""));var r=parseInt(n,16),o=r>>16&255,i=r>>8&255,a=r&255;return[o,i,a]};jt.rgb.hcg=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),a=o-i,s,l;return a<1?s=i/(1-a):s=0,a<=0?l=0:o===t?l=(n-r)/a%6:o===n?l=2+(r-t)/a:l=4+(t-n)/a+4,l/=6,l%=1,[l*360,a*100,s*100]};jt.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,o=0;return n<.5?r=2*t*n:r=2*t*(1-n),r<1&&(o=(n-.5*r)/(1-r)),[e[0],r*100,o*100]};jt.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],r*100,o*100]};jt.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];var o=[0,0,0],i=t%1*6,a=i%1,s=1-a,l=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return l=(1-n)*r,[(n*o[0]+l)*255,(n*o[1]+l)*255,(n*o[2]+l)*255]};jt.hcg.hsv=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t),o=0;return r>0&&(o=t/r),[e[0],o*100,r*100]};jt.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100,r=n*(1-t)+.5*t,o=0;return r>0&&r<.5?o=t/(2*r):r>=.5&&r<1&&(o=t/(2*(1-r))),[e[0],o*100,r*100]};jt.hcg.hwb=function(e){var t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};jt.hwb.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1-n,o=r-t,i=0;return o<1&&(i=(r-o)/(1-o)),[e[0],o*100,i*100]};jt.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};jt.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};jt.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};jt.gray.hsl=jt.gray.hsv=function(e){return[0,0,e[0]]};jt.gray.hwb=function(e){return[0,100,e[0]]};jt.gray.cmyk=function(e){return[0,0,0,e[0]]};jt.gray.lab=function(e){return[e[0],0,0]};jt.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,n=(t<<16)+(t<<8)+t,r=n.toString(16).toUpperCase();return"000000".substring(r.length)+r};jt.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]};var vde=mde.exports,$A=vde;function fht(){for(var e={},t=Object.keys($A),n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function pht(e){var t=fht(),n=[e];for(t[e].distance=0;n.length;)for(var r=n.pop(),o=Object.keys($A[r]),i=o.length,a=0;a<i;a++){var s=o[a],l=t[s];l.distance===-1&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(s))}return t}function hht(e,t){return function(n){return t(e(n))}}function mht(e,t){for(var n=[t[e].parent,e],r=$A[t[e].parent][e],o=t[e].parent;t[o].parent;)n.unshift(t[o].parent),r=hht($A[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}var ght=function(e){for(var t=pht(e),n={},r=Object.keys(t),o=r.length,i=0;i<o;i++){var a=r[i],s=t[a];s.parent!==null&&(n[a]=mht(a,t))}return n},V5=vde,vht=ght,mv={},bht=Object.keys(V5);function yht(e){var t=function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function xht(e){var t=function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var r=e(n);if(typeof r=="object")for(var o=r.length,i=0;i<o;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}bht.forEach(function(e){mv[e]={},Object.defineProperty(mv[e],"channels",{value:V5[e].channels}),Object.defineProperty(mv[e],"labels",{value:V5[e].labels});var t=vht(e),n=Object.keys(t);n.forEach(function(r){var o=t[r];mv[e][r]=xht(o),mv[e][r].raw=yht(o)})});var wht=mv,U1=sht,Cs=wht,E6=[].slice,bde=["keyword","gray","hex"],U5={};Object.keys(Cs).forEach(function(e){U5[E6.call(Cs[e].labels).sort().join("")]=e});var DA={};function ki(e,t){if(!(this instanceof ki))return new ki(e,t);if(t&&t in bde&&(t=null),t&&!(t in Cs))throw new Error("Unknown model: "+t);var n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof ki)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var o=U1.get(e);if(o===null)throw new Error("Unable to parse color from string: "+e);this.model=o.model,r=Cs[this.model].channels,this.color=o.value.slice(0,r),this.valpha=typeof o.value[r]=="number"?o.value[r]:1}else if(e.length){this.model=t||"rgb",r=Cs[this.model].channels;var i=E6.call(e,0,r);this.color=G5(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var a=Object.keys(e);"alpha"in e&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var s=a.sort().join("");if(!(s in U5))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=U5[s];var l=Cs[this.model].labels,c=[];for(n=0;n<l.length;n++)c.push(e[l[n]]);this.color=G5(c)}if(DA[this.model])for(r=Cs[this.model].channels,n=0;n<r;n++){var u=DA[this.model][n];u&&(this.color[n]=u(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ki.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in U1.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var n=t.valpha===1?t.color:t.color.concat(this.valpha);return U1.to[t.model](n)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:t.color.concat(this.valpha);return U1.to.rgb.percent(n)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=Cs[this.model].channels,n=Cs[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new ki(this.color.map(Sht(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new ki(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:fo("rgb",0,Go(255)),green:fo("rgb",1,Go(255)),blue:fo("rgb",2,Go(255)),hue:fo(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:fo("hsl",1,Go(100)),lightness:fo("hsl",2,Go(100)),saturationv:fo("hsv",1,Go(100)),value:fo("hsv",2,Go(100)),chroma:fo("hcg",1,Go(100)),gray:fo("hcg",2,Go(100)),white:fo("hwb",1,Go(100)),wblack:fo("hwb",2,Go(100)),cyan:fo("cmyk",0,Go(100)),magenta:fo("cmyk",1,Go(100)),yellow:fo("cmyk",2,Go(100)),black:fo("cmyk",3,Go(100)),x:fo("xyz",0,Go(100)),y:fo("xyz",1,Go(100)),z:fo("xyz",2,Go(100)),l:fo("lab",0,Go(100)),a:fo("lab",1),b:fo("lab",2),keyword:function(e){return arguments.length?new ki(e):Cs[this.model].keyword(this.color)},hex:function(e){return arguments.length?new ki(e):U1.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return ki.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),o=t===void 0?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a===-1?i:(i+a)/(1+i*a))+1)/2,l=1-s;return ki.rgb(s*n.red()+l*r.red(),s*n.green()+l*r.green(),s*n.blue()+l*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};Object.keys(Cs).forEach(function(e){if(bde.indexOf(e)===-1){var t=Cs[e].channels;ki.prototype[e]=function(){if(this.model===e)return new ki(this);if(arguments.length)return new ki(arguments,e);var n=typeof arguments[t]=="number"?t:this.valpha;return new ki(Cht(Cs[this.model][e].raw(this.color)).concat(n),e)},ki[e]=function(n){return typeof n=="number"&&(n=G5(E6.call(arguments),t)),new ki(n,e)}}});function _ht(e,t){return Number(e.toFixed(t))}function Sht(e){return function(t){return _ht(t,e)}}function fo(e,t,n){return e=Array.isArray(e)?e:[e],e.forEach(function(r){(DA[r]||(DA[r]=[]))[t]=n}),e=e[0],function(r){var o;return arguments.length?(n&&(r=n(r)),o=this[e](),o.color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function Go(e){return function(t){return Math.max(0,Math.min(e,t))}}function Cht(e){return Array.isArray(e)?e:[e]}function G5(e,t){for(var n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var Pht=ki;const yde=Pc(Pht);function Mht(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aht(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function W5(e,t){return Object.fromEntries(Object.entries(e).map(t))}function T6(e,t="node",n=0){var r;const o=`${t}-${n}`;return{...e,id:o,name:e.name||o,branchset:((r=e.branchset)===null||r===void 0?void 0:r.map((i,a)=>T6(i,`${o}-${a}`,n+1)))||[]}}function xde(e,t){return W5(e,([n,r])=>[n,t.palette.getContrastText(yde(r).hex())])}function Eht(e){return e==null?void 0:e.split(`
`).map(t=>t.trim()).filter(t=>!!t&&!t.startsWith("#")).map(t=>{const[n,r,o,i,a,s,l,c,u]=t.split("	");return{seq_id:n,source:r,type:o,start:+i,end:+a,score:+s,strand:l,phase:c,...Object.fromEntries(u.split(";").map(d=>d.trim()).filter(d=>!!d).map(d=>d.split("=")).map(([d,f])=>[d.trim(),decodeURIComponent(f).trim().split(",").join(" ")]))}})}function MW(e,t){let n="",r=0;for(let o=0;o<t.length;o++)o===e[r]?r++:n+=t[o];return n}function wde(e,t,n){var r;e.len=(t+=Math.max(e.data.length||0,0))*n,(r=e.children)===null||r===void 0||r.forEach(o=>{wde(o,t,n)})}function _de(e){return(e.data.length||1)+(e.children&&Aht(e.children,_de)||0)}function Sde(e){e.children&&(e._children=e.children,e._children.forEach(Sde),e.children=null)}function AW(e,t,n){return Math.min(Math.max(t,e),n)}const Tht={clustal:{G:"orange",P:"orange",S:"orange",T:"orange",H:"red",K:"red",R:"red",F:"blue",W:"blue",Y:"blue",I:"green",L:"green",M:"green",V:"green"},lesk:{G:"orange",A:"orange",S:"orange",T:"orange",C:"green",V:"green",I:"green",L:"green",P:"green",F:"green",Y:"green",M:"green",W:"green",N:"magenta",Q:"magenta",H:"magenta",D:"red",E:"red",K:"blue",R:"blue"},maeditor:{A:"lightgreen",G:"lightgreen",C:"green",D:"darkgreen",E:"darkgreen",N:"darkgreen",Q:"darkgreen",I:"blue",L:"blue",M:"blue",V:"blue",F:"#c8a2c8",W:"#c8a2c8",Y:"#c8a2c8",H:"darkblue",K:"orange",R:"orange",P:"pink",S:"red",T:"red"},percent_identity_dynamic:{},flower:{A:"#b18a51",C:"#ff5701",D:"#01a578",E:"#2da0a1",F:"#fa559d",G:"#b1c23c",H:"#0194f9",I:"#f27663",K:"#7fc3d7",L:"#df6e75",M:"#fe9daf",N:"#0bcec6",P:"#4fa32a",Q:"#7295ae",R:"#83bff1",S:"#b4bd9b",T:"#d2b576",V:"#fd997b",W:"#ff2ded",Y:"#c96ecf"},rainbow_dna:{A:"#3737f5",C:"#37f537",G:"#f5f537",T:"#f53737",U:"#f53737"},clustalx_protein:{A:"#197fe5",C:"#e57f7f",D:"#cc4ccc",E:"#cc4ccc",F:"#197fe5",G:"#e5994c",H:"#19b2b2",I:"#197fe5",K:"#e53319",L:"#197fe5",M:"#197fe5",N:"#19cc19",P:"#cccc00",Q:"#19cc19",R:"#e53319",S:"#19cc19",T:"#19cc19",V:"#197fe5",W:"#197fe5",Y:"#19b2b2"},clustalx_protein_dynamic:{},clustalx_dna:{A:"#e53319",C:"#197fe5",G:"#e5994c",T:"#19cc19",U:"#19cc19"},jalview_buried:{A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},jalview_hydrophobicity:{A:"#ad0052",R:"#0000ff",N:"#0c00f3",D:"#0c00f3",C:"#c2003d",Q:"#0c00f3",E:"#0c00f3",G:"#6a0095",H:"#1500ea",I:"#ff0000",L:"#ea0015",K:"#0000ff",M:"#b0004f",F:"#cb0034",P:"#4600b9",S:"#5e00a1",T:"#61009e",W:"#5b00a4",Y:"#4f00b0",V:"#f60009",B:"#0c00f3",X:"#680097",Z:"#0c00f3"},jalview_prophelix:{A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},jalview_propstrand:{A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},jalview_propturn:{A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"},jalview_taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00"},jalview_zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf"},cinema:{H:"blue",K:"blue",R:"blue",D:"red",E:"red",S:"green",T:"green",N:"green",Q:"green",A:"white",V:"white",L:"white",I:"white",M:"white",F:"magenta",W:"magenta",Y:"magenta",P:"brown",G:"brown",C:"yellow",B:"gray",Z:"gray",X:"gray","-":"gray",".":"gray"}},Cde=W5(Tht,([e,t])=>[e,W5(t,([n,r])=>[n,yde(r).hex()])]);function Oht(e,t,n,r){const o=Object.values(e).reduce((E,k)=>E+k,0),i=t.columns[n][r],{W:a=0,L:s=0,V:l=0,I:c=0,M:u=0,A:d=0,F:f=0,C:p=0,H:h=0,P:g=0,R:v=0,K:m=0,Q:b=0,E:x=0,D:y=0,T:w=0,S:_=0,G:S=0,Y:P=0,N:M=0}=e,I=a+s+l+c+u+d+f+p+h+g+P,O=m+v,L=b+x,R=x+y,T=w+_;if(I/o>.6&&(i==="W"||i==="L"||i==="V"||i==="A"||i==="I"||i==="M"||i==="F"||i==="C"))return"rgb(128,179,230)";if((i==="K"||i==="R")&&(O/o>.6||m/o>.8||v/o>.8||b/o>.8))return"#d88";if(i==="E"&&(O/o>.6||L/o>.5||x/o>.8||b/o>.8||y/o>.8))return"rgb(192, 72, 192)";if(i==="D"&&(O/o>.6||R/o>.5||m/o>.8||v/o>.8||b/o>.8))return"rgb(204, 77, 204)";if(i==="N"&&(M/o>.5||P/o>.85)||i==="Q"&&(O/o>.6||L/o>.6||b/o>.85||x/o>.85||m/o>.85||v/o>.85))return"#8f8";if((i==="S"||i==="T")&&(I/o>.6||T/o>.5||_/o>.85||w/o>.85))return"rgb(26,204,26)";if(i==="C"&&p/o>.85)return"rgb(240, 128, 128)";if(i==="G"&&S/o>0)return"rgb(240, 144, 72)";if(i==="P"&&g/o>0)return"rgb(204, 204, 0)";if((i==="H"||i==="Y")&&(I/o>.6||a>.85||P>.85||d>.85||p>.85||g>.85||b>.85||f>.85||h>.85||c>.85||s>.85||u>.85||l>.85))return"rgb(26, 179, 179)"}function Iht(e,t,n,r){const o=Object.values(e).reduce((d,f)=>d+f,0),i=t.columns[n][r],a=Object.entries(e);let s=0,l="";for(let d=0;d<a.length;d++)a[d][1]>s&&a[d][0]!=="-"&&(l=a[d][0],s=a[d][1]);const c=s/o,u=`hsl(240, 30%, ${100*Math.max(1-s/o/3,.3)}%)`;if(c>.4&&i===l)return u}const kht=Wn(function({model:e,offsetX:t,offsetY:n}){const{MSA:r,colWidth:o,bgColor:i,columns:a,rowHeight:s,scrollY:l,scrollX:c,hierarchy:u,colorScheme:d,colorSchemeName:f,blockSize:p,highResScaleFactor:h,colStats:g}=e,v=Ir(),m=C.useMemo(()=>xde(d,v),[d,v]),b=C.useRef(null);return C.useEffect(()=>{if(!b.current)return;const x=b.current.getContext("2d");if(!x)return;x.resetTransform(),x.scale(h,h),x.clearRect(0,0,p,p),x.translate(-t,s/2-n),x.textAlign="center",x.font=x.font.replace(/\d+px/,`${Math.max(8,s-8)}px`);const y=u.leaves(),w=p,_=Math.max(0,Math.floor((n-s)/s)),S=Math.max(0,Math.ceil((n+w+s)/s)),P=Math.max(0,Math.floor(t/o)),M=Math.max(0,Math.ceil((t+w)/o)),I=y.slice(_,S);I.forEach(O=>{var L;const{x:R,data:{name:T}}=O,E=(L=a[T])===null||L===void 0?void 0:L.slice(P,M);for(let k=0;k<(E==null?void 0:E.length);k++){const B=E[k],$=f==="clustalx_protein_dynamic"?Oht(g[P+k],e,T,P+k):f==="percent_identity_dynamic"?Iht(g[P+k],e,T,P+k):d[B.toUpperCase()];if(i){const j=k*o+t-t%o;x.fillStyle=$||"white",x.fillRect(j,R-s,o,s)}}}),s>=10&&o>=s/2&&I.forEach(O=>{var L;const{x:R,data:{name:T}}=O,E=(L=a[T])===null||L===void 0?void 0:L.slice(P,M);for(let k=0;k<(E==null?void 0:E.length);k++){const B=E[k],$=d[B.toUpperCase()],j=m[B.toUpperCase()]||"black",V=k*o+t-t%o;x.fillStyle=i?j:$||"black",x.fillText(B,V+o/2,R-s/4)}})},[r,h,a,d,m,i,s,o,u,t,n,p]),ke.createElement("canvas",{ref:b,onMouseMove:x=>{if(!b.current)return;const{left:y,top:w}=b.current.getBoundingClientRect(),_=x.clientX-y,S=x.clientY-w;e.setMousePos(Math.floor((_+t)/o)+1,Math.floor((S+n)/s))},onMouseLeave:()=>e.setMousePos(),width:p*h,height:p*h,style:{position:"absolute",top:l+n,left:c+t,width:p,height:p}})}),Rht=Wn(function({model:e}){const{MSA:t,msaFilehandle:n,height:r,msaAreaWidth:o,blocks2d:i}=e,a=C.useRef(null),s=C.useRef(!1),l=C.useRef(0),c=C.useRef(0),u=C.useRef(0),d=C.useRef(0),[f,p]=C.useState(!1);return C.useEffect(()=>{const h=a.current;if(!h)return;function g(v){const m=zz(v);l.current+=m.pixelX,c.current+=m.pixelY,s.current||(s.current=!0,requestAnimationFrame(()=>{e.doScrollX(-l.current),e.doScrollY(-c.current),l.current=0,c.current=0,s.current=!1})),v.preventDefault()}return h.addEventListener("wheel",g),()=>{h.removeEventListener("wheel",g)}},[e]),C.useEffect(()=>{let h=()=>{};function g(m){m.preventDefault();const b=m.clientX,x=m.clientY,y=b-u.current,w=x-d.current;(y||w)&&(s.current||(s.current=!0,window.requestAnimationFrame(()=>{e.doScrollX(y),e.doScrollY(w),s.current=!1,u.current=m.clientX,d.current=m.clientY})))}function v(){u.current=0,f&&p(!1)}return f&&(window.addEventListener("mousemove",g,!0),window.addEventListener("mouseup",v,!0),h=()=>{window.removeEventListener("mousemove",g,!0),window.removeEventListener("mouseup",v,!0)}),h},[e,f]),ke.createElement("div",{ref:a,onMouseDown:h=>{const g=h.target;g.draggable||g.dataset.resizer||h.button===0&&(u.current=h.clientX,d.current=h.clientY,p(!0))},onMouseUp:h=>{h.preventDefault(),p(!1)},onMouseLeave:h=>{h.preventDefault()},style:{position:"relative",height:r,width:o,overflow:"hidden"}},!t&&!n?null:t?i.map(([h,g])=>ke.createElement(kht,{key:`${h}_${g}`,model:e,offsetX:h,offsetY:g})):ke.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"}},ke.createElement(Hj,null),ke.createElement(On,null,"Loading...")))});function Lht(e,t,n){e=Math.abs(e);const r=t*e;let i=10**parseInt(Number(r).toExponential().split(/e/i)[1],10);for(;i<r&&(i*=2,!(i>=r));)i*=2.5;i=Math.max(i,5);const a=i/e;let s=0;return!(i%10)&&a/10>=n?s=i/10:!(i%5)&&a/5>=n?s=i/5:!(i%2)&&a/2>=n&&(s=i/2),{majorPitch:i,minorPitch:s}}function $ht(e,t,n,r=!0,o=!0){const i=Lht(n,60,15);let a=e,s=t;if(a===null||s===null)return[];n<0&&([a,s]=[s,a]),a-=Math.abs(20*n),s+=Math.abs(20*n)+1;const l=i.minorPitch||i.majorPitch;let c=0;const u=[];for(let d=Math.ceil(a/l)*l;d<s;d+=l)o&&d%(i.majorPitch*2)?(u.push({type:"minor",base:d-1,index:c}),c+=1):r&&!(d%(i.majorPitch*2))&&(u.push({type:"major",base:d-1,index:c}),c+=1);return u}function Pde(e){return e<999?String(e):`${Pde(~~(e/1e3))},${`00${~~(e%1e3)}`.slice(-3,-3+3)}`}const Dht=ig()({majorTickLabel:{fontSize:"11px"},majorTick:{stroke:"#555"},minorTick:{stroke:"#999"}});function Fht({start:e,end:t,bpPerPx:n,reversed:r,major:o,minor:i}){const{classes:a}=Dht(),s=$ht(e,t,n,o,i);return ke.createElement(ke.Fragment,null,s.map(l=>{const c=(r?t-l.base:l.base-e)/n;return ke.createElement("line",{key:l.base,x1:c,x2:c,y1:11,y2:l.type==="major"?11+6:11+4,strokeWidth:1,stroke:l.type==="major"?"#555":"#999",className:l.type==="major"?a.majorTick:a.minorTick,"data-bp":l.base})}),s.filter(l=>l.type==="major").map(l=>{const c=(r?t-l.base:l.base-e)/n;return ke.createElement("text",{x:c,y:10,key:`label-${l.base}`,textAnchor:"middle",style:{fontSize:"11px"},className:a.majorTickLabel},Pde(l.base+1))}))}const Nht=Wn(function({model:e}){const{MSA:t,colWidth:n,msaAreaWidth:r,resizeHandleWidth:o,scrollX:i,blocksX:a,blockSize:s}=e,l=C.useRef(null),c=a[0];return t?ke.createElement("div",{ref:l,style:{position:"relative",width:r,cursor:"crosshair",overflow:"hidden",height:20,background:"#ccc"}},ke.createElement("svg",{style:{width:a.length*s,position:"absolute",left:i+c+o,pointerEvents:"none"}},ke.createElement(Fht,{key:c,start:c/n,end:c/n+s*a.length/n,bpPerPx:1/n}))):null}),Bht=Wn(({model:e})=>{const{treeWidth:t}=e;return ke.createElement("div",{style:{width:t}})}),jht=ig()(e=>({field:{margin:e.spacing(4)}})),zht=Wn(function({model:e,onClose:t,open:n}){const{classes:r}=jht(),{colorSchemeName:o,noTree:i}=e,[a,s]=C.useState(`${e.rowHeight}`),[l,c]=C.useState(`${e.colWidth}`),[u,d]=C.useState(`${e.treeWidth}`);function f(v){return Number.isNaN(+v)||+v<0}const p=f(a),h=f(l),g=f(u);return ke.createElement(Ca.Dialog,{onClose:()=>t(),open:n,title:"Settings"},ke.createElement(Up,null,ke.createElement(jf,{control:ke.createElement(Bf,{checked:e.showBranchLen,onChange:()=>e.toggleBranchLen()}),label:"Show branch length"}),ke.createElement(jf,{control:ke.createElement(Bf,{checked:e.bgColor,onChange:()=>e.toggleBgColor()}),label:"Color background"}),ke.createElement(jf,{control:ke.createElement(Bf,{checked:e.drawNodeBubbles,onChange:()=>e.toggleNodeBubbles()}),label:"Draw node bubbles"}),ke.createElement(jf,{control:ke.createElement(Bf,{checked:e.drawTree,onChange:()=>e.toggleDrawTree()}),label:"Draw tree (if available)"}),ke.createElement(jf,{control:ke.createElement(Bf,{checked:e.labelsAlignRight,onChange:()=>e.toggleLabelsAlignRight()}),label:"Labels align right (note: labels may draw over tree, but can adjust tree width or tree area width in UI)"}),ke.createElement(cu,{className:r.field,label:"Row height (px)",value:a,error:p,onChange:v=>s(v.target.value)}),ke.createElement(cu,{className:r.field,label:"Column width (px)",value:l,error:h,onChange:v=>c(v.target.value)}),ke.createElement("br",null),i?null:ke.createElement(cu,{className:r.field,label:"Tree width (px)",value:u,error:g,onChange:v=>d(v.target.value)}),ke.createElement("br",null),ke.createElement(cu,{select:!0,label:"Color scheme",value:o,onChange:v=>e.setColorSchemeName(v.target.value)},Object.keys(Cde).map(v=>ke.createElement(dr,{key:v,value:v},v))),ke.createElement(z_,null,ke.createElement(fc,{disabled:p||h||g,onClick:()=>{e.setRowHeight(+a),e.setColWidth(+l),i||e.setTreeWidth(+u),t()},variant:"contained",color:"primary"},"Submit"))))}),Hht="2.0.0";function Vht({onClose:e,open:t}){return ke.createElement(Ca.Dialog,{onClose:()=>e(),open:t,title:"About this plugin"},ke.createElement(Up,null,ke.createElement(On,null,"MSAView ",Hht," (",ke.createElement(If,{href:"https://github.com/gmod/jbrowse-plugin-msaview"},"Github"),")"),ke.createElement("ul",null,ke.createElement("li",null,ke.createElement(On,null,"We use some color schemes from the"," ",ke.createElement(If,{href:"https://github.com/biotite-dev/biotite"},"biotite")," ","project, and their license is reproduced"," ",ke.createElement(If,{href:"https://github.com/biotite-dev/biotite/blob/master/LICENSE.rst"},"here"))),ke.createElement("li",null,ke.createElement(On,null,"See this page for some information on jalview colorings"," ",ke.createElement(If,{href:"https://www.jalview.org/help/html/colourSchemes/"},"here"))),ke.createElement("li",null,ke.createElement(On,null,"See this page for some info on the clustal, cinema, maeditor, and lesk color schemes"," ",ke.createElement(If,{href:"http://www.bioinformatics.nl/~berndb/aacolour.html"},"here"))),ke.createElement("li",null,ke.createElement(On,null,"See this paper about the flower color scheme"," ",ke.createElement(If,{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7245768/"},"here"))))))}const Uht=Wn(function({model:e,onClose:t,open:n}){const{header:r}=e;return ke.createElement(Ca.Dialog,{onClose:()=>t(),open:n,title:"Metadata"},ke.createElement(Up,null,ke.createElement(Hz.Attributes,{attributes:r})))}),Ght=Wn(function({model:e,onClose:t,open:n}){const{tracks:r}=e;return ke.createElement(Ca.Dialog,{onClose:()=>t(),open:n,title:"Add track"},ke.createElement(Up,null,ke.createElement(On,null,"Open relevant per-alignment tracks e.g. protein domains"),ke.createElement(Gj,null,r.map(o=>ke.createElement(jf,{key:o.model.id,control:ke.createElement(Bf,{checked:!e.turnedOffTracks.has(o.model.id),onChange:()=>{e.toggleTrack(o.model.id)}}),label:o.model.name}))),ke.createElement(z_,null,ke.createElement(fc,{onClick:()=>t(),variant:"contained",color:"primary"},"Close"))))});var O6={},Wht=sr;Object.defineProperty(O6,"__esModule",{value:!0});var Mde=O6.default=void 0,qht=Wht(bo()),Xht=N,Kht=(0,qht.default)((0,Xht.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"}),"FolderOpen");Mde=O6.default=Kht;var I6={},Yht=sr;Object.defineProperty(I6,"__esModule",{value:!0});var Ade=I6.default=void 0,Zht=Yht(bo()),Qht=N,Jht=(0,Zht.default)((0,Qht.jsx)("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List");Ade=I6.default=Jht;const emt=Wn(({model:e})=>{const{mouseOverRowName:t,mouseCol:n}=e;return ke.createElement("div",null,ke.createElement(On,{display:"inline"},"Row name: ",t),ke.createElement("span",{style:{marginLeft:10}}),ke.createElement(On,{display:"inline"},"Position: ",n))}),tmt=Wn(({model:e})=>{const[t,n]=C.useState(!1),[r,o]=C.useState(!1),[i,a]=C.useState(!1),[s,l]=C.useState(!1),{currentAlignment:c,alignmentNames:u}=e;return ke.createElement("div",{style:{display:"flex"}},ke.createElement(io,{onClick:async()=>{try{e.setData({tree:"",msa:""}),await e.setTreeFilehandle(void 0),await e.setMSAFilehandle(void 0),e.setScrollY(0),e.setScrollX(0),e.setCurrentAlignment(0)}catch(d){console.error(d),e.setError(d)}}},ke.createElement(Mde,null)),ke.createElement(io,{onClick:()=>n(!0)},ke.createElement(lde,null)),ke.createElement(io,{onClick:()=>a(!0)},ke.createElement(jz,null)),ke.createElement(io,{onClick:()=>l(!0)},ke.createElement(Ade,null)),t?ke.createElement(zht,{open:!0,model:e,onClose:()=>n(!1)}):null,r?ke.createElement(Vht,{open:!0,onClose:()=>o(!1)}):null,i?ke.createElement(Uht,{open:!0,model:e,onClose:()=>a(!1)}):null,s?ke.createElement(Ght,{open:!0,model:e,onClose:()=>l(!1)}):null,u.length>0?ke.createElement(Ky,{native:!0,value:c,size:"small",onChange:d=>{e.setCurrentAlignment(+d.target.value),e.setScrollX(0),e.setScrollY(0)}},u.map((d,f)=>ke.createElement("option",{key:`${d}-${f}`,value:f},d))):null,ke.createElement(emt,{model:e}),ke.createElement("div",{style:{flex:1}}),ke.createElement(io,{onClick:()=>o(!0)},ke.createElement(cde,null)))}),nmt=ig()(e=>({textArea:{padding:e.spacing(2),overflow:"auto",background:"#ddd",wordBreak:"break-word"}})),rmt=Wn(function({model:e,onClose:t}){const[n,r]=C.useState("Copy to clipboard"),{classes:o}=nmt();return ke.createElement(Ca.Dialog,{open:!0,onClose:t,fullWidth:!0,maxWidth:"lg",title:`Track info - ${e.name}`},ke.createElement(Up,null,ke.createElement(fc,{variant:"contained",color:"primary",onClick:()=>{xpt(e.data),r("Copied!"),setTimeout(()=>{r("Copy to clipboard")},300)}},n),ke.createElement("pre",{className:o.textArea},e.data)),ke.createElement(z_,null,ke.createElement(fc,{variant:"contained",onClick:t,color:"secondary"},"Close")))}),omt=ig()({button:{padding:0}}),imt=Wn(function({model:e,track:t}){const[n,r]=C.useState(),[o,i]=C.useState(!1),{rowHeight:a,treeAreaWidth:s}=e,{height:l,model:{name:c}}=t,{classes:u}=omt(),d=Math.max(8,a-8);return ke.createElement("div",{style:{width:s,height:l,flexShrink:0,textAlign:"right",fontSize:d}},c," ",ke.createElement(io,{className:u.button,style:{width:d,height:d},onClick:f=>r(f.currentTarget)},ke.createElement(jse,null)),n?ke.createElement(H_,{anchorEl:n,transitionDuration:0,open:!0,onClose:()=>r(void 0)},ke.createElement(dr,{dense:!0,onClick:()=>{e.toggleTrack(t.model.id),r(void 0)}},"Close"),ke.createElement(dr,{dense:!0,onClick:()=>{i(!0),r(void 0)}},"Get info")):null,o?ke.createElement(rmt,{model:t.model,onClose:()=>i(!1)}):null)}),amt=Wn(function({model:e,track:t}){const{resizeHandleWidth:n}=e,{model:{height:r,error:o}}=t,i=C.useRef(null),a=C.useRef(!1),s=C.useRef(0);return C.useEffect(()=>{const l=i.current;if(!l)return;function c(u){const d=zz(u);s.current+=d.pixelX,a.current||(a.current=!0,requestAnimationFrame(()=>{e.doScrollX(-s.current),s.current=0,a.current=!1})),u.preventDefault()}return l.addEventListener("wheel",c),()=>{l.removeEventListener("wheel",c)}},[e]),ke.createElement("div",{key:t.id,style:{display:"flex",height:r}},ke.createElement(imt,{model:e,track:t}),ke.createElement("div",{style:{width:n,flexShrink:0}}),ke.createElement("div",{ref:i},o?ke.createElement("div",{style:{color:"red",fontSize:10}},`${o}`):ke.createElement(t.ReactComponent,{model:e,track:t})))}),smt=e=>{const t={};return e.forEach(([n,r])=>{t[n]||(t[n]=[]),t[n].push(r)}),t},lmt=Wn(function({name:e,value:t,setValue:n,setName:r,onDelete:o}){return ke.createElement("div",null,ke.createElement(io,{onClick:o,style:{margin:10}},ke.createElement(Dse,null)),ke.createElement(cu,{value:e,onChange:i=>r(i.target.value),label:"Key"}),ke.createElement(cu,{value:t,onChange:i=>n(i.target.value),label:"Value"}))}),cmt=Wn(({onClose:e,data:t,model:n})=>{const{blanks:r}=n,{left:o,right:i}=t,[a,s]=C.useState([["Name",""],["ID",""],["Note",""]]);return ke.createElement(Ca.Dialog,{onClose:()=>e(),open:!0,title:"Create new region annotation"},ke.createElement(Up,null,ke.createElement(On,null,"Do you want to add an annotation to the MSA at ",o,"..",i," ",r.length?` (gapped ${n.getPos(o)}..${n.getPos(i)}`:""),a.map(([l,c],u)=>ke.createElement(lmt,{key:u,name:l,value:c,setValue:d=>{const f=[...a];f[u][1]=d,s(f)},setName:d=>{const f=[...a];f[u][0]=d,s(f)},onDelete:()=>{a.splice(u,1),s([...a])}})),ke.createElement(fc,{onClick:()=>{s([...a,["",""]])}},"Add row"),ke.createElement(z_,null,ke.createElement(fc,{onClick:()=>{n.addAnnotation(o,i,smt(a)),e()},variant:"contained",color:"primary"},"Submit"),ke.createElement(fc,{variant:"contained",color:"secondary",onClick:()=>e()},"Cancel"))))}),umt=Wn(function({model:e}){const{resizeHandleWidth:t}=e,[n,r]=C.useState(!1),o=C.useRef(!1),i=C.useRef(0);return C.useEffect(()=>{function a(l){l.preventDefault();const c=l.clientX;if(i.current===0)i.current=l.clientX;else{const u=c-i.current;u&&(o.current||(o.current=!0,window.requestAnimationFrame(()=>{e.setTreeAreaWidth(e.treeAreaWidth+u),o.current=!1,i.current=l.clientX})))}}function s(){i.current=0,n&&r(!1)}return n?(document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",s,!0),()=>{document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",s,!0)}):()=>{}},[n,e]),ke.createElement("div",null,ke.createElement("div",{onMouseDown:()=>r(!0),style:{cursor:"ew-resize",height:"100%",width:t,background:"rgba(200,200,200)",position:"relative"}}))}),dmt=Wn(function({model:e}){const{resizeHandleWidth:t}=e,[n,r]=C.useState(!1),o=C.useRef(!1),i=C.useRef(0);return C.useEffect(()=>{function a(l){l.preventDefault();const c=l.clientY;if(i.current===0)i.current=l.clientY;else{const u=c-i.current;u&&(o.current||(o.current=!0,window.requestAnimationFrame(()=>{e.setHeight(e.height+u),o.current=!1,i.current=l.clientY})))}}function s(){i.current=0,n&&r(!1)}return n?(document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",s,!0),()=>{document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",s,!0)}):()=>{}},[n,e]),ke.createElement("div",null,ke.createElement("div",{onMouseDown:()=>r(!0),style:{cursor:"ns-resize",width:"100%",height:t,background:"rgba(200,200,200)",position:"relative"}}))}),fmt=Wn(function({model:e}){const t=C.useRef(null),{height:n,width:r,treeAreaWidth:o,resizeHandleWidth:i,scrollX:a,mouseCol:s,colWidth:l}=e;return C.useEffect(()=>{if(!t.current)return;const c=t.current.getContext("2d");if(c&&(c.resetTransform(),c.clearRect(0,0,r,n),s!==void 0)){const u=(s-1)*l+a+o+i;c.fillStyle="rgba(100,100,100,0.5)",c.fillRect(u,0,l,n)}},[s,l,a,n,i,o,r]),ke.createElement("canvas",{ref:t,width:r,height:n,style:{position:"absolute",top:0,left:0,width:r,height:n,zIndex:1e3,pointerEvents:"none"}})}),pmt=Wn(function({model:e}){const{done:t,initialized:n,treeAreaWidth:r,height:o,turnedOnTracks:i}=e;return ke.createElement("div",null,n?t?ke.createElement("div",null,ke.createElement("div",{style:{height:o,overflow:"hidden"}},ke.createElement(tmt,{model:e}),ke.createElement("div",null,ke.createElement("div",{style:{position:"relative"}},ke.createElement("div",{style:{display:"flex"}},ke.createElement("div",{style:{flexShrink:0,width:r}},ke.createElement(Bht,{model:e})),ke.createElement(eit,{model:e,ControlComponent:ke.createElement(Nht,{model:e})})),i==null?void 0:i.map(a=>ke.createElement(amt,{key:a.model.id,model:e,track:a})),ke.createElement("div",{style:{display:"flex"}},ke.createElement("div",{style:{flexShrink:0,width:r}},ke.createElement(eht,{model:e})),ke.createElement(umt,{model:e}),ke.createElement(Rht,{model:e}),ke.createElement(fmt,{model:e}))))),ke.createElement(dmt,{model:e})):ke.createElement(On,{variant:"h4"},"Loading..."):ke.createElement(Got,{model:e}),e.DialogComponent?ke.createElement(e.DialogComponent,{...e.DialogProps||{},onClose:()=>{e.setDialogComponent(void 0,void 0)}}):null,e.annotPos?ke.createElement(cmt,{data:e.annotPos,model:e,onClose:()=>e.clearAnnotPos()}):null)});function hmt(e,t){return e.parent===t.parent?1:2}function mmt(e){return e.reduce(gmt,0)/e.length}function gmt(e,t){return e+t.x}function vmt(e){return 1+e.reduce(bmt,0)}function bmt(e,t){return Math.max(e,t.y)}function ymt(e){for(var t;t=e.children;)e=t[0];return e}function xmt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function wmt(){var e=hmt,t=1,n=1,r=!1;function o(i){var a,s=0;i.eachAfter(function(f){var p=f.children;p?(f.x=mmt(p),f.y=vmt(p)):(f.x=a?s+=e(f,a):0,f.y=0,a=f)});var l=ymt(i),c=xmt(i),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return i.eachAfter(r?function(f){f.x=(f.x-i.x)*t,f.y=(i.y-f.y)*n}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(i.y?f.y/i.y:1))*n})}return o.separation=function(i){return arguments.length?(e=i,o):e},o.size=function(i){return arguments.length?(r=!1,t=+i[0],n=+i[1],o):r?null:[t,n]},o.nodeSize=function(i){return arguments.length?(r=!0,t=+i[0],n=+i[1],o):r?[t,n]:null},o}function _mt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Smt(){return this.eachAfter(_mt)}function Cmt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Pmt(e,t){for(var n=this,r=[n],o,i,a=-1;n=r.pop();)if(e.call(t,n,++a,this),o=n.children)for(i=o.length-1;i>=0;--i)r.push(o[i]);return this}function Mmt(e,t){for(var n=this,r=[n],o=[],i,a,s,l=-1;n=r.pop();)if(o.push(n),i=n.children)for(a=0,s=i.length;a<s;++a)r.push(i[a]);for(;n=o.pop();)e.call(t,n,++l,this);return this}function Amt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Emt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})}function Tmt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Omt(e){for(var t=this,n=Imt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r}function Imt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}function kmt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Rmt(){return Array.from(this)}function Lmt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function $mt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Dmt(){var e=this,t,n=[e],r,o,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(o=0,i=r.length;o<i;++o)n.push(r[o]);while(n.length)}function k6(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Bmt)):t===void 0&&(t=Nmt);for(var n=new FA(e),r,o=[n],i,a,s,l;r=o.pop();)if((a=t(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)o.push(i=a[s]=new FA(a[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(zmt)}function Fmt(){return k6(this).eachBefore(jmt)}function Nmt(e){return e.children}function Bmt(e){return Array.isArray(e)?e[1]:null}function jmt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function zmt(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function FA(e){this.data=e,this.depth=this.height=0,this.parent=null}FA.prototype=k6.prototype={constructor:FA,count:Smt,each:Cmt,eachAfter:Mmt,eachBefore:Pmt,find:Amt,sum:Emt,sort:Tmt,path:Omt,ancestors:kmt,descendants:Rmt,leaves:Lmt,links:$mt,copy:Fmt,[Symbol.iterator]:Dmt};var iM={};const Ede={};var ay={},rk={};rk.byteLength=Umt;rk.toByteArray=Wmt;rk.fromByteArray=Kmt;var au=[],al=[],Hmt=typeof Uint8Array<"u"?Uint8Array:Array,kL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $g=0,Vmt=kL.length;$g<Vmt;++$g)au[$g]=kL[$g],al[kL.charCodeAt($g)]=$g;al["-".charCodeAt(0)]=62;al["_".charCodeAt(0)]=63;function Tde(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Umt(e){var t=Tde(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Gmt(e,t,n){return(t+n)*3/4-n}function Wmt(e){var t,n=Tde(e),r=n[0],o=n[1],i=new Hmt(Gmt(e,r,o)),a=0,s=o>0?r-4:r,l;for(l=0;l<s;l+=4)t=al[e.charCodeAt(l)]<<18|al[e.charCodeAt(l+1)]<<12|al[e.charCodeAt(l+2)]<<6|al[e.charCodeAt(l+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=t&255;return o===2&&(t=al[e.charCodeAt(l)]<<2|al[e.charCodeAt(l+1)]>>4,i[a++]=t&255),o===1&&(t=al[e.charCodeAt(l)]<<10|al[e.charCodeAt(l+1)]<<4|al[e.charCodeAt(l+2)]>>2,i[a++]=t>>8&255,i[a++]=t&255),i}function qmt(e){return au[e>>18&63]+au[e>>12&63]+au[e>>6&63]+au[e&63]}function Xmt(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(qmt(r));return o.join("")}function Kmt(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,s=n-r;a<s;a+=i)o.push(Xmt(e,a,a+i>s?s:a+i));return r===1?(t=e[n-1],o.push(au[t>>2]+au[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],o.push(au[t>>10]+au[t>>4&63]+au[t<<2&63]+"=")),o.join("")}var R6={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */R6.read=function(e,t,n,r,o){var i,a,s=o*8-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=i*256+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=a*256+e[t+d],d+=f,u-=8);if(i===0)i=1-c;else{if(i===l)return a?NaN:(p?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-c}return(p?-1:1)*a*Math.pow(2,i-r)};R6.write=function(e,t,n,r,o,i){var a,s,l,c=i*8-o-1,u=(1<<c)-1,d=u>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a=a+d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=s&255,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=a&255,p+=h,a/=256,c-=8);e[n+p-h]|=g*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=rk,n=R6,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const U=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(U,D),U.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(U){if(U>o)throw new RangeError('The value "'+U+'" is invalid for option "size"');const D=new Uint8Array(U);return Object.setPrototypeOf(D,s.prototype),D}function s(U,D,F){if(typeof U=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(U)}return l(U,D,F)}s.poolSize=8192;function l(U,D,F){if(typeof U=="string")return f(U,D);if(ArrayBuffer.isView(U))return h(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(ye(U,ArrayBuffer)||U&&ye(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ye(U,SharedArrayBuffer)||U&&ye(U.buffer,SharedArrayBuffer)))return g(U,D,F);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=U.valueOf&&U.valueOf();if(K!=null&&K!==U)return s.from(K,D,F);const he=v(U);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return s.from(U[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}s.from=function(U,D,F){return l(U,D,F)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function u(U,D,F){return c(U),U<=0?a(U):D!==void 0?typeof F=="string"?a(U).fill(D,F):a(U).fill(D):a(U)}s.alloc=function(U,D,F){return u(U,D,F)};function d(U){return c(U),a(U<0?0:m(U)|0)}s.allocUnsafe=function(U){return d(U)},s.allocUnsafeSlow=function(U){return d(U)};function f(U,D){if((typeof D!="string"||D==="")&&(D="utf8"),!s.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const F=x(U,D)|0;let K=a(F);const he=K.write(U,D);return he!==F&&(K=K.slice(0,he)),K}function p(U){const D=U.length<0?0:m(U.length)|0,F=a(D);for(let K=0;K<D;K+=1)F[K]=U[K]&255;return F}function h(U){if(ye(U,Uint8Array)){const D=new Uint8Array(U);return g(D.buffer,D.byteOffset,D.byteLength)}return p(U)}function g(U,D,F){if(D<0||U.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let K;return D===void 0&&F===void 0?K=new Uint8Array(U):F===void 0?K=new Uint8Array(U,D):K=new Uint8Array(U,D,F),Object.setPrototypeOf(K,s.prototype),K}function v(U){if(s.isBuffer(U)){const D=m(U.length)|0,F=a(D);return F.length===0||U.copy(F,0,0,D),F}if(U.length!==void 0)return typeof U.length!="number"||Le(U.length)?a(0):p(U);if(U.type==="Buffer"&&Array.isArray(U.data))return p(U.data)}function m(U){if(U>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return U|0}function b(U){return+U!=U&&(U=0),s.alloc(+U)}s.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==s.prototype},s.compare=function(D,F){if(ye(D,Uint8Array)&&(D=s.from(D,D.offset,D.byteLength)),ye(F,Uint8Array)&&(F=s.from(F,F.offset,F.byteLength)),!s.isBuffer(D)||!s.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;let K=D.length,he=F.length;for(let ge=0,Ae=Math.min(K,he);ge<Ae;++ge)if(D[ge]!==F[ge]){K=D[ge],he=F[ge];break}return K<he?-1:he<K?1:0},s.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return s.alloc(0);let K;if(F===void 0)for(F=0,K=0;K<D.length;++K)F+=D[K].length;const he=s.allocUnsafe(F);let ge=0;for(K=0;K<D.length;++K){let Ae=D[K];if(ye(Ae,Uint8Array))ge+Ae.length>he.length?(s.isBuffer(Ae)||(Ae=s.from(Ae)),Ae.copy(he,ge)):Uint8Array.prototype.set.call(he,Ae,ge);else if(s.isBuffer(Ae))Ae.copy(he,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Ae.length}return he};function x(U,D){if(s.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||ye(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const F=U.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&F===0)return 0;let he=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return W(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return ve(U).length;default:if(he)return K?-1:W(U).length;D=(""+D).toLowerCase(),he=!0}}s.byteLength=x;function y(U,D,F){let K=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(U||(U="utf8");;)switch(U){case"hex":return j(this,D,F);case"utf8":case"utf-8":return T(this,D,F);case"ascii":return B(this,D,F);case"latin1":case"binary":return $(this,D,F);case"base64":return R(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,D,F);default:if(K)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),K=!0}}s.prototype._isBuffer=!0;function w(U,D,F){const K=U[D];U[D]=U[F],U[F]=K}s.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<D;F+=2)w(this,F,F+1);return this},s.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<D;F+=4)w(this,F,F+3),w(this,F+1,F+2);return this},s.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<D;F+=8)w(this,F,F+7),w(this,F+1,F+6),w(this,F+2,F+5),w(this,F+3,F+4);return this},s.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?T(this,0,D):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(D){if(!s.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:s.compare(this,D)===0},s.prototype.inspect=function(){let D="";const F=e.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(D,F,K,he,ge){if(ye(D,Uint8Array)&&(D=s.from(D,D.offset,D.byteLength)),!s.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),K===void 0&&(K=D?D.length:0),he===void 0&&(he=0),ge===void 0&&(ge=this.length),F<0||K>D.length||he<0||ge>this.length)throw new RangeError("out of range index");if(he>=ge&&F>=K)return 0;if(he>=ge)return-1;if(F>=K)return 1;if(F>>>=0,K>>>=0,he>>>=0,ge>>>=0,this===D)return 0;let Ae=ge-he,Ke=K-F;const Je=Math.min(Ae,Ke),ft=this.slice(he,ge),ht=D.slice(F,K);for(let it=0;it<Je;++it)if(ft[it]!==ht[it]){Ae=ft[it],Ke=ht[it];break}return Ae<Ke?-1:Ke<Ae?1:0};function _(U,D,F,K,he){if(U.length===0)return-1;if(typeof F=="string"?(K=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Le(F)&&(F=he?0:U.length-1),F<0&&(F=U.length+F),F>=U.length){if(he)return-1;F=U.length-1}else if(F<0)if(he)F=0;else return-1;if(typeof D=="string"&&(D=s.from(D,K)),s.isBuffer(D))return D.length===0?-1:S(U,D,F,K,he);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(U,D,F):Uint8Array.prototype.lastIndexOf.call(U,D,F):S(U,[D],F,K,he);throw new TypeError("val must be string, number or Buffer")}function S(U,D,F,K,he){let ge=1,Ae=U.length,Ke=D.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(U.length<2||D.length<2)return-1;ge=2,Ae/=2,Ke/=2,F/=2}function Je(ht,it){return ge===1?ht[it]:ht.readUInt16BE(it*ge)}let ft;if(he){let ht=-1;for(ft=F;ft<Ae;ft++)if(Je(U,ft)===Je(D,ht===-1?0:ft-ht)){if(ht===-1&&(ht=ft),ft-ht+1===Ke)return ht*ge}else ht!==-1&&(ft-=ft-ht),ht=-1}else for(F+Ke>Ae&&(F=Ae-Ke),ft=F;ft>=0;ft--){let ht=!0;for(let it=0;it<Ke;it++)if(Je(U,ft+it)!==Je(D,it)){ht=!1;break}if(ht)return ft}return-1}s.prototype.includes=function(D,F,K){return this.indexOf(D,F,K)!==-1},s.prototype.indexOf=function(D,F,K){return _(this,D,F,K,!0)},s.prototype.lastIndexOf=function(D,F,K){return _(this,D,F,K,!1)};function P(U,D,F,K){F=Number(F)||0;const he=U.length-F;K?(K=Number(K),K>he&&(K=he)):K=he;const ge=D.length;K>ge/2&&(K=ge/2);let Ae;for(Ae=0;Ae<K;++Ae){const Ke=parseInt(D.substr(Ae*2,2),16);if(Le(Ke))return Ae;U[F+Ae]=Ke}return Ae}function M(U,D,F,K){return me(W(D,U.length-F),U,F,K)}function I(U,D,F,K){return me(oe(D),U,F,K)}function O(U,D,F,K){return me(ve(D),U,F,K)}function L(U,D,F,K){return me(Ce(D,U.length-F),U,F,K)}s.prototype.write=function(D,F,K,he){if(F===void 0)he="utf8",K=this.length,F=0;else if(K===void 0&&typeof F=="string")he=F,K=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(K)?(K=K>>>0,he===void 0&&(he="utf8")):(he=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-F;if((K===void 0||K>ge)&&(K=ge),D.length>0&&(K<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let Ae=!1;for(;;)switch(he){case"hex":return P(this,D,F,K);case"utf8":case"utf-8":return M(this,D,F,K);case"ascii":case"latin1":case"binary":return I(this,D,F,K);case"base64":return O(this,D,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,D,F,K);default:if(Ae)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),Ae=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(U,D,F){return D===0&&F===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(D,F))}function T(U,D,F){F=Math.min(U.length,F);const K=[];let he=D;for(;he<F;){const ge=U[he];let Ae=null,Ke=ge>239?4:ge>223?3:ge>191?2:1;if(he+Ke<=F){let Je,ft,ht,it;switch(Ke){case 1:ge<128&&(Ae=ge);break;case 2:Je=U[he+1],(Je&192)===128&&(it=(ge&31)<<6|Je&63,it>127&&(Ae=it));break;case 3:Je=U[he+1],ft=U[he+2],(Je&192)===128&&(ft&192)===128&&(it=(ge&15)<<12|(Je&63)<<6|ft&63,it>2047&&(it<55296||it>57343)&&(Ae=it));break;case 4:Je=U[he+1],ft=U[he+2],ht=U[he+3],(Je&192)===128&&(ft&192)===128&&(ht&192)===128&&(it=(ge&15)<<18|(Je&63)<<12|(ft&63)<<6|ht&63,it>65535&&it<1114112&&(Ae=it))}}Ae===null?(Ae=65533,Ke=1):Ae>65535&&(Ae-=65536,K.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),K.push(Ae),he+=Ke}return k(K)}const E=4096;function k(U){const D=U.length;if(D<=E)return String.fromCharCode.apply(String,U);let F="",K=0;for(;K<D;)F+=String.fromCharCode.apply(String,U.slice(K,K+=E));return F}function B(U,D,F){let K="";F=Math.min(U.length,F);for(let he=D;he<F;++he)K+=String.fromCharCode(U[he]&127);return K}function $(U,D,F){let K="";F=Math.min(U.length,F);for(let he=D;he<F;++he)K+=String.fromCharCode(U[he]);return K}function j(U,D,F){const K=U.length;(!D||D<0)&&(D=0),(!F||F<0||F>K)&&(F=K);let he="";for(let ge=D;ge<F;++ge)he+=Te[U[ge]];return he}function V(U,D,F){const K=U.slice(D,F);let he="";for(let ge=0;ge<K.length-1;ge+=2)he+=String.fromCharCode(K[ge]+K[ge+1]*256);return he}s.prototype.slice=function(D,F){const K=this.length;D=~~D,F=F===void 0?K:~~F,D<0?(D+=K,D<0&&(D=0)):D>K&&(D=K),F<0?(F+=K,F<0&&(F=0)):F>K&&(F=K),F<D&&(F=D);const he=this.subarray(D,F);return Object.setPrototypeOf(he,s.prototype),he};function q(U,D,F){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+D>F)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(D,F,K){D=D>>>0,F=F>>>0,K||q(D,F,this.length);let he=this[D],ge=1,Ae=0;for(;++Ae<F&&(ge*=256);)he+=this[D+Ae]*ge;return he},s.prototype.readUintBE=s.prototype.readUIntBE=function(D,F,K){D=D>>>0,F=F>>>0,K||q(D,F,this.length);let he=this[D+--F],ge=1;for(;F>0&&(ge*=256);)he+=this[D+--F]*ge;return he},s.prototype.readUint8=s.prototype.readUInt8=function(D,F){return D=D>>>0,F||q(D,1,this.length),this[D]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||q(D,2,this.length),this[D]|this[D+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||q(D,2,this.length),this[D]<<8|this[D+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||q(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||q(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},s.prototype.readBigUInt64LE=Me(function(D){D=D>>>0,pe(D,"offset");const F=this[D],K=this[D+7];(F===void 0||K===void 0)&&we(D,this.length-8);const he=F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,ge=this[++D]+this[++D]*2**8+this[++D]*2**16+K*2**24;return BigInt(he)+(BigInt(ge)<<BigInt(32))}),s.prototype.readBigUInt64BE=Me(function(D){D=D>>>0,pe(D,"offset");const F=this[D],K=this[D+7];(F===void 0||K===void 0)&&we(D,this.length-8);const he=F*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],ge=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+K;return(BigInt(he)<<BigInt(32))+BigInt(ge)}),s.prototype.readIntLE=function(D,F,K){D=D>>>0,F=F>>>0,K||q(D,F,this.length);let he=this[D],ge=1,Ae=0;for(;++Ae<F&&(ge*=256);)he+=this[D+Ae]*ge;return ge*=128,he>=ge&&(he-=Math.pow(2,8*F)),he},s.prototype.readIntBE=function(D,F,K){D=D>>>0,F=F>>>0,K||q(D,F,this.length);let he=F,ge=1,Ae=this[D+--he];for(;he>0&&(ge*=256);)Ae+=this[D+--he]*ge;return ge*=128,Ae>=ge&&(Ae-=Math.pow(2,8*F)),Ae},s.prototype.readInt8=function(D,F){return D=D>>>0,F||q(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},s.prototype.readInt16LE=function(D,F){D=D>>>0,F||q(D,2,this.length);const K=this[D]|this[D+1]<<8;return K&32768?K|4294901760:K},s.prototype.readInt16BE=function(D,F){D=D>>>0,F||q(D,2,this.length);const K=this[D+1]|this[D]<<8;return K&32768?K|4294901760:K},s.prototype.readInt32LE=function(D,F){return D=D>>>0,F||q(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},s.prototype.readInt32BE=function(D,F){return D=D>>>0,F||q(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},s.prototype.readBigInt64LE=Me(function(D){D=D>>>0,pe(D,"offset");const F=this[D],K=this[D+7];(F===void 0||K===void 0)&&we(D,this.length-8);const he=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(K<<24);return(BigInt(he)<<BigInt(32))+BigInt(F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),s.prototype.readBigInt64BE=Me(function(D){D=D>>>0,pe(D,"offset");const F=this[D],K=this[D+7];(F===void 0||K===void 0)&&we(D,this.length-8);const he=(F<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(he)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+K)}),s.prototype.readFloatLE=function(D,F){return D=D>>>0,F||q(D,4,this.length),n.read(this,D,!0,23,4)},s.prototype.readFloatBE=function(D,F){return D=D>>>0,F||q(D,4,this.length),n.read(this,D,!1,23,4)},s.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||q(D,8,this.length),n.read(this,D,!0,52,8)},s.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||q(D,8,this.length),n.read(this,D,!1,52,8)};function Q(U,D,F,K,he,ge){if(!s.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>he||D<ge)throw new RangeError('"value" argument is out of bounds');if(F+K>U.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(D,F,K,he){if(D=+D,F=F>>>0,K=K>>>0,!he){const Ke=Math.pow(2,8*K)-1;Q(this,D,F,K,Ke,0)}let ge=1,Ae=0;for(this[F]=D&255;++Ae<K&&(ge*=256);)this[F+Ae]=D/ge&255;return F+K},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(D,F,K,he){if(D=+D,F=F>>>0,K=K>>>0,!he){const Ke=Math.pow(2,8*K)-1;Q(this,D,F,K,Ke,0)}let ge=K-1,Ae=1;for(this[F+ge]=D&255;--ge>=0&&(Ae*=256);)this[F+ge]=D/Ae&255;return F+K},s.prototype.writeUint8=s.prototype.writeUInt8=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,1,255,0),this[F]=D&255,F+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function H(U,D,F,K,he){ae(D,K,he,U,F,7);let ge=Number(D&BigInt(4294967295));U[F++]=ge,ge=ge>>8,U[F++]=ge,ge=ge>>8,U[F++]=ge,ge=ge>>8,U[F++]=ge;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return U[F++]=Ae,Ae=Ae>>8,U[F++]=Ae,Ae=Ae>>8,U[F++]=Ae,Ae=Ae>>8,U[F++]=Ae,F}function X(U,D,F,K,he){ae(D,K,he,U,F,7);let ge=Number(D&BigInt(4294967295));U[F+7]=ge,ge=ge>>8,U[F+6]=ge,ge=ge>>8,U[F+5]=ge,ge=ge>>8,U[F+4]=ge;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return U[F+3]=Ae,Ae=Ae>>8,U[F+2]=Ae,Ae=Ae>>8,U[F+1]=Ae,Ae=Ae>>8,U[F]=Ae,F+8}s.prototype.writeBigUInt64LE=Me(function(D,F=0){return H(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Me(function(D,F=0){return X(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(D,F,K,he){if(D=+D,F=F>>>0,!he){const Je=Math.pow(2,8*K-1);Q(this,D,F,K,Je-1,-Je)}let ge=0,Ae=1,Ke=0;for(this[F]=D&255;++ge<K&&(Ae*=256);)D<0&&Ke===0&&this[F+ge-1]!==0&&(Ke=1),this[F+ge]=(D/Ae>>0)-Ke&255;return F+K},s.prototype.writeIntBE=function(D,F,K,he){if(D=+D,F=F>>>0,!he){const Je=Math.pow(2,8*K-1);Q(this,D,F,K,Je-1,-Je)}let ge=K-1,Ae=1,Ke=0;for(this[F+ge]=D&255;--ge>=0&&(Ae*=256);)D<0&&Ke===0&&this[F+ge+1]!==0&&(Ke=1),this[F+ge]=(D/Ae>>0)-Ke&255;return F+K},s.prototype.writeInt8=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},s.prototype.writeInt16LE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},s.prototype.writeInt16BE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},s.prototype.writeInt32LE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},s.prototype.writeInt32BE=function(D,F,K){return D=+D,F=F>>>0,K||Q(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},s.prototype.writeBigInt64LE=Me(function(D,F=0){return H(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Me(function(D,F=0){return X(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(U,D,F,K,he,ge){if(F+K>U.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function G(U,D,F,K,he){return D=+D,F=F>>>0,he||J(U,D,F,4),n.write(U,D,F,K,23,4),F+4}s.prototype.writeFloatLE=function(D,F,K){return G(this,D,F,!0,K)},s.prototype.writeFloatBE=function(D,F,K){return G(this,D,F,!1,K)};function ie(U,D,F,K,he){return D=+D,F=F>>>0,he||J(U,D,F,8),n.write(U,D,F,K,52,8),F+8}s.prototype.writeDoubleLE=function(D,F,K){return ie(this,D,F,!0,K)},s.prototype.writeDoubleBE=function(D,F,K){return ie(this,D,F,!1,K)},s.prototype.copy=function(D,F,K,he){if(!s.isBuffer(D))throw new TypeError("argument should be a Buffer");if(K||(K=0),!he&&he!==0&&(he=this.length),F>=D.length&&(F=D.length),F||(F=0),he>0&&he<K&&(he=K),he===K||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),D.length-F<he-K&&(he=D.length-F+K);const ge=he-K;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,K,he):Uint8Array.prototype.set.call(D,this.subarray(K,he),F),ge},s.prototype.fill=function(D,F,K,he){if(typeof D=="string"){if(typeof F=="string"?(he=F,F=0,K=this.length):typeof K=="string"&&(he=K,K=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!s.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(D.length===1){const Ae=D.charCodeAt(0);(he==="utf8"&&Ae<128||he==="latin1")&&(D=Ae)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<K)throw new RangeError("Out of range index");if(K<=F)return this;F=F>>>0,K=K===void 0?this.length:K>>>0,D||(D=0);let ge;if(typeof D=="number")for(ge=F;ge<K;++ge)this[ge]=D;else{const Ae=s.isBuffer(D)?D:s.from(D,he),Ke=Ae.length;if(Ke===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ge=0;ge<K-F;++ge)this[ge+F]=Ae[ge%Ke]}return this};const Y={};function le(U,D,F){Y[U]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(U,D){return`The "${U}" argument must be of type number. Received type ${typeof D}`},TypeError),le("ERR_OUT_OF_RANGE",function(U,D,F){let K=`The value of "${U}" is out of range.`,he=F;return Number.isInteger(F)&&Math.abs(F)>2**32?he=te(String(F)):typeof F=="bigint"&&(he=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(he=te(he)),he+="n"),K+=` It must be ${D}. Received ${he}`,K},RangeError);function te(U){let D="",F=U.length;const K=U[0]==="-"?1:0;for(;F>=K+4;F-=3)D=`_${U.slice(F-3,F)}${D}`;return`${U.slice(0,F)}${D}`}function re(U,D,F){pe(D,"offset"),(U[D]===void 0||U[D+F]===void 0)&&we(D,U.length-(F+1))}function ae(U,D,F,K,he,ge){if(U>F||U<D){const Ae=typeof D=="bigint"?"n":"";let Ke;throw ge>3?D===0||D===BigInt(0)?Ke=`>= 0${Ae} and < 2${Ae} ** ${(ge+1)*8}${Ae}`:Ke=`>= -(2${Ae} ** ${(ge+1)*8-1}${Ae}) and < 2 ** ${(ge+1)*8-1}${Ae}`:Ke=`>= ${D}${Ae} and <= ${F}${Ae}`,new Y.ERR_OUT_OF_RANGE("value",Ke,U)}re(K,he,ge)}function pe(U,D){if(typeof U!="number")throw new Y.ERR_INVALID_ARG_TYPE(D,"number",U)}function we(U,D,F){throw Math.floor(U)!==U?(pe(U,F),new Y.ERR_OUT_OF_RANGE(F||"offset","an integer",U)):D<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE(F||"offset",`>= ${F?1:0} and <= ${D}`,U)}const fe=/[^+/0-9A-Za-z-_]/g;function _e(U){if(U=U.split("=")[0],U=U.trim().replace(fe,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function W(U,D){D=D||1/0;let F;const K=U.length;let he=null;const ge=[];for(let Ae=0;Ae<K;++Ae){if(F=U.charCodeAt(Ae),F>55295&&F<57344){if(!he){if(F>56319){(D-=3)>-1&&ge.push(239,191,189);continue}else if(Ae+1===K){(D-=3)>-1&&ge.push(239,191,189);continue}he=F;continue}if(F<56320){(D-=3)>-1&&ge.push(239,191,189),he=F;continue}F=(he-55296<<10|F-56320)+65536}else he&&(D-=3)>-1&&ge.push(239,191,189);if(he=null,F<128){if((D-=1)<0)break;ge.push(F)}else if(F<2048){if((D-=2)<0)break;ge.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;ge.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;ge.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return ge}function oe(U){const D=[];for(let F=0;F<U.length;++F)D.push(U.charCodeAt(F)&255);return D}function Ce(U,D){let F,K,he;const ge=[];for(let Ae=0;Ae<U.length&&!((D-=2)<0);++Ae)F=U.charCodeAt(Ae),K=F>>8,he=F%256,ge.push(he),ge.push(K);return ge}function ve(U){return t.toByteArray(_e(U))}function me(U,D,F,K){let he;for(he=0;he<K&&!(he+F>=D.length||he>=U.length);++he)D[he+F]=U[he];return he}function ye(U,D){return U instanceof D||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===D.name}function Le(U){return U!==U}const Te=function(){const U="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){const K=F*16;for(let he=0;he<16;++he)D[K+he]=U[F]+U[he]}return D}();function Me(U){return typeof BigInt>"u"?$e:U}function $e(){throw new Error("BigInt not supported")}})(ay);const RL=typeof window<"u"?window:typeof self<"u"?self:{fetch:void 0};class Ode{async getBufferFromResponse(t){if(typeof t.buffer=="function")return t.buffer();if(typeof t.arrayBuffer=="function"){const n=await t.arrayBuffer();return ay.Buffer.from(n)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(t,n={}){this.baseOverrides={},this.url=t;const r=n.fetch||RL.fetch&&RL.fetch.bind(RL);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async fetch(t,n){let r;try{r=await this.fetchImplementation(t,n)}catch(o){if(`${o}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`),r=await this.fetchImplementation(t,{...n,cache:"reload"});else throw o}return r}async read(t,n=0,r,o=0,i={}){const{headers:a={},signal:s,overrides:l={}}=i;r<1/0?a.range=`bytes=${o}-${o+r}`:r===1/0&&o!==0&&(a.range=`bytes=${o}-`);const c={...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s},u=await this.fetch(this.url,c);if(!u.ok)throw new Error(`HTTP ${u.status} ${u.statusText} ${this.url}`);if(u.status===200&&o===0||u.status===206){const d=await this.getBufferFromResponse(u),f=d.copy(t,n,0,Math.min(r,d.length)),p=u.headers.get("content-range"),h=/\/(\d+)$/.exec(p||"");return h&&h[1]&&(this._stat={size:parseInt(h[1],10)}),{bytesRead:f,buffer:t}}throw u.status===200?new Error("${this.url} fetch returned status 200, expected 206"):new Error(`HTTP ${u.status} fetching ${this.url}`)}async readFile(t={}){let n,r;typeof t=="string"?(n=t,r={}):(n=t.encoding,r=t,delete r.encoding);const{headers:o={},signal:i,overrides:a={}}=r,s={headers:o,method:"GET",redirect:"follow",mode:"cors",signal:i,...this.baseOverrides,...a},l=await this.fetch(this.url,s);if(!l)throw new Error("generic-filehandle failed to fetch");if(l.status!==200)throw Object.assign(new Error(`HTTP ${l.status} fetching ${this.url}`),{status:l.status});if(n==="utf8")return l.text();if(n)throw new Error(`unsupported encoding: ${n}`);return this.getBufferFromResponse(l)}async stat(){if(!this._stat){const t=ay.Buffer.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function EW(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result!="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsArrayBuffer(e)})}function Ymt(e){const t=new FileReader;return new Promise((n,r)=>{t.onerror=()=>{t.abort(),r(new Error("problem reading blob"))},t.onabort=()=>{r(new Error("blob reading was aborted"))},t.onload=()=>{t.result&&typeof t.result=="string"?n(t.result):r(new Error("unknown error reading blob"))},t.readAsText(e)})}class Zmt{constructor(t){this.blob=t,this.size=t.size}async read(t,n=0,r,o=0){if(!r)return{bytesRead:0,buffer:t};const i=o,a=i+r,s=await EW(this.blob.slice(i,a)),l=ay.Buffer.from(s);return{bytesRead:l.copy(t,n),buffer:l}}async readFile(t){let n;if(typeof t=="string"?n=t:n=t&&t.encoding,n==="utf8")return Ymt(this.blob);if(n)throw new Error(`unsupported encoding: ${n}`);const r=await EW(this.blob);return ay.Buffer.from(r)}async stat(){return{size:this.size}}async close(){}}function Ide(e,t={}){return new Ode(e,t)}function Qmt(e,t,n,r={}){if(n!==void 0)return n;if(e!==void 0)return Ide(e,r);if(t!==void 0)return new Ede(t,r);throw new Error("no url, path, or filehandle provided, cannot open")}const Jmt=Object.freeze(Object.defineProperty({__proto__:null,BlobFile:Zmt,LocalFile:Ede,RemoteFile:Ode,fromUrl:Ide,open:Qmt},Symbol.toStringTag,{value:"Module"})),kde=Pa(Jmt);var Lm={};class egt{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,n){this.cache.set(t,n),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const n=this.oldCache.get(t);return this._set(t,n),n}}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this._set(t,n),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[n]=t;this.cache.has(n)||(yield t)}}get size(){let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return this._size+t}}var tgt=egt;const TW=Pc(tgt);function ngt(e){if(typeof e!="string")return{};const t={};return e.toLowerCase().replace(/(?:^|(?:\s*,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,o,i,a)=>{const s=i||a;return t[o]=s?s.toLowerCase():!0,""})?{}:(Object.keys(t).forEach(r=>{if(/^[\d]+$/.test(t[r]))try{const o=parseInt(t[r],10);Number.isNaN(o)||(t[r]=o)}catch{}}),t)}class rgt{constructor({minimumTTL:t}){this.minimumTTL=t}calculateChunkExpirationDate(t){const{headers:n={},requestDate:r,responseDate:o}=t;let i=o||r;if(!i){if(!n.date)return;i=new Date(n.date)}const a=l=>new Date(i.getTime()+l);if(/\bno-cache\b/.test(n.pragma))return a(this.minimumTTL);const s=ngt(n["cache-control"]);if(s["no-cache"]||s["no-store"]||s["must-revalidate"])return a(this.minimumTTL);if(s["max-age"]!==void 0){const l=s["max-age"]*1e3;return a(Math.max(l,this.minimumTTL))}else{if(this._coerceToDate(n.expires))return this._coerceToDate(n.expires);if(this._coerceToDate(n["last-modified"])){const l=this._coerceToDate(n["last-modified"]),c=(i.getTime()-l.getTime())/10;return a(c)}}}_coerceToDate(t){if(t){if(t instanceof Date)return t;if(typeof t=="string"||typeof t=="number")return new Date(t)}}cachedChunkIsValid(t){const n=this.calculateChunkExpirationDate(t);return!n||new Date<=n}chunkIsCacheable(){return!0}}var LL,OW;function ogt(){if(OW)return LL;OW=1;var e=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},t=function(r,o){return Object.prototype.propertyIsEnumerable.call(r,o)};function n(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");var o=[];for(var i in r)e(r,i)&&t(r,i)&&o.push([i,r[i]]);return o}return LL=n,LL}var igt=typeof Object.entries=="function"?Object.entries:ogt();const agt=Pc(igt);var ok={};Object.defineProperty(ok,"__esModule",{value:!0});function L6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $6(e,t,n){return t&&IW(e.prototype,t),n&&IW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sgt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q5(e,t)}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sy(e)}function q5(e,t){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},q5(e,t)}function lgt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cgt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1(e)}function ugt(e){var t=lgt();return function(){var r=sy(e),o;if(t){var i=sy(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return cgt(this,o)}}function dgt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=sy(e),e!==null););return e}function aM(){return typeof Reflect<"u"&&Reflect.get?aM=Reflect.get.bind():aM=function(t,n,r){var o=dgt(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}},aM.apply(this,arguments)}var kW=function(){function e(){L6(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return $6(e,[{key:"addEventListener",value:function(n,r,o){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push({callback:r,options:o})}},{key:"removeEventListener",value:function(n,r){if(n in this.listeners){for(var o=this.listeners[n],i=0,a=o.length;i<a;i++)if(o[i].callback===r){o.splice(i,1);return}}}},{key:"dispatchEvent",value:function(n){if(n.type in this.listeners){for(var r=this.listeners[n.type],o=r.slice(),i=0,a=o.length;i<a;i++){var s=o[i];try{s.callback.call(this,n)}catch(l){Promise.resolve().then(function(){throw l})}s.options&&s.options.once&&this.removeEventListener(n.type,s.callback)}return!n.defaultPrevented}}}]),e}(),D6=function(e){sgt(n,e);var t=ugt(n);function n(){var r;return L6(this,n),r=t.call(this),r.listeners||kW.call(G1(r)),Object.defineProperty(G1(r),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(G1(r),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(G1(r),"reason",{value:void 0,writable:!0,configurable:!0}),r}return $6(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(o){o.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,o)),aM(sy(n.prototype),"dispatchEvent",this).call(this,o)}}]),n}(kW),Rde=function(){function e(){L6(this,e),Object.defineProperty(this,"signal",{value:new D6,writable:!0,configurable:!0})}return $6(e,[{key:"abort",value:function(n){var r;try{r=new Event("abort")}catch{typeof document<"u"?document.createEvent?(r=document.createEvent("Event"),r.initEvent("abort",!1,!1)):(r=document.createEventObject(),r.type="abort"):r={type:"abort",bubbles:!1,cancelable:!1}}var o=n;if(o===void 0)if(typeof document>"u")o=new Error("This operation was aborted"),o.name="AbortError";else try{o=new DOMException("signal is aborted without reason")}catch{o=new Error("This operation was aborted"),o.name="AbortError"}this.signal.reason=o,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();typeof Symbol<"u"&&Symbol.toStringTag&&(Rde.prototype[Symbol.toStringTag]="AbortController",D6.prototype[Symbol.toStringTag]="AbortSignal");function fgt(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof e.Request=="function"&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}function pgt(e){typeof e=="function"&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,o=r===void 0?n.Request:r,i=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=a===void 0?!1:a;if(!fgt({fetch:n,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=o;(l&&!l.prototype.hasOwnProperty("signal")||s)&&(l=function(f,p){var h;p&&p.signal&&(h=p.signal,delete p.signal);var g=new o(f,p);return h&&Object.defineProperty(g,"signal",{writable:!1,enumerable:!1,configurable:!0,value:h}),g},l.prototype=o.prototype);var c=n,u=function(f,p){var h=l&&l.prototype.isPrototypeOf(f)?f.signal:p?p.signal:void 0;if(h){var g;try{g=new DOMException("Aborted","AbortError")}catch{g=new Error("Aborted"),g.name="AbortError"}if(h.aborted)return Promise.reject(g);var v=new Promise(function(m,b){h.addEventListener("abort",function(){return b(g)},{once:!0})});return p&&p.signal&&delete p.signal,Promise.race([v,c(f,p)])}return c(f,p)};return{fetch:u,Request:l}}var hgt=ok.AbortController=Rde,mgt=ok.AbortSignal=D6;ok.abortableFetch=pgt;var NA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")};let ggt=typeof NA().AbortController>"u"?hgt:NA().AbortController;typeof NA().AbortController>"u"||NA().AbortSignal;class vgt{constructor({frequency:t=100,fetch:n,maxExtraSize:r=32e3,maxFetchSize:o=1e6}){this.requestQueues={},this.fetchCallback=n,this.frequency=t,this.maxExtraSize=r,this.maxFetchSize=o}_canAggregate(t,n){return n.start<=t.end+this.maxExtraSize&&n.end-n.start+t.end-t.start<this.maxFetchSize}_allSignalsFired(t){return new Promise(n=>{let r=t.filter(o=>!o.aborted).length;t.forEach(o=>{o.addEventListener("abort",()=>{r-=1,r||n()})})}).catch(n=>{console.error(n)})}_dispatch({url:t,start:n,end:r,requests:o}){const i=new ggt,a=[];o.forEach(({requestOptions:s})=>{s&&s.signal&&a.push(s.signal)}),a.length===o.length&&this._allSignalsFired(a).then(()=>i.abort()),this.fetchCallback(t,n,r-1,{signal:i.signal}).then(s=>{const l=s.buffer;o.forEach(({start:c,end:u,resolve:d})=>{d({headers:s.headers,buffer:l.slice(c-n,u-n)})})},s=>{o.forEach(({reject:l})=>l(s))})}_aggregateAndDispatch(){agt(this.requestQueues).forEach(([t,n])=>{if(!n||!n.length)return;const r=[];if(n.forEach(i=>{const{requestOptions:a,reject:s}=i;a&&a.signal&&a.signal.aborted?s(Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})):r.push(i)}),r.sort((i,a)=>i.start-a.start),n.length=0,!r.length)return;let o;for(let i=0;i<r.length;i+=1){const a=r[i];o&&this._canAggregate(o,a)?(o.requests.push(a),o.end=a.end):(o&&this._dispatch(o),o={requests:[a],url:t,start:a.start,end:a.end})}o&&this._dispatch(o)})}_enQueue(t,n){this.requestQueues[t]||(this.requestQueues[t]=[]),this.requestQueues[t].push(n)}fetch(t,n,r,o={}){return new Promise((i,a)=>{this._enQueue(t,{start:n,end:r,resolve:i,reject:a,requestOptions:o}),this.timeout||(this.timeout=setTimeout(()=>{this.timeout=void 0,this._aggregateAndDispatch()},this.frequency||1))})}}const bgt="modulepreload",ygt=function(e,t){return new URL(e,t).href},RW={},xgt=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ygt(i,r),i in RW)return;RW[i]=!0;const a=i.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===i&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${s}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":bgt,a||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),a)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};var wgt=typeof self=="object"&&self.self===self&&self||typeof ue=="object"&&ue.global===ue&&ue||ue;const LW=Pc(wgt),$W=(...e)=>xgt(()=>import("./index-dd8ab3f5.js"),[],import.meta.url).then(({default:t})=>t(...e));async function _gt(e,t,n,r={}){LW.fetch||(LW.fetch=$W);const o=new Date,i=Object.assign({method:"GET",headers:{range:`bytes=${t}-${n}`}},r),a=await $W(e,i),s=new Date;if(a.status!==206&&a.status!==200)throw new Error(`HTTP ${a.status} when fetching ${e} bytes ${t}-${n}`);if(a.status===200)throw new Error(`HTTP ${a.status} when fetching ${e} bytes ${t}-${n}`);const l=await a.arrayBuffer().then(c=>Buffer.from(c));return{headers:a.headers.map,requestDate:o,responseDate:s,buffer:l}}function Sgt(e){return e.name==="AbortError"||e.code==="ERR_ABORTED"||!!e.message.match(/\b(aborted|AbortError)\b/i)}class Cgt{constructor({fetch:t=_gt,size:n=1e7,chunkSize:r=32768,aggregationTime:o=100,minimumTTL:i=1e3,maxFetchSize:a=r*4,maxExtraFetch:s=r}){this.aggregator=new vgt({fetch:t,frequency:o,maxFetchSize:a,maxExtraSize:s}),this.chunkSize=r,this.chunkCache=new TW({maxSize:Math.floor(n/r)||1}),this.cacheSemantics=new rgt({minimumTTL:i}),this.stats=new TW({maxSize:20})}async getRange(t,n=0,r,o={}){let i=r;if(i===void 0){const d=await this.stat(t);if(d.size===void 0)throw new Error("length not specified, and could not determine size of the remote file");i=d.size-n}const a=Math.floor(n/this.chunkSize),s=Math.floor((n+i-1)/this.chunkSize),l=new Array(s-a+1);for(let d=a;d<=s;d+=1)l[d-a]=this._getChunk(t,d,o).then(f=>f&&{headers:f.headers,buffer:f.buffer,chunkNumber:d});let c=await Promise.all(l);if(c=c.filter(d=>!!d),!c.length)return{headers:{},buffer:Buffer.allocUnsafe(0)};const u=n-c[0].chunkNumber*this.chunkSize;return{headers:this._makeHeaders(c[0].headers,n,n+i-1),buffer:this._makeBuffer(c,u,i)}}_makeBuffer(t,n,r){if(t.length===1)return t[0].buffer.slice(n,n+r);if(t.length===0)return Buffer.allocUnsafe(0);const o=t.map(l=>l.buffer),i=o.shift().slice(n);let a=o.pop(),s=i.length+o.reduce((l,c)=>l+c.length,0)+a.length-r;return s<0&&(s=0),a=a.slice(0,a.length-s),Buffer.concat([i,...o,a])}async stat(t){let n=this.stats.get(t);if(!n){const r=await this._getChunk(t,0);if(this._recordStatsIfNecessary(t,r),n=this.stats.get(t),!n)throw new Error(`failed to retrieve file size for ${t}`)}return n}_headersToStats(t){const{headers:n}=t,r={};if(n["content-range"]){const o=n["content-range"].match(/\d+-\d+\/(\d+)/);o&&(r.size=parseInt(o[1],10),Number.isNaN(r.size)&&delete r.size)}return n["last-modified"]&&(r.mtime=new Date(n["last-modified"]),r.mtime.toString()==="Invalid Date"&&delete r.mtime,r.mtime&&(r.mtimeMs=r.mtime.getTime())),r}_makeHeaders(t,n,r){const o=Object.assign({},t||{});o["content-length"]=r-n;const a=(o["content-range"]||"").match(/\d+-\d+\/(\d+)/);return a&&(o["content-range"]=`${n}-${r-1}/${a[1]}`,o["x-resource-length"]=a[1]),o}async _getChunk(t,n,r){const o=`${t}/${n}`,i=this.chunkCache.get(o);if(i){let f,p;try{f=await i}catch(h){if(Sgt(h))p=!0;else throw h}return p||!this.cacheSemantics.cachedChunkIsValid(f)?(this._uncacheIfSame(o,i),this._getChunk(t,n,r)):(this._recordStatsIfNecessary(t,f),f)}const a=n*this.chunkSize;let s=a+this.chunkSize;const l=this.stats.get(t);if(l&&l.size){if(a>=l.size)return;s>=l.size&&(s=l.size)}let c=!1;const u=this.aggregator.fetch(t,a,s,r).catch(f=>{throw c=!0,this._uncacheIfSame(o,u),f});c||this.chunkCache.set(o,u);const d=await u;return this._recordStatsIfNecessary(t,d),this.cacheSemantics.chunkIsCacheable(d)||this._uncacheIfSame(o,u),d}_recordStatsIfNecessary(t,n){this.stats.has(t)||this.stats.set(t,this._headersToStats(n))}_uncacheIfSame(t,n){this.chunkCache.get(t)===n&&this.chunkCache.delete(t)}reset(){this.stats.clear(),this.chunkCache.clear()}}const Pgt=Object.freeze(Object.defineProperty({__proto__:null,HttpRangeFetcher:Cgt},Symbol.toStringTag,{value:"Module"})),Mgt=Pa(Pgt);Object.defineProperty(Lm,"__esModule",{value:!0});Lm.RemoteFileWithRangeCache=Lm.clearCache=void 0;const Agt=Mgt,Egt=ay,Tgt=kde,X5={};function Ogt(e,t,n,r={}){const o=X5[e];if(!o)throw new Error(`fetch not registered for ${e}`);return o(e,t,n,r)}const Lde=new Agt.HttpRangeFetcher({fetch:Ogt,size:500*1024**2,chunkSize:128*124,maxFetchSize:100*1024**2,minimumTTL:24*60*60*1e3});function Igt(){Lde.reset()}Lm.clearCache=Igt;class kgt extends Tgt.RemoteFile{async fetch(t,n){X5[String(t)]||(X5[String(t)]=this.fetchBinaryRange.bind(this));const r=n&&n.headers;let o;if(r&&(r instanceof Headers?o=r.get("range"):Array.isArray(r)?[,o]=r.find(([i])=>i==="range")||[void 0,void 0]:o=r.range),o){const i=/bytes=(\d+)-(\d+)/.exec(o);if(i){const[,a,s]=i,l=Number.parseInt(a,10),c=Number.parseInt(s,10),u=await Lde.getRange(t,l,c-l+1,{signal:n&&n.signal}),{headers:d}=u;return new Response(u.buffer,{status:206,headers:d})}}return super.fetch(t,n)}async fetchBinaryRange(t,n,r,o={}){const i=new Date,a={...o.headers,range:`bytes=${n}-${r}`},s=await super.fetch(t,{...o,headers:a}),l=new Date;if(s.status!==206){const d=`HTTP ${s.status} (${s.statusText}) when fetching ${t} bytes ${n}-${r}`,f=" (should be 206 for range requests)";throw new Error(`${d}${s.status===200?f:""}`)}const c={};for(const[d,f]of s.headers.entries())c[d]=f;const u=await s.arrayBuffer();return{headers:c,requestDate:i,responseDate:l,buffer:Egt.Buffer.from(u)}}}Lm.RemoteFileWithRangeCache=kgt;(function(e){var t=ue&&ue.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteFileWithRangeCache=e.getFetcher=e.openLocation=e.resolveUriLocation=void 0;const n=kde,r=t(Sse),o=Lm,i=nm,a=kz,s=Ea();function l(v){return"localPath"in v}function c(v){return"blobId"in v}function u(v){return v.baseUri?{...v,uri:new URL(v.uri,v.baseUri).href}:v}e.resolveUriLocation=u;function d(v,m){if(!v)throw new Error("must provide a location to openLocation");if(l(v)){if(!v.localPath)throw new Error("No local path provided");if(r.default||s.isElectron)return new n.LocalFile(v.localPath);throw new Error("can't use local files in the browser")}if(c(v)){const b=(0,a.getBlob)(v.blobId);if(!b)throw new Error(`file ("${v.name}") was opened locally from a previous session. To restore it, go to track settings and reopen the file`);return new n.BlobFile(b)}if((0,i.isUriLocation)(v)){if(!v.uri)throw new Error("No URI provided");const b=u(v);if(m){const x=p(v,m);if(x)return x.openLocation(b)}return new o.RemoteFileWithRangeCache(b.uri,{fetch:h})}throw new Error("invalid fileLocation")}e.openLocation=d;function f(v,m){if(!(0,i.isUriLocation)(v))throw new Error(`Not a valid UriLocation: ${JSON.stringify(v)}`);if(m){const b=p(v,m);if(b)return b.getFetcher(v)}return h}e.getFetcher=f;function p(v,m){const{rootModel:b}=m;if(b&&(0,i.isRootModelWithInternetAccounts)(b))return b.findAppropriateInternetAccount(v);if(v.internetAccountPreAuthorization){if(!v.internetAccountPreAuthorization.authInfo.token)throw new Error("Failed to obtain token from internet account. Try reloading the page");return m.getInternetAccountType(v.internetAccountPreAuthorization.internetAccountType).stateModel.create({type:v.internetAccountPreAuthorization.internetAccountType,configuration:v.internetAccountPreAuthorization.authInfo.configuration})}}async function h(v,m){var b;const x=await fetch(v,m);if(x.status===401&&(!((b=x.headers.get("WWW-Authenticate"))===null||b===void 0)&&b.includes("Basic")))throw new i.AuthNeededError("Accessing HTTPBasic resource without authentication",v.toString());return x}var g=Lm;Object.defineProperty(e,"RemoteFileWithRangeCache",{enumerable:!0,get:function(){return g.RemoteFileWithRangeCache}})})(iM);var $de={};Object.defineProperty($de,"__esModule",{value:!0});const $L=Qd,Rgt=rm,Lgt=$L.types.model("BaseView",{id:Rgt.ElementId,displayName:$L.types.maybe($L.types.string),minimized:!1}).volatile(()=>({width:800})).views(()=>({menuItems(){return[]}})).actions(e=>({setDisplayName(t){e.displayName=t},setWidth(t){e.width=t},setMinimized(t){e.minimized=t}}));var $gt=$de.default=Lgt,Dde={exports:{}};(function(e){const t=function(){let E={gf:{},gc:{},gs:{},gr:{},seqname:[],seqdata:{}};return Object.keys(E).forEach(k=>this[k]=E[k]),this},n=/^# STOCKHOLM 1.0/,r=/^\/\/\s*$/,o=/^#=GF\s+(\S+)\s+(.*?)\s*$/,i=/^#=GC\s+(\S+)\s+(.*?)\s*$/,a=/^#=GS\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,s=/^#=GR\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,l=/^\s*(\S+)\s+(\S+)\s*$/,c=/\S/,u="No format header: # STOCKHOLM 1.0",d="No format footer: //",f="Malformed line",p=E=>"(At line "+(E+1)+") ",h=E=>n.test(E),g=E=>{try{b(E,{strict:!0})}catch{return!1}return!0},v=E=>{throw new Error(E)},m=E=>console.warn(E),b=(E,k)=>{k=k||{};const B=k.quiet?()=>null:m,$=k.strict?v:B;let j=[],V=null;return E.split(`
`).forEach((Q,H)=>{const X=()=>{V||($(p(H)+u),V=new t)};let J;n.test(Q)?(V&&$(p(H)+d),V=new t):r.test(Q)?(V?j.push(V):$(p(H)+u),V=null):(J=o.exec(Q))?(X(),V.gf[J[1]]=V.gf[J[1]]||[],V.gf[J[1]].push(J[2])):(J=i.exec(Q))?(X(),V.gc[J[1]]=V.gc[J[1]]||"",V.gc[J[1]]+=J[2]):(J=a.exec(Q))?(X(),V.gs[J[2]]=V.gs[J[2]]||{},V.gs[J[2]][J[1]]=V.gs[J[2]][J[1]]||[],V.gs[J[2]][J[1]].push(J[3])):(J=s.exec(Q))?(X(),V.gr[J[2]]=V.gr[J[2]]||{},V.gr[J[2]][J[1]]=V.gr[J[2]][J[1]]||"",V.gr[J[2]][J[1]]+=J[3]):(J=l.exec(Q))?(X(),V.seqdata[J[1]]||(V.seqdata[J[1]]="",V.seqname.push(J[1])),V.seqdata[J[1]]+=J[2]):c.test(Q)&&v(p(H)+f)}),V&&($("Warning: no end line //"),j.push(V)),j},x=(E,k)=>{const B=b(E,k);return B.length===0&&v("No alignments found"),B.length>1&&v("More than one alignment found"),B[0]},y=(E,k)=>{let B=new t;return k=k||Object.keys(E),k.forEach($=>B.addRow($,E[$])),B},w=E=>{let k=new t;return E.forEach(B=>k.addRow(B[0],B[1])),k};t.prototype.rows=function(){return this.seqname.length},t.prototype.columns=function(){let E=0;return this.seqname.forEach(k=>{E=Math.max(E,this.seqdata[k].length)}),Object.keys(this.gr).forEach(k=>Object.keys(this.gr[k]).forEach(B=>{E=Math.max(E,this.gr[k][B].length)})),E},t.prototype.allNames=function(){let E={},k=[],B=j=>{E[j]||(E[j]=!0,k.push(j))},$=j=>j.forEach(B);return $(this.seqname),$(Object.keys(this.seqdata)),Object.keys(this.gr).forEach(j=>$(Object.keys(this.gr[j]))),Object.keys(this.gs).forEach(j=>$(Object.keys(this.gs[j]))),k},t.prototype.allTags=function(){let E={};const k=B=>Object.keys(B).forEach($=>E[$]=!0);return k(this.gc),k(this.gf),k(this.gr),k(this.gs),Object.keys(E).sort()},t.prototype.addRow=function(E,k){return this.seqdata[E]&&v("Duplicate row name"),this.seqname.push(E),this.seqdata[E]=k||"",this},t.prototype.deleteRow=function(E){return this.seqdata[E]||v("Row not found"),this.seqname=this.seqname.filter(k=>k!==E),delete this.seqdata[E],Object.keys(this.gr).forEach(k=>delete this.gr[k][E]),Object.keys(this.gs).forEach(k=>delete this.gs[k][E]),this};const _=(E,k)=>{let B={};return Object.keys(E).forEach($=>B[$]=k(E[$])),B},S=E=>_(E,k=>k.slice(0)),P=E=>_(E,k=>S(k));t.prototype.copy=function(){let E=new t;return E.seqname=this.seqname.slice(0),E.seqdata=S(this.seqdata),E.gf=S(this.gf),E.gc=S(this.gc),E.gs=P(this.gs),E.gr=P(this.gr),E};const M=(E,k)=>k.map(B=>E[B]).join(""),I=(E,k)=>_(E,B=>M(B,k)),O=(E,k)=>_(E,B=>I(B,k));t.prototype.extractColumns=function(E){const k=this.columns(),B=E.filter(j=>j<0||j>=k);B.length&&v("Bad column indices: "+B.join(","));let $=new t;return $.seqname=this.seqname.slice(0),$.seqdata=I(this.seqdata,E),$.gf=S(this.gf),$.gc=I(this.gc,E),$.gs=P(this.gs),$.gr=O(this.gr,E),$},t.prototype.extractColumnRange=function(E,k){return this.extractColumns(new Array(k+1-E).fill(0).map((B,$)=>E+$))},t.prototype.defaultGapChars=".-",t.prototype.seqpos2col=function(E,k){k=k||this.defaultGapChars,this.seqdata[E]||v("Row not found");const B=this.seqdata[E];return B.split("").map(($,j)=>k.indexOf(B[j])<0?j:-1).filter($=>$>=0)},t.prototype.col2seqpos=function(E,k){k=k||this.defaultGapChars,this.seqdata[E]||v("Row not found");const B=this.seqdata[E];let $=-1;return B.split("").map((j,V)=>k.indexOf(B[V])<0?++$:$+.5)};function L(E,k){for(;E.length<k;)E=" "+E;return E}function R(E,k){for(;E.length<k;)E=E+" ";return E}function T(E){return L("",E)}t.prototype.toString=function(E){E=E||{width:80,indentNames:!1};const k=this.allNames(),B=this.columns(),$=Math.max.apply(null,k.map(J=>J.length).concat([0])),j=Math.max.apply(null,this.allTags().map(J=>J.length).concat([0])),V=j?j+6:0,q=E.width?Math.max(1,E.width-$-V-1):B,Q=E.indentNames?L:R,H=E.indentNames?(J,G)=>L(J,j)+" "+L(G,$):(J,G)=>R(J+" "+G,j+$+1);let X=[0];for(let J=q;J<B;J+=q)X.push(J);return`# STOCKHOLM 1.0
`+Object.keys(this.gf).sort().map(J=>this.gf[J].map(G=>"#=GF "+Q(J,j)+" "+G+`
`).join("")).join("")+Object.keys(this.gs).sort().map(J=>Object.keys(this.gs[J]).map(G=>this.gs[J][G].map(ie=>"#=GS "+H(J,G)+" "+ie+`
`).join("")).join("")).join("")+X.map(J=>Object.keys(this.gc).sort().map(G=>"#=GC "+Q(G,j)+T($+2)+this.gc[G].substr(J,q)+`
`).join("")+k.map(G=>Object.keys(this.gr).filter(ie=>this.gr[ie][G]).sort().map(ie=>"#=GR "+H(ie,G)+" "+this.gr[ie][G].substr(J,q)+`
`).join("")+(this.seqdata[G]?Q(G,$+V)+" "+this.seqdata[G].substr(J,q)+`
`:"")).join("")).join(`
`)+`//
`},t.prototype.toFasta=function(E){E=E||{width:80};const k=this.columns(),B=E.width||k;let $=[0];for(let j=B;j<k;j+=B)$.push(j);return this.allNames().map(j=>this.seqdata[j]?">"+j+`
`+$.map(V=>this.seqdata[j].substr(V,B)+`
`).join(""):"").join("")},t.prototype.toRowList=function(E){return this.allNames().filter(k=>this.seqdata[k]).map(k=>[k,this.seqdata[k]])},e.exports={sniff:h,validate:g,parse:x,parseAll:b,fromSeqIndex:y,fromRowList:w,Stockholm:t}})(Dde);var Dgt=Dde.exports,Fgt=Dgt;const Fde=Pc(Fgt),Ngt=Wn(function({track:e,model:t,offsetX:n}){const{blockSize:r,scrollX:o,bgColor:i,colorScheme:a,colWidth:s,rowHeight:l,highResScaleFactor:c}=t,{model:{customColorScheme:u,data:d}}=e,f=u||a,p=Ir(),h=C.useRef(null),g=C.useMemo(()=>xde(f,p),[f,p]);return C.useEffect(()=>{if(!h.current)return;const v=h.current.getContext("2d");if(!v)return;v.resetTransform(),v.scale(c,c),v.clearRect(0,0,r,l),v.translate(-n,0),v.textAlign="center",v.font=v.font.replace(/\d+px/,`${Math.max(8,l-8)}px`);const m=Math.max(0,Math.floor(n/s)),b=Math.max(0,Math.ceil((n+r)/s)),x=d==null?void 0:d.slice(m,b);for(let y=0;x&&y<x.length;y++){const w=x[y],_=f[w.toUpperCase()];if(i){const S=y*s+n-n%s;v.fillStyle=_||"white",v.fillRect(S,0,s,l),l>=10&&s>=l/2&&(v.fillStyle=g[w.toUpperCase()]||"black",v.fillText(w,S+s/2,l/2+1))}}},[i,r,s,l,n,g,f,c,d]),ke.createElement("canvas",{ref:h,height:l*c,width:r*c,style:{position:"absolute",left:o+n,width:r,height:l}})}),Bgt=Wn(function({track:e,model:t}){const{blocksX:n,msaAreaWidth:r,rowHeight:o}=t;return ke.createElement("div",{style:{position:"relative",height:o,width:r,overflow:"hidden"}},n.map(i=>ke.createElement(Ngt,{key:i,track:e,model:t,offsetX:i})))});class jgt{constructor({maxHeight:t=1e4}={}){this.maxHeightReached=!1,this.rbush=new Cle,this.rectangles=new Map,this.maxHeight=Math.ceil(t),this.pTotalHeight=0}addRect(t,n,r,o,i){const a=this.rectangles.get(t);if(a)return a.minY;let s=0;for(;this.rbush.collides({minX:n,minY:s,maxX:r,maxY:s+o})&&s<=this.maxHeight;)s+=1;const l={minX:n,minY:s,maxX:r,maxY:s+o,id:t,data:i};return this.rbush.insert(l),this.rectangles.set(t,l),this.pTotalHeight=Math.max(this.pTotalHeight,s),s}get totalHeight(){return this.pTotalHeight}}const zgt=Wn(function({track:e,model:t,offsetX:n}){const{blockSize:r,colWidth:o,blanks:i,rowHeight:a,highResScaleFactor:s,scrollX:l}=t,{model:{height:c,features:u,associatedRowName:d}}=e,f=hr(u)?M_(u):u,p=C.useMemo(()=>{const m=new jgt;return f==null||f.forEach((b,x)=>{const{start:y,end:w}=b;if(d){const _=t.rowSpecificBpToPx(d,y-1),S=t.rowSpecificBpToPx(d,w);m.addRect(`${x}`,_,S,a,b)}else{const _=t.globalBpToPx(y-1),S=t.globalBpToPx(w);m.addRect(`${x}`,_,S,a,b)}}),m},[a,f,d,t,i]),h=C.useRef(null),g=C.useRef(null),v=C.useRef(null);return C.useEffect(()=>{if(!h.current)return;const m=h.current.getContext("2d");if(!m)return;m.resetTransform(),m.scale(s,s),m.clearRect(0,0,r,c),m.translate(-n,0),m.textAlign="center",m.font=m.font.replace(/\d+px/,`${Math.max(8,a-8)}px`);const b=Math.max(0,Math.floor(n/o));m.fillStyle="goldenrod",p.rectangles.forEach(x=>{const{minX:y,maxX:w,minY:_,maxY:S}=x,P=(y-b)*o+n-n%o,M=(w-b)*o+n-n%o;M-P>0&&m.fillRect(P,_,M-P,(S-_)/2)})},[d,r,o,p.rectangles,t,a,c,n,s,u,i]),C.useEffect(()=>{if(!g.current)return;const m=g.current.getContext("2d");m&&(m.resetTransform(),m.scale(s,s),m.clearRect(0,0,r,c),m.translate(-n,0),m.textAlign="center",m.font=m.font.replace(/\d+px/,`${Math.max(8,a-8)}px`),m.fillStyle="black",m.textAlign="left",p.rectangles.forEach(b=>{var x,y,w,_;const{minX:S,maxX:P,maxY:M,minY:I}=b,O=b.data,L=S*o,R=P*o;if(R-L>0){const T=(y=(x=O.attributes)===null||x===void 0?void 0:x.Note)===null||y===void 0?void 0:y[0],E=(_=(w=O.attributes)===null||w===void 0?void 0:w.Name)===null||_===void 0?void 0:_[0],k=O.type;m.fillText([k,E,T].filter(B=>!!B).join(" - "),Math.max(Math.min(-l,R),L),I+(M-I))}}))},[r,o,l,s,c,p.rectangles,n,u,t,a,i]),u?ke.createElement(ke.Fragment,null,ke.createElement("canvas",{ref:h,height:c*s,width:r*s,style:{position:"absolute",left:l+n,width:r,height:c}}),ke.createElement("canvas",{ref:g,height:c*s,width:r*s,style:{position:"absolute",left:l+n,width:r,height:c}}),ke.createElement("canvas",{ref:v,height:c*s,width:r*s,style:{position:"absolute",left:l+n,width:r,height:c}})):null}),DW=Wn(function({model:e,track:t}){const{blocksX:n,msaAreaWidth:r}=e,{model:{height:o}}=t;return ke.createElement("div",{style:{position:"relative",height:o,width:r,overflow:"hidden"}},n.map(i=>ke.createElement(zgt,{track:t,key:i,model:e,offsetX:i})))});var bw={},Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.parseBlocks=Wa.parseBlock=Wa.getSeqBounds=Wa.getFirstNonEmptyLine=Wa.parseHeader=Wa.parseVersion=void 0;function Nde(e){const t=e.match(/\(?(\d+(\.\d+)+)\)?/);return t&&t.length>1?t[1]:""}Wa.parseVersion=Nde;function Hgt(e){const t=["CLUSTAL","PROBCONS","MUSCLE","MSAPROBS","Kalign"];t.find(r=>e.startsWith(r))||console.warn(`${e} is not a known CLUSTAL header: ${t.join(",")}, proceeding but could indicate an issue`);const n=Nde(e);return{info:e,version:n}}Wa.parseHeader=Hgt;function Bde(e){let t=e.next();for(;!t.done&&t.value.trim()==="";)t=e.next();return t.value}Wa.getFirstNonEmptyLine=Bde;function jde(e){const t=e.split(/\s+/),n=e.slice(t[0].length),r=t[0].length+n.indexOf(t[1]),o=r+t[1].length;return[r,o]}Wa.getSeqBounds=jde;function K5(e){let t=Bde(e);const n=[];let r="";if(!t)return;for(;t;)t[0]!==" "?n.push(t):r=t,t=e.next().value;const[o,i]=jde(n[0]),s=n.map(d=>d.split(/\s+/)).map(d=>d[0]),l=n.map(d=>d.slice(o,i));let c=r.slice(o,i);const u=l[0].length-c.length;return u&&(c+=" ".repeat(u)),{ids:s,seqs:l,consensus:c}}Wa.parseBlock=K5;function Vgt(e){let t;const n=K5(e);if(n!==void 0)for(;t=K5(e);){for(let r=0;r<t.seqs.length;r++)n.seqs[r]+=t.seqs[r];n.consensus+=t.consensus}return n}Wa.parseBlocks=Vgt;Object.defineProperty(bw,"__esModule",{value:!0});var zde=bw.parse=bw.parseIter=void 0;const DL=Wa;function Hde(e){const t=DL.getFirstNonEmptyLine(e);if(!t)throw new Error("Empty file received");const n=DL.parseHeader(t),r=DL.parseBlocks(e);if(r===void 0)throw new Error("No blocks parsed");const o=r.seqs.map((a,s)=>({id:r.ids[s],seq:a})),{consensus:i}=r;if(i.length!=o[0].seq.length)throw new Error(`Consensus length != sequence length. Con ${i.length} seq ${o[0].seq.length}`);return{consensus:i,alns:o,header:n}}bw.parseIter=Hde;function Ugt(e){const t=e.split(`
`)[Symbol.iterator]();return Hde(t)}zde=bw.parse=Ugt;class Ggt{constructor(t){this.MSA=zde(t)}getMSA(){return this.MSA}getRow(t){var n;return(n=this.MSA.alns.find(r=>r.id===t))===null||n===void 0?void 0:n.seq.split("")}getWidth(){return this.MSA.alns[0].seq.length}getRowData(){}getHeader(){return this.MSA.header}getNames(){return this.MSA.alns.map(t=>t.id)}getStructures(){return{}}get alignmentNames(){return[]}getTree(){return{id:"root",name:"root",noTree:!0,branchset:this.getNames().map(t=>({id:t,name:t,branchset:[]}))}}get seqConsensus(){return this.MSA.consensus}get secondaryStructureConsensus(){}get tracks(){var t;return!((t=this.seqConsensus)===null||t===void 0)&&t.trim()?[{id:"seqConsensus",name:"Sequence consensus",data:this.seqConsensus,customColorScheme:{"*":"white",":":"grey",".":"darkgrey"," ":"black"}}]:[]}}function Vde(e){const t=[];let n={};const r=e.split(/\s*(;|\(|\)|,|:)\s*/);for(let o=0;o<r.length;o++){const i=r[o],a={};switch(i){case"(":n.branchset=[a],t.push(n),n=a;break;case",":t[t.length-1].branchset.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:{const s=r[o-1];s===")"||s==="("||s===","?n.name=i:s===":"&&(n.length=parseFloat(i))}}}return n}class Wgt{constructor(t,n){const r=Fde.parseAll(t);this.data=r,this.MSA=r[n]}getMSA(){return this.MSA}getRow(t){var n,r;return(r=(n=this.MSA)===null||n===void 0?void 0:n.seqdata[t])===null||r===void 0?void 0:r.split("")}getWidth(){var t;const n=Object.keys((t=this.MSA)===null||t===void 0?void 0:t.seqdata)[0];return this.getRow(n).length}get alignmentNames(){return this.data.map((t,n)=>{var r;return((r=t.gf.DE)===null||r===void 0?void 0:r[0])||`Alignment ${n+1}`})}getHeader(){var t,n;return{General:this.MSA.gf,Accessions:(t=this.MSA.gs)===null||t===void 0?void 0:t.AC,Dbxref:(n=this.MSA.gs)===null||n===void 0?void 0:n.DR}}getRowData(t){var n,r;return{name:t,accession:(n=this.MSA.gs)===null||n===void 0?void 0:n.AC[t],dbxref:(r=this.MSA.gs)===null||r===void 0?void 0:r.DR[t]}}getNames(){return Object.keys(this.MSA.seqdata)}getSeqCoords(){}getStructures(){var t;const n=/PDB; +(\S+) +(\S); ([0-9]+)-([0-9]+)/,r=this.MSA,o=Object.entries(((t=r.gs)===null||t===void 0?void 0:t.DR)||{}).map(([a,s])=>[a,n.exec(s)]).filter(a=>!!a[1]).map(([a,s])=>{const l=s[1].toLowerCase(),c=s[2],u=+s[3],d=+s[4];return{id:a,pdb:l,chain:c,startPos:u,endPos:d}}),i={};for(const a of o){const{id:s,...l}=a;i[s]||(i[s]=[]),i[s].push(l)}return i}getTree(){var t,n,r;const o=(r=(n=(t=this.MSA)===null||t===void 0?void 0:t.gf)===null||n===void 0?void 0:n.NH)===null||r===void 0?void 0:r[0];return o?T6(Vde(o)):{id:"root",name:"root",noTree:!0,branchset:this.getNames().map(i=>({id:i,branchset:[],name:i}))}}get seqConsensus(){var t;return(t=this.MSA.gc)===null||t===void 0?void 0:t.seq_cons}get secondaryStructureConsensus(){var t;return(t=this.MSA.gc)===null||t===void 0?void 0:t.SS_cons}get tracks(){return[{id:"seqConsensus",name:"Sequence consensus",data:this.seqConsensus,customColorScheme:{}},{id:"secondaryStruct",name:"Secondary-structure",data:this.secondaryStructureConsensus,customColorScheme:{">":"pink","<":"lightblue"}}]}}function qgt(e){return e.split(">").filter(t=>/\S/.test(t)).map(t=>{const[n,...r]=t.split(`
`),[o,...i]=n.split(" "),a=i.join(" "),l=r.join("").replace(/\s/g,"");return{id:o,description:a,sequence:l}})}class Xgt{constructor(t){this.MSA={seqdata:Object.fromEntries(qgt(t).map((n,r)=>[`${n.id}-${r}`,n.sequence]))}}getMSA(){return this.MSA}getRowData(){}getNames(){return Object.keys(this.MSA.seqdata)}getRow(t){var n,r;return(r=(n=this.MSA)===null||n===void 0?void 0:n.seqdata[t])===null||r===void 0?void 0:r.split("")}getWidth(){var t;const n=Object.keys((t=this.MSA)===null||t===void 0?void 0:t.seqdata)[0];return this.getRow(n).length}getStructures(){return{}}get alignmentNames(){return[]}getHeader(){return{}}getTree(){return{id:"root",name:"root",noTree:!0,branchset:this.getNames().map(t=>({id:t,branchset:[],name:t}))}}get seqConsensus(){}get secondaryStructureConsensus(){}get tracks(){return[]}}const Kgt=Qt.model({id:Qt.string,accession:Qt.string,name:Qt.string,associatedRowName:Qt.string,height:Qt.optional(Qt.number,100)}).volatile(()=>({error:void 0,data:void 0})).actions(e=>({setError(t){e.error=t},setData(t){e.data=t}})).actions(e=>({afterCreate(){cA(e,Ob(async()=>{try{const{accession:t}=e,n=`https://rest.uniprot.org/uniprotkb/${t}.gff`,r=await fetch(n);if(!r.ok)throw new Error(`HTTP ${r.status} fetching ${n}: ${await r.text()}`);e.setData(await r.text())}catch(t){console.error(t),e.setError(t)}}))}})).views(e=>({get loading(){return!e.data},get features(){return Eht(e.data)}})),Ygt=Qt.model({id:Qt.identifier,structure:Qt.model({pdb:Qt.string,startPos:Qt.number,endPos:Qt.number}),range:Qt.maybe(Qt.string)}),Zgt=Qt.model("MsaView",{id:rm.ElementId,type:Qt.literal("MsaView"),height:Qt.optional(Qt.number,550),treeAreaWidth:Qt.optional(Qt.number,400),treeWidth:Qt.optional(Qt.number,300),rowHeight:20,scrollY:0,scrollX:0,resizeHandleWidth:5,blockSize:1e3,mouseRow:Qt.maybe(Qt.number),mouseCol:Qt.maybe(Qt.number),selectedStructures:Qt.array(Ygt),labelsAlignRight:!1,colWidth:16,showBranchLen:!0,bgColor:!0,drawTree:!0,drawNodeBubbles:!0,highResScaleFactor:2,colorSchemeName:"maeditor",treeFilehandle:Qt.maybe(rm.FileLocation),msaFilehandle:Qt.maybe(rm.FileLocation),currentAlignment:0,collapsed:Qt.array(Qt.string),showOnly:Qt.maybe(Qt.string),boxTracks:Qt.array(Kgt),turnedOffTracks:Qt.map(Qt.boolean),annotatedRegions:Qt.array(Qt.model({start:Qt.number,end:Qt.number,attributes:Qt.frozen()})),data:Qt.optional(Qt.model({tree:Qt.maybe(Qt.string),msa:Qt.maybe(Qt.string)}).actions(e=>({setTree(t){e.tree=t},setMSA(t){e.msa=t}})),{tree:"",msa:""})}).volatile(()=>({error:void 0,margin:{left:20,top:20},DialogComponent:void 0,DialogProps:void 0,annotPos:void 0})).actions(e=>({setDialogComponent(t,n){e.DialogComponent=t,e.DialogProps=n},setHeight(t){e.height=t},addStructureToSelection(t){e.selectedStructures.push(t)},removeStructureFromSelection(t){const n=e.selectedStructures.find(r=>r.id===t.id);n&&e.selectedStructures.remove(n)},toggleStructureSelection(t){const n=e.selectedStructures.find(r=>r.id===t.id);n?e.selectedStructures.remove(n):e.selectedStructures.push(t)},clearSelectedStructures(){e.selectedStructures=[]},setError(t){e.error=t},setMousePos(t,n){e.mouseCol=t,e.mouseRow=n},setRowHeight(t){e.rowHeight=t},setColWidth(t){e.colWidth=t},setColorSchemeName(t){e.colorSchemeName=t},setScrollY(t){e.scrollY=t},setScrollX(t){e.scrollX=t},setTreeAreaWidth(t){e.treeAreaWidth=t},setTreeWidth(t){e.treeWidth=t},setCurrentAlignment(t){e.currentAlignment=t},toggleLabelsAlignRight(){e.labelsAlignRight=!e.labelsAlignRight},toggleDrawTree(){e.drawTree=!e.drawTree},toggleCollapsed(t){e.collapsed.includes(t)?e.collapsed.remove(t):e.collapsed.push(t)},setShowOnly(t){e.showOnly=t},toggleBranchLen(){e.showBranchLen=!e.showBranchLen},toggleBgColor(){e.bgColor=!e.bgColor},toggleNodeBubbles(){e.drawNodeBubbles=!e.drawNodeBubbles},setData(t){e.data=t},async setMSAFilehandle(t){e.msaFilehandle=t},async setTreeFilehandle(t){if(t&&"blobId"in t){const n=await iM.openLocation(t).readFile("utf8");this.setTree(n)}else e.treeFilehandle=t},setMSA(t){e.data.setMSA(t)},setTree(t){e.data.setTree(t)},afterCreate(){cA(e,Ob(async()=>{const{treeFilehandle:t}=e;if(t)try{this.setTree(await iM.openLocation(t).readFile("utf8"))}catch(n){console.error(n),this.setError(n)}})),cA(e,Ob(async()=>{const{msaFilehandle:t}=e;if(t)try{this.setMSA(await iM.openLocation(t).readFile("utf8"))}catch(n){console.error(n),this.setError(n)}}))}})).views(e=>{let t=[],n=[],r=0,o=0;return{get initialized(){return(e.data.msa||e.data.tree||e.msaFilehandle||e.treeFilehandle)&&!e.error},get blocksX(){const{scrollX:i,blockSize:a,colWidth:s}=e,l=-(a*Math.floor(i/a))-a,c=[];for(let u=l;u<l+a*3;u+=a)u+a>0&&c.push(u);return(JSON.stringify(c)!==JSON.stringify(t)||s!==r)&&(t=c,r=s),t},get blocksY(){const{scrollY:i,blockSize:a,rowHeight:s}=e,l=-(a*Math.floor(i/a))-2*a,c=[];for(let u=l;u<l+a*3;u+=a)u+a>0&&c.push(u);return(JSON.stringify(c)!==JSON.stringify(n)||s!==o)&&(n=c,o=s),n}}}).views(e=>({get blocks2d(){return e.blocksY.flatMap(t=>e.blocksX.map(n=>[n,t]))},get done(){return e.initialized&&(e.data.msa||e.data.tree)},get colorScheme(){return Cde[e.colorSchemeName]},get header(){var t;return((t=this.MSA)===null||t===void 0?void 0:t.getHeader())||{}},getRowData(t){var n;const r=t.match(/\S+\/(\d+)-(\d+)/);return{data:((n=this.MSA)===null||n===void 0?void 0:n.getRowData(t))||{},...r&&{range:{start:+r[1],end:+r[2]}}}},get currentAlignmentName(){return this.alignmentNames[e.currentAlignment]},get alignmentNames(){var t;return((t=this.MSA)===null||t===void 0?void 0:t.alignmentNames)||[]},get noTree(){return!!this.tree.noTree},get menuItems(){return[]},get MSA(){const t=e.data.msa;return t?Fde.sniff(t)?new Wgt(t,e.currentAlignment):t.startsWith(">")?new Xgt(t):new Ggt(t):null},get numColumns(){var t;return((((t=this.MSA)===null||t===void 0?void 0:t.getWidth())||0)-this.blanks.length)*e.colWidth},get tree(){var t;return e.data.tree?T6(Vde(e.data.tree)):((t=this.MSA)===null||t===void 0?void 0:t.getTree())||{noTree:!0,branchset:[],id:"empty",name:"empty"}},get rowNames(){return this.hierarchy.leaves().map(t=>t.data.name)},get mouseOverRowName(){return e.mouseRow!==void 0?this.rowNames[e.mouseRow]:void 0},getMouseOverResidue(t){return this.columns[t]},get root(){let t=k6(this.tree,n=>n.branchset).sum(n=>n.branchset?0:1).sort((n,r)=>Mht(n.data.length||1,r.data.length||1));if(e.showOnly){const n=t.find(r=>r.data.id===e.showOnly);n&&(t=n)}return e.collapsed.length&&e.collapsed.map(n=>t.find(r=>r.data.id===n)).filter(n=>!!n).map(n=>Sde(n)),t},get structures(){var t;return((t=this.MSA)===null||t===void 0?void 0:t.getStructures())||{}},get inverseStructures(){return Object.fromEntries(Object.entries(this.structures).flatMap(([t,n])=>n.map(r=>[r.pdb,{id:t}])))},get msaAreaWidth(){return e.width-e.treeAreaWidth},get blanks(){var t;const n=[],r=this.hierarchy.leaves().map(({data:o})=>{var i;return(i=this.MSA)===null||i===void 0?void 0:i.getRow(o.name)}).filter(o=>!!o);for(let o=0;o<((t=r[0])===null||t===void 0?void 0:t.length);o++){let i=0;for(let a=0;a<r.length;a++)r[a][o]==="-"&&i++;i===r.length&&n.push(o)}return n},get rows(){return this.hierarchy.leaves().map(({data:t})=>{var n;return[t.name,(n=this.MSA)===null||n===void 0?void 0:n.getRow(t.name)]}).filter(t=>!!t[1])},get columns(){return Object.fromEntries(this.rows.map((t,n)=>[t[0],this.columns2d[n]]))},get columns2d(){return this.rows.map(t=>t[1]).map(t=>MW(this.blanks,t))},get colStats(){const t=[],n=this.columns2d;for(let r=0;r<n.length;r++)for(let o=0;o<n[r].length;o++){const i=t[o]||{};i[n[r][o]]||(i[n[r][o]]=0),i[n[r][o]]++,t[o]=i}return t},get hierarchy(){const t=this.root;return wmt().size([this.totalHeight,e.treeWidth]).separation(()=>1)(t),wde(t,t.data.length=0,e.treeWidth/_de(t)),t},get totalHeight(){return this.root.leaves().length*e.rowHeight}})).actions(e=>({addUniprotTrack(t){e.boxTracks.some(n=>n.name===t.name)?e.turnedOffTracks.has(t.name)&&this.toggleTrack(t.name):e.boxTracks.push({...t,id:t.name,associatedRowName:t.name})},doScrollY(t){e.scrollY=AW(-e.totalHeight+10,e.scrollY+t,0)},doScrollX(t){e.scrollX=AW(-e.numColumns+(e.msaAreaWidth-100),e.scrollX+t,0)},setMouseoveredColumn(t,n,r){var o;let i=0,a=0;const{id:s}=e.inverseStructures[r.slice(0,-4)]||{},l=(o=e.MSA)===null||o===void 0?void 0:o.getRow(s);if(l){for(a=0;a<l.length&&i<t;a++)l[a]!=="-"&&i++;e.mouseCol=i+1}else e.mouseCol=void 0},toggleTrack(t){e.turnedOffTracks.has(t)?e.turnedOffTracks.delete(t):e.turnedOffTracks.set(t,!0)}})).views(e=>({get secondaryStructureConsensus(){var t;return(t=e.MSA)===null||t===void 0?void 0:t.secondaryStructureConsensus},get seqConsensus(){var t;return(t=e.MSA)===null||t===void 0?void 0:t.seqConsensus},get conservation(){const t=e.columns2d;if(t.length)for(let n=0;n<t[0].length;n++){const r=[];for(let o=0;o<t.length;o++)r.push(t[o][n])}return["a"]},get tracks(){const t=e.blanks,n=e.MSA?e.MSA.tracks.map(i=>{const{data:a}=i;return{model:{...i,data:a?MW(t,a):void 0,height:e.rowHeight},ReactComponent:Bgt}}):[],r=e.boxTracks.filter(i=>!!e.rows.some(a=>a[0]===i.name)).map(i=>({model:i,ReactComponent:DW})),o=e.annotatedRegions.length>0?[{model:{features:e.annotatedRegions,height:100,id:"annotations",name:"User-created annotations",data:e.annotatedRegions.map(i=>{const a=i.attributes?Object.entries(i.attributes).map(([s,l])=>`${s}=${l.join(",")}`).join(";"):".";return["MSA_refcoord",".",".",i.start,i.end,".",".",".",a].join("	")}).join(`
`)},ReactComponent:DW}]:[];return[...n,...r,...o]},get turnedOnTracks(){return this.tracks.filter(t=>!e.turnedOffTracks.has(t.model.id))},pxToBp(t){return Math.floor((t-e.scrollX)/e.colWidth)},rowSpecificBpToPx(t,n){var r;const{rowNames:o,rows:i,blanks:a}=e,s=o.indexOf(t),l=i[s][1],u=((r=e.getRowData(t).range)===null||r===void 0?void 0:r.start)||0,d=n-u;if(d<0)return 0;let f=0,p=0;for(;p<l.length&&!(l[p]!=="-"&&f++===d);p++);let h=0;for(let g=0;g<l.length;g++)a.includes(g)&&g<p+1&&h++;return p-h},globalBpToPx(t){var n;let r=0;for(let o=0;o<((n=e.rows[0])===null||n===void 0?void 0:n[1].length);o++)e.blanks.includes(o)&&o<t+1&&r++;return t-r},relativePxToBp(t,n){const{rowNames:r,rows:o}=e,i=r.indexOf(t),a=o[i][1];let s=0;for(let l=0;l<n;l++)if(a[l]!=="-")s++;else if(s>=n)break;return s},getPos(t){let n=0;for(let r=0,o=0;r<t;r++,n++)for(;n===e.blanks[o];)o++,n++;return n}})).actions(e=>({addAnnotation(t,n,r){e.annotatedRegions.push({start:e.getPos(t),end:e.getPos(n),attributes:r})},setOffsets(t,n){e.annotPos={left:t,right:n}},clearAnnotPos(){e.annotPos=void 0}})),Qgt=Qt.snapshotProcessor(Qt.compose($gt,Zgt),{postProcessor(e){const t=e,{data:{tree:n,msa:r},...o}=t;return{data:{...!e.treeFilehandle&&{tree:n},...!e.msaFilehandle&&{msa:r}},...o}}}),Jgt=Qt.model({msaview:Qgt,nglSelection:Qt.optional(Qt.string,"")}).actions(e=>({setNGLSelection(t){e.nglSelection=t}}));function evt(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function tvt(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length<"u"))return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(e);if(o.length===0)return n([]);var i=o.length;function a(l,c){if(c&&(typeof c=="object"||typeof c=="function")){var u=c.then;if(typeof u=="function"){u.call(c,function(d){a(l,d)},function(d){o[l]={status:"rejected",reason:d},--i===0&&n(o)});return}}o[l]={status:"fulfilled",value:c},--i===0&&n(o)}for(var s=0;s<o.length;s++)a(s,o[s])})}function Ude(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}Ude.prototype=Error.prototype;function nvt(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length<"u"))return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(o.length===0)return r();for(var i=[],a=0;a<o.length;a++)try{t.resolve(o[a]).then(n).catch(function(s){i.push(s),i.length===o.length&&r(new Ude(i,"All promises were rejected"))})}catch(s){r(s)}})}var rvt=setTimeout;function Gde(e){return!!(e&&typeof e.length<"u")}function ovt(){}function ivt(e,t){return function(){e.apply(t,arguments)}}function lo(e){if(!(this instanceof lo))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],qde(e,this)}function Wde(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,lo._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?Y5:yw)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(o){yw(t.promise,o);return}Y5(t.promise,r)})}function Y5(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof lo){e._state=3,e._value=t,Z5(e);return}else if(typeof n=="function"){qde(ivt(n,t),e);return}}e._state=1,e._value=t,Z5(e)}catch(r){yw(e,r)}}function yw(e,t){e._state=2,e._value=t,Z5(e)}function Z5(e){e._state===2&&e._deferreds.length===0&&lo._immediateFn(function(){e._handled||lo._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)Wde(e,e._deferreds[t]);e._deferreds=null}function avt(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function qde(e,t){var n=!1;try{e(function(r){n||(n=!0,Y5(t,r))},function(r){n||(n=!0,yw(t,r))})}catch(r){if(n)return;n=!0,yw(t,r)}}lo.prototype.catch=function(e){return this.then(null,e)};lo.prototype.then=function(e,t){var n=new this.constructor(ovt);return Wde(this,new avt(e,t,n)),n};lo.prototype.finally=evt;lo.all=function(e){return new lo(function(t,n){if(!Gde(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var o=r.length;function i(s,l){try{if(l&&(typeof l=="object"||typeof l=="function")){var c=l.then;if(typeof c=="function"){c.call(l,function(u){i(s,u)},n);return}}r[s]=l,--o===0&&t(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)i(a,r[a])})};lo.any=nvt;lo.allSettled=tvt;lo.resolve=function(e){return e&&typeof e=="object"&&e.constructor===lo?e:new lo(function(t){t(e)})};lo.reject=function(e){return new lo(function(t,n){n(e)})};lo.race=function(e){return new lo(function(t,n){if(!Gde(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)lo.resolve(e[r]).then(t,n)})};lo._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){rvt(e,0)};lo._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const r=arguments[n];if(r!=null)for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t});const svt="118",lvt=0,FW=1,cvt=2,Xde=1,uvt=2,W1=3,y0=0,Xo=1,QS=2,Kde=1,Cd=0,fp=1,Q5=2,NW=3,BW=4,dvt=5,gv=100,fvt=101,pvt=102,jW=103,zW=104,hvt=200,mvt=201,gvt=202,vvt=203,Yde=204,Zde=205,bvt=206,yvt=207,xvt=208,wvt=209,_vt=210,Svt=0,Cvt=1,Pvt=2,J5=3,Mvt=4,Avt=5,Evt=6,Tvt=7,ik=0,Ovt=1,Ivt=2,fb=0,kvt=1,Rvt=2,Lvt=3,$vt=4,Dvt=5,F6=300,N6=301,B6=302,Qde=303,j6=304,JS=306,z6=307,BA=1e3,Xa=1001,jA=1002,Mr=1003,eN=1004,tN=1005,Bo=1006,Jde=1007,ak=1008,$m=1009,Fvt=1010,Nvt=1011,zA=1012,Bvt=1013,sM=1014,pd=1015,HA=1016,jvt=1017,zvt=1018,Hvt=1019,wx=1020,Vvt=1021,lm=1022,ns=1023,Uvt=1024,Gvt=1025,Wvt=ns,pb=1026,xw=1027,qvt=1028,Xvt=1029,Kvt=1030,Yvt=1031,Zvt=1032,Qvt=1033,HW=33776,VW=33777,UW=33778,GW=33779,WW=35840,qW=35841,XW=35842,KW=35843,Jvt=36196,YW=37492,ZW=37496,ebt=37808,tbt=37809,nbt=37810,rbt=37811,obt=37812,ibt=37813,abt=37814,sbt=37815,lbt=37816,cbt=37817,ubt=37818,dbt=37819,fbt=37820,pbt=37821,hbt=36492,mbt=37840,gbt=37841,vbt=37842,bbt=37843,ybt=37844,xbt=37845,wbt=37846,_bt=37847,Sbt=37848,Cbt=37849,Pbt=37850,Mbt=37851,Abt=37852,Ebt=37853,Tbt=2200,Obt=2201,Ibt=2202,VA=2300,lM=2301,FL=2302,ly=2400,Vv=2401,UA=2402,H6=2500,efe=2501,kbt=0,ra=3e3,eC=3001,V6=3007,U6=3002,Rbt=3003,tfe=3004,nfe=3005,rfe=3006,Lbt=3200,$bt=3201,x0=0,Dbt=1,NL=7680,Fbt=519,sk=35044,ww=35048;function tf(){}Object.assign(tf.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let o=0,i=r.length;o<i;o++)r[o].call(this,e)}}});const wi=[];for(let e=0;e<256;e++)wi[e]=(e<16?"0":"")+e.toString(16);const xn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(wi[e&255]+wi[e>>8&255]+wi[e>>16&255]+wi[e>>24&255]+"-"+wi[t&255]+wi[t>>8&255]+"-"+wi[t>>16&15|64]+wi[t>>24&255]+"-"+wi[n&63|128]+wi[n>>8&255]+"-"+wi[n>>16&255]+wi[n>>24&255]+wi[r&255]+wi[r>>8&255]+wi[r>>16&255]+wi[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,o){return r+(e-t)*(o-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*xn.DEG2RAD},radToDeg:function(e){return e*xn.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,o){const i=Math.cos,a=Math.sin,s=i(n/2),l=a(n/2),c=i((t+r)/2),u=a((t+r)/2),d=i((t-r)/2),f=a((t-r)/2),p=i((r-t)/2),h=a((r-t)/2);switch(o){case"XYX":e.set(s*u,l*d,l*f,s*c);break;case"YZY":e.set(l*f,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*f,s*u,s*c);break;case"XZX":e.set(s*u,l*h,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*h,s*c);break;case"ZYZ":e.set(l*h,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}};function ct(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(ct.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(ct.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),r=Math.sin(t),o=this.x-e.x,i=this.y-e.y;return this.x=o*n-i*r+e.x,this.y=o*r+i*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function Li(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Li.prototype,{isMatrix3:!0,set:function(e,t,n,r,o,i,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=o,c[5]=s,c[6]=n,c[7]=i,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,r=t.elements,o=this.elements,i=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],f=n[5],p=n[8],h=r[0],g=r[3],v=r[6],m=r[1],b=r[4],x=r[7],y=r[2],w=r[5],_=r[8];return o[0]=i*h+a*m+s*y,o[3]=i*g+a*b+s*w,o[6]=i*v+a*x+s*_,o[1]=l*h+c*m+u*y,o[4]=l*g+c*b+u*w,o[7]=l*v+c*x+u*_,o[2]=d*h+f*m+p*y,o[5]=d*g+f*b+p*w,o[8]=d*v+f*x+p*_,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*i*c-t*a*l-n*o*c+n*a*s+r*o*l-r*i*s},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,r=this.elements,o=n[0],i=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],f=n[8],p=f*l-c*d,h=c*u-f*s,g=d*s-l*u,v=o*p+i*h+a*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/v;return r[0]=p*m,r[1]=(a*d-f*i)*m,r[2]=(c*i-a*l)*m,r[3]=h*m,r[4]=(f*o-a*u)*m,r[5]=(a*s-c*o)*m,r[6]=g*m,r[7]=(i*u-d*o)*m,r[8]=(l*o-i*s)*m,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,o,i,a){const s=Math.cos(o),l=Math.sin(o);this.set(n*s,n*l,-n*(s*i+l*a)+i+e,-r*l,r*s,-r*(-l*i+s*a)+a+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,o=r[0],i=r[3],a=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*o+n*s,r[3]=t*i+n*l,r[6]=t*a+n*c,r[1]=-n*o+t*s,r[4]=-n*i+t*l,r[7]=-n*a+t*c,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});let Dg;const Dm={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Dg===void 0&&(Dg=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Dg.width=e.width,Dg.height=e.height;const n=Dg.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Dg}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let Nbt=0;function $r(e,t,n,r,o,i,a,s,l,c){Object.defineProperty(this,"id",{value:Nbt++}),this.uuid=xn.generateUUID(),this.name="",this.image=e!==void 0?e:$r.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:$r.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:Xa,this.wrapT=r!==void 0?r:Xa,this.magFilter=o!==void 0?o:Bo,this.minFilter=i!==void 0?i:ak,this.anisotropy=l!==void 0?l:1,this.format=a!==void 0?a:ns,this.internalFormat=null,this.type=s!==void 0?s:$m,this.offset=new ct(0,0),this.repeat=new ct(1,1),this.center=new ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Li,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:ra,this.version=0,this.onUpdate=null}$r.DEFAULT_IMAGE=void 0;$r.DEFAULT_MAPPING=F6;$r.prototype=Object.assign(Object.create(tf.prototype),{constructor:$r,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=xn.generateUUID()),!t&&e.images[r.uuid]===void 0){let o;if(Array.isArray(r)){o=[];for(let i=0,a=r.length;i<a;i++)o.push(Dm.getDataURL(r[i]))}else o=Dm.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:o}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==F6)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case BA:e.x=e.x-Math.floor(e.x);break;case Xa:e.x=e.x<0?0:1;break;case jA:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case BA:e.y=e.y-Math.floor(e.y);break;case Xa:e.y=e.y<0?0:1;break;case jA:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty($r.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function _r(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}Object.defineProperties(_r.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(_r.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,r=this.z,o=this.w,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12]*o,this.y=i[1]*t+i[5]*n+i[9]*r+i[13]*o,this.z=i[2]*t+i[6]*n+i[10]*r+i[14]*o,this.w=i[3]*t+i[7]*n+i[11]*r+i[15]*o,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,r,o;const s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],f=s[5],p=s[9],h=s[2],g=s[6],v=s[10];if(Math.abs(c-d)<.01&&Math.abs(u-h)<.01&&Math.abs(p-g)<.01){if(Math.abs(c+d)<.1&&Math.abs(u+h)<.1&&Math.abs(p+g)<.1&&Math.abs(l+f+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(l+1)/2,x=(f+1)/2,y=(v+1)/2,w=(c+d)/4,_=(u+h)/4,S=(p+g)/4;return b>x&&b>y?b<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(b),r=w/n,o=_/n):x>y?x<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(x),n=w/r,o=S/r):y<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(y),n=_/o,r=S/o),this.set(n,r,o,t),this}let m=Math.sqrt((g-p)*(g-p)+(u-h)*(u-h)+(d-c)*(d-c));return Math.abs(m)<.001&&(m=1),this.x=(g-p)/m,this.y=(u-h)/m,this.z=(d-c)/m,this.w=Math.acos((l+f+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function wa(e,t,n){this.width=e,this.height=t,this.scissor=new _r(0,0,e,t),this.scissorTest=!1,this.viewport=new _r(0,0,e,t),n=n||{},this.texture=new $r(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Bo,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}wa.prototype=Object.assign(Object.create(tf.prototype),{constructor:wa,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function QW(e,t,n){wa.call(this,e,t,n),this.samples=4}QW.prototype=Object.assign(Object.create(wa.prototype),{constructor:QW,isWebGLMultisampleRenderTarget:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.samples=e.samples,this}});function Er(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}Object.assign(Er,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,o,i,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=o[i+0],f=o[i+1],p=o[i+2],h=o[i+3];if(u!==h||s!==d||l!==f||c!==p){let g=1-a,v=s*d+l*f+c*p+u*h,m=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const y=Math.sqrt(b),w=Math.atan2(y,v*m);g=Math.sin(g*w)/y,a=Math.sin(a*w)/y}const x=a*m;if(s=s*g+d*x,l=l*g+f*x,c=c*g+p*x,u=u*g+h*x,g===1-a){const y=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=y,l*=y,c*=y,u*=y}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u},multiplyQuaternionsFlat:function(e,t,n,r,o,i){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=o[i],d=o[i+1],f=o[i+2],p=o[i+3];return e[t]=a*p+c*u+s*f-l*d,e[t+1]=s*p+c*d+l*u-a*f,e[t+2]=l*p+c*f+a*d-s*u,e[t+3]=c*p-a*u-s*d-l*f,e}});Object.defineProperties(Er.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(Er.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,o=e._z,i=e.order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(o/2),d=s(n/2),f=s(r/2),p=s(o/2);switch(i){case"XYZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"YXZ":this._x=d*c*u+l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"ZXY":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u-d*f*p;break;case"ZYX":this._x=d*c*u-l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u+d*f*p;break;case"YZX":this._x=d*c*u+l*f*p,this._y=l*f*u+d*c*p,this._z=l*c*p-d*f*u,this._w=l*c*u-d*f*p;break;case"XZY":this._x=d*c*u-l*f*p,this._y=l*f*u-d*c*p,this._z=l*c*p+d*f*u,this._w=l*c*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],r=t[4],o=t[8],i=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(c-s)*f,this._y=(o-l)*f,this._z=(i-r)*f}else if(n>a&&n>u){const f=2*Math.sqrt(1+n-a-u);this._w=(c-s)/f,this._x=.25*f,this._y=(r+i)/f,this._z=(o+l)/f}else if(a>u){const f=2*Math.sqrt(1+a-n-u);this._w=(o-l)/f,this._x=(r+i)/f,this._y=.25*f,this._z=(s+c)/f}else{const f=2*Math.sqrt(1+u-n-a);this._w=(i-r)/f,this._x=(o+l)/f,this._y=(s+c)/f,this._z=.25*f}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(xn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,r=e._y,o=e._z,i=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+i*a+r*l-o*s,this._y=r*c+i*s+o*a-n*l,this._z=o*c+i*l+n*s-r*a,this._w=i*c-n*a-r*s-o*l,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,o=this._z,i=this._w;let a=i*e._w+n*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=i,this._x=n,this._y=r,this._z=o,this;const s=1-a*a;if(s<=Number.EPSILON){const f=1-t;return this._w=f*i+t*this._w,this._x=f*n+t*this._x,this._y=f*r+t*this._y,this._z=f*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=i*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=o*u+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const BL=new ee,JW=new Er;function ee(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(ee.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(JW.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(JW.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*r,this.y=o[1]*t+o[4]*n+o[7]*r,this.z=o[2]*t+o[5]*n+o[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,r=this.z,o=e.elements,i=1/(o[3]*t+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*r+o[12])*i,this.y=(o[1]*t+o[5]*n+o[9]*r+o[13])*i,this.z=(o[2]*t+o[6]*n+o[10]*r+o[14])*i,this},applyQuaternion:function(e){const t=this.x,n=this.y,r=this.z,o=e.x,i=e.y,a=e.z,s=e.w,l=s*t+i*r-a*n,c=s*n+a*t-o*r,u=s*r+o*n-i*t,d=-o*t-i*n-a*r;return this.x=l*s+d*-o+c*-a-u*-i,this.y=c*s+d*-i+u*-o-l*-a,this.z=u*s+d*-a+l*-i-c*-o,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r,this.y=o[1]*t+o[5]*n+o[9]*r,this.z=o[2]*t+o[6]*n+o[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,r=e.y,o=e.z,i=t.x,a=t.y,s=t.z;return this.x=r*s-o*a,this.y=o*i-n*s,this.z=n*a-r*i,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return BL.copy(this).projectOnVector(e),this.sub(BL)},reflect:function(e){return this.sub(BL.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const Fg=new ee,Bl=new mt,Bbt=new ee(0,0,0),jbt=new ee(1,1,1),pf=new ee,g2=new ee,fs=new ee;function mt(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(mt.prototype,{isMatrix4:!0,set:function(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=o,v[5]=i,v[9]=a,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=d,v[3]=f,v[7]=p,v[11]=h,v[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new mt().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,r=1/Fg.setFromMatrixColumn(e,0).length(),o=1/Fg.setFromMatrixColumn(e,1).length(),i=1/Fg.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,o=e.z,i=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(o),u=Math.sin(o);if(e.order==="XYZ"){const d=i*c,f=i*u,p=a*c,h=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=f+p*l,t[5]=d-h*l,t[9]=-a*s,t[2]=h-d*l,t[6]=p+f*l,t[10]=i*s}else if(e.order==="YXZ"){const d=s*c,f=s*u,p=l*c,h=l*u;t[0]=d+h*a,t[4]=p*a-f,t[8]=i*l,t[1]=i*u,t[5]=i*c,t[9]=-a,t[2]=f*a-p,t[6]=h+d*a,t[10]=i*s}else if(e.order==="ZXY"){const d=s*c,f=s*u,p=l*c,h=l*u;t[0]=d-h*a,t[4]=-i*u,t[8]=p+f*a,t[1]=f+p*a,t[5]=i*c,t[9]=h-d*a,t[2]=-i*l,t[6]=a,t[10]=i*s}else if(e.order==="ZYX"){const d=i*c,f=i*u,p=a*c,h=a*u;t[0]=s*c,t[4]=p*l-f,t[8]=d*l+h,t[1]=s*u,t[5]=h*l+d,t[9]=f*l-p,t[2]=-l,t[6]=a*s,t[10]=i*s}else if(e.order==="YZX"){const d=i*s,f=i*l,p=a*s,h=a*l;t[0]=s*c,t[4]=h-d*u,t[8]=p*u+f,t[1]=u,t[5]=i*c,t[9]=-a*c,t[2]=-l*c,t[6]=f*u+p,t[10]=d-h*u}else if(e.order==="XZY"){const d=i*s,f=i*l,p=a*s,h=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=d*u+h,t[5]=i*c,t[9]=f*u-p,t[2]=p*u-f,t[6]=a*c,t[10]=h*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Bbt,e,jbt)},lookAt:function(e,t,n){const r=this.elements;return fs.subVectors(e,t),fs.lengthSq()===0&&(fs.z=1),fs.normalize(),pf.crossVectors(n,fs),pf.lengthSq()===0&&(Math.abs(n.z)===1?fs.x+=1e-4:fs.z+=1e-4,fs.normalize(),pf.crossVectors(n,fs)),pf.normalize(),g2.crossVectors(fs,pf),r[0]=pf.x,r[4]=g2.x,r[8]=fs.x,r[1]=pf.y,r[5]=g2.y,r[9]=fs.y,r[2]=pf.z,r[6]=g2.z,r[10]=fs.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,r=t.elements,o=this.elements,i=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],f=n[13],p=n[2],h=n[6],g=n[10],v=n[14],m=n[3],b=n[7],x=n[11],y=n[15],w=r[0],_=r[4],S=r[8],P=r[12],M=r[1],I=r[5],O=r[9],L=r[13],R=r[2],T=r[6],E=r[10],k=r[14],B=r[3],$=r[7],j=r[11],V=r[15];return o[0]=i*w+a*M+s*R+l*B,o[4]=i*_+a*I+s*T+l*$,o[8]=i*S+a*O+s*E+l*j,o[12]=i*P+a*L+s*k+l*V,o[1]=c*w+u*M+d*R+f*B,o[5]=c*_+u*I+d*T+f*$,o[9]=c*S+u*O+d*E+f*j,o[13]=c*P+u*L+d*k+f*V,o[2]=p*w+h*M+g*R+v*B,o[6]=p*_+h*I+g*T+v*$,o[10]=p*S+h*O+g*E+v*j,o[14]=p*P+h*L+g*k+v*V,o[3]=m*w+b*M+x*R+y*B,o[7]=m*_+b*I+x*T+y*$,o[11]=m*S+b*O+x*E+y*j,o[15]=m*P+b*L+x*k+y*V,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],r=e[8],o=e[12],i=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],f=e[14],p=e[3],h=e[7],g=e[11],v=e[15];return p*(+o*s*u-r*l*u-o*a*d+n*l*d+r*a*f-n*s*f)+h*(+t*s*f-t*l*d+o*i*d-r*i*f+r*l*c-o*s*c)+g*(+t*l*u-t*a*f-o*i*u+n*i*f+o*a*c-n*l*c)+v*(-r*a*c-t*s*u+t*a*d+r*i*u-n*i*d+n*s*c)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,r=e.elements,o=r[0],i=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],p=r[9],h=r[10],g=r[11],v=r[12],m=r[13],b=r[14],x=r[15],y=p*b*d-m*h*d+m*u*g-c*b*g-p*u*x+c*h*x,w=v*h*d-f*b*d-v*u*g+l*b*g+f*u*x-l*h*x,_=f*m*d-v*p*d+v*c*g-l*m*g-f*c*x+l*p*x,S=v*p*u-f*m*u-v*c*h+l*m*h+f*c*b-l*p*b,P=o*y+i*w+a*_+s*S;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/P;return n[0]=y*M,n[1]=(m*h*s-p*b*s-m*a*g+i*b*g+p*a*x-i*h*x)*M,n[2]=(c*b*s-m*u*s+m*a*d-i*b*d-c*a*x+i*u*x)*M,n[3]=(p*u*s-c*h*s-p*a*d+i*h*d+c*a*g-i*u*g)*M,n[4]=w*M,n[5]=(f*b*s-v*h*s+v*a*g-o*b*g-f*a*x+o*h*x)*M,n[6]=(v*u*s-l*b*s-v*a*d+o*b*d+l*a*x-o*u*x)*M,n[7]=(l*h*s-f*u*s+f*a*d-o*h*d-l*a*g+o*u*g)*M,n[8]=_*M,n[9]=(v*p*s-f*m*s-v*i*g+o*m*g+f*i*x-o*p*x)*M,n[10]=(l*m*s-v*c*s+v*i*d-o*m*d-l*i*x+o*c*x)*M,n[11]=(f*c*s-l*p*s-f*i*d+o*p*d+l*i*g-o*c*g)*M,n[12]=S*M,n[13]=(f*m*a-v*p*a+v*i*h-o*m*h-f*i*b+o*p*b)*M,n[14]=(v*c*a-l*m*a-v*i*u+o*m*u+l*i*b-o*c*b)*M,n[15]=(l*p*a-f*c*a+f*i*u-o*p*u-l*i*h+o*c*h)*M,this},scale:function(e){const t=this.elements,n=e.x,r=e.y,o=e.z;return t[0]*=n,t[4]*=r,t[8]*=o,t[1]*=n,t[5]*=r,t[9]*=o,t[2]*=n,t[6]*=r,t[10]*=o,t[3]*=n,t[7]*=r,t[11]*=o,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),r=Math.sin(t),o=1-n,i=e.x,a=e.y,s=e.z,l=o*i,c=o*a;return this.set(l*i+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*i,0,l*s-r*a,c*s+r*i,o*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const r=this.elements,o=t._x,i=t._y,a=t._z,s=t._w,l=o+o,c=i+i,u=a+a,d=o*l,f=o*c,p=o*u,h=i*c,g=i*u,v=a*u,m=s*l,b=s*c,x=s*u,y=n.x,w=n.y,_=n.z;return r[0]=(1-(h+v))*y,r[1]=(f+x)*y,r[2]=(p-b)*y,r[3]=0,r[4]=(f-x)*w,r[5]=(1-(d+v))*w,r[6]=(g+m)*w,r[7]=0,r[8]=(p+b)*_,r[9]=(g-m)*_,r[10]=(1-(d+h))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){const r=this.elements;let o=Fg.set(r[0],r[1],r[2]).length(),i=Fg.set(r[4],r[5],r[6]).length(),a=Fg.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Bl.copy(this);const l=1/o,c=1/i,u=1/a;return Bl.elements[0]*=l,Bl.elements[1]*=l,Bl.elements[2]*=l,Bl.elements[4]*=c,Bl.elements[5]*=c,Bl.elements[6]*=c,Bl.elements[8]*=u,Bl.elements[9]*=u,Bl.elements[10]*=u,t.setFromRotationMatrix(Bl),n.x=o,n.y=i,n.z=a,this},makePerspective:function(e,t,n,r,o,i){i===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*o/(t-e),l=2*o/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),d=-(i+o)/(i-o),f=-2*i*o/(i-o);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,o,i){const a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(i-o),u=(t+e)*s,d=(n+r)*l,f=(i+o)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const eq=new mt,tq=new Er;function Tp(e=0,t=0,n=0,r=Tp.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}Tp.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Tp.DefaultOrder="XYZ";Object.defineProperties(Tp.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(Tp.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const r=xn.clamp,o=e.elements,i=o[0],a=o[4],s=o[8],l=o[1],c=o[5],u=o[9],d=o[2],f=o[6],p=o[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,i),this._z=0);break;case"ZXY":this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,i));break;case"ZYX":this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,i)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,i)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return eq.makeRotationFromQuaternion(e),this.setFromRotationMatrix(eq,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return tq.setFromEuler(this),this.setFromQuaternion(tq,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new ee(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function G6(){this.mask=1}Object.assign(G6.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let zbt=0;const nq=new ee,Ng=new Er,Gu=new mt,v2=new ee,r1=new ee,Hbt=new ee,Vbt=new Er,rq=new ee(1,0,0),oq=new ee(0,1,0),iq=new ee(0,0,1),Ubt={type:"added"},Gbt={type:"removed"};function Tt(){Object.defineProperty(this,"id",{value:zbt++}),this.uuid=xn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tt.DefaultUp.clone();const e=new ee,t=new Tp,n=new Er,r=new ee(1,1,1);function o(){n.setFromEuler(t,!1)}function i(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(i),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new mt},normalMatrix:{value:new Li}}),this.matrix=new mt,this.matrixWorld=new mt,this.matrixAutoUpdate=Tt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new G6,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Tt.DefaultUp=new ee(0,1,0);Tt.DefaultMatrixAutoUpdate=!0;Tt.prototype=Object.assign(Object.create(tf.prototype),{constructor:Tt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Ng.setFromAxisAngle(e,t),this.quaternion.multiply(Ng),this},rotateOnWorldAxis:function(e,t){return Ng.setFromAxisAngle(e,t),this.quaternion.premultiply(Ng),this},rotateX:function(e){return this.rotateOnAxis(rq,e)},rotateY:function(e){return this.rotateOnAxis(oq,e)},rotateZ:function(e){return this.rotateOnAxis(iq,e)},translateOnAxis:function(e,t){return nq.copy(e).applyQuaternion(this.quaternion),this.position.add(nq.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(rq,e)},translateY:function(e){return this.translateOnAxis(oq,e)},translateZ:function(e){return this.translateOnAxis(iq,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Gu.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?v2.copy(e):v2.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),r1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Gu.lookAt(r1,v2,this.up):Gu.lookAt(v2,r1,this.up),this.quaternion.setFromRotationMatrix(Gu),r&&(Gu.extractRotation(r.matrixWorld),Ng.setFromRotationMatrix(Gu),this.quaternion.premultiply(Ng.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ubt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Gbt)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Gu.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Gu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Gu),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const i=this.children[n].getObjectByProperty(e,t);if(i!==void 0)return i}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new ee),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Er),this.updateMatrixWorld(!0),this.matrixWorld.decompose(r1,e,Hbt),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new ee),this.updateMatrixWorld(!0),this.matrixWorld.decompose(r1,Vbt,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new ee),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let o=0,i=r.length;o<i;o++)r[o].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON());function o(a,s){return a[s.uuid]===void 0&&(a[s.uuid]=s.toJSON(e)),s.uuid}if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const s=a.shapes;if(Array.isArray(s))for(let l=0,c=s.length;l<c;l++){const u=s[l];o(e.shapes,u)}else o(e.shapes,s)}}if(this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let s=0,l=this.material.length;s<l;s++)a.push(o(e.materials,this.material[s]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(t){const a=i(e.geometries),s=i(e.materials),l=i(e.textures),c=i(e.images),u=i(e.shapes);a.length>0&&(n.geometries=a),s.length>0&&(n.materials=s),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u)}return n.object=r,n;function i(a){const s=[];for(const l in a){const c=a[l];delete c.metadata,s.push(c)}return s}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}});function cy(){Tt.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}cy.prototype=Object.assign(Object.create(Tt.prototype),{constructor:cy,isScene:!0,copy:function(e,t){return Tt.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=Tt.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Wu=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],o1=new ee,jL=new Tr,Bg=new ee,jg=new ee,zg=new ee,hf=new ee,mf=new ee,uh=new ee,i1=new ee,b2=new ee,y2=new ee,dh=new ee;function Tr(e,t){this.min=e!==void 0?e:new ee(1/0,1/0,1/0),this.max=t!==void 0?t:new ee(-1/0,-1/0,-1/0)}Object.assign(Tr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,r=1/0,o=-1/0,i=-1/0,a=-1/0;for(let s=0,l=e.length;s<l;s+=3){const c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>o&&(o=c),u>i&&(i=u),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(o,i,a),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,r=1/0,o=-1/0,i=-1/0,a=-1/0;for(let s=0,l=e.count;s<l;s++){const c=e.getX(s),u=e.getY(s),d=e.getZ(s);c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>o&&(o=c),u>i&&(i=u),d>a&&(a=d)}return this.min.set(t,n,r),this.max.set(o,i,a),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=o1.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ee),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ee),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),jL.copy(t.boundingBox),jL.applyMatrix4(e.matrixWorld),this.union(jL));const n=e.children;for(let r=0,o=n.length;r<o;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new ee),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,o1),o1.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(i1),b2.subVectors(this.max,i1),Bg.subVectors(e.a,i1),jg.subVectors(e.b,i1),zg.subVectors(e.c,i1),hf.subVectors(jg,Bg),mf.subVectors(zg,jg),uh.subVectors(Bg,zg);let t=[0,-hf.z,hf.y,0,-mf.z,mf.y,0,-uh.z,uh.y,hf.z,0,-hf.x,mf.z,0,-mf.x,uh.z,0,-uh.x,-hf.y,hf.x,0,-mf.y,mf.x,0,-uh.y,uh.x,0];return!zL(t,Bg,jg,zg,b2)||(t=[1,0,0,0,1,0,0,0,1],!zL(t,Bg,jg,zg,b2))?!1:(y2.crossVectors(hf,mf),t=[y2.x,y2.y,y2.z],zL(t,Bg,jg,zg,b2))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new ee),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return o1.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(o1).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Wu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Wu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Wu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Wu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Wu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Wu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Wu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Wu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Wu),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function zL(e,t,n,r,o){for(let i=0,a=e.length-3;i<=a;i+=3){dh.fromArray(e,i);const s=o.x*Math.abs(dh.x)+o.y*Math.abs(dh.y)+o.z*Math.abs(dh.z),l=t.dot(dh),c=n.dot(dh),u=r.dot(dh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const Wbt=new Tr;function nf(e,t){this.center=e!==void 0?e:new ee,this.radius=t!==void 0?t:-1}Object.assign(nf.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;t!==void 0?n.copy(t):Wbt.setFromPoints(e).getCenter(n);let r=0;for(let o=0,i=e.length;o<i;o++)r=Math.max(r,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new ee),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Tr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const qu=new ee,HL=new ee,x2=new ee,gf=new ee,VL=new ee,w2=new ee,UL=new ee;function w0(e,t){this.origin=e!==void 0?e:new ee,this.direction=t!==void 0?t:new ee(0,0,-1)}Object.assign(w0.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new ee),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,qu)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new ee),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=qu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(qu.copy(this.direction).multiplyScalar(t).add(this.origin),qu.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){HL.copy(e).add(t).multiplyScalar(.5),x2.copy(t).sub(e).normalize(),gf.copy(this.origin).sub(HL);const o=e.distanceTo(t)*.5,i=-this.direction.dot(x2),a=gf.dot(this.direction),s=-gf.dot(x2),l=gf.lengthSq(),c=Math.abs(1-i*i);let u,d,f,p;if(c>0)if(u=i*s-a,d=i*a-s,p=o*c,u>=0)if(d>=-p)if(d<=p){const h=1/c;u*=h,d*=h,f=u*(u+i*d+2*a)+d*(i*u+d+2*s)+l}else d=o,u=Math.max(0,-(i*d+a)),f=-u*u+d*(d+2*s)+l;else d=-o,u=Math.max(0,-(i*d+a)),f=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-i*o+a)),d=u>0?-o:Math.min(Math.max(-o,-s),o),f=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-o,-s),o),f=d*(d+2*s)+l):(u=Math.max(0,-(i*o+a)),d=u>0?o:Math.min(Math.max(-o,-s),o),f=-u*u+d*(d+2*s)+l);else d=i>0?-o:o,u=Math.max(0,-(i*d+a)),f=-u*u+d*(d+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(x2).multiplyScalar(d).add(HL),f},intersectSphere:function(e,t){qu.subVectors(e.center,this.origin);const n=qu.dot(this.direction),r=qu.dot(qu)-n*n,o=e.radius*e.radius;if(r>o)return null;const i=Math.sqrt(o-r),a=n-i,s=n+i;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let n,r,o,i,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(o=(e.min.y-d.y)*c,i=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,i=(e.min.y-d.y)*c),n>i||o>r||((o>n||n!==n)&&(n=o),(i<r||r!==r)&&(r=i),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r)||((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0)?null:this.at(n>=0?n:r,t)},intersectsBox:function(e){return this.intersectBox(e,qu)!==null},intersectTriangle:function(e,t,n,r,o){VL.subVectors(t,e),w2.subVectors(n,e),UL.crossVectors(VL,w2);let i=this.direction.dot(UL),a;if(i>0){if(r)return null;a=1}else if(i<0)a=-1,i=-i;else return null;gf.subVectors(this.origin,e);const s=a*this.direction.dot(w2.crossVectors(gf,w2));if(s<0)return null;const l=a*this.direction.dot(VL.cross(gf));if(l<0||s+l>i)return null;const c=-a*gf.dot(UL);return c<0?null:this.at(c/i,o)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const GL=new ee,qbt=new ee,Xbt=new Li;function nu(e,t){this.normal=e!==void 0?e:new ee(1,0,0),this.constant=t!==void 0?t:0}Object.assign(nu.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const r=GL.subVectors(n,t).cross(qbt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new ee),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new ee);const n=e.delta(GL),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const o=-(e.start.dot(this.normal)+this.constant)/r;if(!(o<0||o>1))return t.copy(n).multiplyScalar(o).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new ee),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||Xbt.getNormalMatrix(e),r=this.coplanarPoint(GL).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Gl=new ee,ad=new ee,WL=new ee,Xu=new ee,Hg=new ee,Vg=new ee,aq=new ee,qL=new ee,XL=new ee,KL=new ee;function Ri(e,t,n){this.a=e!==void 0?e:new ee,this.b=t!==void 0?t:new ee,this.c=n!==void 0?n:new ee}Object.assign(Ri,{getNormal:function(e,t,n,r){r===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new ee),r.subVectors(n,t),Gl.subVectors(e,t),r.cross(Gl);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,o){Gl.subVectors(r,t),ad.subVectors(n,t),WL.subVectors(e,t);const i=Gl.dot(Gl),a=Gl.dot(ad),s=Gl.dot(WL),l=ad.dot(ad),c=ad.dot(WL),u=i*l-a*a;if(o===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new ee),u===0)return o.set(-2,-1,-1);const d=1/u,f=(l*s-a*c)*d,p=(i*c-a*s)*d;return o.set(1-f-p,p,f)},containsPoint:function(e,t,n,r){return Ri.getBarycoord(e,t,n,r,Xu),Xu.x>=0&&Xu.y>=0&&Xu.x+Xu.y<=1},getUV:function(e,t,n,r,o,i,a,s){return this.getBarycoord(e,t,n,r,Xu),s.set(0,0),s.addScaledVector(o,Xu.x),s.addScaledVector(i,Xu.y),s.addScaledVector(a,Xu.z),s},isFrontFacing:function(e,t,n,r){return Gl.subVectors(n,t),ad.subVectors(e,t),Gl.cross(ad).dot(r)<0}});Object.assign(Ri.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Gl.subVectors(this.c,this.b),ad.subVectors(this.a,this.b),Gl.cross(ad).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new ee),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ri.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new nu),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ri.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,o){return Ri.getUV(e,this.a,this.b,this.c,t,n,r,o)},containsPoint:function(e){return Ri.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Ri.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new ee);const n=this.a,r=this.b,o=this.c;let i,a;Hg.subVectors(r,n),Vg.subVectors(o,n),qL.subVectors(e,n);const s=Hg.dot(qL),l=Vg.dot(qL);if(s<=0&&l<=0)return t.copy(n);XL.subVectors(e,r);const c=Hg.dot(XL),u=Vg.dot(XL);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return i=s/(s-c),t.copy(n).addScaledVector(Hg,i);KL.subVectors(e,o);const f=Hg.dot(KL),p=Vg.dot(KL);if(p>=0&&f<=p)return t.copy(o);const h=f*l-s*p;if(h<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Vg,a);const g=c*p-f*u;if(g<=0&&u-c>=0&&f-p>=0)return aq.subVectors(o,r),a=(u-c)/(u-c+(f-p)),t.copy(r).addScaledVector(aq,a);const v=1/(g+h+d);return i=h*v,a=d*v,t.copy(n).addScaledVector(Hg,i).addScaledVector(Vg,a)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const ofe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jl={h:0,s:0,l:0},_2={h:0,s:0,l:0};function vt(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function YL(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function ZL(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function QL(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(vt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=xn.euclideanModulo(e,1),t=xn.clamp(t,0,1),n=xn.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=YL(o,r,e+1/3),this.g=YL(o,r,e),this.b=YL(o,r,e-1/3)}return this},setStyle:function(e){function t(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let r;const o=n[1],i=n[2];switch(o){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const r=n[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=ofe[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=ZL(e.r),this.g=ZL(e.g),this.b=ZL(e.b),this},copyLinearToSRGB:function(e){return this.r=QL(e.r),this.g=QL(e.g),this.b=QL(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,r=this.b,o=Math.max(t,n,r),i=Math.min(t,n,r);let a,s;const l=(i+o)/2;if(i===o)a=0,s=0;else{const c=o-i;switch(s=l<=.5?c/(o+i):c/(2-o-i),o){case t:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-t)/c+2;break;case r:a=(t-n)/c+4;break}a/=6}return e.h=a,e.s=s,e.l=l,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(jl),jl.h+=e,jl.s+=t,jl.l+=n,this.setHSL(jl.h,jl.s,jl.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(jl),e.getHSL(_2);const n=xn.lerp(jl.h,_2.h,t),r=xn.lerp(jl.s,_2.s,t),o=xn.lerp(jl.l,_2.l,t);return this.setHSL(n,r,o),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});vt.NAMES=ofe;function cm(e,t,n,r,o,i){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new ee,this.vertexNormals=Array.isArray(r)?r:[],this.color=o&&o.isColor?o:new vt,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=i!==void 0?i:0}Object.assign(cm.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let Kbt=0;function dn(){Object.defineProperty(this,"id",{value:Kbt++}),this.uuid=xn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=fp,this.side=y0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Yde,this.blendDst=Zde,this.blendEquation=gv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=J5,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Fbt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=NL,this.stencilZFail=NL,this.stencilZPass=NL,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}dn.prototype=Object.assign(Object.create(tf.prototype),{constructor:dn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Kde;continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==fp&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==y0&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function r(o){const i=[];for(const a in o){const s=o[a];delete s.metadata,i.push(s)}return i}if(t){const o=r(e.textures),i=r(e.images);o.length>0&&(n.textures=o),i.length>0&&(n.images=i)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(dn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Cc(e){dn.call(this),this.type="MeshBasicMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ik,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Cc.prototype=Object.create(dn.prototype);Cc.prototype.constructor=Cc;Cc.prototype.isMeshBasicMaterial=!0;Cc.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Fr=new ee,S2=new ct;function Ht(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=sk,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ht.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ht.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];i===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new vt),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];i===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new ct),t[n++]=i.x,t[n++]=i.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];i===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new ee),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let r=0,o=e.length;r<o;r++){let i=e[r];i===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new _r),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)S2.fromBufferAttribute(this,t),S2.applyMatrix3(e),this.setXY(t,S2.x,S2.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Fr.fromBufferAttribute(this,t),Fr.applyMatrix3(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Fr.x=this.getX(t),Fr.y=this.getY(t),Fr.z=this.getZ(t),Fr.applyMatrix4(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Fr.x=this.getX(t),Fr.y=this.getY(t),Fr.z=this.getZ(t),Fr.applyNormalMatrix(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Fr.x=this.getX(t),Fr.y=this.getY(t),Fr.z=this.getZ(t),Fr.transformDirection(e),this.setXYZ(t,Fr.x,Fr.y,Fr.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=o,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function nN(e,t,n){Ht.call(this,new Int8Array(e),t,n)}nN.prototype=Object.create(Ht.prototype);nN.prototype.constructor=nN;function rN(e,t,n){Ht.call(this,new Uint8Array(e),t,n)}rN.prototype=Object.create(Ht.prototype);rN.prototype.constructor=rN;function oN(e,t,n){Ht.call(this,new Uint8ClampedArray(e),t,n)}oN.prototype=Object.create(Ht.prototype);oN.prototype.constructor=oN;function iN(e,t,n){Ht.call(this,new Int16Array(e),t,n)}iN.prototype=Object.create(Ht.prototype);iN.prototype.constructor=iN;function _w(e,t,n){Ht.call(this,new Uint16Array(e),t,n)}_w.prototype=Object.create(Ht.prototype);_w.prototype.constructor=_w;function aN(e,t,n){Ht.call(this,new Int32Array(e),t,n)}aN.prototype=Object.create(Ht.prototype);aN.prototype.constructor=aN;function Sw(e,t,n){Ht.call(this,new Uint32Array(e),t,n)}Sw.prototype=Object.create(Ht.prototype);Sw.prototype.constructor=Sw;function Lt(e,t,n){Ht.call(this,new Float32Array(e),t,n)}Lt.prototype=Object.create(Ht.prototype);Lt.prototype.constructor=Lt;function sN(e,t,n){Ht.call(this,new Float64Array(e),t,n)}sN.prototype=Object.create(Ht.prototype);sN.prototype.constructor=sN;function ife(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(ife.prototype,{computeGroups:function(e){const t=[];let n,r,o;const i=e.faces;for(r=0;r<i.length;r++){const a=i[r];a.materialIndex!==o&&(o=a.materialIndex,n!==void 0&&(n.count=r*3-n.start,t.push(n)),n={start:r*3,materialIndex:o})}n!==void 0&&(n.count=r*3-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,r=e.faceVertexUvs,o=r[0]&&r[0].length>0,i=r[1]&&r[1].length>0,a=e.morphTargets,s=a.length;let l;if(s>0){l=[];for(let v=0;v<s;v++)l[v]={name:a[v].name,data:[]};this.morphTargets.position=l}const c=e.morphNormals,u=c.length;let d;if(u>0){d=[];for(let v=0;v<u;v++)d[v]={name:c[v].name,data:[]};this.morphTargets.normal=d}const f=e.skinIndices,p=e.skinWeights,h=f.length===n.length,g=p.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let v=0;v<t.length;v++){const m=t[v];this.vertices.push(n[m.a],n[m.b],n[m.c]);const b=m.vertexNormals;if(b.length===3)this.normals.push(b[0],b[1],b[2]);else{const y=m.normal;this.normals.push(y,y,y)}const x=m.vertexColors;if(x.length===3)this.colors.push(x[0],x[1],x[2]);else{const y=m.color;this.colors.push(y,y,y)}if(o===!0){const y=r[0][v];y!==void 0?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",v),this.uvs.push(new ct,new ct,new ct))}if(i===!0){const y=r[1][v];y!==void 0?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",v),this.uvs2.push(new ct,new ct,new ct))}for(let y=0;y<s;y++){const w=a[y].vertices;l[y].data.push(w[m.a],w[m.b],w[m.c])}for(let y=0;y<u;y++){const w=c[y].vertexNormals[v];d[y].data.push(w.a,w.b,w.c)}h&&this.skinIndices.push(f[m.a],f[m.b],f[m.c]),g&&this.skinWeights.push(p[m.a],p[m.b],p[m.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function afe(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}let Ybt=1;const Fc=new mt,JL=new Tt,Ug=new ee,ps=new Tr,a1=new Tr,ui=new ee;function Ot(){Object.defineProperty(this,"id",{value:Ybt+=2}),this.uuid=xn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ot.prototype=Object.assign(Object.create(tf.prototype),{constructor:Ot,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(afe(e)>65535?Sw:_w)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new Li().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Fc.makeRotationX(e),this.applyMatrix4(Fc),this},rotateY:function(e){return Fc.makeRotationY(e),this.applyMatrix4(Fc),this},rotateZ:function(e){return Fc.makeRotationZ(e),this.applyMatrix4(Fc),this},translate:function(e,t,n){return Fc.makeTranslation(e,t,n),this.applyMatrix4(Fc),this},scale:function(e,t,n){return Fc.makeScale(e,t,n),this.applyMatrix4(Fc),this},lookAt:function(e){return JL.lookAt(e),JL.updateMatrix(),this.applyMatrix4(JL.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ug).negate(),this.translate(Ug.x,Ug.y,Ug.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new Lt(t.vertices.length*3,3),r=new Lt(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const o=new Lt(t.lineDistances.length,1);this.setAttribute("lineDistance",o.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const o=e[n];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Lt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new ife().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Ht(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Ht(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Ht(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Ht(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Ht(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const r=[],o=e.morphTargets[n];for(let i=0,a=o.length;i<a;i++){const s=o[i],l=new Lt(s.data.length*3,3);l.name=s.name,r.push(l.copyVector3sArray(s.data))}this.morphAttributes[n]=r}if(e.skinIndices.length>0){const n=new Lt(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new Lt(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Tr);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const o=t[n];ps.setFromBufferAttribute(o),this.morphTargetsRelative?(ui.addVectors(this.boundingBox.min,ps.min),this.boundingBox.expandByPoint(ui),ui.addVectors(this.boundingBox.max,ps.max),this.boundingBox.expandByPoint(ui)):(this.boundingBox.expandByPoint(ps.min),this.boundingBox.expandByPoint(ps.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new nf);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(ps.setFromBufferAttribute(e),t)for(let o=0,i=t.length;o<i;o++){const a=t[o];a1.setFromBufferAttribute(a),this.morphTargetsRelative?(ui.addVectors(ps.min,a1.min),ps.expandByPoint(ui),ui.addVectors(ps.max,a1.max),ps.expandByPoint(ui)):(ps.expandByPoint(a1.min),ps.expandByPoint(a1.max))}ps.getCenter(n);let r=0;for(let o=0,i=e.count;o<i;o++)ui.fromBufferAttribute(e,o),r=Math.max(r,n.distanceToSquared(ui));if(t)for(let o=0,i=t.length;o<i;o++){const a=t[o],s=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)ui.fromBufferAttribute(a,l),s&&(Ug.fromBufferAttribute(e,l),ui.add(Ug)),r=Math.max(r,n.distanceToSquared(ui))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ht(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let d=0,f=n.count;d<f;d++)n.setXYZ(d,0,0,0);const r=new ee,o=new ee,i=new ee,a=new ee,s=new ee,l=new ee,c=new ee,u=new ee;if(e)for(let d=0,f=e.count;d<f;d+=3){const p=e.getX(d+0),h=e.getX(d+1),g=e.getX(d+2);r.fromBufferAttribute(t,p),o.fromBufferAttribute(t,h),i.fromBufferAttribute(t,g),c.subVectors(i,o),u.subVectors(r,o),c.cross(u),a.fromBufferAttribute(n,p),s.fromBufferAttribute(n,h),l.fromBufferAttribute(n,g),a.add(c),s.add(c),l.add(c),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(g,l.x,l.y,l.z)}else for(let d=0,f=t.count;d<f;d+=3)r.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),i.fromBufferAttribute(t,d+2),c.subVectors(i,o),u.subVectors(r,o),c.cross(u),n.setXYZ(d+0,c.x,c.y,c.z),n.setXYZ(d+1,c.x,c.y,c.z),n.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(e.attributes[r]===void 0)continue;const i=n[r].array,a=e.attributes[r],s=a.array,l=a.itemSize*t,c=Math.min(s.length,i.length-l);for(let u=0,d=l;u<c;u++,d++)i[d]=s[u]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ui.fromBufferAttribute(e,t),ui.normalize(),e.setXYZ(t,ui.x,ui.y,ui.z)},toNonIndexed:function(){function e(a,s){const l=a.array,c=a.itemSize,u=a.normalized,d=new l.constructor(s.length*c);let f=0,p=0;for(let h=0,g=s.length;h<g;h++){f=s[h]*c;for(let v=0;v<c;v++)d[p++]=l[f++]}return new Ht(d,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Ot,n=this.index.array,r=this.attributes;for(const a in r){const s=r[a],l=e(s,n);t.setAttribute(a,l)}const o=this.morphAttributes;for(const a in o){const s=[],l=o[a];for(let c=0,u=l.length;c<u;c++){const d=l[c],f=e(d,n);s.push(f)}t.morphAttributes[a]=s}t.morphTargetsRelative=this.morphTargetsRelative;const i=this.groups;for(let a=0,s=i.length;a<s;a++){const l=i[a];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const s=this.parameters;for(const l in s)s[l]!==void 0&&(e[l]=s[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const l=n[s],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[s]=c}const r={};let o=!1;for(const s in this.morphAttributes){const l=this.morphAttributes[s],c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u],p=f.toJSON(e.data);f.name!==""&&(p.name=f.name),c.push(p)}c.length>0&&(r[s]=c,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const i=this.groups;i.length>0&&(e.data.groups=JSON.parse(JSON.stringify(i)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return new Ot().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const c=r[l];this.setAttribute(l,c.clone(t))}const o=e.morphAttributes;for(const l in o){const c=[],u=o[l];for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const i=e.groups;for(let l=0,c=i.length;l<c;l++){const u=i[l];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const sq=new mt,fh=new w0,e$=new nf,vf=new ee,bf=new ee,yf=new ee,t$=new ee,n$=new ee,r$=new ee,C2=new ee,P2=new ee,M2=new ee,Uv=new ct,Gv=new ct,Wv=new ct,_x=new ee,A2=new ee;function Lr(e,t){Tt.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new Ot,this.material=t!==void 0?t:new Cc,this.updateMorphTargets()}Lr.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Lr,isMesh:!0,copy:function(e){return Tt.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,i=r.length;o<i;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),e$.copy(n.boundingSphere),e$.applyMatrix4(o),e.ray.intersectsSphere(e$)===!1)||(sq.getInverse(o),fh.copy(e.ray).applyMatrix4(sq),n.boundingBox!==null&&fh.intersectsBox(n.boundingBox)===!1))return;let i;if(n.isBufferGeometry){const a=n.index,s=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,d=n.attributes.uv2,f=n.groups,p=n.drawRange;if(a!==null)if(Array.isArray(r))for(let h=0,g=f.length;h<g;h++){const v=f[h],m=r[v.materialIndex],b=Math.max(v.start,p.start),x=Math.min(v.start+v.count,p.start+p.count);for(let y=b,w=x;y<w;y+=3){const _=a.getX(y),S=a.getX(y+1),P=a.getX(y+2);i=E2(this,m,e,fh,s,l,c,u,d,_,S,P),i&&(i.faceIndex=Math.floor(y/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const h=Math.max(0,p.start),g=Math.min(a.count,p.start+p.count);for(let v=h,m=g;v<m;v+=3){const b=a.getX(v),x=a.getX(v+1),y=a.getX(v+2);i=E2(this,r,e,fh,s,l,c,u,d,b,x,y),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}else if(s!==void 0)if(Array.isArray(r))for(let h=0,g=f.length;h<g;h++){const v=f[h],m=r[v.materialIndex],b=Math.max(v.start,p.start),x=Math.min(v.start+v.count,p.start+p.count);for(let y=b,w=x;y<w;y+=3){const _=y,S=y+1,P=y+2;i=E2(this,m,e,fh,s,l,c,u,d,_,S,P),i&&(i.faceIndex=Math.floor(y/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const h=Math.max(0,p.start),g=Math.min(s.count,p.start+p.count);for(let v=h,m=g;v<m;v+=3){const b=v,x=v+1,y=v+2;i=E2(this,r,e,fh,s,l,c,u,d,b,x,y),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}}else if(n.isGeometry){const a=Array.isArray(r),s=n.vertices,l=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let d=0,f=l.length;d<f;d++){const p=l[d],h=a?r[p.materialIndex]:r;if(h===void 0)continue;const g=s[p.a],v=s[p.b],m=s[p.c];if(i=sfe(this,h,e,fh,g,v,m,_x),i){if(c&&c[d]){const b=c[d];Uv.copy(b[0]),Gv.copy(b[1]),Wv.copy(b[2]),i.uv=Ri.getUV(_x,g,v,m,Uv,Gv,Wv,new ct)}i.face=p,i.faceIndex=d,t.push(i)}}}}});function sfe(e,t,n,r,o,i,a,s){let l;if(t.side===Xo?l=r.intersectTriangle(a,i,o,!0,s):l=r.intersectTriangle(o,i,a,t.side!==QS,s),l===null)return null;A2.copy(s),A2.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(A2);return c<n.near||c>n.far?null:{distance:c,point:A2.clone(),object:e}}function E2(e,t,n,r,o,i,a,s,l,c,u,d){vf.fromBufferAttribute(o,c),bf.fromBufferAttribute(o,u),yf.fromBufferAttribute(o,d);const f=e.morphTargetInfluences;if(t.morphTargets&&i&&f){C2.set(0,0,0),P2.set(0,0,0),M2.set(0,0,0);for(let h=0,g=i.length;h<g;h++){const v=f[h],m=i[h];v!==0&&(t$.fromBufferAttribute(m,c),n$.fromBufferAttribute(m,u),r$.fromBufferAttribute(m,d),a?(C2.addScaledVector(t$,v),P2.addScaledVector(n$,v),M2.addScaledVector(r$,v)):(C2.addScaledVector(t$.sub(vf),v),P2.addScaledVector(n$.sub(bf),v),M2.addScaledVector(r$.sub(yf),v)))}vf.add(C2),bf.add(P2),yf.add(M2)}e.isSkinnedMesh&&(e.boneTransform(c,vf),e.boneTransform(u,bf),e.boneTransform(d,yf));const p=sfe(e,t,n,r,vf,bf,yf,_x);if(p){s&&(Uv.fromBufferAttribute(s,c),Gv.fromBufferAttribute(s,u),Wv.fromBufferAttribute(s,d),p.uv=Ri.getUV(_x,vf,bf,yf,Uv,Gv,Wv,new ct)),l&&(Uv.fromBufferAttribute(l,c),Gv.fromBufferAttribute(l,u),Wv.fromBufferAttribute(l,d),p.uv2=Ri.getUV(_x,vf,bf,yf,Uv,Gv,Wv,new ct));const h=new cm(c,u,d);Ri.getNormal(vf,bf,yf,h.normal),p.face=h}return p}let Zbt=0;const Nc=new mt,o$=new Tt,T2=new ee;function on(){Object.defineProperty(this,"id",{value:Zbt+=2}),this.uuid=xn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}on.prototype=Object.assign(Object.create(tf.prototype),{constructor:on,isGeometry:!0,applyMatrix4:function(e){const t=new Li().getNormalMatrix(e);for(let n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);for(let n=0,r=this.faces.length;n<r;n++){const o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(let i=0,a=o.vertexNormals.length;i<a;i++)o.vertexNormals[i].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Nc.makeRotationX(e),this.applyMatrix4(Nc),this},rotateY:function(e){return Nc.makeRotationY(e),this.applyMatrix4(Nc),this},rotateZ:function(e){return Nc.makeRotationZ(e),this.applyMatrix4(Nc),this},translate:function(e,t,n){return Nc.makeTranslation(e,t,n),this.applyMatrix4(Nc),this},scale:function(e,t,n){return Nc.makeScale(e,t,n),this.applyMatrix4(Nc),this},lookAt:function(e){return o$.lookAt(e),o$.updateMatrix(),this.applyMatrix4(o$.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,r=e.attributes;if(r.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const o=r.position,i=r.normal,a=r.color,s=r.uv,l=r.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<o.count;d++)t.vertices.push(new ee().fromBufferAttribute(o,d)),a!==void 0&&t.colors.push(new vt().fromBufferAttribute(a,d));function c(d,f,p,h){const g=a===void 0?[]:[t.colors[d].clone(),t.colors[f].clone(),t.colors[p].clone()],v=i===void 0?[]:[new ee().fromBufferAttribute(i,d),new ee().fromBufferAttribute(i,f),new ee().fromBufferAttribute(i,p)],m=new cm(d,f,p,v,g,h);t.faces.push(m),s!==void 0&&t.faceVertexUvs[0].push([new ct().fromBufferAttribute(s,d),new ct().fromBufferAttribute(s,f),new ct().fromBufferAttribute(s,p)]),l!==void 0&&t.faceVertexUvs[1].push([new ct().fromBufferAttribute(l,d),new ct().fromBufferAttribute(l,f),new ct().fromBufferAttribute(l,p)])}const u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){const f=u[d],p=f.start,h=f.count;for(let g=p,v=p+h;g<v;g+=3)n!==void 0?c(n.getX(g),n.getX(g+1),n.getX(g+2),f.materialIndex):c(g,g+1,g+2,f.materialIndex)}else if(n!==void 0)for(let d=0;d<n.count;d+=3)c(n.getX(d),n.getX(d+1),n.getX(d+2));else for(let d=0;d<o.count;d+=3)c(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(T2).negate(),this.translate(T2.x,T2.y,T2.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,r=new mt;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){const e=new ee,t=new ee;for(let n=0,r=this.faces.length;n<r;n++){const o=this.faces[n],i=this.vertices[o.a],a=this.vertices[o.b],s=this.vertices[o.c];e.subVectors(s,a),t.subVectors(i,a),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,r=this.vertices.length;n<r;n++)t[n]=new ee;if(e){const n=new ee,r=new ee;for(let o=0,i=this.faces.length;o<i;o++){const a=this.faces[o],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c];n.subVectors(c,l),r.subVectors(s,l),n.cross(r),t[a.a].add(n),t[a.b].add(n),t[a.c].add(n)}}else{this.computeFaceNormals();for(let n=0,r=this.faces.length;n<r;n++){const o=this.faces[n];t[o.a].add(o.normal),t[o.b].add(o.normal),t[o.c].add(o.normal)}}for(let n=0,r=this.vertices.length;n<r;n++)t[n].normalize();for(let n=0,r=this.faces.length;n<r;n++){const o=this.faces[n],i=o.vertexNormals;i.length===3?(i[0].copy(t[o.a]),i[1].copy(t[o.b]),i[2].copy(t[o.c])):(i[0]=t[o.a].clone(),i[1]=t[o.b].clone(),i[2]=t[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],r=n.vertexNormals;r.length===3?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const r=this.faces[t];r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]);for(let o=0,i=r.vertexNormals.length;o<i;o++)r.__originalVertexNormals[o]?r.__originalVertexNormals[o].copy(r.vertexNormals[o]):r.__originalVertexNormals[o]=r.vertexNormals[o].clone()}const e=new on;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const o=this.morphNormals[t].faceNormals,i=this.morphNormals[t].vertexNormals;for(let a=0,s=this.faces.length;a<s;a++){const l=new ee,c={a:new ee,b:new ee,c:new ee};o.push(l),i.push(c)}}const r=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let o=0,i=this.faces.length;o<i;o++){const a=this.faces[o],s=r.faceNormals[o],l=r.vertexNormals[o];s.copy(a.normal),l.a.copy(a.vertexNormals[0]),l.b.copy(a.vertexNormals[1]),l.c.copy(a.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const r=this.faces[t];r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Tr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new nf),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let r,o=this.vertices.length,i=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;n===void 0&&(n=0),t!==void 0&&(r=new Li().getNormalMatrix(t));for(let d=0,f=a.length;d<f;d++){const h=a[d].clone();t!==void 0&&h.applyMatrix4(t),i.push(h)}for(let d=0,f=u.length;d<f;d++)c.push(u[d].clone());for(let d=0,f=l.length;d<f;d++){let p=l[d],h,g,v,m=p.vertexNormals,b=p.vertexColors;h=new cm(p.a+o,p.b+o,p.c+o),h.normal.copy(p.normal),r!==void 0&&h.normal.applyMatrix3(r).normalize();for(let x=0,y=m.length;x<y;x++)g=m[x].clone(),r!==void 0&&g.applyMatrix3(r).normalize(),h.vertexNormals.push(g);h.color.copy(p.color);for(let x=0,y=b.length;x<y;x++)v=b[x],h.vertexColors.push(v.clone());h.materialIndex=p.materialIndex+n,s.push(h)}for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let h=0,g=p.length;h<g;h++){const v=p[h],m=[];for(let b=0,x=v.length;b<x;b++)m.push(v[b].clone());this.faceVertexUvs[d].push(m)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],o=Math.pow(10,4);for(let s=0,l=this.vertices.length;s<l;s++){const c=this.vertices[s],u=Math.round(c.x*o)+"_"+Math.round(c.y*o)+"_"+Math.round(c.z*o);e[u]===void 0?(e[u]=s,t.push(this.vertices[s]),n[s]=t.length-1):n[s]=n[e[u]]}const i=[];for(let s=0,l=this.faces.length;s<l;s++){const c=this.faces[s];c.a=n[c.a],c.b=n[c.b],c.c=n[c.c];const u=[c.a,c.b,c.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){i.push(s);break}}for(let s=i.length-1;s>=0;s--){const l=i[s];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}const a=this.vertices.length-t.length;return this.vertices=t,a},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const r=e[t];this.vertices.push(new ee(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function n(s,l){return s.materialIndex-l.materialIndex}e.sort(n);const r=this.faceVertexUvs[0],o=this.faceVertexUvs[1];let i,a;r&&r.length===t&&(i=[]),o&&o.length===t&&(a=[]);for(let s=0;s<t;s++){const l=e[s]._id;i&&i.push(r[l]),a&&a.push(o[l])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const p=this.parameters;for(const h in p)p[h]!==void 0&&(e[h]=p[h]);return e}const t=[];for(let p=0;p<this.vertices.length;p++){const h=this.vertices[p];t.push(h.x,h.y,h.z)}const n=[],r=[],o={},i=[],a={},s=[],l={};for(let p=0;p<this.faces.length;p++){const h=this.faces[p],g=!0,v=!1,m=this.faceVertexUvs[0][p]!==void 0,b=h.normal.length()>0,x=h.vertexNormals.length>0,y=h.color.r!==1||h.color.g!==1||h.color.b!==1,w=h.vertexColors.length>0;let _=0;if(_=c(_,0,0),_=c(_,1,g),_=c(_,2,v),_=c(_,3,m),_=c(_,4,b),_=c(_,5,x),_=c(_,6,y),_=c(_,7,w),n.push(_),n.push(h.a,h.b,h.c),n.push(h.materialIndex),m){const S=this.faceVertexUvs[0][p];n.push(f(S[0]),f(S[1]),f(S[2]))}if(b&&n.push(u(h.normal)),x){const S=h.vertexNormals;n.push(u(S[0]),u(S[1]),u(S[2]))}if(y&&n.push(d(h.color)),w){const S=h.vertexColors;n.push(d(S[0]),d(S[1]),d(S[2]))}}function c(p,h,g){return g?p|1<<h:p&~(1<<h)}function u(p){const h=p.x.toString()+p.y.toString()+p.z.toString();return o[h]!==void 0||(o[h]=r.length/3,r.push(p.x,p.y,p.z)),o[h]}function d(p){const h=p.r.toString()+p.g.toString()+p.b.toString();return a[h]!==void 0||(a[h]=i.length,i.push(p.getHex())),a[h]}function f(p){const h=p.x.toString()+p.y.toString();return l[h]!==void 0||(l[h]=s.length/2,s.push(p.x,p.y)),l[h]}return e.data={},e.data.vertices=t,e.data.normals=r,i.length>0&&(e.data.colors=i),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e},clone:function(){return new on().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let d=0,f=t.length;d<f;d++)this.vertices.push(t[d].clone());const n=e.colors;for(let d=0,f=n.length;d<f;d++)this.colors.push(n[d].clone());const r=e.faces;for(let d=0,f=r.length;d<f;d++)this.faces.push(r[d].clone());for(let d=0,f=e.faceVertexUvs.length;d<f;d++){const p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let h=0,g=p.length;h<g;h++){const v=p[h],m=[];for(let b=0,x=v.length;b<x;b++){const y=v[b];m.push(y.clone())}this.faceVertexUvs[d].push(m)}}const o=e.morphTargets;for(let d=0,f=o.length;d<f;d++){const p={};if(p.name=o[d].name,o[d].vertices!==void 0){p.vertices=[];for(let h=0,g=o[d].vertices.length;h<g;h++)p.vertices.push(o[d].vertices[h].clone())}if(o[d].normals!==void 0){p.normals=[];for(let h=0,g=o[d].normals.length;h<g;h++)p.normals.push(o[d].normals[h].clone())}this.morphTargets.push(p)}const i=e.morphNormals;for(let d=0,f=i.length;d<f;d++){const p={};if(i[d].vertexNormals!==void 0){p.vertexNormals=[];for(let h=0,g=i[d].vertexNormals.length;h<g;h++){const v=i[d].vertexNormals[h],m={};m.a=v.a.clone(),m.b=v.b.clone(),m.c=v.c.clone(),p.vertexNormals.push(m)}}if(i[d].faceNormals!==void 0){p.faceNormals=[];for(let h=0,g=i[d].faceNormals.length;h<g;h++)p.faceNormals.push(i[d].faceNormals[h].clone())}this.morphNormals.push(p)}const a=e.skinWeights;for(let d=0,f=a.length;d<f;d++)this.skinWeights.push(a[d].clone());const s=e.skinIndices;for(let d=0,f=s.length;d<f;d++)this.skinIndices.push(s[d].clone());const l=e.lineDistances;for(let d=0,f=l.length;d<f;d++)this.lineDistances.push(l[d]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Qbt extends on{constructor(t,n,r,o,i,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:o,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new tC(t,n,r,o,i,a)),this.mergeVertices()}}class tC extends Ot{constructor(t,n,r,o,i,a){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:o,heightSegments:i,depthSegments:a};const s=this;t=t||1,n=n||1,r=r||1,o=Math.floor(o)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;const l=[],c=[],u=[],d=[];let f=0,p=0;h("z","y","x",-1,-1,r,n,t,a,i,0),h("z","y","x",1,-1,r,n,-t,a,i,1),h("x","z","y",1,1,t,r,n,o,a,2),h("x","z","y",1,-1,t,r,-n,o,a,3),h("x","y","z",1,-1,t,n,r,o,i,4),h("x","y","z",-1,-1,t,n,-r,o,i,5),this.setIndex(l),this.setAttribute("position",new Lt(c,3)),this.setAttribute("normal",new Lt(u,3)),this.setAttribute("uv",new Lt(d,2));function h(g,v,m,b,x,y,w,_,S,P,M){const I=y/S,O=w/P,L=y/2,R=w/2,T=_/2,E=S+1,k=P+1;let B=0,$=0;const j=new ee;for(let V=0;V<k;V++){const q=V*O-R;for(let Q=0;Q<E;Q++){const H=Q*I-L;j[g]=H*b,j[v]=q*x,j[m]=T,c.push(j.x,j.y,j.z),j[g]=0,j[v]=0,j[m]=_>0?1:-1,u.push(j.x,j.y,j.z),d.push(Q/S),d.push(1-V/P),B+=1}}for(let V=0;V<P;V++)for(let q=0;q<S;q++){const Q=f+q+E*V,H=f+q+E*(V+1),X=f+(q+1)+E*(V+1),J=f+(q+1)+E*V;l.push(Q,H,J),l.push(H,X,J),$+=6}s.addGroup(p,$,M),p+=$,f+=B}}}function uy(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const o=e[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture)?t[n][r]=o.clone():Array.isArray(o)?t[n][r]=o.slice():t[n][r]=o}}return t}function Wi(e){const t={};for(let n=0;n<e.length;n++){const r=uy(e[n]);for(const o in r)t[o]=r[o]}return t}const GA={clone:uy,merge:Wi};var Jbt=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eyt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function ni(e){dn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Jbt,this.fragmentShader=eyt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}ni.prototype=Object.create(dn.prototype);ni.prototype.constructor=ni;ni.prototype.isShaderMaterial=!0;ni.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uy(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};ni.prototype.toJSON=function(e){const t=dn.prototype.toJSON.call(this,e);t.uniforms={};for(const r in this.uniforms){const i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function Nd(){Tt.call(this),this.type="Camera",this.matrixWorldInverse=new mt,this.projectionMatrix=new mt,this.projectionMatrixInverse=new mt}Nd.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Nd,isCamera:!0,copy:function(e,t){return Tt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new ee),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Tt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Tt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Do(e,t,n,r){Nd.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=r!==void 0?r:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Do.prototype=Object.assign(Object.create(Nd.prototype),{constructor:Do,isPerspectiveCamera:!0,copy:function(e,t){return Nd.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=xn.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(xn.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return xn.RAD2DEG*2*Math.atan(Math.tan(xn.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,o,i){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(xn.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,o=-.5*r,i=this.view;if(this.view!==null&&this.view.enabled){const s=i.fullWidth,l=i.fullHeight;o+=i.offsetX*r/s,t-=i.offsetY*n/l,r*=i.width/s,n*=i.height/l}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Tt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Gg=90,Wg=1;function Cw(e,t,n){if(Tt.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const r=new Do(Gg,Wg,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ee(1,0,0)),this.add(r);const o=new Do(Gg,Wg,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ee(-1,0,0)),this.add(o);const i=new Do(Gg,Wg,e,t);i.layers=this.layers,i.up.set(0,0,1),i.lookAt(new ee(0,1,0)),this.add(i);const a=new Do(Gg,Wg,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ee(0,-1,0)),this.add(a);const s=new Do(Gg,Wg,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ee(0,0,1)),this.add(s);const l=new Do(Gg,Wg,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ee(0,0,-1)),this.add(l),this.update=function(c,u){this.parent===null&&this.updateMatrixWorld();const d=c.xr.enabled,f=c.getRenderTarget();c.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(u,r),c.setRenderTarget(n,1),c.render(u,o),c.setRenderTarget(n,2),c.render(u,i),c.setRenderTarget(n,3),c.render(u,a),c.setRenderTarget(n,4),c.render(u,s),n.texture.generateMipmaps=p,c.setRenderTarget(n,5),c.render(u,l),c.setRenderTarget(f),c.xr.enabled=d},this.clear=function(c,u,d,f){const p=c.getRenderTarget();for(let h=0;h<6;h++)c.setRenderTarget(n,h),c.clear(u,d,f);c.setRenderTarget(p)}}Cw.prototype=Object.create(Tt.prototype);Cw.prototype.constructor=Cw;function Pw(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),wa.call(this,e,e,t)}Pw.prototype=Object.create(wa.prototype);Pw.prototype.constructor=Pw;Pw.prototype.isWebGLCubeRenderTarget=!0;Pw.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new cy,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},o=new ni({name:"CubemapFromEquirect",uniforms:uy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Xo,blending:Cd});o.uniforms.tEquirect.value=t;const i=new Lr(new tC(5,5,5),o);return n.add(i),new Cw(1,10,this).update(e,n),i.geometry.dispose(),i.material.dispose(),this};function Bd(e,t,n,r,o,i,a,s,l,c,u,d){$r.call(this,null,i,a,s,l,c,r,o,u,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Mr,this.minFilter=c!==void 0?c:Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Bd.prototype=Object.create($r.prototype);Bd.prototype.constructor=Bd;Bd.prototype.isDataTexture=!0;const qg=new nf,O2=new ee;function nC(e,t,n,r,o,i){this.planes=[e!==void 0?e:new nu,t!==void 0?t:new nu,n!==void 0?n:new nu,r!==void 0?r:new nu,o!==void 0?o:new nu,i!==void 0?i:new nu]}Object.assign(nC.prototype,{set:function(e,t,n,r,o,i){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(o),a[5].copy(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],f=n[9],p=n[10],h=n[11],g=n[12],v=n[13],m=n[14],b=n[15];return t[0].setComponents(a-r,u-s,h-d,b-g).normalize(),t[1].setComponents(a+r,u+s,h+d,b+g).normalize(),t[2].setComponents(a+o,u+l,h+f,b+v).normalize(),t[3].setComponents(a-o,u-l,h-f,b-v).normalize(),t[4].setComponents(a-i,u-c,h-p,b-m).normalize(),t[5].setComponents(a+i,u+c,h+p,b+m).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),qg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(qg)},intersectsSprite:function(e){return qg.center.set(0,0,0),qg.radius=.7071067811865476,qg.applyMatrix4(e.matrixWorld),this.intersectsSphere(qg)},intersectsSphere:function(e){const t=this.planes,n=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(O2.x=r.normal.x>0?e.max.x:e.min.x,O2.y=r.normal.y>0?e.max.y:e.min.y,O2.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(O2)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const Et={common:{diffuse:{value:new vt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Li},uv2Transform:{value:new Li},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new vt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Li}},sprite:{diffuse:{value:new vt(15658734)},opacity:{value:1},center:{value:new ct(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Li}}};function lfe(){let e=null,t=!1,n=null,r=null;function o(i,a){n(i,a),r=e.requestAnimationFrame(o)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(o),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(i){n=i},setContext:function(i){e=i}}}function tyt(e,t){const n=t.isWebGL2,r=new WeakMap;function o(c,u){const d=c.array,f=c.usage,p=e.createBuffer();e.bindBuffer(u,p),e.bufferData(u,d,f),c.onUploadCallback();let h=5126;return d instanceof Float32Array?h=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?h=5123:d instanceof Int16Array?h=5122:d instanceof Uint32Array?h=5125:d instanceof Int32Array?h=5124:d instanceof Int8Array?h=5120:d instanceof Uint8Array&&(h=5121),{buffer:p,type:h,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function i(c,u,d){const f=u.array,p=u.updateRange;e.bindBuffer(d,c),p.count===-1?e.bufferSubData(d,0,f):(n?e.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):e.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(e.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,o(c,u)):d.version<c.version&&(i(d.buffer,c,u),d.version=c.version)}return{get:a,remove:s,update:l}}function Mw(e,t,n,r){on.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new dy(e,t,n,r)),this.mergeVertices()}Mw.prototype=Object.create(on.prototype);Mw.prototype.constructor=Mw;function dy(e,t,n,r){Ot.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;const o=e/2,i=t/2,a=Math.floor(n)||1,s=Math.floor(r)||1,l=a+1,c=s+1,u=e/a,d=t/s,f=[],p=[],h=[],g=[];for(let v=0;v<c;v++){const m=v*d-i;for(let b=0;b<l;b++){const x=b*u-o;p.push(x,-m,0),h.push(0,0,1),g.push(b/a),g.push(1-v/s)}}for(let v=0;v<s;v++)for(let m=0;m<a;m++){const b=m+l*v,x=m+l*(v+1),y=m+1+l*(v+1),w=m+1+l*v;f.push(b,x,w),f.push(x,y,w)}this.setIndex(f),this.setAttribute("position",new Lt(p,3)),this.setAttribute("normal",new Lt(h,3)),this.setAttribute("uv",new Lt(g,2))}dy.prototype=Object.create(Ot.prototype);dy.prototype.constructor=dy;var nyt=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,ryt=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oyt=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,iyt=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,ayt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,syt="vec3 transformed = vec3( position );",lyt=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cyt=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,uyt=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,dyt=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,fyt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pyt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hyt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,myt=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,gyt=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,vyt=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,byt=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,yyt=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,xyt=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,wyt=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_yt=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Syt=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Cyt=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Pyt=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Myt="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ayt=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,Eyt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Tyt=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Oyt=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Iyt=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kyt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ryt=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,Lyt=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,$yt=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Dyt=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Fyt=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Nyt=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,Byt=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jyt=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,zyt=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,Hyt=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,Vyt=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Uyt=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Gyt=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wyt=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,qyt=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,Xyt=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Kyt=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Yyt=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,Zyt=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Qyt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Jyt=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,e0t=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,t0t=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,n0t=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,r0t=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,o0t=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,i0t=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,a0t=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,s0t=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,l0t=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,c0t=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,u0t=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,d0t=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,f0t=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,p0t=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,h0t=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,m0t=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,g0t=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,v0t=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,b0t=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,y0t=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,x0t=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w0t=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_0t=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,S0t=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,C0t=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,P0t=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,M0t=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,A0t=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,E0t=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,T0t=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,O0t=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,I0t=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k0t=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,R0t=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,L0t=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,$0t=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,D0t=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,F0t=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,N0t=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,B0t=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,j0t=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,z0t=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,H0t=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,V0t=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,U0t=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,G0t=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,W0t=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,q0t=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,X0t=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,K0t=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Y0t=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Z0t=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Q0t=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,J0t=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,e1t=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,t1t=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n1t=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,r1t=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o1t=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i1t=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a1t=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,s1t=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l1t=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c1t=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u1t=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d1t=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f1t=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p1t=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,h1t=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,m1t=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,g1t=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,v1t=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,b1t=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y1t=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,x1t=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Mn={alphamap_fragment:nyt,alphamap_pars_fragment:ryt,alphatest_fragment:oyt,aomap_fragment:iyt,aomap_pars_fragment:ayt,begin_vertex:syt,beginnormal_vertex:lyt,bsdfs:cyt,bumpmap_pars_fragment:uyt,clipping_planes_fragment:dyt,clipping_planes_pars_fragment:fyt,clipping_planes_pars_vertex:pyt,clipping_planes_vertex:hyt,color_fragment:myt,color_pars_fragment:gyt,color_pars_vertex:vyt,color_vertex:byt,common:yyt,cube_uv_reflection_fragment:xyt,defaultnormal_vertex:wyt,displacementmap_pars_vertex:_yt,displacementmap_vertex:Syt,emissivemap_fragment:Cyt,emissivemap_pars_fragment:Pyt,encodings_fragment:Myt,encodings_pars_fragment:Ayt,envmap_fragment:Eyt,envmap_common_pars_fragment:Tyt,envmap_pars_fragment:Oyt,envmap_pars_vertex:Iyt,envmap_physical_pars_fragment:Hyt,envmap_vertex:kyt,fog_vertex:Ryt,fog_pars_vertex:Lyt,fog_fragment:$yt,fog_pars_fragment:Dyt,gradientmap_pars_fragment:Fyt,lightmap_fragment:Nyt,lightmap_pars_fragment:Byt,lights_lambert_vertex:jyt,lights_pars_begin:zyt,lights_toon_fragment:Vyt,lights_toon_pars_fragment:Uyt,lights_phong_fragment:Gyt,lights_phong_pars_fragment:Wyt,lights_physical_fragment:qyt,lights_physical_pars_fragment:Xyt,lights_fragment_begin:Kyt,lights_fragment_maps:Yyt,lights_fragment_end:Zyt,logdepthbuf_fragment:Qyt,logdepthbuf_pars_fragment:Jyt,logdepthbuf_pars_vertex:e0t,logdepthbuf_vertex:t0t,map_fragment:n0t,map_pars_fragment:r0t,map_particle_fragment:o0t,map_particle_pars_fragment:i0t,metalnessmap_fragment:a0t,metalnessmap_pars_fragment:s0t,morphnormal_vertex:l0t,morphtarget_pars_vertex:c0t,morphtarget_vertex:u0t,normal_fragment_begin:d0t,normal_fragment_maps:f0t,normalmap_pars_fragment:p0t,clearcoat_normal_fragment_begin:h0t,clearcoat_normal_fragment_maps:m0t,clearcoat_pars_fragment:g0t,packing:v0t,premultiplied_alpha_fragment:b0t,project_vertex:y0t,dithering_fragment:x0t,dithering_pars_fragment:w0t,roughnessmap_fragment:_0t,roughnessmap_pars_fragment:S0t,shadowmap_pars_fragment:C0t,shadowmap_pars_vertex:P0t,shadowmap_vertex:M0t,shadowmask_pars_fragment:A0t,skinbase_vertex:E0t,skinning_pars_vertex:T0t,skinning_vertex:O0t,skinnormal_vertex:I0t,specularmap_fragment:k0t,specularmap_pars_fragment:R0t,tonemapping_fragment:L0t,tonemapping_pars_fragment:$0t,uv_pars_fragment:D0t,uv_pars_vertex:F0t,uv_vertex:N0t,uv2_pars_fragment:B0t,uv2_pars_vertex:j0t,uv2_vertex:z0t,worldpos_vertex:H0t,background_frag:V0t,background_vert:U0t,cube_frag:G0t,cube_vert:W0t,depth_frag:q0t,depth_vert:X0t,distanceRGBA_frag:K0t,distanceRGBA_vert:Y0t,equirect_frag:Z0t,equirect_vert:Q0t,linedashed_frag:J0t,linedashed_vert:e1t,meshbasic_frag:t1t,meshbasic_vert:n1t,meshlambert_frag:r1t,meshlambert_vert:o1t,meshmatcap_frag:i1t,meshmatcap_vert:a1t,meshtoon_frag:s1t,meshtoon_vert:l1t,meshphong_frag:c1t,meshphong_vert:u1t,meshphysical_frag:d1t,meshphysical_vert:f1t,normal_frag:p1t,normal_vert:h1t,points_frag:m1t,points_vert:g1t,shadow_frag:v1t,shadow_vert:b1t,sprite_frag:y1t,sprite_vert:x1t},ld={basic:{uniforms:Wi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.fog]),vertexShader:Mn.meshbasic_vert,fragmentShader:Mn.meshbasic_frag},lambert:{uniforms:Wi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.fog,Et.lights,{emissive:{value:new vt(0)}}]),vertexShader:Mn.meshlambert_vert,fragmentShader:Mn.meshlambert_frag},phong:{uniforms:Wi([Et.common,Et.specularmap,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,Et.lights,{emissive:{value:new vt(0)},specular:{value:new vt(1118481)},shininess:{value:30}}]),vertexShader:Mn.meshphong_vert,fragmentShader:Mn.meshphong_frag},standard:{uniforms:Wi([Et.common,Et.envmap,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.roughnessmap,Et.metalnessmap,Et.fog,Et.lights,{emissive:{value:new vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag},toon:{uniforms:Wi([Et.common,Et.aomap,Et.lightmap,Et.emissivemap,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.gradientmap,Et.fog,Et.lights,{emissive:{value:new vt(0)}}]),vertexShader:Mn.meshtoon_vert,fragmentShader:Mn.meshtoon_frag},matcap:{uniforms:Wi([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,Et.fog,{matcap:{value:null}}]),vertexShader:Mn.meshmatcap_vert,fragmentShader:Mn.meshmatcap_frag},points:{uniforms:Wi([Et.points,Et.fog]),vertexShader:Mn.points_vert,fragmentShader:Mn.points_frag},dashed:{uniforms:Wi([Et.common,Et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mn.linedashed_vert,fragmentShader:Mn.linedashed_frag},depth:{uniforms:Wi([Et.common,Et.displacementmap]),vertexShader:Mn.depth_vert,fragmentShader:Mn.depth_frag},normal:{uniforms:Wi([Et.common,Et.bumpmap,Et.normalmap,Et.displacementmap,{opacity:{value:1}}]),vertexShader:Mn.normal_vert,fragmentShader:Mn.normal_frag},sprite:{uniforms:Wi([Et.sprite,Et.fog]),vertexShader:Mn.sprite_vert,fragmentShader:Mn.sprite_frag},background:{uniforms:{uvTransform:{value:new Li},t2D:{value:null}},vertexShader:Mn.background_vert,fragmentShader:Mn.background_frag},cube:{uniforms:Wi([Et.envmap,{opacity:{value:1}}]),vertexShader:Mn.cube_vert,fragmentShader:Mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mn.equirect_vert,fragmentShader:Mn.equirect_frag},distanceRGBA:{uniforms:Wi([Et.common,Et.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mn.distanceRGBA_vert,fragmentShader:Mn.distanceRGBA_frag},shadow:{uniforms:Wi([Et.lights,Et.fog,{color:{value:new vt(0)},opacity:{value:1}}]),vertexShader:Mn.shadow_vert,fragmentShader:Mn.shadow_frag}};ld.physical={uniforms:Wi([ld.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ct(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new vt(0)},transparency:{value:0}}]),vertexShader:Mn.meshphysical_vert,fragmentShader:Mn.meshphysical_frag};function w1t(e,t,n,r){const o=new vt(0);let i=0,a,s,l=null,c=0,u=null;function d(p,h,g,v){let m=h.isScene===!0?h.background:null;const b=e.xr,x=b.getSession&&b.getSession();if(x&&x.environmentBlendMode==="additive"&&(m=null),m===null?f(o,i):m&&m.isColor&&(f(m,1),v=!0),(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===JS)){s===void 0&&(s=new Lr(new tC(1,1,1),new ni({name:"BackgroundCubeMaterial",uniforms:uy(ld.cube.uniforms),vertexShader:ld.cube.vertexShader,fragmentShader:ld.cube.fragmentShader,side:Xo,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(w,_,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(s));const y=m.isWebGLCubeRenderTarget?m.texture:m;s.material.uniforms.envMap.value=y,s.material.uniforms.flipEnvMap.value=y.isCubeTexture?-1:1,(l!==m||c!==y.version||u!==e.toneMapping)&&(s.material.needsUpdate=!0,l=m,c=y.version,u=e.toneMapping),p.unshift(s,s.geometry,s.material,0,0,null)}else m&&m.isTexture&&(a===void 0&&(a=new Lr(new dy(2,2),new ni({name:"BackgroundMaterial",uniforms:uy(ld.background.uniforms),vertexShader:ld.background.vertexShader,fragmentShader:ld.background.fragmentShader,side:y0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),(l!==m||c!==m.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,l=m,c=m.version,u=e.toneMapping),p.unshift(a,a.geometry,a.material,0,0,null))}function f(p,h){t.buffers.color.setClear(p.r,p.g,p.b,h,r)}return{getClearColor:function(){return o},setClearColor:function(p,h){o.set(p),i=h!==void 0?h:1,f(o,i)},getClearAlpha:function(){return i},setClearAlpha:function(p){i=p,f(o,i)},render:d}}function _1t(e,t,n,r){const o=e.getParameter(34921),i=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||i!==null,s={},l=g(null);let c=l;function u(R,T,E,k,B){let $=!1;if(a){const j=h(k,E,T);c!==j&&(c=j,f(c.object)),$=v(k),$&&m(k)}else{const j=T.wireframe===!0;(c.geometry!==k.id||c.program!==E.id||c.wireframe!==j)&&(c.geometry=k.id,c.program=E.id,c.wireframe=j,$=!0)}R.isInstancedMesh===!0&&($=!0),B!==null&&n.update(B,34963),$&&(S(R,T,E,k),B!==null&&e.bindBuffer(34963,n.get(B).buffer))}function d(){return r.isWebGL2?e.createVertexArray():i.createVertexArrayOES()}function f(R){return r.isWebGL2?e.bindVertexArray(R):i.bindVertexArrayOES(R)}function p(R){return r.isWebGL2?e.deleteVertexArray(R):i.deleteVertexArrayOES(R)}function h(R,T,E){const k=E.wireframe===!0;let B=s[R.id];B===void 0&&(B={},s[R.id]=B);let $=B[T.id];$===void 0&&($={},B[T.id]=$);let j=$[k];return j===void 0&&(j=g(d()),$[k]=j),j}function g(R){const T=[],E=[],k=[];for(let B=0;B<o;B++)T[B]=0,E[B]=0,k[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:E,attributeDivisors:k,object:R,attributes:{}}}function v(R){const T=c.attributes,E=R.attributes;if(Object.keys(T).length!==Object.keys(E).length)return!0;for(const k in E){const B=T[k],$=E[k];if(B.attribute!==$||B.data!==$.data)return!0}return!1}function m(R){const T={},E=R.attributes;for(const k in E){const B=E[k],$={};$.attribute=B,B.data&&($.data=B.data),T[k]=$}c.attributes=T}function b(){const R=c.newAttributes;for(let T=0,E=R.length;T<E;T++)R[T]=0}function x(R){y(R,0)}function y(R,T){const E=c.newAttributes,k=c.enabledAttributes,B=c.attributeDivisors;E[R]=1,k[R]===0&&(e.enableVertexAttribArray(R),k[R]=1),B[R]!==T&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](R,T),B[R]=T)}function w(){const R=c.newAttributes,T=c.enabledAttributes;for(let E=0,k=T.length;E<k;E++)T[E]!==R[E]&&(e.disableVertexAttribArray(E),T[E]=0)}function _(R,T,E,k,B,$){r.isWebGL2===!0&&(E===5124||E===5125)?e.vertexAttribIPointer(R,T,E,k,B,$):e.vertexAttribPointer(R,T,E,k,B,$)}function S(R,T,E,k){if(r.isWebGL2===!1&&(R.isInstancedMesh||k.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;b();const B=k.attributes,$=E.getAttributes(),j=T.defaultAttributeValues;for(const V in $){const q=$[V];if(q>=0){const Q=B[V];if(Q!==void 0){const H=Q.normalized,X=Q.itemSize,J=n.get(Q);if(J===void 0)continue;const G=J.buffer,ie=J.type,Y=J.bytesPerElement;if(Q.isInterleavedBufferAttribute){const le=Q.data,te=le.stride,re=Q.offset;le&&le.isInstancedInterleavedBuffer?(y(q,le.meshPerAttribute),k._maxInstanceCount===void 0&&(k._maxInstanceCount=le.meshPerAttribute*le.count)):x(q),e.bindBuffer(34962,G),_(q,X,ie,H,te*Y,re*Y)}else Q.isInstancedBufferAttribute?(y(q,Q.meshPerAttribute),k._maxInstanceCount===void 0&&(k._maxInstanceCount=Q.meshPerAttribute*Q.count)):x(q),e.bindBuffer(34962,G),_(q,X,ie,H,0,0)}else if(V==="instanceMatrix"){const H=n.get(R.instanceMatrix);if(H===void 0)continue;const X=H.buffer,J=H.type;y(q+0,1),y(q+1,1),y(q+2,1),y(q+3,1),e.bindBuffer(34962,X),e.vertexAttribPointer(q+0,4,J,!1,64,0),e.vertexAttribPointer(q+1,4,J,!1,64,16),e.vertexAttribPointer(q+2,4,J,!1,64,32),e.vertexAttribPointer(q+3,4,J,!1,64,48)}else if(j!==void 0){const H=j[V];if(H!==void 0)switch(H.length){case 2:e.vertexAttrib2fv(q,H);break;case 3:e.vertexAttrib3fv(q,H);break;case 4:e.vertexAttrib4fv(q,H);break;default:e.vertexAttrib1fv(q,H)}}}}w()}function P(){O();for(const R in s){const T=s[R];for(const E in T){const k=T[E];for(const B in k)p(k[B].object),delete k[B];delete T[E]}delete s[R]}}function M(R){if(s[R.id]===void 0)return;const T=s[R.id];for(const E in T){const k=T[E];for(const B in k)p(k[B].object),delete k[B];delete T[E]}delete s[R.id]}function I(R){for(const T in s){const E=s[T];if(E[R.id]===void 0)continue;const k=E[R.id];for(const B in k)p(k[B].object),delete k[B];delete E[R.id]}}function O(){L(),c!==l&&(c=l,f(c.object))}function L(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:O,resetDefaultState:L,dispose:P,releaseStatesOfGeometry:M,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:x,disableUnusedAttributes:w}}function S1t(e,t,n,r){const o=r.isWebGL2;let i;function a(c){i=c}function s(c,u){e.drawArrays(i,c,u),n.update(u,i)}function l(c,u,d,f){if(f===0)return;let p,h;if(o)p=e,h="drawArraysInstanced";else if(p=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[h](i,u,d,f),n.update(d,i,f)}this.setMode=a,this.render=s,this.renderInstances=l}function C1t(e,t,n){let r;function o(){if(r!==void 0)return r;const _=t.get("EXT_texture_filter_anisotropic");return _!==null?r=e.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT):r=0,r}function i(_){if(_==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";_="mediump"}return _==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let s=n.precision!==void 0?n.precision:"highp";const l=i(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=n.logarithmicDepthBuffer===!0,u=e.getParameter(34930),d=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),m=e.getParameter(36349),b=d>0,x=a||!!t.get("OES_texture_float"),y=b&&x,w=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:o,getMaxPrecision:i,precision:s,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:f,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:b,floatFragmentTextures:x,floatVertexTextures:y,maxSamples:w}}function P1t(){const e=this;let t=null,n=0,r=!1,o=!1;const i=new nu,a=new Li,s={value:null,needsUpdate:!1};this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d,f){const p=u.length!==0||d||n!==0||r;return r=d,t=c(u,f,0),n=u.length,p},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,l()},this.setState=function(u,d,f,p,h,g){if(!r||u===null||u.length===0||o&&!f)o?c(null):l();else{const v=o?0:n,m=v*4;let b=h.clippingState||null;s.value=b,b=c(u,p,m,g);for(let x=0;x!==m;++x)b[x]=t[x];h.clippingState=b,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(u,d,f,p){let h=u!==null?u.length:0,g=null;if(h!==0){if(g=s.value,p!==!0||g===null){const v=f+h*4,m=d.matrixWorldInverse;a.getNormalMatrix(m),(g===null||g.length<v)&&(g=new Float32Array(v));for(let b=0,x=f;b!==h;++b,x+=4)i.copy(u[b]).applyMatrix4(m,a),i.normal.toArray(g,x),g[x+3]=i.constant}s.value=g,s.needsUpdate=!0}return e.numPlanes=h,e.numIntersection=0,g}}function M1t(e){const t={};return{get:function(n){if(t[n]!==void 0)return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return r===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function A1t(e,t,n,r){const o=new WeakMap,i=new WeakMap;function a(d){const f=d.target,p=o.get(f);p.index!==null&&t.remove(p.index);for(const g in p.attributes)t.remove(p.attributes[g]);f.removeEventListener("dispose",a),o.delete(f);const h=i.get(p);h&&(t.remove(h),i.delete(p)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function s(d,f){let p=o.get(f);return p||(f.addEventListener("dispose",a),f.isBufferGeometry?p=f:f.isGeometry&&(f._bufferGeometry===void 0&&(f._bufferGeometry=new Ot().setFromObject(d)),p=f._bufferGeometry),o.set(f,p),n.memory.geometries++,p)}function l(d){const f=d.attributes;for(const h in f)t.update(f[h],34962);const p=d.morphAttributes;for(const h in p){const g=p[h];for(let v=0,m=g.length;v<m;v++)t.update(g[v],34962)}}function c(d){const f=[],p=d.index,h=d.attributes.position;let g=0;if(p!==null){const b=p.array;g=p.version;for(let x=0,y=b.length;x<y;x+=3){const w=b[x+0],_=b[x+1],S=b[x+2];f.push(w,_,_,S,S,w)}}else{const b=h.array;g=h.version;for(let x=0,y=b.length/3-1;x<y;x+=3){const w=x+0,_=x+1,S=x+2;f.push(w,_,_,S,S,w)}}const v=new(afe(f)>65535?Sw:_w)(f,1);v.version=g;const m=i.get(d);m&&t.remove(m),i.set(d,v)}function u(d){const f=i.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&c(d)}else c(d);return i.get(d)}return{get:s,update:l,getWireframeAttribute:u}}function E1t(e,t,n,r){const o=r.isWebGL2;let i;function a(f){i=f}let s,l;function c(f){s=f.type,l=f.bytesPerElement}function u(f,p){e.drawElements(i,p,s,f*l),n.update(p,i)}function d(f,p,h,g){if(g===0)return;let v,m;if(o)v=e,m="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[m](i,h,s,p*l,g),n.update(h,i,g)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=d}function T1t(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,a,s){switch(s=s||1,n.calls++,a){case 4:n.triangles+=s*(i/3);break;case 1:n.lines+=s*(i/2);break;case 3:n.lines+=s*(i-1);break;case 2:n.lines+=s*i;break;case 0:n.points+=s*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:o,update:r}}function O1t(e,t){return e[0]-t[0]}function I1t(e,t){return Math.abs(t[1])-Math.abs(e[1])}function k1t(e){const t={},n=new Float32Array(8),r=[];for(let i=0;i<8;i++)r[i]=[i,0];function o(i,a,s,l){const c=i.morphTargetInfluences,u=c===void 0?0:c.length;let d=t[a.id];if(d===void 0){d=[];for(let v=0;v<u;v++)d[v]=[v,0];t[a.id]=d}for(let v=0;v<u;v++){const m=d[v];m[0]=v,m[1]=c[v]}d.sort(I1t);for(let v=0;v<8;v++)v<u&&d[v][1]?(r[v][0]=d[v][0],r[v][1]=d[v][1]):(r[v][0]=Number.MAX_SAFE_INTEGER,r[v][1]=0);r.sort(O1t);const f=s.morphTargets&&a.morphAttributes.position,p=s.morphNormals&&a.morphAttributes.normal;let h=0;for(let v=0;v<8;v++){const m=r[v],b=m[0],x=m[1];b!==Number.MAX_SAFE_INTEGER&&x?(f&&a.getAttribute("morphTarget"+v)!==f[b]&&a.setAttribute("morphTarget"+v,f[b]),p&&a.getAttribute("morphNormal"+v)!==p[b]&&a.setAttribute("morphNormal"+v,p[b]),n[v]=x,h+=x):(f&&a.getAttribute("morphTarget"+v)!==void 0&&a.deleteAttribute("morphTarget"+v),p&&a.getAttribute("morphNormal"+v)!==void 0&&a.deleteAttribute("morphNormal"+v),n[v]=0)}const g=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(e,"morphTargetBaseInfluence",g),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:o}}function R1t(e,t,n,r){let o=new WeakMap;function i(s){const l=r.render.frame,c=s.geometry,u=t.get(s,c);return o.get(u)!==l&&(c.isGeometry&&u.updateFromObject(s),t.update(u),o.set(u,l)),s.isInstancedMesh&&n.update(s.instanceMatrix,34962),u}function a(){o=new WeakMap}return{update:i,dispose:a}}function Op(e,t,n,r,o,i,a,s,l,c){e=e!==void 0?e:[],t=t!==void 0?t:N6,a=a!==void 0?a:lm,$r.call(this,e,t,n,r,o,i,a,s,l,c),this.flipY=!1}Op.prototype=Object.create($r.prototype);Op.prototype.constructor=Op;Op.prototype.isCubeTexture=!0;Object.defineProperty(Op.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Aw(e,t,n,r){$r.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Mr,this.minFilter=Mr,this.wrapR=Xa,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Aw.prototype=Object.create($r.prototype);Aw.prototype.constructor=Aw;Aw.prototype.isDataTexture2DArray=!0;function Ew(e,t,n,r){$r.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Mr,this.minFilter=Mr,this.wrapR=Xa,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ew.prototype=Object.create($r.prototype);Ew.prototype.constructor=Ew;Ew.prototype.isDataTexture3D=!0;const cfe=new $r,L1t=new Aw,$1t=new Ew,ufe=new Op,lq=[],cq=[],uq=new Float32Array(16),dq=new Float32Array(9),fq=new Float32Array(4);function _0(e,t,n){const r=e[0];if(r<=0||r>0)return e;let o=t*n,i=lq[o];if(i===void 0&&(i=new Float32Array(o),lq[o]=i),t!==0){r.toArray(i,0);for(let a=1,s=0;a!==t;++a)s+=n,e[a].toArray(i,s)}return i}function El(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $s(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function dfe(e,t){let n=cq[t];n===void 0&&(n=new Int32Array(t),cq[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function D1t(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function F1t(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(El(n,t))return;e.uniform2fv(this.addr,t),$s(n,t)}}function N1t(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(El(n,t))return;e.uniform3fv(this.addr,t),$s(n,t)}}function B1t(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(El(n,t))return;e.uniform4fv(this.addr,t),$s(n,t)}}function j1t(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(El(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),$s(n,t)}else{if(El(n,r))return;fq.set(r),e.uniformMatrix2fv(this.addr,!1,fq),$s(n,r)}}function z1t(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(El(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),$s(n,t)}else{if(El(n,r))return;dq.set(r),e.uniformMatrix3fv(this.addr,!1,dq),$s(n,r)}}function H1t(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(El(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),$s(n,t)}else{if(El(n,r))return;uq.set(r),e.uniformMatrix4fv(this.addr,!1,uq),$s(n,r)}}function V1t(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.safeSetTexture2D(t||cfe,o)}function U1t(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(t||L1t,o)}function G1t(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(t||$1t,o)}function W1t(e,t,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(e.uniform1i(this.addr,o),r[0]=o),n.safeSetTextureCube(t||ufe,o)}function q1t(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function X1t(e,t){const n=this.cache;El(n,t)||(e.uniform2iv(this.addr,t),$s(n,t))}function K1t(e,t){const n=this.cache;El(n,t)||(e.uniform3iv(this.addr,t),$s(n,t))}function Y1t(e,t){const n=this.cache;El(n,t)||(e.uniform4iv(this.addr,t),$s(n,t))}function Z1t(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Q1t(e){switch(e){case 5126:return D1t;case 35664:return F1t;case 35665:return N1t;case 35666:return B1t;case 35674:return j1t;case 35675:return z1t;case 35676:return H1t;case 5124:case 35670:return q1t;case 35667:case 35671:return X1t;case 35668:case 35672:return K1t;case 35669:case 35673:return Y1t;case 5125:return Z1t;case 35678:case 36198:case 36298:case 36306:case 35682:return V1t;case 35679:case 36299:case 36307:return G1t;case 35680:case 36300:case 36308:case 36293:return W1t;case 36289:case 36303:case 36311:case 36292:return U1t}}function J1t(e,t){e.uniform1fv(this.addr,t)}function ext(e,t){e.uniform1iv(this.addr,t)}function txt(e,t){e.uniform2iv(this.addr,t)}function nxt(e,t){e.uniform3iv(this.addr,t)}function rxt(e,t){e.uniform4iv(this.addr,t)}function oxt(e,t){const n=_0(t,this.size,2);e.uniform2fv(this.addr,n)}function ixt(e,t){const n=_0(t,this.size,3);e.uniform3fv(this.addr,n)}function axt(e,t){const n=_0(t,this.size,4);e.uniform4fv(this.addr,n)}function sxt(e,t){const n=_0(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function lxt(e,t){const n=_0(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function cxt(e,t){const n=_0(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function uxt(e,t,n){const r=t.length,o=dfe(n,r);e.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.safeSetTexture2D(t[i]||cfe,o[i])}function dxt(e,t,n){const r=t.length,o=dfe(n,r);e.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.safeSetTextureCube(t[i]||ufe,o[i])}function fxt(e){switch(e){case 5126:return J1t;case 35664:return oxt;case 35665:return ixt;case 35666:return axt;case 35674:return sxt;case 35675:return lxt;case 35676:return cxt;case 5124:case 35670:return ext;case 35667:case 35671:return txt;case 35668:case 35672:return nxt;case 35669:case 35673:return rxt;case 35678:case 36198:case 36298:case 36306:case 35682:return uxt;case 35680:case 36300:case 36308:case 36293:return dxt}}function pxt(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Q1t(t.type)}function ffe(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=fxt(t.type)}ffe.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),$s(t,e)};function pfe(e){this.id=e,this.seq=[],this.map={}}pfe.prototype.setValue=function(e,t,n){const r=this.seq;for(let o=0,i=r.length;o!==i;++o){const a=r[o];a.setValue(e,t[a.id],n)}};const i$=/([\w\d_]+)(\])?(\[|\.)?/g;function pq(e,t){e.seq.push(t),e.map[t.id]=t}function hxt(e,t,n){const r=e.name,o=r.length;for(i$.lastIndex=0;;){const i=i$.exec(r),a=i$.lastIndex;let s=i[1],l=i[2]==="]",c=i[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===o){pq(n,c===void 0?new pxt(s,e,t):new ffe(s,e,t));break}else{let d=n.map[s];d===void 0&&(d=new pfe(s),pq(n,d)),n=d}}}function pp(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const o=e.getActiveUniform(t,r),i=e.getUniformLocation(t,o.name);hxt(o,i,this)}}pp.prototype.setValue=function(e,t,n,r){const o=this.map[t];o!==void 0&&o.setValue(e,n,r)};pp.prototype.setOptional=function(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)};pp.upload=function(e,t,n,r){for(let o=0,i=t.length;o!==i;++o){const a=t[o],s=n[a.id];s.needsUpdate!==!1&&a.setValue(e,s.value,r)}};pp.seqWithValue=function(e,t){const n=[];for(let r=0,o=e.length;r!==o;++r){const i=e[r];i.id in t&&n.push(i)}return n};function hq(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let mxt=0;function gxt(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function hfe(e){switch(e){case ra:return["Linear","( value )"];case eC:return["sRGB","( value )"];case U6:return["RGBE","( value )"];case tfe:return["RGBM","( value, 7.0 )"];case nfe:return["RGBM","( value, 16.0 )"];case rfe:return["RGBD","( value, 256.0 )"];case V6:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Rbt:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function mq(e,t,n){const r=e.getShaderParameter(t,35713),o=e.getShaderInfoLog(t).trim();if(r&&o==="")return"";const i=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+o+gxt(i)}function s1(e,t){const n=hfe(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function vxt(e,t){const n=hfe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function bxt(e,t){let n;switch(t){case kvt:n="Linear";break;case Rvt:n="Reinhard";break;case Lvt:n="OptimizedCineon";break;case $vt:n="ACESFilmic";break;case Dvt:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yxt(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(q1).join(`
`)}function xxt(e){const t=[];for(const n in e){const r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function wxt(e,t){const n={},r=e.getProgramParameter(t,35721);for(let o=0;o<r;o++){const a=e.getActiveAttrib(t,o).name;n[a]=e.getAttribLocation(t,a)}return n}function q1(e){return e!==""}function gq(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vq(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const _xt=/^[ \t]*#include +<([\w\d./]+)>/gm;function lN(e){return e.replace(_xt,Sxt)}function Sxt(e,t){const n=Mn[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return lN(n)}const Cxt=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Pxt=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function bq(e){return e.replace(Pxt,mfe).replace(Cxt,Mxt)}function Mxt(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),mfe(e,t,n,r)}function mfe(e,t,n,r){let o="";for(let i=parseInt(t);i<parseInt(n);i++)o+=r.replace(/\[ i \]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return o}function yq(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Axt(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Xde?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===uvt?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===W1&&(t="SHADOWMAP_TYPE_VSM"),t}function Ext(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case N6:case B6:t="ENVMAP_TYPE_CUBE";break;case JS:case z6:t="ENVMAP_TYPE_CUBE_UV";break;case Qde:case j6:t="ENVMAP_TYPE_EQUIREC";break}return t}function Txt(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case B6:case j6:t="ENVMAP_MODE_REFRACTION";break}return t}function Oxt(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ik:t="ENVMAP_BLENDING_MULTIPLY";break;case Ovt:t="ENVMAP_BLENDING_MIX";break;case Ivt:t="ENVMAP_BLENDING_ADD";break}return t}function Ixt(e,t,n,r){const o=e.getContext(),i=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=Axt(n),c=Ext(n),u=Txt(n),d=Oxt(n),f=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":yxt(n),h=xxt(i),g=o.createProgram();let v,m;if(n.isRawShaderMaterial?(v=[h].filter(q1).join(`
`),v.length>0&&(v+=`
`),m=[p,h].filter(q1).join(`
`),m.length>0&&(m+=`
`)):(v=[yq(n),"#define SHADER_NAME "+n.shaderName,h,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(q1).join(`
`),m=[p,yq(n),"#define SHADER_NAME "+n.shaderName,h,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==fb?"#define TONE_MAPPING":"",n.toneMapping!==fb?Mn.tonemapping_pars_fragment:"",n.toneMapping!==fb?bxt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Mn.encodings_pars_fragment,n.map?s1("mapTexelToLinear",n.mapEncoding):"",n.matcap?s1("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?s1("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?s1("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?s1("lightMapTexelToLinear",n.lightMapEncoding):"",vxt("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(q1).join(`
`)),a=lN(a),a=gq(a,n),a=vq(a,n),s=lN(s),s=gq(s,n),s=vq(s,n),a=bq(a),s=bq(s),n.isWebGL2&&!n.isRawShaderMaterial){let P=!1;const M=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&a.match(M)!==null&&s.match(M)!==null&&(P=!0,a=a.replace(M,""),s=s.replace(M,"")),v=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=[`#version 300 es
`,"#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m}const b=v+a,x=m+s,y=hq(o,35633,b),w=hq(o,35632,x);if(o.attachShader(g,y),o.attachShader(g,w),n.index0AttributeName!==void 0?o.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){const P=o.getProgramInfoLog(g).trim(),M=o.getShaderInfoLog(y).trim(),I=o.getShaderInfoLog(w).trim();let O=!0,L=!0;if(o.getProgramParameter(g,35714)===!1){O=!1;const R=mq(o,y,"vertex"),T=mq(o,w,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",P,R,T)}else P!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):(M===""||I==="")&&(L=!1);L&&(this.diagnostics={runnable:O,programLog:P,vertexShader:{log:M,prefix:v},fragmentShader:{log:I,prefix:m}})}o.deleteShader(y),o.deleteShader(w);let _;this.getUniforms=function(){return _===void 0&&(_=new pp(o,g)),_};let S;return this.getAttributes=function(){return S===void 0&&(S=wxt(o,g)),S},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=mxt++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=y,this.fragmentShader=w,this}function kxt(e,t,n,r){const o=[],i=n.isWebGL2,a=n.logarithmicDepthBuffer,s=n.floatVertexTextures,l=n.maxVertexUniforms,c=n.vertexTextures;let u=n.precision;const d={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function p(y,w){let _;if(w){const S=ld[w];_={name:y.name||y.type,uniforms:GA.clone(S.uniforms),vertexShader:S.vertexShader,fragmentShader:S.fragmentShader}}else _={name:y.name||y.type,uniforms:y.uniforms,vertexShader:y.vertexShader,fragmentShader:y.fragmentShader};return _}function h(y){const _=y.skeleton.bones;if(s)return 1024;{const P=Math.floor((l-20)/4),M=Math.min(P,_.length);return M<_.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+_.length+" bones. This GPU supports "+M+"."),0):M}}function g(y){let w;return y?y.isTexture?w=y.encoding:y.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),w=y.texture.encoding):w=ra,w}function v(y,w,_,S,P,M,I){const O=S.fog,L=y.isMeshStandardMaterial?S.environment:null,R=y.envMap||L,T=d[y.type],E=I.isSkinnedMesh?h(I):0;y.precision!==null&&(u=n.getMaxPrecision(y.precision),u!==y.precision&&console.warn("THREE.WebGLProgram.getParameters:",y.precision,"not supported, using",u,"instead."));const k=p(y,T);y.onBeforeCompile(k,e);const B=e.getRenderTarget();return{isWebGL2:i,shaderID:T,shaderName:k.name,uniforms:k.uniforms,vertexShader:k.vertexShader,fragmentShader:k.fragmentShader,defines:y.defines,isRawShaderMaterial:y.isRawShaderMaterial,isShaderMaterial:y.isShaderMaterial,precision:u,instancing:I.isInstancedMesh===!0,supportsVertexTextures:c,outputEncoding:B!==null?g(B.texture):e.outputEncoding,map:!!y.map,mapEncoding:g(y.map),matcap:!!y.matcap,matcapEncoding:g(y.matcap),envMap:!!R,envMapMode:R&&R.mapping,envMapEncoding:g(R),envMapCubeUV:!!R&&(R.mapping===JS||R.mapping===z6),lightMap:!!y.lightMap,lightMapEncoding:g(y.lightMap),aoMap:!!y.aoMap,emissiveMap:!!y.emissiveMap,emissiveMapEncoding:g(y.emissiveMap),bumpMap:!!y.bumpMap,normalMap:!!y.normalMap,objectSpaceNormalMap:y.normalMapType===Dbt,tangentSpaceNormalMap:y.normalMapType===x0,clearcoatMap:!!y.clearcoatMap,clearcoatRoughnessMap:!!y.clearcoatRoughnessMap,clearcoatNormalMap:!!y.clearcoatNormalMap,displacementMap:!!y.displacementMap,roughnessMap:!!y.roughnessMap,metalnessMap:!!y.metalnessMap,specularMap:!!y.specularMap,alphaMap:!!y.alphaMap,gradientMap:!!y.gradientMap,sheen:!!y.sheen,combine:y.combine,vertexTangents:y.normalMap&&y.vertexTangents,vertexColors:y.vertexColors,vertexUvs:!!y.map||!!y.bumpMap||!!y.normalMap||!!y.specularMap||!!y.alphaMap||!!y.emissiveMap||!!y.roughnessMap||!!y.metalnessMap||!!y.clearcoatMap||!!y.clearcoatRoughnessMap||!!y.clearcoatNormalMap||!!y.displacementMap,uvsVertexOnly:!(y.map||y.bumpMap||y.normalMap||y.specularMap||y.alphaMap||y.emissiveMap||y.roughnessMap||y.metalnessMap||y.clearcoatNormalMap)&&!!y.displacementMap,fog:!!O,useFog:y.fog,fogExp2:O&&O.isFogExp2,flatShading:y.flatShading,sizeAttenuation:y.sizeAttenuation,logarithmicDepthBuffer:a,skinning:y.skinning&&E>0,maxBones:E,useVertexTexture:s,morphTargets:y.morphTargets,morphNormals:y.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numClippingPlanes:P,numClipIntersection:M,dithering:y.dithering,shadowMapEnabled:e.shadowMap.enabled&&_.length>0,shadowMapType:e.shadowMap.type,toneMapping:y.toneMapped?e.toneMapping:fb,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:y.premultipliedAlpha,alphaTest:y.alphaTest,doubleSided:y.side===QS,flipSided:y.side===Xo,depthPacking:y.depthPacking!==void 0?y.depthPacking:!1,index0AttributeName:y.index0AttributeName,extensionDerivatives:y.extensions&&y.extensions.derivatives,extensionFragDepth:y.extensions&&y.extensions.fragDepth,extensionDrawBuffers:y.extensions&&y.extensions.drawBuffers,extensionShaderTextureLOD:y.extensions&&y.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:i||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:i||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:y.customProgramCacheKey()}}function m(y){const w=[];if(y.shaderID?w.push(y.shaderID):(w.push(y.fragmentShader),w.push(y.vertexShader)),y.defines!==void 0)for(const _ in y.defines)w.push(_),w.push(y.defines[_]);if(y.isRawShaderMaterial===void 0){for(let _=0;_<f.length;_++)w.push(y[f[_]]);w.push(e.outputEncoding),w.push(e.gammaFactor)}return w.push(y.customProgramCacheKey),w.join()}function b(y,w){let _;for(let S=0,P=o.length;S<P;S++){const M=o[S];if(M.cacheKey===w){_=M,++_.usedTimes;break}}return _===void 0&&(_=new Ixt(e,w,y,r),o.push(_)),_}function x(y){if(--y.usedTimes===0){const w=o.indexOf(y);o[w]=o[o.length-1],o.pop(),y.destroy()}}return{getParameters:v,getProgramCacheKey:m,acquireProgram:b,releaseProgram:x,programs:o}}function Rxt(){let e=new WeakMap;function t(i){let a=e.get(i);return a===void 0&&(a={},e.set(i,a)),a}function n(i){e.delete(i)}function r(i,a,s){e.get(i)[a]=s}function o(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:o}}function Lxt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function $xt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function xq(){const e=[];let t=0;const n=[],r=[],o={id:-1};function i(){t=0,n.length=0,r.length=0}function a(d,f,p,h,g,v){let m=e[t];return m===void 0?(m={id:d.id,object:d,geometry:f,material:p,program:p.program||o,groupOrder:h,renderOrder:d.renderOrder,z:g,group:v},e[t]=m):(m.id=d.id,m.object=d,m.geometry=f,m.material=p,m.program=p.program||o,m.groupOrder=h,m.renderOrder=d.renderOrder,m.z=g,m.group=v),t++,m}function s(d,f,p,h,g,v){const m=a(d,f,p,h,g,v);(p.transparent===!0?r:n).push(m)}function l(d,f,p,h,g,v){const m=a(d,f,p,h,g,v);(p.transparent===!0?r:n).unshift(m)}function c(d,f){n.length>1&&n.sort(d||Lxt),r.length>1&&r.sort(f||$xt)}function u(){for(let d=t,f=e.length;d<f;d++){const p=e[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.program=null,p.group=null}}return{opaque:n,transparent:r,init:i,push:s,unshift:l,finish:u,sort:c}}function Dxt(){let e=new WeakMap;function t(o){const i=o.target;i.removeEventListener("dispose",t),e.delete(i)}function n(o,i){const a=e.get(o);let s;return a===void 0?(s=new xq,e.set(o,new WeakMap),e.get(o).set(i,s),o.addEventListener("dispose",t)):(s=a.get(i),s===void 0&&(s=new xq,a.set(i,s))),s}function r(){e=new WeakMap}return{get:n,dispose:r}}function Fxt(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ee,color:new vt};break;case"SpotLight":n={position:new ee,direction:new ee,color:new vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new vt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new vt,groundColor:new vt};break;case"RectAreaLight":n={color:new vt,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return e[t.id]=n,n}}}function Nxt(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let Bxt=0;function jxt(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function zxt(){const e=new Fxt,t=Nxt(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let s=0;s<9;s++)n.probe.push(new ee);const r=new ee,o=new mt,i=new mt;function a(s,l,c){let u=0,d=0,f=0;for(let S=0;S<9;S++)n.probe[S].set(0,0,0);let p=0,h=0,g=0,v=0,m=0,b=0,x=0,y=0;const w=c.matrixWorldInverse;s.sort(jxt);for(let S=0,P=s.length;S<P;S++){const M=s[S],I=M.color,O=M.intensity,L=M.distance,R=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)u+=I.r*O,d+=I.g*O,f+=I.b*O;else if(M.isLightProbe)for(let T=0;T<9;T++)n.probe[T].addScaledVector(M.sh.coefficients[T],O);else if(M.isDirectionalLight){const T=e.get(M);if(T.color.copy(M.color).multiplyScalar(M.intensity),T.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(w),M.castShadow){const E=M.shadow,k=t.get(M);k.shadowBias=E.bias,k.shadowNormalBias=E.normalBias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize,n.directionalShadow[p]=k,n.directionalShadowMap[p]=R,n.directionalShadowMatrix[p]=M.shadow.matrix,b++}n.directional[p]=T,p++}else if(M.isSpotLight){const T=e.get(M);if(T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),T.color.copy(I).multiplyScalar(O),T.distance=L,T.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(w),T.coneCos=Math.cos(M.angle),T.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),T.decay=M.decay,M.castShadow){const E=M.shadow,k=t.get(M);k.shadowBias=E.bias,k.shadowNormalBias=E.normalBias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize,n.spotShadow[g]=k,n.spotShadowMap[g]=R,n.spotShadowMatrix[g]=M.shadow.matrix,y++}n.spot[g]=T,g++}else if(M.isRectAreaLight){const T=e.get(M);T.color.copy(I).multiplyScalar(O),T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),i.identity(),o.copy(M.matrixWorld),o.premultiply(w),i.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),n.rectArea[v]=T,v++}else if(M.isPointLight){const T=e.get(M);if(T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(w),T.color.copy(M.color).multiplyScalar(M.intensity),T.distance=M.distance,T.decay=M.decay,M.castShadow){const E=M.shadow,k=t.get(M);k.shadowBias=E.bias,k.shadowNormalBias=E.normalBias,k.shadowRadius=E.radius,k.shadowMapSize=E.mapSize,k.shadowCameraNear=E.camera.near,k.shadowCameraFar=E.camera.far,n.pointShadow[h]=k,n.pointShadowMap[h]=R,n.pointShadowMatrix[h]=M.shadow.matrix,x++}n.point[h]=T,h++}else if(M.isHemisphereLight){const T=e.get(M);T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(w),T.direction.normalize(),T.skyColor.copy(M.color).multiplyScalar(O),T.groundColor.copy(M.groundColor).multiplyScalar(O),n.hemi[m]=T,m++}}n.ambient[0]=u,n.ambient[1]=d,n.ambient[2]=f;const _=n.hash;(_.directionalLength!==p||_.pointLength!==h||_.spotLength!==g||_.rectAreaLength!==v||_.hemiLength!==m||_.numDirectionalShadows!==b||_.numPointShadows!==x||_.numSpotShadows!==y)&&(n.directional.length=p,n.spot.length=g,n.rectArea.length=v,n.point.length=h,n.hemi.length=m,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=x,n.pointShadowMap.length=x,n.spotShadow.length=y,n.spotShadowMap.length=y,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=x,n.spotShadowMatrix.length=y,_.directionalLength=p,_.pointLength=h,_.spotLength=g,_.rectAreaLength=v,_.hemiLength=m,_.numDirectionalShadows=b,_.numPointShadows=x,_.numSpotShadows=y,n.version=Bxt++)}return{setup:a,state:n}}function wq(){const e=new zxt,t=[],n=[];function r(){t.length=0,n.length=0}function o(l){t.push(l)}function i(l){n.push(l)}function a(l){e.setup(t,n,l)}return{init:r,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:a,pushLight:o,pushShadow:i}}function Hxt(){let e=new WeakMap;function t(o){const i=o.target;i.removeEventListener("dispose",t),e.delete(i)}function n(o,i){let a;return e.has(o)===!1?(a=new wq,e.set(o,new WeakMap),e.get(o).set(i,a),o.addEventListener("dispose",t)):e.get(o).has(i)===!1?(a=new wq,e.get(o).set(i,a)):a=e.get(o).get(i),a}function r(){e=new WeakMap}return{get:n,dispose:r}}function Fm(e){dn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Lbt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}Fm.prototype=Object.create(dn.prototype);Fm.prototype.constructor=Fm;Fm.prototype.isMeshDepthMaterial=!0;Fm.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function Nm(e){dn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ee,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Nm.prototype=Object.create(dn.prototype);Nm.prototype.constructor=Nm;Nm.prototype.isMeshDistanceMaterial=!0;Nm.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Vxt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,Uxt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function gfe(e,t,n){let r=new nC;const o=new ct,i=new ct,a=new _r,s=[],l=[],c={},u={0:Xo,1:y0,2:QS},d=new ni({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ct},radius:{value:4}},vertexShader:Uxt,fragmentShader:Vxt}),f=d.clone();f.defines.HORIZONAL_PASS=1;const p=new Ot;p.setAttribute("position",new Ht(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const h=new Lr(p,d),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xde,this.render=function(w,_,S){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||w.length===0)return;const P=e.getRenderTarget(),M=e.getActiveCubeFace(),I=e.getActiveMipmapLevel(),O=e.state;O.setBlending(Cd),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let L=0,R=w.length;L<R;L++){const T=w[L],E=T.shadow;if(E.autoUpdate===!1&&E.needsUpdate===!1)continue;if(E===void 0){console.warn("THREE.WebGLShadowMap:",T,"has no shadow.");continue}o.copy(E.mapSize);const k=E.getFrameExtents();if(o.multiply(k),i.copy(E.mapSize),(o.x>n||o.y>n)&&(o.x>n&&(i.x=Math.floor(n/k.x),o.x=i.x*k.x,E.mapSize.x=i.x),o.y>n&&(i.y=Math.floor(n/k.y),o.y=i.y*k.y,E.mapSize.y=i.y)),E.map===null&&!E.isPointLightShadow&&this.type===W1){const $={minFilter:Bo,magFilter:Bo,format:ns};E.map=new wa(o.x,o.y,$),E.map.texture.name=T.name+".shadowMap",E.mapPass=new wa(o.x,o.y,$),E.camera.updateProjectionMatrix()}if(E.map===null){const $={minFilter:Mr,magFilter:Mr,format:ns};E.map=new wa(o.x,o.y,$),E.map.texture.name=T.name+".shadowMap",E.camera.updateProjectionMatrix()}e.setRenderTarget(E.map),e.clear();const B=E.getViewportCount();for(let $=0;$<B;$++){const j=E.getViewport($);a.set(i.x*j.x,i.y*j.y,i.x*j.z,i.y*j.w),O.viewport(a),E.updateMatrices(T,$),r=E.getFrustum(),y(_,S,E.camera,T,this.type)}!E.isPointLightShadow&&this.type===W1&&v(E,S),E.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(P,M,I)};function v(w,_){const S=t.update(h);d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,e.setRenderTarget(w.mapPass),e.clear(),e.renderBufferDirect(_,null,S,d,h,null),f.uniforms.shadow_pass.value=w.mapPass.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,e.setRenderTarget(w.map),e.clear(),e.renderBufferDirect(_,null,S,f,h,null)}function m(w,_,S){const P=w<<0|_<<1|S<<2;let M=s[P];return M===void 0&&(M=new Fm({depthPacking:$bt,morphTargets:w,skinning:_}),s[P]=M),M}function b(w,_,S){const P=w<<0|_<<1|S<<2;let M=l[P];return M===void 0&&(M=new Nm({morphTargets:w,skinning:_}),l[P]=M),M}function x(w,_,S,P,M,I,O){let L=null,R=m,T=w.customDepthMaterial;if(P.isPointLight===!0&&(R=b,T=w.customDistanceMaterial),T===void 0){let E=!1;S.morphTargets===!0&&(E=_.morphAttributes&&_.morphAttributes.position&&_.morphAttributes.position.length>0);let k=!1;w.isSkinnedMesh===!0&&(S.skinning===!0?k=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",w));const B=w.isInstancedMesh===!0;L=R(E,k,B)}else L=T;if(e.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0){const E=L.uuid,k=S.uuid;let B=c[E];B===void 0&&(B={},c[E]=B);let $=B[k];$===void 0&&($=L.clone(),B[k]=$),L=$}return L.visible=S.visible,L.wireframe=S.wireframe,O===W1?L.side=S.shadowSide!==null?S.shadowSide:S.side:L.side=S.shadowSide!==null?S.shadowSide:u[S.side],L.clipShadows=S.clipShadows,L.clippingPlanes=S.clippingPlanes,L.clipIntersection=S.clipIntersection,L.wireframeLinewidth=S.wireframeLinewidth,L.linewidth=S.linewidth,P.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(P.matrixWorld),L.nearDistance=M,L.farDistance=I),L}function y(w,_,S,P,M){if(w.visible===!1)return;if(w.layers.test(_.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&M===W1)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,w.matrixWorld);const L=t.update(w),R=w.material;if(Array.isArray(R)){const T=L.groups;for(let E=0,k=T.length;E<k;E++){const B=T[E],$=R[B.materialIndex];if($&&$.visible){const j=x(w,L,$,P,S.near,S.far,M);e.renderBufferDirect(S,null,L,j,w,B)}}}else if(R.visible){const T=x(w,L,R,P,S.near,S.far,M);e.renderBufferDirect(S,null,L,T,w,null)}}const O=w.children;for(let L=0,R=O.length;L<R;L++)y(O[L],_,S,P,M)}}function Gxt(e,t,n){const r=n.isWebGL2;function o(){let me=!1;const ye=new _r;let Le=null;const Te=new _r(0,0,0,0);return{setMask:function(Me){Le!==Me&&!me&&(e.colorMask(Me,Me,Me,Me),Le=Me)},setLocked:function(Me){me=Me},setClear:function(Me,$e,U,D,F){F===!0&&(Me*=D,$e*=D,U*=D),ye.set(Me,$e,U,D),Te.equals(ye)===!1&&(e.clearColor(Me,$e,U,D),Te.copy(ye))},reset:function(){me=!1,Le=null,Te.set(-1,0,0,0)}}}function i(){let me=!1,ye=null,Le=null,Te=null;return{setTest:function(Me){Me?V(2929):q(2929)},setMask:function(Me){ye!==Me&&!me&&(e.depthMask(Me),ye=Me)},setFunc:function(Me){if(Le!==Me){if(Me)switch(Me){case Svt:e.depthFunc(512);break;case Cvt:e.depthFunc(519);break;case Pvt:e.depthFunc(513);break;case J5:e.depthFunc(515);break;case Mvt:e.depthFunc(514);break;case Avt:e.depthFunc(518);break;case Evt:e.depthFunc(516);break;case Tvt:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);Le=Me}},setLocked:function(Me){me=Me},setClear:function(Me){Te!==Me&&(e.clearDepth(Me),Te=Me)},reset:function(){me=!1,ye=null,Le=null,Te=null}}}function a(){let me=!1,ye=null,Le=null,Te=null,Me=null,$e=null,U=null,D=null,F=null;return{setTest:function(K){me||(K?V(2960):q(2960))},setMask:function(K){ye!==K&&!me&&(e.stencilMask(K),ye=K)},setFunc:function(K,he,ge){(Le!==K||Te!==he||Me!==ge)&&(e.stencilFunc(K,he,ge),Le=K,Te=he,Me=ge)},setOp:function(K,he,ge){($e!==K||U!==he||D!==ge)&&(e.stencilOp(K,he,ge),$e=K,U=he,D=ge)},setLocked:function(K){me=K},setClear:function(K){F!==K&&(e.clearStencil(K),F=K)},reset:function(){me=!1,ye=null,Le=null,Te=null,Me=null,$e=null,U=null,D=null,F=null}}}const s=new o,l=new i,c=new a;let u={},d=null,f=null,p=null,h=null,g=null,v=null,m=null,b=null,x=null,y=!1,w=null,_=null,S=null,P=null,M=null;const I=e.getParameter(35661);let O=!1,L=0;const R=e.getParameter(7938);R.indexOf("WebGL")!==-1?(L=parseFloat(/^WebGL\ ([0-9])/.exec(R)[1]),O=L>=1):R.indexOf("OpenGL ES")!==-1&&(L=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(R)[1]),O=L>=2);let T=null,E={};const k=new _r,B=new _r;function $(me,ye,Le){const Te=new Uint8Array(4),Me=e.createTexture();e.bindTexture(me,Me),e.texParameteri(me,10241,9728),e.texParameteri(me,10240,9728);for(let $e=0;$e<Le;$e++)e.texImage2D(ye+$e,0,6408,1,1,0,6408,5121,Te);return Me}const j={};j[3553]=$(3553,3553,1),j[34067]=$(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),V(2929),l.setFunc(J5),ie(!1),Y(FW),V(2884),J(Cd);function V(me){u[me]!==!0&&(e.enable(me),u[me]=!0)}function q(me){u[me]!==!1&&(e.disable(me),u[me]=!1)}function Q(me){return d!==me?(e.useProgram(me),d=me,!0):!1}const H={[gv]:32774,[fvt]:32778,[pvt]:32779};if(r)H[jW]=32775,H[zW]=32776;else{const me=t.get("EXT_blend_minmax");me!==null&&(H[jW]=me.MIN_EXT,H[zW]=me.MAX_EXT)}const X={[hvt]:0,[mvt]:1,[gvt]:768,[Yde]:770,[_vt]:776,[xvt]:774,[bvt]:772,[vvt]:769,[Zde]:771,[wvt]:775,[yvt]:773};function J(me,ye,Le,Te,Me,$e,U,D){if(me===Cd){f&&(q(3042),f=!1);return}if(f||(V(3042),f=!0),me!==dvt){if(me!==p||D!==y){if((h!==gv||m!==gv)&&(e.blendEquation(32774),h=gv,m=gv),D)switch(me){case fp:e.blendFuncSeparate(1,771,1,771);break;case Q5:e.blendFunc(1,1);break;case NW:e.blendFuncSeparate(0,0,769,771);break;case BW:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case fp:e.blendFuncSeparate(770,771,1,771);break;case Q5:e.blendFunc(770,1);break;case NW:e.blendFunc(0,769);break;case BW:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}g=null,v=null,b=null,x=null,p=me,y=D}return}Me=Me||ye,$e=$e||Le,U=U||Te,(ye!==h||Me!==m)&&(e.blendEquationSeparate(H[ye],H[Me]),h=ye,m=Me),(Le!==g||Te!==v||$e!==b||U!==x)&&(e.blendFuncSeparate(X[Le],X[Te],X[$e],X[U]),g=Le,v=Te,b=$e,x=U),p=me,y=null}function G(me,ye){me.side===QS?q(2884):V(2884);let Le=me.side===Xo;ye&&(Le=!Le),ie(Le),me.blending===fp&&me.transparent===!1?J(Cd):J(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.premultipliedAlpha),l.setFunc(me.depthFunc),l.setTest(me.depthTest),l.setMask(me.depthWrite),s.setMask(me.colorWrite);const Te=me.stencilWrite;c.setTest(Te),Te&&(c.setMask(me.stencilWriteMask),c.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),c.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),te(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits)}function ie(me){w!==me&&(me?e.frontFace(2304):e.frontFace(2305),w=me)}function Y(me){me!==lvt?(V(2884),me!==_&&(me===FW?e.cullFace(1029):me===cvt?e.cullFace(1028):e.cullFace(1032))):q(2884),_=me}function le(me){me!==S&&(O&&e.lineWidth(me),S=me)}function te(me,ye,Le){me?(V(32823),(P!==ye||M!==Le)&&(e.polygonOffset(ye,Le),P=ye,M=Le)):q(32823)}function re(me){me?V(3089):q(3089)}function ae(me){me===void 0&&(me=33984+I-1),T!==me&&(e.activeTexture(me),T=me)}function pe(me,ye){T===null&&ae();let Le=E[T];Le===void 0&&(Le={type:void 0,texture:void 0},E[T]=Le),(Le.type!==me||Le.texture!==ye)&&(e.bindTexture(me,ye||j[me]),Le.type=me,Le.texture=ye)}function we(){const me=E[T];me!==void 0&&me.type!==void 0&&(e.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function fe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function _e(){try{e.texImage2D.apply(e,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function W(){try{e.texImage3D.apply(e,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function oe(me){k.equals(me)===!1&&(e.scissor(me.x,me.y,me.z,me.w),k.copy(me))}function Ce(me){B.equals(me)===!1&&(e.viewport(me.x,me.y,me.z,me.w),B.copy(me))}function ve(){u={},T=null,E={},d=null,p=null,w=null,_=null,s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:V,disable:q,useProgram:Q,setBlending:J,setMaterial:G,setFlipSided:ie,setCullFace:Y,setLineWidth:le,setPolygonOffset:te,setScissorTest:re,activeTexture:ae,bindTexture:pe,unbindTexture:we,compressedTexImage2D:fe,texImage2D:_e,texImage3D:W,scissor:oe,viewport:Ce,reset:ve}}function Wxt(e,t,n,r,o,i,a){const s=o.isWebGL2,l=o.maxTextures,c=o.maxCubemapSize,u=o.maxTextureSize,d=o.maxSamples,f=new WeakMap;let p,h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(W,oe){return h?new OffscreenCanvas(W,oe):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(W,oe,Ce,ve){let me=1;if((W.width>ve||W.height>ve)&&(me=ve/Math.max(W.width,W.height)),me<1||oe===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const ye=oe?xn.floorPowerOfTwo:Math.floor,Le=ye(me*W.width),Te=ye(me*W.height);p===void 0&&(p=g(Le,Te));const Me=Ce?g(Le,Te):p;return Me.width=Le,Me.height=Te,Me.getContext("2d").drawImage(W,0,0,Le,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+Le+"x"+Te+")."),Me}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function m(W){return xn.isPowerOfTwo(W.width)&&xn.isPowerOfTwo(W.height)}function b(W){return s?!1:W.wrapS!==Xa||W.wrapT!==Xa||W.minFilter!==Mr&&W.minFilter!==Bo}function x(W,oe){return W.generateMipmaps&&oe&&W.minFilter!==Mr&&W.minFilter!==Bo}function y(W,oe,Ce,ve){e.generateMipmap(W);const me=r.get(oe);me.__maxMipLevel=Math.log(Math.max(Ce,ve))*Math.LOG2E}function w(W,oe,Ce){if(s===!1)return oe;if(W!==null){if(e[W]!==void 0)return e[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let ve=oe;return oe===6403&&(Ce===5126&&(ve=33326),Ce===5131&&(ve=33325),Ce===5121&&(ve=33321)),oe===6407&&(Ce===5126&&(ve=34837),Ce===5131&&(ve=34843),Ce===5121&&(ve=32849)),oe===6408&&(Ce===5126&&(ve=34836),Ce===5131&&(ve=34842),Ce===5121&&(ve=32856)),(ve===33325||ve===33326||ve===34842||ve===34836)&&t.get("EXT_color_buffer_float"),ve}function _(W){return W===Mr||W===eN||W===tN?9728:9729}function S(W){const oe=W.target;oe.removeEventListener("dispose",S),M(oe),oe.isVideoTexture&&f.delete(oe),a.memory.textures--}function P(W){const oe=W.target;oe.removeEventListener("dispose",P),I(oe),a.memory.textures--}function M(W){const oe=r.get(W);oe.__webglInit!==void 0&&(e.deleteTexture(oe.__webglTexture),r.remove(W))}function I(W){const oe=r.get(W),Ce=r.get(W.texture);if(W){if(Ce.__webglTexture!==void 0&&e.deleteTexture(Ce.__webglTexture),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++)e.deleteFramebuffer(oe.__webglFramebuffer[ve]),oe.__webglDepthbuffer&&e.deleteRenderbuffer(oe.__webglDepthbuffer[ve]);else e.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&e.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&e.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer&&e.deleteRenderbuffer(oe.__webglColorRenderbuffer),oe.__webglDepthRenderbuffer&&e.deleteRenderbuffer(oe.__webglDepthRenderbuffer);r.remove(W.texture),r.remove(W)}}let O=0;function L(){O=0}function R(){const W=O;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),O+=1,W}function T(W,oe){const Ce=r.get(W);if(W.isVideoTexture&&ae(W),W.version>0&&Ce.__version!==W.version){const ve=W.image;if(ve===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{H(Ce,W,oe);return}}n.activeTexture(33984+oe),n.bindTexture(3553,Ce.__webglTexture)}function E(W,oe){const Ce=r.get(W);if(W.version>0&&Ce.__version!==W.version){H(Ce,W,oe);return}n.activeTexture(33984+oe),n.bindTexture(35866,Ce.__webglTexture)}function k(W,oe){const Ce=r.get(W);if(W.version>0&&Ce.__version!==W.version){H(Ce,W,oe);return}n.activeTexture(33984+oe),n.bindTexture(32879,Ce.__webglTexture)}function B(W,oe){if(W.image.length!==6)return;const Ce=r.get(W);if(W.version>0&&Ce.__version!==W.version){Q(Ce,W),n.activeTexture(33984+oe),n.bindTexture(34067,Ce.__webglTexture),e.pixelStorei(37440,W.flipY);const ve=W&&(W.isCompressedTexture||W.image[0].isCompressedTexture),me=W.image[0]&&W.image[0].isDataTexture,ye=[];for(let F=0;F<6;F++)!ve&&!me?ye[F]=v(W.image[F],!1,!0,c):ye[F]=me?W.image[F].image:W.image[F];const Le=ye[0],Te=m(Le)||s,Me=i.convert(W.format),$e=i.convert(W.type),U=w(W.internalFormat,Me,$e);q(34067,W,Te);let D;if(ve){for(let F=0;F<6;F++){D=ye[F].mipmaps;for(let K=0;K<D.length;K++){const he=D[K];W.format!==ns&&W.format!==lm?Me!==null?n.compressedTexImage2D(34069+F,K,U,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+F,K,U,he.width,he.height,0,Me,$e,he.data)}}Ce.__maxMipLevel=D.length-1}else{D=W.mipmaps;for(let F=0;F<6;F++)if(me){n.texImage2D(34069+F,0,U,ye[F].width,ye[F].height,0,Me,$e,ye[F].data);for(let K=0;K<D.length;K++){const ge=D[K].image[F].image;n.texImage2D(34069+F,K+1,U,ge.width,ge.height,0,Me,$e,ge.data)}}else{n.texImage2D(34069+F,0,U,Me,$e,ye[F]);for(let K=0;K<D.length;K++){const he=D[K];n.texImage2D(34069+F,K+1,U,Me,$e,he.image[F])}}Ce.__maxMipLevel=D.length}x(W,Te)&&y(34067,W,Le.width,Le.height),Ce.__version=W.version,W.onUpdate&&W.onUpdate(W)}else n.activeTexture(33984+oe),n.bindTexture(34067,Ce.__webglTexture)}function $(W,oe){n.activeTexture(33984+oe),n.bindTexture(34067,r.get(W).__webglTexture)}const j={[BA]:10497,[Xa]:33071,[jA]:33648},V={[Mr]:9728,[eN]:9984,[tN]:9986,[Bo]:9729,[Jde]:9985,[ak]:9987};function q(W,oe,Ce){Ce?(e.texParameteri(W,10242,j[oe.wrapS]),e.texParameteri(W,10243,j[oe.wrapT]),(W===32879||W===35866)&&e.texParameteri(W,32882,j[oe.wrapR]),e.texParameteri(W,10240,V[oe.magFilter]),e.texParameteri(W,10241,V[oe.minFilter])):(e.texParameteri(W,10242,33071),e.texParameteri(W,10243,33071),(W===32879||W===35866)&&e.texParameteri(W,32882,33071),(oe.wrapS!==Xa||oe.wrapT!==Xa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(W,10240,_(oe.magFilter)),e.texParameteri(W,10241,_(oe.minFilter)),oe.minFilter!==Mr&&oe.minFilter!==Bo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const ve=t.get("EXT_texture_filter_anisotropic");if(ve){if(oe.type===pd&&t.get("OES_texture_float_linear")===null||oe.type===HA&&(s||t.get("OES_texture_half_float_linear"))===null)return;(oe.anisotropy>1||r.get(oe).__currentAnisotropy)&&(e.texParameterf(W,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(oe.anisotropy,o.getMaxAnisotropy())),r.get(oe).__currentAnisotropy=oe.anisotropy)}}function Q(W,oe){W.__webglInit===void 0&&(W.__webglInit=!0,oe.addEventListener("dispose",S),W.__webglTexture=e.createTexture(),a.memory.textures++)}function H(W,oe,Ce){let ve=3553;oe.isDataTexture2DArray&&(ve=35866),oe.isDataTexture3D&&(ve=32879),Q(W,oe),n.activeTexture(33984+Ce),n.bindTexture(ve,W.__webglTexture),e.pixelStorei(37440,oe.flipY),e.pixelStorei(37441,oe.premultiplyAlpha),e.pixelStorei(3317,oe.unpackAlignment);const me=b(oe)&&m(oe.image)===!1,ye=v(oe.image,me,!1,u),Le=m(ye)||s,Te=i.convert(oe.format);let Me=i.convert(oe.type),$e=w(oe.internalFormat,Te,Me);q(ve,oe,Le);let U;const D=oe.mipmaps;if(oe.isDepthTexture)$e=6402,s?oe.type===pd?$e=36012:oe.type===sM?$e=33190:oe.type===wx?$e=35056:$e=33189:oe.type===pd&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),oe.format===pb&&$e===6402&&oe.type!==zA&&oe.type!==sM&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),oe.type=zA,Me=i.convert(oe.type)),oe.format===xw&&$e===6402&&($e=34041,oe.type!==wx&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),oe.type=wx,Me=i.convert(oe.type))),n.texImage2D(3553,0,$e,ye.width,ye.height,0,Te,Me,null);else if(oe.isDataTexture)if(D.length>0&&Le){for(let F=0,K=D.length;F<K;F++)U=D[F],n.texImage2D(3553,F,$e,U.width,U.height,0,Te,Me,U.data);oe.generateMipmaps=!1,W.__maxMipLevel=D.length-1}else n.texImage2D(3553,0,$e,ye.width,ye.height,0,Te,Me,ye.data),W.__maxMipLevel=0;else if(oe.isCompressedTexture){for(let F=0,K=D.length;F<K;F++)U=D[F],oe.format!==ns&&oe.format!==lm?Te!==null?n.compressedTexImage2D(3553,F,$e,U.width,U.height,0,U.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,F,$e,U.width,U.height,0,Te,Me,U.data);W.__maxMipLevel=D.length-1}else if(oe.isDataTexture2DArray)n.texImage3D(35866,0,$e,ye.width,ye.height,ye.depth,0,Te,Me,ye.data),W.__maxMipLevel=0;else if(oe.isDataTexture3D)n.texImage3D(32879,0,$e,ye.width,ye.height,ye.depth,0,Te,Me,ye.data),W.__maxMipLevel=0;else if(D.length>0&&Le){for(let F=0,K=D.length;F<K;F++)U=D[F],n.texImage2D(3553,F,$e,Te,Me,U);oe.generateMipmaps=!1,W.__maxMipLevel=D.length-1}else n.texImage2D(3553,0,$e,Te,Me,ye),W.__maxMipLevel=0;x(oe,Le)&&y(ve,oe,ye.width,ye.height),W.__version=oe.version,oe.onUpdate&&oe.onUpdate(oe)}function X(W,oe,Ce,ve){const me=i.convert(oe.texture.format),ye=i.convert(oe.texture.type),Le=w(oe.texture.internalFormat,me,ye);n.texImage2D(ve,0,Le,oe.width,oe.height,0,me,ye,null),e.bindFramebuffer(36160,W),e.framebufferTexture2D(36160,Ce,ve,r.get(oe.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function J(W,oe,Ce){if(e.bindRenderbuffer(36161,W),oe.depthBuffer&&!oe.stencilBuffer){let ve=33189;if(Ce){const me=oe.depthTexture;me&&me.isDepthTexture&&(me.type===pd?ve=36012:me.type===sM&&(ve=33190));const ye=re(oe);e.renderbufferStorageMultisample(36161,ye,ve,oe.width,oe.height)}else e.renderbufferStorage(36161,ve,oe.width,oe.height);e.framebufferRenderbuffer(36160,36096,36161,W)}else if(oe.depthBuffer&&oe.stencilBuffer){if(Ce){const ve=re(oe);e.renderbufferStorageMultisample(36161,ve,35056,oe.width,oe.height)}else e.renderbufferStorage(36161,34041,oe.width,oe.height);e.framebufferRenderbuffer(36160,33306,36161,W)}else{const ve=i.convert(oe.texture.format),me=i.convert(oe.texture.type),ye=w(oe.texture.internalFormat,ve,me);if(Ce){const Le=re(oe);e.renderbufferStorageMultisample(36161,Le,ye,oe.width,oe.height)}else e.renderbufferStorage(36161,ye,oe.width,oe.height)}e.bindRenderbuffer(36161,null)}function G(W,oe){if(oe&&oe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,W),!(oe.depthTexture&&oe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(oe.depthTexture).__webglTexture||oe.depthTexture.image.width!==oe.width||oe.depthTexture.image.height!==oe.height)&&(oe.depthTexture.image.width=oe.width,oe.depthTexture.image.height=oe.height,oe.depthTexture.needsUpdate=!0),T(oe.depthTexture,0);const ve=r.get(oe.depthTexture).__webglTexture;if(oe.depthTexture.format===pb)e.framebufferTexture2D(36160,36096,3553,ve,0);else if(oe.depthTexture.format===xw)e.framebufferTexture2D(36160,33306,3553,ve,0);else throw new Error("Unknown depthTexture format")}function ie(W){const oe=r.get(W),Ce=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");G(oe.__webglFramebuffer,W)}else if(Ce){oe.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)e.bindFramebuffer(36160,oe.__webglFramebuffer[ve]),oe.__webglDepthbuffer[ve]=e.createRenderbuffer(),J(oe.__webglDepthbuffer[ve],W,!1)}else e.bindFramebuffer(36160,oe.__webglFramebuffer),oe.__webglDepthbuffer=e.createRenderbuffer(),J(oe.__webglDepthbuffer,W,!1);e.bindFramebuffer(36160,null)}function Y(W){const oe=r.get(W),Ce=r.get(W.texture);W.addEventListener("dispose",P),Ce.__webglTexture=e.createTexture(),a.memory.textures++;const ve=W.isWebGLCubeRenderTarget===!0,me=W.isWebGLMultisampleRenderTarget===!0,ye=m(W)||s;if(s&&W.texture.format===lm&&(W.texture.type===pd||W.texture.type===HA)&&(W.texture.format=ns,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ve){oe.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)oe.__webglFramebuffer[Le]=e.createFramebuffer()}else if(oe.__webglFramebuffer=e.createFramebuffer(),me)if(s){oe.__webglMultisampledFramebuffer=e.createFramebuffer(),oe.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,oe.__webglColorRenderbuffer);const Le=i.convert(W.texture.format),Te=i.convert(W.texture.type),Me=w(W.texture.internalFormat,Le,Te),$e=re(W);e.renderbufferStorageMultisample(36161,$e,Me,W.width,W.height),e.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,oe.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),W.depthBuffer&&(oe.__webglDepthRenderbuffer=e.createRenderbuffer(),J(oe.__webglDepthRenderbuffer,W,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ve){n.bindTexture(34067,Ce.__webglTexture),q(34067,W.texture,ye);for(let Le=0;Le<6;Le++)X(oe.__webglFramebuffer[Le],W,36064,34069+Le);x(W.texture,ye)&&y(34067,W.texture,W.width,W.height),n.bindTexture(34067,null)}else n.bindTexture(3553,Ce.__webglTexture),q(3553,W.texture,ye),X(oe.__webglFramebuffer,W,36064,3553),x(W.texture,ye)&&y(3553,W.texture,W.width,W.height),n.bindTexture(3553,null);W.depthBuffer&&ie(W)}function le(W){const oe=W.texture,Ce=m(W)||s;if(x(oe,Ce)){const ve=W.isWebGLCubeRenderTarget?34067:3553,me=r.get(oe).__webglTexture;n.bindTexture(ve,me),y(ve,oe,W.width,W.height),n.bindTexture(ve,null)}}function te(W){if(W.isWebGLMultisampleRenderTarget)if(s){const oe=r.get(W);e.bindFramebuffer(36008,oe.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,oe.__webglFramebuffer);const Ce=W.width,ve=W.height;let me=16384;W.depthBuffer&&(me|=256),W.stencilBuffer&&(me|=1024),e.blitFramebuffer(0,0,Ce,ve,0,0,Ce,ve,me,9728),e.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function re(W){return s&&W.isWebGLMultisampleRenderTarget?Math.min(d,W.samples):0}function ae(W){const oe=a.render.frame;f.get(W)!==oe&&(f.set(W,oe),W.update())}let pe=!1,we=!1;function fe(W,oe){W&&W.isWebGLRenderTarget&&(pe===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),pe=!0),W=W.texture),T(W,oe)}function _e(W,oe){W&&W.isWebGLCubeRenderTarget&&(we===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),we=!0),W=W.texture),W&&W.isCubeTexture||Array.isArray(W.image)&&W.image.length===6?B(W,oe):$(W,oe)}this.allocateTextureUnit=R,this.resetTextureUnits=L,this.setTexture2D=T,this.setTexture2DArray=E,this.setTexture3D=k,this.setTextureCube=B,this.setTextureCubeDynamic=$,this.setupRenderTarget=Y,this.updateRenderTargetMipmap=le,this.updateMultisampleRenderTarget=te,this.safeSetTexture2D=fe,this.safeSetTextureCube=_e}function qxt(e,t,n){const r=n.isWebGL2;function o(i){let a;if(i===$m)return 5121;if(i===jvt)return 32819;if(i===zvt)return 32820;if(i===Hvt)return 33635;if(i===Fvt)return 5120;if(i===Nvt)return 5122;if(i===zA)return 5123;if(i===Bvt)return 5124;if(i===sM)return 5125;if(i===pd)return 5126;if(i===HA)return r?5131:(a=t.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(i===Vvt)return 6406;if(i===lm)return 6407;if(i===ns)return 6408;if(i===Uvt)return 6409;if(i===Gvt)return 6410;if(i===pb)return 6402;if(i===xw)return 34041;if(i===qvt)return 6403;if(i===Xvt)return 36244;if(i===Kvt)return 33319;if(i===Yvt)return 33320;if(i===Zvt)return 36248;if(i===Qvt)return 36249;if(i===HW||i===VW||i===UW||i===GW)if(a=t.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===HW)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===VW)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===UW)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===GW)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===WW||i===qW||i===XW||i===KW)if(a=t.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===WW)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===qW)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===XW)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===KW)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Jvt)return a=t.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((i===YW||i===ZW)&&(a=t.get("WEBGL_compressed_texture_etc"),a!==null)){if(i===YW)return a.COMPRESSED_RGB8_ETC2;if(i===ZW)return a.COMPRESSED_RGBA8_ETC2_EAC}if(i===ebt||i===tbt||i===nbt||i===rbt||i===obt||i===ibt||i===abt||i===sbt||i===lbt||i===cbt||i===ubt||i===dbt||i===fbt||i===pbt||i===mbt||i===gbt||i===vbt||i===bbt||i===ybt||i===xbt||i===wbt||i===_bt||i===Sbt||i===Cbt||i===Pbt||i===Mbt||i===Abt||i===Ebt)return a=t.get("WEBGL_compressed_texture_astc"),a!==null?i:null;if(i===hbt)return a=t.get("EXT_texture_compression_bptc"),a!==null?i:null;if(i===wx)return r?34042:(a=t.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:o}}function cN(e){Do.call(this),this.cameras=e||[]}cN.prototype=Object.assign(Object.create(Do.prototype),{constructor:cN,isArrayCamera:!0});function xr(){Tt.call(this),this.type="Group"}xr.prototype=Object.assign(Object.create(Tt.prototype),{constructor:xr,isGroup:!0});function WA(){this._targetRay=null,this._grip=null}Object.assign(WA.prototype,{constructor:WA,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new xr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new xr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,n){let r=null,o=null;const i=this._targetRay,a=this._grip;return e&&(i!==null&&(r=t.getPose(e.targetRaySpace,n),r!==null&&(i.matrix.fromArray(r.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale))),a!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(a.matrix.fromArray(o.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),i!==null&&(i.visible=r!==null),a!==null&&(a.visible=o!==null),this}});function vfe(e,t){const n=this;let r=null,o=1,i=null,a="local-floor",s=null;const l=[],c=new Map,u=new Do;u.layers.enable(1),u.viewport=new _r;const d=new Do;d.layers.enable(2),d.viewport=new _r;const f=[u,d],p=new cN;p.layers.enable(1),p.layers.enable(2);let h=null,g=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(O){let L=l[O];return L===void 0&&(L=new WA,l[O]=L),L.getTargetRaySpace()},this.getControllerGrip=function(O){let L=l[O];return L===void 0&&(L=new WA,l[O]=L),L.getGripSpace()};function v(O){const L=c.get(O.inputSource);L&&L.dispatchEvent({type:O.type})}function m(){c.forEach(function(O,L){O.disconnect(L)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),I.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(O){i=O,I.setContext(r),I.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(O){o=O,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(O){a=O,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return i},this.getSession=function(){return r},this.setSession=function(O){if(r=O,r!==null){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",m);const L=t.getContextAttributes();L.xrCompatible!==!0&&t.makeXRCompatible();const R={antialias:L.antialias,alpha:L.alpha,depth:L.depth,stencil:L.stencil,framebufferScaleFactor:o},T=new XRWebGLLayer(r,t,R);r.updateRenderState({baseLayer:T}),r.requestReferenceSpace(a).then(b),r.addEventListener("inputsourceschange",x)}};function x(O){const L=r.inputSources;for(let R=0;R<l.length;R++)c.set(L[R],l[R]);for(let R=0;R<O.removed.length;R++){const T=O.removed[R],E=c.get(T);E&&(E.dispatchEvent({type:"disconnected",data:T}),c.delete(T))}for(let R=0;R<O.added.length;R++){const T=O.added[R],E=c.get(T);E&&E.dispatchEvent({type:"connected",data:T})}}const y=new ee,w=new ee;function _(O,L,R){y.setFromMatrixPosition(L.matrixWorld),w.setFromMatrixPosition(R.matrixWorld);const T=y.distanceTo(w),E=L.projectionMatrix.elements,k=R.projectionMatrix.elements,B=E[14]/(E[10]-1),$=E[14]/(E[10]+1),j=(E[9]+1)/E[5],V=(E[9]-1)/E[5],q=(E[8]-1)/E[0],Q=(k[8]+1)/k[0],H=B*q,X=B*Q,J=T/(-q+Q),G=J*-q;L.matrixWorld.decompose(O.position,O.quaternion,O.scale),O.translateX(G),O.translateZ(J),O.matrixWorld.compose(O.position,O.quaternion,O.scale),O.matrixWorldInverse.getInverse(O.matrixWorld);const ie=B+J,Y=$+J,le=H-G,te=X+(T-G),re=j*$/Y*ie,ae=V*$/Y*ie;O.projectionMatrix.makePerspective(le,te,re,ae,ie,Y)}function S(O,L){L===null?O.matrixWorld.copy(O.matrix):O.matrixWorld.multiplyMatrices(L.matrixWorld,O.matrix),O.matrixWorldInverse.getInverse(O.matrixWorld)}this.getCamera=function(O){p.near=d.near=u.near=O.near,p.far=d.far=u.far=O.far,(h!==p.near||g!==p.far)&&(r.updateRenderState({depthNear:p.near,depthFar:p.far}),h=p.near,g=p.far);const L=O.parent,R=p.cameras;S(p,L);for(let E=0;E<R.length;E++)S(R[E],L);O.matrixWorld.copy(p.matrixWorld);const T=O.children;for(let E=0,k=T.length;E<k;E++)T[E].updateMatrixWorld(!0);return R.length===2?_(p,u,d):p.projectionMatrix.copy(u.projectionMatrix),p};let P=null;function M(O,L){if(s=L.getViewerPose(i),s!==null){const T=s.views,E=r.renderState.baseLayer;e.setFramebuffer(E.framebuffer);let k=!1;T.length!==p.cameras.length&&(p.cameras.length=0,k=!0);for(let B=0;B<T.length;B++){const $=T[B],j=E.getViewport($),V=f[B];V.matrix.fromArray($.transform.matrix),V.projectionMatrix.fromArray($.projectionMatrix),V.viewport.set(j.x,j.y,j.width,j.height),B===0&&p.matrix.copy(V.matrix),k===!0&&p.cameras.push(V)}}const R=r.inputSources;for(let T=0;T<l.length;T++){const E=l[T],k=R[T];E.update(k,L,i)}P&&P(O,L)}const I=new lfe;I.setAnimationLoop(M),this.setAnimationLoop=function(O){P=O},this.dispose=function(){}}Object.assign(vfe.prototype,tf.prototype);function Xxt(e){function t(m,b){m.fogColor.value.copy(b.color),b.isFog?(m.fogNear.value=b.near,m.fogFar.value=b.far):b.isFogExp2&&(m.fogDensity.value=b.density)}function n(m,b,x,y,w){b.isMeshBasicMaterial?r(m,b):b.isMeshLambertMaterial?(r(m,b),l(m,b)):b.isMeshToonMaterial?(r(m,b),u(m,b)):b.isMeshPhongMaterial?(r(m,b),c(m,b)):b.isMeshStandardMaterial?(r(m,b,x),b.isMeshPhysicalMaterial?f(m,b,x):d(m,b,x)):b.isMeshMatcapMaterial?(r(m,b),p(m,b)):b.isMeshDepthMaterial?(r(m,b),h(m,b)):b.isMeshDistanceMaterial?(r(m,b),g(m,b)):b.isMeshNormalMaterial?(r(m,b),v(m,b)):b.isLineBasicMaterial?(o(m,b),b.isLineDashedMaterial&&i(m,b)):b.isPointsMaterial?a(m,b,y,w):b.isSpriteMaterial?s(m,b):b.isShadowMaterial?(m.color.value.copy(b.color),m.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function r(m,b,x){m.opacity.value=b.opacity,b.color&&m.diffuse.value.copy(b.color),b.emissive&&m.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(m.map.value=b.map),b.alphaMap&&(m.alphaMap.value=b.alphaMap),b.specularMap&&(m.specularMap.value=b.specularMap);const y=b.envMap||x;y&&(m.envMap.value=y,m.flipEnvMap.value=y.isCubeTexture?-1:1,m.reflectivity.value=b.reflectivity,m.refractionRatio.value=b.refractionRatio,m.maxMipLevel.value=e.get(y).__maxMipLevel),b.lightMap&&(m.lightMap.value=b.lightMap,m.lightMapIntensity.value=b.lightMapIntensity),b.aoMap&&(m.aoMap.value=b.aoMap,m.aoMapIntensity.value=b.aoMapIntensity);let w;b.map?w=b.map:b.specularMap?w=b.specularMap:b.displacementMap?w=b.displacementMap:b.normalMap?w=b.normalMap:b.bumpMap?w=b.bumpMap:b.roughnessMap?w=b.roughnessMap:b.metalnessMap?w=b.metalnessMap:b.alphaMap?w=b.alphaMap:b.emissiveMap&&(w=b.emissiveMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix));let _;b.aoMap?_=b.aoMap:b.lightMap&&(_=b.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uv2Transform.value.copy(_.matrix))}function o(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity}function i(m,b){m.dashSize.value=b.dashSize,m.totalSize.value=b.dashSize+b.gapSize,m.scale.value=b.scale}function a(m,b,x,y){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.size.value=b.size*x,m.scale.value=y*.5,b.map&&(m.map.value=b.map),b.alphaMap&&(m.alphaMap.value=b.alphaMap);let w;b.map?w=b.map:b.alphaMap&&(w=b.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),m.uvTransform.value.copy(w.matrix))}function s(m,b){m.diffuse.value.copy(b.color),m.opacity.value=b.opacity,m.rotation.value=b.rotation,b.map&&(m.map.value=b.map),b.alphaMap&&(m.alphaMap.value=b.alphaMap);let x;b.map?x=b.map:b.alphaMap&&(x=b.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix))}function l(m,b){b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap)}function c(m,b){m.specular.value.copy(b.specular),m.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap),b.bumpMap&&(m.bumpMap.value=b.bumpMap,m.bumpScale.value=b.bumpScale,b.side===Xo&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,m.normalScale.value.copy(b.normalScale),b.side===Xo&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias)}function u(m,b){b.gradientMap&&(m.gradientMap.value=b.gradientMap),b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap),b.bumpMap&&(m.bumpMap.value=b.bumpMap,m.bumpScale.value=b.bumpScale,b.side===Xo&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,m.normalScale.value.copy(b.normalScale),b.side===Xo&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias)}function d(m,b,x){m.roughness.value=b.roughness,m.metalness.value=b.metalness,b.roughnessMap&&(m.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(m.metalnessMap.value=b.metalnessMap),b.emissiveMap&&(m.emissiveMap.value=b.emissiveMap),b.bumpMap&&(m.bumpMap.value=b.bumpMap,m.bumpScale.value=b.bumpScale,b.side===Xo&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,m.normalScale.value.copy(b.normalScale),b.side===Xo&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias),(b.envMap||x)&&(m.envMapIntensity.value=b.envMapIntensity)}function f(m,b,x){d(m,b,x),m.reflectivity.value=b.reflectivity,m.clearcoat.value=b.clearcoat,m.clearcoatRoughness.value=b.clearcoatRoughness,b.sheen&&m.sheen.value.copy(b.sheen),b.clearcoatMap&&(m.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),m.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===Xo&&m.clearcoatNormalScale.value.negate()),m.transparency.value=b.transparency}function p(m,b){b.matcap&&(m.matcap.value=b.matcap),b.bumpMap&&(m.bumpMap.value=b.bumpMap,m.bumpScale.value=b.bumpScale,b.side===Xo&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,m.normalScale.value.copy(b.normalScale),b.side===Xo&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias)}function h(m,b){b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias)}function g(m,b){b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias),m.referencePosition.value.copy(b.referencePosition),m.nearDistance.value=b.nearDistance,m.farDistance.value=b.farDistance}function v(m,b){b.bumpMap&&(m.bumpMap.value=b.bumpMap,m.bumpScale.value=b.bumpScale,b.side===Xo&&(m.bumpScale.value*=-1)),b.normalMap&&(m.normalMap.value=b.normalMap,m.normalScale.value.copy(b.normalScale),b.side===Xo&&m.normalScale.value.negate()),b.displacementMap&&(m.displacementMap.value=b.displacementMap,m.displacementScale.value=b.displacementScale,m.displacementBias.value=b.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function rC(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,r=e.alpha!==void 0?e.alpha:!1,o=e.depth!==void 0?e.depth:!0,i=e.stencil!==void 0?e.stencil:!0,a=e.antialias!==void 0?e.antialias:!1,s=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",u=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let d=null,f=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ra,this.physicallyCorrectLights=!1,this.toneMapping=fb,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const p=this;let h=!1,g=null,v=0,m=0,b=null,x=null,y=-1,w=null,_=null;const S=new _r,P=new _r;let M=null,I=t.width,O=t.height,L=1,R=null,T=null;const E=new _r(0,0,I,O),k=new _r(0,0,I,O);let B=!1;const $=new nC,j=new P1t;let V=!1,q=!1;const Q=new mt,H=new ee,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return b===null?L:1}let G=n;function ie(be,He){for(let Ve=0;Ve<be.length;Ve++){const z=be[Ve],Z=t.getContext(z,He);if(Z!==null)return Z}return null}try{const be={alpha:r,depth:o,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",K,!1),t.addEventListener("webglcontextrestored",he,!1),G===null){const He=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&He.shift(),G=ie(He,be),G===null)throw ie(He)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}let Y,le,te,re,ae,pe,we,fe,_e,W,oe,Ce,ve,me,ye,Le,Te,Me,$e;function U(){Y=new M1t(G),le=new C1t(G,Y,e),le.isWebGL2===!1&&(Y.get("WEBGL_depth_texture"),Y.get("OES_texture_float"),Y.get("OES_texture_half_float"),Y.get("OES_texture_half_float_linear"),Y.get("OES_standard_derivatives"),Y.get("OES_element_index_uint"),Y.get("OES_vertex_array_object"),Y.get("ANGLE_instanced_arrays")),Y.get("OES_texture_float_linear"),Me=new qxt(G,Y,le),te=new Gxt(G,Y,le),te.scissor(P.copy(k).multiplyScalar(L).floor()),te.viewport(S.copy(E).multiplyScalar(L).floor()),re=new T1t,ae=new Rxt,pe=new Wxt(G,Y,te,ae,le,Me,re),we=new tyt(G,le),$e=new _1t(G,Y,we,le),fe=new A1t(G,we,re,$e),_e=new R1t(G,fe,we,re),ye=new k1t(G),W=new kxt(p,Y,le,$e),oe=new Xxt(ae),Ce=new Dxt,ve=new Hxt,me=new w1t(p,te,_e,s),Le=new S1t(G,Y,re,le),Te=new E1t(G,Y,re,le),re.programs=W.programs,p.capabilities=le,p.extensions=Y,p.properties=ae,p.renderLists=Ce,p.state=te,p.info=re}U();const D=new vfe(p,G);this.xr=D;const F=new gfe(p,_e,le.maxTextureSize);this.shadowMap=F,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const be=Y.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=Y.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(be){be!==void 0&&(L=be,this.setSize(I,O,!1))},this.getSize=function(be){return be===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),be=new ct),be.set(I,O)},this.setSize=function(be,He,Ve){if(D.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=be,O=He,t.width=Math.floor(be*L),t.height=Math.floor(He*L),Ve!==!1&&(t.style.width=be+"px",t.style.height=He+"px"),this.setViewport(0,0,be,He)},this.getDrawingBufferSize=function(be){return be===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),be=new ct),be.set(I*L,O*L).floor()},this.setDrawingBufferSize=function(be,He,Ve){I=be,O=He,L=Ve,t.width=Math.floor(be*Ve),t.height=Math.floor(He*Ve),this.setViewport(0,0,be,He)},this.getCurrentViewport=function(be){return be===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),be=new _r),be.copy(S)},this.getViewport=function(be){return be.copy(E)},this.setViewport=function(be,He,Ve,z){be.isVector4?E.set(be.x,be.y,be.z,be.w):E.set(be,He,Ve,z),te.viewport(S.copy(E).multiplyScalar(L).floor())},this.getScissor=function(be){return be.copy(k)},this.setScissor=function(be,He,Ve,z){be.isVector4?k.set(be.x,be.y,be.z,be.w):k.set(be,He,Ve,z),te.scissor(P.copy(k).multiplyScalar(L).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(be){te.setScissorTest(B=be)},this.setOpaqueSort=function(be){R=be},this.setTransparentSort=function(be){T=be},this.getClearColor=function(){return me.getClearColor()},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(be,He,Ve){let z=0;(be===void 0||be)&&(z|=16384),(He===void 0||He)&&(z|=256),(Ve===void 0||Ve)&&(z|=1024),G.clear(z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",K,!1),t.removeEventListener("webglcontextrestored",he,!1),Ce.dispose(),ve.dispose(),ae.dispose(),_e.dispose(),$e.dispose(),D.dispose(),it.stop()};function K(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),h=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),h=!1,U()}function ge(be){const He=be.target;He.removeEventListener("dispose",ge),Ae(He)}function Ae(be){Ke(be),ae.remove(be)}function Ke(be){const He=ae.get(be).program;be.program=void 0,He!==void 0&&W.releaseProgram(He)}function Je(be,He){be.render(function(Ve){p.renderBufferImmediate(Ve,He)})}this.renderBufferImmediate=function(be,He){$e.initAttributes();const Ve=ae.get(be);be.hasPositions&&!Ve.position&&(Ve.position=G.createBuffer()),be.hasNormals&&!Ve.normal&&(Ve.normal=G.createBuffer()),be.hasUvs&&!Ve.uv&&(Ve.uv=G.createBuffer()),be.hasColors&&!Ve.color&&(Ve.color=G.createBuffer());const z=He.getAttributes();be.hasPositions&&(G.bindBuffer(34962,Ve.position),G.bufferData(34962,be.positionArray,35048),$e.enableAttribute(z.position),G.vertexAttribPointer(z.position,3,5126,!1,0,0)),be.hasNormals&&(G.bindBuffer(34962,Ve.normal),G.bufferData(34962,be.normalArray,35048),$e.enableAttribute(z.normal),G.vertexAttribPointer(z.normal,3,5126,!1,0,0)),be.hasUvs&&(G.bindBuffer(34962,Ve.uv),G.bufferData(34962,be.uvArray,35048),$e.enableAttribute(z.uv),G.vertexAttribPointer(z.uv,2,5126,!1,0,0)),be.hasColors&&(G.bindBuffer(34962,Ve.color),G.bufferData(34962,be.colorArray,35048),$e.enableAttribute(z.color),G.vertexAttribPointer(z.color,3,5126,!1,0,0)),$e.disableUnusedAttributes(),G.drawArrays(4,0,be.count),be.count=0},this.renderBufferDirect=function(be,He,Ve,z,Z,ne){He===null&&(He=X);const de=Z.isMesh&&Z.matrixWorld.determinant()<0,ce=je(be,He,z,Z);te.setMaterial(z,de);let Se=Ve.index;const xe=Ve.attributes.position;if(Se===null){if(xe===void 0||xe.count===0)return}else if(Se.count===0)return;let Ie=1;z.wireframe===!0&&(Se=fe.getWireframeAttribute(Ve),Ie=2),(z.morphTargets||z.morphNormals)&&ye.update(Z,Ve,z,ce),$e.setup(Z,z,ce,Ve,Se);let Xe,Ye=Le;Se!==null&&(Xe=we.get(Se),Ye=Te,Ye.setIndex(Xe));const rt=Se!==null?Se.count:xe.count,Fe=Ve.drawRange.start*Ie,Oe=Ve.drawRange.count*Ie,Ge=ne!==null?ne.start*Ie:0,et=ne!==null?ne.count*Ie:1/0,pt=Math.max(Fe,Ge),wt=Math.min(rt,Fe+Oe,Ge+et)-1,gt=Math.max(0,wt-pt+1);if(gt!==0){if(Z.isMesh)z.wireframe===!0?(te.setLineWidth(z.wireframeLinewidth*J()),Ye.setMode(1)):Ye.setMode(4);else if(Z.isLine){let _t=z.linewidth;_t===void 0&&(_t=1),te.setLineWidth(_t*J()),Z.isLineSegments?Ye.setMode(1):Z.isLineLoop?Ye.setMode(2):Ye.setMode(3)}else Z.isPoints?Ye.setMode(0):Z.isSprite&&Ye.setMode(4);if(Z.isInstancedMesh)Ye.renderInstances(Ve,pt,gt,Z.count);else if(Ve.isInstancedBufferGeometry){const _t=Math.min(Ve.instanceCount,Ve._maxInstanceCount);Ye.renderInstances(Ve,pt,gt,_t)}else Ye.render(pt,gt)}},this.compile=function(be,He){f=ve.get(be,He),f.init(),be.traverse(function(z){z.isLight&&(f.pushLight(z),z.castShadow&&f.pushShadow(z))}),f.setupLights(He);const Ve=new WeakMap;be.traverse(function(z){let Z=z.material;if(Z)if(Array.isArray(Z))for(let ne=0;ne<Z.length;ne++){let de=Z[ne];Ve.has(de)===!1&&(ze(de,be,z),Ve.set(de))}else Ve.has(Z)===!1&&(ze(Z,be,z),Ve.set(Z))})};let ft=null;function ht(be){D.isPresenting||ft&&ft(be)}const it=new lfe;it.setAnimationLoop(ht),typeof window<"u"&&it.setContext(window),this.setAnimationLoop=function(be){ft=be,D.setAnimationLoop(be),be===null?it.stop():it.start()},this.render=function(be,He){let Ve,z;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),Ve=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),z=arguments[3]),He!==void 0&&He.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(h===!0)return;$e.resetDefaultState(),y=-1,w=null,be.autoUpdate===!0&&be.updateMatrixWorld(),He.parent===null&&He.updateMatrixWorld(),D.enabled===!0&&D.isPresenting===!0&&(He=D.getCamera(He)),be.isScene===!0&&be.onBeforeRender(p,be,He,Ve||b),f=ve.get(be,He),f.init(),Q.multiplyMatrices(He.projectionMatrix,He.matrixWorldInverse),$.setFromProjectionMatrix(Q),q=this.localClippingEnabled,V=j.init(this.clippingPlanes,q,He),d=Ce.get(be,He),d.init(),At(be,He,0,p.sortObjects),d.finish(),p.sortObjects===!0&&d.sort(R,T),V===!0&&j.beginShadows();const Z=f.state.shadowsArray;F.render(Z,be,He),f.setupLights(He),V===!0&&j.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ve!==void 0&&this.setRenderTarget(Ve),me.render(d,be,He,z);const ne=d.opaque,de=d.transparent;ne.length>0&&Pe(ne,be,He),de.length>0&&Pe(de,be,He),be.isScene===!0&&be.onAfterRender(p,be,He),b!==null&&(pe.updateRenderTargetMipmap(b),pe.updateMultisampleRenderTarget(b)),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1),d=null,f=null};function At(be,He,Ve,z){if(be.visible===!1)return;if(be.layers.test(He.layers)){if(be.isGroup)Ve=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(He);else if(be.isLight)f.pushLight(be),be.castShadow&&f.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||$.intersectsSprite(be)){z&&H.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Q);const de=_e.update(be),ce=be.material;ce.visible&&d.push(be,de,ce,Ve,H.z,null)}}else if(be.isImmediateRenderObject)z&&H.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Q),d.push(be,null,be.material,Ve,H.z,null);else if((be.isMesh||be.isLine||be.isPoints)&&(be.isSkinnedMesh&&be.skeleton.frame!==re.render.frame&&(be.skeleton.update(),be.skeleton.frame=re.render.frame),!be.frustumCulled||$.intersectsObject(be))){z&&H.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Q);const de=_e.update(be),ce=be.material;if(Array.isArray(ce)){const Se=de.groups;for(let xe=0,Ie=Se.length;xe<Ie;xe++){const Xe=Se[xe],Ye=ce[Xe.materialIndex];Ye&&Ye.visible&&d.push(be,de,Ye,Ve,H.z,Xe)}}else ce.visible&&d.push(be,de,ce,Ve,H.z,null)}}const ne=be.children;for(let de=0,ce=ne.length;de<ce;de++)At(ne[de],He,Ve,z)}function Pe(be,He,Ve){const z=He.isScene===!0?He.overrideMaterial:null;for(let Z=0,ne=be.length;Z<ne;Z++){const de=be[Z],ce=de.object,Se=de.geometry,xe=z===null?de.material:z,Ie=de.group;if(Ve.isArrayCamera){_=Ve;const Xe=Ve.cameras;for(let Ye=0,rt=Xe.length;Ye<rt;Ye++){const Fe=Xe[Ye];ce.layers.test(Fe.layers)&&(te.viewport(S.copy(Fe.viewport)),f.setupLights(Fe),Re(ce,He,Fe,Se,xe,Ie))}}else _=null,Re(ce,He,Ve,Se,xe,Ie)}}function Re(be,He,Ve,z,Z,ne){if(be.onBeforeRender(p,He,Ve,z,Z,ne),f=ve.get(He,_||Ve),be.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),be.isImmediateRenderObject){const de=je(Ve,He,Z,be);te.setMaterial(Z),$e.reset(),Je(be,de)}else p.renderBufferDirect(Ve,He,z,Z,be,ne);be.onAfterRender(p,He,Ve,z,Z,ne),f=ve.get(He,_||Ve)}function ze(be,He,Ve){He.isScene!==!0&&(He=X);const z=ae.get(be),Z=f.state.lights,ne=f.state.shadowsArray,de=Z.state.version,ce=W.getParameters(be,Z.state,ne,He,j.numPlanes,j.numIntersection,Ve),Se=W.getProgramCacheKey(ce);let xe=z.program,Ie=!0;if(xe===void 0)be.addEventListener("dispose",ge);else if(xe.cacheKey!==Se)Ke(be);else if(z.lightsStateVersion!==de)z.lightsStateVersion=de,Ie=!1;else{if(ce.shaderID!==void 0)return;Ie=!1}Ie&&(xe=W.acquireProgram(ce,Se),z.program=xe,z.uniforms=ce.uniforms,z.outputEncoding=ce.outputEncoding,be.program=xe);const Xe=xe.getAttributes();if(be.morphTargets){be.numSupportedMorphTargets=0;for(let Oe=0;Oe<p.maxMorphTargets;Oe++)Xe["morphTarget"+Oe]>=0&&be.numSupportedMorphTargets++}if(be.morphNormals){be.numSupportedMorphNormals=0;for(let Oe=0;Oe<p.maxMorphNormals;Oe++)Xe["morphNormal"+Oe]>=0&&be.numSupportedMorphNormals++}const Ye=z.uniforms;(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(z.numClippingPlanes=j.numPlanes,z.numIntersection=j.numIntersection,Ye.clippingPlanes=j.uniform),z.environment=be.isMeshStandardMaterial?He.environment:null,z.fog=He.fog,z.needsLights=tt(be),z.lightsStateVersion=de,z.needsLights&&(Ye.ambientLightColor.value=Z.state.ambient,Ye.lightProbe.value=Z.state.probe,Ye.directionalLights.value=Z.state.directional,Ye.directionalLightShadows.value=Z.state.directionalShadow,Ye.spotLights.value=Z.state.spot,Ye.spotLightShadows.value=Z.state.spotShadow,Ye.rectAreaLights.value=Z.state.rectArea,Ye.pointLights.value=Z.state.point,Ye.pointLightShadows.value=Z.state.pointShadow,Ye.hemisphereLights.value=Z.state.hemi,Ye.directionalShadowMap.value=Z.state.directionalShadowMap,Ye.directionalShadowMatrix.value=Z.state.directionalShadowMatrix,Ye.spotShadowMap.value=Z.state.spotShadowMap,Ye.spotShadowMatrix.value=Z.state.spotShadowMatrix,Ye.pointShadowMap.value=Z.state.pointShadowMap,Ye.pointShadowMatrix.value=Z.state.pointShadowMatrix);const rt=z.program.getUniforms(),Fe=pp.seqWithValue(rt.seq,Ye);z.uniformsList=Fe}function je(be,He,Ve,z){He.isScene!==!0&&(He=X),pe.resetTextureUnits();const Z=He.fog,ne=Ve.isMeshStandardMaterial?He.environment:null,de=b===null?p.outputEncoding:b.texture.encoding,ce=ae.get(Ve),Se=f.state.lights;if(V===!0&&(q===!0||be!==w)){const Oe=be===w&&Ve.id===y;j.setState(Ve.clippingPlanes,Ve.clipIntersection,Ve.clipShadows,be,ce,Oe)}Ve.version===ce.__version?(ce.program===void 0||Ve.fog&&ce.fog!==Z||ce.environment!==ne||ce.needsLights&&ce.lightsStateVersion!==Se.state.version||ce.numClippingPlanes!==void 0&&(ce.numClippingPlanes!==j.numPlanes||ce.numIntersection!==j.numIntersection)||ce.outputEncoding!==de)&&ze(Ve,He,z):(ze(Ve,He,z),ce.__version=Ve.version);let xe=!1,Ie=!1,Xe=!1;const Ye=ce.program,rt=Ye.getUniforms(),Fe=ce.uniforms;if(te.useProgram(Ye.program)&&(xe=!0,Ie=!0,Xe=!0),Ve.id!==y&&(y=Ve.id,Ie=!0),xe||w!==be){if(rt.setValue(G,"projectionMatrix",be.projectionMatrix),le.logarithmicDepthBuffer&&rt.setValue(G,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),w!==be&&(w=be,Ie=!0,Xe=!0),Ve.isShaderMaterial||Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshStandardMaterial||Ve.envMap){const Oe=rt.map.cameraPosition;Oe!==void 0&&Oe.setValue(G,H.setFromMatrixPosition(be.matrixWorld))}(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&rt.setValue(G,"isOrthographic",be.isOrthographicCamera===!0),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial||Ve.isShadowMaterial||Ve.skinning)&&rt.setValue(G,"viewMatrix",be.matrixWorldInverse)}if(Ve.skinning){rt.setOptional(G,z,"bindMatrix"),rt.setOptional(G,z,"bindMatrixInverse");const Oe=z.skeleton;if(Oe){const Ge=Oe.bones;if(le.floatVertexTextures){if(Oe.boneTexture===void 0){let et=Math.sqrt(Ge.length*4);et=xn.ceilPowerOfTwo(et),et=Math.max(et,4);const pt=new Float32Array(et*et*4);pt.set(Oe.boneMatrices);const wt=new Bd(pt,et,et,ns,pd);Oe.boneMatrices=pt,Oe.boneTexture=wt,Oe.boneTextureSize=et}rt.setValue(G,"boneTexture",Oe.boneTexture,pe),rt.setValue(G,"boneTextureSize",Oe.boneTextureSize)}else rt.setOptional(G,Oe,"boneMatrices")}}return(Ie||ce.receiveShadow!==z.receiveShadow)&&(ce.receiveShadow=z.receiveShadow,rt.setValue(G,"receiveShadow",z.receiveShadow)),Ie&&(rt.setValue(G,"toneMappingExposure",p.toneMappingExposure),ce.needsLights&&Ue(Fe,Xe),Z&&Ve.fog&&oe.refreshFogUniforms(Fe,Z),oe.refreshMaterialUniforms(Fe,Ve,ne,L,O),Fe.ltc_1!==void 0&&(Fe.ltc_1.value=Et.LTC_1),Fe.ltc_2!==void 0&&(Fe.ltc_2.value=Et.LTC_2),pp.upload(G,ce.uniformsList,Fe,pe)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(pp.upload(G,ce.uniformsList,Fe,pe),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&rt.setValue(G,"center",z.center),rt.setValue(G,"modelViewMatrix",z.modelViewMatrix),rt.setValue(G,"normalMatrix",z.normalMatrix),rt.setValue(G,"modelMatrix",z.matrixWorld),Ye}function Ue(be,He){be.ambientLightColor.needsUpdate=He,be.lightProbe.needsUpdate=He,be.directionalLights.needsUpdate=He,be.directionalLightShadows.needsUpdate=He,be.pointLights.needsUpdate=He,be.pointLightShadows.needsUpdate=He,be.spotLights.needsUpdate=He,be.spotLightShadows.needsUpdate=He,be.rectAreaLights.needsUpdate=He,be.hemisphereLights.needsUpdate=He}function tt(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.setFramebuffer=function(be){g!==be&&b===null&&G.bindFramebuffer(36160,be),g=be},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return b},this.setRenderTarget=function(be,He,Ve){b=be,v=He,m=Ve,be&&ae.get(be).__webglFramebuffer===void 0&&pe.setupRenderTarget(be);let z=g,Z=!1;if(be){const ne=ae.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(z=ne[He||0],Z=!0):be.isWebGLMultisampleRenderTarget?z=ae.get(be).__webglMultisampledFramebuffer:z=ne,S.copy(be.viewport),P.copy(be.scissor),M=be.scissorTest}else S.copy(E).multiplyScalar(L).floor(),P.copy(k).multiplyScalar(L).floor(),M=B;if(x!==z&&(G.bindFramebuffer(36160,z),x=z),te.viewport(S),te.scissor(P),te.setScissorTest(M),Z){const ne=ae.get(be.texture);G.framebufferTexture2D(36160,36064,34069+(He||0),ne.__webglTexture,Ve||0)}},this.readRenderTargetPixels=function(be,He,Ve,z,Z,ne,de){if(!(be&&be.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ce=ae.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&de!==void 0&&(ce=ce[de]),ce){let Se=!1;ce!==x&&(G.bindFramebuffer(36160,ce),Se=!0);try{const xe=be.texture,Ie=xe.format,Xe=xe.type;if(Ie!==ns&&Me.convert(Ie)!==G.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Xe!==$m&&Me.convert(Xe)!==G.getParameter(35738)&&!(Xe===pd&&(le.isWebGL2||Y.get("OES_texture_float")||Y.get("WEBGL_color_buffer_float")))&&!(Xe===HA&&(le.isWebGL2?Y.get("EXT_color_buffer_float"):Y.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}G.checkFramebufferStatus(36160)===36053?He>=0&&He<=be.width-z&&Ve>=0&&Ve<=be.height-Z&&G.readPixels(He,Ve,z,Z,Me.convert(Ie),Me.convert(Xe),ne):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{Se&&G.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(be,He,Ve){Ve===void 0&&(Ve=0);const z=Math.pow(2,-Ve),Z=Math.floor(He.image.width*z),ne=Math.floor(He.image.height*z),de=Me.convert(He.format);pe.setTexture2D(He,0),G.copyTexImage2D(3553,Ve,de,be.x,be.y,Z,ne,0),te.unbindTexture()},this.copyTextureToTexture=function(be,He,Ve,z){z===void 0&&(z=0);const Z=He.image.width,ne=He.image.height,de=Me.convert(Ve.format),ce=Me.convert(Ve.type);pe.setTexture2D(Ve,0),G.pixelStorei(37440,Ve.flipY),G.pixelStorei(37441,Ve.premultiplyAlpha),G.pixelStorei(3317,Ve.unpackAlignment),He.isDataTexture?G.texSubImage2D(3553,z,be.x,be.y,Z,ne,de,ce,He.image.data):He.isCompressedTexture?G.compressedTexSubImage2D(3553,z,be.x,be.y,He.mipmaps[0].width,He.mipmaps[0].height,de,He.mipmaps[0].data):G.texSubImage2D(3553,z,be.x,be.y,de,ce,He.image),z===0&&Ve.generateMipmaps&&G.generateMipmap(3553),te.unbindTexture()},this.initTexture=function(be){pe.setTexture2D(be,0),te.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function _q(e){rC.call(this,e)}_q.prototype=Object.assign(Object.create(rC.prototype),{constructor:_q,isWebGL1Renderer:!0});function uN(e,t){this.name="",this.color=new vt(e),this.density=t!==void 0?t:25e-5}Object.assign(uN.prototype,{isFogExp2:!0,clone:function(){return new uN(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function qA(e,t,n){this.name="",this.color=new vt(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(qA.prototype,{isFog:!0,clone:function(){return new qA(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function vl(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=sk,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=xn.generateUUID()}Object.defineProperty(vl.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(vl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xn.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new vl(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xn.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const ph=new ee;function Bm(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r===!0}Object.defineProperties(Bm.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(Bm.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)ph.x=this.getX(t),ph.y=this.getY(t),ph.z=this.getZ(t),ph.applyMatrix4(e),this.setXYZ(t,ph.x,ph.y,ph.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=o,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Ht(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function jm(e){dn.call(this),this.type="SpriteMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}jm.prototype=Object.create(dn.prototype);jm.prototype.constructor=jm;jm.prototype.isSpriteMaterial=!0;jm.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Xg;const l1=new ee,Kg=new ee,Yg=new ee,Zg=new ct,c1=new ct,bfe=new mt,I2=new ee,u1=new ee,k2=new ee,Sq=new ct,a$=new ct,Cq=new ct;function dN(e){if(Tt.call(this),this.type="Sprite",Xg===void 0){Xg=new Ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new vl(t,5);Xg.setIndex([0,1,2,0,2,3]),Xg.setAttribute("position",new Bm(n,3,0,!1)),Xg.setAttribute("uv",new Bm(n,2,3,!1))}this.geometry=Xg,this.material=e!==void 0?e:new jm,this.center=new ct(.5,.5)}dN.prototype=Object.assign(Object.create(Tt.prototype),{constructor:dN,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kg.setFromMatrixScale(this.matrixWorld),bfe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Kg.multiplyScalar(-Yg.z);const n=this.material.rotation;let r,o;n!==0&&(o=Math.cos(n),r=Math.sin(n));const i=this.center;R2(I2.set(-.5,-.5,0),Yg,i,Kg,r,o),R2(u1.set(.5,-.5,0),Yg,i,Kg,r,o),R2(k2.set(.5,.5,0),Yg,i,Kg,r,o),Sq.set(0,0),a$.set(1,0),Cq.set(1,1);let a=e.ray.intersectTriangle(I2,u1,k2,!1,l1);if(a===null&&(R2(u1.set(-.5,.5,0),Yg,i,Kg,r,o),a$.set(0,1),a=e.ray.intersectTriangle(I2,k2,u1,!1,l1),a===null))return;const s=e.ray.origin.distanceTo(l1);s<e.near||s>e.far||t.push({distance:s,point:l1.clone(),uv:Ri.getUV(l1,I2,u1,k2,Sq,a$,Cq,new ct),face:null,object:this})},copy:function(e){return Tt.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function R2(e,t,n,r,o,i){Zg.subVectors(e,n).addScalar(.5).multiply(r),o!==void 0?(c1.x=i*Zg.x-o*Zg.y,c1.y=o*Zg.x+i*Zg.y):c1.copy(Zg),e.copy(t),e.x+=c1.x,e.y+=c1.y,e.applyMatrix4(bfe)}const L2=new ee,Pq=new ee;function XA(){Tt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}XA.prototype=Object.assign(Object.create(Tt.prototype),{constructor:XA,isLOD:!0,copy:function(e){Tt.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){L2.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(L2);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){L2.setFromMatrixPosition(e.matrixWorld),Pq.setFromMatrixPosition(this.matrixWorld);const n=L2.distanceTo(Pq)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}},toJSON:function(e){const t=Tt.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,o=n.length;r<o;r++){const i=n[r];t.object.levels.push({object:i.object.uuid,distance:i.distance})}return t}});function fN(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Lr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new mt,this.bindMatrixInverse=new mt}fN.prototype=Object.assign(Object.create(Lr.prototype),{constructor:fN,isSkinnedMesh:!0,copy:function(e){return Lr.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new _r,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Lr.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new ee,t=new _r,n=new _r,r=new ee,o=new mt;return function(i,a){const s=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,i),n.fromBufferAttribute(l.attributes.skinWeight,i),e.fromBufferAttribute(l.attributes.position,i).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let c=0;c<4;c++){const u=n.getComponent(c);if(u!==0){const d=t.getComponent(c);o.multiplyMatrices(s.bones[d].matrixWorld,s.boneInverses[d]),a.addScaledVector(r.copy(e).applyMatrix4(o),u)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});const Mq=new mt,Kxt=new mt;function pN(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new mt)}}Object.assign(pN.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new mt;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let o=0,i=e.length;o<i;o++){const a=e[o]?e[o].matrixWorld:Kxt;Mq.multiplyMatrices(a,t[o]),Mq.toArray(n,o*16)}r!==void 0&&(r.needsUpdate=!0)},clone:function(){return new pN(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function Aq(){Tt.call(this),this.type="Bone"}Aq.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Aq,isBone:!0});const Eq=new mt,Tq=new mt,$2=[],d1=new Lr;function hN(e,t,n){Lr.call(this,e,t),this.instanceMatrix=new Ht(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}hN.prototype=Object.assign(Object.create(Lr.prototype),{constructor:hN,isInstancedMesh:!0,copy:function(e){return Lr.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,r=this.count;if(d1.geometry=this.geometry,d1.material=this.material,d1.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,Eq),Tq.multiplyMatrices(n,Eq),d1.matrixWorld=Tq,d1.raycast(e,$2);for(let i=0,a=$2.length;i<a;i++){const s=$2[i];s.instanceId=o,s.object=this,t.push(s)}$2.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Ao(e){dn.call(this),this.type="LineBasicMaterial",this.color=new vt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ao.prototype=Object.create(dn.prototype);Ao.prototype.constructor=Ao;Ao.prototype.isLineBasicMaterial=!0;Ao.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Oq=new ee,Iq=new ee,kq=new mt,D2=new w0,F2=new nf;function Tl(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Tt.call(this),this.type="Line",this.geometry=e!==void 0?e:new Ot,this.material=t!==void 0?t:new Ao,this.updateMorphTargets()}Tl.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Tl,isLine:!0,copy:function(e){return Tt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,o=t.count;r<o;r++)Oq.fromBufferAttribute(t,r-1),Iq.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Oq.distanceTo(Iq);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let r=1,o=t.length;r<o;r++)n[r]=n[r-1],n[r]+=t[r-1].distanceTo(t[r])}return this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),F2.copy(n.boundingSphere),F2.applyMatrix4(r),F2.radius+=o,e.ray.intersectsSphere(F2)===!1)return;kq.getInverse(r),D2.copy(e.ray).applyMatrix4(kq);const i=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=i*i,s=new ee,l=new ee,c=new ee,u=new ee,d=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,h=n.attributes.position.array;if(f!==null){const g=f.array;for(let v=0,m=g.length-1;v<m;v+=d){const b=g[v],x=g[v+1];if(s.fromArray(h,b*3),l.fromArray(h,x*3),D2.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const w=e.ray.origin.distanceTo(u);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(let g=0,v=h.length/3-1;g<v;g+=d){if(s.fromArray(h,3*g),l.fromArray(h,3*g+3),D2.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(u);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const f=n.vertices,p=f.length;for(let h=0;h<p-1;h+=d){if(D2.distanceSqToSegment(f[h],f[h+1],u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const v=e.ray.origin.distanceTo(u);v<e.near||v>e.far||t.push({distance:v,point:c.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,i=r.length;o<i;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const N2=new ee,B2=new ee;function uo(e,t){Tl.call(this,e,t),this.type="LineSegments"}uo.prototype=Object.assign(Object.create(Tl.prototype),{constructor:uo,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,o=t.count;r<o;r+=2)N2.fromBufferAttribute(t,r),B2.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+N2.distanceTo(B2);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let r=0,o=t.length;r<o;r+=2)N2.copy(t[r]),B2.copy(t[r+1]),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+N2.distanceTo(B2)}return this}});function mN(e,t){Tl.call(this,e,t),this.type="LineLoop"}mN.prototype=Object.assign(Object.create(Tl.prototype),{constructor:mN,isLineLoop:!0});function zm(e){dn.call(this),this.type="PointsMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}zm.prototype=Object.create(dn.prototype);zm.prototype.constructor=zm;zm.prototype.isPointsMaterial=!0;zm.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Rq=new mt,gN=new w0,j2=new nf,z2=new ee;function Tw(e,t){Tt.call(this),this.type="Points",this.geometry=e!==void 0?e:new Ot,this.material=t!==void 0?t:new zm,this.updateMorphTargets()}Tw.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Tw,isPoints:!0,copy:function(e){return Tt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),j2.copy(n.boundingSphere),j2.applyMatrix4(r),j2.radius+=o,e.ray.intersectsSphere(j2)===!1)return;Rq.getInverse(r),gN.copy(e.ray).applyMatrix4(Rq);const i=o/((this.scale.x+this.scale.y+this.scale.z)/3),a=i*i;if(n.isBufferGeometry){const s=n.index,c=n.attributes.position.array;if(s!==null){const u=s.array;for(let d=0,f=u.length;d<f;d++){const p=u[d];z2.fromArray(c,p*3),s$(z2,p,a,r,e,t,this)}}else for(let u=0,d=c.length/3;u<d;u++)z2.fromArray(c,u*3),s$(z2,u,a,r,e,t,this)}else{const s=n.vertices;for(let l=0,c=s.length;l<c;l++)s$(s[l],l,a,r,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,i=r.length;o<i;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function s$(e,t,n,r,o,i,a){const s=gN.distanceSqToPoint(e);if(s<n){const l=new ee;gN.closestPointToPoint(e,l),l.applyMatrix4(r);const c=o.ray.origin.distanceTo(l);if(c<o.near||c>o.far)return;i.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}function Lq(e,t,n,r,o,i,a,s,l){$r.call(this,e,t,n,r,o,i,a,s,l),this.format=a!==void 0?a:lm,this.minFilter=i!==void 0?i:Bo,this.magFilter=o!==void 0?o:Bo,this.generateMipmaps=!1}Lq.prototype=Object.assign(Object.create($r.prototype),{constructor:Lq,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function Ow(e,t,n,r,o,i,a,s,l,c,u,d){$r.call(this,null,i,a,s,l,c,r,o,u,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}Ow.prototype=Object.create($r.prototype);Ow.prototype.constructor=Ow;Ow.prototype.isCompressedTexture=!0;function Iw(e,t,n,r,o,i,a,s,l){$r.call(this,e,t,n,r,o,i,a,s,l),this.needsUpdate=!0}Iw.prototype=Object.create($r.prototype);Iw.prototype.constructor=Iw;Iw.prototype.isCanvasTexture=!0;function KA(e,t,n,r,o,i,a,s,l,c){if(c=c!==void 0?c:pb,c!==pb&&c!==xw)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===pb&&(n=zA),n===void 0&&c===xw&&(n=wx),$r.call(this,null,r,o,i,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mr,this.minFilter=s!==void 0?s:Mr,this.flipY=!1,this.generateMipmaps=!1}KA.prototype=Object.create($r.prototype);KA.prototype.constructor=KA;KA.prototype.isDepthTexture=!0;function YA(e){Ot.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],r={},o=["a","b","c"];if(e&&e.isGeometry){const i=e.faces;for(let a=0,s=i.length;a<s;a++){const l=i[a];for(let c=0;c<3;c++){const u=l[o[c]],d=l[o[(c+1)%3]];n[0]=Math.min(u,d),n[1]=Math.max(u,d);const f=n[0]+","+n[1];r[f]===void 0&&(r[f]={index1:n[0],index2:n[1]})}}for(const a in r){const s=r[a];let l=e.vertices[s.index1];t.push(l.x,l.y,l.z),l=e.vertices[s.index2],t.push(l.x,l.y,l.z)}}else if(e&&e.isBufferGeometry){let i=new ee;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,p=d.count;for(let h=f,g=f+p;h<g;h+=3)for(let v=0;v<3;v++){const m=s.getX(h+v),b=s.getX(h+(v+1)%3);n[0]=Math.min(m,b),n[1]=Math.max(m,b);const x=n[0]+","+n[1];r[x]===void 0&&(r[x]={index1:n[0],index2:n[1]})}}for(const c in r){const u=r[c];i.fromBufferAttribute(a,u.index1),t.push(i.x,i.y,i.z),i.fromBufferAttribute(a,u.index2),t.push(i.x,i.y,i.z)}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c;i.fromBufferAttribute(a,u),t.push(i.x,i.y,i.z);const d=3*s+(c+1)%3;i.fromBufferAttribute(a,d),t.push(i.x,i.y,i.z)}}}this.setAttribute("position",new Lt(t,3))}YA.prototype=Object.create(Ot.prototype);YA.prototype.constructor=YA;function ZA(e,t,n){on.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new kw(e,t,n)),this.mergeVertices()}ZA.prototype=Object.create(on.prototype);ZA.prototype.constructor=ZA;function kw(e,t,n){Ot.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const r=[],o=[],i=[],a=[],s=1e-5,l=new ee,c=new ee,u=new ee,d=new ee,f=new ee;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let h=0;h<=n;h++){const g=h/n;for(let v=0;v<=t;v++){const m=v/t;e(m,g,c),o.push(c.x,c.y,c.z),m-s>=0?(e(m-s,g,u),d.subVectors(c,u)):(e(m+s,g,u),d.subVectors(u,c)),g-s>=0?(e(m,g-s,u),f.subVectors(c,u)):(e(m,g+s,u),f.subVectors(u,c)),l.crossVectors(d,f).normalize(),i.push(l.x,l.y,l.z),a.push(m,g)}}for(let h=0;h<n;h++)for(let g=0;g<t;g++){const v=h*p+g,m=h*p+g+1,b=(h+1)*p+g+1,x=(h+1)*p+g;r.push(v,m,x),r.push(m,b,x)}this.setIndex(r),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(i,3)),this.setAttribute("uv",new Lt(a,2))}kw.prototype=Object.create(Ot.prototype);kw.prototype.constructor=kw;function QA(e,t,n,r){on.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ds(e,t,n,r)),this.mergeVertices()}QA.prototype=Object.create(on.prototype);QA.prototype.constructor=QA;function Ds(e,t,n,r){Ot.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;const o=[],i=[];a(r),l(n),c(),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(o.slice(),3)),this.setAttribute("uv",new Lt(i,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(m){const b=new ee,x=new ee,y=new ee;for(let w=0;w<t.length;w+=3)f(t[w+0],b),f(t[w+1],x),f(t[w+2],y),s(b,x,y,m)}function s(m,b,x,y){const w=Math.pow(2,y),_=[];for(let S=0;S<=w;S++){_[S]=[];const P=m.clone().lerp(x,S/w),M=b.clone().lerp(x,S/w),I=w-S;for(let O=0;O<=I;O++)O===0&&S===w?_[S][O]=P:_[S][O]=P.clone().lerp(M,O/I)}for(let S=0;S<w;S++)for(let P=0;P<2*(w-S)-1;P++){const M=Math.floor(P/2);P%2===0?(d(_[S][M+1]),d(_[S+1][M]),d(_[S][M])):(d(_[S][M+1]),d(_[S+1][M+1]),d(_[S+1][M]))}}function l(m){const b=new ee;for(let x=0;x<o.length;x+=3)b.x=o[x+0],b.y=o[x+1],b.z=o[x+2],b.normalize().multiplyScalar(m),o[x+0]=b.x,o[x+1]=b.y,o[x+2]=b.z}function c(){const m=new ee;for(let b=0;b<o.length;b+=3){m.x=o[b+0],m.y=o[b+1],m.z=o[b+2];const x=g(m)/2/Math.PI+.5,y=v(m)/Math.PI+.5;i.push(x,1-y)}p(),u()}function u(){for(let m=0;m<i.length;m+=6){const b=i[m+0],x=i[m+2],y=i[m+4],w=Math.max(b,x,y),_=Math.min(b,x,y);w>.9&&_<.1&&(b<.2&&(i[m+0]+=1),x<.2&&(i[m+2]+=1),y<.2&&(i[m+4]+=1))}}function d(m){o.push(m.x,m.y,m.z)}function f(m,b){const x=m*3;b.x=e[x+0],b.y=e[x+1],b.z=e[x+2]}function p(){const m=new ee,b=new ee,x=new ee,y=new ee,w=new ct,_=new ct,S=new ct;for(let P=0,M=0;P<o.length;P+=9,M+=6){m.set(o[P+0],o[P+1],o[P+2]),b.set(o[P+3],o[P+4],o[P+5]),x.set(o[P+6],o[P+7],o[P+8]),w.set(i[M+0],i[M+1]),_.set(i[M+2],i[M+3]),S.set(i[M+4],i[M+5]),y.copy(m).add(b).add(x).divideScalar(3);const I=g(y);h(w,M+0,m,I),h(_,M+2,b,I),h(S,M+4,x,I)}}function h(m,b,x,y){y<0&&m.x===1&&(i[b]=m.x-1),x.x===0&&x.z===0&&(i[b]=y/2/Math.PI+.5)}function g(m){return Math.atan2(m.z,-m.x)}function v(m){return Math.atan2(-m.y,Math.sqrt(m.x*m.x+m.z*m.z))}}Ds.prototype=Object.create(Ot.prototype);Ds.prototype.constructor=Ds;function JA(e,t){on.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new fy(e,t)),this.mergeVertices()}JA.prototype=Object.create(on.prototype);JA.prototype.constructor=JA;function fy(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Ds.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}fy.prototype=Object.create(Ds.prototype);fy.prototype.constructor=fy;function eE(e,t){on.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Hm(e,t)),this.mergeVertices()}eE.prototype=Object.create(on.prototype);eE.prototype.constructor=eE;function Hm(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ds.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Hm.prototype=Object.create(Ds.prototype);Hm.prototype.constructor=Hm;function tE(e,t){on.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vm(e,t)),this.mergeVertices()}tE.prototype=Object.create(on.prototype);tE.prototype.constructor=tE;function Vm(e,t){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ds.call(this,r,o,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Vm.prototype=Object.create(Ds.prototype);Vm.prototype.constructor=Vm;function nE(e,t){on.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rw(e,t)),this.mergeVertices()}nE.prototype=Object.create(on.prototype);nE.prototype.constructor=nE;function Rw(e,t){const n=(1+Math.sqrt(5))/2,r=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],i=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ds.call(this,o,i,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}Rw.prototype=Object.create(Ds.prototype);Rw.prototype.constructor=Rw;function rE(e,t,n,r,o,i){on.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},i!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new py(e,t,n,r,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}rE.prototype=Object.create(on.prototype);rE.prototype.constructor=rE;function py(e,t,n,r,o){Ot.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:o},t=t||64,n=n||1,r=r||8,o=o||!1;const i=e.computeFrenetFrames(t,o);this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals;const a=new ee,s=new ee,l=new ct;let c=new ee;const u=[],d=[],f=[],p=[];h(),this.setIndex(p),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(f,2));function h(){for(let b=0;b<t;b++)g(b);g(o===!1?t:0),m(),v()}function g(b){c=e.getPointAt(b/t,c);const x=i.normals[b],y=i.binormals[b];for(let w=0;w<=r;w++){const _=w/r*Math.PI*2,S=Math.sin(_),P=-Math.cos(_);s.x=P*x.x+S*y.x,s.y=P*x.y+S*y.y,s.z=P*x.z+S*y.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}function v(){for(let b=1;b<=t;b++)for(let x=1;x<=r;x++){const y=(r+1)*(b-1)+(x-1),w=(r+1)*b+(x-1),_=(r+1)*b+x,S=(r+1)*(b-1)+x;p.push(y,w,S),p.push(w,_,S)}}function m(){for(let b=0;b<=t;b++)for(let x=0;x<=r;x++)l.x=b/t,l.y=x/r,f.push(l.x,l.y)}}py.prototype=Object.create(Ot.prototype);py.prototype.constructor=py;py.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function oE(e,t,n,r,o,i,a){on.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:i},a!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Lw(e,t,n,r,o,i)),this.mergeVertices()}oE.prototype=Object.create(on.prototype);oE.prototype.constructor=oE;function Lw(e,t,n,r,o,i){Ot.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:o,q:i},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,o=o||2,i=i||3;const a=[],s=[],l=[],c=[],u=new ee,d=new ee,f=new ee,p=new ee,h=new ee,g=new ee,v=new ee;for(let b=0;b<=n;++b){const x=b/n*o*Math.PI*2;m(x,o,i,e,f),m(x+.01,o,i,e,p),g.subVectors(p,f),v.addVectors(p,f),h.crossVectors(g,v),v.crossVectors(h,g),h.normalize(),v.normalize();for(let y=0;y<=r;++y){const w=y/r*Math.PI*2,_=-t*Math.cos(w),S=t*Math.sin(w);u.x=f.x+(_*v.x+S*h.x),u.y=f.y+(_*v.y+S*h.y),u.z=f.z+(_*v.z+S*h.z),s.push(u.x,u.y,u.z),d.subVectors(u,f).normalize(),l.push(d.x,d.y,d.z),c.push(b/n),c.push(y/r)}}for(let b=1;b<=n;b++)for(let x=1;x<=r;x++){const y=(r+1)*(b-1)+(x-1),w=(r+1)*b+(x-1),_=(r+1)*b+x,S=(r+1)*(b-1)+x;a.push(y,w,S),a.push(w,_,S)}this.setIndex(a),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(c,2));function m(b,x,y,w,_){const S=Math.cos(b),P=Math.sin(b),M=y/x*b,I=Math.cos(M);_.x=w*(2+I)*.5*S,_.y=w*(2+I)*P*.5,_.z=w*Math.sin(M)*.5}}Lw.prototype=Object.create(Ot.prototype);Lw.prototype.constructor=Lw;function iE(e,t,n,r,o){on.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},this.fromBufferGeometry(new hy(e,t,n,r,o)),this.mergeVertices()}iE.prototype=Object.create(on.prototype);iE.prototype.constructor=iE;function hy(e,t,n,r,o){Ot.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:o},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,o=o||Math.PI*2;const i=[],a=[],s=[],l=[],c=new ee,u=new ee,d=new ee;for(let f=0;f<=n;f++)for(let p=0;p<=r;p++){const h=p/r*o,g=f/n*Math.PI*2;u.x=(e+t*Math.cos(g))*Math.cos(h),u.y=(e+t*Math.cos(g))*Math.sin(h),u.z=t*Math.sin(g),a.push(u.x,u.y,u.z),c.x=e*Math.cos(h),c.y=e*Math.sin(h),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(p/r),l.push(f/n)}for(let f=1;f<=n;f++)for(let p=1;p<=r;p++){const h=(r+1)*f+p-1,g=(r+1)*(f-1)+p-1,v=(r+1)*(f-1)+p,m=(r+1)*f+p;i.push(h,g,m),i.push(g,v,m)}this.setIndex(i),this.setAttribute("position",new Lt(a,3)),this.setAttribute("normal",new Lt(s,3)),this.setAttribute("uv",new Lt(l,2))}hy.prototype=Object.create(Ot.prototype);hy.prototype.constructor=hy;const Yxt={triangulate:function(e,t,n){n=n||2;let r=t&&t.length,o=r?t[0]*n:e.length,i=yfe(e,0,o,n,!0),a=[];if(!i||i.next===i.prev)return a;let s,l,c,u,d,f,p;if(r&&(i=twt(e,t,i,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let h=n;h<o;h+=n)d=e[h],f=e[h+1],d<s&&(s=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);p=Math.max(c-s,u-l),p=p!==0?1/p:0}return $w(i,a,n,s,l,p),a}};function yfe(e,t,n,r,o){let i,a;if(o===fwt(e,t,n,r)>0)for(i=t;i<n;i+=r)a=$q(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=$q(i,e[i],e[i+1],a);return a&&lk(a,a.next)&&(Fw(a),a=a.next),a}function Ip(e,t){if(!e)return e;t||(t=e);let n=e,r;do if(r=!1,!n.steiner&&(lk(n,n.next)||ao(n.prev,n,n.next)===0)){if(Fw(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function $w(e,t,n,r,o,i,a){if(!e)return;!a&&i&&awt(e,r,o,i);let s=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,i?Qxt(e,r,o,i):Zxt(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),Fw(e),e=c.next,s=c.next;continue}if(e=c,e===s){a?a===1?(e=Jxt(Ip(e),t,n),$w(e,t,n,r,o,i,2)):a===2&&ewt(e,t,n,r,o,i):$w(Ip(e),t,n,r,o,i,1);break}}}function Zxt(e){let t=e.prev,n=e,r=e.next;if(ao(t,n,r)>=0)return!1;let o=e.next.next;for(;o!==e.prev;){if(qv(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&ao(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Qxt(e,t,n,r){let o=e.prev,i=e,a=e.next;if(ao(o,i,a)>=0)return!1;let s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,c=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,u=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,d=vN(s,l,t,n,r),f=vN(c,u,t,n,r),p=e.prevZ,h=e.nextZ;for(;p&&p.z>=d&&h&&h.z<=f;){if(p!==e.prev&&p!==e.next&&qv(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&ao(p.prev,p,p.next)>=0||(p=p.prevZ,h!==e.prev&&h!==e.next&&qv(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&ao(h.prev,h,h.next)>=0))return!1;h=h.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&qv(o.x,o.y,i.x,i.y,a.x,a.y,p.x,p.y)&&ao(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=f;){if(h!==e.prev&&h!==e.next&&qv(o.x,o.y,i.x,i.y,a.x,a.y,h.x,h.y)&&ao(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function Jxt(e,t,n){let r=e;do{let o=r.prev,i=r.next.next;!lk(o,i)&&xfe(o,r,r.next,i)&&Dw(o,i)&&Dw(i,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),Fw(r),Fw(r.next),r=e=i),r=r.next}while(r!==e);return Ip(r)}function ewt(e,t,n,r,o,i){let a=e;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&cwt(a,s)){let l=wfe(a,s);a=Ip(a,a.next),l=Ip(l,l.next),$w(a,t,n,r,o,i),$w(l,t,n,r,o,i);return}s=s.next}a=a.next}while(a!==e)}function twt(e,t,n,r){let o=[],i,a,s,l,c;for(i=0,a=t.length;i<a;i++)s=t[i]*r,l=i<a-1?t[i+1]*r:e.length,c=yfe(e,s,l,r,!1),c===c.next&&(c.steiner=!0),o.push(lwt(c));for(o.sort(nwt),i=0;i<o.length;i++)rwt(o[i],n),n=Ip(n,n.next);return n}function nwt(e,t){return e.x-t.x}function rwt(e,t){if(t=owt(e,t),t){const n=wfe(t,e);Ip(t,t.next),Ip(n,n.next)}}function owt(e,t){let n=t,r=e.x,o=e.y,i=-1/0,a;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){let f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>i){if(i=f,f===r){if(o===n.y)return n;if(o===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!a)return null;if(r===i)return a;let s=a,l=a.x,c=a.y,u=1/0,d;n=a;do r>=n.x&&n.x>=l&&r!==n.x&&qv(o<c?r:i,o,l,c,o<c?i:r,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(r-n.x),Dw(n,e)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&iwt(a,n)))&&(a=n,u=d)),n=n.next;while(n!==s);return a}function iwt(e,t){return ao(e.prev,e,t.prev)<0&&ao(t.next,e,e.next)<0}function awt(e,t,n,r){let o=e;do o.z===null&&(o.z=vN(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,swt(o)}function swt(e){let t,n,r,o,i,a,s,l,c=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,!!r);t++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1);return e}function vN(e,t,n,r,o){return e=32767*(e-n)*o,t=32767*(t-r)*o,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function lwt(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function qv(e,t,n,r,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function cwt(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!uwt(e,t)&&(Dw(e,t)&&Dw(t,e)&&dwt(e,t)&&(ao(e.prev,e,t.prev)||ao(e,t.prev,t))||lk(e,t)&&ao(e.prev,e,e.next)>0&&ao(t.prev,t,t.next)>0)}function ao(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function lk(e,t){return e.x===t.x&&e.y===t.y}function xfe(e,t,n,r){const o=V2(ao(e,t,n)),i=V2(ao(e,t,r)),a=V2(ao(n,r,e)),s=V2(ao(n,r,t));return!!(o!==i&&a!==s||o===0&&H2(e,n,t)||i===0&&H2(e,r,t)||a===0&&H2(n,e,r)||s===0&&H2(n,t,r))}function H2(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function V2(e){return e>0?1:e<0?-1:0}function uwt(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&xfe(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Dw(e,t){return ao(e.prev,e,e.next)<0?ao(e,t,e.next)>=0&&ao(e,e.prev,t)>=0:ao(e,t,e.prev)<0||ao(e,e.next,t)<0}function dwt(e,t){let n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function wfe(e,t){let n=new bN(e.i,e.x,e.y),r=new bN(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function $q(e,t,n,r){const o=new bN(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function Fw(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function bN(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fwt(e,t,n,r){let o=0;for(let i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}const hp={area:function(e){const t=e.length;let n=0;for(let r=t-1,o=0;o<t;r=o++)n+=e[r].x*e[o].y-e[o].x*e[r].y;return n*.5},isClockWise:function(e){return hp.area(e)<0},triangulateShape:function(e,t){const n=[],r=[],o=[];Dq(e),Fq(n,e);let i=e.length;t.forEach(Dq);for(let s=0;s<t.length;s++)r.push(i),i+=t[s].length,Fq(n,t[s]);const a=Yxt.triangulate(n,r);for(let s=0;s<a.length;s+=3)o.push(a.slice(s,s+3));return o}};function Dq(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Fq(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function my(e,t){on.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new jd(e,t)),this.mergeVertices()}my.prototype=Object.create(on.prototype);my.prototype.constructor=my;my.prototype.toJSON=function(){const e=on.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return _fe(t,n,e)};function jd(e,t){Ot.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],o=[];for(let a=0,s=e.length;a<s;a++){const l=e[a];i(l)}this.setAttribute("position",new Lt(r,3)),this.setAttribute("uv",new Lt(o,2)),this.computeVertexNormals();function i(a){const s=[],l=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:100,d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:6,p=t.bevelSize!==void 0?t.bevelSize:f-2,h=t.bevelOffset!==void 0?t.bevelOffset:0,g=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,m=t.UVGenerator!==void 0?t.UVGenerator:pwt;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let b,x=!1,y,w,_,S;v&&(b=v.getSpacedPoints(c),x=!0,d=!1,y=v.computeFrenetFrames(c,!1),w=new ee,_=new ee,S=new ee),d||(g=0,f=0,p=0,h=0);const P=a.extractPoints(l);let M=P.shape;const I=P.holes;if(!hp.isClockWise(M)){M=M.reverse();for(let re=0,ae=I.length;re<ae;re++){const pe=I[re];hp.isClockWise(pe)&&(I[re]=pe.reverse())}}const L=hp.triangulateShape(M,I),R=M;for(let re=0,ae=I.length;re<ae;re++){const pe=I[re];M=M.concat(pe)}function T(re,ae,pe){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ae.clone().multiplyScalar(pe).add(re)}const E=M.length,k=L.length;function B(re,ae,pe){let we,fe,_e;const W=re.x-ae.x,oe=re.y-ae.y,Ce=pe.x-re.x,ve=pe.y-re.y,me=W*W+oe*oe,ye=W*ve-oe*Ce;if(Math.abs(ye)>Number.EPSILON){const Le=Math.sqrt(me),Te=Math.sqrt(Ce*Ce+ve*ve),Me=ae.x-oe/Le,$e=ae.y+W/Le,U=pe.x-ve/Te,D=pe.y+Ce/Te,F=((U-Me)*ve-(D-$e)*Ce)/(W*ve-oe*Ce);we=Me+W*F-re.x,fe=$e+oe*F-re.y;const K=we*we+fe*fe;if(K<=2)return new ct(we,fe);_e=Math.sqrt(K/2)}else{let Le=!1;W>Number.EPSILON?Ce>Number.EPSILON&&(Le=!0):W<-Number.EPSILON?Ce<-Number.EPSILON&&(Le=!0):Math.sign(oe)===Math.sign(ve)&&(Le=!0),Le?(we=-oe,fe=W,_e=Math.sqrt(me)):(we=W,fe=oe,_e=Math.sqrt(me/2))}return new ct(we/_e,fe/_e)}const $=[];for(let re=0,ae=R.length,pe=ae-1,we=re+1;re<ae;re++,pe++,we++)pe===ae&&(pe=0),we===ae&&(we=0),$[re]=B(R[re],R[pe],R[we]);const j=[];let V,q=$.concat();for(let re=0,ae=I.length;re<ae;re++){const pe=I[re];V=[];for(let we=0,fe=pe.length,_e=fe-1,W=we+1;we<fe;we++,_e++,W++)_e===fe&&(_e=0),W===fe&&(W=0),V[we]=B(pe[we],pe[_e],pe[W]);j.push(V),q=q.concat(V)}for(let re=0;re<g;re++){const ae=re/g,pe=f*Math.cos(ae*Math.PI/2),we=p*Math.sin(ae*Math.PI/2)+h;for(let fe=0,_e=R.length;fe<_e;fe++){const W=T(R[fe],$[fe],we);G(W.x,W.y,-pe)}for(let fe=0,_e=I.length;fe<_e;fe++){const W=I[fe];V=j[fe];for(let oe=0,Ce=W.length;oe<Ce;oe++){const ve=T(W[oe],V[oe],we);G(ve.x,ve.y,-pe)}}}const Q=p+h;for(let re=0;re<E;re++){const ae=d?T(M[re],q[re],Q):M[re];x?(_.copy(y.normals[0]).multiplyScalar(ae.x),w.copy(y.binormals[0]).multiplyScalar(ae.y),S.copy(b[0]).add(_).add(w),G(S.x,S.y,S.z)):G(ae.x,ae.y,0)}for(let re=1;re<=c;re++)for(let ae=0;ae<E;ae++){const pe=d?T(M[ae],q[ae],Q):M[ae];x?(_.copy(y.normals[re]).multiplyScalar(pe.x),w.copy(y.binormals[re]).multiplyScalar(pe.y),S.copy(b[re]).add(_).add(w),G(S.x,S.y,S.z)):G(pe.x,pe.y,u/c*re)}for(let re=g-1;re>=0;re--){const ae=re/g,pe=f*Math.cos(ae*Math.PI/2),we=p*Math.sin(ae*Math.PI/2)+h;for(let fe=0,_e=R.length;fe<_e;fe++){const W=T(R[fe],$[fe],we);G(W.x,W.y,u+pe)}for(let fe=0,_e=I.length;fe<_e;fe++){const W=I[fe];V=j[fe];for(let oe=0,Ce=W.length;oe<Ce;oe++){const ve=T(W[oe],V[oe],we);x?G(ve.x,ve.y+b[c-1].y,b[c-1].x+pe):G(ve.x,ve.y,u+pe)}}}H(),X();function H(){const re=r.length/3;if(d){let ae=0,pe=E*ae;for(let we=0;we<k;we++){const fe=L[we];ie(fe[2]+pe,fe[1]+pe,fe[0]+pe)}ae=c+g*2,pe=E*ae;for(let we=0;we<k;we++){const fe=L[we];ie(fe[0]+pe,fe[1]+pe,fe[2]+pe)}}else{for(let ae=0;ae<k;ae++){const pe=L[ae];ie(pe[2],pe[1],pe[0])}for(let ae=0;ae<k;ae++){const pe=L[ae];ie(pe[0]+E*c,pe[1]+E*c,pe[2]+E*c)}}n.addGroup(re,r.length/3-re,0)}function X(){const re=r.length/3;let ae=0;J(R,ae),ae+=R.length;for(let pe=0,we=I.length;pe<we;pe++){const fe=I[pe];J(fe,ae),ae+=fe.length}n.addGroup(re,r.length/3-re,1)}function J(re,ae){let pe=re.length;for(;--pe>=0;){const we=pe;let fe=pe-1;fe<0&&(fe=re.length-1);for(let _e=0,W=c+g*2;_e<W;_e++){const oe=E*_e,Ce=E*(_e+1),ve=ae+we+oe,me=ae+fe+oe,ye=ae+fe+Ce,Le=ae+we+Ce;Y(ve,me,ye,Le)}}}function G(re,ae,pe){s.push(re),s.push(ae),s.push(pe)}function ie(re,ae,pe){le(re),le(ae),le(pe);const we=r.length/3,fe=m.generateTopUV(n,r,we-3,we-2,we-1);te(fe[0]),te(fe[1]),te(fe[2])}function Y(re,ae,pe,we){le(re),le(ae),le(we),le(ae),le(pe),le(we);const fe=r.length/3,_e=m.generateSideWallUV(n,r,fe-6,fe-3,fe-2,fe-1);te(_e[0]),te(_e[1]),te(_e[3]),te(_e[1]),te(_e[2]),te(_e[3])}function le(re){r.push(s[re*3+0]),r.push(s[re*3+1]),r.push(s[re*3+2])}function te(re){o.push(re.x),o.push(re.y)}}}jd.prototype=Object.create(Ot.prototype);jd.prototype.constructor=jd;jd.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return _fe(t,n,e)};const pwt={generateTopUV:function(e,t,n,r,o){const i=t[n*3],a=t[n*3+1],s=t[r*3],l=t[r*3+1],c=t[o*3],u=t[o*3+1];return[new ct(i,a),new ct(s,l),new ct(c,u)]},generateSideWallUV:function(e,t,n,r,o,i){const a=t[n*3],s=t[n*3+1],l=t[n*3+2],c=t[r*3],u=t[r*3+1],d=t[r*3+2],f=t[o*3],p=t[o*3+1],h=t[o*3+2],g=t[i*3],v=t[i*3+1],m=t[i*3+2];return Math.abs(s-u)<.01?[new ct(a,1-l),new ct(c,1-d),new ct(f,1-h),new ct(g,1-m)]:[new ct(s,1-l),new ct(u,1-d),new ct(p,1-h),new ct(v,1-m)]}};function _fe(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,o=e.length;r<o;r++){const i=e[r];n.shapes.push(i.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function aE(e,t){on.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Nw(e,t)),this.mergeVertices()}aE.prototype=Object.create(on.prototype);aE.prototype.constructor=aE;function Nw(e,t){t=t||{};const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new on;const r=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),jd.call(this,r,t),this.type="TextBufferGeometry"}Nw.prototype=Object.create(jd.prototype);Nw.prototype.constructor=Nw;function sE(e,t,n,r,o,i,a){on.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new gy(e,t,n,r,o,i,a)),this.mergeVertices()}sE.prototype=Object.create(on.prototype);sE.prototype.constructor=sE;function gy(e,t,n,r,o,i,a){Ot.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:o,thetaStart:i,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=r!==void 0?r:0,o=o!==void 0?o:Math.PI*2,i=i!==void 0?i:0,a=a!==void 0?a:Math.PI;const s=Math.min(i+a,Math.PI);let l=0;const c=[],u=new ee,d=new ee,f=[],p=[],h=[],g=[];for(let v=0;v<=n;v++){const m=[],b=v/n;let x=0;v==0&&i==0?x=.5/t:v==n&&s==Math.PI&&(x=-.5/t);for(let y=0;y<=t;y++){const w=y/t;u.x=-e*Math.cos(r+w*o)*Math.sin(i+b*a),u.y=e*Math.cos(i+b*a),u.z=e*Math.sin(r+w*o)*Math.sin(i+b*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),h.push(d.x,d.y,d.z),g.push(w+x,1-b),m.push(l++)}c.push(m)}for(let v=0;v<n;v++)for(let m=0;m<t;m++){const b=c[v][m+1],x=c[v][m],y=c[v+1][m],w=c[v+1][m+1];(v!==0||i>0)&&f.push(b,x,w),(v!==n-1||s<Math.PI)&&f.push(x,y,w)}this.setIndex(f),this.setAttribute("position",new Lt(p,3)),this.setAttribute("normal",new Lt(h,3)),this.setAttribute("uv",new Lt(g,2))}gy.prototype=Object.create(Ot.prototype);gy.prototype.constructor=gy;function lE(e,t,n,r,o,i){on.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:i},this.fromBufferGeometry(new Bw(e,t,n,r,o,i)),this.mergeVertices()}lE.prototype=Object.create(on.prototype);lE.prototype.constructor=lE;function Bw(e,t,n,r,o,i){Ot.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:i},e=e||.5,t=t||1,o=o!==void 0?o:0,i=i!==void 0?i:Math.PI*2,n=n!==void 0?Math.max(3,n):8,r=r!==void 0?Math.max(1,r):1;const a=[],s=[],l=[],c=[];let u=e;const d=(t-e)/r,f=new ee,p=new ct;for(let h=0;h<=r;h++){for(let g=0;g<=n;g++){const v=o+g/n*i;f.x=u*Math.cos(v),f.y=u*Math.sin(v),s.push(f.x,f.y,f.z),l.push(0,0,1),p.x=(f.x/t+1)/2,p.y=(f.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let h=0;h<r;h++){const g=h*(n+1);for(let v=0;v<n;v++){const m=v+g,b=m,x=m+n+1,y=m+n+2,w=m+1;a.push(b,x,w),a.push(x,y,w)}}this.setIndex(a),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(c,2))}Bw.prototype=Object.create(Ot.prototype);Bw.prototype.constructor=Bw;function cE(e,t,n,r){on.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new jw(e,t,n,r)),this.mergeVertices()}cE.prototype=Object.create(on.prototype);cE.prototype.constructor=cE;function jw(e,t,n,r){Ot.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||Math.PI*2,r=xn.clamp(r,0,Math.PI*2);const o=[],i=[],a=[],s=1/t,l=new ee,c=new ct;for(let u=0;u<=t;u++){const d=n+u*s*r,f=Math.sin(d),p=Math.cos(d);for(let h=0;h<=e.length-1;h++)l.x=e[h].x*f,l.y=e[h].y,l.z=e[h].x*p,i.push(l.x,l.y,l.z),c.x=u/t,c.y=h/(e.length-1),a.push(c.x,c.y)}for(let u=0;u<t;u++)for(let d=0;d<e.length-1;d++){const f=d+u*e.length,p=f,h=f+e.length,g=f+e.length+1,v=f+1;o.push(p,h,v),o.push(h,g,v)}if(this.setIndex(o),this.setAttribute("position",new Lt(i,3)),this.setAttribute("uv",new Lt(a,2)),this.computeVertexNormals(),r===Math.PI*2){const u=this.attributes.normal.array,d=new ee,f=new ee,p=new ee,h=t*e.length*3;for(let g=0,v=0;g<e.length;g++,v+=3)d.x=u[v+0],d.y=u[v+1],d.z=u[v+2],f.x=u[h+v+0],f.y=u[h+v+1],f.z=u[h+v+2],p.addVectors(d,f).normalize(),u[v+0]=u[h+v+0]=p.x,u[v+1]=u[h+v+1]=p.y,u[v+2]=u[h+v+2]=p.z}}jw.prototype=Object.create(Ot.prototype);jw.prototype.constructor=jw;function vy(e,t){on.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new by(e,t)),this.mergeVertices()}vy.prototype=Object.create(on.prototype);vy.prototype.constructor=vy;vy.prototype.toJSON=function(){const e=on.prototype.toJSON.call(this),t=this.parameters.shapes;return Sfe(t,e)};function by(e,t){Ot.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],r=[],o=[],i=[];let a=0,s=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;this.setIndex(n),this.setAttribute("position",new Lt(r,3)),this.setAttribute("normal",new Lt(o,3)),this.setAttribute("uv",new Lt(i,2));function l(c){const u=r.length/3,d=c.extractPoints(t);let f=d.shape;const p=d.holes;hp.isClockWise(f)===!1&&(f=f.reverse());for(let g=0,v=p.length;g<v;g++){const m=p[g];hp.isClockWise(m)===!0&&(p[g]=m.reverse())}const h=hp.triangulateShape(f,p);for(let g=0,v=p.length;g<v;g++){const m=p[g];f=f.concat(m)}for(let g=0,v=f.length;g<v;g++){const m=f[g];r.push(m.x,m.y,0),o.push(0,0,1),i.push(m.x,m.y)}for(let g=0,v=h.length;g<v;g++){const m=h[g],b=m[0]+u,x=m[1]+u,y=m[2]+u;n.push(b,x,y),s+=3}}}by.prototype=Object.create(Ot.prototype);by.prototype.constructor=by;by.prototype.toJSON=function(){const e=Ot.prototype.toJSON.call(this),t=this.parameters.shapes;return Sfe(t,e)};function Sfe(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const o=e[n];t.shapes.push(o.uuid)}else t.shapes.push(e.uuid);return t}function uE(e,t){Ot.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const n=[],r=Math.cos(xn.DEG2RAD*t),o=[0,0],i={};let a,s,l;const c=["a","b","c"];let u;e.isBufferGeometry?(u=new on,u.fromBufferGeometry(e)):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();const d=u.vertices,f=u.faces;for(let p=0,h=f.length;p<h;p++){const g=f[p];for(let v=0;v<3;v++)a=g[c[v]],s=g[c[(v+1)%3]],o[0]=Math.min(a,s),o[1]=Math.max(a,s),l=o[0]+","+o[1],i[l]===void 0?i[l]={index1:o[0],index2:o[1],face1:p,face2:void 0}:i[l].face2=p}for(l in i){const p=i[l];if(p.face2===void 0||f[p.face1].normal.dot(f[p.face2].normal)<=r){let h=d[p.index1];n.push(h.x,h.y,h.z),h=d[p.index2],n.push(h.x,h.y,h.z)}}this.setAttribute("position",new Lt(n,3))}uE.prototype=Object.create(Ot.prototype);uE.prototype.constructor=uE;function yy(e,t,n,r,o,i,a,s){on.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:i,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new zd(e,t,n,r,o,i,a,s)),this.mergeVertices()}yy.prototype=Object.create(on.prototype);yy.prototype.constructor=yy;function zd(e,t,n,r,o,i,a,s){Ot.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:o,openEnded:i,thetaStart:a,thetaLength:s};const l=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,r=Math.floor(r)||8,o=Math.floor(o)||1,i=i!==void 0?i:!1,a=a!==void 0?a:0,s=s!==void 0?s:Math.PI*2;const c=[],u=[],d=[],f=[];let p=0;const h=[],g=n/2;let v=0;m(),i===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new Lt(u,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(f,2));function m(){const x=new ee,y=new ee;let w=0;const _=(t-e)/n;for(let S=0;S<=o;S++){const P=[],M=S/o,I=M*(t-e)+e;for(let O=0;O<=r;O++){const L=O/r,R=L*s+a,T=Math.sin(R),E=Math.cos(R);y.x=I*T,y.y=-M*n+g,y.z=I*E,u.push(y.x,y.y,y.z),x.set(T,_,E).normalize(),d.push(x.x,x.y,x.z),f.push(L,1-M),P.push(p++)}h.push(P)}for(let S=0;S<r;S++)for(let P=0;P<o;P++){const M=h[P][S],I=h[P+1][S],O=h[P+1][S+1],L=h[P][S+1];c.push(M,I,L),c.push(I,O,L),w+=6}l.addGroup(v,w,0),v+=w}function b(x){let y,w;const _=new ct,S=new ee;let P=0;const M=x===!0?e:t,I=x===!0?1:-1;y=p;for(let O=1;O<=r;O++)u.push(0,g*I,0),d.push(0,I,0),f.push(.5,.5),p++;w=p;for(let O=0;O<=r;O++){const R=O/r*s+a,T=Math.cos(R),E=Math.sin(R);S.x=M*E,S.y=g*I,S.z=M*T,u.push(S.x,S.y,S.z),d.push(0,I,0),_.x=T*.5+.5,_.y=E*.5*I+.5,f.push(_.x,_.y),p++}for(let O=0;O<r;O++){const L=y+O,R=w+O;x===!0?c.push(R,R+1,L):c.push(R+1,R,L),P+=3}l.addGroup(v,P,x===!0?1:2),v+=P}}zd.prototype=Object.create(Ot.prototype);zd.prototype.constructor=zd;function dE(e,t,n,r,o,i,a){yy.call(this,0,e,t,n,r,o,i,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:i,thetaLength:a}}dE.prototype=Object.create(yy.prototype);dE.prototype.constructor=dE;function zw(e,t,n,r,o,i,a){zd.call(this,0,e,t,n,r,o,i,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:i,thetaLength:a}}zw.prototype=Object.create(zd.prototype);zw.prototype.constructor=zw;function fE(e,t,n,r){on.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Hw(e,t,n,r)),this.mergeVertices()}fE.prototype=Object.create(on.prototype);fE.prototype.constructor=fE;function Hw(e,t,n,r){Ot.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,r=r!==void 0?r:Math.PI*2;const o=[],i=[],a=[],s=[],l=new ee,c=new ct;i.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const f=n+u/t*r;l.x=e*Math.cos(f),l.y=e*Math.sin(f),i.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(i[d]/e+1)/2,c.y=(i[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)o.push(u,u+1,0);this.setIndex(o),this.setAttribute("position",new Lt(i,3)),this.setAttribute("normal",new Lt(a,3)),this.setAttribute("uv",new Lt(s,2))}Hw.prototype=Object.create(Ot.prototype);Hw.prototype.constructor=Hw;var fa=Object.freeze({__proto__:null,WireframeGeometry:YA,ParametricGeometry:ZA,ParametricBufferGeometry:kw,TetrahedronGeometry:JA,TetrahedronBufferGeometry:fy,OctahedronGeometry:eE,OctahedronBufferGeometry:Hm,IcosahedronGeometry:tE,IcosahedronBufferGeometry:Vm,DodecahedronGeometry:nE,DodecahedronBufferGeometry:Rw,PolyhedronGeometry:QA,PolyhedronBufferGeometry:Ds,TubeGeometry:rE,TubeBufferGeometry:py,TorusKnotGeometry:oE,TorusKnotBufferGeometry:Lw,TorusGeometry:iE,TorusBufferGeometry:hy,TextGeometry:aE,TextBufferGeometry:Nw,SphereGeometry:sE,SphereBufferGeometry:gy,RingGeometry:lE,RingBufferGeometry:Bw,PlaneGeometry:Mw,PlaneBufferGeometry:dy,LatheGeometry:cE,LatheBufferGeometry:jw,ShapeGeometry:vy,ShapeBufferGeometry:by,ExtrudeGeometry:my,ExtrudeBufferGeometry:jd,EdgesGeometry:uE,ConeGeometry:dE,ConeBufferGeometry:zw,CylinderGeometry:yy,CylinderBufferGeometry:zd,CircleGeometry:fE,CircleBufferGeometry:Hw,BoxGeometry:Qbt,BoxBufferGeometry:tC});function xy(e){dn.call(this),this.type="ShadowMaterial",this.color=new vt(0),this.transparent=!0,this.setValues(e)}xy.prototype=Object.create(dn.prototype);xy.prototype.constructor=xy;xy.prototype.isShadowMaterial=!0;xy.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this};function kp(e){ni.call(this,e),this.type="RawShaderMaterial"}kp.prototype=Object.create(ni.prototype);kp.prototype.constructor=kp;kp.prototype.isRawShaderMaterial=!0;function Hd(e){dn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}Hd.prototype=Object.create(dn.prototype);Hd.prototype.constructor=Hd;Hd.prototype.isMeshStandardMaterial=!0;Hd.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function wy(e){Hd.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ct(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}wy.prototype=Object.create(Hd.prototype);wy.prototype.constructor=wy;wy.prototype.isMeshPhysicalMaterial=!0;wy.prototype.copy=function(e){return Hd.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new vt).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function Um(e){dn.call(this),this.type="MeshPhongMaterial",this.color=new vt(16777215),this.specular=new vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ik,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Um.prototype=Object.create(dn.prototype);Um.prototype.constructor=Um;Um.prototype.isMeshPhongMaterial=!0;Um.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function _y(e){dn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}_y.prototype=Object.create(dn.prototype);_y.prototype.constructor=_y;_y.prototype.isMeshToonMaterial=!0;_y.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Sy(e){dn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Sy.prototype=Object.create(dn.prototype);Sy.prototype.constructor=Sy;Sy.prototype.isMeshNormalMaterial=!0;Sy.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Cy(e){dn.call(this),this.type="MeshLambertMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ik,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Cy.prototype=Object.create(dn.prototype);Cy.prototype.constructor=Cy;Cy.prototype.isMeshLambertMaterial=!0;Cy.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Py(e){dn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=x0,this.normalScale=new ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Py.prototype=Object.create(dn.prototype);Py.prototype.constructor=Py;Py.prototype.isMeshMatcapMaterial=!0;Py.prototype.copy=function(e){return dn.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function My(e){Ao.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}My.prototype=Object.create(Ao.prototype);My.prototype.constructor=My;My.prototype.isLineDashedMaterial=!0;My.prototype.copy=function(e){return Ao.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var hwt=Object.freeze({__proto__:null,ShadowMaterial:xy,SpriteMaterial:jm,RawShaderMaterial:kp,ShaderMaterial:ni,PointsMaterial:zm,MeshPhysicalMaterial:wy,MeshStandardMaterial:Hd,MeshPhongMaterial:Um,MeshToonMaterial:_y,MeshNormalMaterial:Sy,MeshLambertMaterial:Cy,MeshDepthMaterial:Fm,MeshDistanceMaterial:Nm,MeshBasicMaterial:Cc,MeshMatcapMaterial:Py,LineDashedMaterial:My,LineBasicMaterial:Ao,Material:dn});const to={arraySlice:function(e,t,n){return to.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(o,i){return e[o]-e[i]}const n=e.length,r=new Array(n);for(let o=0;o!==n;++o)r[o]=o;return r.sort(t),r},sortedArray:function(e,t,n){const r=e.length,o=new e.constructor(r);for(let i=0,a=0;a!==r;++i){const s=n[i]*t;for(let l=0;l!==t;++l)o[a++]=e[s+l]}return o},flattenJSON:function(e,t,n,r){let o=1,i=e[0];for(;i!==void 0&&i[r]===void 0;)i=e[o++];if(i===void 0)return;let a=i[r];if(a!==void 0)if(Array.isArray(a))do a=i[r],a!==void 0&&(t.push(i.time),n.push.apply(n,a)),i=e[o++];while(i!==void 0);else if(a.toArray!==void 0)do a=i[r],a!==void 0&&(t.push(i.time),a.toArray(n,n.length)),i=e[o++];while(i!==void 0);else do a=i[r],a!==void 0&&(t.push(i.time),n.push(a)),i=e[o++];while(i!==void 0)},subclip:function(e,t,n,r,o){o=o||30;const i=e.clone();i.name=t;const a=[];for(let l=0;l<i.tracks.length;++l){const c=i.tracks[l],u=c.getValueSize(),d=[],f=[];for(let p=0;p<c.times.length;++p){const h=c.times[p]*o;if(!(h<n||h>=r)){d.push(c.times[p]);for(let g=0;g<u;++g)f.push(c.values[p*u+g])}}d.length!==0&&(c.times=to.convertArray(d,c.times.constructor),c.values=to.convertArray(f,c.values.constructor),a.push(c))}i.tracks=a;let s=1/0;for(let l=0;l<i.tracks.length;++l)s>i.tracks[l].times[0]&&(s=i.tracks[l].times[0]);for(let l=0;l<i.tracks.length;++l)i.tracks[l].shift(-1*s);return i.resetDuration(),i},makeClipAdditive:function(e,t,n,r){t===void 0&&(t=0),n===void 0&&(n=e),(r===void 0||r<=0)&&(r=30);const o=e.tracks.length,i=t/r;for(let a=0;a<o;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(h){return h.name===s.name&&h.ValueTypeName===l});if(c===void 0)continue;const u=s.getValueSize(),d=s.times.length-1;let f;if(i<=s.times[0])f=to.arraySlice(s.values,0,s.valueSize);else if(i>=s.times[d]){const h=d*u;f=to.arraySlice(s.values,h)}else{const h=s.createInterpolant();h.evaluate(i),f=h.resultBuffer}l==="quaternion"&&new Er(f[0],f[1],f[2],f[3]).normalize().conjugate().toArray(f);const p=c.times.length;for(let h=0;h<p;++h){const g=h*u;if(l==="quaternion")Er.multiplyQuaternionsFlat(c.values,g,f,0,c.values,g);else for(let v=0;v<u;++v)c.values[g+v]-=f[v]}}return e.blendMode=efe,e}};function wl(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(wl.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],o=t[n-1];e:{t:{let i;n:{r:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<o)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,o)}if(n===a)break;if(o=r,r=t[++n],e<r)break t}i=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(n=2,o=a);for(let s=n-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===s)break;if(r=o,o=t[--n-1],e>=o)break t}i=n,n=0;break n}break e}for(;n<i;){const a=n+i>>>1;e<t[a]?i=a:n=a+1}if(r=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,o,e)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r;for(let i=0;i!==r;++i)t[i]=n[o+i];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(wl.prototype,{beforeStart_:wl.prototype.copySampleValue_,afterEnd_:wl.prototype.copySampleValue_});function yN(e,t,n,r){wl.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}yN.prototype=Object.assign(Object.create(wl.prototype),{constructor:yN,DefaultSettings_:{endingStart:ly,endingEnd:ly},intervalChanged_:function(e,t,n){let r=this.parameterPositions,o=e-2,i=e+1,a=r[o],s=r[i];if(a===void 0)switch(this.getSettings_().endingStart){case Vv:o=e,a=2*t-n;break;case UA:o=r.length-2,a=t+r[o]-r[o+1];break;default:o=e,a=n}if(s===void 0)switch(this.getSettings_().endingEnd){case Vv:i=e,s=2*n-t;break;case UA:i=1,s=n+r[1]-r[0];break;default:i=e-1,s=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=o*c,this._offsetNext=i*c},interpolate_:function(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),h=p*p,g=h*p,v=-d*g+2*d*h-d*p,m=(1+d)*g+(-1.5-2*d)*h+(-.5+d)*p+1,b=(-1-f)*g+(1.5+f)*h+.5*p,x=f*g-f*h;for(let y=0;y!==a;++y)o[y]=v*i[c+y]+m*i[l+y]+b*i[s+y]+x*i[u+y];return o}});function pE(e,t,n,r){wl.call(this,e,t,n,r)}pE.prototype=Object.assign(Object.create(wl.prototype),{constructor:pE,interpolate_:function(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)o[d]=i[l+d]*u+i[s+d]*c;return o}});function xN(e,t,n,r){wl.call(this,e,t,n,r)}xN.prototype=Object.assign(Object.create(wl.prototype),{constructor:xN,interpolate_:function(e){return this.copySampleValue_(e-1)}});function oa(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=to.convertArray(t,this.TimeBufferType),this.values=to.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}Object.assign(oa,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:to.convertArray(e.times,Array),values:to.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}});Object.assign(oa.prototype,{constructor:oa,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:lM,InterpolantFactoryMethodDiscrete:function(e){return new xN(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new pE(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new yN(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case VA:t=this.InterpolantFactoryMethodDiscrete;break;case lM:t=this.InterpolantFactoryMethodLinear;break;case FL:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return VA;case this.InterpolantFactoryMethodLinear:return lM;case this.InterpolantFactoryMethodSmooth:return FL}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,r=n.length;let o=0,i=r-1;for(;o!==r&&n[o]<e;)++o;for(;i!==-1&&n[i]>t;)--i;if(++i,o!==0||i!==r){o>=i&&(i=Math.max(i,1),o=i-1);const a=this.getValueSize();this.times=to.arraySlice(n,o,i),this.values=to.arraySlice(this.values,o*a,i*a)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,o=n.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let i=null;for(let a=0;a!==o;a++){const s=n[a];if(typeof s=="number"&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(i!==null&&i>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,i),e=!1;break}i=s}if(r!==void 0&&to.isTypedArray(r))for(let a=0,s=r.length;a!==s;++a){const l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e},optimize:function(){const e=to.arraySlice(this.times),t=to.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===FL,o=e.length-1;let i=1;for(let a=1;a<o;++a){let s=!1;const l=e[a],c=e[a+1];if(l!==c&&(a!==1||l!==l[0]))if(r)s=!0;else{const u=a*n,d=u-n,f=u+n;for(let p=0;p!==n;++p){const h=t[u+p];if(h!==t[d+p]||h!==t[f+p]){s=!0;break}}}if(s){if(a!==i){e[i]=e[a];const u=a*n,d=i*n;for(let f=0;f!==n;++f)t[d+f]=t[u+f]}++i}}if(o>0){e[i]=e[o];for(let a=o*n,s=i*n,l=0;l!==n;++l)t[s+l]=t[a+l];++i}return i!==e.length?(this.times=to.arraySlice(e,0,i),this.values=to.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this},clone:function(){const e=to.arraySlice(this.times,0),t=to.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}});function wN(e,t,n){oa.call(this,e,t,n)}wN.prototype=Object.assign(Object.create(oa.prototype),{constructor:wN,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:VA,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function _N(e,t,n,r){oa.call(this,e,t,n,r)}_N.prototype=Object.assign(Object.create(oa.prototype),{constructor:_N,ValueTypeName:"color"});function Vw(e,t,n,r){oa.call(this,e,t,n,r)}Vw.prototype=Object.assign(Object.create(oa.prototype),{constructor:Vw,ValueTypeName:"number"});function SN(e,t,n,r){wl.call(this,e,t,n,r)}SN.prototype=Object.assign(Object.create(wl.prototype),{constructor:SN,interpolate_:function(e,t,n,r){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)Er.slerpFlat(o,0,i,l-a,i,l,s);return o}});function hE(e,t,n,r){oa.call(this,e,t,n,r)}hE.prototype=Object.assign(Object.create(oa.prototype),{constructor:hE,ValueTypeName:"quaternion",DefaultInterpolation:lM,InterpolantFactoryMethodLinear:function(e){return new SN(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function CN(e,t,n,r){oa.call(this,e,t,n,r)}CN.prototype=Object.assign(Object.create(oa.prototype),{constructor:CN,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:VA,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Uw(e,t,n,r){oa.call(this,e,t,n,r)}Uw.prototype=Object.assign(Object.create(oa.prototype),{constructor:Uw,ValueTypeName:"vector"});function oc(e,t,n,r){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=r!==void 0?r:H6,this.uuid=xn.generateUUID(),this.duration<0&&this.resetDuration()}function mwt(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vw;case"vector":case"vector2":case"vector3":case"vector4":return Uw;case"color":return _N;case"quaternion":return hE;case"bool":case"boolean":return wN;case"string":return CN}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function gwt(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=mwt(e.type);if(e.times===void 0){const n=[],r=[];to.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(oc,{parse:function(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,i=n.length;o!==i;++o)t.push(gwt(n[o]).scale(r));return new oc(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,i=n.length;o!==i;++o)t.push(oa.toJSON(n[o]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){const o=t.length,i=[];for(let a=0;a<o;a++){let s=[],l=[];s.push((a+o-1)%o,a,(a+1)%o),l.push(0,1,0);const c=to.getKeyframeOrder(s);s=to.sortedArray(s,1,c),l=to.sortedArray(l,1,c),!r&&s[0]===0&&(s.push(o),l.push(l[0])),i.push(new Vw(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new oc(e,-1,i)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const r={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.name.match(o);if(c&&c.length>1){const u=c[1];let d=r[u];d||(r[u]=d=[]),d.push(l)}}const i=[];for(const a in r)i.push(oc.CreateFromMorphTargetSequence(a,r[a],t,n));return i},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,d,f,p,h){if(f.length!==0){const g=[],v=[];to.flattenJSON(f,g,v,p),g.length!==0&&h.push(new u(d,g,v))}},r=[],o=e.name||"default",i=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const d=l[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const f={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let h=0;h<d[p].morphTargets.length;h++)f[d[p].morphTargets[h]]=-1;for(const h in f){const g=[],v=[];for(let m=0;m!==d[p].morphTargets.length;++m){const b=d[p];g.push(b.time),v.push(b.morphTarget===h?1:0)}r.push(new Vw(".morphTargetInfluence["+h+"]",g,v))}s=f.length*(i||1)}else{const f=".bones["+t[u].name+"]";n(Uw,f+".position",d,"pos",r),n(hE,f+".quaternion",d,"rot",r),n(Uw,f+".scale",d,"scl",r)}}return r.length===0?null:new oc(o,s,r,a)}});Object.assign(oc.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new oc(this.name,this.duration,e,this.blendMode)}});const Ay={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Cfe(e,t,n){const r=this;let o=!1,i=0,a=0,s;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){a++,o===!1&&r.onStart!==void 0&&r.onStart(c,i,a),o=!0},this.itemEnd=function(c){i++,r.onProgress!==void 0&&r.onProgress(c,i,a),i===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return s?s(c):c},this.setURLModifier=function(c){return s=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,d=l.length;u<d;u+=2){const f=l[u],p=l[u+1];if(f.global&&(f.lastIndex=0),f.test(c))return p}return null}}const vwt=new Cfe;function Pr(e){this.manager=e!==void 0?e:vwt,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Pr.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(r,o){n.load(e,r,t,o)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const zl={};function Pu(e){Pr.call(this,e)}Pu.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Pu,load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,i=Ay.get(e);if(i!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(i),o.manager.itemEnd(e)},0),i;if(zl[e]!==void 0){zl[e].push({onLoad:t,onProgress:n,onError:r});return}const a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);let l;if(s){const c=s[1],u=!!s[2];let d=s[3];d=decodeURIComponent(d),u&&(d=atob(d));try{let f;const p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":const h=new Uint8Array(d.length);for(let v=0;v<d.length;v++)h[v]=d.charCodeAt(v);p==="blob"?f=new Blob([h.buffer],{type:c}):f=h.buffer;break;case"document":f=new DOMParser().parseFromString(d,c);break;case"json":f=JSON.parse(d);break;default:f=d;break}setTimeout(function(){t&&t(f),o.manager.itemEnd(e)},0)}catch(f){setTimeout(function(){r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)},0)}}else{zl[e]=[],zl[e].push({onLoad:t,onProgress:n,onError:r}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const u=this.response,d=zl[e];if(delete zl[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ay.add(e,u);for(let f=0,p=d.length;f<p;f++){const h=d[f];h.onLoad&&h.onLoad(u)}o.manager.itemEnd(e)}else{for(let f=0,p=d.length;f<p;f++){const h=d[f];h.onError&&h.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const u=zl[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onProgress&&p.onProgress(c)}},!1),l.addEventListener("error",function(c){const u=zl[e];delete zl[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const u=zl[e];delete zl[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}o.manager.itemError(e),o.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return o.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function Nq(e){Pr.call(this,e)}Nq.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Nq,load:function(e,t,n,r){const o=this,i=new Pu(o.manager);i.setPath(o.path),i.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){r?r(s):console.error(s),o.manager.itemError(e)}},n,r)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const r=oc.parse(e[n]);t.push(r)}return t}});function Bq(e){Pr.call(this,e)}Bq.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Bq,load:function(e,t,n,r){const o=this,i=[],a=new Ow;a.image=i;const s=new Pu(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer");let l=0;function c(u){s.load(e[u],function(d){const f=o.parse(d,!0);i[u]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},l+=1,l===6&&(f.mipmapCount===1&&(a.minFilter=Bo),a.format=f.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(u){const d=o.parse(u,!0);if(d.isCubemap){const f=d.mipmaps.length/d.mipmapCount;for(let p=0;p<f;p++){i[p]={mipmaps:[]};for(let h=0;h<d.mipmapCount;h++)i[p].mipmaps.push(d.mipmaps[p*d.mipmapCount+h]),i[p].format=d.format,i[p].width=d.width,i[p].height=d.height}}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Bo),a.format=d.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}});function jq(e){Pr.call(this,e)}jq.prototype=Object.assign(Object.create(Pr.prototype),{constructor:jq,load:function(e,t,n,r){const o=this,i=new Bd,a=new Pu(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,function(s){const l=o.parse(s);l&&(l.image!==void 0?i.image=l.image:l.data!==void 0&&(i.image.width=l.width,i.image.height=l.height,i.image.data=l.data),i.wrapS=l.wrapS!==void 0?l.wrapS:Xa,i.wrapT=l.wrapT!==void 0?l.wrapT:Xa,i.magFilter=l.magFilter!==void 0?l.magFilter:Bo,i.minFilter=l.minFilter!==void 0?l.minFilter:Bo,i.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(i.format=l.format),l.type!==void 0&&(i.type=l.type),l.mipmaps!==void 0&&(i.mipmaps=l.mipmaps,i.minFilter=ak),l.mipmapCount===1&&(i.minFilter=Bo),i.needsUpdate=!0,t&&t(i,l))},n,r),i}});function Gw(e){Pr.call(this,e)}Gw.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Gw,load:function(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,i=Ay.get(e);if(i!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(i),o.manager.itemEnd(e)},0),i;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),Ay.add(e,this),t&&t(this),o.manager.itemEnd(e)}function l(c){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(c),o.manager.itemError(e),o.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}});function PN(e){Pr.call(this,e)}PN.prototype=Object.assign(Object.create(Pr.prototype),{constructor:PN,load:function(e,t,n,r){const o=new Op,i=new Gw(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);let a=0;function s(l){i.load(e[l],function(c){o.images[l]=c,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let l=0;l<e.length;++l)s(l);return o}});function MN(e){Pr.call(this,e)}MN.prototype=Object.assign(Object.create(Pr.prototype),{constructor:MN,load:function(e,t,n,r){const o=new $r,i=new Gw(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,function(a){o.image=a;const s=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;o.format=s?lm:ns,o.needsUpdate=!0,t!==void 0&&t(o)},n,r),o}});function Jt(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Jt.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),o=0;t.push(0);for(let i=1;i<=e;i++)n=this.getPoint(i/e),o+=n.distanceTo(r),t.push(o),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let r=0,o=n.length,i;t?i=t:i=e*n[o-1];let a=0,s=o-1,l;for(;a<=s;)if(r=Math.floor(a+(s-a)/2),l=n[r]-i,l<0)a=r+1;else if(l>0)s=r-1;else{s=r;break}if(r=s,n[r]===i)return r/(o-1);const c=n[r],d=n[r+1]-c,f=(i-c)/d;return(r+f)/(o-1)},getTangent:function(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const i=this.getPoint(r),a=this.getPoint(o),s=t||(i.isVector2?new ct:new ee);return s.copy(a).sub(i).normalize(),s},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new ee,r=[],o=[],i=[],a=new ee,s=new mt;for(let f=0;f<=e;f++){const p=f/e;r[f]=this.getTangentAt(p,new ee),r[f].normalize()}o[0]=new ee,i[0]=new ee;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],a),i[0].crossVectors(r[0],o[0]);for(let f=1;f<=e;f++){if(o[f]=o[f-1].clone(),i[f]=i[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(xn.clamp(r[f-1].dot(r[f]),-1,1));o[f].applyMatrix4(s.makeRotationAxis(a,p))}i[f].crossVectors(r[f],o[f])}if(t===!0){let f=Math.acos(xn.clamp(o[0].dot(o[e]),-1,1));f/=e,r[0].dot(a.crossVectors(o[0],o[e]))>0&&(f=-f);for(let p=1;p<=e;p++)o[p].applyMatrix4(s.makeRotationAxis(r[p],f*p)),i[p].crossVectors(r[p],o[p])}return{tangents:r,normals:o,binormals:i}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function Ol(e,t,n,r,o,i,a,s){Jt.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=o||0,this.aEndAngle=i||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}Ol.prototype=Object.create(Jt.prototype);Ol.prototype.constructor=Ol;Ol.prototype.isEllipseCurve=!0;Ol.prototype.getPoint=function(e,t){const n=t||new ct,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const i=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(i?o=0:o=r),this.aClockwise===!0&&!i&&(o===r?o=-r:o=o-r);const a=this.aStartAngle+e*o;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=s-this.aX,f=l-this.aY;s=d*c-f*u+this.aX,l=d*u+f*c+this.aY}return n.set(s,l)};Ol.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};Ol.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};Ol.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function Ww(e,t,n,r,o,i){Ol.call(this,e,t,n,n,r,o,i),this.type="ArcCurve"}Ww.prototype=Object.create(Ol.prototype);Ww.prototype.constructor=Ww;Ww.prototype.isArcCurve=!0;function W6(){let e=0,t=0,n=0,r=0;function o(i,a,s,l){e=i,t=s,n=-3*i+3*a-2*s-l,r=2*i-2*a+s+l}return{initCatmullRom:function(i,a,s,l,c){o(a,s,c*(s-i),c*(l-a))},initNonuniformCatmullRom:function(i,a,s,l,c,u,d){let f=(a-i)/c-(s-i)/(c+u)+(s-a)/u,p=(s-a)/u-(l-a)/(u+d)+(l-s)/d;f*=u,p*=u,o(a,s,f,p)},calc:function(i){const a=i*i,s=a*i;return e+t*i+n*a+r*s}}}const U2=new ee,l$=new W6,c$=new W6,u$=new W6;function Fs(e,t,n,r){Jt.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}Fs.prototype=Object.create(Jt.prototype);Fs.prototype.constructor=Fs;Fs.prototype.isCatmullRomCurve3=!0;Fs.prototype.getPoint=function(e,t){const n=t||new ee,r=this.points,o=r.length,i=(o-(this.closed?0:1))*e;let a=Math.floor(i),s=i-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:s===0&&a===o-1&&(a=o-2,s=1);let l,c,u,d;if(this.closed||a>0?l=r[(a-1)%o]:(U2.subVectors(r[0],r[1]).add(r[0]),l=U2),c=r[a%o],u=r[(a+1)%o],this.closed||a+2<o?d=r[(a+2)%o]:(U2.subVectors(r[o-1],r[o-2]).add(r[o-1]),d=U2),this.curveType==="centripetal"||this.curveType==="chordal"){const f=this.curveType==="chordal"?.5:.25;let p=Math.pow(l.distanceToSquared(c),f),h=Math.pow(c.distanceToSquared(u),f),g=Math.pow(u.distanceToSquared(d),f);h<1e-4&&(h=1),p<1e-4&&(p=h),g<1e-4&&(g=h),l$.initNonuniformCatmullRom(l.x,c.x,u.x,d.x,p,h,g),c$.initNonuniformCatmullRom(l.y,c.y,u.y,d.y,p,h,g),u$.initNonuniformCatmullRom(l.z,c.z,u.z,d.z,p,h,g)}else this.curveType==="catmullrom"&&(l$.initCatmullRom(l.x,c.x,u.x,d.x,this.tension),c$.initCatmullRom(l.y,c.y,u.y,d.y,this.tension),u$.initCatmullRom(l.z,c.z,u.z,d.z,this.tension));return n.set(l$.calc(s),c$.calc(s),u$.calc(s)),n};Fs.prototype.copy=function(e){Jt.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Fs.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Fs.prototype.fromJSON=function(e){Jt.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ee().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function zq(e,t,n,r,o){const i=(r-t)*.5,a=(o-n)*.5,s=e*e,l=e*s;return(2*n-2*r+i+a)*l+(-3*n+3*r-2*i-a)*s+i*e+n}function bwt(e,t){const n=1-e;return n*n*t}function ywt(e,t){return 2*(1-e)*e*t}function xwt(e,t){return e*e*t}function Sx(e,t,n,r){return bwt(e,t)+ywt(e,n)+xwt(e,r)}function wwt(e,t){const n=1-e;return n*n*n*t}function _wt(e,t){const n=1-e;return 3*n*n*e*t}function Swt(e,t){return 3*(1-e)*e*e*t}function Cwt(e,t){return e*e*e*t}function Cx(e,t,n,r,o){return wwt(e,t)+_wt(e,n)+Swt(e,r)+Cwt(e,o)}function Mu(e,t,n,r){Jt.call(this),this.type="CubicBezierCurve",this.v0=e||new ct,this.v1=t||new ct,this.v2=n||new ct,this.v3=r||new ct}Mu.prototype=Object.create(Jt.prototype);Mu.prototype.constructor=Mu;Mu.prototype.isCubicBezierCurve=!0;Mu.prototype.getPoint=function(e,t){const n=t||new ct,r=this.v0,o=this.v1,i=this.v2,a=this.v3;return n.set(Cx(e,r.x,o.x,i.x,a.x),Cx(e,r.y,o.y,i.y,a.y)),n};Mu.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Mu.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Mu.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Vd(e,t,n,r){Jt.call(this),this.type="CubicBezierCurve3",this.v0=e||new ee,this.v1=t||new ee,this.v2=n||new ee,this.v3=r||new ee}Vd.prototype=Object.create(Jt.prototype);Vd.prototype.constructor=Vd;Vd.prototype.isCubicBezierCurve3=!0;Vd.prototype.getPoint=function(e,t){const n=t||new ee,r=this.v0,o=this.v1,i=this.v2,a=this.v3;return n.set(Cx(e,r.x,o.x,i.x,a.x),Cx(e,r.y,o.y,i.y,a.y),Cx(e,r.z,o.z,i.z,a.z)),n};Vd.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};Vd.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};Vd.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Ns(e,t){Jt.call(this),this.type="LineCurve",this.v1=e||new ct,this.v2=t||new ct}Ns.prototype=Object.create(Jt.prototype);Ns.prototype.constructor=Ns;Ns.prototype.isLineCurve=!0;Ns.prototype.getPoint=function(e,t){const n=t||new ct;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Ns.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Ns.prototype.getTangent=function(e,t){const n=t||new ct;return n.copy(this.v2).sub(this.v1).normalize(),n};Ns.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ns.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ns.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Au(e,t){Jt.call(this),this.type="LineCurve3",this.v1=e||new ee,this.v2=t||new ee}Au.prototype=Object.create(Jt.prototype);Au.prototype.constructor=Au;Au.prototype.isLineCurve3=!0;Au.prototype.getPoint=function(e,t){const n=t||new ee;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Au.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Au.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Au.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Au.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Eu(e,t,n){Jt.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ct,this.v1=t||new ct,this.v2=n||new ct}Eu.prototype=Object.create(Jt.prototype);Eu.prototype.constructor=Eu;Eu.prototype.isQuadraticBezierCurve=!0;Eu.prototype.getPoint=function(e,t){const n=t||new ct,r=this.v0,o=this.v1,i=this.v2;return n.set(Sx(e,r.x,o.x,i.x),Sx(e,r.y,o.y,i.y)),n};Eu.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Eu.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Eu.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Ud(e,t,n){Jt.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new ee,this.v1=t||new ee,this.v2=n||new ee}Ud.prototype=Object.create(Jt.prototype);Ud.prototype.constructor=Ud;Ud.prototype.isQuadraticBezierCurve3=!0;Ud.prototype.getPoint=function(e,t){const n=t||new ee,r=this.v0,o=this.v1,i=this.v2;return n.set(Sx(e,r.x,o.x,i.x),Sx(e,r.y,o.y,i.y),Sx(e,r.z,o.z,i.z)),n};Ud.prototype.copy=function(e){return Jt.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Ud.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Ud.prototype.fromJSON=function(e){return Jt.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Tu(e){Jt.call(this),this.type="SplineCurve",this.points=e||[]}Tu.prototype=Object.create(Jt.prototype);Tu.prototype.constructor=Tu;Tu.prototype.isSplineCurve=!0;Tu.prototype.getPoint=function(e,t){const n=t||new ct,r=this.points,o=(r.length-1)*e,i=Math.floor(o),a=o-i,s=r[i===0?i:i-1],l=r[i],c=r[i>r.length-2?r.length-1:i+1],u=r[i>r.length-3?r.length-1:i+2];return n.set(zq(a,s.x,l.x,c.x,u.x),zq(a,s.y,l.y,c.y,u.y)),n};Tu.prototype.copy=function(e){Jt.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this};Tu.prototype.toJSON=function(){const e=Jt.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e};Tu.prototype.fromJSON=function(e){Jt.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ct().fromArray(r))}return this};var AN=Object.freeze({__proto__:null,ArcCurve:Ww,CatmullRomCurve3:Fs,CubicBezierCurve:Mu,CubicBezierCurve3:Vd,EllipseCurve:Ol,LineCurve:Ns,LineCurve3:Au,QuadraticBezierCurve:Eu,QuadraticBezierCurve3:Ud,SplineCurve:Tu});function Zf(){Jt.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Zf.prototype=Object.assign(Object.create(Jt.prototype),{constructor:Zf,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ns(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=t){const o=n[r]-t,i=this.curves[r],a=i.getLength(),s=a===0?0:1-o/a;return i.getPointAt(s)}r++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let r=0,o=this.curves;r<o.length;r++){const i=o[r],a=i&&i.isEllipseCurve?e*2:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?e*i.points.length:e,s=i.getPoints(a);for(let l=0;l<s.length;l++){const c=s[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Jt.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Jt.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Jt.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new AN[r.type]().fromJSON(r))}return this}});function su(e){Zf.call(this),this.type="Path",this.currentPoint=new ct,e&&this.setFromPoints(e)}su.prototype=Object.assign(Object.create(Zf.prototype),{constructor:su,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Ns(this.currentPoint.clone(),new ct(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){const o=new Eu(this.currentPoint.clone(),new ct(e,t),new ct(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,o,i){const a=new Mu(this.currentPoint.clone(),new ct(e,t),new ct(n,r),new ct(o,i));return this.curves.push(a),this.currentPoint.set(o,i),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Tu(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,o,i){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,o,i),this},absarc:function(e,t,n,r,o,i){return this.absellipse(e,t,n,n,r,o,i),this},ellipse:function(e,t,n,r,o,i,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,o,i,a,s),this},absellipse:function(e,t,n,r,o,i,a,s){const l=new Ol(e,t,n,r,o,i,a,s);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Zf.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Zf.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Zf.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function um(e){su.call(this,e),this.uuid=xn.generateUUID(),this.type="Shape",this.holes=[]}um.prototype=Object.assign(Object.create(su.prototype),{constructor:um,getPointsHoles:function(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){su.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){const e=su.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){su.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new su().fromJSON(r))}return this}});function Wr(e,t){Tt.call(this),this.type="Light",this.color=new vt(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}Wr.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Wr,isLight:!0,copy:function(e){return Tt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Tt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function EN(e,t,n){Wr.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Tt.DefaultUp),this.updateMatrix(),this.groundColor=new vt(t)}EN.prototype=Object.assign(Object.create(Wr.prototype),{constructor:EN,isHemisphereLight:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function Gd(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ct(512,512),this.map=null,this.mapPass=null,this.matrix=new mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new nC,this._frameExtents=new ct(1,1),this._viewportCount=1,this._viewports=[new _r(0,0,1,1)]}Object.assign(Gd.prototype,{_projScreenMatrix:new mt,_lightPositionWorld:new ee,_lookTarget:new ee,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,r=this._projScreenMatrix,o=this._lookTarget,i=this._lightPositionWorld;i.setFromMatrixPosition(e.matrixWorld),t.position.copy(i),o.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(o),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function TN(){Gd.call(this,new Do(50,1,.5,500))}TN.prototype=Object.assign(Object.create(Gd.prototype),{constructor:TN,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=xn.RAD2DEG*2*e.angle,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(n!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=r,t.far=o,t.updateProjectionMatrix()),Gd.prototype.updateMatrices.call(this,e)}});function mE(e,t,n,r,o,i){Wr.call(this,e,t),this.type="SpotLight",this.position.copy(Tt.DefaultUp),this.updateMatrix(),this.target=new Tt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=r!==void 0?r:Math.PI/3,this.penumbra=o!==void 0?o:0,this.decay=i!==void 0?i:1,this.shadow=new TN}mE.prototype=Object.assign(Object.create(Wr.prototype),{constructor:mE,isSpotLight:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function ON(){Gd.call(this,new Do(90,1,.5,500)),this._frameExtents=new ct(4,2),this._viewportCount=6,this._viewports=[new _r(2,1,1,1),new _r(0,1,1,1),new _r(3,1,1,1),new _r(1,1,1,1),new _r(3,0,1,1),new _r(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}ON.prototype=Object.assign(Object.create(Gd.prototype),{constructor:ON,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,r=this.matrix,o=this._lightPositionWorld,i=this._lookTarget,a=this._projScreenMatrix;o.setFromMatrixPosition(e.matrixWorld),n.position.copy(o),i.copy(n.position),i.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(i),n.updateMatrixWorld(),r.makeTranslation(-o.x,-o.y,-o.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}});function IN(e,t,n,r){Wr.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(o){this.intensity=o/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=r!==void 0?r:1,this.shadow=new ON}IN.prototype=Object.assign(Object.create(Wr.prototype),{constructor:IN,isPointLight:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function Rp(e,t,n,r,o,i){Nd.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=r!==void 0?r:-1,this.near=o!==void 0?o:.1,this.far=i!==void 0?i:2e3,this.updateProjectionMatrix()}Rp.prototype=Object.assign(Object.create(Nd.prototype),{constructor:Rp,isOrthographicCamera:!0,copy:function(e,t){return Nd.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,o,i){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-e,i=n+e,a=r+t,s=r-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,i=o+l*this.view.width,a-=c*this.view.offsetY,s=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,i,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Tt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function kN(){Gd.call(this,new Rp(-5,5,5,-5,.5,500))}kN.prototype=Object.assign(Object.create(Gd.prototype),{constructor:kN,isDirectionalLightShadow:!0,updateMatrices:function(e){Gd.prototype.updateMatrices.call(this,e)}});function RN(e,t){Wr.call(this,e,t),this.type="DirectionalLight",this.position.copy(Tt.DefaultUp),this.updateMatrix(),this.target=new Tt,this.shadow=new kN}RN.prototype=Object.assign(Object.create(Wr.prototype),{constructor:RN,isDirectionalLight:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function gE(e,t){Wr.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}gE.prototype=Object.assign(Object.create(Wr.prototype),{constructor:gE,isAmbientLight:!0});function LN(e,t,n,r){Wr.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=r!==void 0?r:10}LN.prototype=Object.assign(Object.create(Wr.prototype),{constructor:LN,isRectAreaLight:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Wr.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function q6(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}Object.assign(q6.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,r=e.y,o=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*r),t.addScaledVector(i[2],.488603*o),t.addScaledVector(i[3],.488603*n),t.addScaledVector(i[4],1.092548*(n*r)),t.addScaledVector(i[5],1.092548*(r*o)),t.addScaledVector(i[6],.315392*(3*o*o-1)),t.addScaledVector(i[7],1.092548*(n*o)),t.addScaledVector(i[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){const n=e.x,r=e.y,o=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],2*.511664*r),t.addScaledVector(i[2],2*.511664*o),t.addScaledVector(i[3],2*.511664*n),t.addScaledVector(i[4],2*.429043*n*r),t.addScaledVector(i[5],2*.429043*r*o),t.addScaledVector(i[6],.743125*o*o-.247708),t.addScaledVector(i[7],2*.429043*n*o),t.addScaledVector(i[8],.429043*(n*n-r*r)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}});Object.assign(q6,{getBasisAt:function(e,t){const n=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-r*r)}});function hc(e,t){Wr.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new q6}hc.prototype=Object.assign(Object.create(Wr.prototype),{constructor:hc,isLightProbe:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Wr.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function $N(e){Pr.call(this,e),this.textures={}}$N.prototype=Object.assign(Object.create(Pr.prototype),{constructor:$N,load:function(e,t,n,r){const o=this,i=new Pu(o.manager);i.setPath(o.path),i.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){r?r(s):console.error(s),o.manager.itemError(e)}},n,r)},parse:function(e){const t=this.textures;function n(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=new hwt[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=new vt().setHex(e.sheen)),e.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular.setHex(e.specular),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(r.skinning=e.skinning),e.morphTargets!==void 0&&(r.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(r.morphNormals=e.morphNormals),e.dithering!==void 0&&(r.dithering=e.dithering),e.vertexTangents!==void 0&&(r.vertexTangents=e.vertexTangents),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const i=e.uniforms[o];switch(r.uniforms[o]={},i.type){case"t":r.uniforms[o].value=n(i.value);break;case"c":r.uniforms[o].value=new vt().setHex(i.value);break;case"v2":r.uniforms[o].value=new ct().fromArray(i.value);break;case"v3":r.uniforms[o].value=new ee().fromArray(i.value);break;case"v4":r.uniforms[o].value=new _r().fromArray(i.value);break;case"m3":r.uniforms[o].value=new Li().fromArray(i.value);case"m4":r.uniforms[o].value=new mt().fromArray(i.value);break;default:r.uniforms[o].value=i.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new ct().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ct().fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});const Pfe={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function vE(){Ot.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}vE.prototype=Object.assign(Object.create(Ot.prototype),{constructor:vE,isInstancedBufferGeometry:!0,copy:function(e){return Ot.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=Ot.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function DN(e,t,n,r){typeof n=="number"&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ht.call(this,e,t,n),this.meshPerAttribute=r||1}DN.prototype=Object.assign(Object.create(Ht.prototype),{constructor:DN,isInstancedBufferAttribute:!0,copy:function(e){return Ht.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Ht.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function FN(e){Pr.call(this,e)}FN.prototype=Object.assign(Object.create(Pr.prototype),{constructor:FN,load:function(e,t,n,r){const o=this,i=new Pu(o.manager);i.setPath(o.path),i.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(s){r?r(s):console.error(s),o.manager.itemError(e)}},n,r)},parse:function(e){const t={},n={};function r(f,p){if(t[p]!==void 0)return t[p];const g=f.interleavedBuffers[p],v=o(f,g.buffer),m=new G2[g.type](v),b=new vl(m,g.stride);return b.uuid=g.uuid,t[p]=b,b}function o(f,p){if(n[p]!==void 0)return n[p];const g=f.arrayBuffers[p],v=new Uint32Array(g).buffer;return n[p]=v,v}const i=e.isInstancedBufferGeometry?new vE:new Ot,a=e.data.index;if(a!==void 0){const f=new G2[a.type](a.array);i.setIndex(new Ht(f,1))}const s=e.data.attributes;for(const f in s){const p=s[f];let h;if(p.isInterleavedBufferAttribute){const g=r(e.data,p.data);h=new Bm(g,p.itemSize,p.offset,p.normalized)}else{const g=new G2[p.type](p.array),v=p.isInstancedBufferAttribute?DN:Ht;h=new v(g,p.itemSize,p.normalized)}p.name!==void 0&&(h.name=p.name),i.setAttribute(f,h)}const l=e.data.morphAttributes;if(l)for(const f in l){const p=l[f],h=[];for(let g=0,v=p.length;g<v;g++){const m=p[g];let b;if(m.isInterleavedBufferAttribute){const x=r(e.data,m.data);b=new Bm(x,m.itemSize,m.offset,m.normalized)}else{const x=new G2[m.type](m.array);b=new Ht(x,m.itemSize,m.normalized)}m.name!==void 0&&(b.name=m.name),h.push(b)}i.morphAttributes[f]=h}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let f=0,p=u.length;f!==p;++f){const h=u[f];i.addGroup(h.start,h.count,h.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const f=new ee;d.center!==void 0&&f.fromArray(d.center),i.boundingSphere=new nf(f,d.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});const G2={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function NN(e){Pr.call(this,e)}NN.prototype=Object.assign(Object.create(Pr.prototype),{constructor:NN,load:function(e,t,n,r){const o=this,i=this.path===""?Pfe.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Pu(o.manager);a.setPath(this.path),a.load(e,function(s){let l=null;try{l=JSON.parse(s)}catch(u){r!==void 0&&r(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(l,t)},n,r)},parse:function(e,t){const n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),o=this.parseImages(e.images,function(){t!==void 0&&t(s)}),i=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,i),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(s),s},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const o=new um().fromJSON(e[n]);t[o.uuid]=o}return t},parseGeometries:function(e,t){const n={};let r;if(e!==void 0){const o=new FN;for(let i=0,a=e.length;i<a;i++){let s;const l=e[i];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new fa[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new fa[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new fa[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new fa[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new fa[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new fa[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new fa[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new fa[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new fa[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new fa[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new fa[l.type](new AN[l.path.type]().fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new fa[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new fa[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let u=0,d=l.shapes.length;u<d;u++){const f=t[l.shapes[u]];r.push(f)}s=new fa[l.type](r,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let u=0,d=l.shapes.length;u<d;u++){const f=t[l.shapes[u]];r.push(f)}const c=l.options.extrudePath;c!==void 0&&(l.options.extrudePath=new AN[c.type]().fromJSON(c)),s=new fa[l.type](r,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=o.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),s.isBufferGeometry===!0&&l.userData!==void 0&&(s.userData=l.userData),n[l.uuid]=s}}return n},parseMaterials:function(e,t){const n={},r={};if(e!==void 0){const o=new $N;o.setTextures(t);for(let i=0,a=e.length;i<a;i++){const s=e[i];if(s.type==="MultiMaterial"){const l=[];for(let c=0;c<s.materials.length;c++){const u=s.materials[c];n[u.uuid]===void 0&&(n[u.uuid]=o.parse(u)),l.push(n[u.uuid])}r[s.uuid]=l}else n[s.uuid]===void 0&&(n[s.uuid]=o.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],o=oc.parse(r);r.uuid!==void 0&&(o.uuid=r.uuid),t.push(o)}return t},parseImages:function(e,t){const n=this,r={};let o;function i(a){return n.manager.itemStart(a),o.load(a,function(){n.manager.itemEnd(a)},void 0,function(){n.manager.itemError(a),n.manager.itemEnd(a)})}if(e!==void 0&&e.length>0){const a=new Cfe(t);o=new Gw(a),o.setCrossOrigin(this.crossOrigin);for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.url;if(Array.isArray(u)){r[c.uuid]=[];for(let d=0,f=u.length;d<f;d++){const p=u[d],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;r[c.uuid].push(i(h))}}else{const d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(d)}}}return r},parseTextures:function(e,t){function n(o,i){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),i[o])}const r={};if(e!==void 0)for(let o=0,i=e.length;o<i;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let s;Array.isArray(t[a.image])?s=new Op(t[a.image]):s=new $r(t[a.image]),s.needsUpdate=!0,s.uuid=a.uuid,a.name!==void 0&&(s.name=a.name),a.mapping!==void 0&&(s.mapping=n(a.mapping,Pwt)),a.offset!==void 0&&s.offset.fromArray(a.offset),a.repeat!==void 0&&s.repeat.fromArray(a.repeat),a.center!==void 0&&s.center.fromArray(a.center),a.rotation!==void 0&&(s.rotation=a.rotation),a.wrap!==void 0&&(s.wrapS=n(a.wrap[0],Hq),s.wrapT=n(a.wrap[1],Hq)),a.format!==void 0&&(s.format=a.format),a.type!==void 0&&(s.type=a.type),a.encoding!==void 0&&(s.encoding=a.encoding),a.minFilter!==void 0&&(s.minFilter=n(a.minFilter,Vq)),a.magFilter!==void 0&&(s.magFilter=n(a.magFilter,Vq)),a.anisotropy!==void 0&&(s.anisotropy=a.anisotropy),a.flipY!==void 0&&(s.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(s.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(s.unpackAlignment=a.unpackAlignment),r[a.uuid]=s}return r},parseObject:function(e,t,n){let r;function o(l){return t[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",l),t[l]}function i(l){if(l!==void 0){if(Array.isArray(l)){const c=[];for(let u=0,d=l.length;u<d;u++){const f=l[u];n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),c.push(n[f])}return c}return n[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",l),n[l]}}let a,s;switch(e.type){case"Scene":r=new cy,e.background!==void 0&&Number.isInteger(e.background)&&(r.background=new vt(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?r.fog=new qA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(r.fog=new uN(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Do(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(r.focus=e.focus),e.zoom!==void 0&&(r.zoom=e.zoom),e.filmGauge!==void 0&&(r.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(r.filmOffset=e.filmOffset),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Rp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(r.zoom=e.zoom),e.view!==void 0&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new gE(e.color,e.intensity);break;case"DirectionalLight":r=new RN(e.color,e.intensity);break;case"PointLight":r=new IN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new LN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new mE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new EN(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=new hc().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":a=o(e.geometry),s=i(e.material),r=new Lr(a,s);break;case"InstancedMesh":a=o(e.geometry),s=i(e.material);const l=e.count,c=e.instanceMatrix;r=new hN(a,s,l),r.instanceMatrix=new Ht(new Float32Array(c.array),16);break;case"LOD":r=new XA;break;case"Line":r=new Tl(o(e.geometry),i(e.material),e.mode);break;case"LineLoop":r=new mN(o(e.geometry),i(e.material));break;case"LineSegments":r=new uo(o(e.geometry),i(e.material));break;case"PointCloud":case"Points":r=new Tw(o(e.geometry),i(e.material));break;case"Sprite":r=new dN(i(e.material));break;case"Group":r=new xr;break;default:r=new Tt}if(r.uuid=e.uuid,e.name!==void 0&&(r.name=e.name),e.matrix!==void 0?(r.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(e.position!==void 0&&r.position.fromArray(e.position),e.rotation!==void 0&&r.rotation.fromArray(e.rotation),e.quaternion!==void 0&&r.quaternion.fromArray(e.quaternion),e.scale!==void 0&&r.scale.fromArray(e.scale)),e.castShadow!==void 0&&(r.castShadow=e.castShadow),e.receiveShadow!==void 0&&(r.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(r.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(r.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(r.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&r.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(r.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(r.visible=e.visible),e.frustumCulled!==void 0&&(r.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(r.renderOrder=e.renderOrder),e.userData!==void 0&&(r.userData=e.userData),e.layers!==void 0&&(r.layers.mask=e.layers),e.children!==void 0){const l=e.children;for(let c=0;c<l.length;c++)r.add(this.parseObject(l[c],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(r.autoUpdate=e.autoUpdate);const l=e.levels;for(let c=0;c<l.length;c++){const u=l[c],d=r.getObjectByProperty("uuid",u.object);d!==void 0&&r.addLevel(d,u.distance)}}return r}});const Pwt={UVMapping:F6,CubeReflectionMapping:N6,CubeRefractionMapping:B6,EquirectangularReflectionMapping:Qde,EquirectangularRefractionMapping:j6,CubeUVReflectionMapping:JS,CubeUVRefractionMapping:z6},Hq={RepeatWrapping:BA,ClampToEdgeWrapping:Xa,MirroredRepeatWrapping:jA},Vq={NearestFilter:Mr,NearestMipmapNearestFilter:eN,NearestMipmapLinearFilter:tN,LinearFilter:Bo,LinearMipmapNearestFilter:Jde,LinearMipmapLinearFilter:ak};function Uq(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Pr.call(this,e),this.options={premultiplyAlpha:"none"}}Uq.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Uq,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,i=Ay.get(e);if(i!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(i),o.manager.itemEnd(e)},0),i;fetch(e).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,o.options)}).then(function(a){Ay.add(e,a),t&&t(a),o.manager.itemEnd(e)}).catch(function(a){r&&r(a),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}});function Mfe(){this.type="ShapePath",this.color=new vt,this.subPaths=[],this.currentPath=null}Object.assign(Mfe.prototype,{moveTo:function(e,t){return this.currentPath=new su,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,o,i){return this.currentPath.bezierCurveTo(e,t,n,r,o,i),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(m){const b=[];for(let x=0,y=m.length;x<y;x++){const w=m[x],_=new um;_.curves=w.curves,b.push(_)}return b}function r(m,b){const x=b.length;let y=!1;for(let w=x-1,_=0;_<x;w=_++){let S=b[w],P=b[_],M=P.x-S.x,I=P.y-S.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(S=b[_],M=-M,P=b[w],I=-I),m.y<S.y||m.y>P.y)continue;if(m.y===S.y){if(m.x===S.x)return!0}else{const O=I*(m.x-S.x)-M*(m.y-S.y);if(O===0)return!0;if(O<0)continue;y=!y}}else{if(m.y!==S.y)continue;if(P.x<=m.x&&m.x<=S.x||S.x<=m.x&&m.x<=P.x)return!0}}return y}const o=hp.isClockWise,i=this.subPaths;if(i.length===0)return[];if(t===!0)return n(i);let a,s,l,c=[];if(i.length===1)return s=i[0],l=new um,l.curves=s.curves,c.push(l),c;let u=!o(i[0].getPoints());u=e?!u:u;const d=[],f=[];let p=[],h=0,g;f[h]=void 0,p[h]=[];for(let m=0,b=i.length;m<b;m++)s=i[m],g=s.getPoints(),a=o(g),a=e?!a:a,a?(!u&&f[h]&&h++,f[h]={s:new um,p:g},f[h].s.curves=s.curves,u&&h++,p[h]=[]):p[h].push({h:s,p:g[0]});if(!f[0])return n(i);if(f.length>1){let m=!1;const b=[];for(let x=0,y=f.length;x<y;x++)d[x]=[];for(let x=0,y=f.length;x<y;x++){const w=p[x];for(let _=0;_<w.length;_++){const S=w[_];let P=!0;for(let M=0;M<f.length;M++)r(S.p,f[M].p)&&(x!==M&&b.push({froms:x,tos:M,hole:_}),P?(P=!1,d[M].push(S)):m=!0);P&&d[x].push(S)}}b.length>0&&(m||(p=d))}let v;for(let m=0,b=f.length;m<b;m++){l=f[m].s,c.push(l),v=p[m];for(let x=0,y=v.length;x<y;x++)l.holes.push(v[x].h)}return c}});function Afe(e){this.type="Font",this.data=e}Object.assign(Afe.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],r=Mwt(e,t,this.data);for(let o=0,i=r.length;o<i;o++)Array.prototype.push.apply(n,r[o].toShapes());return n}});function Mwt(e,t,n){const r=Array.from?Array.from(e):String(e).split(""),o=t/n.resolution,i=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,a=[];let s=0,l=0;for(let c=0;c<r.length;c++){const u=r[c];if(u===`
`)s=0,l-=i;else{const d=Awt(u,o,s,l,n);s+=d.offsetX,a.push(d.path)}}return a}function Awt(e,t,n,r,o){const i=o.glyphs[e]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+e+'" does not exists in font family '+o.familyName+".");return}const a=new Mfe;let s,l,c,u,d,f,p,h;if(i.o){const g=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let v=0,m=g.length;v<m;)switch(g[v++]){case"m":s=g[v++]*t+n,l=g[v++]*t+r,a.moveTo(s,l);break;case"l":s=g[v++]*t+n,l=g[v++]*t+r,a.lineTo(s,l);break;case"q":c=g[v++]*t+n,u=g[v++]*t+r,d=g[v++]*t+n,f=g[v++]*t+r,a.quadraticCurveTo(d,f,c,u);break;case"b":c=g[v++]*t+n,u=g[v++]*t+r,d=g[v++]*t+n,f=g[v++]*t+r,p=g[v++]*t+n,h=g[v++]*t+r,a.bezierCurveTo(d,f,p,h,c,u);break}}return{offsetX:i.ha*t,path:a}}function Gq(e){Pr.call(this,e)}Gq.prototype=Object.assign(Object.create(Pr.prototype),{constructor:Gq,load:function(e,t,n,r){const o=this,i=new Pu(this.manager);i.setPath(this.path),i.load(e,function(a){let s;try{s=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),s=JSON.parse(a.substring(65,a.length-2))}const l=o.parse(s);t&&t(l)},n,r)},parse:function(e){return new Afe(e)}});let W2;const Efe={getContext:function(){return W2===void 0&&(W2=new(window.AudioContext||window.webkitAudioContext)),W2},setContext:function(e){W2=e}};function BN(e){Pr.call(this,e)}BN.prototype=Object.assign(Object.create(Pr.prototype),{constructor:BN,load:function(e,t,n,r){const o=this,i=new Pu(o.manager);i.setResponseType("arraybuffer"),i.setPath(o.path),i.load(e,function(a){try{const s=a.slice(0);Efe.getContext().decodeAudioData(s,function(c){t(c)})}catch(s){r?r(s):console.error(s),o.manager.itemError(e)}},n,r)}});function Wq(e,t,n){hc.call(this,void 0,n);const r=new vt().set(e),o=new vt().set(t),i=new ee(r.r,r.g,r.b),a=new ee(o.r,o.g,o.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(i).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(i).sub(a).multiplyScalar(l)}Wq.prototype=Object.assign(Object.create(hc.prototype),{constructor:Wq,isHemisphereLightProbe:!0,copy:function(e){return hc.prototype.copy.call(this,e),this},toJSON:function(e){return hc.prototype.toJSON.call(this,e)}});function qq(e,t){hc.call(this,void 0,t);const n=new vt().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}qq.prototype=Object.assign(Object.create(hc.prototype),{constructor:qq,isAmbientLightProbe:!0,copy:function(e){return hc.prototype.copy.call(this,e),this},toJSON:function(e){return hc.prototype.toJSON.call(this,e)}});const Xq=new mt,Kq=new mt;function Tfe(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Do,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Do,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(Tfe.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),o=t.eyeSep/2,i=o*t.near/t.focus,a=t.near*Math.tan(xn.DEG2RAD*t.fov*.5)/t.zoom;let s,l;Kq.elements[12]=-o,Xq.elements[12]=o,s=-a*t.aspect+i,l=a*t.aspect+i,r.elements[0]=2*t.near/(l-s),r.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(r),s=-a*t.aspect-i,l=a*t.aspect-i,r.elements[0]=2*t.near/(l-s),r.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Kq),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Xq)}});function Ofe(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Ofe.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const hh=new ee,Yq=new Er,Ewt=new ee,mh=new ee;function Zq(){Tt.call(this),this.type="AudioListener",this.context=Efe.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ofe}Zq.prototype=Object.assign(Object.create(Tt.prototype),{constructor:Zq,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Tt.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hh,Yq,Ewt),mh.set(0,0,-1).applyQuaternion(Yq),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hh.x,r),t.positionY.linearRampToValueAtTime(hh.y,r),t.positionZ.linearRampToValueAtTime(hh.z,r),t.forwardX.linearRampToValueAtTime(mh.x,r),t.forwardY.linearRampToValueAtTime(mh.y,r),t.forwardZ.linearRampToValueAtTime(mh.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(hh.x,hh.y,hh.z),t.setOrientation(mh.x,mh.y,mh.z,n.x,n.y,n.z)}});function qw(e){Tt.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}qw.prototype=Object.assign(Object.create(Tt.prototype),{constructor:qw,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const gh=new ee,Qq=new Er,Twt=new ee,vh=new ee;function Jq(e){qw.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}Jq.prototype=Object.assign(Object.create(qw.prototype),{constructor:Jq,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Tt.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gh,Qq,Twt),vh.set(0,0,1).applyQuaternion(Qq);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gh.x,n),t.positionY.linearRampToValueAtTime(gh.y,n),t.positionZ.linearRampToValueAtTime(gh.z,n),t.orientationX.linearRampToValueAtTime(vh.x,n),t.orientationY.linearRampToValueAtTime(vh.y,n),t.orientationZ.linearRampToValueAtTime(vh.z,n)}else t.setPosition(gh.x,gh.y,gh.z),t.setOrientation(vh.x,vh.y,vh.z)}});function Ife(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(Ife.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}});function kfe(e,t,n){this.binding=e,this.valueSize=n;let r,o,i;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,i=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,i=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,o=this._lerpAdditive,i=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=i,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(kfe.prototype,{accumulate:function(e,t){const n=this.buffer,r=this.valueSize,o=e*r+r;let i=this.cumulativeWeight;if(i===0){for(let a=0;a!==r;++a)n[o+a]=n[a];i=t}else{i+=t;const a=t/i;this._mixBufferRegion(n,o,0,a,r)}this.cumulativeWeight=i},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,r=e*t+t,o=this.cumulativeWeight,i=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-o,t)}i>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let o=n,i=r;o!==i;++o)t[o]=t[r+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,o){if(r>=.5)for(let i=0;i!==o;++i)e[t+i]=e[n+i]},_slerp:function(e,t,n,r){Er.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,o){const i=this._workIndex*o;Er.multiplyQuaternionsFlat(e,i,e,t,e,n),Er.slerpFlat(e,t,e,t,e,i,r)},_lerp:function(e,t,n,r,o){const i=1-r;for(let a=0;a!==o;++a){const s=t+a;e[s]=e[s]*i+e[n+a]*r}},_lerpAdditive:function(e,t,n,r,o){for(let i=0;i!==o;++i){const a=t+i;e[a]=e[a]+e[n+i]*r}}});const X6="\\[\\]\\.:\\/",Owt=new RegExp("["+X6+"]","g"),K6="[^"+X6+"]",Iwt="[^"+X6.replace("\\.","")+"]",kwt=/((?:WC+[\/:])*)/.source.replace("WC",K6),Rwt=/(WCOD+)?/.source.replace("WCOD",Iwt),Lwt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",K6),$wt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",K6),Dwt=new RegExp("^"+kwt+Rwt+Lwt+$wt+"$"),Fwt=["material","materials","bones"];function Rfe(e,t,n){const r=n||_a.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}Object.assign(Rfe.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function _a(e,t,n){this.path=t,this.parsedPath=n||_a.parseTrackName(t),this.node=_a.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(_a,{Composite:Rfe,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new _a.Composite(e,t,n):new _a(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Owt,"")},parseTrackName:function(e){const t=Dwt.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=n.nodeName.substring(r+1);Fwt.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let i=0;i<o.length;i++){const a=o[i];if(a.name===t||a.uuid===t)return a;const s=n(a.children);if(s)return s}return null},r=n(e.children);if(r)return r}return null}});Object.assign(_a.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const r=this.resolvedProperty;for(let o=0,i=r.length;o!==i;++o)t[n++]=r[o]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const r=this.resolvedProperty;for(let o=0,i=r.length;o!==i;++o)r[o]=t[n++]},function(t,n){const r=this.resolvedProperty;for(let o=0,i=r.length;o!==i;++o)r[o]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const r=this.resolvedProperty;for(let o=0,i=r.length;o!==i;++o)r[o]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,o=t.propertyIndex;if(e||(e=_a.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const i=e[r];if(i===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}s=this.BindingType.ArrayElement,this.resolvedProperty=i,this.propertyIndex=o}else i.fromArray!==void 0&&i.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=i):Array.isArray(i)?(s=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(_a.prototype,{_getValue_unbound:_a.prototype.getValue,_setValue_unbound:_a.prototype.setValue});function Nwt(){this.uuid=xn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(Nwt.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,i=o.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const d=arguments[c],f=d.uuid;let p=t[f];if(p===void 0){p=s++,t[f]=p,e.push(d);for(let h=0,g=i;h!==g;++h)o[h].push(new _a(d,n[h],r[h]))}else if(p<l){a=e[p];const h=--l,g=e[h];t[g.uuid]=p,e[p]=g,t[f]=h,e[h]=d;for(let v=0,m=i;v!==m;++v){const b=o[v],x=b[h];let y=b[p];b[p]=x,y===void 0&&(y=new _a(d,n[v],r[v])),b[h]=y}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let i=0,a=arguments.length;i!==a;++i){const s=arguments[i],l=s.uuid,c=t[l];if(c!==void 0&&c>=o){const u=o++,d=e[u];t[d.uuid]=c,e[c]=d,t[l]=u,e[u]=s;for(let f=0,p=r;f!==p;++f){const h=n[f],g=h[u],v=h[c];h[c]=g,h[u]=v}}}this.nCachedObjects_=o},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,i=e.length;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<o){const d=--o,f=e[d],p=--i,h=e[p];t[f.uuid]=u,e[u]=f,t[h.uuid]=d,e[d]=h,e.pop();for(let g=0,v=r;g!==v;++g){const m=n[g],b=m[d],x=m[p];m[u]=b,m[d]=x,m.pop()}}else{const d=--i,f=e[d];t[f.uuid]=u,e[u]=f,e.pop();for(let p=0,h=r;p!==h;++p){const g=n[p];g[u]=g[d],g.pop()}}}this.nCachedObjects_=o},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,r=n[e],o=this._bindings;if(r!==void 0)return o[r];const i=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=o.length,n[e]=r,i.push(e),a.push(t),o.push(u);for(let d=c,f=s.length;d!==f;++d){const p=s[d];u[d]=new _a(p,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,o=this._parsedPaths,i=this._bindings,a=i.length-1,s=i[a],l=e[a];t[l]=n,i[n]=s,i.pop(),o[n]=o[a],o.pop(),r[n]=r[a],r.pop()}}});function Lfe(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;const o=t.tracks,i=o.length,a=new Array(i),s={endingStart:ly,endingEnd:ly};for(let l=0;l!==i;++l){const c=o[l].createInterpolant(null);a[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Obt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(Lfe.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const r=this._clip.duration,o=e._clip.duration,i=o/r,a=r/o;e.warp(1,i,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const r=this._mixer,o=r.time,i=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,s[1]=o+n,l[0]=e/i,l[1]=t/i,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const s=(e-o)*n;if(s<0||n===0)return;this._startTime=null,t=n*s}t*=this._updateTimeScale(e);const i=this._updateTime(t),a=this._updateWeight(e);if(a>0){const s=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case efe:for(let c=0,u=s.length;c!==u;++c)s[c].evaluate(i),l[c].accumulateAdditive(a);break;case H6:default:for(let c=0,u=s.length;c!==u;++c)s[c].evaluate(i),l[c].accumulate(r,a)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,o=this._loopCount;const i=n===Ibt;if(e===0)return o===-1?r:i&&(o&1)===1?t-r:r;if(n===Tbt){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,i)):this._setEndings(this.repetitions===0,!0,i)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,o+=Math.abs(a);const s=this.repetitions-o;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(s===1){const l=e<0;this._setEndings(l,!l,i)}else this._setEndings(!1,!1,i);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(i&&(o&1)===1)return t-r}return r},_setEndings:function(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Vv,r.endingEnd=Vv):(e?r.endingStart=this.zeroSlopeAtStart?Vv:ly:r.endingStart=UA,t?r.endingEnd=this.zeroSlopeAtEnd?Vv:ly:r.endingEnd=UA)},_scheduleFading:function(e,t,n){const r=this._mixer,o=r.time;let i=this._weightInterpolant;i===null&&(i=r._lendControlInterpolant(),this._weightInterpolant=i);const a=i.parameterPositions,s=i.sampleValues;return a[0]=o,s[0]=t,a[1]=o+e,s[1]=n,this}});function eX(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}eX.prototype=Object.assign(Object.create(tf.prototype),{constructor:eX,_bindAction:function(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,o=r.length,i=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];c===void 0&&(c={},l[s]=c);for(let u=0;u!==o;++u){const d=r[u],f=d.name;let p=c[f];if(p!==void 0)i[u]=p;else{if(p=i[u],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,s,f));continue}const h=t&&t._propertyBindings[u].binding.parsedPath;p=new kfe(_a.create(n,f,h),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,f),i[u]=p}a[u].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const r=this._actions,o=this._actionsByClip;let i=o[t];if(i===void 0)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=i;else{const a=i.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),i.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,i=this._actionsByClip,a=i[o],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],s.length===0&&delete i[o],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_addInactiveBinding:function(e,t,n){const r=this._bindingsByRootAndName,o=this._bindings;let i=r[t];i===void 0&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,o=n.path,i=this._bindingsByRootAndName,a=i[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[o],Object.keys(a).length===0&&delete i[r]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=n,t[n]=o},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new pE(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=n,t[n]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const r=t||this._root,o=r.uuid;let i=typeof e=="string"?oc.findByName(r,e):e;const a=i!==null?i.uuid:e;let s=this._actionsByClip[a],l=null;if(n===void 0&&(i!==null?n=i.blendMode:n=H6),s!==void 0){const u=s.actionByRoot[o];if(u!==void 0&&u.blendMode===n)return u;l=s.knownActions[0],i===null&&(i=l._clip)}if(i===null)return null;const c=new Lfe(this,i,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,o),c},existingAction:function(e,t){const n=t||this._root,r=n.uuid,o=typeof e=="string"?oc.findByName(n,e):e,i=o?o.uuid:e,a=this._actionsByClip[i];return a!==void 0&&a.actionByRoot[r]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,o=Math.sign(e),i=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(r,e,o,i);const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(i);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,o=r[n];if(o!==void 0){const i=o.knownActions;for(let a=0,s=i.length;a!==s;++a){const l=i[a];this._deactivateAction(l);const c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const a=n[i].actionByRoot,s=a[t];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const i in o){const a=o[i];a.restoreOriginalState(),this._removeInactiveBinding(a)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Xw(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Xw.prototype.clone=function(){return new Xw(this.value.clone===void 0?this.value:this.value.clone())};function tX(e,t,n){vl.call(this,e,t),this.meshPerAttribute=n||1}tX.prototype=Object.assign(Object.create(vl.prototype),{constructor:tX,isInstancedInterleavedBuffer:!0,copy:function(e){return vl.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=vl.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=vl.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function $fe(e,t,n,r){this.ray=new w0(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new G6,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function nX(e,t){return e.distance-t.distance}function jN(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),r===!0){const o=e.children;for(let i=0,a=o.length;i<a;i++)jN(o[i],t,n,!0)}}Object.assign($fe.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const r=n||[];return jN(e,this,r,t),r.sort(nX),r},intersectObjects:function(e,t,n){const r=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(let o=0,i=e.length;o<i;o++)jN(e[o],this,r,t);return r.sort(nX),r}});function Bwt(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(Bwt.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xn.clamp(t/this.radius,-1,1))),this}});function jwt(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(jwt.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const rX=new ct;function Dfe(e,t){this.min=e!==void 0?e:new ct(1/0,1/0),this.max=t!==void 0?t:new ct(-1/0,-1/0)}Object.assign(Dfe.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=rX.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new ct),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new ct),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new ct),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new ct),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return rX.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const oX=new ee,q2=new ee;function Ffe(e,t){this.start=e!==void 0?e:new ee,this.end=t!==void 0?t:new ee}Object.assign(Ffe.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new ee),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new ee),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new ee),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){oX.subVectors(e,this.start),q2.subVectors(this.end,this.start);const n=q2.dot(q2);let o=q2.dot(oX)/n;return t&&(o=xn.clamp(o,0,1)),o},closestPointToPoint:function(e,t,n){const r=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new ee),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function bE(e){Tt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}bE.prototype=Object.create(Tt.prototype);bE.prototype.constructor=bE;bE.prototype.isImmediateRenderObject=!0;const iX=new ee;function Kw(e,t){Tt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new Ot,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let i=0,a=1,s=32;i<s;i++,a++){const l=i/s*Math.PI*2,c=a/s*Math.PI*2;r.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new Lt(r,3));const o=new Ao({fog:!1,toneMapped:!1});this.cone=new uo(n,o),this.add(this.cone),this.update()}Kw.prototype=Object.create(Tt.prototype);Kw.prototype.constructor=Kw;Kw.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};Kw.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iX.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iX),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const xf=new ee,X2=new mt,d$=new mt;function Nfe(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Nfe(e.children[n]));return t}function Ey(e){const t=Nfe(e),n=new Ot,r=[],o=[],i=new vt(0,0,1),a=new vt(0,1,0);for(let l=0;l<t.length;l++){const c=t[l];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(i.r,i.g,i.b),o.push(a.r,a.g,a.b))}n.setAttribute("position",new Lt(r,3)),n.setAttribute("color",new Lt(o,3));const s=new Ao({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});uo.call(this,n,s),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Ey.prototype=Object.create(uo.prototype);Ey.prototype.constructor=Ey;Ey.prototype.isSkeletonHelper=!0;Ey.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");d$.getInverse(this.root.matrixWorld);for(let o=0,i=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(X2.multiplyMatrices(d$,a.matrixWorld),xf.setFromMatrixPosition(X2),r.setXYZ(i,xf.x,xf.y,xf.z),X2.multiplyMatrices(d$,a.parent.matrixWorld),xf.setFromMatrixPosition(X2),r.setXYZ(i+1,xf.x,xf.y,xf.z),i+=2)}n.getAttribute("position").needsUpdate=!0,Tt.prototype.updateMatrixWorld.call(this,e)};function Yw(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const r=new gy(t,4,2),o=new Cc({wireframe:!0,fog:!1,toneMapped:!1});Lr.call(this,r,o),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Yw.prototype=Object.create(Lr.prototype);Yw.prototype.constructor=Yw;Yw.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};Yw.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const zwt=new ee,aX=new vt,sX=new vt;function Zw(e,t,n){Tt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Hm(t);r.rotateY(Math.PI*.5),this.material=new Cc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),i=new Float32Array(o.count*3);r.setAttribute("color",new Ht(i,3)),this.add(new Lr(r,this.material)),this.update()}Zw.prototype=Object.create(Tt.prototype);Zw.prototype.constructor=Zw;Zw.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};Zw.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");aX.copy(this.light.color),sX.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const o=n<r/2?aX:sX;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(zwt.setFromMatrixPosition(this.light.matrixWorld).negate())};function zN(e,t,n,r){e=e||10,t=t||10,n=new vt(n!==void 0?n:4473924),r=new vt(r!==void 0?r:8947848);const o=t/2,i=e/t,a=e/2,s=[],l=[];for(let d=0,f=0,p=-a;d<=t;d++,p+=i){s.push(-a,0,p,a,0,p),s.push(p,0,-a,p,0,a);const h=d===o?n:r;h.toArray(l,f),f+=3,h.toArray(l,f),f+=3,h.toArray(l,f),f+=3,h.toArray(l,f),f+=3}const c=new Ot;c.setAttribute("position",new Lt(s,3)),c.setAttribute("color",new Lt(l,3));const u=new Ao({vertexColors:!0,toneMapped:!1});uo.call(this,c,u),this.type="GridHelper"}zN.prototype=Object.assign(Object.create(uo.prototype),{constructor:zN,copy:function(e){return uo.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function HN(e,t,n,r,o,i){e=e||10,t=t||16,n=n||8,r=r||64,o=new vt(o!==void 0?o:4473924),i=new vt(i!==void 0?i:8947848);const a=[],s=[];for(let u=0;u<=t;u++){const d=u/t*(Math.PI*2),f=Math.sin(d)*e,p=Math.cos(d)*e;a.push(0,0,0),a.push(f,0,p);const h=u&1?o:i;s.push(h.r,h.g,h.b),s.push(h.r,h.g,h.b)}for(let u=0;u<=n;u++){const d=u&1?o:i,f=e-e/n*u;for(let p=0;p<r;p++){let h=p/r*(Math.PI*2),g=Math.sin(h)*f,v=Math.cos(h)*f;a.push(g,0,v),s.push(d.r,d.g,d.b),h=(p+1)/r*(Math.PI*2),g=Math.sin(h)*f,v=Math.cos(h)*f,a.push(g,0,v),s.push(d.r,d.g,d.b)}}const l=new Ot;l.setAttribute("position",new Lt(a,3)),l.setAttribute("color",new Lt(s,3));const c=new Ao({vertexColors:!0,toneMapped:!1});uo.call(this,l,c),this.type="PolarGridHelper"}HN.prototype=Object.create(uo.prototype);HN.prototype.constructor=HN;const lX=new ee,K2=new ee,cX=new ee;function Qw(e,t,n){Tt.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let r=new Ot;r.setAttribute("position",new Lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Ao({fog:!1,toneMapped:!1});this.lightPlane=new Tl(r,o),this.add(this.lightPlane),r=new Ot,r.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new Tl(r,o),this.add(this.targetLine),this.update()}Qw.prototype=Object.create(Tt.prototype);Qw.prototype.constructor=Qw;Qw.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};Qw.prototype.update=function(){lX.setFromMatrixPosition(this.light.matrixWorld),K2.setFromMatrixPosition(this.light.target.matrixWorld),cX.subVectors(K2,lX),this.lightPlane.lookAt(K2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(K2),this.targetLine.scale.z=cX.length()};const Y2=new ee,po=new Nd;function yE(e){const t=new Ot,n=new Ao({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],i={},a=new vt(16755200),s=new vt(16711680),l=new vt(43775),c=new vt(16777215),u=new vt(3355443);d("n1","n2",a),d("n2","n4",a),d("n4","n3",a),d("n3","n1",a),d("f1","f2",a),d("f2","f4",a),d("f4","f3",a),d("f3","f1",a),d("n1","f1",a),d("n2","f2",a),d("n3","f3",a),d("n4","f4",a),d("p","n1",s),d("p","n2",s),d("p","n3",s),d("p","n4",s),d("u1","u2",l),d("u2","u3",l),d("u3","u1",l),d("c","t",c),d("p","c",u),d("cn1","cn2",u),d("cn3","cn4",u),d("cf1","cf2",u),d("cf3","cf4",u);function d(p,h,g){f(p,g),f(h,g)}function f(p,h){r.push(0,0,0),o.push(h.r,h.g,h.b),i[p]===void 0&&(i[p]=[]),i[p].push(r.length/3-1)}t.setAttribute("position",new Lt(r,3)),t.setAttribute("color",new Lt(o,3)),uo.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=i,this.update()}yE.prototype=Object.create(uo.prototype);yE.prototype.constructor=yE;yE.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,r=1;po.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),wo("c",t,e,po,0,0,-1),wo("t",t,e,po,0,0,1),wo("n1",t,e,po,-n,-r,-1),wo("n2",t,e,po,n,-r,-1),wo("n3",t,e,po,-n,r,-1),wo("n4",t,e,po,n,r,-1),wo("f1",t,e,po,-n,-r,1),wo("f2",t,e,po,n,-r,1),wo("f3",t,e,po,-n,r,1),wo("f4",t,e,po,n,r,1),wo("u1",t,e,po,n*.7,r*1.1,-1),wo("u2",t,e,po,-n*.7,r*1.1,-1),wo("u3",t,e,po,0,r*2,-1),wo("cf1",t,e,po,-n,0,1),wo("cf2",t,e,po,n,0,1),wo("cf3",t,e,po,0,-r,1),wo("cf4",t,e,po,0,r,1),wo("cn1",t,e,po,-n,0,-1),wo("cn2",t,e,po,n,0,-1),wo("cn3",t,e,po,0,-r,-1),wo("cn4",t,e,po,0,r,-1),e.getAttribute("position").needsUpdate=!0};function wo(e,t,n,r,o,i,a){Y2.set(o,i,a).unproject(r);const s=t[e];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],Y2.x,Y2.y,Y2.z)}}const Z2=new Tr;function Gm(e,t){this.object=e,t===void 0&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Ot;o.setIndex(new Ht(n,1)),o.setAttribute("position",new Ht(r,3)),uo.call(this,o,new Ao({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}Gm.prototype=Object.create(uo.prototype);Gm.prototype.constructor=Gm;Gm.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Z2.setFromObject(this.object),Z2.isEmpty())return;const t=Z2.min,n=Z2.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=t.x,o[4]=n.y,o[5]=n.z,o[6]=t.x,o[7]=t.y,o[8]=n.z,o[9]=n.x,o[10]=t.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=t.z,o[15]=t.x,o[16]=n.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=n.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()};Gm.prototype.setFromObject=function(e){return this.object=e,this.update(),this};Gm.prototype.copy=function(e){return uo.prototype.copy.call(this,e),this.object=e.object,this};Gm.prototype.clone=function(){return new this.constructor().copy(this)};function xE(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ot;o.setIndex(new Ht(n,1)),o.setAttribute("position",new Lt(r,3)),uo.call(this,o,new Ao({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}xE.prototype=Object.create(uo.prototype);xE.prototype.constructor=xE;xE.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Tt.prototype.updateMatrixWorld.call(this,e))};function wE(e,t,n){this.plane=e,this.size=t===void 0?1:t;const r=n!==void 0?n:16776960,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],i=new Ot;i.setAttribute("position",new Lt(o,3)),i.computeBoundingSphere(),Tl.call(this,i,new Ao({color:r,toneMapped:!1})),this.type="PlaneHelper";const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new Ot;s.setAttribute("position",new Lt(a,3)),s.computeBoundingSphere(),this.add(new Lr(s,new Cc({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}wE.prototype=Object.create(Tl.prototype);wE.prototype.constructor=wE;wE.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Xo:y0,this.lookAt(this.plane.normal),Tt.prototype.updateMatrixWorld.call(this,e)};const uX=new ee;let Q2,f$;function Lp(e,t,n,r,o,i){Tt.call(this),this.type="ArrowHelper",e===void 0&&(e=new ee(0,0,1)),t===void 0&&(t=new ee(0,0,0)),n===void 0&&(n=1),r===void 0&&(r=16776960),o===void 0&&(o=.2*n),i===void 0&&(i=.2*o),Q2===void 0&&(Q2=new Ot,Q2.setAttribute("position",new Lt([0,0,0,0,1,0],3)),f$=new zd(0,.5,1,5,1),f$.translate(0,-.5,0)),this.position.copy(t),this.line=new Tl(Q2,new Ao({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(f$,new Cc({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,i)}Lp.prototype=Object.create(Tt.prototype);Lp.prototype.constructor=Lp;Lp.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uX.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uX,t)}};Lp.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};Lp.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};Lp.prototype.copy=function(e){return Tt.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};Lp.prototype.clone=function(){return new this.constructor().copy(this)};function VN(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ot;r.setAttribute("position",new Lt(t,3)),r.setAttribute("color",new Lt(n,3));const o=new Ao({vertexColors:!0,toneMapped:!1});uo.call(this,r,o),this.type="AxesHelper"}VN.prototype=Object.create(uo.prototype);VN.prototype.constructor=VN;const hb=4,mp=8,Kc=Math.pow(2,mp),Bfe=[.125,.215,.35,.446,.526,.582],jfe=mp-hb+1+Bfe.length,vv=20,fu={[ra]:0,[eC]:1,[U6]:2,[tfe]:3,[nfe]:4,[rfe]:5,[V6]:6},p$=new Rp,{_lodPlanes:f1,_sizeLods:dX,_sigmas:J2}=Vwt();let h$=null;const Ih=(1+Math.sqrt(5))/2,Qg=1/Ih,fX=[new ee(1,1,1),new ee(-1,1,1),new ee(1,1,-1),new ee(-1,1,-1),new ee(0,Ih,Qg),new ee(0,Ih,-Qg),new ee(Qg,0,Ih),new ee(-Qg,0,Ih),new ee(Ih,Qg,0),new ee(-Ih,Qg,0)];function pX(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Uwt(vv),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}pX.prototype={constructor:pX,fromScene:function(e,t=0,n=.1,r=100){h$=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,n,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=gX(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=mX(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<f1.length;e++)f1[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(h$),e.scissorTest=!1,eP(e,0,0,e.width,e.height)},_fromTexture:function(e){h$=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:Mr,minFilter:Mr,generateMipmaps:!1,type:$m,format:Wvt,encoding:Hwt(e)?e.encoding:U6,depthBuffer:!1,stencilBuffer:!1},n=hX(t);return n.depthBuffer=!e,this._pingPongRenderTarget=hX(t),n},_compileMaterial:function(e){const t=new Lr(f1[0],e);this._renderer.compile(t,p$)},_sceneToCubeUV:function(e,t,n,r){const a=new Do(90,1,t,n),s=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.outputEncoding,d=c.toneMapping,f=c.getClearColor(),p=c.getClearAlpha();c.toneMapping=fb,c.outputEncoding=ra;let h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();const g=Math.max(h.r,h.g,h.b),v=Math.min(Math.max(Math.ceil(Math.log2(g)),-128),127);h=h.multiplyScalar(Math.pow(2,-v));const m=(v+128)/255;c.setClearColor(h,m),e.background=null}for(let g=0;g<6;g++){const v=g%3;v==0?(a.up.set(0,s[g],0),a.lookAt(l[g],0,0)):v==1?(a.up.set(0,0,s[g]),a.lookAt(0,l[g],0)):(a.up.set(0,s[g],0),a.lookAt(0,0,l[g])),eP(r,v*Kc,g>2?Kc:0,Kc,Kc),c.setRenderTarget(r),c.render(e,a)}c.toneMapping=d,c.outputEncoding=u,c.setClearColor(f,p)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=gX()):this._equirectShader==null&&(this._equirectShader=mX());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Lr(f1[0],r),i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=fu[e.encoding],i.outputEncoding.value=fu[t.texture.encoding],eP(t,0,0,3*Kc,2*Kc),n.setRenderTarget(t),n.render(o,p$)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<jfe;r++){const o=Math.sqrt(J2[r]*J2[r]-J2[r-1]*J2[r-1]),i=fX[(r-1)%fX.length];this._blur(e,r-1,r,o,i)}t.autoClear=n},_blur:function(e,t,n,r,o){const i=this._pingPongRenderTarget;this._halfBlur(e,i,t,n,r,"latitudinal",o),this._halfBlur(i,e,n,n,r,"longitudinal",o)},_halfBlur:function(e,t,n,r,o,i,a){const s=this._renderer,l=this._blurMaterial;i!=="latitudinal"&&i!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Lr(f1[r],l),d=l.uniforms,f=dX[n]-1,p=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*vv-1),h=o/p,g=isFinite(o)?1+Math.floor(c*h):vv;g>vv&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${vv}`);const v=[];let m=0;for(let w=0;w<vv;++w){const _=w/h,S=Math.exp(-_*_/2);v.push(S),w==0?m+=S:w<g&&(m+=2*S)}for(let w=0;w<v.length;w++)v[w]=v[w]/m;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=v,d.latitudinal.value=i==="latitudinal",a&&(d.poleAxis.value=a),d.dTheta.value=p,d.mipInt.value=mp-n,d.inputEncoding.value=fu[e.texture.encoding],d.outputEncoding.value=fu[e.texture.encoding];const b=dX[r],x=3*Math.max(0,Kc-2*b),y=(r===0?0:2*Kc)+2*b*(r>mp-hb?r-mp+hb:0);eP(t,x,y,3*b,2*b),s.setRenderTarget(t),s.render(u,p$)}};function Hwt(e){return e===void 0||e.type!==$m?!1:e.encoding===ra||e.encoding===eC||e.encoding===V6}function Vwt(){const e=[],t=[],n=[];let r=mp;for(let o=0;o<jfe;o++){const i=Math.pow(2,r);t.push(i);let a=1/i;o>mp-hb?a=Bfe[o-mp+hb-1]:o==0&&(a=0),n.push(a);const s=1/(i-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,f=6,p=3,h=2,g=1,v=new Float32Array(p*f*d),m=new Float32Array(h*f*d),b=new Float32Array(g*f*d);for(let y=0;y<d;y++){const w=y%3*2/3-1,_=y>2?0:-1,S=[w,_,0,w+2/3,_,0,w+2/3,_+1,0,w,_,0,w+2/3,_+1,0,w,_+1,0];v.set(S,p*f*y),m.set(u,h*f*y);const P=[y,y,y,y,y,y];b.set(P,g*f*y)}const x=new Ot;x.setAttribute("position",new Ht(v,p)),x.setAttribute("uv",new Ht(m,h)),x.setAttribute("faceIndex",new Ht(b,g)),e.push(x),r>hb&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function hX(e){const t=new wa(3*Kc,3*Kc,e);return t.texture.mapping=JS,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function eP(e,t,n,r,o){e.viewport.set(t,n,r,o),e.scissor.set(t,n,r,o)}function Uwt(e){const t=new Float32Array(e),n=new ee(0,1,0);return new kp({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:fu[ra]},outputEncoding:{value:fu[ra]}},vertexShader:Y6(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${Z6()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Cd,depthTest:!1,depthWrite:!1})}function mX(){const e=new ct(1,1);return new kp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:fu[ra]},outputEncoding:{value:fu[ra]}},vertexShader:Y6(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${Z6()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Cd,depthTest:!1,depthWrite:!1})}function gX(){return new kp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:fu[ra]},outputEncoding:{value:fu[ra]}},vertexShader:Y6(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${Z6()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:Cd,depthTest:!1,depthWrite:!1})}function Y6(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function Z6(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}Jt.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Jt.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Zf.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new on;for(let n=0,r=e.length;n<r;n++){const o=e[n];t.vertices.push(new ee(o.x,o.y,o.z||0))}return t}});Object.assign(su.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(Fs.prototype);Object.create(Fs.prototype);function zfe(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Fs.call(this,e),this.type="catmullrom"}zfe.prototype=Object.create(Fs.prototype);Object.assign(zfe.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});zN.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Ey.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(Pr.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Pfe.extractUrlBase(e)}});Pr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(NN.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(Dfe.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Tr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(nf.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});nC.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};Ffe.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(xn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),xn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),xn.ceilPowerOfTwo(e)}});Object.assign(Li.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(mt.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ee().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,o,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,o,i)}});nu.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Er.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(w0.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(Ri.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(Ri,{barycoordFromPoint:function(e,t,n,r,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ri.getBarycoord(e,t,n,r,o)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ri.getNormal(e,t,n,r)}});Object.assign(um.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new my(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new vy(this,e)}});Object.assign(ct.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(ee.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(_r.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(on.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(Tt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Tt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Lr.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Lr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),kbt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(XA.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(pN.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});fN.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Jt.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Do.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(Wr.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Ht.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ww},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ww)}}});Object.assign(Ht.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?ww:sk),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(Ot.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ht(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(Ot.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(vE.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties($fe.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(vl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ww},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(vl.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?ww:sk),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(jd.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Xw.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(dn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new vt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Kde}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(Um.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(ni.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(rC.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(rC.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?eC:ra}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(gfe.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(wa.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(qw.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new BN().load(e,function(r){t.setBuffer(r)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});Ife.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Cw.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Dm.crossOrigin=void 0;Dm.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new MN;o.setCrossOrigin(this.crossOrigin);const i=o.load(e,n,void 0,r);return t&&(i.mapping=t),i};Dm.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new PN;o.setCrossOrigin(this.crossOrigin);const i=o.load(e,n,void 0,r);return t&&(i.mapping=t),i};Dm.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Dm.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:svt}}));var _E={exports:{}};_E.exports;(function(e,t){/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I,O,L,R,T,E,k,B,$,j,V,q,Q,H,X,J,G,ie,Y,le,te,re,ae,pe,we,fe,_e,W,oe,Ce,ve,me,ye,Le,Te,Me,$e,U,D,F,K,he,ge,Ae,Ke,Je,ft,ht,it,At,Pe,Re,ze,je,Ue,tt,be,He,Ve=[].slice;je=function(){var z,Z,ne,de,ce;for(z={},ce="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),de=0,Z=ce.length;de<Z;de++)ne=ce[de],z["[object "+ne+"]"]=ne.toLowerCase();return function(Se){var xe;return xe=Object.prototype.toString.call(Se),z[xe]||"object"}}(),ae=function(z,Z,ne){return Z==null&&(Z=0),ne==null&&(ne=1),z<Z&&(z=Z),z>ne&&(z=ne),z},Ue=function(z){return z.length>=3?Array.prototype.slice.call(z):z[0]},_=function(z){var Z,ne;for(z._clipped=!1,z._unclipped=z.slice(0),Z=ne=0;ne<3;Z=++ne)Z<3?((z[Z]<0||z[Z]>255)&&(z._clipped=!0),z[Z]<0&&(z[Z]=0),z[Z]>255&&(z[Z]=255)):Z===3&&(z[Z]<0&&(z[Z]=0),z[Z]>1&&(z[Z]=1));return z._clipped||delete z._unclipped,z},i=Math.PI,it=Math.round,P=Math.cos,R=Math.floor,me=Math.pow,pe=Math.log,Pe=Math.sin,Re=Math.sqrt,g=Math.atan2,_e=Math.max,h=Math.abs,l=i*2,a=i/3,r=i/180,s=180/i,w=function(){return arguments[0]instanceof n?arguments[0]:function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,arguments,function(){})},w.default=w,p=[],e!==null&&e.exports!=null&&(e.exports=w),ht=t!==null?t:this,ht.chroma=w,w.version="1.4.1",f={},u=[],d=!1,n=function(){function z(){var Z,ne,de,ce,Se,xe,Ie,Xe,Ye;for(xe=this,ne=[],Xe=0,ce=arguments.length;Xe<ce;Xe++)Z=arguments[Xe],Z!=null&&ne.push(Z);if(ne.length>1&&(Ie=ne[ne.length-1]),f[Ie]!=null)xe._rgb=_(f[Ie](Ue(ne.slice(0,-1))));else{for(d||(u=u.sort(function(rt,Fe){return Fe.p-rt.p}),d=!0),Ye=0,Se=u.length;Ye<Se&&(de=u[Ye],Ie=de.test.apply(de,ne),!Ie);Ye++);Ie&&(xe._rgb=_(f[Ie].apply(f,ne)))}xe._rgb==null&&console.warn("unknown format: "+ne),xe._rgb==null&&(xe._rgb=[0,0,0]),xe._rgb.length===3&&xe._rgb.push(1)}return z.prototype.toString=function(){return this.hex()},z}(),w._input=f;/**
	ColorBrewer colors for chroma.js

	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
	Pennsylvania State University.

	Licensed under the Apache License, Version 2.0 (the "License"); 
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at	
	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software distributed
	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
	CONDITIONS OF ANY KIND, either express or implied. See the License for the
	specific language governing permissions and limitations under the License.

    @preserve
 */w.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var z,Z;Z=[];for(z in x)Z.push(x[z.toLowerCase()]=x[z]);return Z}(),tt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},w.colors=tt,ie=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe;return Z=Ue(arguments),ce=Z[0],z=Z[1],ne=Z[2],Ie=(ce+16)/116,xe=isNaN(z)?Ie:Ie+z/500,Xe=isNaN(ne)?Ie:Ie-ne/200,Ie=o.Yn*Y(Ie),xe=o.Xn*Y(xe),Xe=o.Zn*Y(Xe),Se=He(3.2404542*xe-1.5371385*Ie-.4985314*Xe),de=He(-.969266*xe+1.8760108*Ie+.041556*Xe),ne=He(.0556434*xe-.2040259*Ie+1.0572252*Xe),[Se,de,ne,Z.length>3?Z[3]:1]},He=function(z){return 255*(z<=.00304?12.92*z:1.055*me(z,1/2.4)-.055)},Y=function(z){return z>o.t1?z*z*z:o.t2*(z-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},F=function(){var z,Z,ne,de,ce,Se,xe,Ie;return de=Ue(arguments),ne=de[0],Z=de[1],z=de[2],ce=Ke(ne,Z,z),Se=ce[0],xe=ce[1],Ie=ce[2],[116*xe-16,500*(Se-xe),200*(xe-Ie)]},Je=function(z){return(z/=255)<=.04045?z/12.92:me((z+.055)/1.055,2.4)},be=function(z){return z>o.t3?me(z,1/3):z/o.t2+o.t0},Ke=function(){var z,Z,ne,de,ce,Se,xe;return de=Ue(arguments),ne=de[0],Z=de[1],z=de[2],ne=Je(ne),Z=Je(Z),z=Je(z),ce=be((.4124564*ne+.3575761*Z+.1804375*z)/o.Xn),Se=be((.2126729*ne+.7151522*Z+.072175*z)/o.Yn),xe=be((.0193339*ne+.119192*Z+.9503041*z)/o.Zn),[ce,Se,xe]},w.lab=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["lab"]),function(){})},f.lab=ie,n.prototype.lab=function(){return F(this._rgb)},v=function(z){var Z,ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe;return z=function(){var Oe,Ge,et;for(et=[],Ge=0,Oe=z.length;Ge<Oe;Ge++)ce=z[Ge],et.push(w(ce));return et}(),z.length===2?(Ye=function(){var Oe,Ge,et;for(et=[],Ge=0,Oe=z.length;Ge<Oe;Ge++)ce=z[Ge],et.push(ce.lab());return et}(),Se=Ye[0],xe=Ye[1],Z=function(Oe){var Ge,et;return et=function(){var pt,wt;for(wt=[],Ge=pt=0;pt<=2;Ge=++pt)wt.push(Se[Ge]+Oe*(xe[Ge]-Se[Ge]));return wt}(),w.lab.apply(w,et)}):z.length===3?(rt=function(){var Oe,Ge,et;for(et=[],Ge=0,Oe=z.length;Ge<Oe;Ge++)ce=z[Ge],et.push(ce.lab());return et}(),Se=rt[0],xe=rt[1],Ie=rt[2],Z=function(Oe){var Ge,et;return et=function(){var pt,wt;for(wt=[],Ge=pt=0;pt<=2;Ge=++pt)wt.push((1-Oe)*(1-Oe)*Se[Ge]+2*(1-Oe)*Oe*xe[Ge]+Oe*Oe*Ie[Ge]);return wt}(),w.lab.apply(w,et)}):z.length===4?(Fe=function(){var Oe,Ge,et;for(et=[],Ge=0,Oe=z.length;Ge<Oe;Ge++)ce=z[Ge],et.push(ce.lab());return et}(),Se=Fe[0],xe=Fe[1],Ie=Fe[2],Xe=Fe[3],Z=function(Oe){var Ge,et;return et=function(){var pt,wt;for(wt=[],Ge=pt=0;pt<=2;Ge=++pt)wt.push((1-Oe)*(1-Oe)*(1-Oe)*Se[Ge]+3*(1-Oe)*(1-Oe)*Oe*xe[Ge]+3*(1-Oe)*Oe*Oe*Ie[Ge]+Oe*Oe*Oe*Xe[Ge]);return wt}(),w.lab.apply(w,et)}):z.length===5&&(ne=v(z.slice(0,3)),de=v(z.slice(2,5)),Z=function(Oe){return Oe<.5?ne(Oe*2):de((Oe-.5)*2)}),Z},w.bezier=function(z){var Z;return Z=v(z),Z.scale=function(){return w.scale(Z)},Z},w.cubehelix=function(z,Z,ne,de,ce){var Se,xe,Ie;return z==null&&(z=300),Z==null&&(Z=-1.5),ne==null&&(ne=1),de==null&&(de=1),ce==null&&(ce=[0,1]),Se=0,je(ce)==="array"?xe=ce[1]-ce[0]:(xe=0,ce=[ce,ce]),Ie=function(Xe){var Ye,rt,Fe,Oe,Ge,et,pt,wt,gt;return Ye=l*((z+120)/360+Z*Xe),pt=me(ce[0]+xe*Xe,de),et=Se!==0?ne[0]+Xe*Se:ne,rt=et*pt*(1-pt)/2,Oe=P(Ye),gt=Pe(Ye),wt=pt+rt*(-.14861*Oe+1.78277*gt),Ge=pt+rt*(-.29227*Oe-.90649*gt),Fe=pt+rt*(1.97294*Oe),w(_([wt*255,Ge*255,Fe*255,1]))},Ie.start=function(Xe){return Xe==null?z:(z=Xe,Ie)},Ie.rotations=function(Xe){return Xe==null?Z:(Z=Xe,Ie)},Ie.gamma=function(Xe){return Xe==null?de:(de=Xe,Ie)},Ie.hue=function(Xe){return Xe==null?ne:(ne=Xe,je(ne)==="array"?(Se=ne[1]-ne[0],Se===0&&(ne=ne[1])):Se=0,Ie)},Ie.lightness=function(Xe){return Xe==null?ce:(je(Xe)==="array"?(ce=Xe,xe=Xe[1]-Xe[0]):(ce=[Xe,Xe],xe=0),Ie)},Ie.scale=function(){return w.scale(Ie)},Ie.hue(ne),Ie},w.random=function(){var z,Z,ne;for(Z="0123456789abcdef",z="#",ne=0;ne<6;++ne)z+=Z.charAt(R(Math.random()*16));return new n(z)},p=[],V=function(z,Z,ne,de){var ce,Se,xe,Ie;for(ne==null&&(ne=.5),de==null&&(de="rgb"),je(z)!=="object"&&(z=w(z)),je(Z)!=="object"&&(Z=w(Z)),xe=0,Se=p.length;xe<Se;xe++)if(ce=p[xe],de===ce[0]){Ie=ce[1](z,Z,ne,de);break}if(Ie==null)throw"color mode "+de+" is not supported";return Ie.alpha(z.alpha()+ne*(Z.alpha()-z.alpha()))},w.interpolate=V,n.prototype.interpolate=function(z,Z,ne){return V(this,z,Z,ne)},w.mix=V,n.prototype.mix=n.prototype.interpolate,f.rgb=function(){var z,Z,ne,de;Z=Ue(arguments),ne=[];for(z in Z)de=Z[z],ne.push(de);return ne},w.rgb=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["rgb"]),function(){})},n.prototype.rgb=function(z){return z==null&&(z=!0),z?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},n.prototype.rgba=function(z){return z==null&&(z=!0),z?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},u.push({p:3,test:function(z){var Z;if(Z=Ue(arguments),je(Z)==="array"&&Z.length===3||Z.length===4&&je(Z[3])==="number"&&Z[3]>=0&&Z[3]<=1)return"rgb"}}),f.lrgb=f.rgb,H=function(z,Z,ne,de){var ce,Se;return ce=z._rgb,Se=Z._rgb,new n(Re(me(ce[0],2)*(1-ne)+me(Se[0],2)*ne),Re(me(ce[1],2)*(1-ne)+me(Se[1],2)*ne),Re(me(ce[2],2)*(1-ne)+me(Se[2],2)*ne),de)},c=function(z){var Z,ne,de,ce,Se,xe;for(ne=1/z.length,xe=[0,0,0,0],ce=0,de=z.length;ce<de;ce++)Z=z[ce],Se=Z._rgb,xe[0]+=me(Se[0],2)*ne,xe[1]+=me(Se[1],2)*ne,xe[2]+=me(Se[2],2)*ne,xe[3]+=Se[3]*ne;return xe[0]=Re(xe[0]),xe[1]=Re(xe[1]),xe[2]=Re(xe[2]),xe[3]>1&&(xe[3]=1),new n(_(xe))},p.push(["lrgb",H]),w.average=function(z,Z){var ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et;if(Z==null&&(Z="rgb"),rt=z.length,z=z.map(function(pt){return w(pt)}),Xe=z.splice(0,1)[0],Z==="lrgb")return c(z);Ge=Xe.get(Z),Se=[],xe=0,Ie=0;for(Ye in Ge)Ge[Ye]=Ge[Ye]||0,Se.push(isNaN(Ge[Ye])?0:1),Z.charAt(Ye)==="h"&&!isNaN(Ge[Ye])&&(ne=Ge[Ye]/180*i,xe+=P(ne),Ie+=Pe(ne));for(de=Xe.alpha(),Oe=0,Fe=z.length;Oe<Fe;Oe++){ce=z[Oe],et=ce.get(Z),de+=ce.alpha();for(Ye in Ge)isNaN(et[Ye])||(Se[Ye]+=1,Z.charAt(Ye)==="h"?(ne=et[Ye]/180*i,xe+=P(ne),Ie+=Pe(ne)):Ge[Ye]+=et[Ye])}for(Ye in Ge)if(Z.charAt(Ye)==="h"){for(ne=g(Ie/Se[Ye],xe/Se[Ye])/i*180;ne<0;)ne+=360;for(;ne>=360;)ne-=360;Ge[Ye]=ne}else Ge[Ye]=Ge[Ye]/Se[Ye];return w(Ge,Z).alpha(de/rt)},E=function(z){var Z,ne,de,ce,Se,xe;if(z.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(z.length===4||z.length===7)&&(z=z.substr(1)),z.length===3&&(z=z.split(""),z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]),xe=parseInt(z,16),ce=xe>>16,de=xe>>8&255,ne=xe&255,[ce,de,ne,1];if(z.match(/^#?([A-Fa-f0-9]{8})$/))return z.length===9&&(z=z.substr(1)),xe=parseInt(z,16),ce=xe>>24&255,de=xe>>16&255,ne=xe>>8&255,Z=it((xe&255)/255*100)/100,[ce,de,ne,Z];if(f.css!=null&&(Se=f.css(z)))return Se;throw"unknown color: "+z},Me=function(z,Z){var ne,de,ce,Se,xe,Ie,Xe;return Z==null&&(Z="auto"),xe=z[0],ce=z[1],de=z[2],ne=z[3],Z==="auto"&&(Z=ne<1?"rgba":"rgb"),xe=Math.round(xe),ce=Math.round(ce),de=Math.round(de),Xe=xe<<16|ce<<8|de,Ie="000000"+Xe.toString(16),Ie=Ie.substr(Ie.length-6),Se="0"+it(ne*255).toString(16),Se=Se.substr(Se.length-2),"#"+function(){switch(Z.toLowerCase()){case"rgba":return Ie+Se;case"argb":return Se+Ie;default:return Ie}}()},f.hex=function(z){return E(z)},w.hex=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["hex"]),function(){})},n.prototype.hex=function(z){return z==null&&(z="auto"),Me(this._rgb,z)},u.push({p:4,test:function(z){if(arguments.length===1&&je(z)==="string")return"hex"}}),$=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge;if(z=Ue(arguments),ce=z[0],rt=z[1],xe=z[2],rt===0)Xe=de=Z=xe*255;else{for(Ge=[0,0,0],ne=[0,0,0],Oe=xe<.5?xe*(1+rt):xe+rt-xe*rt,Fe=2*xe-Oe,ce/=360,Ge[0]=ce+1/3,Ge[1]=ce,Ge[2]=ce-1/3,Se=Ie=0;Ie<=2;Se=++Ie)Ge[Se]<0&&(Ge[Se]+=1),Ge[Se]>1&&(Ge[Se]-=1),6*Ge[Se]<1?ne[Se]=Fe+(Oe-Fe)*6*Ge[Se]:2*Ge[Se]<1?ne[Se]=Oe:3*Ge[Se]<2?ne[Se]=Fe+(Oe-Fe)*(2/3-Ge[Se])*6:ne[Se]=Fe;Ye=[it(ne[0]*255),it(ne[1]*255),it(ne[2]*255)],Xe=Ye[0],de=Ye[1],Z=Ye[2]}return z.length>3?[Xe,de,Z,z[3]]:[Xe,de,Z]},U=function(z,Z,ne){var de,ce,Se,xe,Ie;return z!==void 0&&z.length>=3&&(xe=z,z=xe[0],Z=xe[1],ne=xe[2]),z/=255,Z/=255,ne/=255,Se=Math.min(z,Z,ne),_e=Math.max(z,Z,ne),ce=(_e+Se)/2,_e===Se?(Ie=0,de=Number.NaN):Ie=ce<.5?(_e-Se)/(_e+Se):(_e-Se)/(2-_e-Se),z===_e?de=(Z-ne)/(_e-Se):Z===_e?de=2+(ne-z)/(_e-Se):ne===_e&&(de=4+(z-Z)/(_e-Se)),de*=60,de<0&&(de+=360),[de,Ie,ce]},w.hsl=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["hsl"]),function(){})},f.hsl=$,n.prototype.hsl=function(){return U(this._rgb)},j=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt,wt,gt;if(z=Ue(arguments),ce=z[0],pt=z[1],gt=z[2],gt*=255,pt===0)Xe=de=Z=gt;else switch(ce===360&&(ce=0),ce>360&&(ce-=360),ce<0&&(ce+=360),ce/=60,Se=R(ce),ne=ce-Se,xe=gt*(1-pt),Ie=gt*(1-pt*ne),wt=gt*(1-pt*(1-ne)),Se){case 0:Ye=[gt,wt,xe],Xe=Ye[0],de=Ye[1],Z=Ye[2];break;case 1:rt=[Ie,gt,xe],Xe=rt[0],de=rt[1],Z=rt[2];break;case 2:Fe=[xe,gt,wt],Xe=Fe[0],de=Fe[1],Z=Fe[2];break;case 3:Oe=[xe,Ie,gt],Xe=Oe[0],de=Oe[1],Z=Oe[2];break;case 4:Ge=[wt,xe,gt],Xe=Ge[0],de=Ge[1],Z=Ge[2];break;case 5:et=[gt,xe,Ie],Xe=et[0],de=et[1],Z=et[2]}return[Xe,de,Z,z.length>3?z[3]:1]},D=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe;return xe=Ue(arguments),Se=xe[0],ne=xe[1],z=xe[2],ce=Math.min(Se,ne,z),_e=Math.max(Se,ne,z),Z=_e-ce,Xe=_e/255,_e===0?(de=Number.NaN,Ie=0):(Ie=Z/_e,Se===_e&&(de=(ne-z)/Z),ne===_e&&(de=2+(z-Se)/Z),z===_e&&(de=4+(Se-ne)/Z),de*=60,de<0&&(de+=360)),[de,Ie,Xe]},w.hsv=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["hsv"]),function(){})},f.hsv=j,n.prototype.hsv=function(){return D(this._rgb)},Ce=function(z){var Z,ne,de;return je(z)==="number"&&z>=0&&z<=16777215?(de=z>>16,ne=z>>8&255,Z=z&255,[de,ne,Z,1]):(console.warn("unknown num color: "+z),[0,0,0,1])},ge=function(){var z,Z,ne,de;return de=Ue(arguments),ne=de[0],Z=de[1],z=de[2],(ne<<16)+(Z<<8)+z},w.num=function(z){return new n(z,"num")},n.prototype.num=function(z){return z==null&&(z="rgb"),ge(this._rgb,z)},f.num=Ce,u.push({p:1,test:function(z){if(arguments.length===1&&je(z)==="number"&&z>=0&&z<=16777215)return"num"}}),T=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt,wt,gt,_t,zt;if(ne=Ue(arguments),Ie=ne[0],ce=ne[1],Z=ne[2],ce=ce/100,xe=xe/100*255,z=ce*255,ce===0)Fe=xe=de=Z;else switch(Ie===360&&(Ie=0),Ie>360&&(Ie-=360),Ie<0&&(Ie+=360),Ie/=60,Xe=R(Ie),Se=Ie-Xe,Ye=Z*(1-ce),rt=Ye+z*(1-Se),_t=Ye+z*Se,zt=Ye+z,Xe){case 0:Oe=[zt,_t,Ye],Fe=Oe[0],xe=Oe[1],de=Oe[2];break;case 1:Ge=[rt,zt,Ye],Fe=Ge[0],xe=Ge[1],de=Ge[2];break;case 2:et=[Ye,zt,_t],Fe=et[0],xe=et[1],de=et[2];break;case 3:pt=[Ye,rt,zt],Fe=pt[0],xe=pt[1],de=pt[2];break;case 4:wt=[_t,Ye,zt],Fe=wt[0],xe=wt[1],de=wt[2];break;case 5:gt=[zt,Ye,rt],Fe=gt[0],xe=gt[1],de=gt[2]}return[Fe,xe,de,ne.length>3?ne[3]:1]},Te=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe;return Xe=Ue(arguments),Ie=Xe[0],ce=Xe[1],Z=Xe[2],xe=Math.min(Ie,ce,Z),_e=Math.max(Ie,ce,Z),de=_e-xe,ne=de*100/255,z=xe/(255-de)*100,de===0?Se=Number.NaN:(Ie===_e&&(Se=(ce-Z)/de),ce===_e&&(Se=2+(Z-Ie)/de),Z===_e&&(Se=4+(Ie-ce)/de),Se*=60,Se<0&&(Se+=360)),[Se,ne,z]},w.hcg=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["hcg"]),function(){})},f.hcg=T,n.prototype.hcg=function(){return Te(this._rgb)},M=function(z){var Z,ne,de,ce,Se,xe,Ie,Xe;if(z=z.toLowerCase(),w.colors!=null&&w.colors[z])return E(w.colors[z]);if(Se=z.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(Ie=Se.slice(1,4),ce=xe=0;xe<=2;ce=++xe)Ie[ce]=+Ie[ce];Ie[3]=1}else if(Se=z.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(Ie=Se.slice(1,5),ce=Xe=0;Xe<=3;ce=++Xe)Ie[ce]=+Ie[ce];else if(Se=z.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(Ie=Se.slice(1,4),ce=Z=0;Z<=2;ce=++Z)Ie[ce]=it(Ie[ce]*2.55);Ie[3]=1}else if(Se=z.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(Ie=Se.slice(1,5),ce=ne=0;ne<=2;ce=++ne)Ie[ce]=it(Ie[ce]*2.55);Ie[3]=+Ie[3]}else(Se=z.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(de=Se.slice(1,4),de[1]*=.01,de[2]*=.01,Ie=$(de),Ie[3]=1):(Se=z.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(de=Se.slice(1,4),de[1]*=.01,de[2]*=.01,Ie=$(de),Ie[3]=+Se[4]);return Ie},Le=function(z){var Z;if(Z=z[3]<1?"rgba":"rgb",Z==="rgb")return Z+"("+z.slice(0,3).map(it).join(",")+")";if(Z==="rgba")return Z+"("+z.slice(0,3).map(it).join(",")+","+z[3]+")"},ft=function(z){return it(z*100)/100},B=function(z,Z){var ne;return ne=Z<1?"hsla":"hsl",z[0]=ft(z[0]||0),z[1]=ft(z[1]*100)+"%",z[2]=ft(z[2]*100)+"%",ne==="hsla"&&(z[3]=Z),ne+"("+z.join(",")+")"},f.css=function(z){return M(z)},w.css=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["css"]),function(){})},n.prototype.css=function(z){if(z==null&&(z="rgb"),z.slice(0,3)==="rgb")return Le(this._rgb);if(z.slice(0,3)==="hsl")return B(this.hsl(),this.alpha())},f.named=function(z){return E(tt[z])},u.push({p:5,test:function(z){if(arguments.length===1&&tt[z]!=null)return"named"}}),n.prototype.name=function(z){var Z,ne;arguments.length&&(tt[z]&&(this._rgb=E(tt[z])),this._rgb[3]=1),Z=this.hex("rgb");for(ne in tt)if(Z===tt[ne])return ne;return Z},le=function(){var z,Z,ne,de;return de=Ue(arguments),ne=de[0],z=de[1],Z=de[2],Z=Z*r,[ne,P(Z)*z,Pe(Z)*z]},te=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe,Ye,rt;return ne=Ue(arguments),Ie=ne[0],ce=ne[1],xe=ne[2],Ye=le(Ie,ce,xe),z=Ye[0],Z=Ye[1],de=Ye[2],rt=ie(z,Z,de),Xe=rt[0],Se=rt[1],de=rt[2],[Xe,Se,de,ne.length>3?ne[3]:1]},G=function(){var z,Z,ne,de,ce,Se;return Se=Ue(arguments),ce=Se[0],z=Se[1],Z=Se[2],ne=Re(z*z+Z*Z),de=(g(Z,z)*s+360)%360,it(ne*1e4)===0&&(de=Number.NaN),[ce,ne,de]},K=function(){var z,Z,ne,de,ce,Se,xe;return Se=Ue(arguments),ce=Se[0],ne=Se[1],Z=Se[2],xe=F(ce,ne,Z),de=xe[0],z=xe[1],Z=xe[2],G(de,z,Z)},w.lch=function(){var z;return z=Ue(arguments),new n(z,"lch")},w.hcl=function(){var z;return z=Ue(arguments),new n(z,"hcl")},f.lch=te,f.hcl=function(){var z,Z,ne,de;return de=Ue(arguments),Z=de[0],z=de[1],ne=de[2],te([ne,z,Z])},n.prototype.lch=function(){return K(this._rgb)},n.prototype.hcl=function(){return K(this._rgb).reverse()},ye=function(z){var Z,ne,de,ce,Se,xe,Ie,Xe,Ye;return z==null&&(z="rgb"),Xe=Ue(arguments),Ie=Xe[0],ce=Xe[1],Z=Xe[2],Ie=Ie/255,ce=ce/255,Z=Z/255,Se=1-Math.max(Ie,Math.max(ce,Z)),de=Se<1?1/(1-Se):0,ne=(1-Ie-Se)*de,xe=(1-ce-Se)*de,Ye=(1-Z-Se)*de,[ne,xe,Ye,Se]},S=function(){var z,Z,ne,de,ce,Se,xe,Ie,Xe;return Z=Ue(arguments),de=Z[0],xe=Z[1],Xe=Z[2],Se=Z[3],z=Z.length>4?Z[4]:1,Se===1?[0,0,0,z]:(Ie=de>=1?0:255*(1-de)*(1-Se),ce=xe>=1?0:255*(1-xe)*(1-Se),ne=Xe>=1?0:255*(1-Xe)*(1-Se),[Ie,ce,ne,z])},f.cmyk=function(){return S(Ue(arguments))},w.cmyk=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["cmyk"]),function(){})},n.prototype.cmyk=function(){return ye(this._rgb)},f.gl=function(){var z,Z,ne,de,ce;for(de=function(){var Se,xe;Se=Ue(arguments),xe=[];for(Z in Se)ce=Se[Z],xe.push(ce);return xe}.apply(this,arguments),z=ne=0;ne<=2;z=++ne)de[z]*=255;return de},w.gl=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["gl"]),function(){})},n.prototype.gl=function(){var z;return z=this._rgb,[z[0]/255,z[1]/255,z[2]/255,z[3]]},he=function(z,Z,ne){var de;return de=Ue(arguments),z=de[0],Z=de[1],ne=de[2],z=we(z),Z=we(Z),ne=we(ne),.2126*z+.7152*Z+.0722*ne},we=function(z){return z/=255,z<=.03928?z/12.92:me((z+.055)/1.055,2.4)},J=function(z,Z,ne,de){var ce,Se;return ce=z._rgb,Se=Z._rgb,new n(ce[0]+ne*(Se[0]-ce[0]),ce[1]+ne*(Se[1]-ce[1]),ce[2]+ne*(Se[2]-ce[2]),de)},p.push(["rgb",J]),n.prototype.luminance=function(z,Z){var ne,de,ce,Se,xe;return Z==null&&(Z="rgb"),arguments.length?(Se=this._rgb,z===0?Se=[0,0,0,this._rgb[3]]:z===1?Se=[255,255,255,this[3]]:(ne=he(this._rgb),de=1e-7,ce=20,xe=function(Ie,Xe){var Ye,rt;return rt=Ie.interpolate(Xe,.5,Z),Ye=rt.luminance(),Math.abs(z-Ye)<de||!ce--?rt:Ye>z?xe(Ie,rt):xe(rt,Xe)},ne>z?Se=xe(w("black"),this).rgba():Se=xe(this,w("white")).rgba()),w(Se).alpha(this.alpha())):he(this._rgb)},ze=function(z){var Z,ne,de,ce;return ce=z/100,ce<66?(de=255,ne=-155.25485562709179-.44596950469579133*(ne=ce-2)+104.49216199393888*pe(ne),Z=ce<20?0:-254.76935184120902+.8274096064007395*(Z=ce-10)+115.67994401066147*pe(Z)):(de=351.97690566805693+.114206453784165*(de=ce-55)-40.25366309332127*pe(de),ne=325.4494125711974+.07943456536662342*(ne=ce-50)-28.0852963507957*pe(ne),Z=255),[de,ne,Z]},Ae=function(){var z,Z,ne,de,ce,Se,xe,Ie;for(Se=Ue(arguments),ce=Se[0],Se[1],z=Se[2],de=1e3,ne=4e4,Z=.4;ne-de>Z;)Ie=(ne+de)*.5,xe=ze(Ie),xe[2]/xe[0]>=z/ce?ne=Ie:de=Ie;return it(Ie)},w.temperature=w.kelvin=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=ze,n.prototype.temperature=function(){return Ae(this._rgb)},n.prototype.kelvin=n.prototype.temperature,w.contrast=function(z,Z){var ne,de,ce,Se;return((ce=je(z))==="string"||ce==="number")&&(z=new n(z)),((Se=je(Z))==="string"||Se==="number")&&(Z=new n(Z)),ne=z.luminance(),de=Z.luminance(),ne>de?(ne+.05)/(de+.05):(de+.05)/(ne+.05)},w.distance=function(z,Z,ne){var de,ce,Se,xe,Ie,Xe,Ye;ne==null&&(ne="lab"),((Ie=je(z))==="string"||Ie==="number")&&(z=new n(z)),((Xe=je(Z))==="string"||Xe==="number")&&(Z=new n(Z)),Se=z.get(ne),xe=Z.get(ne),Ye=0;for(ce in Se)de=(Se[ce]||0)-(xe[ce]||0),Ye+=de*de;return Math.sqrt(Ye)},w.deltaE=function(z,Z,ne,de){var ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt,wt,gt,_t,zt,Eo,li,sn,st,Ct,Xt,fn,Wt,bn,pn,In;for(ne==null&&(ne=1),de==null&&(de=1),((Eo=je(z))==="string"||Eo==="number")&&(z=new n(z)),((li=je(Z))==="string"||li==="number")&&(Z=new n(Z)),sn=z.lab(),ce=sn[0],xe=sn[1],Xe=sn[2],st=Z.lab(),Se=st[0],Ie=st[1],Ye=st[2],rt=Re(xe*xe+Xe*Xe),Fe=Re(Ie*Ie+Ye*Ye),fn=ce<16?.511:.040975*ce/(1+.01765*ce),Ct=.0638*rt/(1+.0131*rt)+.638,zt=rt<1e-6?0:g(Xe,xe)*180/i;zt<0;)zt+=360;for(;zt>=360;)zt-=360;return Wt=zt>=164&&zt<=345?.56+h(.2*P(i*(zt+168)/180)):.36+h(.4*P(i*(zt+35)/180)),Oe=rt*rt*rt*rt,_t=Re(Oe/(Oe+1900)),Xt=Ct*(_t*Wt+1-_t),gt=ce-Se,wt=rt-Fe,et=xe-Ie,pt=Xe-Ye,Ge=et*et+pt*pt-wt*wt,bn=gt/(ne*fn),pn=wt/(de*Ct),In=Xt,Re(bn*bn+pn*pn+Ge/(In*In))},n.prototype.get=function(z){var Z,ne,de,ce,Se,xe;return de=this,Se=z.split("."),ce=Se[0],Z=Se[1],xe=de[ce](),Z?(ne=ce.indexOf(Z),ne>-1?xe[ne]:console.warn("unknown channel "+Z+" in mode "+ce)):xe},n.prototype.set=function(z,Z){var ne,de,ce,Se,xe,Ie;if(ce=this,xe=z.split("."),Se=xe[0],ne=xe[1],ne)if(Ie=ce[Se](),de=Se.indexOf(ne),de>-1)if(je(Z)==="string")switch(Z.charAt(0)){case"+":Ie[de]+=+Z;break;case"-":Ie[de]+=+Z;break;case"*":Ie[de]*=+Z.substr(1);break;case"/":Ie[de]/=+Z.substr(1);break;default:Ie[de]=+Z}else Ie[de]=Z;else console.warn("unknown channel "+ne+" in mode "+Se);else Ie=Z;return w(Ie,Se).alpha(ce.alpha())},n.prototype.clipped=function(){return this._rgb._clipped||!1},n.prototype.alpha=function(z){return arguments.length?w.rgb([this._rgb[0],this._rgb[1],this._rgb[2],z]):this._rgb[3]},n.prototype.darken=function(z){var Z,ne;return z==null&&(z=1),ne=this,Z=ne.lab(),Z[0]-=o.Kn*z,w.lab(Z).alpha(ne.alpha())},n.prototype.brighten=function(z){return z==null&&(z=1),this.darken(-z)},n.prototype.darker=n.prototype.darken,n.prototype.brighter=n.prototype.brighten,n.prototype.saturate=function(z){var Z,ne;return z==null&&(z=1),ne=this,Z=ne.lch(),Z[1]+=z*o.Kn,Z[1]<0&&(Z[1]=0),w.lch(Z).alpha(ne.alpha())},n.prototype.desaturate=function(z){return z==null&&(z=1),this.saturate(-z)},n.prototype.premultiply=function(){var z,Z;return Z=this.rgb(),z=this.alpha(),w(Z[0]*z,Z[1]*z,Z[2]*z,z)},m=function(z,Z,ne){if(!m[ne])throw"unknown blend mode "+ne;return m[ne](z,Z)},b=function(z){return function(Z,ne){var de,ce;return de=w(ne).rgb(),ce=w(Z).rgb(),w(z(de,ce),"rgb")}},L=function(z){return function(Z,ne){var de,ce,Se;for(Se=[],de=ce=0;ce<=3;de=++ce)Se[de]=z(Z[de],ne[de]);return Se}},oe=function(z,Z){return z},W=function(z,Z){return z*Z/255},I=function(z,Z){return z>Z?Z:z},re=function(z,Z){return z>Z?z:Z},At=function(z,Z){return 255*(1-(1-z/255)*(1-Z/255))},ve=function(z,Z){return Z<128?2*z*Z/255:255*(1-2*(1-z/255)*(1-Z/255))},y=function(z,Z){return 255*(1-(1-Z/255)/(z/255))},O=function(z,Z){return z===255||(z=255*(Z/255)/(1-z/255),z>255)?255:z},m.normal=b(L(oe)),m.multiply=b(L(W)),m.screen=b(L(At)),m.overlay=b(L(ve)),m.darken=b(L(I)),m.lighten=b(L(re)),m.dodge=b(L(O)),m.burn=b(L(y)),w.blend=m,w.analyze=function(z){var Z,ne,de,ce;for(de={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},ne=0,Z=z.length;ne<Z;ne++)ce=z[ne],ce!=null&&!isNaN(ce)&&(de.values.push(ce),de.sum+=ce,ce<de.min&&(de.min=ce),ce>de.max&&(de.max=ce),de.count+=1);return de.domain=[de.min,de.max],de.limits=function(Se,xe){return w.limits(de,Se,xe)},de},w.scale=function(z,Z){var ne,de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt,wt,gt,_t,zt,Eo,li,sn;return rt="rgb",Fe=w("#ccc"),pt=0,xe=[0,1],et=[],Ge=[0,0],ne=!1,ce=[],Oe=!1,Ye=0,Xe=1,Se=!1,de={},wt=!0,Ie=1,li=function(st){var Ct,Xt,fn,Wt,bn,pn;if(st==null&&(st=["#fff","#000"]),st!=null&&je(st)==="string"&&w.brewer!=null&&(st=w.brewer[st]||w.brewer[st.toLowerCase()]||st),je(st)==="array"){for(st.length===1&&(st=[st[0],st[0]]),st=st.slice(0),Ct=fn=0,Wt=st.length-1;0<=Wt?fn<=Wt:fn>=Wt;Ct=0<=Wt?++fn:--fn)Xt=st[Ct],je(Xt)==="string"&&(st[Ct]=w(Xt));for(et.length=0,Ct=pn=0,bn=st.length-1;0<=bn?pn<=bn:pn>=bn;Ct=0<=bn?++pn:--pn)et.push(Ct/(st.length-1))}return Eo(),ce=st},_t=function(st){var Ct,Xt;if(ne!=null){for(Xt=ne.length-1,Ct=0;Ct<Xt&&st>=ne[Ct];)Ct++;return Ct-1}return 0},sn=function(st){return st},zt=function(st,Ct){var Xt,fn,Wt,bn,pn,In,zr,en;if(Ct==null&&(Ct=!1),isNaN(st)||st===null)return Fe;if(Ct?en=st:ne&&ne.length>2?(Xt=_t(st),en=Xt/(ne.length-2)):Xe!==Ye?en=(st-Ye)/(Xe-Ye):en=1,Ct||(en=sn(en)),Ie!==1&&(en=me(en,Ie)),en=Ge[0]+en*(1-Ge[0]-Ge[1]),en=Math.min(1,Math.max(0,en)),bn=Math.floor(en*1e4),wt&&de[bn])fn=de[bn];else{if(je(ce)==="array")for(Wt=pn=0,zr=et.length-1;0<=zr?pn<=zr:pn>=zr;Wt=0<=zr?++pn:--pn){if(In=et[Wt],en<=In){fn=ce[Wt];break}if(en>=In&&Wt===et.length-1){fn=ce[Wt];break}if(en>In&&en<et[Wt+1]){en=(en-In)/(et[Wt+1]-In),fn=w.interpolate(ce[Wt],ce[Wt+1],en,rt);break}}else je(ce)==="function"&&(fn=ce(en));wt&&(de[bn]=fn)}return fn},Eo=function(){return de={}},li(z),gt=function(st){var Ct;return Ct=w(zt(st)),Oe&&Ct[Oe]?Ct[Oe]():Ct},gt.classes=function(st){var Ct;return st!=null?(je(st)==="array"?(ne=st,xe=[st[0],st[st.length-1]]):(Ct=w.analyze(xe),st===0?ne=[Ct.min,Ct.max]:ne=w.limits(Ct,"e",st)),gt):ne},gt.domain=function(st){var Ct,Xt,fn,Wt,bn,pn,In;if(!arguments.length)return xe;if(Ye=st[0],Xe=st[st.length-1],et=[],fn=ce.length,st.length===fn&&Ye!==Xe)for(bn=0,Wt=st.length;bn<Wt;bn++)Xt=st[bn],et.push((Xt-Ye)/(Xe-Ye));else for(Ct=In=0,pn=fn-1;0<=pn?In<=pn:In>=pn;Ct=0<=pn?++In:--In)et.push(Ct/(fn-1));return xe=[Ye,Xe],gt},gt.mode=function(st){return arguments.length?(rt=st,Eo(),gt):rt},gt.range=function(st,Ct){return li(st,Ct),gt},gt.out=function(st){return Oe=st,gt},gt.spread=function(st){return arguments.length?(pt=st,gt):pt},gt.correctLightness=function(st){return st==null&&(st=!0),Se=st,Eo(),Se?sn=function(Ct){var Xt,fn,Wt,bn,pn,In,zr,en,Hn;for(Xt=zt(0,!0).lab()[0],fn=zt(1,!0).lab()[0],zr=Xt>fn,Wt=zt(Ct,!0).lab()[0],pn=Xt+(fn-Xt)*Ct,bn=Wt-pn,en=0,Hn=1,In=20;Math.abs(bn)>.01&&In-- >0;)(function(){return zr&&(bn*=-1),bn<0?(en=Ct,Ct+=(Hn-Ct)*.5):(Hn=Ct,Ct+=(en-Ct)*.5),Wt=zt(Ct,!0).lab()[0],bn=Wt-pn})();return Ct}:sn=function(Ct){return Ct},gt},gt.padding=function(st){return st!=null?(je(st)==="number"&&(st=[st,st]),Ge=st,gt):Ge},gt.colors=function(st,Ct){var Xt,fn,Wt,bn,pn,In,zr,en;if(arguments.length<2&&(Ct="hex"),pn=[],arguments.length===0)pn=ce.slice(0);else if(st===1)pn=[gt(.5)];else if(st>1)fn=xe[0],Xt=xe[1]-fn,pn=function(){In=[];for(var Hn=0;0<=st?Hn<st:Hn>st;0<=st?Hn++:Hn--)In.push(Hn);return In}.apply(this).map(function(Hn){return gt(fn+Hn/(st-1)*Xt)});else{if(z=[],zr=[],ne&&ne.length>2)for(Wt=en=1,bn=ne.length;1<=bn?en<bn:en>bn;Wt=1<=bn?++en:--en)zr.push((ne[Wt-1]+ne[Wt])*.5);else zr=xe;pn=zr.map(function(Hn){return gt(Hn)})}return w[Ct]&&(pn=pn.map(function(Hn){return Hn[Ct]()})),pn},gt.cache=function(st){return st!=null?(wt=st,gt):wt},gt.gamma=function(st){return st!=null?(Ie=st,gt):Ie},gt.nodata=function(st){return st!=null?(Fe=w(st),gt):Fe},gt},w.scales==null&&(w.scales={}),w.scales.cool=function(){return w.scale([w.hsl(180,1,.9),w.hsl(250,.7,.4)])},w.scales.hot=function(){return w.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},w.analyze=function(z,Z,ne){var de,ce,Se,xe,Ie,Xe,Ye;if(Ie={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},ne==null&&(ne=function(){return!0}),de=function(rt){rt!=null&&!isNaN(rt)&&(Ie.values.push(rt),Ie.sum+=rt,rt<Ie.min&&(Ie.min=rt),rt>Ie.max&&(Ie.max=rt),Ie.count+=1)},Ye=function(rt,Fe){if(ne(rt,Fe))return Z!=null&&je(Z)==="function"?de(Z(rt)):Z!=null&&je(Z)==="string"||je(Z)==="number"?de(rt[Z]):de(rt)},je(z)==="array")for(xe=0,Se=z.length;xe<Se;xe++)Xe=z[xe],Ye(Xe);else for(ce in z)Xe=z[ce],Ye(Xe,ce);return Ie.domain=[Ie.min,Ie.max],Ie.limits=function(rt,Fe){return w.limits(Ie,rt,Fe)},Ie},w.limits=function(z,Z,ne){var de,ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt,wt,gt,_t,zt,Eo,li,sn,st,Ct,Xt,fn,Wt,bn,pn,In,zr,en,Hn,xo,To,Oa,Bi,Ia,Oo,ka,Xs,vr,Ra,Ll,Ks,us,Ys,ca,Nu,Zs,$l,Bu,ci,Ic,th,ua,ju;if(Z==null&&(Z="equal"),ne==null&&(ne=7),je(z)==="array"&&(z=w.analyze(z)),Wt=z.min,_e=z.max,z.sum,ua=z.values.sort(function(kc,da){return kc-da}),ne===1)return[Wt,_e];if(Xt=[],Z.substr(0,1)==="c"&&(Xt.push(Wt),Xt.push(_e)),Z.substr(0,1)==="e"){for(Xt.push(Wt),sn=Hn=1,Bi=ne-1;1<=Bi?Hn<=Bi:Hn>=Bi;sn=1<=Bi?++Hn:--Hn)Xt.push(Wt+sn/ne*(_e-Wt));Xt.push(_e)}else if(Z.substr(0,1)==="l"){if(Wt<=0)throw"Logarithmic scales are only possible for values > 0";for(bn=Math.LOG10E*pe(Wt),fn=Math.LOG10E*pe(_e),Xt.push(Wt),sn=ju=1,Ia=ne-1;1<=Ia?ju<=Ia:ju>=Ia;sn=1<=Ia?++ju:--ju)Xt.push(me(10,bn+sn/ne*(fn-bn)));Xt.push(_e)}else if(Z.substr(0,1)==="q"){for(Xt.push(Wt),sn=de=1,Ll=ne-1;1<=Ll?de<=Ll:de>=Ll;sn=1<=Ll?++de:--de)xo=(ua.length-1)*sn/ne,To=R(xo),To===xo?Xt.push(ua[To]):(Oa=xo-To,Xt.push(ua[To]*(1-Oa)+ua[To+1]*Oa));Xt.push(_e)}else if(Z.substr(0,1)==="k"){for(In=ua.length,wt=new Array(In),Eo=new Array(ne),Bu=!0,zr=0,_t=null,_t=[],_t.push(Wt),sn=ce=1,Ks=ne-1;1<=Ks?ce<=Ks:ce>=Ks;sn=1<=Ks?++ce:--ce)_t.push(Wt+sn/ne*(_e-Wt));for(_t.push(_e);Bu;){for(st=Se=0,us=ne-1;0<=us?Se<=us:Se>=us;st=0<=us?++Se:--Se)Eo[st]=0;for(sn=xe=0,Ys=In-1;0<=Ys?xe<=Ys:xe>=Ys;sn=0<=Ys?++xe:--xe){for(th=ua[sn],pn=Number.MAX_VALUE,st=Ie=0,ca=ne-1;0<=ca?Ie<=ca:Ie>=ca;st=0<=ca?++Ie:--Ie)li=h(_t[st]-th),li<pn&&(pn=li,gt=st);Eo[gt]++,wt[sn]=gt}for(en=new Array(ne),st=Xe=0,Nu=ne-1;0<=Nu?Xe<=Nu:Xe>=Nu;st=0<=Nu?++Xe:--Xe)en[st]=null;for(sn=Ye=0,Zs=In-1;0<=Zs?Ye<=Zs:Ye>=Zs;sn=0<=Zs?++Ye:--Ye)zt=wt[sn],en[zt]===null?en[zt]=ua[sn]:en[zt]+=ua[sn];for(st=rt=0,$l=ne-1;0<=$l?rt<=$l:rt>=$l;st=0<=$l?++rt:--rt)en[st]*=1/Eo[st];for(Bu=!1,st=Fe=0,Oo=ne-1;0<=Oo?Fe<=Oo:Fe>=Oo;st=0<=Oo?++Fe:--Fe)if(en[st]!==_t[sn]){Bu=!0;break}_t=en,zr++,zr>200&&(Bu=!1)}for(Ct={},st=Oe=0,ka=ne-1;0<=ka?Oe<=ka:Oe>=ka;st=0<=ka?++Oe:--Oe)Ct[st]=[];for(sn=Ge=0,Xs=In-1;0<=Xs?Ge<=Xs:Ge>=Xs;sn=0<=Xs?++Ge:--Ge)zt=wt[sn],Ct[zt].push(ua[sn]);for(ci=[],st=et=0,vr=ne-1;0<=vr?et<=vr:et>=vr;st=0<=vr?++et:--et)ci.push(Ct[st][0]),ci.push(Ct[st][Ct[st].length-1]);for(ci=ci.sort(function(kc,da){return kc-da}),Xt.push(ci[0]),sn=pt=1,Ra=ci.length-1;pt<=Ra;sn=pt+=2)Ic=ci[sn],!isNaN(Ic)&&Xt.indexOf(Ic)===-1&&Xt.push(Ic)}return Xt},k=function(z,Z,ne){var de,ce,Se,xe;return de=Ue(arguments),z=de[0],Z=de[1],ne=de[2],isNaN(z)&&(z=0),z/=360,z<1/3?(ce=(1-Z)/3,xe=(1+Z*P(l*z)/P(a-l*z))/3,Se=1-(ce+xe)):z<2/3?(z-=1/3,xe=(1-Z)/3,Se=(1+Z*P(l*z)/P(a-l*z))/3,ce=1-(xe+Se)):(z-=2/3,Se=(1-Z)/3,ce=(1+Z*P(l*z)/P(a-l*z))/3,xe=1-(Se+ce)),xe=ae(ne*xe*3),Se=ae(ne*Se*3),ce=ae(ne*ce*3),[xe*255,Se*255,ce*255,de.length>3?de[3]:1]},$e=function(){var z,Z,ne,de,ce,Se,xe,Ie;return xe=Ue(arguments),Se=xe[0],Z=xe[1],z=xe[2],l=Math.PI*2,Se/=255,Z/=255,z/=255,ce=Math.min(Se,Z,z),de=(Se+Z+z)/3,Ie=1-ce/de,Ie===0?ne=0:(ne=(Se-Z+(Se-z))/2,ne/=Math.sqrt((Se-Z)*(Se-Z)+(Se-z)*(Z-z)),ne=Math.acos(ne),z>Z&&(ne=l-ne),ne/=l),[ne*360,Ie,de]},w.hsi=function(){return function(z,Z,ne){ne.prototype=z.prototype;var de=new ne,ce=z.apply(de,Z);return Object(ce)===ce?ce:de}(n,Ve.call(arguments).concat(["hsi"]),function(){})},f.hsi=k,n.prototype.hsi=function(){return $e(this._rgb)},q=function(z,Z,ne,de){var ce,Se,xe,Ie,Xe,Ye,rt,Fe,Oe,Ge,et,pt;return de==="hsl"?(et=z.hsl(),pt=Z.hsl()):de==="hsv"?(et=z.hsv(),pt=Z.hsv()):de==="hcg"?(et=z.hcg(),pt=Z.hcg()):de==="hsi"?(et=z.hsi(),pt=Z.hsi()):(de==="lch"||de==="hcl")&&(de="hcl",et=z.hcl(),pt=Z.hcl()),de.substr(0,1)==="h"&&(xe=et[0],Oe=et[1],Ye=et[2],Ie=pt[0],Ge=pt[1],rt=pt[2]),!isNaN(xe)&&!isNaN(Ie)?(Ie>xe&&Ie-xe>180?ce=Ie-(xe+360):Ie<xe&&xe-Ie>180?ce=Ie+360-xe:ce=Ie-xe,Se=xe+ne*ce):isNaN(xe)?isNaN(Ie)?Se=Number.NaN:(Se=Ie,(Ye===1||Ye===0)&&de!=="hsv"&&(Fe=Ge)):(Se=xe,(rt===1||rt===0)&&de!=="hsv"&&(Fe=Oe)),Fe==null&&(Fe=Oe+ne*(Ge-Oe)),Xe=Ye+ne*(rt-Ye),w[de](Se,Fe,Xe)},p=p.concat(function(){var z,Z,ne,de;for(ne=["hsv","hsl","hsi","hcl","lch","hcg"],de=[],Z=0,z=ne.length;Z<z;Z++)fe=ne[Z],de.push([fe,q]);return de}()),X=function(z,Z,ne,de){var ce,Se;return ce=z.num(),Se=Z.num(),w.num(ce+(Se-ce)*ne,"num")},p.push(["num",X]),Q=function(z,Z,ne,de){var ce,Se;return ce=z.lab(),Se=Z.lab(),new n(ce[0]+ne*(Se[0]-ce[0]),ce[1]+ne*(Se[1]-ce[1]),ce[2]+ne*(Se[2]-ce[2]),de)},p.push(["lab",Q])}).call(ue)})(_E,_E.exports);var Gwt=_E.exports,Hfe={exports:{}};(function(e){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */(function(t){function n(a,s,l,c,u){this._listener=s,this._isOnce=l,this.context=c,this._signal=a,this._priority=u||0}n.prototype={active:!0,params:null,execute:function(a){var s,l;return this.active&&this._listener&&(l=this.params?this.params.concat(a):a,s=this._listener.apply(this.context,l),this._isOnce&&this.detach()),s},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function r(a,s){if(typeof a!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",s))}function o(){this._bindings=[],this._prevParams=null;var a=this;this.dispatch=function(){o.prototype.dispatch.apply(a,arguments)}}o.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,s,l,c){var u=this._indexOfListener(a,l),d;if(u!==-1){if(d=this._bindings[u],d.isOnce()!==s)throw new Error("You cannot add"+(s?"":"Once")+"() then add"+(s?"Once":"")+"() the same listener without removing the relationship first.")}else d=new n(this,a,s,l,c),this._addBinding(d);return this.memorize&&this._prevParams&&d.execute(this._prevParams),d},_addBinding:function(a){var s=this._bindings.length;do--s;while(this._bindings[s]&&a._priority<=this._bindings[s]._priority);this._bindings.splice(s+1,0,a)},_indexOfListener:function(a,s){for(var l=this._bindings.length,c;l--;)if(c=this._bindings[l],c._listener===a&&c.context===s)return l;return-1},has:function(a,s){return this._indexOfListener(a,s)!==-1},add:function(a,s,l){return r(a,"add"),this._registerListener(a,!1,s,l)},addOnce:function(a,s,l){return r(a,"addOnce"),this._registerListener(a,!0,s,l)},remove:function(a,s){r(a,"remove");var l=this._indexOfListener(a,s);return l!==-1&&(this._bindings[l]._destroy(),this._bindings.splice(l,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var s=Array.prototype.slice.call(arguments),l=this._bindings.length,c;if(this.memorize&&(this._prevParams=s),!!l){c=this._bindings.slice(),this._shouldPropagate=!0;do l--;while(c[l]&&this._shouldPropagate&&c[l].execute(s)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=o;i.Signal=o,e.exports?e.exports=i:t.signals=i})(ue)})(Hfe);var un=Hfe.exports,va={};(function(e){(function(){var t={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(s){return o(a(s),arguments)}function r(s,l){return n.apply(null,[s].concat(l||[]))}function o(s,l){var c=1,u=s.length,d,f="",p,h,g,v,m,b,x,y;for(p=0;p<u;p++)if(typeof s[p]=="string")f+=s[p];else if(typeof s[p]=="object"){if(g=s[p],g.keys)for(d=l[c],h=0;h<g.keys.length;h++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[h],g.keys[h-1]));d=d[g.keys[h]]}else g.param_no?d=l[g.param_no]:d=l[c++];if(t.not_type.test(g.type)&&t.not_primitive.test(g.type)&&d instanceof Function&&(d=d()),t.numeric_arg.test(g.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(t.number.test(g.type)&&(x=d>=0),g.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,g.width?parseInt(g.width):0);break;case"e":d=g.precision?parseFloat(d).toExponential(g.precision):parseFloat(d).toExponential();break;case"f":d=g.precision?parseFloat(d).toFixed(g.precision):parseFloat(d);break;case"g":d=g.precision?String(Number(d.toPrecision(g.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=g.precision?d.substring(0,g.precision):d;break;case"t":d=String(!!d),d=g.precision?d.substring(0,g.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=g.precision?d.substring(0,g.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=g.precision?d.substring(0,g.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}t.json.test(g.type)?f+=d:(t.number.test(g.type)&&(!x||g.sign)?(y=x?"+":"-",d=d.toString().replace(t.sign,"")):y="",m=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",b=g.width-(y+d).length,v=g.width&&b>0?m.repeat(b):"",f+=g.align?y+d+v:m==="0"?y+v+d:v+y+d)}return f}var i=Object.create(null);function a(s){if(i[s])return i[s];for(var l=s,c,u=[],d=0;l;){if((c=t.text.exec(l))!==null)u.push(c[0]);else if((c=t.modulo.exec(l))!==null)u.push("%");else if((c=t.placeholder.exec(l))!==null){if(c[2]){d|=1;var f=[],p=c[2],h=[];if((h=t.key.exec(p))!==null)for(f.push(h[1]);(p=p.substring(h[0].length))!=="";)if((h=t.key_access.exec(p))!==null)f.push(h[1]);else if((h=t.index_access.exec(p))!==null)f.push(h[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=f}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");l=l.substring(c[0].length)}return i[s]=u}e.sprintf=n,e.vsprintf=r,typeof window<"u"&&(window.sprintf=n,window.vsprintf=r)})()})(va);var vX,m$,bX,yX,xX;function Wwt(e){if(typeof window<"u"){var t=new RegExp(e+"=([^&#=]*)").exec(window.location.search);return t?decodeURIComponent(t[1]):void 0}}function se(e,t){return e!==void 0?e:t}function Ws(e,t){var n=Object.assign({},e);for(var r in t)e[r]===void 0&&(n[r]=t[r]);return n}function Vfe(e,t){for(var n in t){var r=t[n];r!==void 0&&(e[n]=r)}return e}function Q6(){var e=window.location.protocol;return e.match(/http(s)?:/gi)===null?"http:":e}function Ufe(){if(typeof window>"u")return!1;var e=window.navigator.userAgent;return/Opera|OPR/.test(e)?"Opera":/Chrome/i.test(e)?"Chrome":/Firefox/i.test(e)?"Firefox":/Mobile(\/.*)? Safari/i.test(e)?"Mobile Safari":/MSIE/i.test(e)?"Internet Explorer":!!/Safari/i.test(e)&&"Safari"}function wX(e){window.open(e,"_blank")||(window.location.href=e)}function qwt(e,t){if(t===void 0&&(t="download"),e){var n=Ufe()==="Safari",r=/CriOS\/[\d]+/.test(window.navigator.userAgent),o=document.createElement("a");if(typeof navigator<"u"&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(e,t);else if((n||r)&&FileReader)if(e instanceof Blob){var i=new FileReader;i.onloadend=function(){s(i.result)},i.readAsDataURL(e)}else s(e);else{var a=!1;e instanceof Blob&&(e=URL.createObjectURL(e),a=!0),"download"in o?(o.style.display="hidden",document.body.appendChild(o),o.href=e,o.download=t,o.target="_blank",o.click(),document.body.removeChild(o)):wX(e),a&&window.URL.revokeObjectURL(e)}}function s(l){wX(r?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function Xwt(e,t){return e<t?-1:e>t?1:0}function kh(e,t,n){n===void 0&&(n=Xwt);for(var r=0,o=e.length-1;r<=o;){var i=r+o>>1,a=n(t,e[i]);if(a>0)r=i+1;else{if(!(a<0))return i;o=i-1}}return-r-1}function J6(e,t,n){var r=function(i,a){var s=i.length-1;if(i[s]<a)return-1;for(var l=0;l<=s;){var c=l+s>>1;i[c]>=a?s=c-1:l=c+1}return s+1}(e,t),o=function(i,a){if(i[0]>a)return-1;for(var s=0,l=i.length-1;s<=l;){var c=s+l>>1;i[c]>a?l=c-1:s=c+1}return s-1}(e,n);return r===-1||o===-1||r>o?0:o-r+1}function e8(e){return e.sort().filter(function(t,n,r){return n===0||t!==r[n-1]})}function SE(e){var t=28672;if(e.length>t){for(var n=[],r=0;r<e.length;r+=t)n.push(String.fromCharCode.apply(null,e.subarray(r,r+t)));return n.join("")}return String.fromCharCode.apply(null,e)}function Gfe(e,t){switch(e){case"int8":return new Int8Array(t);case"int16":return new Int16Array(t);case"int32":return new Int32Array(t);case"uint8":return new Uint8Array(t);case"uint16":return new Uint16Array(t);case"uint32":return new Uint32Array(t);case"float32":return new Float32Array(t);default:throw new Error("arrayType unknown: "+e)}}function Ou(e,t){return new(t>65535?Uint32Array:Uint16Array)(e)}function S0(e){return e.buffer&&e.buffer instanceof ArrayBuffer?e.buffer:e}function ck(e,t){return e===void 0?e=new t:Array.isArray(e)&&(e=new t().fromArray(e)),e}function dm(e){return ck(e,ee)}function X1(e){return ck(e,mt)}function UN(e){return ck(e,Er)}function g$(e){return t=e,n=Float32Array,t instanceof n?t:new n(t);var t,n}function _X(e){return se(e,"").toString().toLowerCase()}typeof window<"u"&&function(){window.console=window.console||{};for(var e,t,n=window.console,r={},o=function(){},i="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=i.pop();)n[e]||(n[e]=r);for(;t=a.pop();)n[t]||(n[t]=o)}(),typeof window>"u"||window.HTMLCanvasElement===void 0||window.HTMLCanvasElement.prototype.toBlob||Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=window.atob(this.toDataURL(t,n).split(",")[1]),o=r.length,i=o>>2,a=new Uint8Array(o),s=new Uint32Array(a.buffer,0,i),l=0,c=0;l<i;l++)s[l]=r.charCodeAt(c++)|r.charCodeAt(c++)<<8|r.charCodeAt(c++)<<16|r.charCodeAt(c++)<<24;for(var u=3&o;u--;)a[c]=r.charCodeAt(c++);e(new window.Blob([a],{type:t||"image/png"}))}}),Math.cbrt=Math.cbrt||function(e){var t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t},Math.sign||(Math.sign=function(e){return(e=+e)==0||isNaN(e)?Number(e):e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=arguments;if(e==null)throw new TypeError("Cannot convert first argument to object");for(var n,r=Object(e),o=!1,i=1;i<arguments.length;i++){var a=t[i];if(a!=null){for(var s=Object.keys(Object(a)),l=0,c=s.length;l<c;l++){var u=s[l];try{var d=Object.getOwnPropertyDescriptor(a,u);d!==void 0&&d.enumerable&&(r[u]=a[u])}catch(f){o||(o=!0,n=f)}}if(o)throw n}}return r}}),String.prototype.startsWith||function(){var e=function(){var r;try{var o={},i=Object.defineProperty;r=i(o,o,o)&&i}catch{}return r}(),t={}.toString,n=function(r){if(this===null)throw TypeError();var o=String(this);if(r&&t.call(r)==="[object RegExp]")throw TypeError();var i=o.length,a=String(r),s=a.length,l=arguments.length>1?arguments[1]:void 0,c=l?Number(l):0;Number.isNaN(c)&&(c=0);var u=Math.min(Math.max(c,0),i);if(s+u>i)return!1;for(var d=-1;++d<s;)if(o.charCodeAt(u+d)!==a.charCodeAt(d))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();(typeof t!="number"||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}),String.prototype.repeat||(String.prototype.repeat=function(e){if(this===null)throw new TypeError("can't convert "+this+" to object");var t=""+this;if(e=+e,Number.isNaN(e)&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e===1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),t.length===0||e===0)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="";(1&e)==1&&(n+=t),(e>>>=1)!==0;)t+=t;return n}),String.prototype.includes||(String.prototype.includes=function(e,t){return typeof t!="number"&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),Array.prototype.includes||(Array.prototype.includes=function(e){if(this==null)throw new TypeError("Array.prototype.includes called on null or undefined");var t=Object(this),n=parseInt(t.length,10)||0;if(n===0)return!1;var r,o,i=parseInt(arguments[1],10)||0;for(i>=0?r=i:(r=n+i)<0&&(r=0);r<n;){if(e===(o=t[r])||Number.isNaN(e)&&Number.isNaN(o))return!0;r++}return!1}),Array.from||(Array.from=(vX=Object.prototype.toString,m$=function(e){return typeof e=="function"||vX.call(e)==="[object Function]"},bX=Math.pow(2,53)-1,yX=function(e){var t=function(n){var r=Number(n);return isNaN(r)?0:r!==0&&isFinite(r)?(r>0?1:-1)*Math.floor(Math.abs(r)):r}(e);return Math.min(Math.max(t,0),bX)},function(e){var t=this,n=Object(e);if(e==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,o=arguments.length>1?arguments[1]:void 0;if(o!==void 0){if(!m$(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var i,a=yX(n.length),s=m$(t)?Object(new t(a)):new Array(a),l=0;l<a;)i=n[l],s[l]=o?r===void 0?o(i,l):o.call(r,i,l):i,l+=1;return s.length=a,s})),typeof window<"u"&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(r){var o=new Date().getTime(),i=Math.max(0,16-(o-e)),a=window.setTimeout(function(){r(o+i)},i);return e=o+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(r){clearTimeout(r)})}(),Function.prototype.name===void 0&&Object.defineProperty!==void 0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),typeof window<"u"&&(window.performance===void 0&&(self.performance={}),window.performance.now===void 0&&(xX=Date.now(),window.performance.now=function(){return Date.now()-xX})),Object.defineProperty!==void 0&&(Number.MAX_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MAX_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:Math.pow(2,53)-1}),Number.MIN_SAFE_INTEGER===void 0&&Object.defineProperty(Number,"MIN_SAFE_INTEGER",{enumerable:!1,configurable:!1,writable:!1,value:-(Math.pow(2,53)-1)}));var mc=function(e){this.name=e,this._dict={}},SX={names:{configurable:!0}};function oo(e){return .01745*e}mc.prototype.add=function(e,t){this._dict[_X(e)]=t},mc.prototype.get=function(e){return this._dict[_X(e)]},SX.names.get=function(){return Object.keys(this._dict)},Object.defineProperties(mc.prototype,SX);var Kwt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),tP=new Array(36);function t8(){for(var e,t=0,n=0;n<36;n++)n===8||n===13||n===18||n===23?tP[n]="-":n===14?tP[n]="4":(t<=2&&(t=33554432+16777216*Math.random()|0),e=15&t,t>>=4,tP[n]=Kwt[n===19?3&e|8:e]);return tP.join("")}function GN(e,t,n){return Math.max(t,Math.min(n,e))}function cl(e,t,n){return e+(t-e)*n}function cd(e,t,n,r,o,i){var a=(n-e)*i,s=(r-t)*i,l=o*o;return(2*t-2*n+a+s)*(o*l)+(-3*t+3*n-2*a-s)*l+a*o+t}function oC(e,t,n){var r;return r=function(o,i,a){return(o-i)/(a-i)}(n,e,t),(n=GN(r,0,1))*n*(3-2*n)}var Wfe="sRGB",Ywt={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},cM=new vt;function or(e,t,n){var r=n.value;return n.value=function(o,i){var a=r.bind(this,o,i)();return Wfe=="linear"?(cM.set(a),cM.convertSRGBToLinear(),cM.getHex()):a},n}var Gt,Tn=function(e){e===void 0&&(e={}),this.parameters=Ws(e,Ywt),typeof this.parameters.value=="string"&&(this.parameters.value=cM.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};Tn.prototype.getScale=function(e){e===void 0&&(e={});var t=Ws(e,this.parameters);return t.scale==="rainbow"?t.scale=["red","orange","yellow","green","blue"]:t.scale==="rwb"&&(t.scale=["red","white","blue"]),t.reverse&&(t.domain=t.domain.slice().reverse()),Gwt.scale(t.scale).mode(t.mode).domain(t.domain).out("num")},Tn.prototype.colorToArray=function(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=0),t[n]=(e>>16&255)/255,t[n+1]=(e>>8&255)/255,t[n+2]=(255&e)/255,t},Tn.prototype.atomColorToArray=function(e,t,n){return this.colorToArray(this.atomColor?this.atomColor(e):0,t,n)},Tn.prototype.bondColor=function(e,t){return this.atomProxy&&this.atomColor?(this.atomProxy.index=t?e.atomIndex1:e.atomIndex2,this.atomColor(this.atomProxy)):0},Tn.prototype.bondColorToArray=function(e,t,n,r){return this.colorToArray(this.bondColor(e,t),n,r)},Tn.prototype.volumeColorToArray=function(e,t,n){return this.colorToArray(this.volumeColor?this.volumeColor(e):0,t,n)},Tn.prototype.positionColorToArray=function(e,t,n){return this.colorToArray(this.positionColor?this.positionColor(e):0,t,n)},function(e){e[e.PROTEIN=1]="PROTEIN",e[e.NUCLEIC=2]="NUCLEIC",e[e.RNA=3]="RNA",e[e.DNA=4]="DNA",e[e.POLYMER=5]="POLYMER",e[e.WATER=6]="WATER",e[e.HELIX=7]="HELIX",e[e.SHEET=8]="SHEET",e[e.TURN=9]="TURN",e[e.BACKBONE=10]="BACKBONE",e[e.SIDECHAIN=11]="SIDECHAIN",e[e.ALL=12]="ALL",e[e.HETERO=13]="HETERO",e[e.ION=14]="ION",e[e.SACCHARIDE=15]="SACCHARIDE",e[e.SUGAR=15]="SUGAR",e[e.BONDED=16]="BONDED",e[e.RING=17]="RING",e[e.AROMATICRING=18]="AROMATICRING",e[e.METAL=19]="METAL",e[e.POLARH=20]="POLARH",e[e.NONE=21]="NONE"}(Gt||(Gt={}));var CX=["*","","ALL"],Zwt=["NONE"],n8=[Gt.BACKBONE,Gt.SIDECHAIN,Gt.BONDED,Gt.RING,Gt.AROMATICRING,Gt.METAL,Gt.POLARH],qfe=[Gt.POLYMER,Gt.WATER],Qwt=["ALA","GLY","SER"],Jwt=["CYS","SER","THR"],e_t=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],t_t=["PHE","TRP","TYR","HIS"],n_t=["ASN","GLN"],r_t=["ASP","GLU"],o_t=["ARG","HIS","LYS"],i_t=["ARG","ASP","GLU","HIS","LYS"],a_t=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],s_t=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],l_t=["HIS","PHE","PRO","TRP","TYR"],c_t=["ALA","GLY","ILE","LEU","VAL"];function u_t(e,t){if(t.atomname===void 0&&t.element===void 0&&t.altloc===void 0&&t.atomindex===void 0&&t.keyword===void 0&&t.inscode===void 0&&t.resname===void 0&&t.sstruc===void 0&&t.resno===void 0&&t.chainname===void 0&&t.model===void 0)return-1;if(t.keyword!==void 0&&(t.keyword===Gt.BACKBONE&&!e.isBackbone()||t.keyword===Gt.SIDECHAIN&&!e.isSidechain()||t.keyword===Gt.BONDED&&!e.isBonded()||t.keyword===Gt.RING&&!e.isRing()||t.keyword===Gt.AROMATICRING&&!e.isAromatic()||t.keyword===Gt.HETERO&&!e.isHetero()||t.keyword===Gt.PROTEIN&&!e.isProtein()||t.keyword===Gt.NUCLEIC&&!e.isNucleic()||t.keyword===Gt.RNA&&!e.isRna()||t.keyword===Gt.DNA&&!e.isDna()||t.keyword===Gt.POLYMER&&!e.isPolymer()||t.keyword===Gt.WATER&&!e.isWater()||t.keyword===Gt.HELIX&&!e.isHelix()||t.keyword===Gt.SHEET&&!e.isSheet()||t.keyword===Gt.TURN&&!e.isTurn()||t.keyword===Gt.ION&&!e.isIon()||t.keyword===Gt.SACCHARIDE&&!e.isSaccharide()||t.keyword===Gt.METAL&&!e.isMetal()||t.keyword===Gt.POLARH&&!e.isPolarHydrogen())||t.atomname!==void 0&&t.atomname!==e.atomname||t.element!==void 0&&t.element!==e.element||t.altloc!==void 0&&t.altloc!==e.altloc||t.atomindex!==void 0&&kh(t.atomindex,e.index)<0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function d_t(e,t){if(t.resname===void 0&&t.resno===void 0&&t.inscode===void 0&&t.sstruc===void 0&&t.model===void 0&&t.chainname===void 0&&t.atomindex===void 0&&(t.keyword===void 0||n8.includes(t.keyword)))return-1;if(t.keyword!==void 0&&(t.keyword===Gt.HETERO&&!e.isHetero()||t.keyword===Gt.PROTEIN&&!e.isProtein()||t.keyword===Gt.NUCLEIC&&!e.isNucleic()||t.keyword===Gt.RNA&&!e.isRna()||t.keyword===Gt.DNA&&!e.isDna()||t.keyword===Gt.POLYMER&&!e.isPolymer()||t.keyword===Gt.WATER&&!e.isWater()||t.keyword===Gt.HELIX&&!e.isHelix()||t.keyword===Gt.SHEET&&!e.isSheet()||t.keyword===Gt.TURN&&!e.isTurn()||t.keyword===Gt.ION&&!e.isIon()||t.keyword===Gt.SACCHARIDE&&!e.isSaccharide())||t.atomindex!==void 0&&J6(t.atomindex,e.atomOffset,e.atomEnd)===0)return!1;if(t.resname!==void 0){if(Array.isArray(t.resname)){if(!t.resname.includes(e.resname))return!1}else if(t.resname!==e.resname)return!1}if(t.sstruc!==void 0&&t.sstruc!==e.sstruc)return!1;if(t.resno!==void 0){if(Array.isArray(t.resno)&&t.resno.length===2){if(t.resno[0]>e.resno||t.resno[1]<e.resno)return!1}else if(t.resno!==e.resno)return!1}return(t.inscode===void 0||t.inscode===e.inscode)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex)}function f_t(e,t){return t.chainname!==void 0||t.model!==void 0||t.atomindex!==void 0||t.keyword!==void 0&&qfe.includes(t.keyword)&&e.entity?t.keyword!==void 0&&(t.keyword===Gt.POLYMER&&!e.entity.isPolymer()||t.keyword===Gt.WATER&&!e.entity.isWater())?!1:(t.atomindex===void 0||J6(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.chainname===void 0||t.chainname===e.chainname)&&(t.model===void 0||t.model===e.modelIndex):-1}function p_t(e,t){return t.model===void 0&&t.atomindex===void 0?-1:(t.atomindex===void 0||J6(t.atomindex,e.atomOffset,e.atomEnd)!==0)&&(t.model===void 0||t.model===e.index)}function iC(e,t){if(e===null||e.error||!e.rules||e.rules.length===0)return!1;for(var n=e.rules.length,r=!e.negate,o=!!e.negate,i=[],a=0;a<n;++a){var s=e.rules[a];s.hasOwnProperty("operator")&&(i[a]=iC(s,t))}return function(l){for(var c=e.operator==="AND",u=!1,d=0;d<n;++d){var f=e.rules[d],p=void 0;if(f.hasOwnProperty("operator")){var h=i[d];if((p=h!==!1?h(l):-1)===-1){u=!0;continue}if(p===!0){if(c)continue;return r}if(c)return o}else{if(f.keyword===Gt.ALL){if(c)continue;return r}if(f.keyword===Gt.NONE){if(c)continue;return o}if((p=t(l,f))!==-1){if(p===!0){if(c)continue;return r}if(c)return o}else u=!0}}return u?-1:c?r:o}}function aC(e,t){if(e.error||!e.rules||e.rules.length===0)return e;var n=e.rules.length,r={operator:e.operator,rules:[]};e.hasOwnProperty("negate")&&(r.negate=e.negate);for(var o=0;o<n;++o){var i=e.rules[o];if(i.hasOwnProperty("operator")){var a=aC(i,t);a!==null&&r.rules.push(a)}else t(i)||r.rules.push(i)}return r.rules.length>0?e:null}function PX(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=aC(e,function(r){return r.keyword!==void 0&&!n8.includes(r.keyword)||r.model!==void 0||r.chainname!==void 0||r.resname!==void 0||r.resno!==void 0||r.sstruc!==void 0})),iC(n,u_t)}function MX(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=aC(e,function(r){return!(r.keyword===void 0||!n8.includes(r.keyword))||r.model!==void 0||r.chainname!==void 0||r.atomname!==void 0||r.element!==void 0||r.altloc!==void 0})),iC(n,d_t)}function AX(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=aC(e,function(r){return r.keyword!==void 0&&!qfe.includes(r.keyword)||r.resname!==void 0||r.resno!==void 0||r.atomname!==void 0||r.element!==void 0||r.altloc!==void 0||r.sstruc!==void 0||r.inscode!==void 0})),iC(n,f_t)}function EX(e,t){t===void 0&&(t=!1);var n=e;return t&&(n=aC(e,function(r){return r.keyword!==void 0||r.chainname!==void 0||r.resname!==void 0||r.resno!==void 0||r.atomname!==void 0||r.element!==void 0||r.altloc!==void 0||r.sstruc!==void 0||r.inscode!==void 0})),iC(n,p_t)}var pr=function(e){this.signals={stringChanged:new un.Signal},this.setString(e)},TX={type:{configurable:!0}};TX.type.get=function(){return"selection"},pr.prototype.setString=function(e,t){if(e===void 0&&(e=this.string||""),e!==this.string){try{this.selection=function(r){var o={operator:void 0,rules:[]};if(!r)return o;var i,a,s=o,l=[];(r=r.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)==="("&&r.substr(-1)===")"&&(r=r.slice(1,-1).trim());for(var c=r.split(/\s+/),u=function(B){i={operator:B,rules:[]},s===void 0?(s=i,o=i):(s.rules.push(i),l.push(s),s=i)},d=function(B){a=s,(s=l.pop())===void 0&&(u(B),f(a))},f=function(B){s.rules.push(B)},p=!1,h=0;h<c.length;++h){var g=c[h],v=g.toUpperCase();if(g!=="(")if(g!==")"){if(p>0)if(v==="NOT")p=1;else if(p===1)p=2;else{if(p!==2)throw new Error("something went wrong with 'not'");p=!1,d()}if(v!=="AND")if(v!=="OR")if(g.toUpperCase()!=="NOT"){if(+v!=+v){var m=Gt[v];if(m!==void 0){f({keyword:m});continue}}if(v!=="HYDROGEN")if(v!=="SMALL")if(v!=="NUCLEOPHILIC")if(v!=="HYDROPHOBIC")if(v!=="AROMATIC")if(v!=="AMIDE")if(v!=="ACIDIC")if(v!=="BASIC")if(v!=="CHARGED")if(v!=="POLAR")if(v!=="NONPOLAR")if(v!=="CYCLIC")if(v!=="ALIPHATIC")if(v!=="SIDECHAINATTACHED")if(v!=="APOLARH")if(v!=="LIGAND")if(CX.indexOf(v)===-1)if(g.charAt(0)!=="@")if(g.charAt(0)!=="#")if(g.charAt(0)!=="_")if(g[0]!=="["||g[g.length-1]!=="]")if(g.length>=1&&g.length<=4&&g[0]!=="^"&&g[0]!==":"&&g[0]!=="."&&g[0]!=="%"&&g[0]!=="/"&&isNaN(parseInt(g)))f({resname:v});else{var b={operator:"AND",rules:[]},x=g.split("/");if(x.length>1&&x[1]){if(isNaN(parseInt(x[1])))throw new Error("model must be an integer");b.rules.push({model:parseInt(x[1])})}var y=x[0].split("%");y.length>1&&b.rules.push({altloc:y[1]});var w=y[0].split(".");if(w.length>1&&w[1]){if(w[1].length>4)throw new Error("atomname must be one to four characters");b.rules.push({atomname:w[1].substring(0,4).toUpperCase()})}var _=w[0].split(":");_.length>1&&_[1]&&b.rules.push({chainname:_[1]});var S=_[0].split("^");if(S.length>1&&b.rules.push({inscode:S[1]}),S[0]){var P=void 0,M=void 0;S[0][0]==="-"&&(S[0]=S[0].substr(1),P=!0),S[0].includes("--")&&(S[0]=S[0].replace("--","-"),M=!0);var I=S[0].split("-");if(I.length===1){var O=parseInt(I[0]);if(isNaN(O))throw new Error("resi must be an integer");P&&(O*=-1),b.rules.push({resno:O})}else{if(I.length!==2)throw new Error("resi range must contain one '-'");var L=I.map(function(B){return parseInt(B)});P&&(L[0]*=-1),M&&(L[1]*=-1),b.rules.push({resno:[L[0],L[1]]})}}if(b.rules.length===1)f(b.rules[0]);else{if(!(b.rules.length>1))throw new Error("empty selection chunk");f(b)}}else{var R=v.substr(1,g.length-2).split(","),T=R.length>1?R:R[0];f({resname:T})}else f({element:v.substr(1)});else console.error("# for element selection deprecated, use _"),f({element:v.substr(1)});else{var E=g.substr(1).split(",").map(function(B){return parseInt(B)});E.sort(function(B,$){return B-$}),f({atomindex:E})}else f({keyword:Gt.ALL});else f({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:Gt.HETERO},{negate:!0,operator:void 0,rules:[{keyword:Gt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:Gt.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:Gt.WATER},{keyword:Gt.ION}]}]}]});else f({operator:"AND",negate:!1,rules:[{element:"H"},{negate:!0,operator:void 0,rules:[{keyword:Gt.POLARH}]}]});else f({operator:"OR",rules:[{keyword:Gt.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:Gt.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:Gt.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"HO3'"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"HO5'"},{atomname:"C5'"},{atomname:"C5*"},{atomname:"H5'"},{atomname:"H5''"}]}]}]});else f({resname:c_t});else f({resname:l_t});else f({resname:s_t});else f({resname:a_t});else f({resname:i_t});else f({resname:o_t});else f({resname:r_t});else f({resname:n_t});else f({resname:t_t});else f({resname:e_t});else f({resname:Jwt});else f({resname:Qwt});else f({operator:"OR",rules:[{element:"H"},{element:"D"}]})}else p=1,u(),s.negate=!0;else s.operator==="AND"?d("OR"):s.operator="OR";else if(s.operator==="OR"){var k=s.rules.pop();u("AND"),f(k)}else s.operator="AND"}else d(),s.negate&&d();else p=!1,u()}return o.operator===void 0&&o.rules.length===1&&o.rules[0].hasOwnProperty("operator")&&(o=o.rules[0]),o}(e)}catch(r){this.selection={error:r.message}}var n=this.selection;this.string=e,this.test=PX(n),this.residueTest=MX(n),this.chainTest=AX(n),this.modelTest=EX(n),this.atomOnlyTest=PX(n,!0),this.residueOnlyTest=MX(n,!0),this.chainOnlyTest=AX(n,!0),this.modelOnlyTest=EX(n,!0),t||this.signals.stringChanged.dispatch(this.string)}},pr.prototype.isAllSelection=function(){return CX.includes(this.string.toUpperCase())},pr.prototype.isNoneSelection=function(){return Zwt.includes(this.string.toUpperCase())},Object.defineProperties(pr.prototype,TX);var h_t=function(e){function t(n){var r=this;e.call(this,n),this.colormakerList=[],this.selectionList=[],(n.dataList||[]).forEach(function(o){var i=o[0],a=o[1],s=o[2];s===void 0&&(s={}),Cn.hasScheme(i)?Object.assign(s,{scheme:i,structure:r.parameters.structure}):Object.assign(s,{scheme:"uniform",value:new vt(i).getHex()}),r.colormakerList.push(Cn.getScheme(s)),r.selectionList.push(new pr(a))})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){for(var r=0,o=this.selectionList.length;r<o;++r){var i=this.selectionList[r].test;if(i&&i(n))return this.colormakerList[r].atomColor(n)}return 16777215},t}(Tn),m_t={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},g_t={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},tl=function(){this.schemes={},this.userSchemes={}};tl.prototype.getScheme=function(e){var t=((e||{}).scheme||"").toLowerCase();return new(t in this.schemes?this.schemes[t]:t in this.userSchemes?this.userSchemes[t]:Tn)(e)},tl.prototype.getSchemes=function(){var e={};return Object.keys(this.schemes).forEach(function(t){e[t]=t}),Object.keys(this.userSchemes).forEach(function(t){e[t]=t.split("|")[1]}),e},tl.prototype.getScales=function(){return m_t},tl.prototype.getModes=function(){return g_t},tl.prototype.add=function(e,t){e=e.toLowerCase(),this.schemes[e]=t},tl.prototype.addScheme=function(e,t){return e instanceof Tn||(e=this._createScheme(e)),this._addUserScheme(e,t)},tl.prototype._addUserScheme=function(e,t){t=t||"";var n=(t8()+"|"+t).toLowerCase();return this.userSchemes[n]=e,n},tl.prototype.removeScheme=function(e){e=e.toLowerCase(),delete this.userSchemes[e]},tl.prototype._createScheme=function(e){var t=function(n){Tn.call(this,n),e.call(this,n)};return(t.prototype=Tn.prototype).constructor=Tn,t},tl.prototype.addSelectionScheme=function(e,t){var n=function(r){function o(i){r.call(this,Object.assign({dataList:e},i))}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o}(h_t);return this._addUserScheme(n,t)},tl.prototype.hasScheme=function(e){return(e=e.toLowerCase())in this.schemes||e in this.userSchemes};var v_t=function(e){function t(){e.call(this,"parser")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__hasObjName=function(n,r){var o=this.get(n);return o&&o.prototype.__objName===r},t.prototype.isTrajectory=function(n){return this.__hasObjName(n,"frames")},t.prototype.isStructure=function(n){return this.__hasObjName(n,"structure")},t.prototype.isVolume=function(n){return this.__hasObjName(n,"volume")},t.prototype.isSurface=function(n){return this.__hasObjName(n,"surface")},t.prototype.isBinary=function(n){var r=this.get(n);return r&&r.prototype.isBinary},t.prototype.isXml=function(n){var r=this.get(n);return r&&r.prototype.isXml},t.prototype.isJson=function(n){var r=this.get(n);return r&&r.prototype.isJson},t.prototype.getTrajectoryExtensions=function(){var n=this;return this.names.filter(function(r){return n.isTrajectory(r)})},t.prototype.getStructureExtensions=function(){var n=this;return this.names.filter(function(r){return n.isStructure(r)})},t.prototype.getVolumeExtensions=function(){var n=this;return this.names.filter(function(r){return n.isVolume(r)})},t.prototype.getSurfaceExtensions=function(){var n=this;return this.names.filter(function(r){return n.isSurface(r)})},t}(mc);function Xfe(e){var t=e;return e.forEach(function(n){n.__deps&&Array.prototype.push.apply(t,Xfe(n.__deps))}),t}function b_t(e){return e8(Xfe(e)).map(function(t){return t.toString()}).join(`


`)}function y_t(e){var t=e.data.__name,n=e.data.__postId;t===void 0?console.error("message __name undefined"):self.func===void 0?console.error("worker func undefined",t):self.func(e,function(r,o){r=r||{},n!==void 0&&(r.__postId=n);try{self.postMessage(r,o)}catch(i){console.error("self.postMessage:",i),self.postMessage(r)}})}function x_t(e,t){var n=`'use strict';

`+b_t(t);return n+=`


self.func = `+e.toString()+";",n+=`


self.onmessage = `+y_t.toString()+";",new Blob([n],{type:"application/javascript"})}var WN=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};WN.prototype.add=function(e,t,n){this._funcDict[e]=t,this._depsDict[e]=n},WN.prototype.get=function(e){return this._blobDict[e]||(this._blobDict[e]=x_t(this._funcDict[e],this._depsDict[e])),this._blobDict[e]};var Kfe=Ufe(),Yfe=!1;try{var w_t=Object.defineProperty({},"passive",{get:function(){Yfe=!0}});window.addEventListener("test",function(e){},w_t)}catch{}var Zfe=typeof window<"u"&&window.orientation!==void 0,$f=!1;function OX(e){$f=e}var xu=!1;function IX(e){xu=e}var Ze={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},p1={color:"green",labelColor:8421504,labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:13882323,labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6,labelUnit:"angstrom",arcVisible:!0,planeVisible:!1},v$,ot=!!(v$=Wwt("debug"))&&(typeof v$!="string"||/^1|true|t|yes|y$/i.test(v$)),b$,__t=["ngl","js"],Jw=new WN,Cn=new tl,gp=new mc("datasource"),jr=new mc("representatation"),rn=new v_t,Gn=new mc("shader"),r8=new mc("decompressor"),Ty=new mc("component"),qs=new mc("buffer"),nl=new mc("picker"),pa=function(e,t){t===void 0&&(t={}),this.chunkSize=10485760,this.newline=`
`,this.__pointer=0,this.__partialLine="",this.compressed=se(t.compressed,!1),this.binary=se(t.binary,!1),this.json=se(t.json,!1),this.xml=se(t.xml,!1),this.src=e};pa.prototype.isBinary=function(){return this.binary||this.compressed},pa.prototype.read=function(){var e=this;return this._read().then(function(t){var n=e.compressed?r8.get(e.compressed):void 0;return e.compressed&&n?e.data=n(t):((e.binary||e.compressed)&&t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e.data=t),e.data})},pa.prototype._chunk=function(e,t){return t=Math.min(this.data.length,t),e===0&&this.data.length===t?this.data:this.isBinary()?this.data.subarray(e,t):this.data.substring(e,t)},pa.prototype.chunk=function(e){var t=e+this.chunkSize;return this._chunk(e,t)},pa.prototype.peekLines=function(e){var t,n=this.data,r=n.length,o=this.isBinary()?this.newline.charCodeAt(0):this.newline,i=0;for(t=0;t<r&&(n[t]===o&&++i,i!==e);++t);var a=this._chunk(0,t+1);return this.chunkToLines(a,"",t>r).lines},pa.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},pa.prototype.asText=function(){return this.isBinary()?SE(this.data):this.data},pa.prototype.chunkToLines=function(e,t,n){var r=this.newline;if(!this.isBinary()&&e.length===this.data.length)return{lines:e.split(r),partialLine:""};var o=[],i=this.isBinary()?SE(e):e,a=i.lastIndexOf(r);if(a===-1)t+=i;else{var s=t+i.substr(0,a);o=o.concat(s.split(r)),t=a===i.length-r.length?"":i.substr(a+r.length)}return n&&t!==""&&o.push(t),{lines:o,partialLine:t}},pa.prototype.nextChunk=function(){var e=this.__pointer;if(!(e>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(e)},pa.prototype.nextChunkOfLines=function(){var e=this.nextChunk();if(e!==void 0){var t=this.__pointer>this.data.length,n=this.chunkToLines(e,this.__partialLine,t);return this.__partialLine=n.partialLine,n.lines}},pa.prototype.eachChunk=function(e){for(var t=this.chunkSize,n=this.data.length,r=this.chunkCount(),o=0;o<n;o+=t)e(this.chunk(o),Math.round(o/t),r)},pa.prototype.eachChunkOfLines=function(e){var t=this;this.eachChunk(function(n,r,o){var i=r===o+1,a=t.chunkToLines(n,t.__partialLine,i);t.__partialLine=a.partialLine,e(a.lines,r,o)})},pa.prototype.dispose=function(){delete this.src};var S_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(r,o){var i=n.src,a=new FileReader;a.onload=function(s){s.target&&r(s.target.result)},a.onerror=function(s){return o(s)},n.binary||n.compressed?a.readAsArrayBuffer(i):a.readAsText(i)})},t}(pa),C_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var n=this;return new Promise(function(r,o){var i=n.src,a=new XMLHttpRequest;a.open("GET",i,!0),a.addEventListener("load",function(){if(a.status===200||a.status===304||a.status===0)try{r(a.response)}catch(s){o(s)}else o(a.statusText)},!1),a.addEventListener("error",function(s){return o("network error")},!1),n.isBinary()?a.responseType="arraybuffer":n.json?a.responseType="json":n.xml?a.responseType="document":a.responseType="text",a.send()})},t}(pa),Qfe=function(e,t){t===void 0&&(t={}),this.parameters=Ws(t,{ext:"",compressed:!1,binary:rn.isBinary(t.ext||""),name:"",dir:"",path:"",protocol:""});var n={compressed:this.parameters.compressed,binary:this.parameters.binary,json:rn.isJson(this.parameters.ext),xml:rn.isXml(this.parameters.ext)};typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob?this.streamer=new S_t(e,n):this.streamer=new C_t(e,n)},P_t=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r),this.parserParams={voxelSize:r.voxelSize,firstModelOnly:r.firstModelOnly,asTrajectory:r.asTrajectory,cAlphaOnly:r.cAlphaOnly,delimiter:r.delimiter,comment:r.comment,columnNames:r.columnNames,name:this.parameters.name,path:this.parameters.path}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){return new(rn.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},t}(Qfe),Jfe=function(e,t,n){this.name=t,this.path=n,this.signals={elementAdded:new un.Signal,elementRemoved:new un.Signal,nameChanged:new un.Signal},this.type="Script",this.dir=n.substring(0,n.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",e)}catch(r){Ze.error("Script compilation failed",r),this.fn=function(){}}};Jfe.prototype.run=function(e){var t=this;return new Promise(function(n,r){try{t.fn.apply(null,[e,t.name,t.path,t.dir]),n()}catch(o){Ze.error("Script.fn",o),r(o)}})};var M_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var n=this;return this.streamer.read().then(function(){return new Jfe(n.streamer.asText(),n.parameters.name,n.parameters.path)})},t}(Qfe);function Zo(e){var t,n,r=r8.names,o="",i=(t=e instanceof File?e.name:e instanceof Blob?"":e).lastIndexOf("?"),a=i!==-1?t.substring(i):"",s=(t=t.substring(0,i===-1?t.length:i)).replace(/^.*[\\/]/,""),l=s.substring(0,s.lastIndexOf(".")),c=s.split("."),u=c.length>1?(c.pop()||"").toLowerCase():"",d=t.match(/^(.+):\/\/(.+)$/);d&&(o=d[1].toLowerCase(),t=d[2]||"");var f=t.substring(0,t.lastIndexOf("/")+1);if(r.includes(u)){n=u;var p=t.length-u.length-1;u=(t.substr(0,p).split(".").pop()||"").toLowerCase();var h=l.length-u.length-1;l=l.substr(0,h)}else n=!1;return{path:t,name:s,ext:u,base:l,dir:f,compressed:n,protocol:o,query:a,src:e}}function A_t(e){var t=Zo(e),n=gp.get(t.protocol);return n&&!(t=Zo(n.getUrl(t.src))).ext&&n.getExt&&(t.ext=n.getExt(e)),t}function qN(e,t){t===void 0&&(t={});var n,r=Object.assign(A_t(e),t);return rn.names.includes(r.ext)?n=new P_t(r.src,r):__t.includes(r.ext)&&(n=new M_t(r.src,r)),n?n.load():Promise.reject(new Error("autoLoad: ext '"+r.ext+"' unknown"))}var e_=function(){};e_.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},e_.prototype.download=function(e,t){e=se(e,this.defaultName),t=se(t,this.defaultExt),qwt(this.getBlob(),e+"."+t)};(function(e){function t(n,r){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var o=Object.assign({},r);this.renumberSerial=se(o.renumberSerial,!0),this.remarks=function(i){return Array.isArray(i)?i:[i]}(se(o.remarks,[])),this.structure=n,this._records=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},t.prototype._writeTitle=function(){this._records.push(va.sprintf("TITLE %-74s",this.structure.name))},t.prototype._writeRemarks=function(){var n=this;this.remarks.forEach(function(r){n._records.push(va.sprintf("REMARK %-73s",r))}),this.structure.trajectory&&(this._records.push(va.sprintf("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(va.sprintf("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},t.prototype._writeAtoms=function(){var n=this,r=1,o=1,i=" ",a=" ";this.structure.eachModel(function(s){n._records.push(va.sprintf("MODEL %-74d",o++)),s.eachAtom(function(l){var c=l.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s%1s%1s",u=n.renumberSerial?r:l.serial,d=l.atomname;(d.length===1||d.length<4&&l.element.length===1&&d[0]===l.element)&&(d=" "+d),l.formalCharge?(i=Math.abs(l.formalCharge).toPrecision(1),a=l.formalCharge>0?"+":"-"):(i=" ",a=" "),n._records.push(va.sprintf(c,u,d,l.resname,se(l.chainname," "),l.resno,l.x,l.y,l.z,se(l.occupancy,1),se(l.bfactor,0),"",se(l.element,""),i,a)),r+=1},n.structure.getSelection()),n._records.push(va.sprintf("%-80s","ENDMDL")),o+=1}),this._records.push(va.sprintf("%-80s","END"))},t.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},t})(e_);(function(e){function t(r){e.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=r,this._records=[]}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return n.idString.get=function(){return this.structure.id},n.titleString.get=function(){return"  "+this.structure.title},n.countsString.get=function(){return va.sprintf("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},n.chargeLines.get=function(){var r=[];this.structure.eachAtom(function(c){c.formalCharge!=null&&c.formalCharge!==0&&r.push([c.index,c.formalCharge])});for(var o=[],i=0;i<r.length;i+=8){for(var a=Math.min(8,r.length-i),s=va.sprintf("M  CHG%3i",a),l=i;l<i+a;l++)s+=va.sprintf(" %3i %3i",r[l][0]+1,r[l][1]);o.push(s)}return o},t.prototype.formatAtom=function(r){var o=0;r.formalCharge!=null&&r.formalCharge!==0&&(o=4-r.formalCharge);var i=va.sprintf("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",r.x,r.y,r.z,r.element,o);if(i.length!==48)throw new Error("Incompatible atom for sdf format");return i},t.prototype.formatBond=function(r){return va.sprintf("%3i%3i%3i  0  0  0",r.atomIndex1+1,r.atomIndex2+1,r.bondOrder)},t.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},t.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},t.prototype._writeCTab=function(){var r=this;this._records.push(this.countsString),this.structure.eachAtom(function(o){r._records.push(r.formatAtom(o))}),this.structure.eachBond(function(o){r._records.push(r.formatBond(o))}),this.chargeLines.forEach(function(o){r._records.push(o)}),this._records.push("M  END")},t.prototype._writeFooter=function(){this._records.push("$$$$")},t.prototype.getData=function(){return this._writeRecords(),this._records.join(`
`)},Object.defineProperties(t.prototype,n),t})(e_);var y$=[],yn=function(e,t){t===void 0&&(t={}),this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;var n=!1;e===void 0&&(e=8192),typeof e=="number"?e=new ArrayBuffer(e):n=!0;var r=t.offset?t.offset>>>0:0,o=e.byteLength-r,i=r;e instanceof ArrayBuffer||(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+r),e=e.buffer),this._lastWrittenByte=n?o:0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=i,this._data=new DataView(this.buffer,i,o)};yn.prototype.available=function(e){return e===void 0&&(e=1),this.offset+e<=this.length},yn.prototype.isLittleEndian=function(){return this.littleEndian},yn.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},yn.prototype.isBigEndian=function(){return!this.littleEndian},yn.prototype.setBigEndian=function(){return this.littleEndian=!1,this},yn.prototype.skip=function(e){return e===void 0&&(e=1),this.offset+=e,this},yn.prototype.seek=function(e){return this.offset=e,this},yn.prototype.mark=function(){return this._mark=this.offset,this},yn.prototype.reset=function(){return this.offset=this._mark,this},yn.prototype.pushMark=function(){return this._marks.push(this.offset),this},yn.prototype.popMark=function(){var e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this},yn.prototype.rewind=function(){return this.offset=0,this},yn.prototype.ensureAvailable=function(e){if(e===void 0&&(e=1),!this.available(e)){var t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this},yn.prototype.readBoolean=function(){return this.readUint8()!==0},yn.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},yn.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},yn.prototype.readByte=function(){return this.readUint8()},yn.prototype.readBytes=function(e){e===void 0&&(e=1);for(var t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.readByte();return t},yn.prototype.readInt16=function(){var e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},yn.prototype.readUint16=function(){var e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},yn.prototype.readInt32=function(){var e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},yn.prototype.readUint32=function(){var e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},yn.prototype.readFloat32=function(){var e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},yn.prototype.readFloat64=function(){var e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},yn.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},yn.prototype.readChars=function(e){e===void 0&&(e=1),y$.length=e;for(var t=0;t<e;t++)y$[t]=this.readChar();return y$.join("")},yn.prototype.writeBoolean=function(e){return e===void 0&&(e=!1),this.writeUint8(e?255:0),this},yn.prototype.writeInt8=function(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this},yn.prototype.writeUint8=function(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this},yn.prototype.writeByte=function(e){return this.writeUint8(e)},yn.prototype.writeBytes=function(e){this.ensureAvailable(e.length);for(var t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this},yn.prototype.writeInt16=function(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},yn.prototype.writeUint16=function(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},yn.prototype.writeInt32=function(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},yn.prototype.writeUint32=function(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},yn.prototype.writeFloat32=function(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},yn.prototype.writeFloat64=function(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},yn.prototype.writeChar=function(e){return this.writeUint8(e.charCodeAt(0))},yn.prototype.writeChars=function(e){for(var t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this},yn.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},yn.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};(function(e){function t(n){e.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getData=function(){var n=this.surface.index.length/3,r=new yn(2*n+3*n*4*4+80+4);r.skip(80),r.writeUint32(n);for(var o=new ee,i=new ee,a=new ee,s=new ee,l=0;l<n;l++){var c=[this.surface.index[3*l],this.surface.index[3*l+1],this.surface.index[3*l+2]];i.fromArray(this.surface.normal,3*c[0]),a.fromArray(this.surface.normal,3*c[1]),s.fromArray(this.surface.normal,3*c[2]),o.addVectors(i,a).add(s).normalize(),r.writeFloat32(o.x),r.writeFloat32(o.y),r.writeFloat32(o.z);for(var u=0;u<3;u++)o.fromArray(this.surface.position,3*c[u]),r.writeFloat32(o.x),r.writeFloat32(o.y),r.writeFloat32(o.z);r.writeUint16(0)}return new DataView(r.buffer)},t})(e_);var Yc=function(){this.count=0,this.signals={countChanged:new un.Signal}};Yc.prototype.clear=function(){this.change(-this.count)},Yc.prototype.change=function(e){this.count+=e,this.signals.countChanged.dispatch(e,this.count),this.count<0&&Ze.warn("Counter.count below zero",this.count)},Yc.prototype.increment=function(){this.change(1)},Yc.prototype.decrement=function(){this.change(-1)},Yc.prototype.listen=function(e){this.change(e.count),e.signals.countChanged.add(this.change,this)},Yc.prototype.unlisten=function(e){var t=e.signals.countChanged;t.has(this.change,this)&&t.remove(this.change,this)},Yc.prototype.onZeroOnce=function(e,t){var n=this;if(this.count===0)e.call(t);else{var r=function(){n.count===0&&(n.signals.countChanged.remove(r,n),e.call(t))};this.signals.countChanged.add(r,this)}},Yc.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},Gn.add("shader/BasicLine.vert",`void main(){
#include begin_vertex
#include project_vertex
}`),Gn.add("shader/BasicLine.frag",`uniform vec3 uColor;
#include common
#include fog_pars_fragment
void main(){
gl_FragColor = vec4( uColor, 1.0 );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`),Gn.add("shader/Quad.vert",`varying vec2 vUv;
void main() {
vUv = uv;
gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`),Gn.add("shader/Quad.frag",`varying vec2 vUv;
uniform sampler2D tForeground;
uniform float scale;
void main() {
vec4 foreground = texture2D( tForeground, vUv );
gl_FragColor = foreground * scale;
}`);var uM=function(){this.signals={updated:new un.Signal},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};uM.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},uM.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},uM.prototype.end=function(){var e=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=e-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,e>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=e,this.frames=0),e},Gn.add("shader/chunk/fog_fragment.glsl",`#ifdef USE_FOG
float depth = length( vViewPosition );
#ifdef FOG_EXP2
float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );
#else
float fogFactor = smoothstep( fogNear, fogFar, depth );
#endif
gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`),Gn.add("shader/chunk/interior_fragment.glsl",`if( gl_FrontFacing == false ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}`),Gn.add("shader/chunk/matrix_scale.glsl",`float matrixScale( in mat4 m ){
vec4 r = m[ 0 ];
return sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );
}`),Gn.add("shader/chunk/nearclip_vertex.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear - 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Gn.add("shader/chunk/nearclip_fragment.glsl",`#ifdef NEAR_CLIP
if( vViewPosition.z < clipNear )
discard;
#endif`),Gn.add("shader/chunk/opaque_back_fragment.glsl",`#ifdef OPAQUE_BACK
#ifdef FLIP_SIDED
if( gl_FrontFacing == true ){
gl_FragColor.a = 1.0;
}
#else
if( gl_FrontFacing == false ){
gl_FragColor.a = 1.0;
}
#endif
#endif`),Gn.add("shader/chunk/radiusclip_vertex.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )
gl_Position.z = 2.0 * gl_Position.w;
#endif`),Gn.add("shader/chunk/radiusclip_fragment.glsl",`#ifdef RADIUS_CLIP
if( distance( vViewPosition, vClipCenter ) > clipRadius )
discard;
#endif`),Gn.add("shader/chunk/unpack_color.glsl",`vec3 unpackColor(float f) {
vec3 color;
color.r = floor(f / 256.0 / 256.0);
color.g = floor((f - color.r * 256.0 * 256.0) / 256.0);
color.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);
return color / 255.0;
}`);var E_t=/^(?!\/\/)\s*#include\s+(\S+)/gim,x$={};function K1(e,t){t===void 0&&(t={});var n=e+"|";for(var r in t)n+=r+":"+t[r];if(!x$[n]){var o=function(a){if(a===void 0)return"";var s=[];for(var l in a){var c=a[l];c&&s.push("#define "+l+" "+c)}return s.join(`
`)+`
`}(t),i=Gn.get("shader/"+e);if(!i)throw new Error("empty shader, '"+e+"'");i=i.replace(E_t,function(a,s){var l="shader/chunk/"+s+".glsl",c=Gn.get(l)||Mn[s];if(!c)throw new Error("empty chunk, '"+s+"'");return c}),x$[n]=o+i}return x$[n]}if(typeof WebGLRenderingContext<"u"){var Ku=WebGLRenderingContext.prototype,T_t=Ku.getShaderParameter;Ku.getShaderParameter=function(){return!ot||T_t.apply(this,arguments)};var O_t=Ku.getShaderInfoLog;Ku.getShaderInfoLog=function(){return ot?O_t.apply(this,arguments):""};var I_t=Ku.getProgramParameter;Ku.getProgramParameter=function(e,t){return!ot&&t===Ku.LINK_STATUS||I_t.apply(this,arguments)};var k_t=Ku.getProgramInfoLog;Ku.getProgramInfoLog=function(){return ot?k_t.apply(this,arguments):""}}var epe=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];epe.forEach(function(e){e.forEach(function(t){t[0]*=.0625,t[1]*=.0625})});var Y1=function(e,t,n,r){this.canvas=document.createElement("canvas"),this._viewer=n,this._factor=se(r.factor,2),this._antialias=se(r.antialias,!1),this._onProgress=r.onProgress,this._onFinish=r.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=n.sampleLevel,this._viewer.setSampling(-1)};Y1.prototype._renderTile=function(e){var t=this._viewer,n=this._width,r=this._height,o=this._factor,i=e%o*n,a=Math.floor(e/o)*r;if(t.camera.setViewOffset(n*o,r*o,i,a,n,r),t.render(),this._antialias){var s=Math.round((i+n)/2)-Math.round(i/2),l=Math.round((a+r)/2)-Math.round(a/2);this._ctx.drawImage(t.renderer.domElement,Math.round(i/2),Math.round(a/2),s,l)}else this._ctx.drawImage(t.renderer.domElement,Math.floor(i),Math.floor(a),Math.ceil(n),Math.ceil(r));typeof this._onProgress=="function"&&this._onProgress(e+1,this._n,!1)},Y1.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,typeof this._onFinish=="function"&&this._onFinish(this._n+1,this._n,!1)},Y1.prototype.render=function(){for(var e=0;e<=this._n;++e)e===this._n?this._finalize():this._renderTile(e)},Y1.prototype.renderAsync=function(){for(var e=this,t=0,n=this._n,r=function(){t===n?e._finalize():e._renderTile(t),t+=1},o=0;o<=n;++o)setTimeout(r,0)};var w$=2*Math.PI,tpe=180/Math.PI;function _$(e,t,n,r,o){n===void 0&&(n=1),r===void 0&&(r=0);var i=o?o.length:e.length/n,a=0,s=0;if(o)for(var l=0;l<i;++l){var c=(e[o[l]*n+r]+t)%t/t*w$-Math.PI;a+=Math.cos(c),s+=Math.sin(c)}else for(var u=r;u<i;u+=n){var d=(e[u]+t)%t/t*w$-Math.PI;a+=Math.cos(d),s+=Math.sin(d)}return a/=i,s/=i,(Math.atan2(s,a)+Math.PI)/w$*t}function wu(e,t,n,r){r===void 0&&(r=0);for(var o=e.length,i=n||new Float32Array(o),a=0;a<o;a+=3)i[r+a+0]=(e[a+0]+t[a+0])/2,i[r+a+1]=(e[a+1]+t[a+1])/2,i[r+a+2]=(e[a+2]+t[a+2])/2;return i}function uk(e,t){for(var n=e.length,r=new Float32Array(n),o=0;o<n;o+=3)r[o+0]=t[o+0]-e[o+0],r[o+1]=t[o+1]-e[o+1],r[o+2]=t[o+2]-e[o+2];return r}function Bs(e,t,n){for(var r=n||new Float32Array(e),o=0;o<e;++o)r[o]=t;return r}function yr(e,t,n,r,o){for(var i=o||new Float32Array(3*e),a=0;a<e;++a){var s=3*a;i[s+0]=t,i[s+1]=n,i[s+2]=r}return i}function C0(e){for(var t=new Float32Array(e),n=0;n<e;++n)t[n]=n;return t}function XN(e,t,n,r){n===void 0&&(n=0);for(var o=r||new Float32Array(e*t),i=0;i<e;++i)for(var a=n+i*t,s=0;s<t;++s)o[a+s]=i;return o}function S$(e,t){for(var n=e.length,r=new Float32Array(n*t),o=0;o<n;++o)for(var i=o*t,a=e[o],s=0;s<t;++s)r[i+s]=a;return r}function Fo(e,t,n,r,o){for(var i=0;i<o;++i)t[r+i]=e[n+i]}function kX(e,t,n,r){Fo(e,e,t,n,r)}function dM(e){for(var t=-1/0,n=0,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}function fM(e){for(var t=1/0,n=0,r=e.length;n<r;++n)e[n]<t&&(t=e[n]);return t}function o8(e,t,n){t===void 0&&(t=1),n===void 0&&(n=0);for(var r=e.length,o=0,i=n;i<r;i+=t)o+=e[i];return o}function pM(e,t,n){return t===void 0&&(t=1),n===void 0&&(n=0),o8(e,t,n)/(e.length/t)}var R_t={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function L_t(e,t){t===void 0&&(t={});var n=Ws(t,R_t),r=n.trim,o=n.factor,i=n.antialias,a=n.transparent,s=e.renderer,l=e.camera,c=s.getClearAlpha(),u=s.getClearColor();function d(h){h===void 0&&(h=!1);var g=o;i&&(g*=2),h&&(g=1/g),e.scene.traverse(function(v){var m=v.material;m&&m.linewidth&&(m.linewidth*=g),m&&m.uniforms&&m.uniforms.size&&m.uniforms.size.__seen===void 0&&(m.uniforms.size.value*=g,m.uniforms.size.__seen=!0),m&&m.uniforms&&m.uniforms.linewidth&&m.uniforms.linewidth.__seen===void 0&&(m.uniforms.linewidth.value*=g,m.uniforms.linewidth.__seen=!0)}),e.scene.traverse(function(v){var m=v.material;m&&m.uniforms&&m.uniforms.size&&delete m.uniforms.size.__seen,m&&m.uniforms&&m.uniforms.linewidth&&delete m.uniforms.linewidth.__seen})}function f(h){if(r){var g=u;return function(v,m,b,x,y){var w,_,S,P,M=v.height,I=v.width,O=v.getContext("2d").getImageData(0,0,I,M).data;for(S=!1,_=0;_<M;_++){for(w=0;w<I;w++)if(O[P=4*(_*I+w)]!==m||O[P+1]!==b||O[P+2]!==x||O[P+3]!==y){S=!0;break}if(S)break}var L=_;for(S=!1,w=0;w<I;w++){for(_=0;_<M;_++)if(O[P=4*(_*I+w)]!==m||O[P+1]!==b||O[P+2]!==x||O[P+3]!==y){S=!0;break}if(S)break}var R=w;for(S=!1,_=M-1;_>=0;_--){for(w=I-1;w>=0;w--)if(O[P=4*(_*I+w)]!==m||O[P+1]!==b||O[P+2]!==x||O[P+3]!==y){S=!0;break}if(S)break}var T=_;for(S=!1,w=I-1;w>=0;w--){for(_=M-1;_>=0;_--)if(O[P=4*(_*I+w)]!==m||O[P+1]!==b||O[P+2]!==x||O[P+3]!==y){S=!0;break}if(S)break}var E=w,k=document.createElement("canvas");return k.width=E-R,k.height=T-L,k.getContext("2d").drawImage(v,R,L,k.width,k.height,0,0,k.width,k.height),k}(h,a?0:255*g.r,a?0:255*g.g,a?0:255*g.b,a?0:255)}return h}function p(h,g,v){typeof t.onProgress=="function"&&t.onProgress(h,g,v)}return new Promise(function(h,g){var v=new Y1(s,l,e,{factor:o,antialias:i,onProgress:p,onFinish:function(m,b){f(v.canvas).toBlob(function(x){s.setClearAlpha(c),d(!0),e.requestRender(),p(b,b,!0),x?h(x):g("error creating image")},"image/png")}});s.setClearAlpha(a?0:1),d(),v.renderAsync()})}var C$=new ee,RX=new mt,LX=new mt,$X=new ct,CE=new mt,PE=new mt;function P$(e,t){CE.getInverse(t.projectionMatrix),PE.copy(t.projectionMatrix).transpose(),e.traverse(function(n){var r=n.material;if(r){var o=r.uniforms;o&&(o.projectionMatrixInverse&&o.projectionMatrixInverse.value.copy(CE),o.projectionMatrixTranspose&&o.projectionMatrixTranspose.value.copy(PE))}})}function DX(e,t,n){var r=e.createShader(n);if(r)return e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.log("error compiling shader "+r+": "+e.getShaderInfoLog(r)),e.deleteShader(r),null);console.log("error creating WebGL shader "+n)}function M$(e,t){var n=e.getExtension(t);return n||console.log("extension '"+t+"' not available"),n}var $_t=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function nP(e){var t=document.createElement("canvas");t.width=16,t.height=16,t.style.width="16px",t.style.height="16px";var n=t.getContext("webgl")||t.getContext("experimental-webgl");if(!n)return console.log("error creating webgl context for "+e),!1;if(!(n instanceof WebGLRenderingContext))return console.log("Got unexpected type for WebGL rendering context"),!1;M$(n,"OES_texture_float"),M$(n,"OES_texture_half_float"),M$(n,"WEBGL_color_buffer_float");var r=DX(n,`
attribute vec4 a_position;

void main() {
  gl_Position = a_position;
}`,n.VERTEX_SHADER),o=DX(n,`
precision mediump float;
uniform vec4 u_color;
uniform sampler2D u_texture;

void main() {
  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;
}`,n.FRAGMENT_SHADER);if(!r||!o)return!1;var i=function(v,m,b,x){var y=v.createProgram();if(y)return m.forEach(function(w){return v.attachShader(y,w)}),b&&b.forEach(function(w,_){v.bindAttribLocation(y,x?x[_]:_,w)}),v.linkProgram(y),v.getProgramParameter(y,v.LINK_STATUS)?y:(console.log("error linking program: "+v.getProgramInfoLog(y)),v.deleteProgram(y),null);console.log("error creating WebGL program")}(n,[r,o]);if(!i)return console.log("error creating WebGL program"),!1;n.useProgram(i);var a=n.getAttribLocation(i,"a_position"),s=n.getUniformLocation(i,"u_color");if(!s)return console.log("error getting 'u_color' uniform location"),!1;var l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,$_t,n.STATIC_DRAW),n.enableVertexAttribArray(a),n.vertexAttribPointer(a,2,n.FLOAT,!1,0,0);var c=n.createTexture(),u=new Uint8Array([255,255,255,255]);n.bindTexture(n.TEXTURE_2D,c),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,u);var d=n.createTexture();n.bindTexture(n.TEXTURE_2D,d),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,e,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);var f=n.createFramebuffer();if(n.bindFramebuffer(n.FRAMEBUFFER,f),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,d,0),n.checkFramebufferStatus(n.FRAMEBUFFER)!==n.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+e),!1;n.bindTexture(n.TEXTURE_2D,c),n.uniform4fv(s,[0,10,20,1]),n.drawArrays(n.TRIANGLES,0,6),n.bindTexture(n.TEXTURE_2D,d),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clearColor(1,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n.uniform4fv(s,[0,.1,.05,1]),n.drawArrays(n.TRIANGLES,0,6);var p=new Uint8Array(4);if(n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,p),p[0]!==0||p[1]<248||p[2]<248||p[3]<254)return console.log("not able to actually render to "+e+" texture"),!1;if(e===n.FLOAT){n.bindFramebuffer(n.FRAMEBUFFER,f);var h=new Float32Array(4);n.readPixels(0,0,1,1,n.RGBA,n.FLOAT,h);var g=n.getError();if(g)return console.log("error reading pixels as float: '"+function(v,m){switch(m){case v.NO_ERROR:return"no error";case v.INVALID_ENUM:return"invalid enum";case v.INVALID_VALUE:return"invalid value";case v.INVALID_OPERATION:return"invalid operation";case v.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case v.OUT_OF_MEMORY:return"out of memory";case v.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(n,g)+"'"),!1}return!0}var D_t=new Float32Array(100),F_t=new Uint8Array(100),FX=[12,7,13,17,11,6,8,18,16,2,14,22,10,1,3,9,19,23,21,15,5,0,4,24,20],rP=new mt;function N_t(e,t,n,r,o){var i=o.uniforms,a=[];if(i&&(i.objectId&&(i.objectId.value=$f?this.id:this.id/255,a.push("objectId")),(i.modelViewMatrixInverse||i.modelViewMatrixInverseTranspose||i.modelViewProjectionMatrix||i.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,this.matrixWorld),i.modelViewMatrixInverse&&(i.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),a.push("modelViewMatrixInverse")),i.modelViewMatrixInverseTranspose&&(i.modelViewMatrixInverse?i.modelViewMatrixInverseTranspose.value.copy(i.modelViewMatrixInverse.value).transpose():i.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),a.push("modelViewMatrixInverseTranspose")),i.modelViewProjectionMatrix&&(i.modelViewProjectionMatrix.value.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),a.push("modelViewProjectionMatrix")),i.modelViewProjectionMatrixInverse&&(i.modelViewProjectionMatrix?(rP.copy(i.modelViewProjectionMatrix.value),i.modelViewProjectionMatrixInverse.value.getInverse(rP)):(rP.multiplyMatrices(n.projectionMatrix,this.modelViewMatrix),i.modelViewProjectionMatrixInverse.value.getInverse(rP)),a.push("modelViewProjectionMatrixInverse")),a.length)){var s=e.properties.get(o);if(s.program){var l=e.getContext(),c=s.program;l.useProgram(c.program);var u=c.getUniforms();a.forEach(function(d){u.setValue(l,d,i[d].value)})}}}var mn=function(e){if(this.boundingBox=new Tr,this.boundingBoxSize=new ee,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new ee,this.signals={ticked:new un.Signal,rendered:new un.Signal},typeof e=="string"){var t=document.getElementById(e);this.container=t===null?document.createElement("div"):t}else e instanceof HTMLElement?this.container=e:this.container=document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var n=this.container.getBoundingClientRect();this.width=n.width||1,this.height=n.height||1,this.container.style.overflow="hidden"}this.wrapper=document.createElement("div"),this.wrapper.style.position="relative",this.container.appendChild(this.wrapper),this._initParams(),this._initStats(),this._initCamera(),this._initScene(),this._initRenderer()!==!1?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):Ze.error("Viewer: could not initialize renderer")},A$={cameraDistance:{configurable:!0}};mn.prototype._initParams=function(){this.parameters={fogColor:new vt(0),fogNear:50,fogFar:100,backgroundColor:new vt(0),cameraType:"perspective",cameraFov:40,cameraEyeSep:.3,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",lightColor:new vt(14540253),lightIntensity:1,ambientColor:new vt(14540253),ambientIntensity:.2,sampleLevel:0,rendererEncoding:ra}},mn.prototype._initCamera=function(){var e=new ee(0,0,0),t=this.width,n=this.height;this.perspectiveCamera=new Do(this.parameters.cameraFov,t/n),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(e),this.orthographicCamera=new Rp(t/-2,t/2,n/2,n/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(e),this.stereoCamera=new Tfe,this.stereoCamera.aspect=.5,this.stereoCamera.eyeSep=this.parameters.cameraEyeSep;var r=this.parameters.cameraType;if(r==="orthographic")this.camera=this.orthographicCamera;else{if(r!=="perspective"&&r!=="stereo")throw new Error("Unknown cameraType '"+r+"'");this.camera=this.perspectiveCamera}this.camera.updateProjectionMatrix()},mn.prototype._initStats=function(){this.stats=new uM},mn.prototype._initScene=function(){this.scene||(this.scene=new cy,this.scene.name="scene"),this.rotationGroup=new xr,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new xr,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new xr,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new xr,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new xr,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new xr,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new qA(this.parameters.fogColor.getHex()),this.spotLight=new mE(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new gE(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},mn.prototype._initRenderer=function(){var e=window.devicePixelRatio,t=this.width,n=this.height;try{this.renderer=new rC({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch{return this.wrapper.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(e),this.renderer.setSize(t,n),this.renderer.autoClear=!1,this.renderer.sortObjects=!0,this.renderer.outputEncoding=this.parameters.rendererEncoding;var r=this.renderer.getContext();this.renderer.capabilities.isWebGL2?(IX(!0),OX(this.renderer.extensions.get("EXT_color_buffer_float")),this.supportsHalfFloat=!0):(IX(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),OX(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&nP(r.FLOAT)),this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&nP(36193)),this.wrapper.appendChild(this.renderer.domElement);var o=t*e,i=n*e;ot&&console.log(JSON.stringify({Browser:Kfe,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":nP(r.FLOAT),"testTextureSupport HalfFloat":nP(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:$f},null,2)),this.pickingTarget=new wa(o,i,{minFilter:Mr,magFilter:Mr,stencilBuffer:!1,format:ns,type:$f?pd:$m}),this.pickingTarget.texture.generateMipmaps=!1,this.pickingTarget.texture.encoding=this.parameters.rendererEncoding,this.renderer.setRenderTarget(this.pickingTarget),this.renderer.clear(),this.renderer.setRenderTarget(null),this.sampleTarget=new wa(o,i,{minFilter:Bo,magFilter:Bo,format:ns}),this.sampleTarget.texture.encoding=this.parameters.rendererEncoding,this.holdTarget=new wa(o,i,{minFilter:Mr,magFilter:Mr,format:ns,type:$m}),this.holdTarget.texture.encoding=this.parameters.rendererEncoding,this.compositeUniforms={tForeground:new Xw(this.sampleTarget.texture),scale:new Xw(1)},this.compositeMaterial=new ni({uniforms:this.compositeUniforms,vertexShader:K1("Quad.vert"),fragmentShader:K1("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:Q5,depthTest:!1,depthWrite:!1}),this.compositeCamera=new Rp(-1,1,1,-1,0,1),this.compositeScene=new cy,this.compositeScene.name="compositeScene",this.compositeScene.add(new Lr(new Mw(2,2),this.compositeMaterial))},mn.prototype._initHelper=function(){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),t=new Float32Array(24),n=new Ot;n.setIndex(new Ht(e,1)),n.setAttribute("position",new Ht(t,3));var r=new ni({uniforms:{uColor:{value:new vt("skyblue")}},vertexShader:K1("BasicLine.vert"),fragmentShader:K1("BasicLine.frag")});this.boundingBoxMesh=new uo(n,r),this.helperGroup.add(this.boundingBoxMesh)},mn.prototype.updateHelper=function(){var e=this.boundingBoxMesh.geometry.attributes.position,t=e.array,n=this.boundingBox,r=n.min,o=n.max;t[0]=o.x,t[1]=o.y,t[2]=o.z,t[3]=r.x,t[4]=o.y,t[5]=o.z,t[6]=r.x,t[7]=r.y,t[8]=o.z,t[9]=o.x,t[10]=r.y,t[11]=o.z,t[12]=o.x,t[13]=o.y,t[14]=r.z,t[15]=r.x,t[16]=o.y,t[17]=r.z,t[18]=r.x,t[19]=r.y,t[20]=r.z,t[21]=o.x,t[22]=r.y,t[23]=r.z,e.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},A$.cameraDistance.get=function(){return Math.abs(this.camera.position.z)},A$.cameraDistance.set=function(e){this.camera.position.z=-e},mn.prototype.add=function(e,t){var n=this;t?t.forEach(function(r){return n.addBuffer(e,r)}):this.addBuffer(e),e.group.name="meshGroup",e.wireframeGroup.name="wireframeGroup",e.parameters.background?(this.backgroundGroup.add(e.group),this.backgroundGroup.add(e.wireframeGroup)):(this.modelGroup.add(e.group),this.modelGroup.add(e.wireframeGroup)),e.pickable&&this.pickingGroup.add(e.pickingGroup),ot&&this.updateHelper()},mn.prototype.addBuffer=function(e,t){function n(a){a instanceof xr?a.children.forEach(n):(a.userData.buffer=e,a.userData.instance=t,a.onBeforeRender=N_t)}var r=e.getMesh();t&&r.applyMatrix4(t.matrix),n(r),e.group.add(r);var o=e.getWireframeMesh();if(t&&(o.matrix.copy(r.matrix),o.position.copy(r.position),o.quaternion.copy(r.quaternion),o.scale.copy(r.scale)),n(o),e.wireframeGroup.add(o),e.pickable){var i=e.getPickingMesh();t&&(i.matrix.copy(r.matrix),i.position.copy(r.position),i.quaternion.copy(r.quaternion),i.scale.copy(r.scale)),n(i),e.pickingGroup.add(i)}t?this._updateBoundingBox(e.geometry,e.matrix,t.matrix):this._updateBoundingBox(e.geometry,e.matrix)},mn.prototype.remove=function(e){this.translationGroup.children.forEach(function(t){t.remove(e.group),t.remove(e.wireframeGroup)}),e.pickable&&this.pickingGroup.remove(e.pickingGroup),this.updateBoundingBox(),ot&&this.updateHelper()},mn.prototype._updateBoundingBox=function(e,t,n){var r=this.boundingBox;function o(a,s,l){a.boundingBox==null&&a.computeBoundingBox();var c=a.boundingBox.clone();s&&c.applyMatrix4(s),l&&c.applyMatrix4(l),c.min.equals(c.max)&&c.expandByScalar(5),r.union(c)}function i(a){var s,l;a.geometry!==void 0&&(a.userData.buffer&&(s=a.userData.buffer.matrix),a.userData.instance&&(l=a.userData.instance.matrix),o(a.geometry,s,l))}e?o(e,t,n):(r.makeEmpty(),this.modelGroup.traverse(i),this.backgroundGroup.traverse(i)),r.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},mn.prototype.updateBoundingBox=function(){this._updateBoundingBox(),ot&&this.updateHelper()},mn.prototype.getPickingPixels=function(){var e=this.width,t=this.height,n=e*t*4,r=$f?new Float32Array(n):new Uint8Array(n);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,e,t,r),r},mn.prototype.getImage=function(e){var t=this;return new Promise(function(n){if(e){var r=t,o=r.width,i=r.height,a=o*i*4,s=t.getPickingPixels();if($f){for(var l=new Uint8Array(a),c=0;c<a;++c)l[c]=Math.round(255*s[c]);s=l}var u=document.createElement("canvas");u.width=o,u.height=i;var d=u.getContext("2d"),f=d.getImageData(0,0,o,i);f.data.set(s),d.putImageData(f,0,0),u.toBlob(n,"image/png")}else t.renderer.domElement.toBlob(n,"image/png")})},mn.prototype.makeImage=function(e){return e===void 0&&(e={}),L_t(this,e)},mn.prototype.setLight=function(e,t,n,r){var o=this.parameters;e!==void 0&&o.lightColor.set(e),t!==void 0&&(o.lightIntensity=t),n!==void 0&&o.ambientColor.set(n),r!==void 0&&(o.ambientIntensity=r),this.requestRender()},mn.prototype.setFog=function(e,t,n){var r=this.parameters;e!==void 0&&r.fogColor.set(e),t!==void 0&&(r.fogNear=t),n!==void 0&&(r.fogFar=n),this.requestRender()},mn.prototype.setBackground=function(e){var t=this.parameters;e&&t.backgroundColor.set(e),this.setFog(t.backgroundColor),this.renderer.setClearColor(t.backgroundColor,0),this.renderer.domElement.style.backgroundColor=t.backgroundColor.getStyle(),this.requestRender()},mn.prototype.setSampling=function(e){e!==void 0&&(this.parameters.sampleLevel=e,this.sampleLevel=e),this.requestRender()},mn.prototype.setOutputEncoding=function(e){this.parameters.rendererEncoding=e,this.renderer.outputEncoding=e,this.pickingTarget.texture.encoding=e,this.sampleTarget.texture.encoding=e,this.holdTarget.texture.encoding=e},mn.prototype.setColorWorkflow=function(e){if(e!="linear"&&e!="sRGB")throw new Error("setColorWorkflow: invalid color workflow "+e);Wfe=e=="linear"?"linear":"sRGB",this.setOutputEncoding(e=="linear"?eC:ra),this.requestRender()},mn.prototype.setCamera=function(e,t,n){var r=this.parameters;if(e&&(r.cameraType=e),t&&(r.cameraFov=t),n&&(r.cameraEyeSep=n),r.cameraType==="orthographic")this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom());else{if(r.cameraType!=="perspective"&&r.cameraType!=="stereo")throw new Error("Unknown cameraType '"+r.cameraType+"'");this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up))}this.perspectiveCamera.fov=r.cameraFov,this.stereoCamera.eyeSep=r.cameraEyeSep,this.camera.updateProjectionMatrix(),this.requestRender()},mn.prototype.setClip=function(e,t,n,r,o){var i=this.parameters;e!==void 0&&(i.clipNear=e),t!==void 0&&(i.clipFar=t),n!==void 0&&(i.clipDist=n),r!==void 0&&(i.clipMode=r),o!==void 0&&(i.clipScale=o),this.requestRender()},mn.prototype.setSize=function(e,t){this.width=e||1,this.height=t||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var n=window.devicePixelRatio;this.renderer.setPixelRatio(n),this.renderer.setSize(e,t);var r=this.width*n,o=this.height*n;this.pickingTarget.setSize(r,o),this.sampleTarget.setSize(r,o),this.holdTarget.setSize(r,o),this.requestRender()},mn.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var e=this.container.getBoundingClientRect();this.setSize(e.width,e.height)}},mn.prototype.updateInfo=function(e){var t=this.info,n=t.memory,r=t.render;if(e)n.programs=0,n.geometries=0,n.textures=0,r.calls=0,r.vertices=0,r.points=0;else{var o=this.renderer.info,i=o.memory,a=o.render;n.geometries=i.geometries,n.textures=i.textures,r.calls+=a.calls,r.faces+=a.triangles,r.points+=a.points}},mn.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&this.sampleLevel!==-1){var e=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=e,ot&&Ze.log("rendered still frame")}this.frameRequest=window.requestAnimationFrame(this.animate)},mn.prototype.pick=function(e,t){if(this.parameters.cameraType==="stereo")return{pid:0,instance:void 0,picker:void 0};e*=window.devicePixelRatio,t*=window.devicePixelRatio,e=Math.max(e-2,0),t=Math.max(t-2,0);var n,r,o=0,i=$f?D_t:F_t;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,e,t,5,5,i);for(var a=0;a<FX.length;a++){var s=4*FX[a],l=Math.round(i[s+3]),c=this.pickingGroup.getObjectById(l);c&&(n=c.userData.instance,r=c.userData.buffer.picking,o=$f?Math.round(255*i[s])<<16&16711680|Math.round(255*i[s+1])<<8&65280|255&Math.round(255*i[s+2]):i[s]<<16|i[s+1]<<8|i[s+2])}return{pid:o,instance:n,picker:r}},mn.prototype.requestRender=function(){var e=this;this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){e.render(),e.stats.update()}))},mn.prototype.updateZoom=function(){var e=oo(this.perspectiveCamera.fov),t=2*Math.tan(e/2)*this.cameraDistance;this.orthographicCamera.zoom=this.height/t},mn.prototype.absoluteToRelative=function(e){return 50*(1-e/this.bRadius)},mn.prototype.relativeToAbsolute=function(e){return this.bRadius*(1-e/50)},mn.prototype.__updateClipping=function(){var e=this.parameters;this.bRadius=Math.max(10,.5*this.boundingBoxLength),isFinite(this.bRadius)||(this.bRadius=50),this.camera.getWorldPosition(this.distVector),this.cDist=this.distVector.length(),this.cDist||(this.cameraDistance=Math.abs(e.cameraZ),this.cDist=Math.abs(e.cameraZ));var t=this.scene.fog;if(t.color.set(e.fogColor),e.clipMode==="camera")this.camera.near=e.clipNear,this.camera.far=e.clipFar,t.near=e.fogNear,t.far=e.fogFar;else if(e.clipScale==="absolute")this.camera.near=this.cDist-e.clipNear,this.camera.far=this.cDist+e.clipFar,t.near=this.cDist-e.fogNear,t.far=this.cDist+e.fogFar;else{var n=(50-e.clipNear)/50,r=-(50-e.clipFar)/50;this.camera.near=this.cDist-this.bRadius*n,this.camera.far=this.cDist+this.bRadius*r;var o=(50-e.fogNear)/50,i=-(50-e.fogFar)/50;t.near=this.cDist-this.bRadius*o,t.far=this.cDist+this.bRadius*i}e.clipMode!=="camera"&&(this.camera.type==="PerspectiveCamera"?(this.camera.near=Math.max(.1,e.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),t.near=Math.max(.1,t.near),t.far=Math.max(1,t.far)):this.camera.type==="OrthographicCamera"&&e.clipDist>0&&(this.camera.near=Math.max(e.clipDist,this.camera.near)))},mn.prototype.__updateCamera=function(){var e=this.camera;e.updateMatrix(),e.updateMatrixWorld(!0),e.updateProjectionMatrix(),function(t,n,r,o,i){var a=new ct;r.getSize(a);var s=a.height,l=r.getPixelRatio(),c=n.type==="OrthographicCamera";$X.set(a.width,a.height),CE.getInverse(n.projectionMatrix),PE.copy(n.projectionMatrix).transpose(),t.traverse(function(u){var d=u.material;if(d){var f=d.uniforms;if(f){if(d.clipNear){var p=(50-d.clipNear)/50,h=o-i*p;f.clipNear.value=h}f.canvasHeight&&(f.canvasHeight.value=s),f.resolution&&f.resolution.value.copy($X),f.pixelRatio&&(f.pixelRatio.value=l),f.projectionMatrixInverse&&f.projectionMatrixInverse.value.copy(CE),f.projectionMatrixTranspose&&f.projectionMatrixTranspose.value.copy(PE),f.ortho&&(f.ortho.value=c)}}})}(this.scene,e,this.renderer,this.cDist,this.bRadius),function(t,n){t.traverseVisible(function(r){if(r instanceof Tw&&r.userData.buffer.parameters.sortParticles){var o=r.geometry.attributes,i=o.position.count;if(i!==0){var a,s,l,c,u,d,f;RX.multiplyMatrices(n.matrixWorldInverse,r.matrixWorld),LX.multiplyMatrices(n.projectionMatrix,RX),r.userData.sortData?(a=r.userData.sortData,l=a.__zArray,s=a.__sortArray,c=a.__cmpFn):(l=new Float32Array(i),s=new Uint32Array(i),a={__zArray:l,__sortArray:s,__cmpFn:c=function(y,w){var _=l[y],S=l[w];return _>S?1:_<S?-1:0}},r.userData.sortData=a);for(var p=0;p<i;++p)C$.fromArray(o.position.array,3*p),C$.applyMatrix4(LX),l[p]=-C$.z,s[p]=p;for(var h in function(y,w,_,S){_===void 0&&(_=0),w=w||function(B,$){return B>$?1:B<$?-1:0};var P,M,I,O=[],L=-1,R=_,T=S=(S||y.length)-1;function E(B,$){var j=y[B];y[B]=y[$],y[$]=j}for(;;)if(T-R<=25){for(var k=R+1;k<=T;++k){for(P=y[k],M=k-1;M>=R&&w(y[M],P)>0;)y[M+1]=y[M],--M;y[M+1]=P}if(L===-1)break;T=O[L--],R=O[L--]}else{for(I=T,E(R+T>>1,M=R+1),w(y[R],y[T])>0&&E(R,T),w(y[M],y[T])>0&&E(M,T),w(y[R],y[M])>0&&E(R,M),P=y[M];;){do M++;while(w(y[M],P)<0);do I--;while(w(y[I],P)>0);if(I<M)break;E(M,I)}y[R+1]=y[I],y[I]=P,T-M+1>=I-R?(O[++L]=M,O[++L]=T,T=I-1):(O[++L]=R,O[++L]=I-1,R=M)}}(s,c),o){var g=o[h],v=g.array,m=g.itemSize;a[h]||(a[h]=new Float32Array(m*i)),f=a[h],a[h]=v;for(var b=0;b<i;++b){u=s[b];for(var x=0;x<m;++x)d=u*m+x,f[b*m+x]=v[d]}o[h].array=f,o[h].needsUpdate=!0}}}})}(this.scene,e)},mn.prototype.__setVisibility=function(e,t,n,r){this.modelGroup.visible=e,this.pickingGroup.visible=t,this.backgroundGroup.visible=n,this.helperGroup.visible=r},mn.prototype.__updateLights=function(){this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},mn.prototype.__renderPickingGroup=function(e){this.renderer.setRenderTarget(this.pickingTarget||null),this.renderer.clear(),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},mn.prototype.__renderModelGroup=function(e,t){this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,e),this.renderer.clear(!1,!0,!0),this.updateInfo(),this.__setVisibility(!0,!1,!1,ot),this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.updateInfo()},mn.prototype.__renderSuperSample=function(e,t){var n=epe[Math.max(0,Math.min(this.sampleLevel,5))],r=1/n.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;var o=this.sampleTarget.width,i=this.sampleTarget.height;this.parameters.cameraType==="stereo"&&(o/=2);for(var a=0;a<n.length;++a){var s=n[a];e.setViewOffset(o,i,s[0],s[1],o,i),e.updateProjectionMatrix(),P$(this.scene,e);var l=r;l+=.03125*((a+.5)/n.length-.5),this.compositeUniforms.scale.value=l,this.__renderModelGroup(e,this.sampleTarget),this.renderer.setRenderTarget(this.holdTarget),a===0&&this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,e.clearViewOffset(),this.renderer.setRenderTarget(t||null),this.renderer.clear(),this.renderer.render(this.compositeScene,this.compositeCamera)},mn.prototype.__renderStereo=function(e,t){e===void 0&&(e=!1);var n=this.stereoCamera;n.update(this.perspectiveCamera);var r=this.renderer,o=new ct;r.getSize(o),r.setScissorTest(!0),r.setScissor(0,0,o.width/2,o.height),r.setViewport(0,0,o.width/2,o.height),P$(this.scene,n.cameraL),this.__render(e,n.cameraL),r.setScissor(o.width/2,0,o.width/2,o.height),r.setViewport(o.width/2,0,o.width/2,o.height),P$(this.scene,n.cameraR),this.__render(e,n.cameraR),r.setScissorTest(!1),r.setViewport(0,0,o.width,o.height)},mn.prototype.__render=function(e,t,n){e===void 0&&(e=!1),e?this.lastRenderedPicking||this.__renderPickingGroup(t):this.sampleLevel>0&&this.parameters.cameraType!=="stereo"?this.__renderSuperSample(t,n):this.__renderModelGroup(t,n)},mn.prototype.render=function(e,t){if(e===void 0&&(e=!1),this.rendering)Ze.warn("'tried to call 'render' from within 'render'");else{this.rendering=!0;try{this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),this.parameters.cameraType==="stereo"?this.__renderStereo(e,t):this.__render(e,this.camera,t),this.lastRenderedPicking=e}finally{this.rendering=!1,this.renderPending=!1}this.signals.rendered.dispatch()}},mn.prototype.clear=function(){Ze.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()},mn.prototype.dispose=function(){this.renderer.dispose(),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(mn.prototype,A$);function NX(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;return Math.sqrt(t*t+n*n)}var Ui=function(e,t){t===void 0&&(t={}),this.domElement=e,this.signals={moved:new un.Signal,scrolled:new un.Signal,dragged:new un.Signal,dropped:new un.Signal,clicked:new un.Signal,hovered:new un.Signal,doubleClicked:new un.Signal},this.position=new ct,this.prevPosition=new ct,this.down=new ct,this.canvasPosition=new ct,this.prevClickCP=new ct,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=se(t.hoverTimeout,50),this.handleScroll=se(t.handleScroll,!0),this.doubleClickSpeed=se(t.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen();var n={passive:!1};document.addEventListener("mousewheel",this._onMousewheel,n),document.addEventListener("wheel",this._onMousewheel,n),document.addEventListener("MozMousePixelScroll",this._onMousewheel,n),document.addEventListener("mousemove",this._onMousemove,n),document.addEventListener("mousedown",this._onMousedown,n),document.addEventListener("mouseup",this._onMouseup,n),document.addEventListener("contextmenu",this._onContextmenu,n),document.addEventListener("touchstart",this._onTouchstart,n),document.addEventListener("touchend",this._onTouchend,n),document.addEventListener("touchmove",this._onTouchmove,n)},BX={key:{configurable:!0}};BX.key.get=function(){var e=0;return this.altKey&&(e+=1),this.ctrlKey&&(e+=2),this.metaKey&&(e+=4),this.shiftKey&&(e+=8),e},Ui.prototype.setParameters=function(e){e===void 0&&(e={}),this.hoverTimeout=se(e.hoverTimeout,this.hoverTimeout)},Ui.prototype._listen=function(){var e=window.performance.now(),t=this.canvasPosition;this.doubleClickPending&&e-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),e-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,this.hoverTimeout!==-1&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(t.x,t.y))),this.frameRequest=window.requestAnimationFrame(this._listen)},Ui.prototype._onMousewheel=function(e){var t=this;if(e.target===this.domElement&&this.handleScroll){e.preventDefault(),this._setKeys(e);var n=0;"deltaY"in e&&"deltaMode"in e&&e.deltaY!==void 0&&e.deltaMode!==void 0?n=e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?.025*-e.deltaY:e.deltaMode===WheelEvent.DOM_DELTA_LINE?-e.deltaY*(2.5/3):2.5*-e.deltaY:"deltaY"in e&&!("detail"in e)?n=.025*-e.deltaY:e.wheelDelta!==void 0?n=.025*-e.wheelDelta:e.wheelDeltaY!==void 0?n=.025*-e.wheelDeltaY:e.detail!==void 0&&(n=-e.detail/3),this.signals.scrolled.dispatch(n),setTimeout(function(){t.scrolled=!0},this.hoverTimeout)}},Ui.prototype._onMousemove=function(e){e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(e),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.clientX,e.clientY),this._setCanvasPosition(e);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n)},Ui.prototype._onMousedown=function(e){e.target===this.domElement&&(e.preventDefault(),this._setKeys(e),this.moving=!1,this.hovering=!1,this.down.set(e.clientX,e.clientY),this.position.set(e.clientX,e.clientY),this.which=e.which,this.buttons=function(t){if(typeof t=="object"){if("buttons"in t)return t.buttons;if("which"in t){var n=t.which;if(n===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in t){var r=t.button;if(r===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0}(e),this.pressed=!0,this._setCanvasPosition(e))},Ui.prototype._onMouseup=function(e){e.target===this.domElement&&e.preventDefault(),this._setKeys(e);var t=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(t)<4&&(this.signals.doubleClicked.dispatch(t.x,t.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(t.x,t.y),this.doubleClickPending=!0,this.prevClickCP.copy(t)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Ui.prototype._onContextmenu=function(e){e.target===this.domElement&&e.preventDefault()},Ui.prototype._onTouchstart=function(e){if(e.target===this.domElement)switch(e.preventDefault(),this.pressed=!0,e.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(e.touches[0].pageX,e.touches[0].pageY),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);break;case 2:this.down.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),this.lastTouchDistance=NX(e)}},Ui.prototype._onTouchend=function(e){e.target===this.domElement&&e.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},Ui.prototype._onTouchmove=function(e){switch(e.target===this.domElement?(e.preventDefault(),this.overElement=!0):this.overElement=!1,e.touches.length){case 1:this._setKeys(e),this.which=1,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(e.touches[0].pageX,e.touches[0].pageY),this._setCanvasPosition(e.touches[0]);var t=this.prevPosition.x-this.position.x,n=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(t,n),this.pressed&&this.signals.dragged.dispatch(t,n);break;case 2:var r=NX(e),o=r-this.lastTouchDistance;if(this.lastTouchDistance=r,this.prevPosition.copy(this.position),this.position.set((e.touches[0].pageX+e.touches[1].pageX)/2,(e.touches[0].pageY+e.touches[1].pageY)/2),Math.abs(o)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(o/2);else{this.which=3,this.buttons=2;var i=this.prevPosition.x-this.position.x,a=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(i,a),this.pressed&&this.signals.dragged.dispatch(i,a)}}},Ui.prototype._distance=function(){return this.position.distanceTo(this.down)},Ui.prototype._setCanvasPosition=function(e){var t,n,r=this.domElement.getBoundingClientRect();"clientX"in e&&"clientY"in e?(t=e.clientX-r.left,n=e.clientY-r.top):(t=e.offsetX,n=e.offsetY),this.canvasPosition.set(t,r.height-n)},Ui.prototype._setKeys=function(e){this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey},Ui.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove),window.cancelAnimationFrame(this.frameRequest)},Object.defineProperties(Ui.prototype,BX);var E$=new mt,T$=new mt,jX=new mt,Na=new mt,zX=new mt,Js=new ee,h1=new Er,HX=new Er,Yu=new mt,bh=new ee,oP=new ee,hs=function(e,t){t===void 0&&(t={}),this.stage=e,this.rotateSpeed=se(t.rotateSpeed,2),this.zoomSpeed=se(t.zoomSpeed,1.2),this.panSpeed=se(t.panSpeed,1),this.viewer=e.viewer,this.mouse=e.mouseObserver,this.controls=e.viewerControls},O$={component:{configurable:!0},atom:{configurable:!0}};O$.component.get=function(){return this.stage.transformComponent},O$.atom.get=function(){return this.stage.transformAtom},hs.prototype._setPanVector=function(e,t,n){n===void 0&&(n=0);var r=this.controls.getCanvasScaleFactor(n);bh.set(e,t,0),bh.multiplyScalar(this.panSpeed*r)},hs.prototype._getRotateXY=function(e,t){return[this.rotateSpeed*-e*.01,this.rotateSpeed*t*.01]},hs.prototype._getCameraRotation=function(e){return e.extractRotation(this.viewer.camera.matrixWorld),e.multiply(T$.makeRotationY(Math.PI)),e},hs.prototype._transformPanVector=function(){this.component&&(Yu.extractRotation(this.component.transform),Yu.premultiply(this.viewer.rotationGroup.matrix),Yu.getInverse(Yu),Yu.multiply(this._getCameraRotation(Na)),bh.applyMatrix4(Yu))},hs.prototype.zoom=function(e){this.controls.zoom(this.zoomSpeed*e*.02)},hs.prototype.pan=function(e,t){this._setPanVector(e,t),Yu.getInverse(this.viewer.rotationGroup.matrix),Yu.multiply(this._getCameraRotation(Na)),bh.applyMatrix4(Yu),this.controls.translate(bh)},hs.prototype.panComponent=function(e,t){this.component&&(this._setPanVector(e,t),this._transformPanVector(),this.component.position.add(bh),this.component.updateMatrix())},hs.prototype.panAtom=function(e,t){this.atom&&this.component&&(this.atom.positionToVector3(oP),oP.add(this.viewer.translationGroup.position),oP.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(e,t,oP.z),this._transformPanVector(),this.atom.positionAdd(bh),this.component.updateRepresentations({position:!0}))},hs.prototype.rotate=function(e,t){var n=this._getRotateXY(e,t),r=n[0],o=n[1];this._getCameraRotation(Na),Js.set(1,0,0),Js.applyMatrix4(Na),h1.setFromAxisAngle(Js,o),Js.set(0,1,0),Js.applyMatrix4(Na),HX.setFromAxisAngle(Js,r),h1.multiply(HX),Na.makeRotationFromQuaternion(h1),this.controls.applyMatrix(Na)},hs.prototype.zRotate=function(e,t){var n=this.rotateSpeed*((-e+t)/-2)*.01;jX.makeRotationZ(n),this.controls.applyMatrix(jX)},hs.prototype.rotateComponent=function(e,t){if(this.component){var n=this._getRotateXY(e,t),r=n[0],o=n[1];this._getCameraRotation(zX),Na.extractRotation(this.component.transform),Na.premultiply(this.viewer.rotationGroup.matrix),Na.getInverse(Na),Na.premultiply(zX),Js.set(1,0,0),Js.applyMatrix4(Na),E$.makeRotationAxis(Js,o),Js.set(0,1,0),Js.applyMatrix4(Na),T$.makeRotationAxis(Js,r),E$.multiply(T$),h1.setFromRotationMatrix(E$),this.component.quaternion.premultiply(h1),this.component.quaternion.normalize(),this.component.updateMatrix()}},Object.defineProperties(hs.prototype,O$);var Jg=new ee,hM=function(e,t){this.stage=t,this.pid=e.pid,this.picker=e.picker,this.instance=e.instance,this.stage=t,this.controls=t.viewerControls,this.mouse=t.mouseObserver},Nn={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},closeAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},point:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0},wideline:{configurable:!0}};Nn.type.get=function(){return this.picker.type},Nn.altKey.get=function(){return this.mouse.altKey},Nn.ctrlKey.get=function(){return this.mouse.ctrlKey},Nn.metaKey.get=function(){return this.mouse.metaKey},Nn.shiftKey.get=function(){return this.mouse.shiftKey},Nn.canvasPosition.get=function(){return this.mouse.canvasPosition},Nn.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},Nn.object.get=function(){return this.picker.getObject(this.pid)},Nn.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},Nn.closestBondAtom.get=function(){if(this.type==="bond"&&this.bond){var e=this.bond,t=this.controls,n=this.canvasPosition,r=e.atom1.positionToVector3(),o=e.atom2.positionToVector3();r.applyMatrix4(this.component.matrix),o.applyMatrix4(this.component.matrix);var i,a,s,l=t.getPositionOnCanvas(r),c=t.getPositionOnCanvas(o);return a=l,s=c,(i=n).distanceTo(a)<i.distanceTo(s)?e.atom1:e.atom2}},Nn.closeAtom.get=function(){var e=this.canvasPosition,t=this.closestBondAtom;if(t){var n=t.positionToVector3().applyMatrix4(this.component.matrix),r=this.controls.getPositionOnCanvas(n);t.positionToVector3(Jg),this.instance&&Jg.applyMatrix4(this.instance.matrix),Jg.applyMatrix4(this.component.matrix);var o=this.controls.viewer;Jg.add(o.translationGroup.position),Jg.applyMatrix4(o.rotationGroup.matrix);var i=this.controls.getCanvasScaleFactor(Jg.z),a=this.component.getMaxRepresentationRadius(t.index);return e.distanceTo(r)<=a/i?t:void 0}},Nn.arrow.get=function(){return this._objectIfType("arrow")},Nn.atom.get=function(){return this._objectIfType("atom")},Nn.axes.get=function(){return this._objectIfType("axes")},Nn.bond.get=function(){return this._objectIfType("bond")},Nn.box.get=function(){return this._objectIfType("box")},Nn.cone.get=function(){return this._objectIfType("cone")},Nn.clash.get=function(){return this._objectIfType("clash")},Nn.contact.get=function(){return this._objectIfType("contact")},Nn.cylinder.get=function(){return this._objectIfType("cylinder")},Nn.distance.get=function(){return this._objectIfType("distance")},Nn.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},Nn.octahedron.get=function(){return this._objectIfType("octahedron")},Nn.point.get=function(){return this._objectIfType("point")},Nn.mesh.get=function(){return this._objectIfType("mesh")},Nn.slice.get=function(){return this._objectIfType("slice")},Nn.sphere.get=function(){return this._objectIfType("sphere")},Nn.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},Nn.torus.get=function(){return this._objectIfType("torus")},Nn.surface.get=function(){return this._objectIfType("surface")},Nn.unitcell.get=function(){return this._objectIfType("unitcell")},Nn.unknown.get=function(){return this._objectIfType("unknown")},Nn.volume.get=function(){return this._objectIfType("volume")},Nn.wideline.get=function(){return this._objectIfType("wideline")},hM.prototype._objectIfType=function(e){return this.type===e?this.object:void 0},hM.prototype.getLabel=function(){var e=this.atom||this.closeAtom,t="nothing";return this.arrow?t=this.arrow.name:e?t="atom: "+e.qualifiedName()+" ("+e.structure.name+")":this.axes?t="axes":this.bond?t="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?t=this.box.name:this.cone?t=this.cone.name:this.clash?t="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?t=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?t=this.cylinder.name:this.distance?t="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?t=this.ellipsoid.name:this.octahedron?t=this.octahedron.name:this.point?t=this.point.name:this.mesh?t="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?t="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?t=this.sphere.name:this.surface?t="surface: "+this.surface.surface.name:this.tetrahedron?t=this.tetrahedron.name:this.torus?t=this.torus.name:this.unitcell?t="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?t="unknown":this.volume?t="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")":this.wideline&&(t=this.wideline.name),t},Object.defineProperties(hM.prototype,Nn);var npe=function(e){this.stage=e,this.viewer=e.viewer};npe.prototype.pick=function(e,t){var n=this.viewer.pick(e,t);if(n.picker&&n.picker.type!=="ignore"&&n.pid!==void 0){var r=n.picker.array;if(!(r&&n.pid>=r.length))return new hM(n,this.stage);console.error("pid >= picker.array.length")}};var VX=new Er,UX=new ee,GX=new ee,I$=new ee,B_t=new ee,WX=new mt,qX=new ee,XX=new mt,Gi=function(e){this.stage=e,this.signals={changed:new un.Signal},this.viewer=e.viewer},k$={position:{configurable:!0},rotation:{configurable:!0}};k$.position.get=function(){return this.viewer.translationGroup.position},k$.rotation.get=function(){return this.viewer.rotationGroup.quaternion},Gi.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},Gi.prototype.getPositionOnCanvas=function(e,t){var n=ck(t,ct),r=this.viewer;return I$.copy(e).add(r.translationGroup.position).applyMatrix4(r.rotationGroup.matrix).project(r.camera),n.set((I$.x+1)*r.width/2,(I$.y+1)*r.height/2)},Gi.prototype.getCanvasScaleFactor=function(e){e===void 0&&(e=0);var t=this.viewer.camera;if(t instanceof Rp)return 1/t.zoom;e=Math.abs(e),e+=this.getCameraDistance();var n=oo(t.fov);return 2*e*Math.tan(n/2)/this.viewer.height},Gi.prototype.getOrientation=function(e){var t=X1(e);t.copy(this.viewer.rotationGroup.matrix);var n=this.getCameraDistance();return t.scale(B_t.set(n,n,n)),t.setPosition(this.viewer.translationGroup.position),t},Gi.prototype.orient=function(e){X1(e).decompose(UX,VX,GX);var t=this.viewer;t.rotationGroup.setRotationFromQuaternion(VX),t.translationGroup.position.copy(UX),t.cameraDistance=GX.z,t.updateZoom(),this.changed()},Gi.prototype.translate=function(e){this.viewer.translationGroup.position.add(dm(e)),this.changed()},Gi.prototype.center=function(e){this.viewer.translationGroup.position.copy(dm(e)).negate(),this.changed()},Gi.prototype.zoom=function(e){this.distance(this.getCameraDistance()*(1-e))},Gi.prototype.getCameraDistance=function(){return this.viewer.cameraDistance},Gi.prototype.distance=function(e){this.viewer.cameraDistance=Math.max(Math.abs(e),.2),this.viewer.updateZoom(),this.changed()},Gi.prototype.spin=function(e,t){WX.getInverse(this.viewer.rotationGroup.matrix),qX.copy(dm(e)).applyMatrix4(WX),this.viewer.rotationGroup.rotateOnAxis(qX,t),this.changed()},Gi.prototype.rotate=function(e){this.viewer.rotationGroup.setRotationFromQuaternion(UN(e)),this.changed()},Gi.prototype.align=function(e){XX.getInverse(X1(e)),this.viewer.rotationGroup.setRotationFromMatrix(XX),this.changed()},Gi.prototype.applyMatrix=function(e){this.viewer.rotationGroup.applyMatrix4(X1(e)),this.changed()},Object.defineProperties(Gi.prototype,k$);var ws=function(e,t){for(var n,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=se(e,1e3),this.controls=t,this.startTime=window.performance.now(),(n=this)._init.apply(n,r)},R$={done:{configurable:!0},paused:{configurable:!0}};R$.done.get=function(){return this.alpha===1},R$.paused.get=function(){return this._paused},ws.prototype.tick=function(e){if(!this._paused)return this.elapsedDuration=e.currentTime-this.startTime-this.pausedDuration,this.duration===0?this.alpha=1:this.alpha=oC(0,1,this.elapsedDuration/this.duration),this._tick(e),this.done&&this._resolveList.forEach(function(t){return t()}),this.done},ws.prototype.pause=function(e){e&&(this._hold=!0),this.pausedTime===-1&&(this.pausedTime=window.performance.now()),this._paused=!0},ws.prototype.resume=function(e){!e&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},ws.prototype.toggle=function(){this._paused?this.resume():this.pause()},ws.prototype.then=function(e){var t=this;return(this.done?Promise.resolve():new Promise(function(n){return t._resolveList.push(n)})).then(e)},Object.defineProperties(ws.prototype,R$);var KX=function(e){function t(n,r){for(var o=[],i=arguments.length-2;i-- >0;)o[i]=arguments[i+2];e.apply(this,[se(n,1/0),r].concat(o))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r){Array.isArray(n)?this.axis=new ee().fromArray(n):this.axis=se(n,new ee(0,1,0)),this.angle=se(r,.01)},t.prototype._tick=function(n){this.axis&&this.angle&&this.controls.spin(this.axis,this.angle*n.lastDuration/16)},t}(ws),YX=function(e){function t(n,r){for(var o=[],i=arguments.length-2;i-- >0;)o[i]=arguments[i+2];e.apply(this,[se(n,1/0),r].concat(o)),this.angleSum=0,this.direction=1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r,o){Array.isArray(n)?this.axis=new ee().fromArray(n):this.axis=se(n,new ee(0,1,0)),this.angleStep=se(r,.01),this.angleEnd=se(o,.2)},t.prototype._tick=function(n){if(this.axis&&this.angleStep&&this.angleEnd){var r=oC(0,1,Math.abs(this.angleSum)/this.angleEnd),o=this.angleStep*this.direction*(1.1-r);this.controls.spin(this.axis,o*n.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},t}(ws),ZX=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r){this.moveFrom=dm(se(n,new ee)),this.moveTo=dm(se(r,new ee))},t.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},t}(ws),j_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r){this.zoomFrom=n,this.zoomTo=r},t.prototype._tick=function(){this.controls.distance(cl(this.zoomFrom,this.zoomTo,this.alpha))},t}(ws),z_t=function(e){function t(){e.apply(this,arguments),this._currentRotation=new Er}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r){this.rotateFrom=UN(n),this.rotateTo=UN(r),this._currentRotation=new Er},t.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},t}(ws),H_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n,r,o){this.valueFrom=n,this.valueTo=r,this.callback=o},t.prototype._tick=function(){this.callback(cl(this.valueFrom,this.valueTo,this.alpha))},t}(ws),V_t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._init=function(n){this.callback=n},t.prototype._tick=function(){this.alpha===1&&this.callback()},t}(ws),ME=function(e){e===void 0&&(e=[]),this._resolveList=[],this._list=e},QX={done:{configurable:!0}};QX.done.get=function(){return this._list.every(function(e){return e.done})},ME.prototype.then=function(e){var t,n=this;return t=this.done?Promise.resolve():new Promise(function(r){n._resolveList.push(r),n._list.forEach(function(o){o.then(function(){n._resolveList.forEach(function(i){i()}),n._resolveList.length=0})})}),t.then(e)},Object.defineProperties(ME.prototype,QX);var ho=function(e){this.stage=e,this.animationList=[],this.finishedList=[],this.viewer=e.viewer,this.controls=e.viewerControls},JX={paused:{configurable:!0}};JX.paused.get=function(){return this.animationList.every(function(e){return e.paused})},ho.prototype.add=function(e){return e.duration===0?e.tick(this.viewer.stats):this.animationList.push(e),e},ho.prototype.remove=function(e){var t=this.animationList,n=t.indexOf(e);n>-1&&t.splice(n,1)},ho.prototype.run=function(e){for(var t=this.finishedList,n=this.animationList,r=n.length,o=0;o<r;++o){var i=n[o];i.tick(e)&&t.push(i)}var a=t.length;if(a){for(var s=0;s<a;++s)this.remove(t[s]);t.length=0}},ho.prototype.spin=function(e,t,n){return this.add(new KX(n,this.controls,e,t))},ho.prototype.rock=function(e,t,n,r){return this.add(new YX(r,this.controls,e,t,n))},ho.prototype.rotate=function(e,t){var n=this.viewer.rotationGroup.quaternion.clone();return this.add(new z_t(t,this.controls,n,e))},ho.prototype.move=function(e,t){var n=this.controls.position.clone().negate();return this.add(new ZX(t,this.controls,n,e))},ho.prototype.zoom=function(e,t){var n=this.viewer.camera.position.z;return this.add(new j_t(t,this.controls,n,e))},ho.prototype.zoomMove=function(e,t,n){return new ME([this.move(e,n),this.zoom(t,n)])},ho.prototype.orient=function(e,t){var n=new ee,r=new Er,o=new ee;return X1(e).decompose(n,r,o),new ME([this.move(n.negate(),t),this.rotate(r,t),this.zoom(-o.x,t)])},ho.prototype.value=function(e,t,n,r){return this.add(new H_t(r,this.controls,e,t,n))},ho.prototype.timeout=function(e,t){return this.add(new V_t(t,this.controls,e))},ho.prototype.spinComponent=function(e,t,n,r){return this.add(new KX(r,e.controls,t,n))},ho.prototype.rockComponent=function(e,t,n,r,o){return this.add(new YX(o,e.controls,t,n,r))},ho.prototype.moveComponent=function(e,t,n){var r=e.controls.position.clone().negate();return this.add(new ZX(n,e.controls,r,t))},ho.prototype.pause=function(){this.animationList.forEach(function(e){return e.pause()})},ho.prototype.resume=function(){this.animationList.forEach(function(e){return e.resume()})},ho.prototype.toggle=function(){this.paused?this.resume():this.pause()},ho.prototype.clear=function(){this.animationList.length=0},ho.prototype.dispose=function(){this.clear()},Object.defineProperties(ho.prototype,JX);var bv=function(e,t){if(this.fn=e,this.queue=[],this.pending=!1,this.next=this.next.bind(this),t){for(var n=0,r=t.length;n<r;++n)this.queue.push(t[n]);this.next()}};bv.prototype.run=function(e){this.fn(e,this.next)},bv.prototype.next=function(){var e=this,t=this.queue.shift();t!==void 0?(this.pending=!0,setTimeout(function(){return e.run(t)})):this.pending=!1},bv.prototype.push=function(e){this.queue.push(e),this.pending||this.next()},bv.prototype.kill=function(){this.queue.length=0},bv.prototype.length=function(){return this.queue.length};var Co=function(e,t,n){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorData:{type:"hidden",update:"color"},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:Cn.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:Cn.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},diffuseInterior:{type:"boolean",buffer:!0},useInteriorColor:{type:"boolean",buffer:!0},interiorColor:{type:"color",buffer:!0},interiorDarkening:{type:"range",step:.01,max:1,min:0,buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=t,this.tasks=new Yc,this.queue=new bv(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=Cn.getSchemes()),this.toBePrepared=!1};Co.prototype.init=function(e){var t=e||{};this.clipNear=se(t.clipNear,0),this.clipRadius=se(t.clipRadius,0),this.clipCenter=se(t.clipCenter,new ee),this.flatShaded=se(t.flatShaded,!1),this.side=se(t.side,"double"),this.opacity=se(t.opacity,1),this.depthWrite=se(t.depthWrite,!0),this.wireframe=se(t.wireframe,!1),this.setColor(t.color,t),this.colorData=se(t.colorData,void 0),this.colorScheme=se(t.colorScheme,"uniform"),this.colorScale=se(t.colorScale,""),this.colorReverse=se(t.colorReverse,!1),this.colorValue=se(t.colorValue,9474192),this.colorDomain=se(t.colorDomain,void 0),this.colorMode=se(t.colorMode,"hcl"),this.visible=se(t.visible,!0),this.quality=se(t.quality,void 0),this.roughness=se(t.roughness,.4),this.metalness=se(t.metalness,0),this.diffuse=se(t.diffuse,16777215),this.diffuseInterior=se(t.diffuseInterior,!1),this.useInteriorColor=se(t.useInteriorColor,!1),this.interiorColor=se(t.interiorColor,2236962),this.interiorDarkening=se(t.interiorDarkening,0),this.lazy=se(t.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=se(t.matrix,new mt),this.disablePicking=se(t.disablePicking,!1);var n=this.parameters;n.sphereDetail===!0&&(n.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),n.radialSegments===!0&&(n.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),n.openEnded===!0&&(n.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),n.disableImpostor===!0&&(n.disableImpostor={type:"boolean",rebuild:!0}),t.quality==="low"?(n.sphereDetail&&(this.sphereDetail=0),n.radialSegments&&(this.radialSegments=5)):t.quality==="medium"?(n.sphereDetail&&(this.sphereDetail=1),n.radialSegments&&(this.radialSegments=10)):t.quality==="high"?(n.sphereDetail&&(this.sphereDetail=2),n.radialSegments&&(this.radialSegments=20)):(n.sphereDetail&&(this.sphereDetail=se(t.sphereDetail,1)),n.radialSegments&&(this.radialSegments=se(t.radialSegments,10))),n.openEnded&&(this.openEnded=se(t.openEnded,!0)),n.disableImpostor&&(this.disableImpostor=se(t.disableImpostor,!1))},Co.prototype.getColorParams=function(e){return Object.assign({data:this.colorData,scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode,colorSpace:this.colorSpace},e)},Co.prototype.getBufferParams=function(e){return e===void 0&&(e={}),Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,diffuseInterior:this.diffuseInterior,useInteriorColor:this.useInteriorColor,interiorColor:this.interiorColor,interiorDarkening:this.interiorDarkening,matrix:this.matrix,disablePicking:this.disablePicking},e)},Co.prototype.setColor=function(e,t){var n=Object.keys(Cn.getSchemes());if(typeof e=="string"&&n.includes(e.toLowerCase()))t?t.colorScheme=e:this.setParameters({colorScheme:e});else if(e!==void 0){var r=new vt(e).getHex();t?(t.colorScheme="uniform",t.colorValue=r):this.setParameters({colorScheme:"uniform",colorValue:r})}return this},Co.prototype.prepare=function(e){},Co.prototype.create=function(){},Co.prototype.update=function(e){this.build()},Co.prototype.build=function(e){if(!this.lazy||this.visible&&this.opacity){if(!this.toBePrepared)return this.tasks.increment(),void this.make();this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),this.queue.push(e||!1)}else this.lazyProps.build=!0},Co.prototype.make=function(e,t){var n=this;ot&&Ze.time("Representation.make "+this.type);var r=function(){e?(n.update(e),n.viewer.requestRender(),n.tasks.decrement(),t&&t()):(n.clear(),n.create(),n.manualAttach||n.disposed||(ot&&Ze.time("Representation.attach "+n.type),n.attach(function(){ot&&Ze.timeEnd("Representation.attach "+n.type),n.tasks.decrement(),t&&t()}))),ot&&Ze.timeEnd("Representation.make "+n.type)};this.toBePrepared?this.prepare(r):r()},Co.prototype.attach=function(e){this.setVisibility(this.visible),e()},Co.prototype.setVisibility=function(e,t){if(this.visible=e,this.visible&&this.opacity){var n=this.lazyProps,r=n.bufferParams,o=n.what;if(n.build)return n.build=!1,this.build(),this;(Object.keys(r).length||Object.keys(o).length)&&(n.bufferParams={},n.what={},this.updateParameters(r,o))}return this.bufferList.forEach(function(i){i.setVisibility(e)}),t||this.viewer.requestRender(),this},Co.prototype.setParameters=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var r=e||{},o=this.parameters,i={};for(var a in this.opacity||r.opacity===void 0||(this.lazyProps.build?(this.lazyProps.build=!1,n=!0):(Object.assign(i,this.lazyProps.bufferParams),Object.assign(t,this.lazyProps.what),this.lazyProps.bufferParams={},this.lazyProps.what={})),this.setColor(r.color,r),r)r[a]!==void 0&&o[a]!==void 0&&(o[a].int&&(r[a]=parseInt(r[a])),o[a].float&&(r[a]=parseFloat(r[a])),r[a]!==this[a]||r[a].equals&&!r[a].equals(this[a]))&&(this[a]&&this[a].copy&&r[a].copy?this[a].copy(r[a]):this[a]&&this[a].set?this[a].set(r[a]):this[a]=r[a],o[a].buffer&&(o[a].buffer===!0?i[a]=r[a]:i[o[a].buffer]=r[a]),o[a].update&&(t[o[a].update]=!0),!o[a].rebuild||o[a].rebuild==="impostor"&&xu&&!this.disableImpostor||(n=!0));return n?this.build():this.updateParameters(i,t),this},Co.prototype.updateParameters=function(e,t){if(e===void 0&&(e={}),this.lazy&&(!this.visible||!this.opacity)&&e.hasOwnProperty("opacity")===!1)return Object.assign(this.lazyProps.bufferParams,e),void Object.assign(this.lazyProps.what,t);this.bufferList.forEach(function(n){n.setParameters(e)}),Object.keys(t).length&&this.update(t),this.viewer.requestRender()},Co.prototype.getParameters=function(){var e=this,t={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(n){e.parameters[n]!==null&&(t[n]=e[n])}),t},Co.prototype.clear=function(){var e=this;this.bufferList.forEach(function(t){e.viewer.remove(t),t.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},Co.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var AE=function(e){var t=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=e,this.blobUrl=window.URL.createObjectURL(Jw.get(e)),this.worker=new Worker(this.blobUrl),Jw.activeWorkerCount+=1,this.worker.onmessage=function(n){t.pending-=1;var r=n.data.__postId;ot&&Ze.timeEnd("Worker.postMessage "+e+" #"+r);var o=t.onmessageDict[r];o&&o.call(t.worker,n),delete t.onmessageDict[r],delete t.onerrorDict[r]},this.worker.onerror=function(n){if(t.pending-=1,n.data){var r=n.data.__postId,o=t.onerrorDict[r];o?o.call(t.worker,n):Ze.error("Worker.onerror",r,e,n),delete t.onmessageDict[r],delete t.onerrorDict[r]}else Ze.error("Worker.onerror",e,n)}};AE.prototype.post=function(e,t,n,r){e===void 0&&(e={}),this.onmessageDict[this.postCount]=n,this.onerrorDict[this.postCount]=r,e.__name=this.name,e.__postId=this.postCount,e.__debug=ot,ot&&Ze.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(e,t)}catch(o){Ze.error("worker.post:",o),this.worker.postMessage(e)}return this.pending+=1,this.postCount+=1,this},AE.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),Jw.activeWorkerCount-=1):Ze.log("no worker to terminate")};var yv=function(e,t){t===void 0&&(t=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,t),this.name=e};function KN(e){for(var t=e.length,n=t/3,r=0,o=0,i=0,a=0;a<t;a+=3)r+=e[a+0],o+=e[a+1],i+=e[a+2];return new ee(r/n,o/n,i/n)}function fm(e,t,n){return n?e.sub(n).projectOnVector(t).add(n):e.projectOnVector(t),e}function t_(e){for(var t=1/0,n=1/0,r=1/0,o=-1/0,i=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],d=e[s+2];c<t&&(t=c),u<n&&(n=u),d<r&&(r=d),c>o&&(o=c),u>i&&(i=u),d>a&&(a=d)}return[cn([t,n,r]),cn([o,i,a])]}function dk(e,t){for(var n=0,r=t.length;n<r;n+=3){var o=t[n],i=t[n+1],a=t[n+2];t[n]=e[0]*o+e[4]*i+e[8]*a+e[12],t[n+1]=e[1]*o+e[5]*i+e[9]*a+e[13],t[n+2]=e[2]*o+e[6]*i+e[10]*a+e[14]}}function i8(e,t){for(var n=0,r=t.length;n<r;n+=3){var o=t[n],i=t[n+1],a=t[n+2];t[n]=e[0]*o+e[3]*i+e[6]*a,t[n+1]=e[1]*o+e[4]*i+e[7]*a,t[n+2]=e[2]*o+e[5]*i+e[8]*a}}function rpe(e){for(var t=0,n=e.length;t<n;t+=3){var r=e[t],o=e[t+1],i=e[t+2],a=r*r+o*o+i*i;if(a>0){var s=1/Math.sqrt(a);e[t]=r*s,e[t+1]=o*s,e[t+2]=i*s}}}function cn(e){return new Float32Array(e||3)}function rs(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],l=n[2];e[0]=o*l-i*s,e[1]=i*a-r*l,e[2]=r*s-o*a}function za(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Yr(e,t,n){e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2]}function tc(e,t,n){e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2]}function ba(e,t,n){n===void 0&&(n=0),e[0]=t[n],e[1]=t[n+1],e[2]=t[n+2]}function gn(e,t,n){n===void 0&&(n=0),t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2]}function ope(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}function vp(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function Xv(e,t,n){wr(e,t,1/n)}function wr(e,t,n){e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n}function ro(e,t){var n=ope(t);n==0?(e[0]=t[0],e[1]=t[1],e[2]=t[2]):wr(e,t,1/Math.sqrt(n))}function ipe(e,t,n){e[0]=t[0]-n,e[1]=t[1]-n,e[2]=t[2]-n}function mM(e,t,n){e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n}function YN(e,t){e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2])}function Z1(e,t){e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2])}function fk(e,t){e[0]=-t[0],e[1]=-t[1],e[2]=-t[2]}function U_t(e,t){t===void 0&&(t=9);for(var n=Math.floor(t/2),r=e.position1.length/3,o=3*(n*r),i=1/t,a=uk(e.position1,e.position2),s=new Float32Array(o),l=new Float32Array(o),c=new ee,u=0;u<r;++u){var d=3*u;c.set(a[d],a[d+1],a[d+2]);for(var f=e.position1[d],p=e.position1[d+1],h=e.position1[d+2],g=0;g<n;++g){var v=n*d+3*g,m=i*(2*g+1),b=i*(2*g+2);s[v]=f+c.x*m,s[v+1]=p+c.y*m,s[v+2]=h+c.z*m,l[v]=f+c.x*b,l[v+1]=p+c.y*b,l[v+2]=h+c.z*b}}var x=wu(s,l),y=function(_,S){for(var P=_.length/3,M=new Float32Array(P*S*3),I=0;I<P;++I)for(var O=3*I,L=I*S*3,R=_[O+0],T=_[O+1],E=_[O+2],k=0;k<S;++k){var B=L+3*k;M[B+0]=R,M[B+1]=T,M[B+2]=E}return M}(e.color,n),w={position:x,position1:s,position2:l,color:y,color2:y};return e.radius&&(w.radius=S$(e.radius,n)),e.picking&&e.picking.array&&(e.picking.array=S$(e.picking.array,n),w.picking=e.picking),e.primitiveId&&(w.primitiveId=S$(e.primitiveId,n)),w}function ape(e,t){t===void 0&&(t=.1);for(var n=uk(e.position1,e.position2),r=[],o=[],i=[],a=e.radius?[]:void 0,s=e.picking?[]:void 0,l=e.primitiveId?[]:void 0,c=new ee,u=e.position1.length/3,d=0,f=0;f<u;++f){var p=3*f;c.set(n[p],n[p+1],n[p+2]);for(var h=c.length()/t,g=Math.floor(h/2),v=1/h,m=e.position1[p],b=e.position1[p+1],x=e.position1[p+2],y=0;y<g;++y){var w=3*d+3*y,_=v*(2*y+1),S=v*(2*y+2);r[w]=m+c.x*_,r[w+1]=b+c.y*_,r[w+2]=x+c.z*_,o[w]=m+c.x*S,o[w+1]=b+c.y*S,o[w+2]=x+c.z*S,e.color&&(i[w]=e.color[p],i[w+1]=e.color[p+1],i[w+2]=e.color[p+2]),a&&(a[d+y]=e.radius[f]),s&&(e.picking.array?s[d+y]=e.picking.array[f]:s[d+y]=f),l&&(l[d+y]=e.primitiveId[f])}d+=g}var P=new Float32Array(r),M=new Float32Array(o),I=wu(P,M),O=new Float32Array(i),L={position:I,position1:P,position2:M,color:O,color2:O};return a&&(L.radius=new Float32Array(a)),s&&e.picking&&(e.picking.array=new Float32Array(s),L.picking=e.picking),l&&(L.primitiveId=new Float32Array(l)),L}function ZN(e,t){t===void 0&&(t=.1);for(var n=uk(e.position1,e.position2),r=[],o=[],i=[],a=e.radius?[]:void 0,s=e.picking?[]:void 0,l=e.primitiveId?[]:void 0,c=new ee,u=e.position1.length/3,d=t,f=!0,p=0,h=0,g=0,v=0;v<u;++v){var m=3*v,b=e.position1[m],x=e.position1[m+1],y=e.position1[m+2];c.set(n[m],n[m+1],n[m+2]);var w=c.length();f&&(r[h]=b,r[h+1]=x,r[h+2]=y);for(var _=d,S=1/w;_<w;){var P=f?o:r;P[h]=b+c.x*_*S,P[h+1]=x+c.y*_*S,P[h+2]=y+c.z*_*S,f&&(h=3*++p),f=!f,d=t,_+=t}f&&(o[h]=e.position2[m],o[h+1]=e.position2[m+1],o[h+2]=e.position2[m+2],h=3*++p),d=_-w;for(var M=g;M<p;M++){if(e.color){var I=3*M;i[I]=e.color[m],i[I+1]=e.color[m+1],i[I+2]=e.color[m+2]}a&&(a[M]=e.radius[v]),s&&(e.picking.array?s[M]=e.picking.array[v]:s[M]=v),l&&(l[M]=e.primitiveId[v])}g=p}if(!f&&u>0){var O=3*p;o[O]=e.position2[3*u-3],o[O+1]=e.position2[3*u-2],o[O+1]=e.position2[3*u-1]}var L=new Float32Array(r),R=new Float32Array(o),T=wu(L,R),E=new Float32Array(i),k={position:T,position1:L,position2:R,color:E,color2:E};return a&&(k.radius=new Float32Array(a)),s&&e.picking&&(e.picking.array=new Float32Array(s),k.picking=e.picking),l&&(k.primitiveId=new Float32Array(l)),k}yv.prototype.post=function(e,t,n,r){e===void 0&&(e={});var o=this.getNextWorker();return o?o.post(e,t,n,r):console.error("unable to get worker from pool"),this},yv.prototype.terminate=function(){this.pool.forEach(function(e){e.terminate()})},yv.prototype.getNextWorker=function(){for(var e,t=1/0,n=0;n<this.maxCount;++n){if(n>=this.count){e=new AE(this.name),this.pool.push(e),this.count+=1;break}var r=this.pool[n];if(r.pending===0){e=r;break}r.pending<t&&(t=r.pending,e=r)}return e},yv.prototype.constructor=yv,t_.__deps=[cn],Xv.__deps=[wr],ro.__deps=[wr,ope];var $p=new ee,pi=function(){},L$={Picker:{configurable:!0},Buffer:{configurable:!0}};L$.Picker.get=function(){return nl.get(this.type)},L$.Buffer.get=function(){return qs.get(this.type)},pi.getShapeKey=function(e){return this.type+e[0].toUpperCase()+e.substr(1)},pi.expandBoundingBox=function(e,t){},pi.valueToShape=function(e,t,n){var r,o,i=e._primitiveData[this.getShapeKey(t)];switch(this.fields[t]){case"v3":case"c":o=i,(r=n).toArray!==void 0?r=r.toArray():r.x!==void 0?r=[r.x,r.y,r.z]:r.r!==void 0&&(r=[r.r,r.g,r.b]),o.push.apply(o,r);break;default:i.push(n)}},pi.objectToShape=function(e,t){var n=this;Object.keys(this.fields).forEach(function(r){n.valueToShape(e,r,t[r])}),this.valueToShape(e,"name",t.name),this.expandBoundingBox(e.boundingBox,t)},pi.valueFromShape=function(e,t,n){var r=e._primitiveData[this.getShapeKey(n)];switch(this.fields[n]){case"v3":return new ee().fromArray(r,3*t);case"c":return new vt().fromArray(r,3*t);default:return r[t]}},pi.objectFromShape=function(e,t){var n=this,r=this.valueFromShape(e,t,"name");r===void 0&&(r=this.type+": "+t+" ("+e.name+")");var o={shape:e,name:r};return Object.keys(this.fields).forEach(function(i){o[i]=n.valueFromShape(e,t,i)}),o},pi.arrayFromShape=function(e,t){var n=e._primitiveData[this.getShapeKey(t)];return this.fields[t]==="s"?n:new Float32Array(n)},pi.dataFromShape=function(e){var t=this,n={};return this.Picker&&(n.picking=new this.Picker(e)),Object.keys(this.fields).forEach(function(r){n[r]=t.arrayFromShape(e,r)}),n},pi.bufferFromShape=function(e,t){return new this.Buffer(this.dataFromShape(e),t)},Object.defineProperties(pi,L$),pi.type="",pi.fields={};var Oy=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){return this.valueFromShape(n,r,"position")},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position))},t}(pi);Oy.type="sphere",Oy.fields={position:"v3",color:"c",radius:"f"};var Wm=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){return this.valueFromShape(n,r,"position")},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position))},t}(pi);Wm.type="box",Wm.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var pk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Wm);pk.type="octahedron";var hk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Wm);hk.type="tetrahedron";var qm=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){var o=this.valueFromShape(n,r,"position1"),i=this.valueFromShape(n,r,"position2");return o.add(i).multiplyScalar(.5)},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position1)),n.expandByPoint($p.fromArray(r.position2))},t.bufferFromShape=function(n,r){r===void 0&&(r={});var o=this.dataFromShape(n);return this.type==="cylinder"&&r.dashedCylinder&&(o=ape(o)),new this.Buffer(o,r)},t}(pi);qm.type="cylinder",qm.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var mk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qm);mk.type="arrow";var gk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qm);gk.type="cone";var Iy=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Oy);Iy.type="ellipsoid",Iy.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var vk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Iy);vk.type="torus";var EE=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){return this.valueFromShape(n,r,"position")},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position))},t}(pi);EE.type="text",EE.fields={position:"v3",color:"c",size:"f",text:"s"};var n_=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){return this.valueFromShape(n,r,"position")},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position))},t}(pi);n_.type="point",n_.fields={position:"v3",color:"c"};var r_=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.positionFromShape=function(n,r){var o=this.valueFromShape(n,r,"position1"),i=this.valueFromShape(n,r,"position2");return o.add(i).multiplyScalar(.5)},t.expandBoundingBox=function(n,r){n.expandByPoint($p.fromArray(r.position1)),n.expandByPoint($p.fromArray(r.position2))},t}(pi);r_.type="wideline",r_.fields={position1:"v3",position2:"v3",color:"c"};var Xm=function(e,t){this.exp=3;var n=t||function(O){for(var L=O.x,R=O.y,T=O.z,E=new Tr,k=L.length,B=E.min,$=E.max,j=0;j<k;j++)B.x=Math.min(L[j],B.x),B.y=Math.min(R[j],B.y),B.z=Math.min(T[j],B.z),$.x=Math.max(L[j],$.x),$.y=Math.max(R[j],$.y),$.z=Math.max(T[j],$.z);return E}(e);this.minX=n.min.x,this.minY=n.min.y,this.minZ=n.min.z,this.boundX=1+(n.max.x-this.minX>>this.exp),this.boundY=1+(n.max.y-this.minY>>this.exp),this.boundZ=1+(n.max.z-this.minZ>>this.exp);for(var r=this.boundX*this.boundY*this.boundZ,o=e.count!==void 0?e.count:e.x.length,i=e.x,a=e.y,s=e.z,l=0,c=new Uint32Array(r),u=new Int32Array(o),d=0;d<o;++d){var f=i[d]-this.minX>>this.exp,p=a[d]-this.minY>>this.exp,h=s[d]-this.minZ>>this.exp,g=(f*this.boundY+p)*this.boundZ+h;(c[g]+=1)===1&&(l+=1),u[d]=g}for(var v=new Uint16Array(l),m=0,b=0;m<r;++m){var x=c[m];x>0&&(c[m]=b+1,v[b]=x,b+=1)}for(var y=new Uint32Array(l),w=1;w<l;++w)y[w]+=y[w-1]+v[w-1];for(var _=new Uint16Array(l),S=new Int32Array(o),P=0;P<o;++P){var M=c[u[P]];if(M>0){var I=M-1;S[y[I]+_[I]]=P,_[I]+=1}}this.grid=c,this.bucketCount=v,this.bucketOffset=y,this.bucketArray=S,this.xArray=i,this.yArray=a,this.zArray=s};Xm.prototype.within=function(e,t,n,r){var o=[];return this.eachWithin(e,t,n,r,function(i){return o.push(i)}),o},Xm.prototype.eachWithin=function(e,t,n,r,o){for(var i=r*r,a=Math.max(0,e-r-this.minX>>this.exp),s=Math.max(0,t-r-this.minY>>this.exp),l=Math.max(0,n-r-this.minZ>>this.exp),c=Math.min(this.boundX,1+(e+r-this.minX>>this.exp)),u=Math.min(this.boundY,1+(t+r-this.minY>>this.exp)),d=Math.min(this.boundZ,1+(n+r-this.minZ>>this.exp)),f=a;f<c;++f)for(var p=s;p<u;++p)for(var h=l;h<d;++h){var g=(f*this.boundY+p)*this.boundZ+h,v=this.grid[g];if(v>0)for(var m=v-1,b=this.bucketOffset[m],x=b+this.bucketCount[m],y=b;y<x;++y){var w=this.bucketArray[y],_=this.xArray[w]-e,S=this.yArray[w]-t,P=this.zArray[w]-n,M=_*_+S*S+P*P;M<=i&&o(w,M)}}};var Mi=function(e){this._fields=this._defaultFields,this._init(0)},eK={_defaultFields:{configurable:!0}};eK._defaultFields.get=function(){return[]},Mi.prototype._init=function(e){this.length=e,this.count=0;for(var t=0,n=this._fields.length;t<n;++t){var r=this._fields[t],o=r[0],i=r[1],a=r[2];this._initField(o,i,a)}},Mi.prototype._initField=function(e,t,n){this[e]=Gfe(n,this.length*t)},Mi.prototype.addField=function(e,t,n){this._fields.push([e,t,n]),this._initField(e,t,n)},Mi.prototype.resize=function(e){this.length=Math.round(e||0),this.count=Math.min(this.count,this.length);for(var t=0,n=this._fields.length;t<n;++t){var r=this._fields[t][0],o=this._fields[t][1],i=this.length*o,a=new this[r].constructor(i);this[r].length>i?a.set(this[r].subarray(0,i)):a.set(this[r]),this[r]=a}},Mi.prototype.growIfFull=function(){if(this.count>=this.length){var e=Math.round(1.5*this.length);this.resize(Math.max(256,e))}},Mi.prototype.copyFrom=function(e,t,n,r){for(var o=0,i=this._fields.length;o<i;++o)for(var a=this._fields[o][0],s=this._fields[o][1],l=this[a],c=e[a],u=0;u<r;++u)for(var d=s*(t+u),f=s*(n+u),p=0;p<s;++p)l[d+p]=c[f+p]},Mi.prototype.copyWithin=function(e,t,n){for(var r=0,o=this._fields.length;r<o;++r)for(var i=this._fields[r][0],a=this._fields[r][1],s=this[i],l=0;l<n;++l)for(var c=a*(e+l),u=a*(t+l),d=0;d<a;++d)s[c+d]=s[u+d]},Mi.prototype.sort=function(e){Ze.time("Store.sort");var t=this,n=new this.constructor(1);(function r(o,i){if(o<i){var a=Math.floor((o+i)/2),s=o,l=i;do{for(;e(s,a)<0;)s+=1;for(;e(l,a)>0;)l-=1;s<=l&&(s===a?a=l:l===a&&(a=s),(c=s)!==(u=l)&&(n.copyFrom(t,0,c,1),t.copyWithin(c,u,1),t.copyFrom(n,u,0,1)),s+=1,l-=1)}while(s<=l);r(o,l),r(s,i)}var c,u})(0,this.count-1),Ze.timeEnd("Store.sort")},Mi.prototype.clear=function(){this.count=0},Mi.prototype.dispose=function(){for(var e=0,t=this._fields.length;e<t;++e)delete this[this._fields[e][0]]},Object.defineProperties(Mi.prototype,eK);var G_t=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},t.prototype.addContact=function(r,o,i){this.growIfFull();var a=this.count;r<o?(this.index1[a]=r,this.index2[a]=o):(this.index2[a]=r,this.index1[a]=o),i&&(this.type[a]=i),this.count+=1},Object.defineProperties(t.prototype,n),t}(Mi);function iP(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}var ln=function(e,t){this.length=e,this._words=new Uint32Array(e+32>>>5),t===!0&&this.setAll()};function spe(e){for(var t=e.edgeCount,n=e.nodeCount,r=e.nodeArray1,o=e.nodeArray2,i=new Uint8Array(n),a=new Int32Array(n),s=0;s<t;++s)i[r[s]]+=1,i[o[s]]+=1;for(var l=1;l<n;++l)a[l]+=a[l-1]+i[l-1];for(var c=2*t,u=new Int32Array(c),d=0;d<c;++d)u[d]=-1;for(var f=0;f<t;++f){for(var p=r[f],h=o[f],g=a[p];u[g]!==-1&&g<c;)g+=1;u[g]=f;for(var v=a[h];u[v]!==-1&&v<c;)v+=1;u[v]=f}return{countArray:i,offsetArray:a,indexArray:u}}function di(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),{type:e,group:t,x:0,y:0,z:0,atomSet:[]}}function _o(e,t){e.x+=t.x,e.y+=t.y,e.z+=t.z,e.atomSet.push(t.index)}function So(e,t){var n=t.atomSet.length;if(n>0){var r=e.types,o=e.groups,i=e.centers,a=e.atomSets;r.push(t.type),o.push(t.group),i.x.push(t.x/n),i.y.push(t.y/n),i.z.push(t.z/n),a.push(t.atomSet)}}ln.prototype.get=function(e){return(this._words[e>>>5]&1<<e)!=0},ln.prototype.set=function(e){this._words[e>>>5]|=1<<e},ln.prototype.clear=function(e){this._words[e>>>5]&=~(1<<e)},ln.prototype.flip=function(e){this._words[e>>>5]^=1<<e},ln.prototype._assignRange=function(e,t,n){if(!(t<e)){for(var r=this._words,o=n===!0?4294967295:0,i=e>>>5,a=t>>>5,s=i+1;s<a;++s)r[s]=o;var l=i<<5,c=a<<5;if(n===!0)if(t-e<32)for(var u=e,d=t+1;u<d;++u)r[u>>>5]|=1<<u;else{for(var f=e,p=l+32;f<p;++f)r[f>>>5]|=1<<f;for(var h=c,g=t+1;h<g;++h)r[h>>>5]|=1<<h}else if(t-e<32)for(var v=e,m=t+1;v<m;++v)r[v>>>5]&=~(1<<v);else{for(var b=e,x=l+32;b<x;++b)r[b>>>5]&=~(1<<b);for(var y=c,w=t+1;y<w;++y)r[y>>>5]&=~(1<<y)}return this}},ln.prototype.setRange=function(e,t){return this._assignRange(e,t,!0)},ln.prototype.clearRange=function(e,t){return this._assignRange(e,t,!1)},ln.prototype.setBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,r=e.length,o=0;o<r;++o){var i=e[o];n[i>>>5]|=1<<i}return this},ln.prototype.clearBits=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,r=e.length,o=0;o<r;++o){var i=e[o];n[i>>>5]&=~(1<<i)}return this},ln.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},ln.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},ln.prototype.flipAll=function(){for(var e=this._words.length,t=this._words,n=32-this.length%32,r=0;r<e-1;++r)t[r]=~t[r];return t[e-1]=~(t[e-1]<<n)>>>n,this},ln.prototype._isRangeValue=function(e,t,n){if(!(t<e)){for(var r=this._words,o=n===!0?4294967295:0,i=e>>>5,a=t>>>5,s=i+1;s<a;++s)if(r[s]!==o)return!1;if(t-e<32){for(var l=e,c=t+1;l<c;++l)if(!!(r[l>>>5]&1<<l)!==n)return!1}else{for(var u=a<<5,d=e,f=(i<<5)+32;d<f;++d)if(!!(r[d>>>5]&1<<d)!==n)return!1;for(var p=u,h=t+1;p<h;++p)if(!!(r[p>>>5]&1<<p)!==n)return!1}return!0}},ln.prototype.isRangeSet=function(e,t){return this._isRangeValue(e,t,!0)},ln.prototype.isRangeClear=function(e,t){return this._isRangeValue(e,t,!1)},ln.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},ln.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},ln.prototype.isSet=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,r=e.length,o=0;o<r;++o){var i=e[o];if(!(n[i>>>5]&1<<i))return!1}return!0},ln.prototype.isClear=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this._words,r=e.length,o=0;o<r;++o){var i=e[o];if(n[i>>>5]&1<<i)return!1}return!0},ln.prototype.isEqualTo=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0;o<r;++o)if(t[o]!==n[o])return!1;return!0},ln.prototype.getSize=function(){for(var e=this._words.length,t=this._words,n=0,r=0;r<e;++r)n+=iP(t[r]);return n},ln.prototype.difference=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0;o<r;++o)t[o]=t[o]&~n[o];for(var i=t.length;i<r;++i)t[i]=0;return this},ln.prototype.union=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0;o<r;++o)t[o]|=n[o];for(var i=t.length;i<r;++i)t[i]=0;return this},ln.prototype.intersection=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0;o<r;++o)t[o]&=n[o];for(var i=t.length;i<r;++i)t[i]=0;return this},ln.prototype.intersects=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0;o<r;++o)if(t[o]&n[o])return!0;return!1},ln.prototype.getIntersectionSize=function(e){for(var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=0,i=0;i<r;++i)o+=iP(t[i]&n[i]);return o},ln.prototype.makeIntersection=function(e){var t=this._words,n=e._words,r=Math.min(t.length,n.length),o=new Uint32Array(r),i=Object.create(ln.prototype);i._words=o,i.length=Math.min(this.length,e.length);for(var a=0;a<r;++a)o[a]=t[a]&n[a];return i},ln.prototype.forEach=function(e){for(var t=this._words.length,n=this._words,r=0,o=0;o<t;++o)for(var i=n[o];i!==0;){var a=i&-i;e((o<<5)+iP(a-1),r),i^=a,++r}},ln.prototype.toArray=function(){for(var e=this._words,t=new Array(this.getSize()),n=this._words.length,r=0,o=0;o<n;++o)for(var i=e[o];i!==0;){var a=i&-i;t[r++]=(o<<5)+iP(a-1),i^=a}return t},ln.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},ln.prototype.toSeleString=function(){var e=this.toArray().join(",");return e?"@"+e:"NONE"},ln.prototype.clone=function(){var e=Object.create(ln.prototype);return e.length=this.length,e._words=new Uint32Array(this._words),e};var W_t=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],q_t=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],X_t=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],lpe=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],K_t=["NON-POLYMER"].concat(["OTHER"],lpe),cpe=["h","g","i"],upe=["e","b"],dpe=["s","t","l",""],Y_t={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},Z_t={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},Q_t={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},tK={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},J_t={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},nK={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},eSt=[0,0,0],TE={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",SEC:"U",PYL:"O"},mb=Object.keys(TE),fpe=["A","C","T","G","U","I"],ppe=["DA","DC","DT","DG","DU","DI"],tSt=["A","G","I","DA","DG","DI"],Px=fpe.concat(ppe),OE=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],nSt=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],rSt=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],oSt=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","OT1","OT2","H","H1","H2","H3","HA","HN","BB"],hpe=["P","OP1","OP2","HOP2","HOP3","O2'","O3'","O4'","O5'","C1'","C2'","C3'","C4'","C5'","H1'","H2'","H2''","HO2'","H3'","H4'","H5'","H5''","HO3'","HO5'","O2*","O3*","O4*","O5*","C1*","C2*","C3*","C4*","C5*"],gM={1:{trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT","OT1","OT2"],backboneStart:"N",backboneEnd:"C"},2:{trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},3:{trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},4:{trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},5:{trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},6:{trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},0:{}},rK={HD:"H",HS:"H",A:"C",NA:"N",NS:"N",OA:"O",OS:"O",SA:"S",G0:"C",G1:"C",G2:"C",G3:"C",CG0:"C",CG1:"C",CG2:"C",CG3:"C",W:"O"};function aP(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}var oK=new Map([[2,oo(180)],[3,oo(120)],[4,oo(109.4721)],[6,oo(90)]]);function sP(e,t){var n=[],r=new ee,o=new ee;return r.subVectors(t,e),e.eachBondedAtom(function(i){i.number!==1&&(o.subVectors(i,e),n.push(r.angleTo(o)))}),n}function iK(e,t){var n=e.clone(),r=new ee;r.subVectors(t,e);var o=[new ee,new ee],i=0;if(e.eachBondedAtom(function(s){i>1||s.number!==1&&(n.index=s.index,o[i++].subVectors(s,e))}),i===1&&n.eachBondedAtom(function(s){i>1||s.number!==1&&s.index!==e.index&&o[i++].subVectors(s,e)}),i===2){var a=o[0].cross(o[1]);return Math.abs(Math.PI/2-a.angleTo(r))}}function iSt(e,t){var n=e.structure,r=n.atomCount,o=new Int8Array(r),i=new Int8Array(r),a=new Int8Array(r),s=new Int8Array(r);return n.eachAtom(function(l){var c=l.index,u=function(g,v){var m=g.bondToElementCount(1),b=g.formalCharge||0,x=v.assignCharge==="always"||v.assignCharge==="auto"&&b===0,y=v.assignH==="always"||v.assignH==="auto"&&m===0,w=g.bondCount,_=function(L){var R=0;return L.eachBond(function(T){return R+=T.bondOrder}),R}(g),S=function(L){var R=L.structure.getBondProxy(),T=L.number,E=T===8||T===7;if(E&&L.bondCount===4)return!1;var k=!1;return L.eachBond(function(B){if(B.bondOrder>1)k=!0;else if(E){var $=B.getOtherAtom(L);$.eachBond(function(j){if(j.bondOrder>1){var V=$.number;if((V===15||V===16)&&j.getOtherAtom($).number===8)return;k=!0}},R)}}),k}(g),P=_-w>0,M=0,I=8;switch(g.number){case 1:x&&(w===0?(b=1,I=0):w===1&&(b=0,I=1));break;case 6:x&&(b=0),y&&(M=Math.max(0,4-_-Math.abs(b))),I=aP(w+M+Math.max(0,-b));break;case 7:if(x)if(y)if(S&&_<4)b=w-m==1&&_-m==2?1:0;else{var O=!1;g.eachBondedAtom(function(L){(L.number===16||L.isMetal())&&(O=!0)}),b=O?0:1}else b=_-3;y&&(M=Math.max(0,3-_+b)),I=aP(S&&!P?w+M-b:w+M+1-b);break;case 8:x&&(y||(b=_-2),_===1&&g.eachBondedAtom(function(L){L.eachBond(function(R){var T=R.getOtherAtom(L);T.index!==g.index&&T.number===8&&R.bondOrder===2&&(b=-1)})})),y&&(M=Math.max(0,2-_+b)),I=aP(S&&!P?w+M-b+1:w+M-b+2);break;case 16:x&&(y||(b=_<=3&&!g.bondToElementCount(8)?_-2:0)),y&&_<2&&(M=Math.max(0,2-_+b)),_<=3&&(I=aP(w+M-b+2));break;case 9:case 17:case 35:case 53:case 85:x&&(b=_-1);break;case 3:case 11:case 19:case 37:case 55:case 87:x&&(b=1-_);break;case 4:case 12:case 20:case 38:case 56:case 88:x&&(b=2-_);break;default:console.warn("Requested charge, protonation for an unhandled element",g.element)}return[b,M,M+m,I]}(l,t),d=u[0],f=u[1],p=u[2],h=u[3];o[c]=d,i[c]=f,a[c]=p,s[c]=h}),{charge:o,implicitH:i,totalH:a,idealGeometry:s}}function xv(e){if(e["@valenceModel"])return e["@valenceModel"];var t=iSt(e,{assignCharge:"auto",assignH:"auto"});return e["@valenceModel"]=t,t}function aK(e){return e.number===15&&e.bondToElementCount(8)===e.bondCount}var aSt=["ARG","HIS","LYS"],sSt=["GLU","ASP"];function lSt(e,t,n){n===void 0&&(n={});for(var r=se(n.maxIonicDist,Xr.maxIonicDist),o=se(n.maxPiStackingDist,Xr.maxPiStackingDist),i=se(n.maxPiStackingOffset,Xr.maxPiStackingOffset),a=se(n.maxPiStackingAngle,Xr.maxPiStackingAngle),s=se(n.maxCationPiDist,Xr.maxCationPiDist),l=se(n.maxCationPiOffset,Xr.maxCationPiOffset),c=se(n.masterModelIndex,Xr.masterModelIndex),u=Math.max(r+2,o,s),d=o*o,f=s*s,p=t.features,h=t.spatialHash,g=t.contactStore,v=t.featureSet,m=p.types,b=p.centers,x=p.atomSets,y=b.x,w=b.y,_=b.z,S=m.length,P=e.atomStore.x,M=e.atomStore.y,I=e.atomStore.z,O=e.getAtomProxy(),L=e.getAtomProxy(),R=new ee,T=new ee,E=new ee,k=new ee,B=new ee,$=new ee,j=new ee,V=function(J,G){R.set(P[J[0]],M[J[0]],I[J[0]]),T.set(P[J[1]],M[J[1]],I[J[1]]),E.set(P[J[2]],M[J[2]],I[J[2]]),k.subVectors(R,T),B.subVectors(R,E),G.crossVectors(k,B)},q=function(J,G,ie){return R.set(y[J],w[J],_[J]),T.set(y[G],w[G],_[G]),R.sub(T).projectOnPlane(ie).add(T).distanceTo(T)},Q=function(J,G,ie){v.setBits(J,G),g.addContact(J,G,ie)},H=function(J){h.eachWithin(y[J],w[J],_[J],u,function(G,ie){if(!(G<=J||(O.index=x[J][0],L.index=x[G][0],Q1(O,L,c)))){var Y=m[J],le=m[G];if(function(we,fe){return we===2&&fe===1||we===1&&fe===2}(Y,le))(function(we,fe,_e){for(var W=we.length,oe=fe.length,Ce=0;Ce<W;++Ce){O.index=we[Ce];for(var ve=0;ve<oe;++ve)if(L.index=fe[ve],O.distanceTo(L)<=_e)return!0}return!1})(x[J],x[G],r)&&Q(J,G,1);else if(function(we,fe){return we===3&&fe===3}(Y,le)){if(ie<=d){V(x[J],$),V(x[G],j);var te=57.29578*$.angleTo(j);Math.min(q(J,G,j),q(G,J,$))<=i&&(te<=a||te>=180-a||te<=a+90&&te>=90-a)&&Q(J,G,3)}}else if(function(we,fe){return we===3&&fe===1||we===1&&fe===3}(Y,le)&&ie<=f){var re=Y===3?[J,G]:[G,J],ae=re[0],pe=re[1];V(x[ae],$),q(pe,ae,$)<=l&&Q(ae,pe,2)}}})},X=0;X<S;++X)H(X)}function sK(e){return e.resname==="HIS"&&e.number==7&&e.isRing()}var cSt=[3,11,19,37,55,12,20,38,56,13,31,49,81,21,50,82,83,51,80],uSt=[17,35,53,85],dSt=[7,8,16],fSt=[6,7,15,16],pSt=oo(180),hSt=oo(120);function lK(e,t,n){return!mpe(e,t,n)&&(e.modelIndex!==t.modelIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}var Xr={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:45,maxHbondDonAngle:45,maxHbondAccPlaneAngle:90,maxHbondDonPlaneAngle:30,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:2,maxIonicDist:5,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0,masterModelIndex:-1,lineOfSightDistFactor:1};function mpe(e,t,n){return e.modelIndex===n&&t.modelIndex!==n||t.modelIndex===n&&e.modelIndex!==n}function Q1(e,t,n){return!mpe(e,t,n)&&(e.modelIndex!==t.modelIndex||e.residueIndex===t.residueIndex||e.altloc&&t.altloc&&e.altloc!==t.altloc)}function mSt(e){var t={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return ot&&Ze.time("calculateFeatures"),function(n,r){var o=xv(n.data).charge,i={};n.eachResidue(function(a){if(aSt.includes(a.resname)){var s=di(1);a.eachAtom(function(l){l.number===7&&l.isSidechain()&&_o(s,l)}),So(r,s)}else mb.includes(a.resname)||a.isNucleic()||(a.eachAtom(function(l){var c=!1,u=di(1);(function(d){var f=0;return d.number===6&&d.bondCount===3&&d.bondToElementCount(7)===3&&d.eachBondedAtom(function(p){p.bondCount-p.bondToElementCount(1)==1&&++f}),f===2})(l)?(u.group=8,c=!0):function(d){var f=0;return d.number===6&&d.bondCount===3&&d.bondToElementCount(7)===2&&d.bondToElementCount(6)===1&&d.eachBondedAtom(function(p){p.bondCount-p.bondToElementCount(1)==1&&++f}),f===2}(l)&&(u.group=9,c=!0),c&&(l.eachBondedAtom(function(d){d.number===7&&(i[d.index]=!0,_o(u,d))}),So(r,u))}),a.eachAtom(function(l){var c=di(1);o[l.index]>0&&(i[l.index]||(_o(c,l),So(r,c)))}))})}(e,t),function(n,r){var o=xv(n.data).charge,i={};n.eachResidue(function(a){if(sSt.includes(a.resname)){var s=di(2);a.eachAtom(function(c){c.number===8&&c.isSidechain()&&_o(s,c)}),So(r,s)}else if(Px.includes(a.resname)){var l=di(2);a.eachAtom(function(c){aK(c)&&(l.group=6,c.eachBondedAtom(function(u){u.number===8&&_o(l,u)}),So(r,l))})}else mb.includes(a.resname)||Px.includes(a.resname)||(a.eachAtom(function(c){var u=!1,d=di(2);(function(f){return f.number===16&&f.bondToElementCount(8)===3})(c)?(d.group=4,u=!0):aK(c)?(d.group=6,u=!0):function(f){return f.number===16&&f.bondToElementCount(8)===4}(c)?(d.group=5,u=!0):function(f){var p=0;return f.number===6&&f.bondToElementCount(8)===2&&f.bondToElementCount(6)===1&&f.eachBondedAtom(function(h){h.number===8&&h.bondCount-h.bondToElementCount(1)==1&&++p}),p===2}(c)&&(d.group=10,u=!0),u&&(c.eachBondedAtom(function(f){f.number===8&&(i[f.index]=!0,_o(d,f))}),So(r,d))}),a.eachAtom(function(c){var u=di(2);o[c.index]<0&&(i[c.index]||(_o(u,c),So(r,u)))}))})}(e,t),function(n,r){var o=n.getAtomProxy();n.eachResidue(function(i){var a=i.getAromaticRings();if(a){var s=i.atomOffset;a.forEach(function(l){var c=di(3);l.forEach(function(u){o.index=u+s,_o(c,o)}),So(r,c)})}})}(e,t),function(n,r){var o=xv(n.data),i=o.charge,a=o.implicitH,s=o.idealGeometry;n.eachAtom(function(l){var c=di(5),u=l.number;if(u===8)_o(c,l),So(r,c);else if(u===7){if(sK(l))_o(c,l),So(r,c);else if(i[l.index]<1){var d=l.bondCount+a[l.index],f=s[l.index];(f===4&&d<4||f===3&&d<3||f===2&&d<2)&&(_o(c,l),So(r,c))}}else u===16&&(l.resname!=="CYS"&&l.resname!=="MET"&&l.formalCharge!==-1||(_o(c,l),So(r,c)))})}(e,t),function(n,r){var o=xv(n.data).totalH;n.eachAtom(function(i){var a=di(4),s=i.number;(sK(i)||o[i.index]>0&&(s===7||s===8||s===16))&&(_o(a,i),So(r,a))})}(e,t),function(n,r){var o=xv(n.data).totalH;n.eachAtom(function(i){if(i.number===6&&o[i.index]>0&&(i.bondToElementCount(7)>0||i.bondToElementCount(8)>0||function(s){if(!s.isAromatic())return!1;var l=s.residueType.getRings();if(!l)return!1;var c=!1;return l.rings.forEach(function(u){c||u.some(function(d){return s.index-s.residueAtomOffset===d})&&(c=u.some(function(d){var f=s.residueType.atomTypeIdList[d],p=s.atomMap.get(f).number;return p===7||p===8}))}),c}(i))){var a=di(9);_o(a,i),So(r,a)}})}(e,t),function(n,r){n.eachAtom(function(o){var i=!1,a=!1,s=mb.includes(o.resname),l=Px.includes(o.resname);if(s||l?s?o.number===8?(["ASP","GLU","SER","THR","TYR","ASN","GLN"].includes(o.resname)&&o.isSidechain()||o.isBackbone())&&(i=!0,a=!0):o.number===16&&o.resname==="CYS"?(i=!0,a=!0):o.number===7&&o.resname==="HIS"&&o.isSidechain()&&(i=!0):l&&(o.number===8&&o.isBackbone()?(i=!0,a=!0):["N3","N4","N7"].includes(o.atomname)?i=!0:["O2","O4","O6"].includes(o.atomname)&&(i=!0,a=!0)):o.isHalogen()||o.number===8||o.number===16?(i=!0,a=!0):o.number===7&&(i=!0),i){var c=di(11);_o(c,o),So(r,c)}if(a){var u=di(10);_o(u,o),So(r,u)}})}(e,t),function(n,r){n.eachAtom(function(o){if(o.isTransitionMetal()||o.number===30||o.number===48){var i=di(12);_o(i,o),So(r,i)}else if(cSt.includes(o.number)){var a=di(13);_o(a,o),So(r,a)}})}(e,t),function(n,r){n.eachAtom(function(o){var i=di(8),a=!1;o.number===6?(a=!0,o.eachBondedAtom(function(s){var l=s.number;l!==6&&l!==1&&(a=!1)})):o.number===9&&(a=!0),a&&(_o(i,o),So(r,i))})}(e,t),function(n,r){n.eachAtom(function(o){if(dSt.includes(o.number)){var i=!1;if(o.eachBondedAtom(function(s){fSt.includes(s.number)&&(i=!0)}),i){var a=di(7);_o(a,o),So(r,a)}}})}(e,t),function(n,r){n.eachAtom(function(o){if(uSt.includes(o.number)&&o.bondToElementCount(6)===1){var i=di(6);_o(i,o),So(r,i)}})}(e,t),ot&&Ze.timeEnd("calculateFeatures"),t}function gSt(e,t){t===void 0&&(t=Xr);var n=function(o){var i=o.types,a=o.centers;return{features:o,spatialHash:new Xm(a),contactStore:new G_t,featureSet:new ln(i.length,!1)}}(mSt(e));ot&&Ze.time("calculateContacts"),lSt(e,n,t),function(o,i,a){a===void 0&&(a={});for(var s=se(a.maxHbondDist,Xr.maxHbondDist),l=se(a.maxHbondSulfurDist,Xr.maxHbondSulfurDist),c=oo(se(a.maxHbondAccAngle,Xr.maxHbondAccAngle)),u=oo(se(a.maxHbondDonAngle,Xr.maxHbondDonAngle)),d=oo(se(a.maxHbondAccPlaneAngle,Xr.maxHbondAccPlaneAngle)),f=oo(se(a.maxHbondDonPlaneAngle,Xr.maxHbondDonPlaneAngle)),p=se(a.masterModelIndex,Xr.masterModelIndex),h=Math.max(s,l),g=s*s,v=i.features,m=i.spatialHash,b=i.contactStore,x=i.featureSet,y=v.types,w=v.centers,_=v.atomSets,S=w.x,P=w.y,M=w.z,I=y.length,O=xv(o.data).idealGeometry,L=o.getAtomProxy(),R=o.getAtomProxy(),T=function(k){m.eachWithin(S[k],P[k],M[k],h,function(B,$){if(!(B<=k)){var j=y[k],V=y[B],q=function(we,fe){return we===9&&fe===5||we===5&&fe===9}(j,V);if(q||function(we,fe){return we===5&&fe===4||we===4&&fe===5}(j,V)){var Q=V===5?[k,B]:[B,k],H=Q[0],X=Q[1];if(L.index=_[H][0],R.index=_[X][0],R.index!==L.index&&!Q1(L,R,p)&&!(L.number!==16&&R.number!==16&&$>g||L.connectedTo(R))){var J=sP(L,R),G=oK.get(O[L.index])||oo(120);if(!J.some(function(we){return Math.abs(G-we)>u})){if(O[L.index]===3){var ie=iK(L,R);if(ie!==void 0&&ie>f)return}var Y=sP(R,L),le=oK.get(O[R.index])||oo(120);if(!Y.some(function(we){return le-we>c})){if(O[R.index]===3){var te=iK(R,L);if(te!==void 0&&te>d)return}x.setBits(H,X);var re,ae,pe=q?8:function(we,fe){return we.isWater()&&fe.isWater()}(re=L,ae=R)?9:function(we,fe){return we.isBackbone()&&fe.isBackbone()}(re,ae)?10:4;b.addContact(H,X,pe)}}}}}})},E=0;E<I;++E)T(E)}(e,n,t),function(o,i,a){a===void 0&&(a={});for(var s=se(a.maxMetalDist,Xr.maxMetalDist),l=se(a.masterModelIndex,Xr.masterModelIndex),c=i.features,u=i.spatialHash,d=i.contactStore,f=i.featureSet,p=c.types,h=c.centers,g=c.atomSets,v=h.x,m=h.y,b=h.z,x=p.length,y=o.getAtomProxy(),w=o.getAtomProxy(),_=function(P){u.eachWithin(v[P],m[P],b[P],s,function(M,I){if(!(M<=P||(y.index=g[P][0],w.index=g[M][0],Q1(y,w,l)))){var O=y.isMetal(),L=w.isMetal();if(O||L){var R=O?[p[P],p[M]]:[p[M],p[P]];T=R[0],E=R[1],(T===12?E===11||E===12:T===13&&E===10)&&(f.setBits(P,M),d.addContact(P,M,7))}}var T,E})},S=0;S<x;++S)_(S)}(e,n,t),function(o,i,a){a===void 0&&(a={});for(var s=se(a.maxHydrophobicDist,Xr.maxHydrophobicDist),l=se(a.masterModelIndex,Xr.masterModelIndex),c=i.features,u=i.spatialHash,d=i.contactStore,f=i.featureSet,p=c.types,h=c.centers,g=c.atomSets,v=h.x,m=h.y,b=h.z,x=p.length,y=o.getAtomProxy(),w=o.getAtomProxy(),_=function(P){u.eachWithin(v[P],m[P],b[P],s,function(M,I){var O,L;M<=P||(y.index=g[P][0],w.index=g[M][0],Q1(y,w,l)||y.number===9&&w.number===9||y.connectedTo(w)||(O=p[P],L=p[M],O===8&&L===8&&(f.setBits(P,M),d.addContact(P,M,6))))})},S=0;S<x;++S)_(S)}(e,n,t),function(o,i,a){a===void 0&&(a={});for(var s=se(a.maxHalogenBondDist,Xr.maxHalogenBondDist),l=oo(se(a.maxHalogenBondAngle,Xr.maxHalogenBondAngle)),c=se(a.masterModelIndex,Xr.masterModelIndex),u=i.features,d=i.spatialHash,f=i.contactStore,p=i.featureSet,h=u.types,g=u.centers,v=u.atomSets,m=g.x,b=g.y,x=g.z,y=h.length,w=o.getAtomProxy(),_=o.getAtomProxy(),S=function(M){d.eachWithin(m[M],b[M],x[M],s,function(I,O){if(!(I<=M)&&(w.index=v[M][0],_.index=v[I][0],!Q1(w,_,c)&&(L=h[M],R=h[I],L===7&&R===6||L===6&&R===7))){var L,R,T=h[M]===6?[w,_]:[_,w],E=T[0],k=T[1],B=sP(E,k);if(B.length===1&&!(pSt-B[0]>l)){var $=sP(k,E);$.length!==0&&($.some(function(j){return hSt-j>l})||(p.setBits(M,I),f.addContact(M,I,5)))}}})},P=0;P<y;++P)S(P)}(e,n,t);var r=function(o){var i=o.contactStore,a=spe({nodeArray1:i.index1,nodeArray2:i.index2,edgeCount:i.count,nodeCount:o.featureSet.length}),s=new ln(o.contactStore.count,!0);return Object.assign({adjacencyList:a,contactSet:s},o)}(n);return function(o,i,a){a===void 0&&(a={}),ot&&Ze.time("refineLineOfSight");var s=se(a.lineOfSightDistFactor,Xr.lineOfSightDistFactor),l=se(a.masterModelIndex,Xr.masterModelIndex),c=o.spatialHash,u=i.contactSet,d=i.contactStore,f=i.features,p=d.index1,h=d.index2,g=f.centers,v=f.atomSets,m=g.x,b=g.y,x=g.z,y=o.getAtomProxy(),w=o.getAtomProxy(),_=o.getAtomProxy(),S=new ee,P=new ee,M=3*s,I=s*s;u.forEach(function(O){S.set(m[p[O]],b[p[O]],x[p[O]]),P.set(m[h[O]],b[h[O]],x[h[O]]);var L=(S.x+P.x)/2,R=(S.y+P.y)/2,T=(S.z+P.z)/2,E=v[p[O]],k=v[h[O]];y.index=E[0],w.index=k[0],c.eachWithin(L,R,T,M,function(B,$){_.index=B,_.number!==1&&_.vdw*_.vdw*I>$&&!lK(y,_,l)&&!lK(w,_,l)&&!E.includes(B)&&!k.includes(B)&&S.distanceToSquared(_)>1&&P.distanceToSquared(_)>1&&(u.clear(O),ot&&Ze.log("removing",y.qualifiedName(),w.qualifiedName(),"because",_.qualifiedName()))})}),ot&&Ze.timeEnd("refineLineOfSight")}(e,r,t),function(o,i){var a=i.contactSet,s=i.contactStore,l=i.features,c=s.type,u=s.index1,d=s.index2,f=l.atomSets,p=o.getAtomProxy(),h=o.getAtomProxy(),g={},v=function(m,b,x){var y=g[x]||[1/0,-1],w=y[0],_=y[1];m<w?(_!==-1&&a.clear(_),g[x]=[m,b]):a.clear(b)};a.forEach(function(m){if(c[m]===6){p.index=f[u[m]][0],h.index=f[d[m]][0];var b=p.distanceTo(h);v(b,m,p.index+"|"+h.residueIndex),v(b,m,h.index+"|"+p.residueIndex)}})}(e,r),t.refineSaltBridges&&function(o,i){var a=i.contactSet,s=i.contactStore,l=i.features,c=s.type,u=s.index1,d=s.index2,f=l.atomSets,p={},h=function(g,v){p[g]||(p[g]=[]),p[g].push(v)};a.forEach(function(g){c[g]===1&&(f[u[g]].forEach(function(v){return h(v,g)}),f[d[g]].forEach(function(v){return h(v,g)}))}),a.forEach(function(g){if(function(y){return y===4||y===9||y===10}(c[g])){var v=p[f[u[g]][0]],m=p[f[d[g]][0]];if(v&&m){for(var b=v.length,x=0;x<b;++x)if(m.includes(v[x]))return void a.clear(g)}}})}(0,r),function(o,i){var a=i.contactSet,s=i.contactStore,l=i.features,c=s.type,u=s.index1,d=s.index2,f=l.atomSets,p={},h=function(g,v){p[g]||(p[g]=[]),p[g].push(v)};a.forEach(function(g){c[g]===3&&(f[u[g]].forEach(function(v){return h(v,g)}),f[d[g]].forEach(function(v){return h(v,g)}))}),a.forEach(function(g){if(c[g]===6||c[g]===2){var v=p[f[u[g]][0]],m=p[f[d[g]][0]];if(v&&m){for(var b=v.length,x=0;x<b;++x)if(m.includes(v[x]))return void a.clear(g)}}})}(0,r),function(o,i){var a=i.contactSet,s=i.contactStore,l=i.features,c=s.type,u=s.index1,d=s.index2,f=l.atomSets,p={},h=function(g,v){p[g]||(p[g]=[]),p[g].push(v)};a.forEach(function(g){c[g]===1&&(f[u[g]].forEach(function(v){return h(v,g)}),f[d[g]].forEach(function(v){return h(v,g)}))}),a.forEach(function(g){if(c[g]===7){var v=p[f[u[g]][0]],m=p[f[d[g]][0]];if(v&&m){for(var b=v.length,x=0;x<b;++x)if(m.includes(v[x]))return void a.clear(v[x])}}})}(0,r),ot&&Ze.timeEnd("calculateContacts"),r}function vSt(e){switch(e){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"ionic interaction";case 7:return"metal coordination";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}var bSt={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,ionicInteraction:!0,metalCoordination:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1,filterSele:""},Zu=new vt;function ySt(e,t,n){var r=Ws(n,bSt),o=[];r.hydrogenBond&&o.push(4),r.hydrophobic&&o.push(6),r.halogenBond&&o.push(5),r.ionicInteraction&&o.push(1),r.metalCoordination&&o.push(7),r.cationPi&&o.push(2),r.piStacking&&o.push(3),r.weakHydrogenBond&&o.push(8),r.waterHydrogenBond&&o.push(9),r.backboneHydrogenBond&&o.push(10);var i,a=e.features,s=e.contactSet,l=e.contactStore,c=a.centers,u=a.atomSets,d=c.x,f=c.y,p=c.z,h=l.index1,g=l.index2,v=l.type,m=[],b=[],x=[],y=[],w=[];return r.filterSele&&(i=Array.isArray(r.filterSele)?r.filterSele.map(function(_){return t.getAtomSet(new pr(_))}):t.getAtomSet(new pr(r.filterSele))),s.forEach(function(_){var S=v[_];if(o.includes(S)){if(i){var P=u[h[_]][0],M=u[g[_]][0];if(Array.isArray(i)){if(!(i[0].isSet(P)&&i[1].isSet(M)||i[1].isSet(P)&&i[0].isSet(M)))return}else if(!i.isSet(P)&&!i.isSet(M))return}var I=h[_],O=g[_];m.push(d[I],f[I],p[I]),b.push(d[O],f[O],p[O]),x.push.apply(x,function(L){switch(L){case 4:case 9:case 10:return Zu.setHex(2851770).toArray();case 6:return Zu.setHex(8421504).toArray();case 5:return Zu.setHex(4259775).toArray();case 1:return Zu.setHex(15779860).toArray();case 7:return Zu.setHex(9191577).toArray();case 2:return Zu.setHex(16744448).toArray();case 3:return Zu.setHex(9220966).toArray();case 8:return Zu.setHex(12967404).toArray();default:return Zu.setHex(13421772).toArray()}}(S)),y.push(r.radius),w.push(_)}}),{position1:new Float32Array(m),position2:new Float32Array(b),color:new Float32Array(x),color2:new Float32Array(x),radius:new Float32Array(y),picking:new SSt(w,e,t)}}var Yi=function(e){this.array=e},$$={type:{configurable:!0},data:{configurable:!0}};$$.type.get=function(){return""},$$.data.get=function(){return{}},Yi.prototype.getIndex=function(e){return this.array?this.array[e]:e},Yi.prototype.getObject=function(e){return{}},Yi.prototype._applyTransformations=function(e,t,n){return t&&e.applyMatrix4(t.matrix),n&&e.applyMatrix4(n.matrix),e},Yi.prototype._getPosition=function(e){return new ee},Yi.prototype.getPosition=function(e,t,n){return this._applyTransformations(this._getPosition(e),t,n)},Object.defineProperties(Yi.prototype,$$);var Rl=function(e){function t(r){e.call(this),this.shape=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return n.primitive.get=function(){},n.data.get=function(){return this.shape},n.type.get=function(){return this.primitive.type},t.prototype.getObject=function(r){return this.primitive.objectFromShape(this.shape,this.getIndex(r))},t.prototype._getPosition=function(r){return this.primitive.positionFromShape(this.shape,this.getIndex(r))},Object.defineProperties(t.prototype,n),t}(Yi),xSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return qm},Object.defineProperties(t.prototype,n),t}(Rl),wSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return mk},Object.defineProperties(t.prototype,n),t}(Rl),_g=function(e){function t(r,o){e.call(this,r),this.structure=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"atom"},n.data.get=function(){return this.structure},t.prototype.getObject=function(r){return this.structure.getAtomProxy(this.getIndex(r))},t.prototype._getPosition=function(r){return new ee().copy(this.getObject(r))},Object.defineProperties(t.prototype,n),t}(Yi),_St=function(e){function t(r){e.call(this),this.axes=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"axes"},n.data.get=function(){return this.axes},t.prototype.getObject=function(){return{axes:this.axes}},t.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(t.prototype,n),t}(Yi),gpe=function(e){function t(r,o,i){e.call(this,r),this.structure=o,this.bondStore=i||o.bondStore}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"bond"},n.data.get=function(){return this.structure},t.prototype.getObject=function(r){var o=this.structure.getBondProxy(this.getIndex(r));return o.bondStore=this.bondStore,o},t.prototype._getPosition=function(r){var o=this.getObject(r);return new ee().copy(o.atom1).add(o.atom2).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Yi),SSt=function(e){function t(r,o,i){e.call(this,r),this.contacts=o,this.structure=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"contact"},n.data.get=function(){return this.contacts},t.prototype.getObject=function(r){var o=this.getIndex(r),i=this.contacts,a=i.features,s=i.contactStore,l=a.centers,c=a.atomSets,u=l.x,d=l.y,f=l.z,p=s.index1,h=s.index2,g=s.type,v=p[o],m=h[o];return{center1:new ee(u[v],d[v],f[v]),center2:new ee(u[m],d[m],f[m]),atom1:this.structure.getAtomProxy(c[v][0]),atom2:this.structure.getAtomProxy(c[m][0]),type:vSt(g[o])}},t.prototype._getPosition=function(r){var o=this.getObject(r),i=o.center1,a=o.center2;return new ee().addVectors(i,a).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Yi),CSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return gk},Object.defineProperties(t.prototype,n),t}(Rl),PSt=function(e){function t(r,o,i){e.call(this,r),this.validation=o,this.structure=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"clash"},n.data.get=function(){return this.validation},t.prototype.getObject=function(r){var o=this.validation,i=this.getIndex(r);return{validation:o,index:i,clash:o.clashArray[i]}},t.prototype._getAtomProxyFromSele=function(r){var o=new pr(r),i=this.structure.getAtomIndices(o)[0];return this.structure.getAtomProxy(i)},t.prototype._getPosition=function(r){var o=this.getObject(r).clash,i=this._getAtomProxyFromSele(o.sele1),a=this._getAtomProxyFromSele(o.sele2);return new ee().copy(i).add(a).multiplyScalar(.5)},Object.defineProperties(t.prototype,n),t}(Yi),MSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"distance"},Object.defineProperties(t.prototype,n),t}(gpe),ASt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Iy},Object.defineProperties(t.prototype,n),t}(Rl),ESt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return pk},Object.defineProperties(t.prototype,n),t}(Rl),TSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Wm},Object.defineProperties(t.prototype,n),t}(Rl),OSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ignore"},Object.defineProperties(t.prototype,n),t}(Yi),ISt=function(e){function t(r,o){e.call(this,r),this.mesh=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mesh"},t.prototype.getObject=function(){var r=this.mesh;return{shape:this.shape,name:r.name,serial:r.serial}},t.prototype._getPosition=function(){return this.__position||(this.__position=KN(this.mesh.position)),this.__position},Object.defineProperties(t.prototype,n),t}(Rl),kSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return Oy},Object.defineProperties(t.prototype,n),t}(Rl),RSt=function(e){function t(r,o){e.call(this,r),this.surface=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"surface"},n.data.get=function(){return this.surface},t.prototype.getObject=function(r){return{surface:this.surface,index:this.getIndex(r)}},t.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(t.prototype,n),t}(Yi),LSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return hk},Object.defineProperties(t.prototype,n),t}(Rl),$St=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return vk},Object.defineProperties(t.prototype,n),t}(Rl),DSt=function(e){function t(r,o){e.call(this),this.unitcell=r,this.structure=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"unitcell"},n.data.get=function(){return this.unitcell},t.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},t.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(t.prototype,n),t}(Yi),vpe=function(e){function t(r,o){e.call(this,r),this.volume=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},data:{configurable:!0}};return n.type.get=function(){return"volume"},n.data.get=function(){return this.volume},t.prototype.getObject=function(r){var o=this.volume,i=this.getIndex(r);return{volume:o,index:i,value:o.data[i]}},t.prototype._getPosition=function(r){var o=this.volume.position,i=this.getIndex(r);return new ee(o[3*i],o[3*i+1],o[3*i+2])},Object.defineProperties(t.prototype,n),t}(Yi),FSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"slice"},Object.defineProperties(t.prototype,n),t}(vpe),NSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return n_},Object.defineProperties(t.prototype,n),t}(Rl),BSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={primitive:{configurable:!0}};return n.primitive.get=function(){return r_},Object.defineProperties(t.prototype,n),t}(Rl);function bpe(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function ype(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function jSt(){return[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]]}function a8(e,t,n,r,o){var i,a,s,l,c,u,d,f=0,p=!1,h=!1,g=!1,v=!1,m=-1,b=t*n*r,x=t,y=t*n,w=new Int32Array(12),_=[],S=[],P=[],M=[],I=bpe(),O=ype(),L=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]];function R(q,Q,H){return q+(Q-q)*H}function T(q,Q,H){return y*(H=(H+d)%r)+x*(Q=(Q+u)%n)+(q=(q+c)%t)}function E(q,Q,H,X,J,G,ie){var Y=3*q;if(a[Y]<0){var le=(f-G)/(ie-G),te=i,re=3*s;if(_[re+0]=H+le,_[re+1]=X,_[re+2]=J,!p){var ae=3*q;S[re]=m*R(te[ae],te[ae+3],le),S[re+1]=m*R(te[ae+1],te[ae+4],le),S[re+2]=m*R(te[ae+2],te[ae+5],le)}o&&(M[s]=o[q+Math.round(le)]),a[Y]=s,w[Q]=s,s+=1}else w[Q]=a[Y]}function k(q,Q,H,X,J,G,ie){var Y=3*q+1;if(a[Y]<0){var le=(f-G)/(ie-G),te=i,re=3*s;if(_[re]=H,_[re+1]=X+le,_[re+2]=J,!p){var ae=3*q,pe=ae+3*x;S[re]=m*R(te[ae],te[pe],le),S[re+1]=m*R(te[ae+1],te[pe+1],le),S[re+2]=m*R(te[ae+2],te[pe+2],le)}o&&(M[s]=o[q+Math.round(le)*x]),a[Y]=s,w[Q]=s,s+=1}else w[Q]=a[Y]}function B(q,Q,H,X,J,G,ie){var Y=3*q+2;if(a[Y]<0){var le=(f-G)/(ie-G),te=i,re=3*s;if(_[re]=H,_[re+1]=X,_[re+2]=J+le,!p){var ae=3*q,pe=ae+3*y;S[re]=m*R(te[ae],te[pe],le),S[re+1]=m*R(te[ae+1],te[pe+1],le),S[re+2]=m*R(te[ae+2],te[pe+2],le)}o&&(M[s]=o[q+Math.round(le)*y]),a[Y]=s,w[Q]=s,s+=1}else w[Q]=a[Y]}function $(q){var Q=3*q;i[Q]===0&&(i[Q]=e[(q-1+b)%b]-e[(q+1)%b],i[Q+1]=e[(q-x+b)%b]-e[(q+x)%b],i[Q+2]=e[(q-y+b)%b]-e[(q+y)%b])}function j(q,Q,H,X,J){var G,ie,Y,le,te,re,ae;g?(X=T(q,Q,H),G=T(q+1,Q,H),ie=T(q,Q+1,H),Y=T(q,Q,H+1),le=T(q+1,Q+1,H),te=T(q+1,Q,H+1),re=T(q,Q+1,H+1),ae=T(q+1,Q+1,H+1)):(G=X+1,le=(ie=X+x)+1,te=(Y=X+y)+1,ae=(re=ie+y)+1);var pe=0,we=e[X],fe=e[G],_e=e[ie],W=e[le],oe=e[Y],Ce=e[te],ve=e[re],me=e[ae];we<f&&(pe|=1),fe<f&&(pe|=2),_e<f&&(pe|=8),W<f&&(pe|=4),oe<f&&(pe|=16),Ce<f&&(pe|=32),ve<f&&(pe|=128),me<f&&(pe|=64);var ye=I[pe];if(ye===0)return 0;var Le=q+1,Te=Q+1,Me=H+1;1&ye&&(p||($(X),$(G)),E(X,0,q,Q,H,we,fe)),2&ye&&(p||($(G),$(le)),k(G,1,Le,Q,H,fe,W)),4&ye&&(p||($(ie),$(le)),E(ie,2,q,Te,H,_e,W)),8&ye&&(p||($(X),$(ie)),k(X,3,q,Q,H,we,_e)),16&ye&&(p||($(Y),$(te)),E(Y,4,q,Q,Me,oe,Ce)),32&ye&&(p||($(te),$(ae)),k(te,5,Le,Q,Me,Ce,me)),64&ye&&(p||($(re),$(ae)),E(re,6,q,Te,Me,ve,me)),128&ye&&(p||($(Y),$(re)),k(Y,7,q,Q,Me,oe,ve)),256&ye&&(p||($(X),$(Y)),B(X,8,q,Q,H,we,oe)),512&ye&&(p||($(G),$(te)),B(G,9,Le,Q,H,fe,Ce)),1024&ye&&(p||($(le),$(ae)),B(le,10,Le,Te,H,W,me)),2048&ye&&(p||($(ie),$(re)),B(ie,11,q,Te,H,_e,ve));for(var $e,U,D,F=pe<<4,K=0;O[F+K]!==-1;)$e=O[F+K],U=O[F+K+1],D=O[F+K+2],h?(L[$e][U]&J&&(P[l++]=w[$e],P[l++]=w[U]),L[U][D]&J&&(P[l++]=w[U],P[l++]=w[D]),L[$e][D]&J&&(P[l++]=w[$e],P[l++]=w[D])):(P[l++]=w[v?$e:U],P[l++]=w[v?U:$e],P[l++]=w[D]),K+=3}function V(q,Q,H,X,J,G){var ie,Y,le,te,re,ae,pe,we,fe,_e,W,oe,Ce;if(q=q!==void 0?q:0,Q=Q!==void 0?Q:0,H=H!==void 0?H:0,X=X!==void 0?X:t-1,J=J!==void 0?J:n-1,G=G!==void 0?G:r-1,g||(p?(q=Math.max(0,q),Q=Math.max(0,Q),H=Math.max(0,H),X=Math.min(t-1,X),J=Math.min(n-1,J),G=Math.min(r-1,G)):(q=Math.max(1,q),Q=Math.max(1,Q),H=Math.max(1,H),X=Math.min(t-2,X),J=Math.min(n-2,J),G=Math.min(r-2,G))),g)for(we=q-2,fe=Q-2,W=X+2,oe=J+2,Ce=G+2,re=_e=H-2;re<Ce;++re)for(te=fe;te<oe;++te)for(le=we;le<W;++le)Y=3*T(le,te,re),a[Y]=-1,a[Y+1]=-1,a[Y+2]=-1;else for(we=Math.max(0,q-2),fe=Math.max(0,Q-2),_e=Math.max(0,H-2),W=Math.min(t,X+2),oe=Math.min(n,J+2),Ce=Math.min(r,G+2),re=_e;re<Ce;++re)for(pe=y*re,te=fe;te<oe;++te)for(ae=pe+x*te,le=we;le<W;++le)a[ie=3*(ae+le)]=-1,a[ie+1]=-1,a[ie+2]=-1;if(!g){var ve,me=q,ye=Q,Le=H,Te=X,Me=J,$e=G;for(ve=!1,re=H;re<G;++re){for(te=Q;te<J;++te){for(le=q;le<X;++le)if(e[ie=t*n*re+t*te+le]>=f){Le=re,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,te=Q;te<J;++te){for(re=Le;re<G;++re){for(le=q;le<X;++le)if(e[ie=t*n*re+t*te+le]>=f){ye=te,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,le=q;le<X;++le){for(te=ye;te<J;++te){for(re=Le;re<G;++re)if(e[ie=t*n*re+t*te+le]>=f){me=le,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,re=G;re>=H;--re){for(te=J;te>=Q;--te){for(le=X;le>=q;--le)if(e[ie=t*n*re+t*te+le]>=f){$e=re,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,te=J;te>=Q;--te){for(re=$e;re>=H;--re){for(le=X;le>=q;--le)if(e[ie=t*n*re+t*te+le]>=f){Me=te,ve=!0;break}if(ve)break}if(ve)break}for(ve=!1,le=X;le>=q;--le){for(te=Me;te>=Q;--te){for(re=$e;re>=H;--re)if(e[ie=t*n*re+t*te+le]>=f){Te=le,ve=!0;break}if(ve)break}if(ve)break}p?(q=Math.max(0,me-1),Q=Math.max(0,ye-1),H=Math.max(0,Le-1),X=Math.min(t-1,Te+1),J=Math.min(n-1,Me+1),G=Math.min(r-1,$e+1)):(q=Math.max(1,me-1),Q=Math.max(1,ye-1),H=Math.max(1,Le-1),X=Math.min(t-2,Te+1),J=Math.min(n-2,Me+1),G=Math.min(r-2,$e+1))}var U=15;for(re=H;re<G;++re,U&=-5)for(pe=y*re,U|=2,te=Q;te<J;++te,U&=-3)for(ae=pe+x*te,U|=1,le=q;le<X;++le,U&=-2)j(le,te,re,ie=ae+le,U)}this.triangulate=function(q,Q,H,X,J){v=(f=q)<0,h=X,g=J,(p=Q||h)||(m=f>0?-1:1,i||(i=new Float32Array(3*b)));var G=3*b;if(a&&a.length===G||(a=new Int32Array(G)),s=0,l=0,H!==void 0){var ie=H[0].map(Math.round),Y=H[1].map(Math.round);c=t*Math.ceil(Math.abs(ie[0])/t),u=n*Math.ceil(Math.abs(ie[1])/n),d=r*Math.ceil(Math.abs(ie[2])/r),V(ie[0],ie[1],ie[2],Y[0],Y[1],Y[2])}else c=u=d=0,V();return _.length=3*s,p||(S.length=3*s),P.length=l,o&&(M.length=s),{position:new Float32Array(_),normal:p?void 0:new Float32Array(S),index:Ou(P,_.length/3),atomindex:o?new Int32Array(M):void 0,contour:h}}}nl.add("arrow",wSt),nl.add("box",TSt),nl.add("cone",CSt),nl.add("cylinder",xSt),nl.add("ellipsoid",ASt),nl.add("octahedron",ESt),nl.add("sphere",kSt),nl.add("tetrahedron",LSt),nl.add("torus",$St),nl.add("point",NSt),nl.add("wideline",BSt),Object.assign(a8,{__deps:[bpe,ype,jSt,Ou]});var Jn=function(e,t){this.cols=e,this.rows=t,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function ic(e,t){for(var n=0,r=0,o=t.rows,i=t.cols,a=0,s=0,l=0,c=t.data,u=e.data;n<o;s+=1,a+=i,n++)for(l=s,r=0;r<i;l+=o,r++)u[l]=c[a+r]}function vM(e,t,n){for(var r=0,o=0,i=0,a=0,s=0,l=0,c=0,u=t.cols,d=t.rows,f=n.rows,p=t.data,h=n.data,g=e.data,v=0;r<d;a+=u,r++)for(l=0,o=0;o<f;c++,o++){for(s=a,v=0,i=0;i<u;s++,l++,i++)v+=p[s]*h[l];g[c]=v}}function D$(e,t,n){var r=e.data,o=t.data,i=n.data,a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],d=o[5],f=o[6],p=o[7],h=o[8],g=i[0],v=i[1],m=i[2],b=i[3],x=i[4],y=i[5],w=i[6],_=i[7],S=i[8];r[0]=a*g+s*b+l*w,r[1]=a*v+s*x+l*_,r[2]=a*m+s*y+l*S,r[3]=c*g+u*b+d*w,r[4]=c*v+u*x+d*_,r[5]=c*m+u*y+d*S,r[6]=f*g+p*b+h*w,r[7]=f*v+p*x+h*_,r[8]=f*m+p*y+h*S}function QN(e){for(var t=e.rows,n=e.cols,r=e.data,o=new Array(n),i=0;i<n;++i)o[i]=0;for(var a=0,s=0;a<t;++a)for(var l=0;l<n;++l,++s)o[l]+=r[s];for(var c=0;c<n;++c)o[c]/=t;return o}function JN(e,t){for(var n=e.rows,r=e.cols,o=e.data,i=0,a=0;i<n;++i)for(var s=0;s<r;++s,++a)o[a]-=t[s]}function F$(e,t,n,r){r=e[t],e[t]=e[n],e[n]=r}function zSt(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?(t/=e,e*Math.sqrt(1+t*t)):t>0?(e/=t,t*Math.sqrt(1+e*e)):0}Jn.prototype.copyTo=function(e){e.data.set(this.data)};function xpe(e,t,n,r){var o=0,i=0,a=e.rows,s=e.cols,l=a,c=s;l<c&&(o=1,i=l,l=c,c=i);var u=new Jn(l,l),d=new Jn(1,c),f=new Jn(c,c);if(o===0)ic(u,e);else{for(i=0;i<s*a;i++)u.data[i]=e.data[i];for(;i<c*l;i++)u.data[i]=0}if(function(p,h,g,v,m,b,x,y){for(var w=0,_=0,S=0,P=0,M=Math.max(b,30),I=0,O=0,L=0,R=0,T=0,E=0,k=0,B=0,$=0,j=0,V=0,q=0,Q=0,H=0,X=0,J=0,G=0,ie=4660,Y=0,le=0,te=0,re=new Float64Array(x<<3);w<x;w++){for(S=0,V=0;S<b;S++)V+=(B=p[w*h+S])*B;if(re[w]=V,v){for(S=0;S<x;S++)v[w*m+S]=0;v[w*m+w]=1}}for(;P<M;P++){for(T=0,w=0;w<x-1;w++)for(_=w+1;_<x;_++){for(I=w*h|0,O=_*h|0,X=re[w],J=0,G=re[_],S=2,J+=p[I]*p[O],J+=p[I+1]*p[O+1];S<b;S++)J+=p[I+S]*p[O+S];if(!(Math.abs(J)<=2384185792e-16*Math.sqrt(X*G))){for(Q=zSt(J*=2,q=X-G),q<0?(H=.5*(Q-q),E=J/(Q*(k=Math.sqrt(H/Q))*2)):k=J/(Q*(E=Math.sqrt((Q+q)/(2*Q)))*2),X=0,G=0,S=2,$=E*p[I]+k*p[O],j=-k*p[I]+E*p[O],p[I]=$,p[O]=j,X+=$*$,G+=j*j,$=E*p[I+1]+k*p[O+1],j=-k*p[I+1]+E*p[O+1],p[I+1]=$,p[O+1]=j,X+=$*$,G+=j*j;S<b;S++)$=E*p[I+S]+k*p[O+S],j=-k*p[I+S]+E*p[O+S],p[I+S]=$,p[O+S]=j,X+=$*$,G+=j*j;if(re[w]=X,re[_]=G,T=1,v)for(R=_*m|0,S=2,$=E*v[L=w*m|0]+k*v[R],j=-k*v[L]+E*v[R],v[L]=$,v[R]=j,$=E*v[L+1]+k*v[R+1],j=-k*v[L+1]+E*v[R+1],v[L+1]=$,v[R+1]=j;S<x;S++)$=E*v[L+S]+k*v[R+S],j=-k*v[L+S]+E*v[R+S],v[L+S]=$,v[R+S]=j}}if(T===0)break}for(w=0;w<x;w++){for(S=0,V=0;S<b;S++)V+=(B=p[w*h+S])*B;re[w]=Math.sqrt(V)}for(w=0;w<x-1;w++){for(_=w,S=w+1;S<x;S++)re[_]<re[S]&&(_=S);if(w!==_&&(F$(re,w,_,V),v)){for(S=0;S<b;S++)F$(p,w*h+S,_*h+S,B);for(S=0;S<x;S++)F$(v,w*m+S,_*m+S,B)}}for(w=0;w<x;w++)g[w]=re[w];if(v)for(w=0;w<y;w++){for(V=w<x?re[w]:0;V<=1e-37;){for(le=1/b,S=0;S<b;S++)Y=256&(ie=214013*ie+2531011)>>16?le:-le,p[w*h+S]=Y;for(P=0;P<2;P++)for(_=0;_<w;_++){for(V=0,S=0;S<b;S++)V+=p[w*h+S]*p[_*h+S];for(te=0,S=0;S<b;S++)B=p[w*h+S]-V*p[_*h+S],p[w*h+S]=B,te+=Math.abs(B);for(te=te?1/te:0,S=0;S<b;S++)p[w*h+S]*=te}for(V=0,S=0;S<b;S++)V+=(B=p[w*h+S])*B;V=Math.sqrt(V)}for(k=1/V,S=0;S<b;S++)p[w*h+S]*=k}}(u.data,l,d.data,f.data,c,l,c,l),t){for(i=0;i<c;i++)t.data[i]=d.data[i];for(;i<s;i++)t.data[i]=0}o===0?(n&&ic(n,u),r&&ic(r,f)):(n&&ic(n,f),r&&ic(r,u))}function J1(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function gb(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,g,v){e[0]=t,e[4]=n,e[8]=r,e[12]=o,e[1]=i,e[5]=a,e[9]=s,e[13]=l,e[2]=c,e[6]=u,e[10]=d,e[14]=f,e[3]=p,e[7]=h,e[11]=g,e[15]=v}function bM(e,t,n){var r=t[0],o=t[4],i=t[8],a=t[12],s=t[1],l=t[5],c=t[9],u=t[13],d=t[2],f=t[6],p=t[10],h=t[14],g=t[3],v=t[7],m=t[11],b=t[15],x=n[0],y=n[4],w=n[8],_=n[12],S=n[1],P=n[5],M=n[9],I=n[13],O=n[2],L=n[6],R=n[10],T=n[14],E=n[3],k=n[7],B=n[11],$=n[15];e[0]=r*x+o*S+i*O+a*E,e[4]=r*y+o*P+i*L+a*k,e[8]=r*w+o*M+i*R+a*B,e[12]=r*_+o*I+i*T+a*$,e[1]=s*x+l*S+c*O+u*E,e[5]=s*y+l*P+c*L+u*k,e[9]=s*w+l*M+c*R+u*B,e[13]=s*_+l*I+c*T+u*$,e[2]=d*x+f*S+p*O+h*E,e[6]=d*y+f*P+p*L+h*k,e[10]=d*w+f*M+p*R+h*B,e[14]=d*_+f*I+p*T+h*$,e[3]=g*x+v*S+m*O+b*E,e[7]=g*y+v*P+m*L+b*k,e[11]=g*w+v*M+m*R+b*B,e[15]=g*_+v*I+m*T+b*$}function eB(e,t,n,r){gb(e,t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1)}function tB(e,t,n,r){gb(e,1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1)}function nB(e,t){var n=Math.cos(t),r=Math.sin(t);gb(e,n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1)}function wpe(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function s8(e,t){var n=cn([t[0],t[1],t[2]]),r=cn([t[4],t[5],t[6]]),o=cn([t[8],t[9],t[10]]),i=cn();rs(i,r,o),e[0]=i[0],e[1]=i[1],e[2]=i[2],rs(i,o,n),e[3]=i[0],e[4]=i[1],e[5]=i[2],rs(i,n,r),e[6]=i[0],e[7]=i[1],e[8]=i[2]}function l8(e,t,n,r){n=n||1,r=r||!0;var o=e.length/3,i=t.length/3,a=void 0;r&&(a=new Float32Array(3*o));var s,l,c,u,d=new Float32Array(3*o),f=new Array(20);for(s=0;s<20;++s)f[s]=new Uint32Array(o);for(s=0;s<o;++s)f[0][s]=0;for(s=0;s<i;++s){var p=3*s,h=3*s+1,g=3*s+2;for(u=!0,l=0,c=f[0][t[p]];l<c;++l)if(t[h]===f[l+1][t[p]]){u=!1;break}for(u&&(f[0][t[p]]++,f[f[0][t[p]]][t[p]]=t[h]),u=!0,l=0,c=f[0][t[p]];l<c;++l)if(t[g]===f[l+1][t[p]]){u=!1;break}for(u&&(f[0][t[p]]++,f[f[0][t[p]]][t[p]]=t[g]),u=!0,l=0,c=f[0][t[h]];l<c;++l)if(t[p]===f[l+1][t[h]]){u=!1;break}for(u&&(f[0][t[h]]++,f[f[0][t[h]]][t[h]]=t[p]),u=!0,l=0,c=f[0][t[h]];l<c;++l)if(t[g]===f[l+1][t[h]]){u=!1;break}for(u&&(f[0][t[h]]++,f[f[0][t[h]]][t[h]]=t[g]),u=!0,l=0;l<f[0][t[g]];++l)if(t[p]===f[l+1][t[g]]){u=!1;break}for(u&&(f[0][t[g]]++,f[f[0][t[g]]][t[g]]=t[p]),u=!0,l=0,c=f[0][t[g]];l<c;++l)if(t[h]===f[l+1][t[g]]){u=!1;break}u&&(f[0][t[g]]++,f[f[0][t[g]]][t[g]]=t[h])}for(var v,m,b,x,y,w=.5,_=.75/4.5,S=0;S<n;++S){for(s=0;s<o;++s)if(v=3*s,(b=f[0][s])<3)d[v]=e[v],d[v+1]=e[v+1],d[v+2]=e[v+2];else if(b===3||b===4){for(d[v]=0,d[v+1]=0,d[v+2]=0,l=0;l<b;++l)m=3*f[l+1][s],d[v]+=e[m],d[v+1]+=e[m+1],d[v+2]+=e[m+2];d[v]+=w*e[v],d[v+1]+=w*e[v+1],d[v+2]+=w*e[v+2],y=w+b,d[v]/=y,d[v+1]/=y,d[v+2]/=y}else{for(d[v]=0,d[v+1]=0,d[v+2]=0,l=0;l<b;++l)m=3*f[l+1][s],d[v]+=e[m],d[v+1]+=e[m+1],d[v+2]+=e[m+2];d[v]+=1*e[v],d[v+1]+=1*e[v+1],d[v+2]+=1*e[v+2],x=1+b,d[v]/=x,d[v+1]/=x,d[v+2]/=x}if(e.set(d),r){o_(e,t,a);var P=3*o;for(v=0;v<P;v+=3)e[v]+=-1*_*a[v],e[v+1]+=-1*_*a[v+1],e[v+2]+=-1*_*a[v+2]}}}function o_(e,t,n){var r,o;if(n===void 0)n=new Float32Array(e.length);else for(r=0,o=n.length;r<o;r++)n[r]=0;var i=new Float32Array(3),a=new Float32Array(3),s=new Float32Array(3),l=new Float32Array(3),c=new Float32Array(3);if(t)for(r=0,o=t.length;r<o;r+=3){var u=3*t[r],d=3*t[r+1],f=3*t[r+2];ba(i,e,u),ba(a,e,d),ba(s,e,f),Yr(l,s,a),Yr(c,i,a),rs(l,l,c),n[u]+=l[0],n[u+1]+=l[1],n[u+2]+=l[2],n[d]+=l[0],n[d+1]+=l[1],n[d+2]+=l[2],n[f]+=l[0],n[f+1]+=l[1],n[f+2]+=l[2]}else for(r=0,o=e.length;r<o;r+=9)ba(i,e,r),ba(a,e,r+3),ba(s,e,r+6),Yr(l,s,a),Yr(c,i,a),rs(l,l,c),n[r]=l[0],n[r+1]=l[1],n[r+2]=l[2],n[r+3]=l[0],n[r+4]=l[1],n[r+5]=l[2],n[r+6]=l[0],n[r+7]=l[1],n[r+8]=l[2];return rpe(n),n}function _pe(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function i_(e,t,n,r,o){var i=1/r*3;ipe(e,e,o+(i+=n)),mM(t,t,o+i),wr(e,e,r),YN(e,e),Xv(e,e,r),wr(t,t,r),Z1(t,t),Xv(t,t,r);var a=new Float32Array(3);Yr(a,t,e),wr(a,a,r),Z1(a,a),mM(a,a,1);var s=256*Math.pow(10,6),l=a[0]*a[1]*a[2]*3;s<=l&&(wr(e,e,r*=Math.pow(s/l,1/3)),YN(e,e),Xv(e,e,r),wr(t,t,r),Z1(t,t),Xv(t,t,r),Yr(a,t,e),wr(a,a,r),Z1(a,a),mM(a,a,1));var c=new Float32Array(e);fk(c,c);var u=J1(),d=J1();nB(d,oo(90)),bM(u,u,d);var f=J1();eB(f,-1/r,1/r,1/r),bM(u,u,f);var p=J1();return tB(p,-r*c[2],-r*c[1],-r*c[0]),bM(u,u,p),{dim:a,tran:c,matrix:u,scaleFactor:r}}eB.__deps=[gb],tB.__deps=[gb],nB.__deps=[gb],s8.__deps=[cn,rs],Object.assign(l8,{__deps:[o_]}),Object.assign(o_,{__deps:[Yr,rs,ba,rpe]}),Object.assign(i_,{__deps:[oo,ipe,mM,Xv,wr,YN,Z1,Yr,fk,J1,bM,tB,eB,nB]});var qi=function(e,t,n){this.name=e||"",this.path=t||"",this.info={},this.center=new ee,this.boundingBox=new Tr,n instanceof on||n instanceof Ot||n instanceof xr?this.fromGeometry(n):n&&(this.set(n.position,n.index,n.normal,n.color,n.atomindex,n.contour),this.boundingBox.setFromArray(n.position),this.boundingBox.getCenter(this.center))},cK={type:{configurable:!0}};function bp(e,t,n,r,o){var i=new a8(e,t,n,r,o);this.getSurface=function(a,s,l,c,u,d){d===void 0&&(d=!1);var f=i.triangulate(a,s,l,u,d);if(s&&!u&&(l8(f.position,f.index,s,!0),f.normal=o_(f.position,f.index)),c&&(dk(c,f.position),f.normal)){var p=wpe();s8(p,c),i8(p,f.normal)}return f}}cK.type.get=function(){return"Surface"},qi.prototype.set=function(e,t,n,r,o,i){i===void 0&&(i=!1),this.position=e,this.index=t,this.normal=n,this.color=r,this.atomindex=o,this.size=e.length/3,this.contour=i},qi.prototype.fromGeometry=function(e){var t,n,r,o;if(ot&&Ze.time("GeometrySurface.fromGeometry"),e instanceof on?(e.computeVertexNormals(!0),t=new Ot().fromGeometry(e)):t=e instanceof Ot?e:e[0],t.boundingBox||t.computeBoundingBox(),this.boundingBox.copy(t.boundingBox),this.boundingBox.getCenter(this.center),t instanceof Ot){var i=t.attributes,a=!!i.normal&&i.normal.array;(!a||a[0]===0&&a[1]===0&&a[2]===0)&&t.computeVertexNormals(),n=i.position.array,r=i.index?i.index.array:null,o=i.normal.array}this.set(n,r,o,void 0,void 0),ot&&Ze.timeEnd("GeometrySurface.setGeometry")},qi.prototype.getPosition=function(){return this.position},qi.prototype.getColor=function(e){var t=e||{};t.surface=this;var n=this.size,r=new Float32Array(3*n),o=Cn.getScheme(t);if(o.volumeColor||t.scheme==="random")for(var i=0;i<n;++i)o.volumeColorToArray(i,r,3*i);else if(o.positionColor)for(var a=new ee,s=this.position,l=0;l<n;++l){var c=3*l;a.set(s[c],s[c+1],s[c+2]),o.positionColorToArray(a,r,c)}else if(o.atomColor&&this.atomindex)for(var u=t.structure.getAtomProxy(),d=this.atomindex,f=0;f<n;++f)u.index=d[f],o.atomColorToArray(u,r,3*f);else{var p=new vt(t.value);yr(n,p.r,p.g,p.b,r)}return r},qi.prototype.getPicking=function(e){return this.atomindex&&e?new _g(this.atomindex,e):new RSt(C0(this.size),this)},qi.prototype.getNormal=function(){return this.normal},qi.prototype.getSize=function(e,t){return Bs(this.size,e*t)},qi.prototype.getIndex=function(){return this.index},qi.prototype.getFilteredIndex=function(e,t){if(e&&this.atomindex){for(var n=new pr(e),r=t.getAtomSet(n),o=[],i=this.atomindex,a=this.index,s=a.length,l=this.contour?2:3,c=0,u=0;u<s;u+=l){for(var d=!0,f=0;f<l;f++){var p=i[a[u+f]];if(!r.get(p)){d=!1;break}}if(d)for(var h=0;h<l;h++,c++)o[c]=a[u+h]}return Ou(o,this.position.length/3)}return this.index},qi.prototype.getAtomindex=function(){return this.atomindex},qi.prototype.dispose=function(){},Object.defineProperties(qi.prototype,cK),Object.assign(bp,{__deps:[l8,o_,a8,dk,i8,wpe,s8]}),Jw.add("surf",function(e,t){var n=e.data.args,r=e.data.params;if(n&&(self.volsurf=new bp(n[0],n[1],n[2],n[3],n[4])),r){var o=self.volsurf.getSurface(r.isolevel,r.smooth,r.box,r.matrix,r.contour,r.wrap),i=[o.position.buffer,o.index.buffer];o.normal&&i.push(o.normal.buffer),o.atomindex&&i.push(o.atomindex.buffer),t({sd:o,p:r},i)}},[bp]);var Qn=function(e,t,n,r,o,i,a){this.name=e,this.path=t,this.matrix=new mt,this.normalMatrix=new Li,this.inverseMatrix=new mt,this.center=new ee,this.boundingBox=new Tr,this.setData(n,r,o,i,a)},wf={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function uK(e){return e==="front"?y0:e==="back"?Xo:QS}wf.type.get=function(){return"Volume"},Qn.prototype.setData=function(e,t,n,r,o){this.nx=t||1,this.ny=n||1,this.nz=r||1,this.data=e||new Float32Array(1),this.setAtomindex(o),this._position=new Float32Array,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},Qn.prototype.setStats=function(e,t,n,r){this._min=e,this._max=t,this._mean=n,this._rms=r},Qn.prototype.setMatrix=function(e){this.matrix.copy(e);var t=this.boundingBox,n=this.center,r=this.nx-1,o=this.ny-1,i=this.nz-1;t.makeEmpty(),t.expandByPoint(n.set(r,o,i)),t.expandByPoint(n.set(r,o,0)),t.expandByPoint(n.set(r,0,i)),t.expandByPoint(n.set(r,0,0)),t.expandByPoint(n.set(0,o,i)),t.expandByPoint(n.set(0,0,i)),t.expandByPoint(n.set(0,o,0)),t.expandByPoint(n.set(0,0,0)),t.applyMatrix4(this.matrix),t.getCenter(this.center);var a=this.matrix.elements,s=new ee(a[0],a[1],a[2]),l=new ee(a[4],a[5],a[6]),c=new ee(a[8],a[9],a[10]),u=new ee,d=this.normalMatrix.elements;u.crossVectors(l,c),d[0]=u.x,d[1]=u.y,d[2]=u.z,u.crossVectors(c,s),d[3]=u.x,d[4]=u.y,d[5]=u.z,u.crossVectors(s,l),d[6]=u.x,d[7]=u.y,d[8]=u.z,this.inverseMatrix.getInverse(this.matrix)},Qn.prototype.setAtomindex=function(e){this.atomindex=e},Qn.prototype.getBox=function(e,t,n){return n||(n=new Tr),n.set(e,e),n.expandByScalar(t),n.applyMatrix4(this.inverseMatrix),n.min.round(),n.max.round(),n},Qn.prototype._getBox=function(e,t){if(e&&t){this.__box||(this.__box=new Tr);var n=this.getBox(e,t,this.__box);return[n.min.toArray(),n.max.toArray()]}},Qn.prototype._makeSurface=function(e,t,n){var r=this.name+"@"+t.toPrecision(2),o=new qi(r,"",e);return o.info.isolevel=t,o.info.smooth=n,o.info.volume=this,o},Qn.prototype.getSurface=function(e,t,n,r,o,i){i===void 0&&(i=!1),e=isNaN(e)?this.getValueForSigma(2):e,t=se(t,0),this.volsurf===void 0&&(this.volsurf=new bp(this.data,this.nx,this.ny,this.nz,this.atomindex));var a=this._getBox(n,r),s=this.volsurf.getSurface(e,t,a,this.matrix.elements,o,i);return this._makeSurface(s,e,t)},Qn.prototype.getSurfaceWorker=function(e,t,n,r,o,i,a){var s=this;if(e=isNaN(e)?this.getValueForSigma(2):e,t=t||0,window.hasOwnProperty("Worker")){this.workerPool===void 0&&(this.workerPool=new yv("surf",2));var l={},c=this.workerPool.getNextWorker();c.postCount===0&&Object.assign(l,{args:[this.data,this.nx,this.ny,this.nz,this.atomindex]}),Object.assign(l,{params:{isolevel:e,smooth:t,box:this._getBox(n,r),matrix:this.matrix.elements,contour:o,wrap:i}}),c.post(l,void 0,function(d){var f=d.data.sd,p=d.data.p;a(s._makeSurface(f,p.isolevel,p.smooth))},function(d){console.warn("Volume.getSurfaceWorker error - trying without worker",d);var f=s.getSurface(e,t,n,r,o,i);a(f)})}else{var u=this.getSurface(e,t,n,r,o,i);a(u)}},Qn.prototype.getValueForSigma=function(e){return this.mean+se(e,2)*this.rms},Qn.prototype.getSigmaForValue=function(e){return(se(e,0)-this.mean)/this.rms},wf.position.get=function(){if(!this._position){for(var e=this.nz,t=this.ny,n=this.nx,r=new Float32Array(n*t*e*3),o=0,i=0;i<e;++i)for(var a=0;a<t;++a)for(var s=0;s<n;++s)r[o+0]=s,r[o+1]=a,r[o+2]=i,o+=3;dk(this.matrix.elements,r),this._position=r}return this._position},Qn.prototype.getDataAtomindex=function(){return this.atomindex},Qn.prototype.getDataPosition=function(){return this.position},Qn.prototype.getDataColor=function(e){var t=e||{};t.volume=this,t.scale=t.scale||"Spectral",t.domain=t.domain||[this.min,this.max];for(var n=Cn.getScheme(t),r=this.position.length/3,o=new Float32Array(3*r),i=0;i<r;++i)n.volumeColorToArray(i,o,3*i);return o},Qn.prototype.getDataPicking=function(){var e=C0(this.position.length/3);return new vpe(e,this)},Qn.prototype.getDataSize=function(e,t){var n,r=this.data,o=this.position.length/3;switch(e){case"value":case"deviation":n=new Float32Array(r);break;case"abs-value":n=new Float32Array(r);for(var i=0;i<o;++i)n[i]=Math.abs(n[i]);break;case"value-min":n=new Float32Array(r);for(var a=this.min,s=0;s<o;++s)n[s]-=a;break;default:n=Bs(o,e)}if(t!==1)for(var l=0;l<o;++l)n[l]*=t;return n},wf.min.get=function(){return this._min===void 0&&(this._min=fM(this.data)),this._min},wf.max.get=function(){return this._max===void 0&&(this._max=dM(this.data)),this._max},wf.sum.get=function(){return this._sum===void 0&&(this._sum=o8(this.data)),this._sum},wf.mean.get=function(){return this._mean===void 0&&(this._mean=pM(this.data)),this._mean},wf.rms.get=function(){return this._rms===void 0&&(this._rms=function(e){for(var t=e.length,n=0,r=0;r<t;++r){var o=e[r];n+=o*o}return Math.sqrt(n/t)}(this.data)),this._rms},Qn.prototype.clone=function(){var e=new Qn(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return e.matrix.copy(this.matrix),e.header=Object.assign({},this.header),e},Qn.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(Qn.prototype,wf),Gn.add("shader/Mesh.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#elif defined( NOLIGHT )
vColor = color;
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Gn.add("shader/Mesh.frag",`#define STANDARD
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#elif defined( NOLIGHT )
varying vec3 vColor;
#else
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#elif defined( NOLIGHT )
gl_FragColor = vec4( vColor, opacity );
#else
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
#include interior_fragment
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#include opaque_back_fragment
#endif
}`);var dK={f:1,v2:2,v3:3,c:3};function N$(e,t){e.matrix.copy(t),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0}var Ta={opaqueBack:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new ee,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,diffuseInterior:!1,useInteriorColor:!1,interiorColor:14540253,interiorDarkening:0,forceTransparent:!1,matrix:new mt,disablePicking:!1,sortParticles:!1,background:!1},Sg={opaqueBack:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},diffuseInterior:{updateShader:!0},useInteriorColor:{updateShader:!0},interiorColor:{uniform:!0},interiorDarkening:{uniform:!0},matrix:{}},En=function(e,t){t===void 0&&(t={}),this.parameterTypes=Sg,this.geometry=new Ot,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new xr,this.wireframeGroup=new xr,this.pickingGroup=new xr,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=Ws(t,this.defaultParameters),this.uniforms=GA.merge([Et.common,{fogColor:{value:new vt(0)},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new vt(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness},interiorColor:{value:new vt(this.parameters.interiorColor)},interiorDarkening:{value:this.parameters.interiorDarkening}},Et.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var n=e.position||e.position1;this._positionDataSize=n?n.length/3:0,e.primitiveId||(e.primitiveId=C0(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:e.position},color:{type:"c",value:e.color},primitiveId:{type:"f",value:e.primitiveId}}),t.matrix&&(this.matrix=t.matrix),e.index&&this.initIndex(e.index),this.picking=e.picking,this.makeWireframeGeometry()},_f={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};_f.defaultParameters.get=function(){return Ta},_f.matrix.set=function(e){this.setMatrix(e)},_f.matrix.get=function(){return this.group.matrix.clone()},_f.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},_f.size.get=function(){return this._positionDataSize},_f.attributeSize.get=function(){return this.size},_f.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},En.prototype.setMatrix=function(e){N$(this.group,e),N$(this.wireframeGroup,e),N$(this.pickingGroup,e)},En.prototype.initIndex=function(e){this.geometry.setIndex(new Ht(e,1));var t=this.geometry.getIndex();t?t.setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0):Ze.error("Index is null")},En.prototype.makeMaterial=function(){var e=uK(this.parameters.side),t=new ni({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:e});t.vertexColors=!0,t.extensions.derivatives=!0,t.extensions.fragDepth=this.isImpostor;var n=new ni({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:e});n.vertexColors=!0;var r=new ni({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:e,blending:Cd});r.vertexColors=!0,r.extensions.fragDepth=this.isImpostor,t.clipNear=this.parameters.clipNear,n.clipNear=this.parameters.clipNear,r.clipNear=this.parameters.clipNear,this.material=t,this.wireframeMaterial=n,this.pickingMaterial=r,this.updateShader()},En.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var e=this.geometry,t=this.wireframeIndex,n=new Ot;n.attributes=e.attributes,t&&(n.setIndex(new Ht(t,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)),n.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=n},En.prototype.makeWireframeIndex=function(){var e=[];function t(v,m){if(v>m){var b=v;v=m,m=b}var x=e[v];return x===void 0?(e[v]=[m],!0):!x.includes(m)&&(x.push(m),!0)}var n=this.geometry,r=n.index;if(this.parameters.wireframe)if(r){var o,i=r.array,a=i.length;n.drawRange.count!==1/0&&(a=n.drawRange.count),this.wireframeIndex&&this.wireframeIndex.length>2*a?o=this.wireframeIndex:o=Ou(2*a,n.attributes.position.count);var s=0;e.length=0;for(var l=0;l<a;l+=3){var c=i[l+0],u=i[l+1],d=i[l+2];t(c,u)&&(o[s+0]=c,o[s+1]=u,s+=2),t(u,d)&&(o[s+0]=u,o[s+1]=d,s+=2),t(d,c)&&(o[s+0]=d,o[s+1]=c,s+=2)}this.wireframeIndex=o,this.wireframeIndexCount=s,this.wireframeIndexVersion=this.indexVersion}else{var f,p=n.attributes.position.count;f=this.wireframeIndex&&this.wireframeIndex.length>2*p?this.wireframeIndex:Ou(2*p,p);for(var h=0,g=0;h<p;h+=3)f[g+0]=h,f[g+1]=h+1,f[g+2]=h+1,f[g+3]=h+2,f[g+4]=h+2,f[g+5]=h,g+=6;this.wireframeIndex=f,this.wireframeIndexCount=2*p,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},En.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeGeometry.index&&this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new Ht(this.wireframeIndex,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0));else{var e=this.wireframeGeometry.getIndex();if(!e)return void Ze.error("Index is null");e.set(this.wireframeIndex),e.needsUpdate=this.wireframeIndexCount>0,e.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},En.prototype.getRenderOrder=function(){var e=0;return this.isText?e=1:this.transparent&&(e=this.isSurface?3:2),e},En.prototype._getMesh=function(e){this.material||this.makeMaterial();var t,n=this.geometry,r=this[e];return(t=this.isLine?new uo(n,r):this.isPoint?new Tw(n,r):new Lr(n,r)).frustumCulled=!1,t.renderOrder=this.getRenderOrder(),t},En.prototype.getMesh=function(){return this._getMesh("material")},En.prototype.getWireframeMesh=function(){var e;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(e=new uo(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,e.renderOrder=this.getRenderOrder(),e},En.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},En.prototype.getShader=function(e,t){return K1(e,this.getDefines(t))},En.prototype.getVertexShader=function(e){return this.getShader(this.vertexShader,e)},En.prototype.getFragmentShader=function(e){return this.getShader(this.fragmentShader,e)},En.prototype.getDefines=function(e){var t={};return this.parameters.clipNear&&(t.NEAR_CLIP=1),this.parameters.clipRadius&&(t.RADIUS_CLIP=1),e==="picking"?t.PICKING=1:((e==="background"||this.parameters.background)&&(t.NOLIGHT=1),this.parameters.flatShaded&&(t.FLAT_SHADED=1),this.parameters.opaqueBack&&(t.OPAQUE_BACK=1),this.parameters.diffuseInterior&&(t.DIFFUSE_INTERIOR=1),this.parameters.useInteriorColor&&(t.USE_INTERIOR_COLOR=1)),t},En.prototype.getParameters=function(){return this.parameters},En.prototype.addUniforms=function(e){this.uniforms=GA.merge([this.uniforms,e]),this.pickingUniforms=GA.merge([this.pickingUniforms,e])},En.prototype.addAttributes=function(e){for(var t in e){var n=void 0,r=e[t],o=this.attributeSize*dK[r.type];r.value?(o!==r.value.length&&Ze.error("attribute value has wrong length",t),n=r.value):n=Gfe("float32",o),this.geometry.setAttribute(t,new Ht(n,dK[r.type]).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0))}},En.prototype.updateRenderOrder=function(){var e=this.getRenderOrder();function t(n){n.renderOrder=e}this.group.children.forEach(t),this.pickingGroup&&this.pickingGroup.children.forEach(t)},En.prototype.updateShader=function(){var e=this.material,t=this.wireframeMaterial,n=this.pickingMaterial;e.vertexShader=this.getVertexShader(),e.fragmentShader=this.getFragmentShader(),e.needsUpdate=!0,t.vertexShader=this.getShader("Line.vert"),t.fragmentShader=this.getShader("Line.frag"),t.needsUpdate=!0,n.vertexShader=this.getVertexShader("picking"),n.fragmentShader=this.getFragmentShader("picking"),n.needsUpdate=!0},En.prototype.setParameters=function(e){var t=e,n=this.parameterTypes,r=this.parameters,o={},i={},a=!1,s=!1;for(var l in t){var c=t[l];c!==void 0&&(r[l]=c,n[l]!==void 0&&(n[l].property&&(n[l].property!==!0?o[n[l].property]=c:o[l]=c),n[l].uniform&&(n[l].uniform!==!0?i[n[l].uniform]=c:i[l]=c),n[l].updateShader&&(a=!0),n[l].updateVisibility&&(s=!0),this.dynamic&&l==="wireframe"&&c===!0&&this.updateWireframeIndex(),l==="forceTransparent"&&(o.transparent=this.transparent),l==="matrix"&&(this.matrix=c)))}this.setProperties(o),this.setUniforms(i),a&&this.updateShader(),s&&this.setVisibility(this.visible)},En.prototype.setAttributes=function(e){var t=this.geometry,n=t.attributes;for(var r in e)if(r!=="picking"){var o=e[r],i=o.length;if(r==="index"){var a=t.getIndex();if(!a){Ze.error("Index is null");continue}t.setDrawRange(0,1/0),i>a.array.length?t.setIndex(new Ht(o,1).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(a.set(o),a.count=i,a.needsUpdate=i>0,a.updateRange.count=i,t.setDrawRange(0,i)),this.indexVersion++,this.parameters.wireframe&&this.updateWireframeIndex()}else{var s=n[r];i>s.array.length?t.setAttribute(r,new Ht(o,s.itemSize).setUsage(this.dynamic?WebGLRenderingContext.DYNAMIC_DRAW:0)):(n[r].set(o),n[r].needsUpdate=i>0,n[r].updateRange.count=i)}}},En.prototype.setUniforms=function(e){if(e){var t=this.material.uniforms,n=this.wireframeMaterial.uniforms,r=this.pickingMaterial.uniforms;for(var o in e)o==="opacity"&&this.setProperties({transparent:this.transparent}),t[o]!==void 0&&(t[o].value.isVector3?t[o].value.copy(e[o]):t[o].value.set?t[o].value.set(e[o]):t[o].value=e[o]),n[o]!==void 0&&(n[o].value.isVector3?n[o].value.copy(e[o]):n[o].value.set?n[o].value.set(e[o]):n[o].value=e[o]),r[o]!==void 0&&(r[o].value.isVector3?r[o].value.copy(e[o]):r[o].value.set?r[o].value.set(e[o]):r[o].value=e[o])}},En.prototype.setProperties=function(e){if(e){var t=this.material,n=this.wireframeMaterial,r=this.pickingMaterial;for(var o in e){var i=o,a=e[i];i==="transparent"?this.updateRenderOrder():i==="side"&&(a=uK(a)),t[i]=a,n[i]=a,r[i]=a}t.needsUpdate=!0,n.needsUpdate=!0,r.needsUpdate=!0}},En.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},En.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},En.prototype.toJSON=function(){var e={};for(var t in this)t!=="group"&&t!=="wireframeGroup"&&t!="pickingGroup"&&t!=="picking"&&(e[t]=this[t]);return e},Object.defineProperties(En.prototype,_f);var Wd=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:n.normal}}),n.normal===void 0&&this.geometry.computeVertexNormals()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(En),Spe=function(e){function t(){e.apply(this,arguments),this.isSurface=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Wd);function lP(e){e.visible=!0}function fK(e){e.visible=!1}var ol=function(e){this.group=new xr,this.wireframeGroup=new xr,this.pickingGroup=new xr,this.frontMeshes=[],this.backMeshes=[],this.size=e.size,this.side=e.parameters.side,this.visible=e.visible,this.geometry=e.geometry,this.picking=e.picking,this.group=new xr,this.wireframeGroup=new xr,this.pickingGroup=new xr,this.matrix=e.matrix;var t=e,n=new e.constructor({position:new Float32Array(0)});t.makeMaterial(),n.makeMaterial(),n.picking=e.picking,n.geometry=e.geometry,n.wireframeGeometry=e.wireframeGeometry,n.setParameters(e.getParameters()),n.updateShader(),t.setParameters({side:"front"}),n.setParameters({side:"back",opacity:n.parameters.opacity}),this.buffer=e,this.frontBuffer=t,this.backBuffer=n},m1={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};m1.matrix.set=function(e){En.prototype.setMatrix.call(this,e)},m1.matrix.get=function(){return this.group.matrix.clone()},m1.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},m1.parameters.get=function(){return this.buffer.parameters},ol.prototype.getParameters=function(){var e=Object.assign({},this.buffer.parameters);return e.side=this.side,e},ol.prototype.getMesh=function(e){var t,n;return e?(n=this.backBuffer.getPickingMesh(),t=this.frontBuffer.getPickingMesh()):(n=this.backBuffer.getMesh(),t=this.frontBuffer.getMesh()),this.frontMeshes.push(t),this.backMeshes.push(n),this.setParameters({side:this.side}),new xr().add(n,t)},ol.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},ol.prototype.getPickingMesh=function(){return this.getMesh(!0)},ol.prototype.setAttributes=function(e){this.buffer.setAttributes(e)},ol.prototype.setParameters=function(e){(e=Object.assign({},e)).side==="front"?(this.frontMeshes.forEach(lP),this.backMeshes.forEach(fK)):e.side==="back"?(this.frontMeshes.forEach(fK),this.backMeshes.forEach(lP)):e.side==="double"&&(this.frontMeshes.forEach(lP),this.backMeshes.forEach(lP)),e.side!==void 0&&(this.side=e.side),delete e.side,e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,this.frontBuffer.setParameters(e),e.wireframe!==void 0&&(this.wireframe=e.wireframe,this.setVisibility(this.visible)),delete e.wireframe,this.backBuffer.setParameters(e)},ol.prototype.setVisibility=function(e){this.visible=e,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=e,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=e,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=e))},ol.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},ol.prototype.toJSON=function(){var e={};for(var t in this)["side","size","visible","matrix","parameters"].includes(t)&&(e[t]=this[t]);return e},Object.defineProperties(ol.prototype,m1),Gn.add("shader/Line.vert",`uniform float clipNear;
uniform vec3 clipCenter;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include color_pars_vertex
void main(){
#include color_vertex
#include begin_vertex
#include project_vertex
vViewPosition = -mvPosition.xyz;
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Gn.add("shader/Line.frag",`uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#include common
#include color_pars_fragment
#include fog_pars_fragment
void main(){
#include nearclip_fragment
#include radiusclip_fragment
gl_FragColor = vec4( vColor, opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
}`);var Cpe=function(e){function t(){e.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(En),rB=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),n instanceof Qn?(this.surface=void 0,this.volume=n):(this.surface=n,this.volume=void 0),this.boxCenter=new ee,this.__boxCenter=new ee,this.box=new Tr,this.__box=new Tr,this._position=new ee,this.inverseMatrix=new mt,this.setBox=function(){this._position.copy(r.translationGroup.position).negate(),this._position.applyMatrix4(this.inverseMatrix),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.toBePrepared=!0,this.viewer.signals.ticked.add(this.setBox,this),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"uniform"),r.colorValue=se(r.colorValue,14540253),this.isolevelType=se(r.isolevelType,"sigma"),this.isolevel=se(r.isolevel,2),this.negateIsolevel=se(r.negateIsolevel,!1),this.isolevelScroll=se(r.isolevelScroll,!1),this.smooth=se(r.smooth,0),this.background=se(r.background,!1),this.opaqueBack=se(r.opaqueBack,!0),this.boxSize=se(r.boxSize,0),this.colorVolume=se(r.colorVolume,void 0),this.contour=se(r.contour,!1),this.useWorker=se(r.useWorker,!0),this.wrap=se(r.wrap,!1),e.prototype.init.call(this,r),this.inverseMatrix.getInverse(this.matrix),this.build()},t.prototype.attach=function(n){var r=this;this.bufferList.forEach(function(o){r.viewer.add(o)}),this.setVisibility(this.visible),n()},t.prototype.prepare=function(n){var r,o=this;if(this.volume)if(r=this.isolevelType==="sigma"?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(r*=-1),!this.surface||this.__isolevel!==r||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=r,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var i=function(a){o.surface=a,n()};this.useWorker?this.volume.getSurfaceWorker(r,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,i):i(this.volume.getSurface(r,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else n();else n()},t.prototype.create=function(){var n,r={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)n=new Cpe(r,this.getBufferParams({wireframe:!1}));else{Object.assign(r,{normal:this.surface.getNormal(),picking:this.surface.getPicking()});var o=new Spe(r,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));n=new ol(o)}this.bufferList.push(n)},t.prototype.update=function(n){if(this.bufferList.length!==0){var r={};(n=n||{}).position&&(r.position=this.surface.getPosition()),n.color&&(r.color=this.surface.getColor(this.getColorParams())),n.index&&(r.index=this.surface.getIndex()),n.normal&&(r.normal=this.surface.getNormal()),this.bufferList.forEach(function(o){o.setAttributes(r)})}},t.prototype.setParameters=function(n,r,o){return n&&n.isolevelType!==void 0&&this.volume&&(this.isolevelType==="value"&&n.isolevelType==="sigma"?this.isolevel=this.volume.getSigmaForValue(this.isolevel):this.isolevelType==="sigma"&&n.isolevelType==="value"&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=n.isolevelType),n&&n.boxCenter&&(this.boxCenter.copy(n.boxCenter),delete n.boxCenter),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,r,o),n.matrix&&this.inverseMatrix.getInverse(n.matrix),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),n&&n.colorVolume!==void 0&&r&&(r.color=!0),this.surface&&(n.isolevel!==void 0||n.negateIsolevel!==void 0||n.smooth!==void 0||n.wrap!==void 0||n.boxSize!==void 0||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),e.prototype.dispose.call(this)},t}(Co),nn=function(){};nn.zoomScroll=function(e,t){e.trackballControls.zoom(t)},nn.clipNearScroll=function(e,t){var n=e.getParameters();e.setParameters({clipNear:n.clipNear+t/10})},nn.focusScroll=function(e,t){var n=e.getFocus(),r=Math.sign(t)*function(o,i,a){if(o>i)return o;var s=o/i;return((2*a-i)*s+(2*i-3*a))*s*s+a}((100-n)/10,5,.2);e.setFocus(n+r)},nn.zoomFocusScroll=function(e,t){e.trackballControls.zoom(t);var n=e.viewer.camera.position.z;e.setFocus(100-Math.abs(n/8))},nn.isolevelScroll=function(e,t){var n=Math.sign(t)/10;e.eachRepresentation(function(r,o){if(r.repr instanceof rB){var i=r.getParameters();i.isolevelScroll&&r.setParameters({isolevel:i.isolevel+n})}})},nn.panDrag=function(e,t,n){e.trackballControls.pan(t,n)},nn.rotateDrag=function(e,t,n){e.trackballControls.rotate(t,n)},nn.zRotateDrag=function(e,t,n){e.trackballControls.zRotate(t,n)},nn.zoomDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2)},nn.zoomFocusDrag=function(e,t,n){e.trackballControls.zoom((t+n)/-2);var r=e.viewer.camera.position.z;e.setFocus(100-Math.abs(r/8))},nn.panComponentDrag=function(e,t,n){e.trackballControls.panComponent(t,n)},nn.panAtomDrag=function(e,t,n){e.trackballControls.panAtom(t,n)},nn.rotateComponentDrag=function(e,t,n){e.trackballControls.rotateComponent(t,n)},nn.movePick=function(e,t){t&&e.animationControls.move(t.position.clone())},nn.tooltipPick=function(e,t){var n=e.tooltip;if(e.getParameters().tooltip&&t){var r=t.mouse.position;n.innerText=t.getLabel(),n.style.bottom=window.innerHeight-r.y+3+"px",n.style.left=r.x+3+"px",n.style.display="block"}else n.style.display="none"};var Ppe={default:[["scroll",nn.zoomScroll],["scroll-shift",nn.focusScroll],["scroll-ctrl",nn.isolevelScroll],["scroll-shift-ctrl",nn.zoomFocusScroll],["drag-left",nn.rotateDrag],["drag-right",nn.panDrag],["drag-ctrl-left",nn.panDrag],["drag-ctrl-right",nn.zRotateDrag],["drag-shift-left",nn.zoomDrag],["drag-middle",nn.zoomFocusDrag],["drag-ctrl-shift-right",nn.panComponentDrag],["drag-ctrl-shift-left",nn.rotateComponentDrag],["clickPick-right",nn.measurePick=function(e,t){if(t&&(t.atom||t.bond)){var n=t.atom||t.closestBondAtom;t.component.measurePick(n)}else e.measureClear()}],["clickPick-ctrl-left",nn.measurePick],["clickPick-middle",nn.movePick],["clickPick-left",nn.movePick],["hoverPick",nn.tooltipPick]],pymol:[["drag-left",nn.rotateDrag],["drag-middle",nn.panDrag],["drag-right",nn.zoomDrag],["drag-shift-right",nn.focusScroll],["clickPick-ctrl+shift-middle",nn.movePick],["hoverPick",nn.tooltipPick]],coot:[["scroll",nn.isolevelScroll],["drag-left",nn.rotateDrag],["drag-middle",nn.panDrag],["drag-ctrl-left",nn.panDrag],["drag-right",nn.zoomFocusDrag],["drag-ctrl-right",nn.focusScroll],["clickPick-middle",nn.movePick],["hoverPick",nn.tooltipPick]],astexviewer:[["drag-left",nn.rotateDrag],["drag-ctrl-left",nn.panDrag],["drag-shift-left",nn.zoomDrag],["scroll",nn.focusScroll],["clickPick-middle",nn.movePick],["hoverPick",nn.tooltipPick]]};function pK(e){var t=e.split(/[-+]/),n="";t.includes("scroll")&&(n="scroll"),t.includes("drag")&&(n="drag"),t.includes("click")&&(n="click"),t.includes("doubleClick")&&(n="doubleClick"),t.includes("hover")&&(n="hover"),t.includes("clickPick")&&(n="clickPick"),t.includes("hoverPick")&&(n="hoverPick");var r=0;t.includes("alt")&&(r+=1),t.includes("ctrl")&&(r+=2),t.includes("meta")&&(r+=4),t.includes("shift")&&(r+=8);var o=0;return t.includes("left")&&(o+=1),t.includes("right")&&(o+=2),t.includes("middle")&&(o+=4),[n,r,o]}var wv=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.mouse=e.mouseObserver,this.disabled=t.disabled||!1,this.preset(t.preset||"default")};wv.prototype.run=function(e){for(var t=this,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];if(!this.disabled){var o=this.mouse.key||0,i=this.mouse.buttons||0;this.actionList.forEach(function(a){a.type===e&&a.key===o&&a.button===i&&a.callback.apply(a,[t.stage].concat(n))})}},wv.prototype.add=function(e,t){var n=pK(e),r=n[0],o=n[1],i=n[2];this.actionList.push({type:r,key:o,button:i,callback:t})},wv.prototype.remove=function(e,t){var n=e.includes("*"),r=pK(e),o=r[0],i=r[1],a=r[2],s=this.actionList.filter(function(l){return!((l.type===o||n&&o==="")&&(l.key===i||n&&i===0)&&(l.button===a||n&&a===0)&&(l.callback===t||t===void 0))});this.actionList=s},wv.prototype.preset=function(e){var t=this;this.clear(),(Ppe[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},wv.prototype.clear=function(){this.actionList.length=0};var zf=function(){};zf.autoView=function(e){e.autoView(1e3)},zf.toggleAnimations=function(e){e.animationControls.toggle()},zf.toggleRock=function(e){e.toggleRock()};var HSt={default:[["i",zf.toggleSpin=function(e){e.toggleSpin()}],["k",zf.toggleRock],["p",zf.toggleAnimations],["a",zf.toggleAntialiasing=function(e){var t=e.getParameters();e.setParameters({sampleLevel:t.sampleLevel===-1?0:-1})}],["r",zf.autoView]]},_v=function(e,t){t===void 0&&(t={}),this.stage=e,this.actionList=[],this.disabled=t.disabled||!1,this.preset(t.preset||"default")};_v.prototype.run=function(e){var t=this;this.disabled||this.actionList.forEach(function(n){n.key===e&&n.callback(t.stage)})},_v.prototype.add=function(e,t){this.actionList.push({key:e,callback:t})},_v.prototype.remove=function(e,t){var n=this.actionList.filter(function(r){return!(r.key===e&&(r.callback===t||t===void 0))});this.actionList=n},_v.prototype.preset=function(e){var t=this;this.clear(),(HSt[e]||[]).forEach(function(n){return t.add(n[0],n[1])})},_v.prototype.clear=function(){this.actionList.length=0};var yM=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};yM.prototype._onClick=function(e,t){var n=this.stage.pickingControls.pick(e,t);this.stage.signals.clicked.dispatch(n),this.controls.run("clickPick",n)},yM.prototype._onHover=function(e,t){var n=this.stage.pickingControls.pick(e,t);n&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=n.component,this.stage.transformAtom=n.atom),this.stage.signals.hovered.dispatch(n),this.controls.run("hoverPick",n)},yM.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var Mf=function(e){this.stage=e,this.stage=e,this.mouse=e.mouseObserver,this.controls=e.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};Mf.prototype._onMove=function(){this.stage.tooltip.style.display="none"},Mf.prototype._onScroll=function(e){this.controls.run("scroll",e)},Mf.prototype._onDrag=function(e,t){this.controls.run("drag",e,t)},Mf.prototype._onClick=function(e,t){this.controls.run("click",e,t)},Mf.prototype._onDblclick=function(e,t){this.controls.run("doubleClick",e,t)},Mf.prototype._onHover=function(e,t){this.controls.run("hover",e,t)},Mf.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var oB=function(e){this.stage=e,this.viewer=e.viewer,this.animationControls=e.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};oB.prototype._onTick=function(e){this.animationControls.run(e)},oB.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var Mpe=!!Yfe&&{passive:!0},Sv=function(e){this.stage=e,this.stage=e,this.controls=e.keyControls,this.domElement=e.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,Mpe),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};Sv.prototype._onKeydown=function(){},Sv.prototype._onKeyup=function(){},Sv.prototype._onKeypress=function(e){var t;t="key"in KeyboardEvent.prototype?e.key:String.fromCharCode(e.which||e.keyCode),this.controls.run(t)},Sv.prototype._focusDomElement=function(){this.domElement.focus()},Sv.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,Mpe),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var Af=function(e,t,n,r){r===void 0&&(r={}),this.component=e,this.position=t,this.offsetX=se(r.offsetX,0),this.offsetY=se(r.offsetY,0),this.visible=se(r.visible,!0),this.stage=e.stage,this.viewer=e.stage.viewer,this._viewerPosition=new ee,this._updateViewerPosition(),this._canvasPosition=new ct,this._cameraPosition=new ee,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",left:"-10000px"}),this.viewer.wrapper.appendChild(this.element),this.setContent(n),this.updateVisibility(),this.viewer.signals.rendered.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};Af.prototype.setContent=function(e){var t=this.element.style.display;if(t==="none"&&(this.element.style.left="-10000px",this.element.style.display="block"),e instanceof HTMLElement)this.element.appendChild(e);else{var n=document.createElement("div");n.innerText=e,Object.assign(n.style,{backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.element.appendChild(n)}this._clientRect=this.element.getBoundingClientRect(),t==="none"&&(this.element.style.display=t)},Af.prototype.setVisibility=function(e){this.visible=e,this.updateVisibility()},Af.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},Af.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},Af.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},Af.prototype._update=function(){if(this.getVisibility()){var e=this.element.style,t=this._canvasPosition,n=this._viewerPosition,r=this._clientRect;if(this._cameraPosition.copy(n).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)e.display="none";else{e.display="block";var o=this._cameraPosition.length(),i=this.viewer.scene.fog;e.opacity=(1-oC(i.near,i.far,o)).toString(),e.zIndex=Math.round(100*(i.far-o)).toString(),this.stage.viewerControls.getPositionOnCanvas(n,t),e.bottom=this.offsetX+t.y+r.height/2+"px",e.left=this.offsetY+t.x-r.width/2+"px"}}},Af.prototype.dispose=function(){this.viewer.wrapper.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var Qu=new mt,cP=new ee,hK=new Er,xM=function(e){this.component=e,this.signals={changed:new un.Signal},this.stage=e.stage,this.viewer=e.stage.viewer},B$={position:{configurable:!0},rotation:{configurable:!0}};B$.position.get=function(){return this.component.position},B$.rotation.get=function(){return this.component.quaternion},xM.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},xM.prototype.spin=function(e,t){Qu.getInverse(this.viewer.rotationGroup.matrix),cP.copy(dm(e)).applyMatrix4(Qu),Qu.extractRotation(this.component.transform),Qu.premultiply(this.viewer.rotationGroup.matrix),Qu.getInverse(Qu),cP.copy(dm(e)),cP.applyMatrix4(Qu),Qu.makeRotationAxis(cP,t),hK.setFromRotationMatrix(Qu),this.component.quaternion.premultiply(hK),this.changed()},Object.defineProperties(xM.prototype,B$);var Ape={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data",explicit:"explicit"},Iu=function(e){e===void 0&&(e={}),this.max=10,this.type=se(e.type,"size"),this.scale=se(e.scale,1),this.size=se(e.size,1),this.data=se(e.data,{})};Iu.prototype.atomRadius=function(e){var t;switch(this.type){case"vdw":t=e.vdw;break;case"covalent":t=e.covalent;break;case"bfactor":t=e.bfactor||1;break;case"sstruc":var n=e.sstruc;t=n==="h"||n==="g"||n==="i"||n==="e"||n==="b"?.25:hpe.includes(e.atomname)?.4:.1;break;case"data":t=se(this.data[e.index],1);break;case"explicit":(t=e.radius)===null&&(t=this.size);break;default:t=this.size}return Math.min(t*this.scale,this.max)},Iu.types=Ape;var VSt=new ee(-1,-1,-1),USt=new mt,Mx=function(e){var t=e.rows,n=t/3,r=new Jn(t,3),o=new Jn(3,3),i=new Jn(1,3),a=new Jn(3,3),s=new Jn(3,3),l=QN(e);JN(e,l),ic(r,e),vM(o,r,r),xpe(o,i,a,s);var c=new ee(l[0],l[1],l[2]),u=new ee(a.data[0],a.data[3],a.data[6]),d=new ee(a.data[1],a.data[4],a.data[7]),f=new ee(a.data[2],a.data[5],a.data[8]),p=u.clone().multiplyScalar(Math.sqrt(i.data[0]/n)),h=d.clone().multiplyScalar(Math.sqrt(i.data[1]/n)),g=f.clone().multiplyScalar(Math.sqrt(i.data[2]/n));this.begA=c.clone().sub(p),this.endA=c.clone().add(p),this.begB=c.clone().sub(h),this.endB=c.clone().add(h),this.begC=c.clone().sub(g),this.endC=c.clone().add(g),this.center=c,this.vecA=p,this.vecB=h,this.vecC=g,this.normVecA=u,this.normVecB=d,this.normVecC=f};Mx.prototype.getBasisMatrix=function(e){e===void 0&&(e=new mt);var t=e;return t.makeBasis(this.normVecB,this.normVecA,this.normVecC),t.determinant()<0&&t.scale(VSt),t},Mx.prototype.getRotationQuaternion=function(e){e===void 0&&(e=new Er);var t=e;return t.setFromRotationMatrix(this.getBasisMatrix(USt)),t.inverse()},Mx.prototype.getProjectedScaleForAtoms=function(e){var t=-1/0,n=-1/0,r=-1/0,o=-1/0,i=-1/0,a=-1/0,s=new ee,l=new ee,c=this.center,u=this.normVecA,d=this.normVecB,f=this.normVecC;return e.eachAtom(function(p){fm(s.copy(p),u,c);var h=l.subVectors(s,c).normalize().dot(u),g=s.distanceTo(c);h>0?g>t&&(t=g):g>n&&(n=g),fm(s.copy(p),d,c);var v=l.subVectors(s,c).normalize().dot(d),m=s.distanceTo(c);v>0?m>r&&(r=m):m>o&&(o=m),fm(s.copy(p),f,c);var b=l.subVectors(s,c).normalize().dot(f),x=s.distanceTo(c);b>0?x>i&&(i=x):x>a&&(a=x)}),{d1a:t,d2a:r,d3a:i,d1b:-n,d2b:-o,d3b:-a}};var il=function(e,t,n,r){this.volume=e,this.setFilter(t,n,r)},Hl={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};Hl.header.get=function(){return this.volume.header},Hl.matrix.get=function(){return this.volume.matrix},Hl.normalMatrix.get=function(){return this.volume.normalMatrix},Hl.inverseMatrix.get=function(){return this.volume.inverseMatrix},Hl.center.get=function(){return this.volume.center},Hl.boundingBox.get=function(){return this.volume.boundingBox},Hl.min.get=function(){return this.volume.min},Hl.max.get=function(){return this.volume.max},Hl.mean.get=function(){return this.volume.mean},Hl.rms.get=function(){return this.volume.rms},il.prototype._getFilterHash=function(e,t,n){return JSON.stringify([e,t,n])},il.prototype.setFilter=function(e,t,n){isNaN(e)&&this.header&&(e=this.header.DMEAN+2*this.header.ARMS),e=e===void 0||isNaN(e)?-1/0:e,t=se(t,1/0),n=se(n,!1);var r=this.volume.data,o=this.volume.position,i=this.volume.atomindex,a=this._getFilterHash(e,t,n);if(a!==this._filterHash){if(e===-1/0&&t===1/0)this.data=r,this.position=o,this.atomindex=i;else{var s=r.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*s),this._positionBuffer=new ArrayBuffer(3*s*4),i&&(this._atomindexBuffer=new ArrayBuffer(4*s)));var l,c=new Float32Array(this._dataBuffer),u=new Float32Array(this._positionBuffer);i&&(l=new Uint32Array(this._atomindexBuffer));for(var d=0,f=0;f<s;++f){var p=3*f,h=r[f];if(!n&&h>=e&&h<=t||n&&(h<e||h>t)){var g=3*d;c[d]=h,u[g+0]=o[p+0],u[g+1]=o[p+1],u[g+2]=o[p+2],i&&l&&(l[d]=i[f]),d+=1}}this.data=new Float32Array(this._dataBuffer,0,d),this.position=new Float32Array(this._positionBuffer,0,3*d),i&&(this.atomindex=new Int32Array(this._atomindexBuffer,0,d))}this._filterHash=a}},Object.defineProperties(il.prototype,Hl),il.prototype.getValueForSigma=Qn.prototype.getValueForSigma,il.prototype.getSigmaForValue=Qn.prototype.getSigmaForValue,il.prototype.getDataAtomindex=Qn.prototype.getDataAtomindex,il.prototype.getDataPosition=Qn.prototype.getDataPosition,il.prototype.getDataColor=Qn.prototype.getDataColor,il.prototype.getDataPicking=Qn.prototype.getDataPicking,il.prototype.getDataSize=Qn.prototype.getDataSize;var GSt=function(e,t){var n=spe({nodeArray1:e.atomIndex1,nodeArray2:e.atomIndex2,edgeCount:e.count,nodeCount:t});this.countArray=n.countArray,this.offsetArray=n.offsetArray,this.indexArray=n.indexArray},wM=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},t.prototype.addBond=function(r,o,i){this.growIfFull();var a=this.count,s=r.index,l=o.index;s<l?(this.atomIndex1[a]=s,this.atomIndex2[a]=l):(this.atomIndex2[a]=s,this.atomIndex1[a]=l),i&&(this.bondOrder[a]=i),this.count+=1},t.prototype.addBondIfConnected=function(r,o,i){return!!r.connectedTo(o)&&(this.addBond(r,o,i),!0)},Object.defineProperties(t.prototype,n),t}(Mi),WSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},t.prototype.setAltloc=function(r,o){this.altloc[r]=o.charCodeAt(0)},t.prototype.getAltloc=function(r){var o=this.altloc[r];return o?String.fromCharCode(o):""},Object.defineProperties(t.prototype,n),t}(Mi),qSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint32"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},t.prototype.setSstruc=function(r,o){this.sstruc[r]=o.charCodeAt(0)},t.prototype.getSstruc=function(r){var o=this.sstruc[r];return o?String.fromCharCode(o):""},t.prototype.setInscode=function(r,o){this.inscode[r]=o.charCodeAt(0)},t.prototype.getInscode=function(r){var o=this.inscode[r];return o?String.fromCharCode(o):""},Object.defineProperties(t.prototype,n),t}(Mi),XSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},t.prototype.setChainname=function(r,o){var i=4*r;this.chainname[i]=o.charCodeAt(0),this.chainname[i+1]=o.charCodeAt(1),this.chainname[i+2]=o.charCodeAt(2),this.chainname[i+3]=o.charCodeAt(3)},t.prototype.getChainname=function(r){for(var o="",i=0;i<4;++i){var a=this.chainname[4*r+i];if(!a)break;o+=String.fromCharCode(a)}return o},t.prototype.setChainid=function(r,o){var i=4*r;this.chainid[i]=o.charCodeAt(0),this.chainid[i+1]=o.charCodeAt(1),this.chainid[i+2]=o.charCodeAt(2),this.chainid[i+3]=o.charCodeAt(3)},t.prototype.getChainid=function(r){for(var o="",i=0;i<4;++i){var a=this.chainid[4*r+i];if(!a)break;o+=String.fromCharCode(a)}return o},Object.defineProperties(t.prototype,n),t}(Mi),KSt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_defaultFields:{configurable:!0}};return n._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(t.prototype,n),t}(Mi),hd=function(e){this.polymer=e,this.size=e.residueCount};hd.prototype.getCenterIterator=function(e){e===void 0&&(e=0);var t=this.getPosition().center,n=t.length/3,r=0,o=-1,i=[new ee,new ee,new ee,new ee];return{size:n,next:function(){var a=this.get(o);return o+=1,a},get:function(a){a=Math.min(n-1,Math.max(0,a));var s=i[r%4],l=3*a;if(s.fromArray(t,l),e){for(var c=Math.min(e,a,n-a-1),u=1;u<=c;++u){var d=3*u,f=(c+1-u)/(c+1);s.x+=f*t[l-d+0]+f*t[l+d+0],s.y+=f*t[l-d+1]+f*t[l+d+1],s.z+=f*t[l-d+2]+f*t[l+d+2]}s.x/=c+1,s.y/=c+1,s.z/=c+1}return r+=1,s},reset:function(){r=0,o=-1}}},hd.prototype.getColor=function(e){var t=this.polymer,n=t.structure,r=t.residueCount,o=t.residueIndexStart,i=new Float32Array(3*r),a=e||{};a.structure=n;for(var s=Cn.getScheme(a),l=n.getResidueProxy(),c=n.getAtomProxy(),u=0;u<r;++u)l.index=o+u,c.index=l.traceAtomIndex,s.atomColorToArray(c,i,3*u);return{color:i}},hd.prototype.getPicking=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,r=e.residueIndexStart,o=new Float32Array(n),i=t.getResidueProxy(),a=0;a<n;++a)i.index=r+a,o[a]=i.traceAtomIndex;return{picking:new _g(o,t)}},hd.prototype.getSize=function(e){for(var t=this.polymer,n=t.structure,r=t.residueCount,o=t.residueIndexStart,i=new Float32Array(r),a=new Iu(e),s=n.getResidueProxy(),l=n.getAtomProxy(),c=0;c<r;++c)s.index=o+c,l.index=s.traceAtomIndex,i[c]=a.atomRadius(l);return{size:i}},hd.prototype.getPosition=function(){for(var e=this.polymer,t=e.structure,n=e.residueCount,r=n-3,o=new Float32Array(3*n),i=new Float32Array(3*n),a=new Float32Array(n),s=new Float32Array(n),l=new Float32Array(n),c=new Float32Array(n),u=new Float32Array(3*n),d=new ee,f=new ee,p=new ee,h=new ee,g=new ee,v=new ee,m=new ee,b=new ee,x=new ee,y=new ee,w=new ee,_=new ee(0,0,0),S="trace",P=t.getAtomProxy(),M=t.getAtomProxy(e.getAtomIndexByType(0,S)),I=t.getAtomProxy(e.getAtomIndexByType(1,S)),O=t.getAtomProxy(e.getAtomIndexByType(2,S)),L=0;L<r;++L){P.index=M.index,M.index=I.index,I.index=O.index,O.index=e.getAtomIndexByType(L+3,S);var R=3*L;d.subVectors(M,P),f.subVectors(I,M),p.subVectors(O,I),h.subVectors(d,f),g.subVectors(f,p),x.crossVectors(h,g).normalize(),x.toArray(i,R),L>0&&(a[L]=x.angleTo(y));var T=Math.cos(h.angleTo(g));c[L]=180/Math.PI*Math.acos(T);var E=h.length(),k=g.length();s[L]=Math.sqrt(k*E)/Math.max(2,2*(1-T)),l[L]=Math.abs(f.dot(x)),v.copy(h).multiplyScalar(s[L]/E),m.copy(g).multiplyScalar(s[L]/k),v.subVectors(M,v),m.subVectors(I,m),v.toArray(o,R+3),m.toArray(o,R+6),w.subVectors(P,_),w.toArray(u,R),y.copy(x),_.copy(v)}v.fromArray(o,3),m.fromArray(o,6),x.subVectors(v,m).normalize(),P.index=e.getAtomIndexByType(0,S),_.copy(P),b.copy(P),fm(b,x,v),b.toArray(o,0),w.subVectors(_,v),w.toArray(u,0),v.fromArray(o,3*n-6),m.fromArray(o,3*n-9),x.subVectors(v,m).normalize(),P.index=e.getAtomIndexByType(n-1,S),_.copy(P),b.copy(P),fm(b,x,v),b.toArray(o,3*n-3);for(var B=n-3;B<n;++B)v.fromArray(o,3*B),P.index=e.getAtomIndexByType(B,S),_.copy(P),w.subVectors(_,v),w.toArray(u,3*B);var $=new Float32Array(n),j=new Float32Array(n),V=new Float32Array(n),q=new Float32Array(n);$[1]=s[0],j[1]=c[0],V[1]=s[0];for(var Q=2;Q<n-2;++Q)$[Q]=.5*(s[Q-2]+s[Q-1]),j[Q]=.5*(c[Q-2]+c[Q-1]),V[Q]=.5*(l[Q-2]+l[Q-1]),v.fromArray(i,3*(Q-2)),m.fromArray(i,3*(Q-1)),q[Q]=180/Math.PI*Math.acos(Math.cos(v.angleTo(m)));$[n-2]=s[n-4],j[n-2]=c[n-4],V[n-2]=l[n-4];var H=new Float32Array(3*n);Fo(i,H,0,0,3),Fo(i,H,0,3,3);for(var X=2;X<n-2;++X)v.fromArray(i,3*(X-2)),m.fromArray(i,3*(X-1)),x.addVectors(m,v).multiplyScalar(.5).normalize(),x.toArray(H,3*X);return Fo(i,H,3*n-12,3*n-6,3),Fo(i,H,3*n-12,3*n-3,3),{center:o,axis:H,bending:q,radius:$,rise:V,twist:j,resdir:u}};var c8=function(e){this.polymer=e,this.helixorient=new hd(e),this.position=this.helixorient.getPosition()};c8.prototype.getAxis=function(e,t,n,r,o){e=e||30,t=t||2.5,n=n!==void 0&&n;var i=this.polymer,a=i.structure,s=i.residueCount,l=i.residueIndexStart,c=this.position,u=r||{};u.structure=a;for(var d,f,p=Cn.getScheme(u),h=new Iu(o),g=0,v=0,m=[],b=[],x=[],y=[],w=[],_=[],S=[],P=[],M=[],I=new Float32Array(3*s),O=new Float32Array(3*s),L=new ee,R=new ee,T=a.getResidueProxy(),E=a.getResidueProxy(),k=a.getAtomProxy(),B=new ee,$=new ee,j=!1,V=0;V<s;++V)if(T.index=l+V,B.fromArray(c.center,3*V),V===s-1?j=!0:(E.index=l+V+1,$.fromArray(c.center,3*V+3),(n&&T.sstruc!==E.sstruc||B.distanceTo($)>t||c.bending[V]>e)&&(j=!0)),j){if(V-g<4){g=V,j=!1;continue}k.index=T.traceAtomIndex,I=c.axis.subarray(3*g+3,3*V),O=c.center.subarray(3*g,3*V+3),d=KN(I).normalize(),f=KN(O),L.fromArray(O),fm(L,d,f),R.fromArray(O,O.length-3),fm(R,d,f),d.subVectors(R,L),d.toArray(m,v),f.toArray(b,v),L.toArray(x,v),R.toArray(y,v),p.atomColorToArray(k,w,v),_.push(k.index),S.push(h.atomRadius(k)),P.push(l+g),M.push(l+V+1-g),v+=3,g=V,j=!1}var q=new Float32Array(_);return{axis:new Float32Array(m),center:new Float32Array(b),begin:new Float32Array(x),end:new Float32Array(y),color:new Float32Array(w),picking:new _g(q,a),size:new Float32Array(S),residueOffset:P,residueCount:M}};var Ef=function(e){this.scoreFunction=e,this.content=[],this.scoreFunction=e};Ef.prototype.push=function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},Ef.prototype.pop=function(){var e=this.content[0],t=this.content.pop();return t&&this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},Ef.prototype.peek=function(){return this.content[0]},Ef.prototype.remove=function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();return void(r&&n!==t-1&&(this.content[n]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},Ef.prototype.size=function(){return this.content.length},Ef.prototype.bubbleUp=function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},Ef.prototype.sinkDown=function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n),o=0;;){var i=2*(e+1),a=i-1,s=null;if(a<t){var l=this.content[a];(o=this.scoreFunction(l))<r&&(s=a)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(s===null?r:o)&&(s=i)}if(s===null)break;this.content[e]=this.content[s],this.content[s]=n,e=s}};/**
 * Kdtree
 * @class
 * @author Alexander Rose <alexander.rose@weirdbyte.de>, 2016
 * @author Roman Bolzern <roman.bolzern@fhnw.ch>, 2013
 * @author I4DS http://www.fhnw.ch/i4ds, 2013
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 * @description
 * k-d Tree for typed arrays of 3d points (e.g. for Float32Array), in-place
 * provides fast nearest neighbour search
 *
 * Based on https://github.com/ubilabs/kd-tree-javascript by Ubilabs
 *
 * Further information (including mathematical properties)
 * http://en.wikipedia.org/wiki/Binary_tree
 * http://en.wikipedia.org/wiki/K-d_tree
 *
 * @example
 * points: [x, y, z, x, y, z, x, y, z, ...]
 * metric: function(a, b){
 *    return Math.pow(a[0]-b[0], 2) + Math.pow(a[1]-b[1], 2) + Math.pow(a[2]-b[2], 2);
 * }
 *
 * @param {Float32Array} points - points
 * @param {Function} metric - metric
 */var ex=function(e,t){this.points=e,this.metric=t,this.maxDepth=0,this.currentNode=0;for(var n=e.length/3,r=new Uint32Array(n),o=0;o<n;++o)r[o]=o;this.indices=r,this.nodes=new Int32Array(4*n),this.rootIndex=this.buildTree(0,-1,0,n)};ex.prototype.buildTree=function(e,t,n,r){e>this.maxDepth&&(this.maxDepth=e);var o=r-n;if(o===0)return-1;var i=4*this.currentNode,a=this.nodes;if(this.currentNode+=1,o===1)return a[i]=n,a[i+1]=-1,a[i+2]=-1,a[i+3]=t,i;for(var s,l,c,u,d,f=this.indices,p=this.points,h=n+Math.floor(o/2),g=e%3,v=n,m=r-1;m>v;){for(u=p[3*f[c=v+m>>1]+g],l=f[c],f[c]=f[m],f[m]=l,d=v,s=v;s<m;++s)p[3*f[s]+g]<u&&(l=f[d],f[d]=f[s],f[s]=l,++d);if(l=f[m],f[m]=f[d],f[d]=l,h===(c=d))break;h<c?m=c-1:v=c+1}return a[i]=h,a[i+1]=this.buildTree(e+1,i,n,h),a[i+2]=this.buildTree(e+1,i,h+1,r),a[i+3]=t,i},ex.prototype.getNodeDepth=function(e){var t=this.nodes[e+3];return t===-1?0:this.getNodeDepth(t)+1},ex.prototype.nearest=function(e,t,n){var r=this,o=new Ef(function(f){return-f[1]}),i=this.nodes,a=this.points,s=this.indices,l=function(f){var p,h,g=r.getNodeDepth(f)%3,v=3*s[i[f]],m=[a[v+0],a[v+1],a[v+2]],b=r.metric(e,m);function x(M,I){o.push([M,I]),o.size()>t&&o.pop()}var y=i[f+1],w=i[f+2];if(w!==-1||y!==-1){p=w===-1?y:y===-1?w:e[g]<=a[v+g]?y:w,l(p),(o.size()<t||b<o.peek()[1])&&b<=n&&x(f,b);for(var _=[],S=0;S<3;S+=1)_[S]=S===g?e[S]:a[v+S];var P=r.metric(_,m);(o.size()<t||Math.abs(P)<o.peek()[1])&&Math.abs(P)<=n&&(h=p===y?w:y)!==-1&&l(h)}else(o.size()<t||b<o.peek()[1])&&b<=n&&x(f,b)};l(this.rootIndex);for(var c=[],u=0,d=Math.min(o.size(),t);u<d;u+=1)c.push(o.content[u]);return c},ex.prototype.verify=function(e,t){t===void 0&&(t=0);var n=1;if(e===void 0&&(e=this.rootIndex),e===-1)throw new Error("node is null");var r=t%3,o=this.nodes,i=this.points,a=this.indices,s=o[e+1],l=o[e+2];if(s!==-1){if(i[3*a[o[s]]+r]>i[3*a[o[e]]+r])throw new Error("left child is > parent!");n+=this.verify(s,t+1)}if(l!==-1){if(i[3*a[o[l]]+r]<i[3*a[o[e]]+r])throw new Error("right child is < parent!");n+=this.verify(l,t+1)}return n};var Ut=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},hn={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},radius:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function Epe(e,t){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function YSt(e,t){return Math.sqrt(Epe(e,t))}hn.bondHash.get=function(){return this.structure.bondHash},hn.entity.get=function(){return this.structure.entityList[this.entityIndex]},hn.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},hn.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},hn.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},hn.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},hn.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},hn.residueIndex.set=function(e){this.atomStore.residueIndex[this.index]=e},hn.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},hn.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},hn.resno.get=function(){return this.residueStore.resno[this.residueIndex]},hn.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},hn.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},hn.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},hn.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},hn.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},hn.resname.get=function(){return this.residueType.resname},hn.hetero.get=function(){return this.residueType.hetero},hn.atomname.get=function(){return this.atomType.atomname},hn.number.get=function(){return this.atomType.number},hn.element.get=function(){return this.atomType.element},hn.vdw.get=function(){return this.atomType.vdw},hn.covalent.get=function(){return this.atomType.covalent},hn.x.get=function(){return this.atomStore.x[this.index]},hn.x.set=function(e){this.atomStore.x[this.index]=e},hn.y.get=function(){return this.atomStore.y[this.index]},hn.y.set=function(e){this.atomStore.y[this.index]=e},hn.z.get=function(){return this.atomStore.z[this.index]},hn.z.set=function(e){this.atomStore.z[this.index]=e},hn.serial.get=function(){return this.atomStore.serial[this.index]},hn.serial.set=function(e){this.atomStore.serial[this.index]=e},hn.bfactor.get=function(){return this.atomStore.bfactor[this.index]},hn.bfactor.set=function(e){this.atomStore.bfactor[this.index]=e},hn.occupancy.get=function(){return this.atomStore.occupancy[this.index]},hn.occupancy.set=function(e){this.atomStore.occupancy[this.index]=e},hn.altloc.get=function(){return this.atomStore.getAltloc(this.index)},hn.altloc.set=function(e){this.atomStore.setAltloc(this.index,e)},hn.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},hn.partialCharge.set=function(e){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=e)},hn.radius.get=function(){return this.atomStore.radius?this.atomStore.radius[this.index]:null},hn.radius.set=function(e){this.atomStore.radius&&(this.atomStore.radius[this.index]=e)},hn.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},hn.formalCharge.set=function(e){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=e)},hn.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},hn.aromatic.set=function(e){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=e)},hn.bondCount.get=function(){return this.bondHash.countArray[this.index]},Ut.prototype.eachBond=function(e,t){t=t||this.structure._bp;for(var n=this.index,r=this.bondHash,o=r.indexArray,i=r.countArray[n],a=r.offsetArray[n],s=0;s<i;++s)t.index=o[a+s],e(t)},Ut.prototype.eachBondedAtom=function(e,t){var n=t||this.structure._ap,r=this.index;this.eachBond(function(o){n.index=r!==o.atomIndex1?o.atomIndex1:o.atomIndex2,e(n)}),this.index=r},Ut.prototype.hasBondTo=function(e){var t=!1;return this.eachBondedAtom(function(n){e.index===n.index&&(t=!0)}),t},Ut.prototype.bondToElementCount=function(e){var t=0,n=this.index;return this.eachBondedAtom(function(r){r.number===e&&(t+=1)}),this.index=n,t},Ut.prototype.hasBondToElement=function(e){return this.bondToElementCount(e)>0},Ut.prototype.isBackbone=function(){var e=this.residueType.backboneIndexList;return e.length>0&&e.includes(this.index-this.residueAtomOffset)},Ut.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},Ut.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},Ut.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},Ut.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},Ut.prototype.isHetero=function(){return this.residueType.hetero===1},Ut.prototype.isProtein=function(){return this.residueType.moleculeType===3},Ut.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},Ut.prototype.isRna=function(){return this.residueType.moleculeType===4},Ut.prototype.isDna=function(){return this.residueType.moleculeType===5},Ut.prototype.isWater=function(){return this.residueType.moleculeType===1},Ut.prototype.isIon=function(){return this.residueType.moleculeType===2},Ut.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},Ut.prototype.isHelix=function(){return cpe.includes(this.sstruc)},Ut.prototype.isSheet=function(){return upe.includes(this.sstruc)},Ut.prototype.isTurn=function(){return dpe.includes(this.sstruc)&&this.isProtein()},Ut.prototype.isBonded=function(){return this.bondHash.countArray[this.index]!==0},Ut.prototype.isRing=function(){return this.residueType.getRings().atomRings[this.index-this.residueAtomOffset]!==void 0},Ut.prototype.isAromatic=function(){return this.aromatic===1},Ut.prototype.isPolarHydrogen=function(){var e=!1;return this.number!==1?e:e=!this.hasBondToElement(6)},Ut.prototype.isMetal=function(){return this.atomType.isMetal()},Ut.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},Ut.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},Ut.prototype.isHalogen=function(){return this.atomType.isHalogen()},Ut.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},Ut.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},Ut.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},Ut.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},Ut.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},Ut.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},Ut.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},Ut.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},Ut.prototype.isActinide=function(){return this.atomType.isActinide()},Ut.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},Ut.prototype.getValenceList=function(){return this.atomType.getValenceList()},Ut.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},Ut.prototype.distanceTo=function(e){var t=this.atomStore,n=e.atomStore,r=this.index,o=e.index,i=t.x[r]-n.x[o],a=t.y[r]-n.y[o],s=t.z[r]-n.z[o],l=i*i+a*a+s*s;return Math.sqrt(l)},Ut.prototype.connectedTo=function(e){var t=this.atomStore,n=e.atomStore,r=this.index,o=e.index;if(t.altloc&&n.altloc){var i=t.altloc[r],a=n.altloc[o];if(i!==0&&a!==0&&i!==32&&a!==32&&i!==a)return!1}var s=t.x[r]-n.x[o],l=t.y[r]-n.y[o],c=t.z[r]-n.z[o],u=s*s+l*l+c*c;if(u<48&&this.isCg())return!0;if(isNaN(u))return!1;var d=this.covalent+e.covalent,f=d+.3,p=d-.5;return u<f*f&&u>p*p},Ut.prototype.positionFromArray=function(e,t){return t===void 0&&(t=0),this.x=e[t+0],this.y=e[t+1],this.z=e[t+2],this},Ut.prototype.positionToArray=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);var n=this.index,r=this.atomStore;return e[t+0]=r.x[n],e[t+1]=r.y[n],e[t+2]=r.z[n],e},Ut.prototype.positionToVector3=function(e){return e===void 0&&(e=new ee),e.x=this.x,e.y=this.y,e.z=this.z,e},Ut.prototype.positionFromVector3=function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},Ut.prototype.positionAdd=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},Ut.prototype.positionSub=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},Ut.prototype.getResidueBonds=function(e){e===void 0&&(e=!1);var t,n,r,o,i=this.residueAtomOffset,a=this.index-this.residueAtomOffset,s=this.residueType.getBonds(),l=s.atomIndices1,c=s.atomIndices2;for(e||(o=[]),t=l.indexOf(a);t!==-1;){if(r=c[t]+i,!o)return r;o.push(r),t=l.indexOf(a,t+1)}for(n=c.indexOf(a);n!==-1;){if(r=l[n]+i,!o)return r;o.push(r),n=c.indexOf(a,n+1)}return o},Ut.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chainname&&(t+=":"+this.chainname),this.atomname&&(t+="."+this.atomname),this.altloc&&(t+="%"+this.altloc),this.structure.modelStore.count>1&&(t+="/"+this.modelIndex),t},Ut.prototype.clone=function(){return new Ut(this.structure,this.index)},Ut.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(Ut.prototype,hn);var j$=new Float32Array(3),Tpe=function(e,t){t===void 0&&(t=!1),ot&&Ze.time("Kdtree build");var n=t?Epe:YSt,r=new Float32Array(3*e.atomCount),o=new Uint32Array(e.atomCount),i=0;e.eachAtom(function(a){r[i+0]=a.x,r[i+1]=a.y,r[i+2]=a.z,o[i/3]=a.index,i+=3}),this.atomIndices=o,this.points=r,this.kdtree=new ex(r,n),ot&&Ze.timeEnd("Kdtree build")};Tpe.prototype.nearest=function(e,t,n){e instanceof ee?e.toArray(j$):e instanceof Ut&&e.positionToArray(j$);for(var r=this.kdtree.nearest(j$,t,n),o=this.kdtree.indices,i=this.kdtree.nodes,a=this.atomIndices,s=[],l=0,c=r.length;l<c;++l){var u=r[l],d=u[0],f=u[1];s.push({index:a[o[i[d]]],distance:f})}return s};var ZSt={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},QSt={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},JSt=/^[1-9]$/;function Ope(e){var t="";return e.length>0&&(t=":"+e8(e).join(" OR :")),new pr(t)}var Ai=function(e){e===void 0&&(e=""),this.name=e,this.partList=[]},mK={type:{configurable:!0}};mK.type.get=function(){return"Assembly"},Ai.prototype.addPart=function(e,t){var n=new nd(e,t);return this.partList.push(n),n},Ai.prototype.getAtomCount=function(e){return this.partList.reduce(function(t,n){return t+n.getAtomCount(e)},0)},Ai.prototype.getResidueCount=function(e){return this.partList.reduce(function(t,n){return t+n.getResidueCount(e)},0)},Ai.prototype.getInstanceCount=function(){var e=0;return this.partList.forEach(function(t){e+=t.matrixList.length}),e},Ai.prototype.isIdentity=function(e){if(this.partList.length!==1)return!1;var t=this.partList[0];if(t.matrixList.length!==1||!new mt().equals(t.matrixList[0]))return!1;var n=[];return e.eachChain(function(r){n.push(r.chainname)}),n=e8(n),t.chainList.length===n.length},Ai.prototype.getBoundingBox=function(e){var t=new Tr;return this.partList.forEach(function(n){var r=n.getBoundingBox(e);t.expandByPoint(r.min),t.expandByPoint(r.max)}),t},Ai.prototype.getCenter=function(e){return this.getBoundingBox(e).getCenter(new ee)},Ai.prototype.getSelection=function(){var e=[];return this.partList.forEach(function(t){e=e.concat(t.chainList)}),Ope(e)},Object.defineProperties(Ai.prototype,mK);var nd=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.matrixList=e,this.chainList=t},gK={type:{configurable:!0}};gK.type.get=function(){return"AssemblyPart"},nd.prototype._getCount=function(e,t){var n=this,r=0;return e.eachChain(function(o){(n.chainList.length===0||n.chainList.includes(o.chainname))&&(r+=o[t])}),this.matrixList.length*r},nd.prototype.getAtomCount=function(e){return this._getCount(e,"atomCount")},nd.prototype.getResidueCount=function(e){return this._getCount(e,"residueCount")},nd.prototype.getBoundingBox=function(e){var t=new Tr,n=new Tr,r=this.getSelection(),o=e.getBoundingBox(r);return this.matrixList.forEach(function(i){n.copy(o).applyMatrix4(i),t.expandByPoint(n.min),t.expandByPoint(n.max)}),t},nd.prototype.getSelection=function(){return Ope(this.chainList)},nd.prototype.getView=function(e){var t=this.getSelection();return t?e.getView(t):e},nd.prototype.getInstanceList=function(){for(var e=[],t=0,n=this.matrixList.length;t<n;++t)e.push({id:t+1,name:t,matrix:this.matrixList[t]});return e},Object.defineProperties(nd.prototype,gK);var _M=function(e){this.structure=e,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=void 0,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};function Ipe(e,t){if(t){ot&&Ze.time("assignSecondaryStructure");var n=[];e.eachModel(function(c){c.eachChain(function(u){n.push(u.chainname)})});var r=n.slice().sort(),o=[];r.forEach(function(c){o.push(n.indexOf(c))});var i=t.helices.filter(function(c){return kh(r,c[0])>=0});i.sort(function(c,u){var d=c[0],f=u[0],p=c[1],h=u[1];if(d===f)return p===h?0:p<h?-1:1;var g=kh(r,d),v=kh(r,f);return o[g]<o[v]?-1:1});var a=e.residueStore;e.eachModel(function(c){var u=0,d=i.length;if(d!==0){var f=i[u],p=!1,h=!1;c.eachChain(function(g){var v=!1;if(g.chainname===f[0]){for(var m=g.residueCount,b=g.residueOffset,x=b+m,y=b;y<x;++y)if(a.resno[y]===f[1]&&a.getInscode(y)===f[2]&&(p=!0),p&&(a.sstruc[y]=f[6],a.resno[y]===f[4]&&a.getInscode(y)===f[5]&&(p=!1,(u+=1)<d?(y=b-1,f=i[u],v=g.chainname!==f[0]):h=!0)),v||h)return}})}});var s=t.sheets.filter(function(c){return kh(r,c[0])>=0});s.sort(function(c,u){var d=c[0],f=u[0];if(d===f)return 0;var p=kh(r,d),h=kh(r,f);return o[p]<o[h]?-1:1});var l="e".charCodeAt(0);e.eachModel(function(c){var u=0,d=s.length;if(d!==0){var f=s[u],p=!1,h=!1;c.eachChain(function(g){var v=!1;if(g.chainname===f[0]){for(var m=g.residueCount,b=g.residueOffset,x=b+m,y=b;y<x;++y)if(a.resno[y]===f[1]&&a.getInscode(y)===f[2]&&(p=!0),p&&(a.sstruc[y]=l,a.resno[y]===f[4]&&a.getInscode(y)===f[5]&&(p=!1,(u+=1)<d?(y=b-1,f=s[u],v=g.chainname!==f[0]):h=!0)),v||h)return}})}}),ot&&Ze.timeEnd("assignSecondaryStructure")}}_M.prototype.addResidueType=function(e){for(var t=this.structure.atomStore,n=this.structure.residueStore,r=this.structure.residueMap,o=n.atomCount[e],i=n.atomOffset[e],a=new Array(o),s=0;s<o;++s)a[s]=t.atomTypeId[i+s];n.residueTypeId[e]=r.add(this.previousResname,a,this.previousHetero)},_M.prototype.addAtom=function(e,t,n,r,o,i,a,s){var l=this.structure.atomStore,c=this.structure.residueStore,u=this.structure.chainStore,d=this.structure.modelStore,f=!1,p=!1,h=!1;this.currentModelindex!==e?(f=!0,p=!0,h=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==n?(p=!0,h=!0,this.ci+=1,this.ri+=1):this.currentResno===o&&this.currentResname===r&&this.currentInscode===s||(h=!0,this.ri+=1),this.ai+=1,f&&(d.growIfFull(),d.chainOffset[this.mi]=this.ci,d.chainCount[this.mi]=0,d.count+=1,u.modelIndex[this.ci]=this.mi),p&&(u.growIfFull(),u.setChainname(this.ci,t),u.setChainid(this.ci,n),u.residueOffset[this.ci]=this.ri,u.residueCount[this.ci]=0,u.count+=1,u.modelIndex[this.ci]=this.mi,d.chainCount[this.mi]+=1,c.chainIndex[this.ri]=this.ci),h&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),c.growIfFull(),c.resno[this.ri]=o,a!==void 0&&(c.sstruc[this.ri]=a.charCodeAt(0)),s!==void 0&&(c.inscode[this.ri]=s.charCodeAt(0)),c.atomOffset[this.ri]=this.ai,c.atomCount[this.ri]=0,c.count+=1,c.chainIndex[this.ri]=this.ci,u.residueCount[this.ci]+=1),l.count+=1,l.residueIndex[this.ai]=this.ri,c.atomCount[this.ri]+=1,this.currentModelindex=e,this.currentChainid=n,this.currentResname=r,this.currentResno=o,this.currentInscode=s,this.currentHetero=i},_M.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)};var z$,vK,bK,bk=(z$=function(e,t,n,r){for(var o=e.structure,i=e.residueIndexStart,a=o.getResidueProxy(),s=o.getResidueProxy(),l=o.getAtomProxy(),c=o.getAtomProxy(),u=Math.max(0,t-2);u<=t;++u)for(var d=2;d<5;++d)if(!(u+d>=e.residueCount)){a.index=i+u,s.index=i+u+d,l.index=a.traceAtomIndex,c.index=s.traceAtomIndex;var f=l.distanceTo(c);if(Math.abs(f-n[d-2])>r)return!1}return!0},vK=function(e,t){return z$(e,t,[5.45,5.18,6.37],2.1)},bK=function(e,t){return z$(e,t,[6.1,10.4,13],1.42)},function(e){ot&&Ze.time("calculateSecondaryStructure"),e.eachPolymer(function(t){if(!(t.residueCount<4)){if(t.isCg())(function(o){for(var i=o.residueStore,a=o.residueIndexStart,s=new c8(o).position,l=new ee,c=new ee,u=0,d=o.residueCount;u<d;++u){l.fromArray(s.center,3*u),c.fromArray(s.center,3*u+3);var f=l.distanceTo(c);f<2&&f>1&&s.bending[u]<20&&(i.sstruc[a+u]="h".charCodeAt(0),i.sstruc[a+u+1]="h".charCodeAt(0))}})(t);else{if(!t.isProtein())return;(function(o){for(var i=o.residueStore,a=o.residueIndexStart,s=0,l=o.residueCount;s<l;++s){var c="c";vK(o,s)?c="h":bK(o,s)&&(c="e"),i.sstruc[a+s]=c.charCodeAt(0)}})(t)}var n,r=0;t.eachResidue(function(o){o.sstruc===n?r+=1:(r===1&&(o.index-=1,o.sstruc="c"),r=1,n=o.sstruc)})}}),ot&&Ze.timeEnd("calculateSecondaryStructure")});function a_(e){for(var t=26,n=e,r=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n%t];n>=t;)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[(n=Math.floor(n/t))%t],r+=1;return r>=5&&Ze.warn("chainname overflow"),o}function yk(e,t){t===void 0&&(t=!1),ot&&Ze.time("calculateChainnames");var n=!0;if(e.eachChain(function(h){h.chainname&&(n=!1)}),n){var r=e.modelStore,o=e.chainStore,i=e.residueStore,a=e.getAtomProxy(),s=e.getAtomProxy(),l=0,c=0,u=0,d=0,f=[];i.count===1?f.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):e.eachResidueN(2,function(h,g){var v=!1,m=h.backboneType,b=g.backboneType;d=h.index,h.modelIndex!==g.modelIndex||h.moleculeType!==g.moleculeType?v=!0:m!==0&&m===b&&(a.index=h.backboneEndAtomIndex,s.index=g.backboneStartAtomIndex,v=t?!a.hasBondTo(s):!a.connectedTo(s)),v||g.index!==i.count-1||(v=!0,d=g.index),v&&(f.push({mIndex:c,chainname:a_(l),rStart:u,rCount:d-u+1}),l+=1,h.modelIndex!==g.modelIndex&&(l=0,c+=1),g.index===i.count-1&&d!==g.index&&f.push({mIndex:c,chainname:a_(l),rStart:i.count-1,rCount:1}),u=g.index,d=g.index)}),o.count=0,f.forEach(function(h){(function(g,v,m,b){for(var x=o.count,y=0;y<b;++y)i.chainIndex[m+y]=x;o.growIfFull(),o.modelIndex[x]=g,o.setChainname(x,v),o.setChainid(x,v),o.residueOffset[x]=m,o.residueCount[x]=b,o.count+=1,r.chainCount[g]+=1})(h.mIndex,h.chainname,h.rStart,h.rCount)});var p=0;e.eachModel(function(h){r.chainOffset[h.index]=p,r.chainCount[h.index]-=1,p+=r.chainCount[h.index]})}ot&&Ze.timeEnd("calculateChainnames")}function IE(e){ot&&Ze.time("calculateBonds"),P0(e),M0(e),ot&&Ze.timeEnd("calculateBonds")}var eCt={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CG|OD1":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function yK(e,t,n){var r;return t=(r=t<n?[t,n]:[n,t])[0],n=r[1],mb.includes(e)&&t==="C"&&n==="O"||Px.includes(e)&&t==="OP1"&&n==="P"?2:eCt[e+"|"+t+"|"+n]||1}function P0(e,t){t===void 0&&(t=!1),ot&&Ze.time("calculateBondsWithin");var n=e.bondStore,r=e.rungBondStore,o=e.getAtomSet(!1),i=e.getAtomProxy(),a=e.getAtomProxy(),s=e.getBondProxy(),l=t?null:function(c){ot&&Ze.time("calculateAtomBondMap");var u=[];return c.eachBond(function(d){var f=d.atomIndex1,p=d.atomIndex2;u[f]===void 0&&(u[f]=[]),u[f][p]=d.index}),ot&&Ze.timeEnd("calculateAtomBondMap"),u}(e);e.eachResidue(function(c){if(!t&&l){var u=c.atomCount,d=c.atomOffset;if(u>500)return void Ze.warn("more than 500 atoms, skip residue for auto-bonding",c.qualifiedName());for(var f=c.getBonds(),p=f.atomIndices1,h=f.atomIndices2,g=f.bondOrders,v=p.length,m=0;m<v;++m){var b=p[m],x=h[m],y=b+d,w=x+d,_=l[y];_!==void 0&&_[w]!==void 0?(s.index=_[w],g[c.residueType.getBondIndex(b,x)]=s.bondOrder):(i.index=y,a.index=w,n.addBond(i,a,g[m]))}}var S=c.residueType.traceAtomIndex,P=c.residueType.rungEndAtomIndex;S!==-1&&P!==-1&&(i.index=c.traceAtomIndex,a.index=c.rungEndAtomIndex,r.addBond(i,a),o.set(i.index),o.set(a.index))}),e.atomSetDict.rung=o,ot&&Ze.timeEnd("calculateBondsWithin")}function M0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),ot&&Ze.time("calculateBondsBetween");var r=e.bondStore,o=e.backboneBondStore,i=e.getAtomSet(!1),a=e.getAtomProxy(),s=e.getAtomProxy();function l(f,p){var h=f.backboneType,g=p.backboneType;h!==0&&h===g&&(a.index=f.backboneEndAtomIndex,s.index=p.backboneStartAtomIndex,(n&&a.hasBondTo(s)||a.connectedTo(s))&&(t||r.addBond(a,s,1),a.index=f.traceAtomIndex,s.index=p.traceAtomIndex,o.addBond(a,s),i.set(a.index),i.set(s.index)))}o.count===0&&o.resize(e.residueStore.count),e.eachResidueN(2,l);var c=e.getResidueProxy(),u=e.getResidueProxy();if(e.eachChain(function(f){f.residueCount!==0&&(c.index=f.residueOffset,u.index=f.residueOffset+f.residueCount-1,l(u,c))}),e.atomSetDict.backbone=i,!t){ot&&Ze.time("calculateBondsBetween inter");var d=e.spatialHash;e.eachResidue(function(f){f.backboneType!==0||f.isWater()||f.eachAtom(function(p){p.isMetal()||d.eachWithin(p.x,p.y,p.z,4,function(h){s.index=h,p.modelIndex!==s.modelIndex||p.residueIndex===s.residueIndex||s.isMetal()||r.addBondIfConnected(p,s,1)})})}),ot&&Ze.timeEnd("calculateBondsBetween inter")}ot&&Ze.timeEnd("calculateBondsBetween")}function kE(e){if(e.unitcell){ot&&Ze.time("buildUnitcellAssembly");var t=e.unitcell,n=e.center.clone().applyMatrix4(t.cartToFrac),r=n.clone().floor(),o=function(v){var m=QSt[v],b={};if(m===void 0)return console.warn("spacegroup '"+v+"' not found in symop library"),b;for(var x=[],y=0,w=m.length;y<w;y+=3){for(var _=[],S=0;S<3;++S)_.push(ZSt[m[y+S]]);x.push(_)}return x.forEach(function(P){var M=0,I=new mt().set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),O=I.elements;b[P.toString()]=I,P.forEach(function(L){for(var R=!1,T=!1,E=0,k=L.length;E<k;++E){var B=L[E];if(B==="-")R=!0;else if(B==="+")R=!1;else if(B==="/")T=!0;else if(B==="X")O[0+M]=R?-1:1;else if(B==="Y")O[4+M]=R?-1:1;else if(B==="Z")O[8+M]=R?-1:1;else if(JSt.test(B)){var $=parseInt(B);T?O[12+M]/=$:O[12+M]=$}else Ze.warn("getSymmetryOperations: unknown token '"+B+"'")}M+=1})}),b}(t.spacegroup),i=new ee,a=new ee,s=new Ai("UNITCELL"),l=g(),c=[];if(e.biomolDict.NCS){c.push.apply(c,[new mt].concat(e.biomolDict.NCS.partList[0].matrixList));var u=[];l.forEach(function(v){c.forEach(function(m){u.push(v.clone().multiply(m))})}),s.addPart(u)}else s.addPart(l);var d=new ee,f=new Ai("SUPERCELL"),p=Array.prototype.concat.call(g(d.set(1,0,0)),g(d.set(0,1,0)),g(d.set(0,0,1)),g(d.set(-1,0,0)),g(d.set(0,-1,0)),g(d.set(0,0,-1)),g(d.set(1,1,0)),g(d.set(1,0,1)),g(d.set(0,1,1)),g(d.set(-1,-1,0)),g(d.set(-1,0,-1)),g(d.set(0,-1,-1)),g(d.set(1,-1,-1)),g(d.set(1,1,-1)),g(d.set(1,-1,1)),g(d.set(-1,1,1)),g(d.set(-1,-1,1)),g(d.set(-1,1,-1)),g(d.set(0,1,-1)),g(d.set(0,-1,1)),g(d.set(1,0,-1)),g(d.set(-1,0,1)),g(d.set(1,-1,0)),g(d.set(-1,1,0)),g(),g(d.set(1,1,1)),g(d.set(-1,-1,-1)));if(e.biomolDict.NCS){var h=[];p.forEach(function(v){c.forEach(function(m){h.push(v.clone().multiply(m))})}),f.addPart(h)}else f.addPart(p);e.biomolDict.UNITCELL=s,e.biomolDict.SUPERCELL=f,ot&&Ze.timeEnd("buildUnitcellAssembly")}function g(v){var m=[];return Object.keys(o).forEach(function(b){var x=o[b].clone();i.copy(n).applyMatrix4(x).floor(),a.setFromMatrixPosition(x),a.sub(i),a.add(r),v&&a.add(v),x.setPosition(a),x.multiplyMatrices(t.fracToCart,x),x.multiply(t.cartToFrac),m.push(x)}),m}}var xK=["H","C","O","N","S","P"],tCt=["NA","CL","FE"];function u8(e){var t=e.trim().toUpperCase();parseInt(t.charAt(0))>-1&&(t=t.substr(1)),parseInt(t.charAt(0))>-1&&(t=t.substr(1));var n=t.length;if(n===0)return"";if(n===1)return t;if(n===2){if(tCt.indexOf(t)!==-1)return t;if(xK.indexOf(t[0])!==-1)return t[0]}return n>=3&&xK.indexOf(t[0])!==-1?t[0]:""}function Km(e){var t=e.bondHash,n=t.countArray,r=t.offsetArray,o=t.indexArray,i=e.getBondProxy();e.eachResidue(function(a){var s=a.residueType;if(s.bonds===void 0){var l=a.atomOffset,c=[],u=[],d=[],f={},p=l+a.atomCount;a.eachAtom(function(h){for(var g=h.index,v=r[g],m=0,b=n[g];m<b;++m){i.index=o[v+m];var x=i.atomIndex1;if(!(x<l||x>=p)){var y=i.atomIndex2;if(!(y<l||y>=p)){if(x>y){var w=y;y=x,x=w}var _=x+"|"+y;f[_]===void 0&&(f[_]=!0,c.push(x-l),u.push(y-l),d.push(i.bondOrder))}}}}),s.bonds={atomIndices1:c,atomIndices2:u,bondOrders:d}}})}var nCt=[3,11,19,37,55,87],rCt=[4,12,20,38,56,88],oCt=[6,15,16,34],iCt=[1,7,8,9,17,35,53],aCt=[2,10,18,36,54,86],sCt=[13,30,31,48,49,50,80,81,82,83,84,85,112],lCt=[5,14,32,33,51,52,85],cCt=[9,17,35,53,85],_i=function(e,t,n){this.structure=e,this.atomname=t,n=n||u8(t),this.element=n,this.number=Y_t[n]||0,this.vdw=Z_t[this.number]||2,this.covalent=Q_t[this.number]||1.6};_i.prototype.getDefaultValence=function(){var e=tK[this.number];return e?e[0]:-1},_i.prototype.getValenceList=function(){return tK[this.number]||[]},_i.prototype.getOuterShellElectronCount=function(){return J_t[this.number]||2},_i.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},_i.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},_i.prototype.isMetalloid=function(){return lCt.includes(this.number)},_i.prototype.isHalogen=function(){return cCt.includes(this.number)},_i.prototype.isDiatomicNonmetal=function(){return iCt.includes(this.number)},_i.prototype.isPolyatomicNonmetal=function(){return oCt.includes(this.number)},_i.prototype.isAlkaliMetal=function(){return nCt.includes(this.number)},_i.prototype.isAlkalineEarthMetal=function(){return rCt.includes(this.number)},_i.prototype.isNobleGas=function(){return aCt.includes(this.number)},_i.prototype.isTransitionMetal=function(){var e=this.number;return e>=21&&e<=29||e>=39&&e<=47||e>=72&&e<=79||e>=104&&e<=108},_i.prototype.isPostTransitionMetal=function(){return sCt.includes(this.number)},_i.prototype.isLanthanide=function(){return this.number>=57&&this.number<=71},_i.prototype.isActinide=function(){return this.number>=89&&this.number<=103};var iB=function(e){this.structure=e,this.dict={},this.list=[],this.structure=e};iB.prototype.add=function(e,t){var n=function(i,a){return i+"|"+a}(e=e.toUpperCase(),t=t?t.toUpperCase():u8(e)),r=this.dict[n];if(r===void 0){var o=new _i(this.structure,e,t);r=this.list.length,this.dict[n]=r,this.list.push(o)}return r},iB.prototype.get=function(e){return this.list[e]};var kn=function(e,t,n,r,o,i){this.structure=e,this.bondReferenceAtomIndices=[],this.resname=t,this.atomTypeIdList=n,this.hetero=r?1:0,this.chemCompType=o,this.bonds=i,this.atomCount=n.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var a=gM[this.backboneType],s=gM[this.backboneStartType],l=gM[this.backboneEndType],c=this.getAtomIndexByName(a.trace);this.traceAtomIndex=se(c,-1);var u=this.getAtomIndexByName(a.direction1);this.direction1AtomIndex=se(u,-1);var d=this.getAtomIndexByName(a.direction2);this.direction2AtomIndex=se(d,-1);var f=this.getAtomIndexByName(s.backboneStart);this.backboneStartAtomIndex=se(f,-1);var p,h=this.getAtomIndexByName(l.backboneEnd);this.backboneEndAtomIndex=se(h,-1),p=tSt.includes(t)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=se(p,-1)};kn.prototype.getBackboneIndexList=function(){var e,t=[];switch(this.moleculeType){case 3:e=oSt;break;case 4:case 5:e=hpe;break;default:return t}for(var n=this.structure.atomMap,r=this.atomTypeIdList,o=0,i=this.atomCount;o<i;++o){var a=n.get(r[o]);e.includes(a.atomname)&&t.push(o)}return t},kn.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},kn.prototype.getBackboneType=function(e){return this.hasProteinBackbone(e)?1:this.hasRnaBackbone(e)?2:this.hasDnaBackbone(e)?3:this.hasCgProteinBackbone(e)?4:this.hasCgRnaBackbone(e)?5:this.hasCgDnaBackbone(e)?6:0},kn.prototype.isProtein=function(){return this.chemCompType?W_t.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||mb.includes(this.resname)},kn.prototype.isCg=function(){var e=this.backboneType;return e===4||e===5||e===6},kn.prototype.isNucleic=function(){return this.isRna()||this.isDna()},kn.prototype.isRna=function(){return this.chemCompType?q_t.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||fpe.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"]))},kn.prototype.isDna=function(){return this.chemCompType?X_t.includes(this.chemCompType):this.hetero!==1&&(this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||ppe.includes(this.resname))},kn.prototype.isHetero=function(){return this.hetero===1},kn.prototype.isIon=function(){return nSt.includes(this.resname)},kn.prototype.isWater=function(){return OE.includes(this.resname)},kn.prototype.isSaccharide=function(){return this.chemCompType?lpe.includes(this.chemCompType):rSt.includes(this.resname)},kn.prototype.isStandardAminoacid=function(){return mb.includes(this.resname)},kn.prototype.isStandardBase=function(){return Px.includes(this.resname)},kn.prototype.hasBackboneAtoms=function(e,t){var n=gM[t];return e===-1?this.hasAtomWithName(n.trace,n.backboneEnd,n.direction1,n.direction2):e===0?this.hasAtomWithName(n.trace,n.direction1,n.direction2):e===1?this.hasAtomWithName(n.trace,n.backboneStart,n.direction1,n.direction2):this.hasAtomWithName(n.trace,n.backboneStart,n.backboneEnd,n.direction1,n.direction2)},kn.prototype.hasProteinBackbone=function(e){return this.isProtein()&&this.hasBackboneAtoms(e,1)},kn.prototype.hasRnaBackbone=function(e){return this.isRna()&&this.hasBackboneAtoms(e,2)},kn.prototype.hasDnaBackbone=function(e){return this.isDna()&&this.hasBackboneAtoms(e,3)},kn.prototype.hasCgProteinBackbone=function(e){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(e,4)},kn.prototype.hasCgRnaBackbone=function(e){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(e,5)},kn.prototype.hasCgDnaBackbone=function(e){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(e,6)},kn.prototype.hasBackbone=function(e){return this.hasProteinBackbone(e)||this.hasRnaBackbone(e)||this.hasDnaBackbone(e)||this.hasCgProteinBackbone(e)||this.hasCgRnaBackbone(e)||this.hasCgDnaBackbone(e)},kn.prototype.getAtomIndexByName=function(e){var t=this.atomCount,n=this.structure.atomMap,r=this.atomTypeIdList;if(Array.isArray(e))for(var o=0;o<t;++o){var i=r[o];if(e.includes(n.get(i).atomname))return o}else for(var a=0;a<t;++a){var s=r[a];if(e===n.get(s).atomname)return a}},kn.prototype.hasAtomWithName=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=e.length,r=0;r<n;++r)if(e[r]!==void 0&&this.getAtomIndexByName(e[r])===void 0)return!1;return!0},kn.prototype.getBonds=function(e){return this.bonds===void 0&&(this.bonds=function(t){var n=t.structure,r=n.getAtomProxy(),o=n.getAtomProxy(),i=t.atomCount,a=t.atomOffset,s=a+i-1,l=[],c=[],u=[];if(i>500)ot&&Ze.warn("more than 500 atoms, skip residue for auto-bonding",t.qualifiedName());else if(i>50)for(var d=new Tpe(t,!0),f=t.isCg()?1.2:2.3,p=a;p<s;++p){r.index=p;for(var h=r.covalent+f+.3,g=d.nearest(r,1/0,h*h),v=g.length,m=0;m<v;++m)o.index=g[m].index,r.index<o.index&&r.connectedTo(o)&&(l.push(r.index-a),c.push(o.index-a),u.push(yK(r.resname,r.atomname,o.atomname)))}else for(var b=a;b<s;++b){r.index=b;for(var x=b+1;x<=s;++x)o.index=x,r.connectedTo(o)&&(l.push(b-a),c.push(x-a),u.push(yK(r.resname,r.atomname,o.atomname)))}return{atomIndices1:l,atomIndices2:c,bondOrders:u}}(e)),this.bonds},kn.prototype.getRings=function(){return this.rings===void 0&&this.calculateRings(),this.rings},kn.prototype.getBondGraph=function(){return this.bondGraph===void 0&&this.calculateBondGraph(),this.bondGraph},kn.prototype.getAromatic=function(e){return this.aromaticAtoms===void 0&&this.calculateAromatic(this.structure.getResidueProxy(e.residueIndex)),this.aromaticAtoms},kn.prototype.getAromaticRings=function(e){return this.aromaticRings===void 0&&this.calculateAromatic(e),this.aromaticRings},kn.prototype.calculateBondGraph=function(){for(var e=this.bondGraph={},t=this.getBonds(),n=t.atomIndices1.length,r=t.atomIndices1,o=t.atomIndices2,i=0;i<n;++i){var a=r[i],s=o[i];(e[a]=e[a]||[]).push(s),(e[s]=e[s]||[]).push(a)}},kn.prototype.calculateRings=function(){for(var e=function(n,r){for(var o={count:r,visited:new Int32Array(r),queue:new Int32Array(r),pred:new Int32Array(r),left:new Int32Array(Ax),right:new Int32Array(Ax),color:new Int32Array(r),currentColor:0,rings:[],atomRings:[],bonds:n},i=0;i<r;i++)o.visited[i]=-1,o.pred[i]=-1;return o}(this.getBondGraph(),this.atomCount),t=0;t<e.count;t++)e.visited[t]>=0||fCt(e,t);this.rings={atomRings:e.atomRings,rings:e.rings}},kn.prototype.isAromatic=function(e){return this.aromaticAtoms=this.getAromatic(e),this.aromaticAtoms[e.index-e.residueAtomOffset]===1},kn.prototype.calculateAromatic=function(e){var t=this,n=this.aromaticAtoms=new Uint8Array(this.atomCount),r=this.getRings().rings,o=r.map(function(a){return function(s){if(s.some(function(d){return!uCt.includes(d.number)}))return!1;var l=0,c=new Jn(3,s.length),u=c.data;return s.forEach(function(d){u[l+0]=d.x,u[l+1]=d.y,u[l+2]=d.z,l+=3}),new Mx(c).vecC.length()<.05}(a.map(function(s){return t.structure.getAtomProxy(s+e.atomOffset)}))}),i=this.aromaticRings=[];r.forEach(function(a,s){o[s]&&(i.push(a),a.forEach(function(l){return n[l]=1}))})},kn.prototype.assignBondReferenceAtomIndices=function(){var e=this.getBondGraph(),t=this.getRings(),n=t.atomRings,r=t.rings,o=this.bonds,i=o.atomIndices1,a=o.atomIndices2,s=o.bondOrders,l=this.bondReferenceAtomIndices,c=o.atomIndices1.length;l.length=0;for(var u=0;u<c;++u)if(!(s[u]<=1)){var d=void 0,f=i[u],p=a[u],h=n[f],g=n[p];if(h&&g){for(var v=0;v<h.length;v++)if(g.indexOf(h[v])!==-1){d=r[h[v]];break}}if(e[f].length>1)for(var m=0;m<e[f].length;++m){var b=e[f][m];if(b!==p&&(d===void 0||d.indexOf(b)!==-1)){l[u]=b;break}}else if(e[p].length>1)for(var x=0;x<e[p].length;++x){var y=e[p][x];if(y!==f&&(d===void 0||d.indexOf(y)!==-1)){l[u]=y;break}}}},kn.prototype.getBondIndex=function(e,t){for(var n=this.bonds,r=n.atomIndices1,o=n.atomIndices2,i=r.indexOf(e),a=o.indexOf(t),s=a;i!==-1;){for(;a!==-1;){if(i===a)return i;a=o.indexOf(t,a+1)}i=r.indexOf(e,i+1),a=s}},kn.prototype.getBondReferenceAtomIndex=function(e,t){var n=this.getBondIndex(e,t);if(n!==void 0)return this.bondReferenceAtomIndices.length===0&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[n]};var uCt=[5,6,7,8,14,15,16,32,33,50,51,83];function dCt(e,t,n){if(!(n<t)){for(var r=e.pred,o=e.color,i=e.left,a=e.right,s=++e.currentColor,l=t,c=0;c<Ax&&(o[l]=s,!((l=r[l])<0));c++);var u=0,d=0,f=!1,p=0;l=n;for(var h=0;h<Ax;h++){if(o[l]===s){p=l,f=!0;break}if(a[d++]=l,(l=r[l])<0)break}if(f){l=t;for(var g=0;g<Ax&&(i[u++]=l,p!==l)&&!((l=r[l])<0);g++);for(var v=u+d,m=new Array(v),b=0,x=0;x<u;x++)m[b++]=i[x];for(var y=d-1;y>=0;y--)m[b++]=a[y];for(var w=e.rings.length,_=0;_<v;++_){var S=m[_];e.atomRings[S]?e.atomRings[S].push(w):e.atomRings[S]=[w]}e.rings.push(m)}}}function fCt(e,t){var n=e.bonds,r=e.visited,o=e.queue,i=e.pred;r[t]=1,o[0]=t;for(var a=0,s=1;a<s;){var l=o[a++];if(n[l]!==void 0)for(var c=n[l].length,u=0;u<c;u++){var d=n[l][u];r[d]>0?i[d]!==l&&i[l]!==d&&dCt(e,l,d):(r[d]=1,o[s++]=d,i[d]=l)}}}var Ax=4,aB=function(e){this.structure=e,this.dict={},this.list=[]};aB.prototype.add=function(e,t,n,r,o){r===void 0&&(r="");var i=function(l,c,u,d){return d===void 0&&(d=""),l+"|"+c.join(",")+"|"+(u?1:0)+"|"+d}(e=e.toUpperCase(),t,n,r),a=this.dict[i];if(a===void 0){var s=new kn(this.structure,e,t,n,r,o);a=this.list.length,this.dict[i]=a,this.list.push(s)}return a},aB.prototype.get=function(e){return this.list[e]};var Vc=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.bondStore=e.bondStore,this._v12=new ee,this._v13=new ee,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},Ju={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};Ju.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},Ju.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},Ju.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},Ju.atomIndex1.set=function(e){this.bondStore.atomIndex1[this.index]=e},Ju.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},Ju.atomIndex2.set=function(e){this.bondStore.atomIndex2[this.index]=e},Ju.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},Ju.bondOrder.set=function(e){this.bondStore.bondOrder[this.index]=e},Vc.prototype.getOtherAtomIndex=function(e){return e===this.atomIndex1?this.atomIndex2:this.atomIndex1},Vc.prototype.getOtherAtom=function(e){return this.structure.getAtomProxy(this.getOtherAtomIndex(e.index))},Vc.prototype.getReferenceAtomIndex=function(){var e=this._ap1,t=this._ap2;if(e.index=this.atomIndex1,t.index=this.atomIndex2,e.residueIndex===t.residueIndex){var n=e.index-e.residueAtomOffset,r=t.index-t.residueAtomOffset,o=e.residueType.getBondReferenceAtomIndex(n,r);if(o!==void 0)return o+e.residueAtomOffset;console.warn("No reference atom found",e.index,t.index)}},Vc.prototype.calculateShiftDir=function(e){e===void 0&&(e=new ee);var t=this._ap1,n=this._ap2,r=this._ap3,o=this._v12,i=this._v13;t.index=this.atomIndex1,n.index=this.atomIndex2;var a=this.getReferenceAtomIndex();o.subVectors(t,n).normalize(),a!==void 0?(r.index=a,i.subVectors(t,r)):i.copy(t),i.normalize();var s=o.dot(i);return 1-Math.abs(s)<1e-5&&(i.set(1,0,0),s=o.dot(i),1-Math.abs(s)<1e-5&&(i.set(0,1,0),s=o.dot(i))),e.copy(i.sub(o.multiplyScalar(s))).normalize()},Vc.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Vc.prototype.clone=function(){return new Vc(this.structure,this.index)},Vc.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Vc.prototype,Ju);var Bn=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueMap=e.residueMap,this.atomMap=e.atomMap},Ln={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0}};Ln.entity.get=function(){return this.structure.entityList[this.entityIndex]},Ln.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},Ln.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},Ln.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},Ln.chainIndex.set=function(e){this.residueStore.chainIndex[this.index]=e},Ln.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},Ln.atomOffset.set=function(e){this.residueStore.atomOffset[this.index]=e},Ln.atomCount.get=function(){return this.residueStore.atomCount[this.index]},Ln.atomCount.set=function(e){this.residueStore.atomCount[this.index]=e},Ln.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},Ln.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},Ln.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Ln.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},Ln.resno.get=function(){return this.residueStore.resno[this.index]},Ln.resno.set=function(e){this.residueStore.resno[this.index]=e},Ln.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},Ln.sstruc.set=function(e){this.residueStore.setSstruc(this.index,e)},Ln.inscode.get=function(){return this.residueStore.getInscode(this.index)},Ln.inscode.set=function(e){this.residueStore.setInscode(this.index,e)},Ln.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},Ln.resname.get=function(){return this.residueType.resname},Ln.hetero.get=function(){return this.residueType.hetero},Ln.moleculeType.get=function(){return this.residueType.moleculeType},Ln.backboneType.get=function(){return this.residueType.backboneType},Ln.backboneStartType.get=function(){return this.residueType.backboneStartType},Ln.backboneEndType.get=function(){return this.residueType.backboneEndType},Ln.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},Ln.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},Ln.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},Ln.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},Ln.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},Ln.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},Ln.x.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.x[t];return e/this.atomCount},Ln.y.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.y[t];return e/this.atomCount},Ln.z.get=function(){for(var e=0,t=this.atomOffset;t<=this.atomEnd;++t)e+=this.atomStore.z[t];return e/this.atomCount},Bn.prototype.eachAtom=function(e,t){var n=this.atomCount,r=this.atomOffset,o=this.structure._ap,i=r+n;if(t&&t.atomOnlyTest)for(var a=t.atomOnlyTest,s=r;s<i;++s)o.index=s,a(o)&&e(o);else for(var l=r;l<i;++l)o.index=l,e(o)},Bn.prototype.positionToArray=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t+0]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},Bn.prototype.isProtein=function(){return this.residueType.moleculeType===3},Bn.prototype.isNucleic=function(){var e=this.residueType.moleculeType;return e===4||e===5},Bn.prototype.isRna=function(){return this.residueType.moleculeType===4},Bn.prototype.isDna=function(){return this.residueType.moleculeType===5},Bn.prototype.isCg=function(){var e=this.residueType.backboneType;return e===4||e===5||e===6},Bn.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var e=this.residueType.moleculeType;return e===3||e===4||e===5},Bn.prototype.isHetero=function(){return this.residueType.hetero===1},Bn.prototype.isWater=function(){return this.residueType.moleculeType===1},Bn.prototype.isIon=function(){return this.residueType.moleculeType===2},Bn.prototype.isSaccharide=function(){return this.residueType.moleculeType===6},Bn.prototype.isStandardAminoacid=function(){return this.residueType.isStandardAminoacid()},Bn.prototype.isStandardBase=function(){return this.residueType.isStandardBase()},Bn.prototype.isHelix=function(){return cpe.includes(this.sstruc)},Bn.prototype.isSheet=function(){return upe.includes(this.sstruc)},Bn.prototype.isTurn=function(){return dpe.includes(this.sstruc)&&this.isProtein()},Bn.prototype.getAtomType=function(e){return this.atomMap.get(this.atomStore.atomTypeId[e])},Bn.prototype.getResname1=function(){return TE[this.resname.toUpperCase()]||"X"},Bn.prototype.getBackboneType=function(e){switch(e){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},Bn.prototype.getAtomIndexByName=function(e){var t=this.residueType.getAtomIndexByName(e);return t!==void 0&&(t+=this.atomOffset),t},Bn.prototype.hasAtomWithName=function(e){return this.residueType.hasAtomWithName(e)},Bn.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var e=this.atomCount,t=this.atomOffset,n=new Array(e),r=0;r<e;++r)n[r]=this.getAtomType(t+r).atomname;return n},Bn.prototype.connectedTo=function(e){var t=this.structure.getAtomProxy(this.backboneEndAtomIndex),n=this.structure.getAtomProxy(e.backboneStartAtomIndex);return!(!t||!n)&&t.connectedTo(n)},Bn.prototype.getNextConnectedResidue=function(){var e=this.chainStore.residueOffset[this.chainIndex],t=this.chainStore.residueCount[this.chainIndex],n=this.index+1;if(n<e+t){var r=this.structure.getResidueProxy(n);if(this.connectedTo(r))return r}else if(n===e+t){var o=this.structure.getResidueProxy(e);if(this.connectedTo(o))return o}},Bn.prototype.getPreviousConnectedResidue=function(e){var t=this.chainStore.residueOffset[this.chainIndex],n=this.index-1;if(n>=t){var r=se(e,this.structure.getResidueProxy());if(r.index=n,r.connectedTo(this))return r}else if(n===t-1){var o=this.chainStore.residueCount[this.chainIndex],i=se(e,this.structure.getResidueProxy());if(i.index=t+o-1,i.connectedTo(this))return i}},Bn.prototype.getBonds=function(){return this.residueType.getBonds(this)},Bn.prototype.getRings=function(){return this.residueType.getRings()},Bn.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},Bn.prototype.qualifiedName=function(e){e===void 0&&(e=!1);var t="";return this.resname&&!e&&(t+="["+this.resname+"]"),this.resno!==void 0&&(t+=this.resno),this.inscode&&(t+="^"+this.inscode),this.chain&&(t+=":"+this.chainname),t+="/"+this.modelIndex},Bn.prototype.clone=function(){return new Bn(this.structure,this.index)},Bn.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(Bn.prototype,Ln);var ja=function(e,t,n){this.structure=e,this.residueIndexStart=t,this.residueIndexEnd=n,this.chainStore=e.chainStore,this.residueStore=e.residueStore,this.atomStore=e.atomStore,this.residueCount=n-t+1;var r=this.structure.getResidueProxy(this.residueIndexStart),o=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=r.getPreviousConnectedResidue()!==void 0;var i=o.getNextConnectedResidue();this.isNextConnected=i!==void 0,this.isNextNextConnected=i!==void 0&&i.getNextConnectedResidue()!==void 0,this.isCyclic=o.connectedTo(r),this.__residueProxy=this.structure.getResidueProxy()},uP={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};uP.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},uP.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},uP.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},ja.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},ja.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},ja.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},ja.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},ja.prototype.getBackboneType=function(e){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(e)},ja.prototype.getAtomIndexByType=function(e,t){this.isCyclic?e===-1?e=this.residueCount-1:e===this.residueCount&&(e=0):(e!==-1||this.isPrevConnected||(e+=1),e!==this.residueCount||this.isNextNextConnected||(e-=1));var n,r=this.__residueProxy;switch(r.index=this.residueIndexStart+e,t){case"trace":n=r.traceAtomIndex;break;case"direction1":n=r.direction1AtomIndex;break;case"direction2":n=r.direction2AtomIndex;break;default:n=r.getAtomIndexByName(t)}return n},ja.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)})},ja.prototype.eachAtomN=function(e,t,n){for(var r=this.residueCount,o=new Array(e),i=0;i<e;++i)o[i]=this.structure.getAtomProxy(this.getAtomIndexByType(i,n));t.apply(this,o);for(var a=e;a<r;++a){for(var s=1;s<e;++s)o[s-1].index=o[s].index;o[e-1].index=this.getAtomIndexByType(a,n),t.apply(this,o)}},ja.prototype.eachResidue=function(e){for(var t=this.structure.getResidueProxy(),n=this.residueCount,r=this.residueIndexStart,o=0;o<n;++o)t.index=r+o,e(t)},ja.prototype.qualifiedName=function(){var e=this.structure.getResidueProxy(this.residueIndexStart),t=this.structure.getResidueProxy(this.residueIndexEnd);return e.qualifiedName()+" - "+t.qualifiedName()},Object.defineProperties(ja.prototype,uP);var Uc=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.chainStore=e.chainStore,this.residueStore=e.residueStore},Wo={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};Wo.entity.get=function(){return this.structure.entityList[this.entityIndex]},Wo.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},Wo.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},Wo.entityIndex.set=function(e){this.chainStore.entityIndex[this.index]=e},Wo.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},Wo.modelIndex.set=function(e){this.chainStore.modelIndex[this.index]=e},Wo.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},Wo.residueOffset.set=function(e){this.chainStore.residueOffset[this.index]=e},Wo.residueCount.get=function(){return this.chainStore.residueCount[this.index]},Wo.residueCount.set=function(e){this.chainStore.residueCount[this.index]=e},Wo.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},Wo.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},Wo.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},Wo.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Wo.chainname.get=function(){return this.chainStore.getChainname(this.index)},Wo.chainname.set=function(e){this.chainStore.setChainname(this.index,e)},Wo.chainid.get=function(){return this.chainStore.getChainid(this.index)},Wo.chainid.set=function(e){this.chainStore.setChainid(this.index,e)},Uc.prototype.eachAtom=function(e,t){this.eachResidue(function(n){n.eachAtom(e,t)},t)},Uc.prototype.eachResidue=function(e,t){var n=this.residueCount,r=this.residueOffset,o=this.structure._rp,i=r+n;if(t&&t.test){var a=t.residueOnlyTest;if(a)for(var s=r;s<i;++s)o.index=s,a(o)&&e(o);else for(var l=r;l<i;++l)o.index=l,e(o)}else for(var c=r;c<i;++c)o.index=c,e(o)},Uc.prototype.eachResidueN=function(e,t){var n=this.residueCount,r=this.residueOffset,o=r+n;if(!(n<e)){for(var i=new Array(e),a=0;a<e;++a)i[a]=this.structure.getResidueProxy(r+a);t.apply(this,i);for(var s=r+e;s<o;++s){for(var l=0;l<e;++l)i[l].index+=1;t.apply(this,i)}}},Uc.prototype.eachPolymer=function(e,t){for(var n=0,r=0,o=t?t.residueOnlyTest:void 0,i=this.model.structure,a=this.residueCount,s=this.residueOffset,l=s+a,c=this.structure.getResidueProxy(),u=this.structure.getResidueProxy(s),d=this.structure.getAtomProxy(),f=this.structure.getAtomProxy(),p=!0,h=s+1;h<l;++h){c.index=u.index,u.index=h;var g=p?c.backboneEndType:c.backboneType,v=u.backboneType;p&&(n=c.index,p=!1),r=u.index,g!==0&&g===v?(d.index=c.backboneEndAtomIndex,f.index=u.backboneStartAtomIndex,d&&f&&d.connectedTo(f)&&(!o||o(c)&&o(u))||(c.index-n>1&&e(new ja(i,n,c.index)),n=r)):(g!==0&&c.index-n>1&&e(new ja(i,n,c.index)),n=r)}r-n>1&&this.structure.getResidueProxy(n).backboneEndType&&e(new ja(i,n,r))},Uc.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},Uc.prototype.clone=function(){return new Uc(this.structure,this.index)},Uc.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(Uc.prototype,Wo);var Gc=function(e,t){t===void 0&&(t=0),this.structure=e,this.index=t,this.modelStore=e.modelStore,this.chainStore=e.chainStore,this.residueStore=e.residueStore},el={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};el.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},el.chainOffset.set=function(e){this.modelStore.chainOffset[this.index]=e},el.chainCount.get=function(){return this.modelStore.chainCount[this.index]},el.chainCount.set=function(e){this.modelStore.chainCount[this.index]=e},el.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},el.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},el.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},el.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},el.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},el.residueCount.get=function(){return this.chainCount===0?0:this.residueEnd-this.residueOffset+1},el.atomCount.get=function(){return this.residueCount===0?0:this.atomEnd-this.atomOffset+1},Gc.prototype.eachAtom=function(e,t){this.eachChain(function(n){n.eachAtom(e,t)},t)},Gc.prototype.eachResidue=function(e,t){this.eachChain(function(n){n.eachResidue(e,t)},t)},Gc.prototype.eachPolymer=function(e,t){if(t&&t.chainOnlyTest){var n=t.chainOnlyTest;this.eachChain(function(r){n(r)&&r.eachPolymer(e,t)})}else this.eachChain(function(r){r.eachPolymer(e,t)})},Gc.prototype.eachChain=function(e,t){var n=this.chainCount,r=this.chainOffset,o=this.structure._cp,i=r+n;if(t&&t.test){var a=t.chainOnlyTest;if(a)for(var s=r;s<i;++s)o.index=s,a(o)&&e(o);else for(var l=r;l<i;++l)o.index=l,e(o)}else for(var c=r;c<i;++c)o.index=c,e(o)},Gc.prototype.qualifiedName=function(){return"/"+this.index},Gc.prototype.clone=function(){return new Gc(this.structure,this.index)},Gc.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(Gc.prototype,el);var tn=function(e,t){e===void 0&&(e=""),t===void 0&&(t=""),this.signals={refreshed:new un.Signal},this.init(e,t)},wK={type:{configurable:!0}};tn.prototype.init=function(e,t){this.name=e,this.path=t,this.title="",this.id="",this.data={structure:this,"@spatialLookup":void 0,"@valenceModel":void 0},this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new wM(0),this.backboneBondStore=new wM(0),this.rungBondStore=new wM(0),this.atomStore=new WSt(0),this.residueStore=new qSt(0),this.chainStore=new XSt(0),this.modelStore=new KSt(0),this.atomMap=new iB(this),this.residueMap=new aB(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new ee,this.boundingBox=new Tr,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},wK.type.get=function(){return"Structure"},tn.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(new ee),this.spatialHash=new Xm(this.atomStore,this.boundingBox)},tn.prototype.finalizeBonds=function(){for(var e in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new GSt(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),this.atomSetDict)this.atomSetCache["__"+e]=this.atomSetDict[e].clone()},tn.prototype.getBondProxy=function(e){return new Vc(this,e)},tn.prototype.getAtomProxy=function(e){return new Ut(this,e)},tn.prototype.getResidueProxy=function(e){return new Bn(this,e)},tn.prototype.getChainProxy=function(e){return new Uc(this,e)},tn.prototype.getModelProxy=function(e){return new Gc(this,e)},tn.prototype.getBondSet=function(){var e=this.bondStore.count,t=new ln(e),n=this.atomSet;if(n)if(n.isAllSet())t.setAll();else if(n.isAllClear())t.clearAll();else for(var r=this.getBondProxy(),o=0;o<e;++o)r.index=o,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index);else t.setAll();return t},tn.prototype.getBackboneBondSet=function(){var e=this.backboneBondStore.count,t=new ln(e),n=this.atomSetCache.__backbone;if(n){var r=this.getBondProxy();r.bondStore=this.backboneBondStore;for(var o=0;o<e;++o)r.index=o,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index)}else t.setAll();return t},tn.prototype.getRungBondSet=function(){var e=this.rungBondStore.count,t=new ln(e),n=this.atomSetCache.__rung;if(n){var r=this.getBondProxy();r.bondStore=this.rungBondStore;for(var o=0;o<e;++o)r.index=o,n.isSet(r.atomIndex1,r.atomIndex2)&&t.set(r.index)}else t.setAll();return t},tn.prototype.getAtomSet=function(e){var t=this.atomStore.count;if(e===void 0)return new ln(t,!0);if(e instanceof ln)return e;if(e===!0)return new ln(t,!0);if(e&&e.test){var n=e.string;if(n in this.atomSetCache)return this.atomSetCache[n];if(n==="")return new ln(t,!0);var r=new ln(t);return this.eachAtom(function(o){r.set(o.index)},e),this.atomSetCache[n]=r,r}return e===!1?new ln(t):new ln(t,!0)},tn.prototype.getAtomSetWithinSelection=function(e,t){var n=this.spatialHash,r=this.getAtomSet(!1),o=this.getAtomProxy();return n&&this.getAtomSet(e).forEach(function(i){o.index=i,n.within(o.x,o.y,o.z,t).forEach(function(a){r.set(a)})}),r},tn.prototype.getAtomSetWithinPoint=function(e,t){var n=e,r=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(n.x,n.y,n.z,t).forEach(function(o){r.set(o)}),r},tn.prototype.getAtomSetWithinVolume=function(e,t,n,r,o){var i=new il(e,n,r,o),a=i.getDataPosition(),s=a.length,l=i.matrix.getMaxScaleOnAxis(),c=this.getAtomSet(!1);if(!this.spatialHash)return c;for(var u=0;u<s;u+=3)this.spatialHash.within(a[u],a[u+1],a[u+2],l).forEach(function(d){c.set(d)});return c},tn.prototype.getAtomSetWithinGroup=function(e){var t=this.atomStore.residueIndex,n=this.getAtomSet(!1),r=this.getResidueProxy();return this.getAtomSet(e).forEach(function(o){r.index=t[o];for(var i=r.atomOffset;i<=r.atomEnd;++i)n.set(i)}),n},tn.prototype.getSelection=function(){},tn.prototype.getStructure=function(){return this},tn.prototype.eachEntity=function(e,t){this.entityList.forEach(function(n){t!==void 0&&n.getEntityType()!==t||e(n)})},tn.prototype.eachBond=function(e,t){var n,r=this.getBondProxy();if(t&&t.test&&(n=this.getBondSet(),this.bondSet&&n.intersection(this.bondSet)),n)n.forEach(function(a){r.index=a,e(r)});else for(var o=this.bondStore.count,i=0;i<o;++i)r.index=i,e(r)},tn.prototype.eachAtom=function(e,t){if(t&&t.test)this.eachModel(function(i){i.eachAtom(e,t)},t);else for(var n=this.atomStore.count,r=this.getAtomProxy(),o=0;o<n;++o)r.index=o,e(r)},tn.prototype.eachResidue=function(e,t){if(t&&t.test){var n=this.modelStore.count,r=this.getModelProxy(),o=t.modelOnlyTest;if(o)for(var i=0;i<n;++i)r.index=i,o(r)&&r.eachResidue(e,t);else for(var a=0;a<n;++a)r.index=a,r.eachResidue(e,t)}else for(var s=this.residueStore.count,l=this.getResidueProxy(),c=0;c<s;++c)l.index=c,e(l)},tn.prototype.eachResidueN=function(e,t){var n=this.residueStore.count;if(!(n<e)){for(var r=new Array(e),o=0;o<e;++o)r[o]=this.getResidueProxy(o);t.apply(this,r);for(var i=e;i<n;++i){for(var a=0;a<e;++a)r[a].index+=1;t.apply(this,r)}}},tn.prototype.eachPolymer=function(e,t){if(t&&t.modelOnlyTest){var n=t.modelOnlyTest;this.eachModel(function(r){n(r)&&r.eachPolymer(e,t)})}else this.eachModel(function(r){r.eachPolymer(e,t)})},tn.prototype.eachChain=function(e,t){if(t&&t.test)this.eachModel(function(i){i.eachChain(e,t)});else for(var n=this.chainStore.count,r=this.getChainProxy(),o=0;o<n;++o)r.index=o,e(r)},tn.prototype.eachModel=function(e,t){var n=this.modelStore.count,r=this.getModelProxy();if(t&&t.test){var o=t.modelOnlyTest;if(o)for(var i=0;i<n;++i)r.index=i,o(r)&&e(r);else for(var a=0;a<n;++a)r.index=a,e(r)}else for(var s=0;s<n;++s)r.index=s,e(r)},tn.prototype.getAtomData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,r,o=t.what,i=se(t.atomSet,this.atomSet),a={},s=this.getAtomProxy(),l=i.getSize();o&&!o.position||(a.position=new Float32Array(3*l)),o&&!o.color||!t.colorParams||(a.color=new Float32Array(3*l),r=Cn.getScheme(t.colorParams)),o&&!o.picking||(a.picking=new _g(new Float32Array(l),this.getStructure())),o&&!o.radius||(a.radius=new Float32Array(l),n=new Iu(t.radiusParams)),o&&!o.index||(a.index=new Uint32Array(l));var c=a.position,u=a.color,d=a.picking,f=a.radius,p=a.index;return i.forEach(function(h,g){var v=3*g;s.index=h,c&&s.positionToArray(c,v),u&&r.atomColorToArray(s,u,v),d&&(d.array[g]=h),f&&(f[g]=n.atomRadius(s)),p&&(p[g]=h)}),a},tn.prototype.getBondData=function(e){var t=Object.assign({},e);t.colorParams&&(t.colorParams.structure=this.getStructure());var n,r,o=t.what,i=se(t.bondSet,this.bondSet),a=se(t.multipleBond,"off"),s=a!=="off",l=a==="offset",c=se(t.bondScale,.4),u=se(t.bondSpacing,1),d={},f=this.getBondProxy();t.bondStore&&(f.bondStore=t.bondStore);var p,h=this.getAtomProxy(),g=this.getAtomProxy();if(s){var v=f.bondStore.bondOrder;p=0,i.forEach(function($){p+=v[$]})}else p=i.getSize();o&&!o.position||(d.position1=new Float32Array(3*p),d.position2=new Float32Array(3*p)),o&&!o.color||!t.colorParams||(d.color=new Float32Array(3*p),d.color2=new Float32Array(3*p),r=Cn.getScheme(t.colorParams)),o&&!o.picking||(d.picking=new gpe(new Float32Array(p),this.getStructure(),t.bondStore)),(!o||o.radius||s&&o.position)&&(n=new Iu(t.radiusParams)),o&&!o.radius||(d.radius=new Float32Array(p),t.radius2&&(d.radius2=new Float32Array(p)));var m,b,x,y,w,_,S=d.position1,P=d.position2,M=d.color,I=d.color2,O=d.picking,L=d.radius,R=d.radius2,T=0,E=new ee,k=new ee,B=new ee;return i.forEach(function($){if(b=3*T,f.index=$,h.index=f.atomIndex1,g.index=f.atomIndex2,y=f.bondOrder,S)if(s&&y>1){var j=n.atomRadius(h);_=j*c/(.5*y),f.calculateShiftDir(B),l?(w=2*u*j,B.multiplyScalar(w),B.negate(),k.subVectors(g,h).multiplyScalar(Math.max(.1,w/1.88)),h.positionToArray(S,b),g.positionToArray(P,b),y>=2&&(E.addVectors(h,B).add(k).toArray(S,b+3),E.addVectors(g,B).sub(k).toArray(P,b+3),y>=3&&(E.subVectors(h,B).add(k).toArray(S,b+6),E.subVectors(g,B).sub(k).toArray(P,b+6)))):(w=(u-c)*j,B.multiplyScalar(w),y===2?(E.addVectors(h,B).toArray(S,b),E.subVectors(h,B).toArray(S,b+3),E.addVectors(g,B).toArray(P,b),E.subVectors(g,B).toArray(P,b+3)):y===3?(h.positionToArray(S,b),E.addVectors(h,B).toArray(S,b+3),E.subVectors(h,B).toArray(S,b+6),g.positionToArray(P,b),E.addVectors(g,B).toArray(P,b+3),E.subVectors(g,B).toArray(P,b+6)):(h.positionToArray(S,b),g.positionToArray(P,b)))}else h.positionToArray(S,b),g.positionToArray(P,b);if(M&&I&&(r.bondColorToArray(f,1,M,b),r.bondColorToArray(f,0,I,b),s&&y>1))for(m=1;m<y;++m)kX(M,b,x=3*m+b,3),kX(I,b,x,3);if(O&&O.array&&(O.array[T]=$,s&&y>1))for(m=1;m<y;++m)O.array[T+m]=$;if(L&&(L[T]=n.atomRadius(h),s&&y>1))for(_=L[T]*c/(l?1:.5*y),m=l?1:0;m<y;++m)L[T+m]=_;if(R&&(R[T]=n.atomRadius(g),s&&y>1))for(_=R[T]*c/(l?1:.5*y),m=l?1:0;m<y;++m)R[T+m]=_;T+=s?y:1}),d},tn.prototype.getBackboneAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__backbone},e),this.getAtomData(e)},tn.prototype.getBackboneBondData=function(e){return e=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},e),this.getBondData(e)},tn.prototype.getRungAtomData=function(e){return e=Object.assign({atomSet:this.atomSetCache.__rung},e),this.getAtomData(e)},tn.prototype.getRungBondData=function(e){return e=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},e),this.getBondData(e)},tn.prototype.getBoundingBox=function(e,t){ot&&Ze.time("getBoundingBox"),t=t||new Tr;var n=1/0,r=1/0,o=1/0,i=-1/0,a=-1/0,s=-1/0;return this.eachAtom(function(l){var c=l.x,u=l.y,d=l.z;c<n&&(n=c),u<r&&(r=u),d<o&&(o=d),c>i&&(i=c),u>a&&(a=u),d>s&&(s=d)},e),t.min.set(n,r,o),t.max.set(i,a,s),ot&&Ze.timeEnd("getBoundingBox"),t},tn.prototype.getPrincipalAxes=function(e){ot&&Ze.time("getPrincipalAxes");var t=0,n=new Jn(3,this.atomCount),r=n.data;return this.eachAtom(function(o){r[t+0]=o.x,r[t+1]=o.y,r[t+2]=o.z,t+=3},e),ot&&Ze.timeEnd("getPrincipalAxes"),new Mx(n)},tn.prototype.atomCenter=function(e){return e?this.getBoundingBox(e).getCenter(new ee):this.center.clone()},tn.prototype.hasCoords=function(){if(this._hasCoords===void 0){var e=this.atomStore;this._hasCoords=fM(e.x)!==0||dM(e.x)!==0||fM(e.y)!==0||dM(e.y)!==0||fM(e.z)!==0||dM(e.z)!==0||e.count/this.modelStore.count==1}return this._hasCoords},tn.prototype.getSequence=function(e){var t=[],n=this.getResidueProxy();return this.eachAtom(function(r){n.index=r.residueIndex,r.index===n.traceAtomIndex&&t.push(n.getResname1())},e),t},tn.prototype.getAtomIndices=function(e){if(e&&e.string){var t=[];return this.eachAtom(function(n){t.push(n.index)},e),new Uint32Array(t)}return this.getAtomData({what:{index:!0}}).index},tn.prototype.getChainnameCount=function(e){var t=new Set;return this.eachChain(function(n){n.residueCount&&t.add(n.chainname)},e),t.size},tn.prototype.updatePosition=function(e){var t=0;this.eachAtom(function(n){n.positionFromArray(e,t),t+=3},void 0),this._hasCoords=void 0},tn.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new Xm(this.atomStore,this.boundingBox)},tn.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondSet,delete this.atomSet},Object.defineProperties(tn.prototype,wK);var _K=new Tr,sB=[mk,Wm,gk,qm,Iy,pk,Oy,hk,EE,vk,n_,r_],pCt={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,dashedCylinder:!1,labelParams:{},pointSize:2,sizeAttenuation:!1,useTexture:!0,linewidth:2},qo=function(e,t){var n=this;e===void 0&&(e="shape"),t===void 0&&(t={}),this.boundingBox=new Tr,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=e,this.parameters=Ws(t,pCt),sB.forEach(function(r){Object.keys(r.fields).forEach(function(o){n._primitiveData[r.getShapeKey(o)]=[]}),n._primitiveData[r.getShapeKey("name")]=[]})},H$={center:{configurable:!0},type:{configurable:!0}};qo.prototype.addBuffer=function(e){this.bufferList.push(e);var t=e.geometry;return t.boundingBox||t.computeBoundingBox(),this.boundingBox.union(t.boundingBox),this},qo.prototype.addMesh=function(e,t,n,r,o){var i;e=g$(e),t=g$(t),Array.isArray(n)&&(n=Ou(n,e.length)),r&&(r=g$(r)),i=r===void 0||r.length==0?{position:e,color:t,index:n}:{position:e,color:t,index:n,normal:r};var a=new ISt(this,Object.assign({serial:this.meshCount,name:o},i)),s=new Wd(Object.assign({picking:a},i));return this.bufferList.push(s),_K.setFromArray(e),this.boundingBox.union(_K),this.meshCount+=1,this},qo.prototype.addSphere=function(e,t,n,r){return Oy.objectToShape(this,{position:e,color:t,radius:n,name:r}),this},qo.prototype.addEllipsoid=function(e,t,n,r,o,i){return Iy.objectToShape(this,{position:e,color:t,radius:n,majorAxis:r,minorAxis:o,name:i}),this},qo.prototype.addTorus=function(e,t,n,r,o,i){return vk.objectToShape(this,{position:e,color:t,radius:n,majorAxis:r,minorAxis:o,name:i}),this},qo.prototype.addCylinder=function(e,t,n,r,o){return qm.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:o}),this},qo.prototype.addCone=function(e,t,n,r,o){return gk.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:o}),this},qo.prototype.addArrow=function(e,t,n,r,o){return mk.objectToShape(this,{position1:e,position2:t,color:n,radius:r,name:o}),this},qo.prototype.addBox=function(e,t,n,r,o,i){return Wm.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:o,name:i}),this},qo.prototype.addOctahedron=function(e,t,n,r,o,i){return pk.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:o,name:i}),this},qo.prototype.addTetrahedron=function(e,t,n,r,o,i){return hk.objectToShape(this,{position:e,color:t,size:n,heightAxis:r,depthAxis:o,name:i}),this},qo.prototype.addText=function(e,t,n,r){return EE.objectToShape(this,{position:e,color:t,size:n,text:r}),this},qo.prototype.addPoint=function(e,t,n){return n_.objectToShape(this,{position:e,color:t,name:n}),this},qo.prototype.addWideline=function(e,t,n,r,o){return this.parameters.linewidth=r,r_.objectToShape(this,{position1:e,position2:t,color:n,name:o}),this},qo.prototype.addLabel=function(e,t,n,r){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(e,t,n,r)},qo.prototype.getBufferList=function(){var e=this,t=[];return sB.forEach(function(n){e._primitiveData[n.getShapeKey("color")].length&&t.push(n.bufferFromShape(e,e.parameters))}),this.bufferList.concat(t)},qo.prototype.dispose=function(){var e=this;this.bufferList.forEach(function(t){t.dispose()}),this.bufferList.length=0,sB.forEach(function(t){Object.keys(t.fields).forEach(function(n){e._primitiveData[t.getShapeKey(n)].length=0}),e._primitiveData[t.getShapeKey("name")].length=0})},H$.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter(new ee)),this._center},H$.type.get=function(){return"Shape"},Object.defineProperties(qo.prototype,H$);var SK=function(e){function t(n,r,o){Array.isArray(n)||(n=[n]),e.call(this,n,r,o),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=n,this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){e.prototype.init.call(this,n),this.build()},t.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},t.prototype.attach=function(n){var r=this;this.bufferList.forEach(function(o){r.viewer.add(o),o.setParameters(r.getBufferParams())}),this.setVisibility(this.visible),n()},t}(Co),dP=new mt,CK=new Li,Jp=function(e){function t(n,r,o){r===void 0&&(r={}),e.call(this,function(u,d){var f,p=d.attributes.position.array,h=d.index?d.index.array:void 0,g=u.position.length/3,v=p.length/3,m=g*v,b=new Float32Array(3*m),x=new Float32Array(3*m),y=new Float32Array(3*m);return h&&(f=Ou(g*h.length,m)),{position:b,color:y,index:f,normal:x,primitiveId:u.primitiveId||XN(g,v),picking:u.picking}}(n,o),r),this.updateNormals=!1;var i=o.attributes.position.array,a=o.attributes.normal.array,s=o.index?o.index.array:void 0;this.geoPosition=i,this.geoNormal=a,this.geoIndex=s,this.positionCount=n.position.length/3,this.geoPositionCount=i.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var l=this.geometry.attributes;if(this.meshPosition=l.position.array,this.meshColor=l.color.array,this.meshNormal=l.normal.array,this.setAttributes(n),s){var c=this.geometry.getIndex();if(!c)return void Ze.error("Index is null");this.meshIndex=c.array,this.makeIndex()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n,r){n===void 0&&(n={}),r===void 0&&(r=!1);var o,i,a,s,l,c,u,d,f,p=this.geometry.attributes,h=this.updateNormals;n.position&&(o=n.position,a=this.geoPosition,u=this.meshPosition,l=this.transformedGeoPosition,p.position.needsUpdate=!0,(h||r)&&(s=this.geoNormal,f=this.meshNormal,c=this.transformedGeoNormal,p.normal.needsUpdate=!0)),n.color&&(i=n.color,d=this.meshColor,p.color.needsUpdate=!0);for(var g=this.positionCount,v=this.geoPositionCount,m=0;m<g;++m){var b=void 0,x=void 0,y=m*v*3,w=3*m;if(o&&l&&u&&f&&a&&s&&(l.set(a),dP.makeTranslation(o[w],o[w+1],o[w+2]),this.applyPositionTransform(dP,m,w),dk(dP.elements,l),u.set(l,y),h&&c?(c.set(s),CK.getNormalMatrix(dP),i8(CK.elements,c),f.set(c,y)):r&&f.set(s,y)),i&&d)for(b=0;b<v;++b)d[x=y+3*b]=i[w],d[x+1]=i[w+1],d[x+2]=i[w+2]}},t.prototype.makeIndex=function(){var n=this.geoIndex,r=this.meshIndex;if(n)for(var o=this.positionCount,i=this.geoPositionCount,a=3*(n.length/3),s=0;s<o;++s){var l=s*a,c=l+a;r.set(n,l);for(var u=l;u<c;++u)r[u]+=s*i}},t}(Wd),PK=new ee,kpe=Object.assign({sphereDetail:1},Ta),hCt=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o,new Vm(1,se(o.sphereDetail,1))),this.setAttributes(r,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return kpe},t.prototype.applyPositionTransform=function(r,o){var i=this._radius[o];PK.set(i,i,i),r.scale(PK)},t.prototype.setAttributes=function(r,o){r===void 0&&(r={}),r.radius&&(this._radius=r.radius),e.prototype.setAttributes.call(this,r,o)},Object.defineProperties(t.prototype,n),t}(Jp);Gn.add("shader/SphereImpostor.vert",`uniform mat4 projectionMatrixInverse;
uniform float clipNear;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
attribute vec2 mapping;
attribute float radius;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
#include matrix_scale
const mat4 D = mat4(
1.0, 0.0, 0.0, 0.0,
0.0, 1.0, 0.0, 0.0,
0.0, 0.0, 1.0, 0.0,
0.0, 0.0, 0.0, -1.0
);
mat4 transposeM( in mat4 inMatrix ) {
vec4 i0 = inMatrix[0];
vec4 i1 = inMatrix[1];
vec4 i2 = inMatrix[2];
vec4 i3 = inMatrix[3];
mat4 outMatrix = mat4(
vec4(i0.x, i1.x, i2.x, i3.x),
vec4(i0.y, i1.y, i2.y, i3.y),
vec4(i0.z, i1.z, i2.z, i3.z),
vec4(i0.w, i1.w, i2.w, i3.w)
);
return outMatrix;
}
void ComputePointSizeAndPositionInClipCoordSphere(){
vec2 xbc;
vec2 ybc;
mat4 T = mat4(
radius, 0.0, 0.0, 0.0,
0.0, radius, 0.0, 0.0,
0.0, 0.0, radius, 0.0,
position.x, position.y, position.z, 1.0
);
mat4 R = transposeM( projectionMatrix * modelViewMatrix * T );
float A = dot( R[ 3 ], D * R[ 3 ] );
float B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );
float C = dot( R[ 0 ], D * R[ 0 ] );
xbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
xbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;
A = dot( R[ 3 ], D * R[ 3 ] );
B = -2.0 * dot( R[ 1 ], D * R[ 3 ] );
C = dot( R[ 1 ], D * R[ 1 ] );
ybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
ybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );
float sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;
gl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );
gl_Position.xy -= mapping * vec2( sx, sy );
gl_Position.xy *= gl_Position.w;
}
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
vRadius = radius * matrixScale( modelViewMatrix );
vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
mvPosition.z -= vRadius;
gl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );
ComputePointSizeAndPositionInClipCoordSphere();
vRadiusSq = vRadius * vRadius;
vec4 vPoint4 = projectionMatrixInverse * gl_Position;
vPoint = vPoint4.xyz / vPoint4.w;
vPointViewPosition = -mvPosition.xyz / mvPosition.w;
}`),Gn.add("shader/SphereImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying float vRadius;
varying float vRadiusSq;
varying vec3 vPoint;
varying vec3 vPointViewPosition;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool flag2 = false;
bool interior = false;
vec3 cameraPos;
vec3 cameraNormal;
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
bool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){
vec3 cameraSpherePos = -vPointViewPosition;
cameraSpherePos.z += vRadius;
vec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );
vec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );
vec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );
float B = dot( rayDirection, cameraSphereDir );
float det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );
if( det < 0.0 ){
discard;
return false;
}
float sqrtDet = sqrt( det );
float posT = mix( B + sqrtDet, B + sqrtDet, ortho );
float negT = mix( B - sqrtDet, sqrtDet - B, ortho );
cameraPos = rayDirection * negT + rayOrigin;
#ifdef NEAR_CLIP
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}else if( calcClip( cameraPos ) > 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
flag2 = true;
}
#else
if( calcDepth( cameraPos ) <= 0.0 ){
cameraPos = rayDirection * posT + rayOrigin;
interior = true;
}
#endif
cameraNormal = normalize( cameraPos - cameraSpherePos );
cameraNormal *= float(!interior) * 2.0 - 1.0;
return !interior;
}
void main(void){
bool flag = Impostor( cameraPos, cameraNormal );
#ifdef NEAR_CLIP
if( calcClip( cameraPos ) > 0.0 )
discard;
#endif
gl_FragDepthEXT = calcDepth( cameraPos );
if( !flag ){
#ifdef NEAR_CLIP
if( flag2 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}else if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#else
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
#endif
}
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vNormal = cameraNormal;
vec3 vViewPosition = -cameraPos;
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
#include normal_fragment_begin
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var d8=function(e){function t(r,o,i){i===void 0&&(i={}),e.call(this,o,i),this.index=Ou(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:r,value:null}}),this.setAttributes({primitiveId:C0(this.size)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return n.attributeSize.get=function(){return this.size*this.mappingSize},n.indexSize.get=function(){return this.size*this.mappingIndicesSize},t.prototype.addAttributes=function(r){var o={};for(var i in r){var a=r[i];o[i]={type:a.type,value:null}}e.prototype.addAttributes.call(this,o)},t.prototype.getAttributeIndex=function(r){return 3*r*this.mappingSize},t.prototype.setAttributes=function(r){r&&!r.position&&r.position1&&r.position2&&(r.position=wu(r.position1,r.position2));var o,i,a,s,l,c,u,d=this.size,f=this.mappingSize,p=this.geometry.attributes;for(var h in r)if(h!=="index"&&h!=="picking"){i=r[h],a=(o=p[h]).itemSize,s=o.array;for(var g=0;g<d;++g){c=(l=g*a)*f;for(var v=0;v<f;++v){u=c+a*v;for(var m=0;m<a;++m)s[u+m]=i[l+m]}}o.needsUpdate=!0}},t.prototype.makeMapping=function(){for(var r=this.size,o=this.mapping,i=this.mappingSize,a=this.mappingItemSize,s=this.geometry.attributes.mapping.array,l=0;l<r;l++)s.set(o,l*a*i)},t.prototype.makeIndex=function(){for(var r=this.size,o=this.mappingSize,i=this.mappingIndices,a=this.mappingIndicesSize,s=this.index,l=0;l<r;l++){var c=l*a,u=l*o;s.set(i,c);for(var d=0;d<a;++d)s[c+d]+=u}},Object.defineProperties(t.prototype,n),t}(En),mCt=new Float32Array([-1,1,-1,-1,1,1,1,-1]),gCt=new Uint16Array([0,1,2,1,3,2]),f8=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,"v2",r,o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return mCt},n.mappingIndices.get=function(){return gCt},n.mappingIndicesSize.get=function(){return 6},n.mappingSize.get=function(){return 4},n.mappingItemSize.get=function(){return 2},Object.defineProperties(t.prototype,n),t}(d8),vCt=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new mt},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(n),this.makeMapping()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(f8);Object.assign({disableImpostor:!1},kpe);var eh=function(e,t){return!xu||t&&t.disableImpostor?new hCt(e,t):new vCt(e,t)};qs.add("sphere",eh),Gn.add("shader/Point.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float size;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
varying vec3 vViewPosition;
#endif
#include common
void main(){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
#include begin_vertex
#include project_vertex
#ifdef USE_SIZEATTENUATION
gl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );
#else
gl_PointSize = size * pixelRatio;
#endif
#ifndef PICKING
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Gn.add("shader/Point.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef USE_MAP
uniform sampler2D map;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
varying vec3 vViewPosition;
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
#ifdef USE_MAP
if( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )
discard;
#endif
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
#ifdef USE_MAP
diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );
#endif
#include color_fragment
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var bCt=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},Ta),yCt=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},Sg),p8=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o),this.parameterTypes=yCt,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return bCt},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.makeTexture();var r=this.material,o=this.wireframeMaterial,i=this.pickingMaterial;r.uniforms.map.value=this.tex,r.needsUpdate=!0,o.uniforms.map.value=this.tex,o.needsUpdate=!0,i.uniforms.map.value=this.tex,i.needsUpdate=!0},t.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(r){for(var o,i,a=r||{},s=se(a.width,256),l=se(a.height,256),c=[s/2,l/2],u=Math.min(s/2,l/2),d=se(a.delta,1/(u+1))*u,f=0,p=0,h=new Uint8Array(s*l*4),g=0,v=h.length;g<v;g+=4){var m=1-oC(u-d,u,(o=void 0,i=void 0,o=c[0]-f,i=c[1]-p,Math.sqrt(o*o+i*i)));h[g]=255*m,h[g+1]=255*m,h[g+2]=255*m,h[g+3]=255*m,++f===s&&(f=0,p++)}var b=new Bd(h,s,l);return b.needsUpdate=!0,b}({delta:this.parameters.edgeBleach})},t.prototype.getDefines=function(r){var o=e.prototype.getDefines.call(this,r);return this.parameters.sizeAttenuation&&(o.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(o.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(o.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),o},t.prototype.setUniforms=function(r){r&&r.edgeBleach!==void 0&&(this.makeTexture(),r.map=this.tex),e.prototype.setUniforms.call(this,r)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(t.prototype,n),t}(En);qs.add("point",p8);var MK=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),n instanceof Qn?(this.surface=void 0,this.volume=new il(n)):(this.surface=n,this.volume=void 0),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"uniform"),r.colorValue=se(r.colorValue,14540253),this.thresholdType=se(r.thresholdType,"sigma"),this.thresholdMin=se(r.thresholdMin,2),this.thresholdMax=se(r.thresholdMax,1/0),this.thresholdOut=se(r.thresholdOut,!1),this.dotType=se(r.dotType,"point"),this.radius=se(r.radius,.1),this.scale=se(r.scale,1),this.pointSize=se(r.pointSize,1),this.sizeAttenuation=se(r.sizeAttenuation,!0),this.sortParticles=se(r.sortParticles,!1),this.useTexture=se(r.useTexture,!1),this.alphaTest=se(r.alphaTest,.5),this.forceTransparent=se(r.forceTransparent,!1),this.edgeBleach=se(r.edgeBleach,0),e.prototype.init.call(this,r),this.build()},t.prototype.attach=function(n){var r=this;this.bufferList.forEach(function(o){r.viewer.add(o)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n={};if(this.volume){var r,o,i=this.volume;this.thresholdType==="sigma"?(r=i.getValueForSigma(this.thresholdMin),o=i.getValueForSigma(this.thresholdMax)):(r=this.thresholdMin,o=this.thresholdMax),i.setFilter(r,o,this.thresholdOut),Object.assign(n,{position:i.getDataPosition(),color:i.getDataColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:i.getDataSize(this.radius,this.scale),picking:i.getDataPicking()})}else{var a=this.surface;Object.assign(n,{position:a.getPosition(),color:a.getColor(this.getColorParams())}),this.dotType==="sphere"&&Object.assign(n,{radius:a.getSize(this.radius,this.scale),picking:a.getPicking()})}this.dotType==="sphere"?this.dotBuffer=new eh(n,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):this.dotBuffer=new p8(n,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},t.prototype.update=function(n){if(n===void 0&&(n={}),this.bufferList.length!==0){var r={};n.color&&(this.volume?Object.assign(r,{color:this.volume.getDataColor(this.getColorParams())}):Object.assign(r,{color:this.surface.getColor(this.getColorParams())})),this.dotType==="sphere"&&(n.radius||n.scale)&&(this.volume?Object.assign(r,{radius:this.volume.getDataSize(this.radius,this.scale)}):Object.assign(r,{radius:this.surface.getSize(this.radius,this.scale)})),this.dotBuffer.setAttributes(r)}},t.prototype.setParameters=function(n,r,o){return r===void 0&&(r={}),n&&n.thresholdType!==void 0&&this.volume instanceof Qn&&(this.thresholdType==="value"&&n.thresholdType==="sigma"?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):this.thresholdType==="sigma"&&n.thresholdType==="value"&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=n.thresholdType),n&&n.radiusType!==void 0&&(n.radiusType==="radius"?this.radius=.1:this.radius=parseFloat(n.radiusType),r.radius=!0,this.dotType!=="sphere"||xu&&!this.disableImpostor||(o=!0)),n&&n.radius!==void 0&&(r.radius=!0,this.dotType!=="sphere"||xu&&!this.disableImpostor||(o=!0)),n&&n.scale!==void 0&&(r.scale=!0,this.dotType!=="sphere"||xu&&!this.disableImpostor||(o=!0)),e.prototype.setParameters.call(this,n,r,o),this},t}(Co);Gn.add("shader/Image.vert",`uniform float clipRadius;
uniform vec3 clipCenter;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void main() {
#include begin_vertex
#include project_vertex
vUv = uv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
}`),Gn.add("shader/Image.frag",`uniform sampler2D map;
uniform float opacity;
uniform vec2 mapSize;
uniform float clipNear;
uniform float clipRadius;
varying vec2 vUv;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform sampler2D pickingMap;
uniform float objectId;
#else
#include fog_pars_fragment
#endif
#if defined( CUBIC_INTERPOLATION )
#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )
#if defined( CATMULROM_FILTER )
const float B = 0.0;
const float C = 0.5;
#elif defined( MITCHELL_FILTER )
const float B = 0.333;
const float C = 0.333;
#endif
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f < 1.0 ){
return ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +
( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +
( 6.0 - 2.0 * B ) ) / 6.0;
}else if( f >= 1.0 && f < 2.0 ){
return ( ( -B - 6.0 * C ) * ( f * f * f )
+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +
( - ( 12.0 * B ) - 48.0 * C ) * f +
8.0 * B + 24.0 * C ) / 6.0;
}else{
return 0.0;
}
}
#elif defined( BSPLINE_FILTER )
float filter( float x ){
float f = x;
if( f < 0.0 ){
f = -f;
}
if( f >= 0.0 && f <= 1.0 ){
return ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );
}else if( f > 1.0 && f <= 2.0 ){
return 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );
}
return 1.0;
}
#else
float filter( float x ){
return 1.0;
}
#endif
vec4 biCubic( sampler2D tex, vec2 texCoord ){
vec2 texelSize = 1.0 / mapSize;
texCoord -= texelSize / 2.0;
vec4 nSum = vec4( 0.0 );
float nDenom = 0.0;
vec2 cell = fract( texCoord * mapSize );
for( float m = -1.0; m <= 2.0; ++m ){
for( float n = -1.0; n <= 2.0; ++n ){
vec4 vecData = texture2D(
tex, texCoord + texelSize * vec2( m, n )
);
float c = filter( m - cell.x ) * filter( -n + cell.y );
nSum += vecData * c;
nDenom += c;
}
}
return nSum / nDenom;
}
#endif
void main(){
#include nearclip_fragment
#include radiusclip_fragment
#if defined( CUBIC_INTERPOLATION )
gl_FragColor = biCubic( map, vUv );
#else
gl_FragColor = texture2D( map, vUv );
#endif
#if defined( PICKING )
if( gl_FragColor.a < 0.3 )
discard;
gl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );
#else
if( gl_FragColor.a < 0.01 )
discard;
gl_FragColor.a *= opacity;
#include fog_fragment
#endif
}`);var xCt=new Uint16Array([0,1,2,1,3,2]),wCt=new Float32Array([0,1,0,0,1,1,1,0]),_Ct=Object.assign({filter:"nearest",forceTransparent:!0},Ta),SCt=Object.assign({filter:{updateShader:!0,uniform:!0}},Sg),CCt=function(e){function t(r,o){e.call(this,{position:r.position,index:xCt,picking:r.picking},o),this.parameterTypes=SCt,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var i=r.imageData,a=r.width,s=r.height,l=new Bd(i,a,s);l.flipY=!0,this.tex=l;for(var c=i.length,u=new Uint8Array(c),d=0;d<c;d+=4){var f=d/4;u[d]=f>>16&255,u[d+1]=f>>8&255,u[d+2]=255&f}var p=new Bd(u,a,s);p.flipY=!0,p.minFilter=Mr,p.magFilter=Mr,this.pickingTex=p,this.addUniforms({map:{value:l},pickingMap:{value:p},mapSize:{value:new ct(a,s)}}),this.geometry.setAttribute("uv",new Ht(wCt,2))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return _Ct},t.prototype.getDefines=function(r){var o=e.prototype.getDefines.call(this,r),i=this.parameters.filter;return i.startsWith("cubic")&&(o.CUBIC_INTERPOLATION=1,i.endsWith("bspline")?o.BSPLINE_FILTER=1:i.endsWith("catmulrom")?o.CATMULROM_FILTER=1:i.endsWith("mitchell")&&(o.MITCHELL_FILTER=1)),o},t.prototype.updateTexture=function(){var r=this.tex,o=this.parameters.filter;o.startsWith("cubic")?(r.minFilter=Mr,r.magFilter=Mr):o==="linear"?(r.minFilter=Bo,r.magFilter=Bo):(r.minFilter=Mr,r.magFilter=Mr),r.needsUpdate=!0,this.pickingTex.needsUpdate=!0},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this),this.updateTexture();var r=this.material;r.uniforms.map.value=this.tex,r.blending=fp,r.needsUpdate=!0;var o=this.wireframeMaterial;o.uniforms.map.value=this.tex,o.blending=fp,o.needsUpdate=!0;var i=this.pickingMaterial;i.uniforms.map.value=this.tex,i.uniforms.pickingMap.value=this.pickingTex,i.blending=fp,i.needsUpdate=!0},t.prototype.setUniforms=function(r){r&&r.filter!==void 0&&(this.updateTexture(),r.map=this.tex),e.prototype.setUniforms.call(this,r)},Object.defineProperties(t.prototype,n),t}(En),lB=function(e,t){var n=t||{};this.dimension=se(n.dimension,"x"),this.positionType=se(n.positionType,"percent"),this.position=se(n.position,30),this.thresholdType=se(n.thresholdType,"sigma"),this.thresholdMin=se(n.thresholdMin,-1/0),this.thresholdMax=se(n.thresholdMax,1/0),this.normalize=se(n.normalize,!1),this.volume=e};lB.prototype.getPositionFromCoordinate=function(e){var t,n=this.dimension,r=this.volume,o=r.matrix,i=new ee().setFromMatrixPosition(o)[n],a=new ee().setFromMatrixScale(o)[n];return t=n==="x"?r.nx:n==="y"?r.ny:r.nz,Math.round(((e-i)/(t/100)+1)/a)},lB.prototype.getData=function(e){e=e||{};var t,n=this.volume,r=n.data,o=n.matrix;function i(Y){return Math.round(Y/100*(t-1))}function a(Y,le,te,re){return 3*(te*n.ny*n.nx+le*n.nx+Y)+re}t=this.positionType==="coordinate"?this.getPositionFromCoordinate(this.position):this.position;var s,l,c,u,d,f=new Float32Array(12),p=new ee,h=0,g=0,v=0,m=n.nx,b=n.ny,x=n.nz;function y(Y,le,te,re){p.set(Y,le,te).applyMatrix4(o).toArray(f,re)}this.dimension==="x"?(c=i(n.nx),u=n.ny-1,d=n.nz-1,s=n.nz,l=n.ny,m=(h=c)+1,y(c,0,0,0),y(c,u,0,3),y(c,0,d,6),y(c,u,d,9)):this.dimension==="y"?(c=n.nx-1,u=i(n.ny),d=n.nz-1,s=n.nz,l=n.nx,b=(g=u)+1,y(0,u,0,0),y(c,u,0,3),y(0,u,d,6),y(c,u,d,9)):this.dimension==="z"&&(c=n.nx-1,u=n.ny-1,d=i(n.nz),s=n.nx,l=n.ny,x=(v=d)+1,y(0,0,d,0),y(0,u,d,3),y(c,0,d,6),y(c,u,d,9));var w,_,S=0,P=0,M=new Uint8Array(s*l*4),I=new Float32Array(s*l);this.thresholdType==="sigma"?(w=n.getValueForSigma(this.thresholdMin),_=n.getValueForSigma(this.thresholdMax)):(w=this.thresholdMin,_=this.thresholdMax);var O=Object.assign({},e.colorParams,{volume:n});this.normalize&&(O.domain=[0,1]);var L,R=Cn.getScheme(O),T=new Float32Array(3),E=R.getScale(),k=0,B=0;if(this.normalize){k=1/0,L=-1/0;for(var $=g;$<b;++$)for(var j=h;j<m;++j)for(var V=v;V<x;++V){var q=r[a(j,$,V,0)/3];q<k&&(k=q),q>L&&(L=q)}B=L-k}for(var Q=g;Q<b;++Q)for(var H=h;H<m;++H)for(var X=v;X<x;++X){var J=a(H,Q,X,0)/3,G=r[J];this.normalize&&(G=(G-k)/B),R.colorToArray(E(G),T),M[S]=Math.round(255*T[0]),M[S+1]=Math.round(255*T[1]),M[S+2]=Math.round(255*T[2]),M[S+3]=G>w&&G<_?255:0,I[P]=J,++P,S+=4}var ie=new FSt(I,n);return{position:f,imageData:M,width:s,height:l,picking:ie}};var PCt=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=n,this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=this.volume,o=n||{};o.colorDomain=se(o.colorDomain,[r.min,r.max]),o.colorScheme=se(o.colorScheme,"value"),o.colorScale=se(o.colorScale,"Spectral"),this.colorScheme="value",this.dimension=se(o.dimension,"x"),this.filter=se(o.filter,"cubic-bspline"),this.positionType=se(o.positionType,"percent"),this.position=se(o.position,30),this.thresholdType=se(o.thresholdType,"sigma"),this.thresholdMin=se(o.thresholdMin,-1/0),this.thresholdMax=se(o.thresholdMax,1/0),this.normalize=se(o.normalize,!1),e.prototype.init.call(this,o),this.build()},t.prototype.attach=function(n){var r=this;this.bufferList.forEach(function(o){r.viewer.add(o)}),this.setVisibility(this.visible),n()},t.prototype.create=function(){var n=new lB(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),r=new CCt(n.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(r)},t}(Co);function V$(e){Ze.error("makeRepresentation: representation type "+e+" unknown")}var h8={name:"some element",status:""},Kv=function(e,t){t===void 0&&(t={}),this.stage=e,this.signals={statusChanged:new un.Signal,nameChanged:new un.Signal,disposed:new un.Signal},this.parameters=Ws(t,this.defaultParameters),this.uuid=t8()},U$={defaultParameters:{configurable:!0},name:{configurable:!0}};U$.defaultParameters.get=function(){return h8},U$.name.get=function(){return this.parameters.name},Kv.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},Kv.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},Kv.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(Kv.prototype,U$);var MCt=Object.assign({visible:!0},h8),ACt=function(e){function t(r,o,i,a){i===void 0&&(i={}),e.call(this,r,Object.assign({name:o.type},i)),this.parent=a,this.signals=Object.assign({visibilityChanged:new un.Signal,parametersChanged:new un.Signal},this.signals),this.setRepresentation(o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return MCt},n.visible.get=function(){return this.parameters.visible},n.type.get=function(){return"representation"},t.prototype.getType=function(){return this.repr.type},t.prototype.setRepresentation=function(r){this._disposeRepresentation(),this.repr=r,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},t.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},t.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},t.prototype.setVisibility=function(r){return this.parameters.visible=r,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},t.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},t.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},t.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},t.prototype.update=function(r){return this.repr.update(r),this},t.prototype.build=function(r){return this.repr.build(r),this},t.prototype.setSelection=function(r){var o=this.repr;return o.setSelection&&o.setSelection(r),this},t.prototype.setParameters=function(r){return this.repr.setParameters(r),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},t.prototype.getParameters=function(){return this.repr.getParameters()},t.prototype.setColor=function(r){return this.repr.setColor(r),this},Object.defineProperties(t.prototype,n),t}(Kv),ev=new mt,ECt=new ee,Rpe={name:"",status:"",visible:!0},Yn=function(e,t,n){n===void 0&&(n={}),this.stage=e,this.object=t,this.signals={representationAdded:new un.Signal,representationRemoved:new un.Signal,visibilityChanged:new un.Signal,matrixChanged:new un.Signal,statusChanged:new un.Signal,nameChanged:new un.Signal,disposed:new un.Signal},this.reprList=[],this.annotationList=[],this.matrix=new mt,this.position=new ee,this.quaternion=new Er,this.scale=new ee(1,1,1),this.transform=new mt,this.parameters=Ws(n,this.defaultParameters),this.uuid=t8(),this.viewer=e.viewer,this.controls=new xM(this)},g1={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};g1.defaultParameters.get=function(){return Rpe},g1.name.get=function(){return this.parameters.name},g1.status.get=function(){return this.parameters.status},g1.visible.get=function(){return this.parameters.visible},Yn.prototype.setPosition=function(e){return Array.isArray(e)?this.position.fromArray(e):this.position.copy(e),this.updateMatrix(),this},Yn.prototype.setRotation=function(e){if(Array.isArray(e))if(e.length===3){var t=new Tp().fromArray(e);this.quaternion.setFromEuler(t)}else this.quaternion.fromArray(e);else e instanceof Tp?this.quaternion.setFromEuler(e):this.quaternion.copy(e);return this.updateMatrix(),this},Yn.prototype.setScale=function(e){return this.scale.set(e,e,e),this.updateMatrix(),this},Yn.prototype.setTransform=function(e){return this.transform.copy(e),this.updateMatrix(),this},Yn.prototype.updateMatrix=function(){var e=this.getCenterUntransformed(ECt);this.matrix.makeTranslation(-e.x,-e.y,-e.z),ev.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(ev),ev.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(ev);var t=this.position;ev.makeTranslation(t.x+e.x,t.y+e.y,t.z+e.z),this.matrix.premultiply(ev),this.matrix.premultiply(this.transform),this.updateRepresentationMatrices(),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},Yn.prototype.updateRepresentationMatrices=function(){var e=this;this.reprList.forEach(function(t){t.setParameters({matrix:e.matrix})})},Yn.prototype.addAnnotation=function(e,t,n){var r=new Af(this,e,t,n);return this.annotationList.push(r),r},Yn.prototype.eachAnnotation=function(e){this.annotationList.slice().forEach(e)},Yn.prototype.removeAnnotation=function(e){var t=this.annotationList.indexOf(e);t!==-1&&(this.annotationList.splice(t,1),e.dispose())},Yn.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(e){return e.dispose()}),this.annotationList.length=0},Yn.prototype._addRepresentation=function(e,t,n,r){r===void 0&&(r=!1);var o=n||{},i=this.stage.getParameters();o.matrix=this.matrix.clone(),o.quality=o.quality||i.quality,o.disableImpostor=se(o.disableImpostor,!i.impostor),o.useWorker=se(o.useWorker,i.workerDefault),o.visible=se(o.visible,!0);var a=Object.assign({},o,{visible:this.parameters.visible&&o.visible}),s=function(c,u,d,f){var p;if(ot&&Ze.time("makeRepresentation "+c),u instanceof tn){if(!(p=jr.get(c)))return void V$(c)}else if(u instanceof qi)if(c==="surface")p=rB;else{if(c!=="dot")return void V$(c);p=MK}else if(u instanceof Qn)if(c==="surface")p=rB;else if(c==="dot")p=MK;else{if(c!=="slice")return void V$(c);p=PCt}else if(u instanceof qo)p=SK,u=u.getBufferList();else{if(c!=="buffer")return void Ze.error("makeRepresentation: object "+u+" unknown");p=SK}var h=new p(u,d,f);return ot&&Ze.timeEnd("makeRepresentation "+c),h}(e,t,this.viewer,a),l=new ACt(this.stage,s,o,this);return r||(this.reprList.push(l),this.signals.representationAdded.dispatch(l)),l},Yn.prototype.addBufferRepresentation=function(e,t){return this._addRepresentation.call(this,"buffer",e,t)},Yn.prototype.hasRepresentation=function(e){return this.reprList.indexOf(e)!==-1},Yn.prototype.eachRepresentation=function(e){this.reprList.slice().forEach(e)},Yn.prototype.removeRepresentation=function(e){var t=this.reprList.indexOf(e);t!==-1&&(this.reprList.splice(t,1),e.dispose(),this.signals.representationRemoved.dispatch(e))},Yn.prototype.updateRepresentations=function(e){this.reprList.forEach(function(t){return t.update(e)}),this.stage.viewer.requestRender()},Yn.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(e){return e.dispose()})},Yn.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),this.reprList.length=0,this.signals.disposed.dispatch()},Yn.prototype.setVisibility=function(e){return this.parameters.visible=e,this.eachRepresentation(function(t){return t.updateVisibility()}),this.eachAnnotation(function(t){return t.updateVisibility()}),this.signals.visibilityChanged.dispatch(e),this},Yn.prototype.setStatus=function(e){return this.parameters.status=e,this.signals.statusChanged.dispatch(e),this},Yn.prototype.setName=function(e){return this.parameters.name=e,this.signals.nameChanged.dispatch(e),this},Yn.prototype.getBox=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getBoxUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},Yn.prototype.getCenter=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(e=this).getCenterUntransformed.apply(e,t).clone().applyMatrix4(this.matrix)},Yn.prototype.getZoom=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];return this.stage.getZoomForBox((e=this).getBox.apply(e,t))},Yn.prototype.getBoxUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new Tr},Yn.prototype.getCenterUntransformed=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.getBoxUntransformed().getCenter(new ee)},Yn.prototype.autoView=function(e){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),se(e,0))},Object.defineProperties(Yn.prototype,g1);var Yv=function(e){e===void 0&&(e=[]),this.list=e;for(var t=e.length,n=0;n<t;++n)e[n].signals.disposed.add(this._remove,this)},AK={first:{configurable:!0}};Yv.prototype._remove=function(e){var t=this.list.indexOf(e);t!==-1&&this.list.splice(t,1)},AK.first.get=function(){return this.list.length>0?this.list[0]:void 0},Yv.prototype.forEach=function(e){return this.list.forEach(e),this},Yv.prototype.dispose=function(){return this.forEach(function(e){return e.dispose()})},Object.defineProperties(Yv.prototype,AK);var Lpe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setParameters=function(n){return this.forEach(function(r){return r.setParameters(n)})},t.prototype.setVisibility=function(n){return this.forEach(function(r){return r.setVisibility(n)})},t.prototype.setSelection=function(n){return this.forEach(function(r){return r.setSelection(n)})},t.prototype.setColor=function(n){return this.forEach(function(r){return r.setColor(n)})},t.prototype.update=function(n){return this.forEach(function(r){return r.update(n)})},t.prototype.build=function(n){return this.forEach(function(r){return r.build(n)})},t.prototype.dispose=function(n){return this.forEach(function(r){return r.dispose()})},t}(Yv),TCt=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},h8),OCt=function(e){function t(r,o,i){var a=this;i===void 0&&(i={}),e.call(this,r,Object.assign({name:o.name},i)),this.trajectory=o,this.signals=Object.assign(this.signals,{frameChanged:new un.Signal,playerChanged:new un.Signal,countChanged:new un.Signal,parametersChanged:new un.Signal}),o.signals.frameChanged.add(function(s){a.signals.frameChanged.dispatch(s)}),o.signals.playerChanged.add(function(s){a.signals.playerChanged.dispatch(s)}),o.signals.countChanged.add(function(s){a.signals.countChanged.dispatch(s)}),i.initialFrame!==void 0&&this.setFrame(i.initialFrame)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return TCt},n.type.get=function(){return"trajectory"},t.prototype.setFrame=function(r){this.trajectory.setFrame(r)},t.prototype.setParameters=function(r){r===void 0&&(r={}),this.trajectory.setParameters(r),this.signals.parametersChanged.dispatch(r)},t.prototype.dispose=function(){this.trajectory.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(Kv),m8=function(e,t){this.name=e,this.path=t,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},EK={type:{configurable:!0}};EK.type.get=function(){return"Frames"},Object.defineProperties(m8.prototype,EK);var Ex=function(e,t){var n,r;if(this.A=new Jn(3,3),this.W=new Jn(1,3),this.U=new Jn(3,3),this.V=new Jn(3,3),this.VH=new Jn(3,3),this.R=new Jn(3,3),this.tmp=new Jn(3,3),this.c=new Jn(3,3),e instanceof tn)n=e.atomCount;else{if(!(e instanceof Float32Array))return;n=e.length/3}if(t instanceof tn)r=t.atomCount;else{if(!(t instanceof Float32Array))return;r=t.length/3}var o=Math.min(n,r),i=new Jn(3,o),a=new Jn(3,o);this.coords1t=new Jn(o,3),this.coords2t=new Jn(o,3),this.transformationMatrix=new mt,this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(e,i,o,!1),this.prepCoords(t,a,o,!1),this._superpose(i,a)};Ex.prototype._superpose=function(e,t){var n,r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S;this.mean1=QN(e),this.mean2=QN(t),JN(e,this.mean1),JN(t,this.mean2),ic(this.coords1t,e),ic(this.coords2t,t),vM(this.A,this.coords2t,this.coords1t),xpe(this.A,this.W,this.U,this.V),n=this.V,r=this.VH,o=n.data,i=r.data,a=o[4],s=o[8],l=o[5],c=o[7],u=o[0],d=u*a,f=u*l,p=o[3],h=o[1],g=p*h,v=o[2],m=p*v,b=o[6],w=1/(d*s-f*c-g*s+m*c+(x=b*h)*l-(y=b*v)*a),i[0]=(a*s-l*c)*w,i[1]=-(h*s-v*c)*w,i[2]=-(-h*l+v*a)*w,i[3]=-(p*s-l*b)*w,i[4]=(u*s-y)*w,i[5]=-(f-m)*w,i[6]=-(-p*c+a*b)*w,i[7]=-(u*c-x)*w,i[8]=(d-g)*w,D$(this.R,this.U,this.VH),_=this.R,(S=_.data)[0]*S[4]*S[8]-S[0]*S[5]*S[7]-S[3]*S[1]*S[8]+S[3]*S[2]*S[7]+S[6]*S[1]*S[5]-S[6]*S[2]*S[4]<0&&(ot&&Ze.log("R not a right handed system"),D$(this.tmp,this.c,this.VH),D$(this.R,this.U,this.tmp));var P=new Jn(4,4),M=new Jn(4,4),I=new Jn(4,4),O=new Jn(4,4),L=new Jn(4,4),R=new Jn(4,4),T=this.R.data,E=this.mean1,k=this.mean2;O.data.set([1,0,0,-E[0],0,1,0,-E[1],0,0,1,-E[2],0,0,0,1]),L.data.set([T[0],T[1],T[2],0,T[3],T[4],T[5],0,T[6],T[7],T[8],0,0,0,0,1]),R.data.set([1,0,0,k[0],0,1,0,k[1],0,0,1,k[2],0,0,0,1]),ic(M,O),vM(P,L,M),ic(I,P),vM(M,R,I),ic(P,M),this.transformationMatrix.elements=P.data},Ex.prototype.prepCoords=function(e,t,n,r){var o=0,i=t.data,a=3,s=3*n;if(r&&(s=4*n,a=4),e instanceof tn)e.eachAtom(function(l){o<s&&(i[o+0]=l.x,i[o+1]=l.y,i[o+2]=l.z,r&&(i[o+3]=1),o+=a)});else if(e instanceof Float32Array)for(;o<s;o+=a)o<s&&(i[o]=e[o],i[o+1]=e[o+1],i[o+2]=e[o+2],r&&(i[o+3]=1));else Ze.warn("prepCoords: input type unknown")},Ex.prototype.transform=function(e){var t;if(e instanceof tn)t=e.atomCount;else{if(!(e instanceof Float32Array))return;t=e.length/3}var n=new Jn(4,t),r=new Jn(t,4);this.prepCoords(e,n,t,!0);var o=this.transformationMatrix,i=o.determinant();if(!i)return i;var a=new Jn(4,4);a.data=o.elements,function(p,h,g){for(var v=0,m=0,b=0,x=0,y=0,w=0,_=0,S=0,P=h.cols,M=h.rows,I=g.cols,O=h.data,L=g.data,R=p.data,T=0;v<M;x+=P,v++)for(_=0,m=0;m<I;S++,_++,m++){for(w=_,y=x,T=0,b=0;b<P;y++,w+=I,b++)T+=O[y]*L[w];R[S]=T}}(r,n,a);var s=0,l=r.data;if(e instanceof tn){e.eachAtom(function(p){p.x=l[s],p.y=l[s+1],p.z=l[s+2],s+=4});var c=new mt;c.getInverse(o);var u=e.biomolDict;for(var d in u)u.hasOwnProperty(d)&&u[d].partList.forEach(function(p){p.matrixList.forEach(function(h){h.premultiply(o),h.multiply(c)})})}else if(e instanceof Float32Array)for(var f=4*t;s<f;s+=4)e[s]=l[s],e[s+1]=l[s+1],e[s+2]=l[s+2];else Ze.warn("transform: input type unknown");return this.transformationMatrix};var ICt={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},Wc=function(e,t){var n=this;t===void 0&&(t={}),this.signals={startedRunning:new un.Signal,haltedRunning:new un.Signal},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,e.signals.playerChanged.add(function(o){o!==n&&n.pause()},this);var r=se(e.frameCount,1);this.traj=e,this.parameters=Ws(t,ICt),this.parameters.end=Math.min(se(t.end,r-1),r-1),this.parameters.step=se(t.step,Math.ceil((r+1)/100)),this._currentFrame=this.parameters.start,this._direction=this.parameters.direction==="bounce"?"forward":this.parameters.direction,e.signals.countChanged.add(function(o){n.parameters.end=Math.min(se(n.parameters.end,o-1),o-1)},this),this._animate=this._animate.bind(this)},TK={isRunning:{configurable:!0}};TK.isRunning.get=function(){return this._run},Wc.prototype.setParameters=function(e){e===void 0&&(e={}),Vfe(this.parameters,e),e.direction!==void 0&&this.parameters.direction!=="bounce"&&(this._direction=this.parameters.direction)},Wc.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var e=this._currentTime-this._previousTime,t=this.parameters.interpolateType?this.parameters.interpolateStep:1,n=this.parameters.timeout/t,r=this.traj;if(r&&r.frameCount&&!r.inProgress&&e>=n)if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),this._currentStep===1&&(this._currentFrame=this._nextInterpolated()),r.hasFrame(this._currentFrame)){this._currentStep+=1;var o=this._currentStep/(this.parameters.interpolateStep+1),i=this._currentFrame,a=i[0],s=i[1],l=i[2],c=i[3];r.setFrameInterpolated(a,s,l,c,o,this.parameters.interpolateType),this._previousTime=this._currentTime}else r.loadFrame(this._currentFrame);else{var u=this._next();r.hasFrame(u)?(r.setFrame(u),this._previousTime=this._currentTime):r.loadFrame(u)}window.requestAnimationFrame(this._animate)}},Wc.prototype._next=function(){var e,t=this.parameters;return((e=this._direction==="forward"?this.traj.currentFrame+t.step:this.traj.currentFrame-t.step)>t.end||e<t.start)&&(t.direction==="bounce"&&(this._direction==="forward"?this._direction="backward":this._direction="forward"),t.mode==="once"?(this.pause(),e=t.direction==="forward"?t.end:t.direction==="backward"||this._direction==="forward"?t.start:t.end):this._direction==="forward"?(e=t.start,t.interpolateType&&(e=Math.min(t.end,e+t.step))):(e=t.end,t.interpolateType&&(e=Math.max(t.start,e-t.step)))),e},Wc.prototype._nextInterpolated=function(){var e,t,n,r=this.parameters,o=this._next();return this._direction==="forward"?(e=Math.max(r.start,o-r.step),t=Math.max(r.start,o-2*r.step),n=Math.max(r.start,o-3*r.step)):(e=Math.min(r.end,o+r.step),t=Math.min(r.end,o+2*r.step),n=Math.min(r.end,o+3*r.step)),[o,e,t,n]},Wc.prototype.toggle=function(){this._run?this.pause():this.play()},Wc.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var e=this.parameters,t=this.traj.currentFrame,n=Math.ceil(t/e.step)*e.step;e.direction==="forward"&&t>=e.end?n=e.start:e.direction==="backward"&&t<=e.start&&(n=e.end),this.traj.setFrame(n),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},Wc.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},Wc.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(Wc.prototype,TK);var br=function(e,t,n){var r=this;n===void 0&&(n={}),this.signals={countChanged:new un.Signal,frameChanged:new un.Signal,playerChanged:new un.Signal},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=se(n.deltaTime,0),this.timeOffset=se(n.timeOffset,0),this.centerPbc=se(n.centerPbc,!1),this.removePbc=se(n.removePbc,!1),this.removePeriodicity=se(n.removePeriodicity,!1),this.superpose=se(n.superpose,!1),this.name=e.replace(/^.*[\\/]/,""),this.trajPath=e,this.selection=new pr(se(n.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){r.selectionIndices=r.structure.getAtomIndices(r.selection),r._resetCache(),r._saveInitialCoords(),r.setFrame(r._currentFrame)})},G$={frameCount:{configurable:!0},currentFrame:{configurable:!0}};G$.frameCount.get=function(){return this._frameCount},G$.currentFrame.get=function(){return this._currentFrame},br.prototype._init=function(e){this.setStructure(e),this._loadFrameCount(),this.setPlayer(new Wc(this))},br.prototype._loadFrameCount=function(){},br.prototype.setStructure=function(e){this.structure=e,this.atomCount=e.atomCount,this.backboneIndices=this._getIndices(new pr("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},br.prototype._saveInitialCoords=function(){var e=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return e._saveInitialCoords()})},br.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},br.prototype.setSelection=function(e){return this.selection.setString(e),this},br.prototype._getIndices=function(e){var t=0,n=e.test,r=[];return n&&this.structure.eachAtom(function(o){n(o)&&r.push(t),t+=1}),r},br.prototype._makeSuperposeCoords=function(){var e=3*this.selectionIndices.length;this.coords1=new Float32Array(e),this.coords2=new Float32Array(e);for(var t=this.initialCoords,n=this.coords2,r=0;r<e;r+=3){var o=3*this.selectionIndices[r/3];n[r+0]=t[o+0],n[r+1]=t[o+1],n[r+2]=t[o+2]}},br.prototype._makeAtomIndices=function(){Ze.error("Trajectory._makeAtomIndices not implemented")},br.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},br.prototype.setParameters=function(e){e===void 0&&(e={});var t=!1;e.centerPbc!==void 0&&e.centerPbc!==this.centerPbc&&(this.centerPbc=e.centerPbc,t=!0),e.removePeriodicity!==void 0&&e.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=e.removePeriodicity,t=!0),e.removePbc!==void 0&&e.removePbc!==this.removePbc&&(this.removePbc=e.removePbc,t=!0),e.superpose!==void 0&&e.superpose!==this.superpose&&(this.superpose=e.superpose,t=!0),this.deltaTime=se(e.deltaTime,this.deltaTime),this.timeOffset=se(e.timeOffset,this.timeOffset),t&&(this._resetCache(),this.setFrame(this._currentFrame))},br.prototype.hasFrame=function(e){var t=this;return Array.isArray(e)?e.every(function(n){return!!t.frameCache[n]}):!!this.frameCache[e]},br.prototype.setFrame=function(e,t){var n=this;return e===void 0||(this.inProgress=!0,e===-1||this.frameCache[e]?(this._updateStructure(e),t&&t()):this.loadFrame(e,function(){n._updateStructure(e),t&&t()})),this},br.prototype._interpolate=function(e,t,n,r,o,i){var a,s=this.frameCache;a=i==="spline"?function(l,c,u,d,f){for(var p=l.length,h=new Float32Array(p),g=0;g<p;g+=3){var v=g+1,m=g+2;h[g]=cd(d[g],u[g],c[g],l[g],f,1),h[v]=cd(d[v],u[v],c[v],l[v],f,1),h[m]=cd(d[m],u[m],c[m],l[m],f,1)}return h}(s[e],s[t],s[n],s[r],o):function(l,c,u){for(var d=l.length,f=new Float32Array(d),p=0;p<d;p+=3){var h=p+1,g=p+2;f[p]=cl(c[p],l[p],u),f[h]=cl(c[h],l[h],u),f[g]=cl(c[g],l[g],u)}return f}(s[e],s[t],o),this.structure.updatePosition(a),this._currentFrame=e,this.signals.frameChanged.dispatch(e)},br.prototype.setFrameInterpolated=function(e,t,n,r,o,i,a){var s=this;if(e===void 0)return this;var l=this.frameCache,c=[];return l[r]||c.push(r),l[n]||c.push(n),l[t]||c.push(t),l[e]||c.push(e),c.length?this.loadFrame(c,function(){s._interpolate(e,t,n,r,o,i),a&&a()}):(this._interpolate(e,t,n,r,o,i),a&&a()),this},br.prototype.loadFrame=function(e,t){var n=this;Array.isArray(e)?e.forEach(function(r){n.loadQueue[r]||n.frameCache[r]||(n.loadQueue[r]=!0,n._loadFrame(r,function(){delete n.loadQueue[r]}))}):this.loadQueue[e]||this.frameCache[e]||(this.loadQueue[e]=!0,this._loadFrame(e,function(){delete n.loadQueue[e],t&&t()}))},br.prototype._loadFrame=function(e,t){Ze.error("Trajectory._loadFrame not implemented",e,t)},br.prototype._updateStructure=function(e){this._disposed?console.error("updateStructure: traj disposed"):(e===-1?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[e]),this.structure.trajectory={name:this.trajPath,frame:e},this._currentFrame=e,this.inProgress=!1,this.signals.frameChanged.dispatch(e))},br.prototype._doSuperpose=function(e){for(var t=3*this.selectionIndices.length,n=this.coords1,r=this.coords2,o=0;o<t;o+=3){var i=3*this.selectionIndices[o/3];n[o+0]=e[i+0],n[o+1]=e[i+1],n[o+2]=e[i+2]}new Ex(n,r).transform(e)},br.prototype._process=function(e,t,n,r){if(this._setFrameCount(r),t){if(this.backboneIndices.length>0&&this.centerPbc){var o=[t[0],t[4],t[8]],i=function(s,l,c){return[_$(l,c[0],3,0,s),_$(l,c[1],3,1,s),_$(l,c[2],3,2,s)]}(this.backboneIndices,n,o);(function(s,l,c){if(c[0]!==0&&c[8]!==0&&c[4]!==0)for(var u=s.length,d=c[0],f=c[1],p=c[2],h=-l[0]+d+d/2,g=-l[1]+f+f/2,v=-l[2]+p+p/2,m=0;m<u;m+=3)s[m+0]=(s[m+0]+h)%d,s[m+1]=(s[m+1]+g)%f,s[m+2]=(s[m+2]+v)%p})(n,i,o)}if(this.removePeriodicity){var a=function(s){return[pM(s,3,0),pM(s,3,1),pM(s,3,2)]}(n);(function(s,l,c){if(l[0]!==0&&l[8]!==0&&l[4]!==0)for(var u=s.length,d=3;d<u;d+=3)for(var f=0;f<3;++f){var p=(s[d+f]-c[f])/l[3*f+f];Math.abs(p)>.5&&(s[d+f]-=l[3*f+f]*Math.round(p))}})(n,t,a)}this.removePbc&&function(s,l){if(l[0]!==0&&l[8]!==0&&l[4]!==0)for(var c=s.length,u=3;u<c;u+=3)for(var d=0;d<3;++d){var f=s[u+d]-s[u-3+d];if(Math.abs(f)>.9*l[3*d+d])if(f>0)for(var p=0;p<3;++p)s[u+p]-=l[3*d+p];else for(var h=0;h<3;++h)s[u+h]+=l[3*d+h]}}(n,t)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(n),this.frameCache[e]=n,this.boxCache[e]=t,this.frameCacheSize+=1},br.prototype._setFrameCount=function(e){e!==this._frameCount&&(this._frameCount=e,this.signals.countChanged.dispatch(e))},br.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},br.prototype.setPlayer=function(e){this.player=e,this.signals.playerChanged.dispatch(e)},br.prototype.getFrameTime=function(e){return this.timeOffset+e*this.deltaTime},Object.defineProperties(br.prototype,G$);var kCt=function(e){function t(r,o,i){var a=i||{};a.timeOffset=se(a.timeOffset,r.timeOffset),a.deltaTime=se(a.deltaTime,r.deltaTime),e.call(this,"",o,a),this.name=r.name,this.path=r.path,this.frames=r.coordinates,this.boxes=r.boxes,this._init(o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"frames"},t.prototype._makeAtomIndices=function(){this.structure.type==="StructureView"?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(r,o){var i,a=this.frames[r];if(this.atomIndices){var s=this.atomIndices,l=s.length;i=new Float32Array(3*l);for(var c=0;c<l;++c){var u=3*c,d=3*s[c];i[u+0]=a[d+0],i[u+1]=a[d+1],i[u+2]=a[d+2]}}else i=new Float32Array(a);var f=this.boxes[r],p=this.frames.length;this._process(r,f,i,p),typeof o=="function"&&o()},t.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(t.prototype,n),t}(br),RCt=function(e){function t(r,o,i){e.call(this,"",o,i),this._init(o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"structure"},t.prototype._makeAtomIndices=function(){this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.atomIndices=this.structure.getAtomIndices():this.atomIndices=void 0},t.prototype._loadFrame=function(r,o){var i,a=this.structure,s=a.frames[r];if(this.atomIndices){var l=this.atomIndices,c=l.length;i=new Float32Array(3*c);for(var u=0;u<c;++u){var d=3*u,f=3*l[u];i[d+0]=s[f+0],i[d+1]=s[f+1],i[d+2]=s[f+2]}}else i=new Float32Array(s);var p=a.boxes[r],h=a.frames.length;this._process(r,p,i,h),typeof o=="function"&&o()},t.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(t.prototype,n),t}(br),LCt=function(e){function t(r,o,i){e.call(this,r,o,i),this._init(o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"remote"},t.prototype._makeAtomIndices=function(){var r=[];if(this.structure.type==="StructureView"){for(var o=this.structure.getAtomIndices(),i=o.length,a=o[0],s=o[0],l=1;l<i;++l){var c=o[l];s+1<c&&(r.push([a,s+1]),a=c),s=c}r.push([a,s+1])}else r.push([0,this.atomCount]);this.atomIndices=r},t.prototype._loadFrame=function(r,o){var i=this,a=new XMLHttpRequest,s=b$.getFrameUrl(this.trajPath,r),l=b$.getFrameParams(this.trajPath,this.atomIndices);a.open("POST",s,!0),a.responseType="arraybuffer",a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.addEventListener("load",function(){var c=a.response;if(c){var u=new Int32Array(c,0,1)[0],d=new Float32Array(c,8,9),f=new Float32Array(c,44);i._process(r,d,f,u),typeof o=="function"&&o()}else Ze.error("empty arrayBuffer for '"+s+"'")},!1),a.send(l)},t.prototype._loadFrameCount=function(){var r=this,o=new XMLHttpRequest,i=b$.getCountUrl(this.trajPath);o.open("GET",i,!0),o.addEventListener("load",function(){r._setFrameCount(parseInt(o.response))},!1),o.send()},Object.defineProperties(t.prototype,n),t}(br),$Ct=function(e){function t(r,o,i){e.call(this,"",o,i),this.requestCallback=r,this._init(o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"callback"},t.prototype._makeAtomIndices=function(){var r=[];if(this.structure.type==="StructureView"){for(var o=this.structure.getAtomIndices(),i=o.length,a=o[0],s=o[0],l=1;l<i;++l){var c=o[l];s+1<c&&(r.push([a,s+1]),a=c),s=c}r.push([a,s+1])}else r.push([0,this.atomCount]);this.atomIndices=r},t.prototype._loadFrame=function(r,o){var i=this;this.requestCallback(function(a,s,l,c){i._process(a,s,l,c),typeof o=="function"&&o()},r,this.atomIndices)},t.prototype._loadFrameCount=function(){var r=this;this.requestCallback(function(o){return r._setFrameCount(o)})},Object.defineProperties(t.prototype,n),t}(br);tn.prototype.getView=function(e){return new $pe(this,e)};var $pe=function(e){function t(r,o){e.call(this),this.structure=r,this.selection=o,this.center=new ee,this.boundingBox=new Tr,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0},_hasCoords:{configurable:!0}};return t.prototype.init=function(){},n.type.get=function(){return"StructureView"},n.name.get=function(){return this.structure.name},n.path.get=function(){return this.structure.path},n.title.get=function(){return this.structure.title},n.id.get=function(){return this.structure.id},n.data.get=function(){return this.structure.data},n.atomSetDict.get=function(){return this.structure.atomSetDict},n.biomolDict.get=function(){return this.structure.biomolDict},n.entityList.get=function(){return this.structure.entityList},n.unitcell.get=function(){return this.structure.unitcell},n.frames.get=function(){return this.structure.frames},n.boxes.get=function(){return this.structure.boxes},n.validation.get=function(){return this.structure.validation},n.bondStore.get=function(){return this.structure.bondStore},n.backboneBondStore.get=function(){return this.structure.backboneBondStore},n.rungBondStore.get=function(){return this.structure.rungBondStore},n.atomStore.get=function(){return this.structure.atomStore},n.residueStore.get=function(){return this.structure.residueStore},n.chainStore.get=function(){return this.structure.chainStore},n.modelStore.get=function(){return this.structure.modelStore},n.atomMap.get=function(){return this.structure.atomMap},n.residueMap.get=function(){return this.structure.residueMap},n.bondHash.get=function(){return this.structure.bondHash},n.spatialHash.get=function(){return this.structure.spatialHash},n._hasCoords.get=function(){return this.structure._hasCoords},n._hasCoords.set=function(r){this.structure._hasCoords=r},t.prototype.refresh=function(){ot&&Ze.time("StructureView.refresh"),this.atomSetCache={};var r=this.structure;if(this.selection.isAllSelection()&&r!==this&&r.atomSet&&r.bondSet){for(var o in this.atomSet=r.atomSet.clone(),this.bondSet=r.bondSet.clone(),this.atomSetDict){var i=this.atomSetDict[o];this.atomSetCache["__"+o]=i.clone()}this.atomCount=r.atomCount,this.bondCount=r.bondCount,this.boundingBox.copy(r.boundingBox),this.center.copy(r.center)}else if(this.selection.isNoneSelection()&&r!==this&&r.atomSet&&r.bondSet){for(var a in this.atomSet=new ln(r.atomCount),this.bondSet=new ln(r.bondCount),this.atomSetDict)this.atomSetCache["__"+a]=new ln(r.atomCount);this.atomCount=0,this.bondCount=0,this.boundingBox.makeEmpty(),this.center.set(0,0,0)}else{for(var s in this.atomSet=this.getAtomSet(this.selection,!0),r.atomSet&&(this.atomSet=this.atomSet.intersection(r.atomSet)),this.bondSet=this.getBondSet(),this.atomSetDict){var l=this.atomSetDict[s];this.atomSetCache["__"+s]=l.makeIntersection(this.atomSet)}this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(new ee)}ot&&Ze.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},t.prototype.setSelection=function(r){this.selection=r,this.refresh()},t.prototype.getSelection=function(r){var o=[];r&&r.string&&o.push(r.string);var i=this.structure.getSelection();i&&i.string&&o.push(i.string),this.selection&&this.selection.string&&o.push(this.selection.string);var a="";return o.length>0&&(a="( "+o.join(" ) AND ( ")+" )"),new pr(a)},t.prototype.getStructure=function(){return this.structure.getStructure()},t.prototype.eachBond=function(r,o){this.structure.eachBond(r,this.getSelection(o))},t.prototype.eachAtom=function(r,o){var i=this.getAtomProxy(),a=this.getAtomSet(o),s=this.atomStore.count;if(a.getSize()<s)a.forEach(function(c){i.index=c,r(i)});else for(var l=0;l<s;++l)i.index=l,r(i)},t.prototype.eachResidue=function(r,o){this.structure.eachResidue(r,this.getSelection(o))},t.prototype.eachResidueN=function(r,o){console.error("StructureView.eachResidueN() not implemented")},t.prototype.eachChain=function(r,o){this.structure.eachChain(r,this.getSelection(o))},t.prototype.eachModel=function(r,o){this.structure.eachModel(r,this.getSelection(o))},t.prototype.getAtomSet=function(r,o){o===void 0&&(o=!1);var i=this.structure.getAtomSet(r);return!o&&this.atomSet&&(i=i.makeIntersection(this.atomSet)),i},t.prototype.getAtomIndices=function(r){return this.structure.getAtomIndices(this.getSelection(r))},t.prototype.refreshPosition=function(){return this.structure.refreshPosition()},t.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),this.structure=new e,delete this.atomSet,delete this.bondSet},Object.defineProperties(t.prototype,n),t}(tn),DCt=[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]];function OK(e,t){var n,r=0,o={};return t.forEach(function(i){n=0;var a={};i.forEach(function(s){a[e[n++]]=s}),o[e[r++]]=a}),o}var FCt={blosum62:OK("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:OK("ACDEFGHIKLMNPQRSTVWY",DCt)},Cv=function(e,t,n,r,o){n===void 0&&(n=-10),r===void 0&&(r=-1),o===void 0&&(o="blosum62"),this.seq1=e,this.seq2=t,this.gapPenalty=n,this.gapExtensionPenalty=r,o&&(this.substMatrix=FCt[o])};function NCt(e,t,n,r,o){var i,a,s,l,c;if(n===void 0&&(n=!1),r===void 0&&(r=""),o===void 0&&(o=""),n){var u=e,d=t;r&&o&&(u=e.getView(new pr(r)),d=t.getView(new pr(o)));var f,p,h=u.getSequence(),g=d.getSequence(),v=new Cv(h.join(""),g.join(""));v.calc(),v.trace(),i=0,a=0,s=v.ali1.length;for(var m=[],b=[],x=0;x<s;++x){var y=v.ali1[x],w=v.ali2[x];f=0,p=0,y==="-"?b[a]=!1:(b[a]=!0,f=1),w==="-"?m[i]=!1:(m[i]=!0,p=1),i+=f,a+=p}var _=[],S=[],P=u.getAtomProxy(),M=d.getAtomProxy();i=0,u.eachResidue(function(O){O.traceAtomIndex!==void 0&&O.traceAtomIndex===O.getAtomIndexByName("CA")&&(m[i]&&(P.index=O.getAtomIndexByName("CA"),_.push(P.x,P.y,P.z)),i+=1)}),i=0,d.eachResidue(function(O){O.traceAtomIndex!==void 0&&O.traceAtomIndex===O.getAtomIndexByName("CA")&&(b[i]&&(M.index=O.getAtomIndexByName("CA"),S.push(M.x,M.y,M.z)),i+=1)}),l=new Float32Array(_),c=new Float32Array(S)}else l=e.getView(new pr(r+" and .CA")),c=t.getView(new pr(o+" and .CA"));var I=new Ex(l,c).transform(e);return e.refreshPosition(),I}Cv.prototype.initMatrices=function(){this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[];for(var e=0;e<=this.n;++e){this.S[e]=[],this.V[e]=[],this.H[e]=[];for(var t=0;t<=this.m;++t)this.S[e][t]=0,this.V[e][t]=0,this.H[e][t]=0}for(var n=0;n<=this.n;++n)this.S[n][0]=this.gap(0),this.H[n][0]=-1/0;for(var r=0;r<=this.m;++r)this.S[0][r]=this.gap(0),this.V[0][r]=-1/0;this.S[0][0]=0},Cv.prototype.gap=function(e){return this.gapPenalty+e*this.gapExtensionPenalty},Cv.prototype.makeScoreFn=function(){var e=this.seq1,t=this.seq2,n=this.substMatrix;return n?function(r,o){var i=e[r],a=t[o];try{return n[i][a]}catch{return-4}}:(Ze.warn("Alignment: no subst matrix"),function(r,o){return e[r]===t[o]?5:-3})},Cv.prototype.calc=function(){ot&&Ze.time("Alignment.calc"),this.initMatrices();for(var e,t,n,r,o,i=this.gap(0),a=this.makeScoreFn(),s=this.gapExtensionPenalty,l=this.V,c=this.H,u=this.S,d=this.n,f=this.m,p=1;p<=d;++p){t=u[p-1],e=l[p-1],n=l[p],r=c[p],o=u[p];for(var h=1;h<=f;++h)n[h]=Math.max(t[h]+i,e[h]+s),r[h]=Math.max(o[h-1]+i,r[h-1]+s),o[h]=Math.max(t[h-1]+a(p-1,h-1),n[h],r[h])}ot&&Ze.timeEnd("Alignment.calc"),ot&&Ze.log(this.S,this.V,this.H)},Cv.prototype.trace=function(){ot&&Ze.time("Alignment.trace"),this.ali1="",this.ali2="";var e,t=this.makeScoreFn(),n=this.n,r=this.m;for(this.S[n][r]>=this.V[n][r]?(e="S",this.score=this.S[n][r]):this.V[n][r]>=this.H[n][r]?(e="V",this.score=this.V[n][r]):(e="H",this.score=this.H[n][r]),ot&&Ze.log("Alignment: SCORE",this.score),ot&&Ze.log("Alignment: S, V, H",this.S[n][r],this.V[n][r],this.H[n][r]);n>0&&r>0;)e==="S"?this.S[n][r]===this.S[n-1][r-1]+t(n-1,r-1)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--n,--r,e="S"):this.S[n][r]===this.V[n][r]?e="V":this.S[n][r]===this.H[n][r]?e="H":(--n,--r):e==="V"?this.V[n][r]===this.V[n-1][r]+this.gapExtensionPenalty?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="V"):this.V[n][r]===this.S[n-1][r]+this.gap(0)?(this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n,e="S"):--n:e==="H"?this.H[n][r]===this.H[n][r-1]+this.gapExtensionPenalty?(this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r,e="H"):this.H[n][r]===this.S[n][r-1]+this.gap(0)?(this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r,e="S"):--r:Ze.error("Alignment: no matrix");for(;n>0;)this.ali1=this.seq1[n-1]+this.ali1,this.ali2="-"+this.ali2,--n;for(;r>0;)this.ali1="-"+this.ali1,this.ali2=this.seq2[r-1]+this.ali2,--r;ot&&Ze.timeEnd("Alignment.trace"),ot&&Ze.log([this.ali1,this.ali2])};var BCt=Object.assign({sele:"",defaultAssembly:""},Rpe),cB=function(e){function t(r,o,i){var a,s,l,c,u;i===void 0&&(i={}),e.call(this,r,o,Object.assign({name:o.name},i)),this.structure=o,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new un.Signal,trajectoryRemoved:new un.Signal,defaultAssemblyChanged:new un.Signal}),this.initSelection(this.parameters.sele),this.pickBuffer=(a=4,s=0,l=0,c=[],{has:function(d){return c.indexOf(d)!==-1},get:function(d){return c[d]},push:function(d){c[s]=d,s=(a+s+1)%a,++l},get count(){return l},get data(){return c.slice(0,Math.min(l,a))},clear:function(){l=0,s=0,c.length=0}}),this.pickDict=(u={},{has:function(d){return u[JSON.stringify(d)]!==void 0},add:function(d,f){u[JSON.stringify(d)]=f},del:function(d){delete u[JSON.stringify(d)]},get values(){return Object.keys(u).map(function(d){return u[d]})}}),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:p1.opacity,color:p1.color,disablePicking:!0,radiusType:"data"},!0),this.distanceRepresentation=this.addRepresentation("distance",p1,!0),this.angleRepresentation=this.addRepresentation("angle",p1,!0),this.dihedralRepresentation=this.addRepresentation("dihedral",p1,!0),this.measureRepresentations=new Lpe([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation]),this.setDefaultAssembly(this.parameters.defaultAssembly)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0},type:{configurable:!0}};return n.defaultParameters.get=function(){return BCt},n.type.get=function(){return"structure"},t.prototype.initSelection=function(r){var o=this;this.selection=new pr(r),this.structureView=new $pe(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){o.structureView.setSelection(o.selection),o.rebuildRepresentations(),o.rebuildTrajectories()})},t.prototype.setSelection=function(r){return this.parameters.sele=r,this.selection.setString(r),this},t.prototype.setDefaultAssembly=function(r){if(this.structure.biomolDict[r]===void 0&&(r=""),this.parameters.defaultAssembly!==r){var o={defaultAssembly:r};this.reprList.forEach(function(i){return i.setParameters(o)}),this.measureRepresentations.setParameters(o),this.parameters.defaultAssembly=r,this.signals.defaultAssemblyChanged.dispatch(r)}return this},t.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(r){r.build()}),this.measureRepresentations.build()},t.prototype.rebuildTrajectories=function(){var r=this;this.trajList.forEach(function(o){o.trajectory.setStructure(r.structureView)})},t.prototype.updateRepresentations=function(r){e.prototype.updateRepresentations.call(this,r),this.measureRepresentations.update(r)},t.prototype.updateRepresentationMatrices=function(){e.prototype.updateRepresentationMatrices.call(this),this.measureRepresentations.setParameters({matrix:this.matrix})},t.prototype.addRepresentation=function(r,o,i){var a=this;o===void 0&&(o={}),i===void 0&&(i=!1),o.defaultAssembly=this.parameters.defaultAssembly;var s=this._addRepresentation(r,this.structureView,o,i);return i||s.signals.parametersChanged.add(function(){return a.measureUpdate()}),s},t.prototype.addTrajectory=function(r,o){var i=this;r===void 0&&(r=""),o===void 0&&(o={});var a=function(l,c,u){return l&&l instanceof m8?new kCt(l,c,u):!l&&c.frames?new RCt(l,c,u):l&&typeof l=="function"?new $Ct(l,c,u):new LCt(l,c,u)}(r,this.structureView,o);a.signals.frameChanged.add(function(){i.updateRepresentations({position:!0})});var s=new OCt(this.stage,a,o);return this.trajList.push(s),this.signals.trajectoryAdded.dispatch(s),s},t.prototype.removeTrajectory=function(r){var o=this.trajList.indexOf(r);o!==-1&&this.trajList.splice(o,1),r.dispose(),this.signals.trajectoryRemoved.dispatch(r)},t.prototype.dispose=function(){this.trajList.slice().forEach(function(r){return r.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),e.prototype.dispose.call(this)},t.prototype.autoView=function(r,o){typeof r=="number"&&(o=r,r=""),this.stage.animationControls.zoomMove(this.getCenter(r),this.getZoom(r),se(o,0))},t.prototype.getBoxUntransformed=function(r){return r?this.structureView.getBoundingBox(new pr(r)):this.structureView.boundingBox},t.prototype.getCenterUntransformed=function(r){return r&&typeof r=="string"?this.structure.atomCenter(new pr(r)):this.structure.center},t.prototype.superpose=function(r,o,i,a){return NCt(this.structureView,r.structureView,o,i,a),this.updateRepresentations({position:!0}),this},t.prototype.getMaxRepresentationRadius=function(r){var o=0,i=this.structure.getAtomProxy(r);return this.eachRepresentation(function(a){if(a.getVisibility()){var s=a.repr;o=Math.max(s.getAtomRadius(i),o)}}),o},t.prototype.measurePick=function(r){var o=this.pickBuffer.count;if(this.lastPick===r.index&&o>=1){if(o>1){var i=this.pickBuffer.data,a=this.pickBuffer.data.sort();this.pickDict.has(a)?this.pickDict.del(a):this.pickDict.add(a,i),o===2?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(s){return s.length===2})}):o===3?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(s){return s.length===3})}):o===4&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(s){return s.length===4})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(r.index)||this.pickBuffer.push(r.index),this.lastPick=r.index;this.measureUpdate()},t.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},t.prototype.measureBuild=function(){var r=this.measureData();this.distanceRepresentation.setParameters({atomPair:r.distance}),this.angleRepresentation.setParameters({atomTriple:r.angle}),this.dihedralRepresentation.setParameters({atomQuad:r.dihedral})},t.prototype.measureUpdate=function(){var r=this,o=this.pickBuffer.data,i={};o.forEach(function(a){var s=Math.max(.1,r.getMaxRepresentationRadius(a));i[a]=s*(2.3-oC(.1,2,s))}),this.spacefillRepresentation.setSelection(o.length?"@"+o.join(","):"none"),o.length&&this.spacefillRepresentation.setParameters({radiusData:i})},t.prototype.measureData=function(){var r=this.pickDict.values;return{distance:r.filter(function(o){return o.length===2}),angle:r.filter(function(o){return o.length===3}),dihedral:r.filter(function(o){return o.length===4})}},t.prototype.removeAllMeasurements=function(r){var o=this.pickDict,i=o.values,a=function(s){i.filter(function(l){return l.length===s}).forEach(function(l){return o.del(l.slice().sort())})};(!r||1&r)&&a(2),(!r||2&r)&&a(3),(!r||4&r)&&a(4),this.measureBuild()},t.prototype.removeMeasurement=function(r){this.pickDict.del(r.slice().sort()),this.measureBuild()},t.prototype.addMeasurement=function(r){if(!(r.length<2||r.length>4)){var o=r.slice().sort();this.pickDict.has(o)||this.pickDict.add(o,r),this.measureBuild()}},Object.defineProperties(t.prototype,n),t}(Yn);Ty.add("structure",cB),Ty.add("structureview",cB);var Dpe=function(e){function t(r,o,i){i===void 0&&(i={}),e.call(this,r,o,Object.assign({name:o.name},i)),this.surface=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"surface"},t.prototype.addRepresentation=function(r,o){return o===void 0&&(o={}),this._addRepresentation(r,this.surface,o)},t.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},t.prototype.getCenterUntransformed=function(){return this.surface.center},t.prototype.dispose=function(){this.surface.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(Yn);Ty.add("surface",Dpe);var Fpe=function(e){function t(r,o,i){i===void 0&&(i={}),e.call(this,r,o,Object.assign({name:o.name},i)),this.volume=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"volume"},t.prototype.addRepresentation=function(r,o){return o===void 0&&(o={}),this._addRepresentation(r,this.volume,o)},t.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},t.prototype.getCenterUntransformed=function(){return this.volume.center},t.prototype.dispose=function(){this.volume.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(Yn);Ty.add("volume",Fpe);var IK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addRepresentation=function(n,r){return this.forEach(function(o){return o.addRepresentation(n,r)})},t.prototype.autoView=function(n){return this.forEach(function(r){return r.autoView(n)})},t}(Yv);function kK(e,t){return e instanceof RegExp?t.name.match(e)!==null:t.name===e}var jCt=new ee,zCt={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,clipMode:"scene",clipScale:"relative",fogNear:50,fogFar:100,cameraFov:40,cameraEyeSep:.3,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},$n=function(e,t){t===void 0&&(t={}),this.signals={parametersChanged:new un.Signal,fullscreenChanged:new un.Signal,componentAdded:new un.Signal,componentRemoved:new un.Signal,clicked:new un.Signal,hovered:new un.Signal},this.tasks=new Yc,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new mn(e),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:"1000000",pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),this.viewer.container.appendChild(this.tooltip),this.mouseObserver=new Ui(this.viewer.renderer.domElement),this.viewerControls=new Gi(this),this.trackballControls=new hs(this),this.pickingControls=new npe(this),this.animationControls=new ho(this),this.mouseControls=new wv(this),this.keyControls=new _v(this),this.pickingBehavior=new yM(this),this.mouseBehavior=new Mf(this),this.animationBehavior=new oB(this),this.keyBehavior=new Sv(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=Ws(t,zCt),this.setParameters(this.parameters),this.viewer.animate())};$n.prototype.setParameters=function(e){e===void 0&&(e={}),Vfe(this.parameters,e);var t=e,n=this.parameters,r=this.viewer,o=this.trackballControls;return t.quality!==void 0&&this.setQuality(n.quality),t.impostor!==void 0&&this.setImpostor(n.impostor),t.rotateSpeed!==void 0&&(o.rotateSpeed=n.rotateSpeed),t.zoomSpeed!==void 0&&(o.zoomSpeed=n.zoomSpeed),t.panSpeed!==void 0&&(o.panSpeed=n.panSpeed),t.mousePreset!==void 0&&this.mouseControls.preset(n.mousePreset),this.mouseObserver.setParameters({hoverTimeout:n.hoverTimeout}),r.setClip(n.clipNear,n.clipFar,n.clipDist,n.clipMode,n.clipScale),r.setFog(void 0,n.fogNear,n.fogFar),r.setCamera(n.cameraType,n.cameraFov,n.cameraEyeSep),r.setSampling(n.sampleLevel),r.setBackground(n.backgroundColor),r.setLight(n.lightColor,n.lightIntensity,n.ambientColor,n.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},$n.prototype.log=function(e){console.log("STAGE LOG",e),this.logList.push(e)},$n.prototype.getParameters=function(){return Object.assign({},this.parameters)},$n.prototype.defaultFileRepresentation=function(e){if(e instanceof cB){var t,n,r;e.setSelection("/0");var o=e.structure;if(o.biomolDict.BU1){var i=o.biomolDict.BU1;t=i.getAtomCount(o),n=i.getResidueCount(o),r=i.getInstanceCount(),e.setDefaultAssembly("BU1")}else t=o.getModelProxy(0).atomCount,n=o.getModelProxy(0).residueCount,r=1;var a=t;Zfe&&(a*=4);var s=o.atomStore.count/o.residueStore.count<2;s&&(a*=10);var l="chainname",c="RdYlBu",u=!1;if(o.getChainnameCount(new pr("polymer and /0"))===1&&(l="residueindex",c="Spectral",u=!0),ot&&console.log(a,t,r,s),n/r<4)e.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(r>5&&a>15e3||a>7e5){var d=Math.min(2,Math.max(.1,6e3/(a/r)));s&&(d=Math.min(d,.5)),e.addRepresentation("surface",{colorScheme:l,colorScale:c,colorReverse:u,sele:"polymer",surfaceType:"av",probeRadius:1.4,scaleFactor:d,useWorker:!1})}else a>25e4?e.addRepresentation("backbone",{colorScheme:l,colorScale:c,colorReverse:u,lineOnly:!0}):a>1e5?e.addRepresentation("backbone",{colorScheme:l,colorScale:c,colorReverse:u,quality:"low",disableImpostor:!0,radiusScale:2}):a>8e4?e.addRepresentation("backbone",{colorScheme:l,colorScale:c,colorReverse:u,radiusScale:2}):(e.addRepresentation("cartoon",{colorScheme:l,colorScale:c,colorReverse:u,radiusScale:.7,aspectRatio:5,quality:"auto"}),a<5e4&&e.addRepresentation("base",{colorScheme:l,colorScale:c,colorReverse:u,quality:"auto"}),e.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));e.structure.frames.length&&e.addTrajectory()}else(e instanceof Dpe||e instanceof Fpe)&&e.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},$n.prototype.loadFile=function(e,t){var n=this;t===void 0&&(t={});var r=Object.assign({},this.defaultFileParams,t),o=Zo(e).name;this.tasks.increment(),this.log("loading file '"+o+"'");var i=se(r.ext,Zo(e).ext);return(rn.isTrajectory(i)?Promise.reject(new Error("loadFile: ext '"+i+"' is a trajectory and must be loaded into a structure component")):qN(e,r)).then(function(a){n.log("loaded '"+o+"'");var s=n.addComponentFromObject(a,r);return r.defaultRepresentation&&n.defaultFileRepresentation(s),n.tasks.decrement(),s},function(a){n.tasks.decrement();var s="error loading file: '"+a+"'";throw n.log(s),s})},$n.prototype.loadScript=function(e){var t=this,n=Zo(e).name;return this.log("loading script '"+n+"'"),qN(e).then(function(r){t.tasks.increment(),t.log("running script '"+n+"'"),r.run(t).then(function(){t.tasks.decrement(),t.log("finished script '"+n+"'")}),t.log("called script '"+n+"'")},function(r){t.tasks.decrement();var o="errored script '"+n+`' "`+r+'"';throw t.log(o),o})},$n.prototype.addComponent=function(e){e?(this.compList.push(e),this.signals.componentAdded.dispatch(e)):Ze.warn("Stage.addComponent: no component given")},$n.prototype.addComponentFromObject=function(e,t){t===void 0&&(t={});var n=Ty.get(e.type);if(n){var r=new n(this,e,t);return this.addComponent(r),r}Ze.warn("no component for object type",e.type)},$n.prototype.removeComponent=function(e){var t=this.compList.indexOf(e);t!==-1&&(this.compList.splice(t,1),e.dispose(),this.signals.componentRemoved.dispatch(e))},$n.prototype.removeAllComponents=function(){var e=this;this.compList.slice().forEach(function(t){return e.removeComponent(t)})},$n.prototype.handleResize=function(){this.viewer.handleResize()},$n.prototype.setSize=function(e,t){var n=this.viewer.container;n!==document.body&&(e!==void 0&&(n.style.width=e),t!==void 0&&(n.style.height=t),this.handleResize())},$n.prototype.toggleFullscreen=function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var t=this;e=e||this.viewer.container,this.lastFullscreenElement=e,n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e.dataset.normalWidth=e.style.width||"",e.dataset.normalHeight=e.style.height||"",e.style.width=window.screen.width+"px",e.style.height=window.screen.height+"px",e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){t.handleResize()},100))}else Ze.log("fullscreen mode (currently) not possible");function n(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function r(){if(!n()&&t.lastFullscreenElement){var o=t.lastFullscreenElement;o.style.width=o.dataset.normalWidth||"",o.style.height=o.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",r),document.removeEventListener("mozfullscreenchange",r),document.removeEventListener("webkitfullscreenchange",r),document.removeEventListener("MSFullscreenChange",r),t.handleResize(),t.signals.fullscreenChanged.dispatch(!1)}}},$n.prototype.setSpin=function(e){e?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},$n.prototype.setRock=function(e){e?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},$n.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},$n.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},$n.prototype.getFocus=function(){var e=this.parameters;if(e.clipMode!=="scene")return 0;var t=e.clipNear;return e.clipScale==="absolute"&&(t=this.viewer.absoluteToRelative(t)),2*t},$n.prototype.setFocus=function(e){var t,n,r,o;this.parameters.clipMode==="scene"&&(this.parameters.clipScale==="relative"?(r=50,o=function(i){return GN(i,0,100)}(2*(n=100-(t=GN(e/2,0,49.9)))-50)):(r=0,o=2*(n=t=this.viewer.relativeToAbsolute(e/2))),this.setParameters({clipNear:t,clipFar:n,fogNear:r,fogFar:o}))},$n.prototype.getZoomForBox=function(e){var t=e.getSize(jCt),n=Math.max(t.x,t.y,t.z),r=Math.min(t.x,t.y,t.z),o=n+Math.sqrt(r),i=oo(this.viewer.perspectiveCamera.fov),a=this.viewer.width,s=this.viewer.height,l=s<a?1:a/s;return o=Math.abs(.5*o/l/Math.sin(i/2)),-(o+=this.parameters.clipDist)},$n.prototype.getBox=function(){return this.viewer.boundingBox},$n.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},$n.prototype.getCenter=function(e){return this.getBox().getCenter(e||new ee)},$n.prototype.autoView=function(e){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),se(e,0))},$n.prototype.makeImage=function(e){var t=this;return e===void 0&&(e={}),new Promise(function(n,r){t.tasks.onZeroOnce(function(){t.tasks.increment(),t.viewer.makeImage(e).then(function(o){t.tasks.decrement(),n(o)}).catch(function(o){t.tasks.decrement(),r(o)})})})},$n.prototype.setImpostor=function(e){this.parameters.impostor=e;var t=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(n){if(t.includes(n.getType())){var r=n.getParameters();r.disableImpostor=!e,n.build(r)}})},$n.prototype.setQuality=function(e){this.parameters.quality=e;var t=["tube","cartoon","ribbon","trace","rope"],n=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(r){var o=r.getParameters();if(!t.includes(r.getType())){if(!n.includes(r.getType()))return;if(!o.disableImpostor)return void(r.repr.quality=e)}o.quality=e,r.build(o)})},$n.prototype.eachComponent=function(e,t){this.compList.slice().forEach(function(n){t!==void 0&&t!==n.type||e(n)})},$n.prototype.eachRepresentation=function(e,t){this.eachComponent(function(n){n.reprList.slice().forEach(function(r){t!==void 0&&t!==r.getType()||e(r,n)})})},$n.prototype.getComponentsByName=function(e){var t=[];return this.eachComponent(function(n){(e===void 0||kK(e,n))&&t.push(n)}),new IK(t)},$n.prototype.getComponentsByObject=function(e){var t=[];return this.eachComponent(function(n){n.object===e&&t.push(n)}),new IK(t)},$n.prototype.getRepresentationsByName=function(e){var t=[];return this.eachRepresentation(function(n,r){(e===void 0||kK(e,n))&&t.push(n)}),new Lpe(t)},$n.prototype.measureClear=function(){this.eachComponent(function(e){return e.measureClear()},"structure")},$n.prototype.measureUpdate=function(){this.eachComponent(function(e){return e.measureUpdate()},"structure")},$n.prototype.dispose=function(){this.tasks.dispose(),this.viewer.dispose(),this.mouseObserver.dispose()};var HCt=function(e){function t(r,o,i){i===void 0&&(i={}),e.call(this,r,o,Object.assign({name:o.name},i)),this.shape=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"shape"},t.prototype.addRepresentation=function(r,o){return o===void 0&&(o={}),this._addRepresentation(r,this.shape,o)},t.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},t.prototype.getCenterUntransformed=function(){return this.shape.center},t.prototype.dispose=function(){this.shape.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(Yn);function ir(e,t,n,r){var o,i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}Ty.add("shape",HCt);var RK=function(e){function t(n){var r=this;e.call(this,n),n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=se(n.reverse,!0)),this.scalePerModel={},n.structure.eachModel(function(o){r.parameters.domain=[o.atomOffset,o.atomEnd],r.scalePerModel[o.index]=r.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.index)},t}(Tn);ir([or],RK.prototype,"atomColor",null),Cn.add("atomindex",RK);var LK=function(e){function t(n){if(e.call(this,n),n.scale||(this.parameters.scale="OrRd"),!n.domain){var r,o=1/0,i=-1/0;n.sele&&(r=new pr(n.sele)),n.structure.eachAtom(function(a){var s=a.bfactor;o=Math.min(o,s),i=Math.max(i,s)},r),this.parameters.domain=[o,i]}this.bfactorScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.bfactorScale(n.bfactor)},t}(Tn);ir([or],LK.prototype,"atomColor",null),Cn.add("bfactor",LK);var $K=function(e){function t(n){var r=this;e.call(this,n),this.chainidDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(o){var i=0,a={};o.eachChain(function(s){a[s.chainid]===void 0&&(a[s.chainid]=i,i+=1)}),r.parameters.domain=[0,i-1],r.chainidDictPerModel[o.index]=a,r.scalePerModel[o.index]=r.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=this.chainidDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](r[n.chainid])},t}(Tn);ir([or],$K.prototype,"atomColor",null),Cn.add("chainid",$K);var DK=function(e){function t(n){var r=this;e.call(this,n),this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(o){r.parameters.domain=[o.chainOffset,o.chainEnd],r.scalePerModel[o.index]=r.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerModel[n.modelIndex](n.chainIndex)},t}(Tn);ir([or],DK.prototype,"atomColor",null),Cn.add("chainindex",DK);var FK=function(e){function t(n){var r=this;e.call(this,n),this.chainnameDictPerModel={},this.scalePerModel={},n.scale||(this.parameters.scale="Spectral"),n.structure.eachModel(function(o){var i=0,a={};o.eachChain(function(s){a[s.chainname]===void 0&&(a[s.chainname]=i,i+=1)}),r.parameters.domain=[0,i-1],r.chainnameDictPerModel[o.index]=a,r.scalePerModel[o.index]=r.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=this.chainnameDictPerModel[n.modelIndex];return this.scalePerModel[n.modelIndex](r[n.chainname])},t}(Tn);ir([or],FK.prototype,"atomColor",null),Cn.add("chainname",FK);var NK=function(e){function t(n){e.call(this,n),this.rsrzDict={},this.rsccDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var r=n.structure.validation;r&&(this.rsrzDict=r.rsrzDict,this.rsccDict=r.rsccDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=n.resno+"";n.inscode&&(r+="^"+n.inscode),n.chainname&&(r+=":"+n.chainname),r+="/"+n.modelIndex;var o=this.rsrzDict[r];if(o!==void 0)return this.rsrzScale(o);var i=this.rsccDict[r];return i!==void 0?this.rsccScale(i):9474192},t}(Tn);ir([or],NK.prototype,"atomColor",null),Cn.add("densityfit",NK);var W$={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},BK=function(e){function t(n){var r=this;e.call(this,n),this.delta=new ee,this.hCharges=[],n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-50,50]),this.scale=this.getScale(),this.charges=new Float32Array(n.structure.atomCount);var o=[];n.structure.eachAtom(function(a){var s;if(r.charges[a.index]=((s=a).partialCharge!==null?s.partialCharge:s.isProtein()&&(W$[s.resname]&&W$[s.resname][s.atomname]||W$.backbone[s.atomname])||0)*a.occupancy,a.atomname==="N"){if(a.bondCount>=3||a.bondToElementCount(1))return;var l=function(c,u){u===void 0&&(u=new ee);var d=!1,f=!1,p=!1;return u.set(2*c.x,2*c.y,2*c.z),c.eachBondedAtom(function(h){if(!d)return h.atomname==="H"?(u.set(h.x,h.y,h.z),void(d=!0)):void(f||h.atomname!=="CA"?p||h.atomname!=="C"||(p=!0,u.sub(h)):(u.sub(h),f=!0))}),d?u:f&&p?(u.normalize(),u.multiplyScalar(1.04),u.add(c),u):void 0}(a);l!==void 0&&(o.push(l),r.hCharges.push(.25*a.occupancy))}});var i=n.structure.getBoundingBox();i.expandByScalar(1.04),this.hStore=function(a){for(var s=a.length,l=new Float32Array(s),c=new Float32Array(s),u=new Float32Array(s),d=0;d<a.length;d++){var f=a[d];l[d]=f.x,c[d]=f.y,u[d]=f.z}return{x:l,y:c,z:u,count:s}}(o),this.hHash=new Xm(this.hStore,i),this.hash=new Xm(n.structure.atomStore,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var r=this.charges,o=this.hCharges,i=0;return this.hash.eachWithin(n.x,n.y,n.z,12,function(a,s){var l=r[a];l!==0&&(i+=l/s)}),this.hHash.eachWithin(n.x,n.y,n.z,12,function(a,s){var l=o[a];l!==0&&(i+=l/s)}),this.scale(332*i)},t}(Tn);ir([or],BK.prototype,"positionColor",null),Cn.add("electrostatic",BK);var jK={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},zK=function(e){function t(n){n.value=se(n.value,jK.C),e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=n.element;return r==="C"?this.parameters.value:jK[r]||16777215},t}(Tn);ir([or],zK.prototype,"atomColor",null),Cn.add("element",zK);var HK=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="Spectral"),n.domain||(this.parameters.domain=[0,n.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.entityindexScale(n.entityIndex)},t}(Tn);ir([or],HK.prototype,"atomColor",null),Cn.add("entityindex",HK);var VK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=n.entity;switch(r?r.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},t}(Tn);ir([or],VK.prototype,"atomColor",null),Cn.add("entitytype",VK);var UK=function(e){function t(n){e.call(this,n),this.geoAtomDict={},this.geoDict={};var r=n.structure.validation;r&&(this.geoAtomDict=r.geoAtomDict,this.geoDict=r.geoDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r,o=n.resno+"";n.inscode&&(o+="^"+n.inscode),n.chainname&&(o+=":"+n.chainname),o+="/"+n.modelIndex;var i,a=this.geoAtomDict[o];if(a!==void 0){var s=a[n.atomname]||0;i=s,r=16843009*((i=(858993459&(i-=i>>1&1431655765))+(i>>2&858993459))+(i>>4)&252645135)>>24}else r=this.geoDict[o]||0;return r===0?2188972:r===1?16703627:r===2?16018755:r>=3?10813478:9474192},t}(Tn);ir([or],UK.prototype,"atomColor",null),Cn.add("geoquality",UK);var GK=function(e){function t(n){e.call(this,n),this.resHF={},n.scale||(this.parameters.scale="RdYlGn");for(var r in nK)this.resHF[r]=nK[r][0];if(this.defaultResidueHydrophobicity=eSt[0],!n.domain){var o=1/0,i=-1/0;for(var a in this.resHF){var s=this.resHF[a];o=Math.min(o,s),i=Math.max(i,s)}this.parameters.domain=[o,0,i]}this.hfScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.hfScale(this.resHF[n.resname]||this.defaultResidueHydrophobicity)},t}(Tn);ir([or],GK.prototype,"atomColor",null),Cn.add("hydrophobicity",GK);var WK=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rainbow"),n.domain||(this.parameters.domain=[0,n.structure.modelStore.count]),this.modelindexScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.modelindexScale(n.modelIndex)},t}(Tn);ir([or],WK.prototype,"atomColor",null),Cn.add("modelindex",WK);var qK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){switch(n.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},t}(Tn);ir([or],qK.prototype,"atomColor",null),Cn.add("moleculetype",qK);var XK=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="PuBu"),n.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.occupancyScale(n.occupancy)},t}(Tn);ir([or],XK.prototype,"atomColor",null),Cn.add("occupancy",XK);var KK=function(e){function t(n){e.call(this,n),n.scale||(this.parameters.scale="rwb"),n.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.partialchargeScale(n.partialCharge||0)},t}(Tn);function q$(){return 16777215*Math.random()}ir([or],KK.prototype,"atomColor",null),Cn.add("partialcharge",KK);var fP=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return q$()},t.prototype.volumeColor=function(){return q$()},t.prototype.positionColor=function(){return q$()},t}(Tn);ir([or],fP.prototype,"atomColor",null),ir([or],fP.prototype,"volumeColor",null),ir([or],fP.prototype,"positionColor",null),Cn.add("random",fP);var YK=function(e){function t(n){e.call(this,n),this.rciDict={},n.scale||(this.parameters.scale="RdYlBu"),this.rciScale=this.getScale({domain:[.6,0]});var r=n.structure.validation;r&&(this.rciDict=r.rciDict)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r="["+n.resname+"]"+n.resno;n.chainname&&(r+=":"+n.chainname);var o=this.rciDict[r];return o!==void 0?this.rciScale(o):9474192},t}(Tn);ir([or],YK.prototype,"atomColor",null),Cn.add("randomcoilindex",YK);var ZK=function(e){function t(n){var r=this;e.call(this,n),this.scalePerChain={},n.scale||(this.parameters.scale="rainbow",this.parameters.reverse=se(n.reverse,!0)),n.structure.eachChain(function(o){r.parameters.domain=[o.residueOffset,o.residueEnd],r.scalePerChain[o.index]=r.getScale()})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return this.scalePerChain[n.chainIndex](n.residueIndex)},t}(Tn);ir([or],ZK.prototype,"atomColor",null),Cn.add("residueindex",ZK);var VCt={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:14423100,G:3329330,I:10145074,X:8190976,C:16766720,T:4286945,U:4251856,D:35723,DA:14423100,DG:3329330,DI:10145074,DX:8190976,DC:16766720,DT:4286945,DU:4251856,DD:35723},QK=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){return VCt[n.resname]||16711935},t}(Tn);ir([or],QK.prototype,"atomColor",null),Cn.add("resname",QK);var UCt=16711808,GCt=10485888,WCt=6291584,qCt=16762880,XCt=6324479,KCt=16777215,YCt=11403518,ZCt=16580962,QCt=10921722,JK=function(e){function t(n){e.call(this,n),this.residueProxy=n.structure.getResidueProxy()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r=n.sstruc,o=this.residueProxy;return r==="h"?UCt:r==="g"?GCt:r==="i"?WCt:r==="e"||r==="b"?qCt:r==="t"?XCt:(o.index=n.residueIndex,o.isDna()?YCt:o.isRna()?ZCt:o.isSaccharide()?QCt:o.isProtein()||r==="s"||r==="l"?KCt:8421504)},t}(Tn);ir([or],JK.prototype,"atomColor",null),Cn.add("sstruc",JK);var X$=function(e){function t(n){var r,o;e.call(this,n),n.scale||(this.parameters.scale="rwb"),this.atomData=(r=this.parameters.data)===null||r===void 0?void 0:r.atomData,this.bondData=(o=this.parameters.data)===null||o===void 0?void 0:o.bondData,this.scale=this.getScale(this.parameters)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(n){var r,o=(r=this.atomData)===null||r===void 0?void 0:r[n.index];return o!==void 0?this.scale(o):this.parameters.value},t.prototype.bondColor=function(n,r){var o,i=(o=this.bondData)===null||o===void 0?void 0:o[n.index];return i!==void 0?this.scale(i):this.atomProxy?(this.atomProxy.index=r?n.atomIndex1:n.atomIndex2,this.atomColor(this.atomProxy)):this.parameters.value},t}(Tn);ir([or],X$.prototype,"atomColor",null),ir([or],X$.prototype,"bondColor",null),Cn.add("structuredata",X$);var v1=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.atomColor=function(){return this.parameters.value},t.prototype.bondColor=function(){return this.parameters.value},t.prototype.valueColor=function(){return this.parameters.value},t.prototype.volumeColor=function(){return this.parameters.value},t}(Tn);ir([or],v1.prototype,"atomColor",null),ir([or],v1.prototype,"bondColor",null),ir([or],v1.prototype,"valueColor",null),ir([or],v1.prototype,"volumeColor",null),Cn.add("uniform",v1);var eY=function(e){function t(n){e.call(this,n),this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.volumeColor=function(n){return this.valueScale(this.parameters.volume.data[n])},t}(Tn);ir([or],eY.prototype,"volumeColor",null),Cn.add("value",eY);var tY=function(e){function t(n){e.call(this,n),this.vec=new ee,this.valueScale=this.getScale()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.positionColor=function(n){var r=this.parameters.volume;if(!r||!r.inverseMatrix)return this.parameters.value;var o=this.vec,i=r.data,a=r.nx,s=r.ny,l=a*s;o.copy(n),o.applyMatrix4(r.inverseMatrix);var c=Math.floor(o.x),u=Math.floor(o.y),d=Math.floor(o.z),f=(d*s+u)*a+c,p=f+1,h=f+a,g=f+l,v=h+1,m=g+1,b=h+l,x=b+1,y=i[f],w=i[p],_=i[h],S=i[g],P=i[v],M=i[m],I=i[b],O=i[x],L=o.x-c,R=o.y-u,T=o.z-d,E=cl(y,w,L),k=cl(S,M,L),B=cl(_,P,L),$=cl(I,O,L),j=cl(E,B,R),V=cl(k,$,R),q=cl(j,V,T);return this.valueScale(q)},t}(Tn);ir([or],tY.prototype,"positionColor",null),Cn.add("volume",tY);var Ni=function(e){function t(r,o,i){var a=i||{};if(e.call(this,r,o,a),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Iu.types},radiusData:{type:"hidden"},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new pr(a.sele),this.dataList=[],this.structure=r,this.structureView=this.structure.getView(this.selection),r.biomolDict){var s={default:"default","":r.unitcell?"AU":"FULL"};Object.keys(r.biomolDict).forEach(function(l){s[l]=l}),this.parameters.assembly={type:"select",options:s,rebuild:!0}}else this.parameters.assembly=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultScale:{configurable:!0}};return n.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},t.prototype.init=function(r){var o=this,i=r||{};i.colorScheme=se(i.colorScheme,"element"),this.setRadius(i.radius,i),this.radiusType=se(i.radiusType,"vdw"),this.radiusData=se(i.radiusData,{}),this.radiusSize=se(i.radiusSize,1),this.radiusScale=se(i.radiusScale,1),this.assembly=se(i.assembly,"default"),this.defaultAssembly=se(i.defaultAssembly,""),i.quality==="auto"&&(i.quality=this.getQuality()),e.prototype.init.call(this,i),this.selection.signals.stringChanged.add(function(){o.build()}),this.build()},t.prototype.setRadius=function(r,o){var i=Object.keys(Ape);return typeof r=="string"&&i.includes(r.toLowerCase())?o.radiusType=r:r!==void 0&&(o.radiusType="size",o.radiusSize=r),this},t.prototype.getAssembly=function(){var r=this.assembly==="default"?this.defaultAssembly:this.assembly;return this.structure.biomolDict[r]},t.prototype.getQuality=function(){var r,o=this.structureView,i=this.getAssembly();return r=i?i.getAtomCount(o):o.atomCount,Zfe&&(r*=4),o.atomStore.count/o.residueStore.count<2&&(r*=10),r<15e3?"high":r<8e4?"medium":"low"},t.prototype.create=function(){var r=this;if(this.structureView.atomCount!==0)if(this.structureView.hasCoords()){this.needsBuild=!1;var o=this.getAssembly();if(o)o.partList.forEach(function(a,s){var l=a.getView(r.structureView);if(l.atomCount!==0){var c=r.createData(l,s);c&&(c.sview=l,c.instanceList=a.getInstanceList(),r.dataList.push(c))}});else{var i=this.createData(this.structureView,0);i&&(i.sview=this.structureView,this.dataList.push(i))}}else this.needsBuild=!0},t.prototype.update=function(r){var o=this;!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(i){i.bufferList.length>0&&o.updateData(r,i)},this):Object.assign(this.lazyProps.what,r)},t.prototype.updateData=function(r,o){this.build()},t.prototype.getColorParams=function(){return Object.assign(Object.assign({},e.prototype.getColorParams.call(this)),{structure:this.structure})},t.prototype.getRadiusParams=function(r){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},t.prototype.getAtomParams=function(r,o){return Object.assign({what:r,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},o)},t.prototype.getBondParams=function(r,o){return Object.assign({what:r,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},o)},t.prototype.getAtomRadius=function(r){return this.structureView.atomSet.isSet(r.index)?new Iu(this.getRadiusParams()).atomRadius(r):0},t.prototype.setSelection=function(r,o){return this.selection.setString(r,o),this},t.prototype.setParameters=function(r,o,i){o===void 0&&(o={}),i===void 0&&(i=!1);var a=r||{};return this.setRadius(a.radius,a),a.radiusType===void 0&&a.radiusData===void 0&&a.radiusSize===void 0&&a.radiusScale===void 0||(o.radius=!0,xu&&!this.disableImpostor||(i=!0)),a.defaultAssembly!==void 0&&a.defaultAssembly!==this.defaultAssembly&&(this.assembly==="default"&&a.assembly===void 0||a.assembly==="default")&&(i=!0),e.prototype.setParameters.call(this,a,o,i),this},t.prototype.getParameters=function(){return Object.assign(e.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},t.prototype.attach=function(r){var o=this.viewer,i=this.bufferList;this.dataList.forEach(function(a){a.bufferList.forEach(function(s){i.push(s),o.add(s,a.instanceList)})}),this.setVisibility(this.visible),r()},t.prototype.clear=function(){this.dataList.length=0,e.prototype.clear.call(this)},t.prototype.dispose=function(){this.structureView.dispose(),e.prototype.dispose.call(this)},Object.defineProperties(t.prototype,n),t}(Co),g8=function(e){function t(n,r,o){e.call(this,n,r,o),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},labelFixedSize:{type:"boolean",buffer:"fixedSize"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};this.labelVisible=se(r.labelVisible,!0),this.labelSize=se(r.labelSize,2),this.labelColor=se(r.labelColor,16777215),this.labelFontFamily=se(r.labelFontFamily,"sans-serif"),this.labelFontStyle=se(r.labelFontstyle,"normal"),this.labelFontWeight=se(r.labelFontWeight,"bold"),this.labelsdf=se(r.labelsdf,Kfe==="Chrome"),this.labelXOffset=se(r.labelXOffset,0),this.labelYOffset=se(r.labelYOffset,0),this.labelZOffset=se(r.labelZOffset,.5),this.labelAttachment=se(r.labelAttachment,"bottom-left"),this.labelBorder=se(r.labelBorder,!1),this.labelBorderColor=se(r.labelBorderColor,"lightgrey"),this.labelBorderWidth=se(r.labelBorderWidth,.15),this.labelBackground=se(r.labelBackground,!1),this.labelBackgroundColor=se(r.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=se(r.labelBackgroundMargin,.5),this.labelBackgroundOpacity=se(r.labelBackgroundOpacity,1),this.labelFixedSize=se(r.labelFixedSize,!1),this.lineOpacity=se(r.lineOpacity,1),this.linewidth=se(r.linewidth,2),e.prototype.init.call(this,r)},t.prototype.update=function(n){n.position?this.build():e.prototype.update.call(this,n)},t.prototype.updateData=function(n,r){var o={};if(n&&!n.labelSize||Object.assign(o,{size:Bs(this.n,this.labelSize)}),!n||n.labelColor){var i=new vt(this.labelColor);Object.assign(o,{color:yr(this.n,i.r,i.g,i.b)})}this.textBuffer.setAttributes(o)},t.prototype.setParameters=function(n,r,o){return r===void 0&&(r={}),o===void 0&&(o=!1),n&&n.labelSize&&(r.labelSize=!0),n&&(n.labelColor||n.labelColor===0)&&(r.labelColor=!0,o=!0),e.prototype.setParameters.call(this,n,r,o),n&&n.opacity!==void 0&&this.textBuffer.setParameters({opacity:1}),n&&n.labelVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,r){return e.prototype.setVisibility.call(this,n,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),r||this.viewer.requestRender(),this},t.prototype.getLabelBufferParams=function(n){return n===void 0&&(n={}),e.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,fixedSize:this.labelFixedSize,disablePicking:!0,visible:this.labelVisible},n,{opacity:1}))},t.prototype.getAtomRadius=function(){return 0},t}(Ni);function v8(e,t){var n=e.getAtomProxy(),r=new pr,o=t.length;if(o===0)return new Float32Array(0);var i=t[0].length,a=e.getAtomSet(),s=new Float32Array(o*i*3),l=0;return t.forEach(function(c){for(var u=!1,d=0;d<i;d++){var f=c[d];if(typeof f=="number"&&Number.isInteger(f)){if(!a.get(f)){u=!0;break}n.index=f}else{r.setString(f);var p=e.getAtomIndices(r);if(!p.length){u=!0;break}n.index=p[0]}var h=l+3*d;s[h++]=n.x,s[h++]=n.y,s[h++]=n.z}u||(l+=3*i)}),s.subarray(0,l)}function Zl(e,t,n,r,o){var i=Math.cos(o),a=Math.sin(o);e[0]=t[0]+n[0]*i+r[0]*a,e[1]=t[1]+n[1]*i+r[1]*a,e[2]=t[2]+n[2]*i+r[2]*a}function nY(e,t,n,r,o,i,a){for(var s=0;s<t;s++){for(var l=0;l<n;l++)r[l]=e[l*t+s];rY(r,o,i,a,n);for(var c=0;c<n;c++)e[c*t+s]=o[c]}for(var u=0;u<n;u++){for(var d=0;d<t;d++)r[d]=e[u*t+d];rY(r,o,i,a,t);for(var f=0;f<t;f++)e[u*t+f]=Math.sqrt(o[f])}}function rY(e,t,n,r,o){n[0]=0,r[0]=Number.MIN_SAFE_INTEGER,r[1]=Number.MAX_SAFE_INTEGER;for(var i=1,a=0;i<o;i++){for(var s=(e[i]+i*i-(e[n[a]]+n[a]*n[a]))/(2*i-2*n[a]);s<=r[a];)a--,s=(e[i]+i*i-(e[n[a]]+n[a]*n[a]))/(2*i-2*n[a]);n[++a]=i,r[a]=s,r[a+1]=Number.MAX_SAFE_INTEGER}for(var l=0,c=0;l<o;l++){for(;r[c+1]<l;)c++;t[l]=(l-n[c])*(l-n[c])+e[n[c]]}}Gn.add("shader/SDFFont.vert",`uniform float clipNear;
uniform float clipRadius;
uniform vec3 clipCenter;
uniform float xOffset;
uniform float yOffset;
uniform float zOffset;
uniform bool ortho;
uniform float canvasHeight;
uniform float pixelRatio;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
varying vec3 vViewPosition;
#endif
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#endif
attribute vec2 mapping;
attribute vec2 inputTexCoord;
attribute float inputSize;
#include matrix_scale
#include common
void main(void){
#if defined( PICKING )
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#endif
texCoord = inputTexCoord;
float scale = matrixScale( modelViewMatrix );
float _xOffset = xOffset * scale;
float _yOffset = yOffset * scale;
float _zOffset = zOffset * scale;
if( texCoord.x == 10.0 ){
_zOffset -= 0.001;
}
vec4 cameraPos = modelViewMatrix * vec4( position, 1.0 );
#ifdef FIXED_SIZE
if ( ortho ) {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPosition.z) * 0.1;
} else {
scale /= pixelRatio * (( canvasHeight / 2.0 ) / -cameraPos.z) * 0.1;
}
#endif
vec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );
cameraCornerPos.xy += mapping * inputSize * 0.01 * scale;
cameraCornerPos.x += _xOffset;
cameraCornerPos.y += _yOffset;
if( ortho ){
cameraCornerPos.xyz += normalize( -cameraPosition ) * _zOffset;
} else {
cameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;
}
gl_Position = projectionMatrix * cameraCornerPos;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )
vViewPosition = -cameraCornerPos.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
#include radiusclip_vertex
}`),Gn.add("shader/SDFFont.frag",`uniform sampler2D fontTexture;
uniform float opacity;
uniform bool showBorder;
uniform vec3 borderColor;
uniform float borderWidth;
uniform vec3 backgroundColor;
uniform float backgroundOpacity;
uniform float clipNear;
uniform float clipRadius;
varying vec3 vViewPosition;
varying vec2 texCoord;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#if defined( PICKING )
uniform float objectId;
varying vec3 vPickingColor;
const vec3 vColor = vec3( 0.0 );
#else
#include common
#include color_pars_fragment
#include fog_pars_fragment
#endif
const float gamma = 2.2 * 1.4142 / 128.0;
const float padding = 0.75;
void main(){
#include nearclip_fragment
#include radiusclip_fragment
if( texCoord.x > 1.0 ){
gl_FragColor = vec4( backgroundColor, backgroundOpacity );
}else{
float sdf = texture2D( fontTexture, texCoord ).a;
if( showBorder ) sdf += borderWidth;
float a = smoothstep(padding - gamma, padding + gamma, sdf);
if( a < 0.2 ) discard;
a *= opacity;
vec3 outgoingLight = vColor;
if( showBorder && sdf < ( padding + borderWidth ) ){
outgoingLight = borderColor;
}
gl_FragColor = vec4( outgoingLight, a );
}
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var K$={},JCt={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:3,width:1024,height:1024},SM=function(e){e===void 0&&(e={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.cutoff=.25,this.parameters=Ws(e,JCt);var t=this.parameters;this.radius=t.size/8,this.padding=t.size/3;var n=this.lineHeight=t.size+2*t.outline+Math.round(t.size/4),r=this.maxWidth=t.width/4,o=this.canvas=document.createElement("canvas");o.width=r,o.height=n;var i=this.context=this.canvas.getContext("2d");i.font=t.style+" "+t.variant+" "+t.weight+" "+t.size+"px "+t.font,i.fillStyle="black",i.textAlign="left",i.textBaseline="bottom",i.lineJoin="round",this.gridOuter=new Float64Array(n*r),this.gridInner=new Float64Array(n*r),this.f=new Float64Array(Math.max(n,r)),this.d=new Float64Array(Math.max(n,r)),this.z=new Float64Array(Math.max(n,r)+1),this.v=new Int16Array(Math.max(n,r)),this.data=new Uint8Array(t.width*t.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=t.width,this.canvas2.height=t.height,this.context2=this.canvas2.getContext("2d"),this.placeholder=this.map(String.fromCharCode(65533));for(var a=32;a<=126;++a)this.map(String.fromCharCode(a));this.map(String.fromCharCode(176)),this.map(String.fromCharCode(8491)),this.texture=new Iw(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};SM.prototype.map=function(e){var t=this.parameters;return this.mapped[e]===void 0&&(this.draw(e),this.currentX+this.scratchW>t.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>t.height&&console.warn("canvas to small"),this.mapped[e]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[e]},SM.prototype.get=function(e){return this.mapped[e]||this.placeholder},SM.prototype.draw=function(e){var t=this.parameters,n=this.lineHeight,r=t.outline,o=this.context,i=this.maxWidth,a=r,s=n-t.outline,l=o.measureText(e),c=Math.min(i,Math.ceil(l.width+2*a+1)),u=c*n;o.clearRect(0,0,c,n),o.fillText(e,a,s);for(var d=o.getImageData(0,0,c,n),f=d.data,p=0;p<u;p++){var h=d.data[4*p+3]/255;this.gridOuter[p]=h===1?0:h===0?Number.MAX_SAFE_INTEGER:Math.pow(Math.max(0,.5-h),2),this.gridInner[p]=h===1?Number.MAX_SAFE_INTEGER:h===0?0:Math.pow(Math.max(0,h-.5),2)}nY(this.gridOuter,c,n,this.f,this.d,this.v,this.z),nY(this.gridInner,c,n,this.f,this.d,this.v,this.z);for(var g=0;g<u;g++){var v=this.gridOuter[g]-this.gridInner[g];f[4*g+3]=Math.max(0,Math.min(255,Math.round(255-255*(v/this.radius+this.cutoff))))}o.putImageData(d,0,0),this.scratchW=c,this.scratchH=n};var e2t=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:36,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0,fixedSize:!1},Ta),t2t=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0},fixedSize:{updateShader:!0}},Sg);function oY(e,t){for(var n=e.position.length/3,r=0,o=0;o<n;++o)r+=e.text[o].length;return t.showBackground&&(r+=n),r}var A0=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,{position:new Float32Array(3*oY(r,o)),color:new Float32Array(3*oY(r,o)),picking:new OSt},o),this.parameterTypes=t2t,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=r.text,this.positionCount=r.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new vt(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new vt(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity},canvasHeight:{value:1},pixelRatio:{value:1}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(r),this.makeTexture(),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return e2t},t.prototype.makeMaterial=function(){e.prototype.makeMaterial.call(this);var r=this.texture,o=this.material;o.transparent=!0,o.extensions.derivatives=!0,o.lights=!1,o.uniforms.fontTexture.value=r,o.needsUpdate=!0;var i=this.wireframeMaterial;i.transparent=!0,i.extensions.derivatives=!0,i.lights=!1,i.uniforms.fontTexture.value=r,i.needsUpdate=!0;var a=this.pickingMaterial;a.extensions.derivatives=!0,a.lights=!1,a.uniforms.fontTexture.value=r,a.needsUpdate=!0},t.prototype.setAttributes=function(r){var o,i,a,s,l,c;r===void 0&&(r={});var u=this.text,d=this.geometry.attributes;r.position&&(o=r.position,s=d.position.array,d.position.needsUpdate=!0),r.size&&(i=r.size,l=d.inputSize.array,d.inputSize.needsUpdate=!0),r.color&&(a=r.color,c=d.color.array,d.color.needsUpdate=!0);for(var f,p,h,g,v=this.positionCount,m=0,b=0;b<v;++b)for(p=3*b,g=u[b].length,this.parameters.showBackground&&(g+=1),h=0;h<g;++h,++m)for(var x=0;x<4;x++)f=4*m*3+3*x,o&&(s[f]=o[p],s[f+1]=o[p+1],s[f+2]=o[p+2]),i&&(l[4*m+x]=i[b]),a&&(c[f]=a[p],c[f+1]=a[p+1],c[f+2]=a[p+2])},t.prototype.makeTexture=function(){var r,o;this.textAtlas=(r={font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize},o=JSON.stringify(r),K$[o]===void 0&&(K$[o]=new SM(r)),K$[o]),this.texture=this.textAtlas.texture},t.prototype.makeMapping=function(){for(var r,o,i,a,s,l,c,u,d=this.textAtlas,f=this.text,p=this.parameters.attachment,h=d.lineHeight*this.parameters.backgroundMargin*.1-10,g=this.geometry.attributes,v=g.inputTexCoord.array,m=g.mapping.array,b=this.positionCount,x=0,y=0;y<b;++y){for(a=0,l=(i=f[y]).length,s=0;s<l;++s)a+=(r=d.get(i[s])).w-2*d.parameters.outline;for(u=p.startsWith("top")?d.lineHeight/1.25:p.startsWith("middle")?d.lineHeight/2.5:0,c=p.endsWith("right")?a:p.endsWith("center")?a/2:0,c+=d.parameters.outline,u+=d.parameters.outline,this.parameters.showBackground&&(m[(o=2*x*4)+0]=-d.lineHeight/6-c-h,m[o+1]=d.lineHeight-u+h,m[o+2]=-d.lineHeight/6-c-h,m[o+3]=0-u-h,m[o+4]=a+d.lineHeight/6-c+2*d.parameters.outline+h,m[o+5]=d.lineHeight-u+h,m[o+6]=a+d.lineHeight/6-c+2*d.parameters.outline+h,m[o+7]=0-u-h,v[o+0]=10,v[o+2]=10,v[o+4]=10,v[o+6]=10,x+=1),a=0,s=0;s<l;++s,++x){r=d.get(i[s]),m[(o=2*x*4)+0]=a-c,m[o+1]=r.h-u,m[o+2]=a-c,m[o+3]=0-u,m[o+4]=a+r.w-c,m[o+5]=r.h-u,m[o+6]=a+r.w-c,m[o+7]=0-u;var w=d.parameters.width,_=d.parameters.height,S=[r.x/w,r.y/_,r.x/w,(r.y+r.h)/_,(r.x+r.w)/w,r.y/_,(r.x+r.w)/w,(r.y+r.h)/_];v.set(S,o),a+=r.w-2*d.parameters.outline}}g.inputTexCoord.needsUpdate=!0,g.mapping.needsUpdate=!0},t.prototype.getDefines=function(r){var o=e.prototype.getDefines.call(this,r);return this.parameters.fixedSize&&(o.FIXED_SIZE=1),o},t.prototype.setUniforms=function(r){!r||r.fontFamily===void 0&&r.fontStyle===void 0&&r.fontWeight===void 0&&r.fontSize===void 0||(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,r.fontTexture=this.texture),e.prototype.setUniforms.call(this,r)},Object.defineProperties(t.prototype,n),t}(f8);qs.add("text",A0),Gn.add("shader/WideLine.vert",`
uniform float clipNear;
uniform vec3 clipCenter;
uniform float linewidth;
uniform vec2 resolution;
uniform mat4 projectionMatrixInverse;
attribute vec2 mapping;
attribute vec3 position1;
attribute vec3 position2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
void trimSegment( const in vec4 start, inout vec4 end ) {
float a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;
float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );
end.xyz = mix( start.xyz, end.xyz, alpha );
}
void main() {
float aspect = resolution.x / resolution.y;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
flag = mapping.y;
vColor = color;
vColor2 = color2;
#endif
vec4 start = modelViewMatrix * vec4( position1, 1.0 );
vec4 end = modelViewMatrix * vec4( position2, 1.0 );
bool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {
if ( start.z < 0.0 && end.z >= 0.0 ) {
trimSegment( start, end );
} else if ( end.z < 0.0 && start.z >= 0.0 ) {
trimSegment( end, start );
}
}
vec4 clipStart = projectionMatrix * start;
vec4 clipEnd = projectionMatrix * end;
vec2 ndcStart = clipStart.xy / clipStart.w;
vec2 ndcEnd = clipEnd.xy / clipEnd.w;
vec2 dir = ndcEnd - ndcStart;
dir.x *= aspect;
dir = normalize( dir );
vec2 offset = vec2( dir.y, - dir.x );
dir.x /= aspect;
offset.x /= aspect;
if ( mapping.x < 0.0 ) offset *= - 1.0;
offset *= linewidth;
offset /= resolution.y;
vec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;
offset *= clip.w;
clip.xy += offset;
gl_Position = clip;
#ifndef PICKING
vViewPosition = ( projectionMatrixInverse * clip ).xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`),Gn.add("shader/WideLine.frag",`uniform vec3 diffuse;
uniform float opacity;
uniform float clipNear;
uniform float clipRadius;
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
#include common
#include fog_pars_fragment
varying vec3 vViewPosition;
varying vec3 vColor;
varying vec3 vColor2;
varying float flag;
#endif
void main() {
#include nearclip_fragment
#include radiusclip_fragment
#if defined( PICKING )
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 outgoingLight = vec3( 0.0 );
vec4 diffuseColor = vec4( diffuse, 1.0 );
if ( flag < 0.0 ) {
diffuseColor.rgb *= vColor;
} else {
diffuseColor.rgb *= vColor2;
}
#include alphatest_fragment
outgoingLight = diffuseColor.rgb;
gl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var n2t=Object.assign({linewidth:2},Ta),r2t=Object.assign({linewidth:{uniform:!0}},Sg),qd=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o),this.parameterTypes=r2t,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",!r.color2&&r.color&&(r.color2=r.color),this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new ct},projectionMatrixInverse:{value:new mt}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(r),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return n2t},t.prototype.setParameters=function(r){e.prototype.setParameters.call(this,r)},Object.defineProperties(t.prototype,n),t}(f8);qs.add("wideline",qd);var o2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.side=se(r.side,"double"),r.opacity=se(r.opacity,.5),this.atomTriple=se(r.atomTriple,[]),this.arcVisible=se(r.arcVisible,!0),this.sectorVisible=se(r.sectorVisible,!0),this.vectorVisible=se(r.vectorVisible,!0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){if(n.atomCount&&this.atomTriple.length){var r=function(l,c){return function(u){for(var d=[],f=u.length/9,p=0;p<f;p++){for(var h=!0,g=p;g<p+3;g+=3)u[g]===u[g+3]&&u[g+1]===u[g+4]&&u[g+2]===u[g+5]&&(h=!1);h&&d.push(p)}var v=new Float32Array(9*d.length),m=0;return d.forEach(function(b){Fo(u,v,9*b,9*m,9),m++}),v}(v8(l,c))}(n,this.atomTriple),o=function(l,c){c===void 0&&(c={});for(var u=se(c.angleStep,Math.PI/90),d=l.length/9,f=new Float32Array(d),p=new Float32Array(3*d),h=new Array(d),g=new Float32Array(6*d),v=new Float32Array(6*d),m=new Array(d),b=new Array(d),x=new Array(d),y=0,w=cn(),_=cn(),S=cn(),P=cn(),M=cn(),I=cn(),O=cn(),L=cn(),R=cn(),T=function(ie){var Y=9*ie;ba(w,l,Y),ba(_,l,Y+3),ba(S,l,Y+6);var le=6*ie;gn(w,g,le),gn(_,v,le),gn(_,g,le+3),gn(S,v,le+3),Yr(P,w,_),Yr(M,S,_),ro(P,P),ro(M,M),rs(I,P,M);var te=vp(I),re=za(P,M),ae=f[ie]=Math.atan2(te,re);h[ie]=(tpe*ae).toFixed(1)+String.fromCharCode(176),vp(I)===0&&(I[0]=1,I[1]=0,I[2]=0),rs(O,I,P),ro(O,O),Zl(L,_,P,O,ae/2),gn(L,p,3*ie);var pe=Math.ceil(ae/u),we=new Float32Array(9*pe);x[ie]=we;var fe=new Float32Array(3*pe),_e=new Float32Array(3*pe);m[ie]=fe,b[ie]=_e,tc(R,_,P);for(var W=function(ve,me){var ye=9*me,Le=3*me;gn(_,we,ye),gn(R,we,ye+3),gn(R,fe,Le),Zl(R,_,P,O,ve),gn(R,we,ye+6),gn(R,_e,Le)},oe=0,Ce=u;Ce<ae;Ce+=u)W(Ce,oe),oe++;W(ae,oe),y+=pe},E=0;E<d;E++)T(E);for(var k=3*y,B=9*y,$=new Float32Array(k),j=new Float32Array(k),V=new Float32Array(B),q=0,Q=0,H=0;H<d;H++){var X=m[H],J=b[H];Fo(X,$,0,Q,X.length),Fo(J,j,0,Q,J.length),Q+=X.length;var G=x[H];Fo(G,V,0,q,G.length),q+=G.length}return{labelPosition:p,labelText:h,vectorPosition1:g,vectorPosition2:v,arcPosition1:$,arcPosition2:j,sectorPosition:V}}(r),i=this.n=o.labelPosition.length/3,a=new vt(this.labelColor);this.textBuffer=new A0({position:o.labelPosition,size:Bs(i,this.labelSize),color:yr(i,a.r,a.g,a.b),text:o.labelText},this.getLabelBufferParams());var s=new vt(this.colorValue);return this.vectorBuffer=new qd(ZN({position1:o.vectorPosition1,position2:o.vectorPosition2,color:yr(2*i,s.r,s.g,s.b),color2:yr(2*i,s.r,s.g,s.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=o.arcPosition1.length/3,this.arcBuffer=new qd(ZN({position1:o.arcPosition1,position2:o.arcPosition2,color:yr(this.arcLength,s.r,s.g,s.b),color2:yr(this.arcLength,s.r,s.g,s.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=o.sectorPosition.length/3,this.sectorBuffer=new Wd({position:o.sectorPosition,color:yr(this.sectorLength,s.r,s.g,s.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,r){e.prototype.updateData.call(this,n,r);var o={},i={},a={};if(n.color){var s=new vt(this.colorValue);Object.assign(o,{color:yr(2*this.n,s.r,s.g,s.b),color2:yr(2*this.n,s.r,s.g,s.b)}),Object.assign(i,{color:yr(this.arcLength,s.r,s.g,s.b),color2:yr(this.arcLength,s.r,s.g,s.b)}),Object.assign(a,{color:yr(this.sectorLength,s.r,s.g,s.b)})}this.vectorBuffer.setAttributes(o),this.arcBuffer.setAttributes(i),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.vectorVisible===void 0&&n.arcVisible===void 0&&n.sectorVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&(this.vectorBuffer.setParameters({opacity:n.lineOpacity}),this.arcBuffer.setParameters({opacity:n.lineOpacity})),n&&n.opacity!==void 0&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),n&&n.linewidth&&(this.vectorBuffer.setParameters({linewidth:n.linewidth}),this.arcBuffer.setParameters({linewidth:n.linewidth})),this},t.prototype.setVisibility=function(n,r){return e.prototype.setVisibility.call(this,n,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),r||this.viewer.requestRender(),this},t}(g8);jr.add("angle",o2t);var iY=new ee,Y$=new ee,Z$=new ee,i2t=new ee(0,1,0),b8=Object.assign({radialSegments:1,openEnded:!0},Ta);function aY(e){e===void 0&&(e={});var t=se(e.radialSegments,10),n=se(e.openEnded,!0),r=new mt().makeRotationX(Math.PI/2),o=new zd(1,1,1,t,1,n);return o.applyMatrix4(r),o}var Npe=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,function(s,l){l===void 0&&(l={});var c=aY(l),u=s.position1.length,d=c.attributes.position.array.length/3,f=u/3,p=new Float32Array(2*f*d);return XN(f,d,0,p),XN(f,d,f*d,p),{position:new Float32Array(2*u),color:new Float32Array(2*u),primitiveId:p,picking:s.picking}}(r,o),o,aY(o)),this.updateNormals=!0;var i=r.position1.length,a=r.radius.length;this.__center=new Float32Array(i),this._position=new Float32Array(2*i),this._color=new Float32Array(2*i),this._from=new Float32Array(2*i),this._to=new Float32Array(2*i),this._radius=new Float32Array(2*a),this.setAttributes(r,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return b8},t.prototype.applyPositionTransform=function(r,o,i){Y$.fromArray(this._from,i),Z$.fromArray(this._to,i),r.lookAt(Y$,Z$,i2t);var a=this._radius[o];iY.set(a,a,Y$.distanceTo(Z$)),r.scale(iY)},t.prototype.setAttributes=function(r,o){r===void 0&&(r={});var i={};r.position1&&r.position2&&(wu(r.position1,r.position2,this.__center),wu(r.position1,this.__center,this._position),wu(this.__center,r.position2,this._position,r.position1.length),this._from.set(r.position1),this._from.set(this.__center,r.position1.length),this._to.set(this.__center),this._to.set(r.position2,this.__center.length),i.position=this._position),r.color&&r.color2&&(this._color.set(r.color),this._color.set(r.color2,r.color.length),i.color=this._color),r.radius&&(this._radius.set(r.radius),this._radius.set(r.radius,r.radius.length),i.radius=this._radius),e.prototype.setAttributes.call(this,i,o)},Object.defineProperties(t.prototype,n),t}(Jp);Gn.add("shader/CylinderImpostor.vert",`
attribute vec3 mapping;
attribute vec3 position1;
attribute vec3 position2;
attribute float radius;
varying vec3 axis;varying vec4 base_radius;varying vec4 end_b;varying vec3 U;varying vec3 V;
varying vec4 w;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform mat4 modelViewMatrixInverse;
uniform float ortho;
#include matrix_scale
void main(){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
base_radius.w = radius * matrixScale( modelViewMatrix );
vec3 center = position;
vec3 dir = normalize( position2 - position1 );
float ext = length( position2 - position1 ) / 2.0;
vec3 cam_dir;
if( ortho == 0.0 ){
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;
}else{
cam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;
}
cam_dir = normalize( cam_dir );
vec3 ldir;
float b = dot( cam_dir, dir );
end_b.w = b;
if( b < 0.0 )
ldir = -ext * dir;
else
ldir = ext * dir;
vec3 left = radius * normalize( cross( cam_dir, ldir ) );
vec3 up = radius * normalize( cross( left, ldir ) );
axis = normalize( normalMatrix * ldir );
U = normalize( normalMatrix * up );
V = normalize( normalMatrix * left );
vec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );
base_radius.xyz = base4.xyz / base4.w;
vec4 end4 = modelViewMatrix * vec4( center + ldir, 1.0 );
end_b.xyz = end4.xyz / end4.w;
w = modelViewMatrix * vec4(
center + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0
);
gl_Position = projectionMatrix * w;
gl_Position.z = 0.99;
}`),Gn.add("shader/CylinderImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform mat4 projectionMatrix;
uniform float ortho;
varying vec3 axis;
varying vec4 base_radius;
varying vec4 end_b;
varying vec3 U;
varying vec3 V;
varying vec4 w;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float distSq3( vec3 v3a, vec3 v3b ){
return (
( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +
( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +
( v3a.z - v3b.z ) * ( v3a.z - v3b.z )
);
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
float calcClip( vec3 cameraPos ){
return dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
void main(){
vec3 ray_target = w.xyz / w.w;
vec3 base = base_radius.xyz; float vRadius = base_radius.w; vec3 end = end_b.xyz; float b = end_b.w;
vec3 ray_origin = vec3(0.0); vec3 ortho_ray_direction = vec3(0.0, 0.0, 1.0); vec3 persp_ray_direction = normalize(ray_origin - ray_target);
vec3 ray_direction = mix(persp_ray_direction, ortho_ray_direction, ortho);

mat3 basis = mat3( U, V, axis );
vec3 diff = ray_target - 0.5 * (base + end);

vec3 P = diff * basis;
float dz = dot( axis, ray_direction );
float radius2 = vRadius*vRadius;
vec3 D = vec3(dot(U, ray_direction),
dot(V, ray_direction),
dz);
float a0 = P.x*P.x + P.y*P.y - radius2;
float a1 = P.x*D.x + P.y*D.y;
float a2 = D.x*D.x + D.y*D.y;
float d = a1*a1 - a0*a2;
if (d < 0.0) {
discard;
}
float dist = (-a1 + sqrt(d)) / a2;
vec3 surface_point = ray_target + dist * ray_direction;
vec3 base_to_surface = surface_point - base;
vec3 _normal = normalize( base_to_surface - axis * dot(base_to_surface, axis) );
float base_cap_test = dot( base_to_surface, axis );
float end_cap_test = dot((surface_point - end), axis);
#ifndef CAP
vec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
vec3 tmp_point2 = new_point2 - base;
#endif
if (base_cap_test < 0.0) {
float dNV;
float near;
vec3 front_point;
if ( ortho == 1.0 ) {
front_point = ray_target;
} else {
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
front_point = ray_direction * near + ray_origin;
}
if (dot(front_point - base, front_point-base) > radius2) {
discard;
}
#ifdef CAP
surface_point = front_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(axis, end) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - end, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
if( end_cap_test > 0.0 )
{
float dNV;
float near;
vec3 end_point;
if ( ortho == 1.0 ) {
end_point = ray_target;
} else {
dNV = dot(axis, ray_direction);
if (dNV < 0.0) {
discard;
}
near = dot(axis, end) / dNV;
end_point = ray_direction * near + ray_origin;
}

if( dot(end_point - end, end_point-base) > radius2 ) {
discard;
}
#ifdef CAP
surface_point = end_point;
_normal = axis;
#else
surface_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;
dNV = dot(-axis, ray_direction);
near = dot(-axis, (base)) / dNV;
new_point2 = ray_direction * near + ray_origin;
if (dot(new_point2 - base, new_point2-base) < radius2) {
discard;
}
interior = true;
#endif
}
gl_FragDepthEXT = calcDepth( surface_point );

#ifdef NEAR_CLIP
if( calcClip( surface_point ) > 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
if( calcClip( surface_point ) > 0.0 ) {
discard;
}
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
dist = (-a1 - sqrt(d)) / a2;
surface_point = ray_target + dist * ray_direction;
interior = true;
gl_FragDepthEXT = calcDepth( surface_point );
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );
}
}
#endif
if (gl_FragDepthEXT < 0.0) {
discard;
}
if (gl_FragDepthEXT > 1.0) {
discard;
}
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -surface_point;
vec3 vNormal = _normal;
vec3 vColor;
if( distSq3( surface_point, end ) < distSq3( surface_point, base ) ){
if( b < 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}else{
if( b > 0.0 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var a2t=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),s2t=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),l2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,"v3",r,o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return a2t},n.mappingIndices.get=function(){return s2t},n.mappingIndicesSize.get=function(){return 12},n.mappingSize.get=function(){return 6},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(d8),Bpe=Object.assign({openEnded:!1},Ta),c2t=Object.assign({openEnded:{updateShader:!0}},Sg),u2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o),this.parameterTypes=c2t,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new mt},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(r),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Bpe},t.prototype.getDefines=function(r){var o=e.prototype.getDefines.call(this,r);return this.parameters.openEnded||(o.CAP=1),o},Object.defineProperties(t.prototype,n),t}(l2t);Object.assign({disableImpostor:!1},b8,Bpe);var rf=function(e,t){return t===void 0&&(t={}),!e.color2&&e.color&&(e.color2=e.color),!xu||t&&t.disableImpostor?new Npe(e,t):new u2t(e,t)};qs.add("cylinder",rf);var d2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.radiusSize=se(r.radiusSize,.5),r.colorValue=se(r.colorValue,"lightgreen"),r.useInteriorColor=se(r.useInteriorColor,!0),this.showAxes=se(r.showAxes,!0),this.showBox=se(r.showBox,!1),e.prototype.init.call(this,r)},t.prototype.getPrincipalAxes=function(){var n,r=this.getAssembly();return r&&(n=r.partList[0].getSelection()),this.structureView.getPrincipalAxes(n)},t.prototype.getAxesData=function(n){var r=this.getPrincipalAxes(),o=new vt(this.colorValue),i=0,a=0;this.showAxes&&(i+=6,a+=3),this.showBox&&(i+=8,a+=12);var s=new Float32Array(3*i),l=yr(i,o.r,o.g,o.b),c=Bs(i,this.radiusSize),u=new Float32Array(3*a),d=new Float32Array(3*a),f=yr(a,o.r,o.g,o.b),p=Bs(a,this.radiusSize),h=0;if(this.showAxes){var g=function(R,T){R.toArray(s,2*h),T.toArray(s,2*h+3),R.toArray(u,h),T.toArray(d,h),h+=3};g(r.begA,r.endA),g(r.begB,r.endB),g(r.begC,r.endC)}if(this.showBox){var v=new ee,m=r.getProjectedScaleForAtoms(n),b=m.d1a,x=m.d2a,y=m.d3a,w=m.d1b,_=m.d2b,S=m.d3b,P=2*h,M=function(R,T,E){v.copy(r.center).addScaledVector(r.normVecA,R).addScaledVector(r.normVecB,T).addScaledVector(r.normVecC,E),v.toArray(s,P),P+=3};M(b,x,y),M(b,x,S),M(b,_,S),M(b,_,y),M(w,_,S),M(w,_,y),M(w,x,y),M(w,x,S);var I=h,O=function(R,T){v.fromArray(s,2*h+3*R).toArray(u,I),v.fromArray(s,2*h+3*T).toArray(d,I),I+=3};O(0,1),O(0,3),O(0,6),O(1,2),O(1,7),O(2,3),O(2,4),O(3,5),O(4,5),O(4,7),O(5,6),O(6,7)}var L=new _St(r);return{vertex:{position:s,color:l,radius:c,picking:L},edge:{position1:u,position2:d,color:f,color2:f,radius:p,picking:L}}},t.prototype.create=function(){var n=this.getAxesData(this.structureView);this.sphereBuffer=new eh(n.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new rf(n.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},t.prototype.createData=function(n){},t.prototype.updateData=function(n,r){var o=this.getAxesData(r.sview),i={},a={};n&&!n.position||(Object.assign(i,{position:o.vertex.position}),Object.assign(a,{position1:o.edge.position1,position2:o.edge.position2})),n&&!n.color||(Object.assign(i,{color:o.vertex.color}),Object.assign(a,{color:o.edge.color,color2:o.edge.color})),n&&!n.radius||(Object.assign(i,{radius:o.vertex.radius}),Object.assign(a,{radius:o.edge.radius})),this.sphereBuffer.setAttributes(i),this.cylinderBuffer.setAttributes(a)},t}(Ni);jr.add("axes",d2t);var xk=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.radiusType=se(r.radiusType,"size"),r.radiusSize=se(r.radiusSize,.15),r.useInteriorColor=se(r.useInteriorColor,!0),this.aspectRatio=se(r.aspectRatio,2),this.lineOnly=se(r.lineOnly,!1),this.cylinderOnly=se(r.cylinderOnly,!1),this.multipleBond=se(r.multipleBond,"off"),this.bondSpacing=se(r.bondSpacing,1),this.bondScale=se(r.bondScale,.4),this.linewidth=se(r.linewidth,2),e.prototype.init.call(this,r)},t.prototype.getAtomRadius=function(n){return this.aspectRatio*e.prototype.getAtomRadius.call(this,n)},t.prototype.getAtomParams=function(n,r){var o=e.prototype.getAtomParams.call(this,n,r);return o.radiusParams.scale*=this.aspectRatio,o},t.prototype.getAtomData=function(n,r,o){return n.getAtomData(this.getAtomParams(r,o))},t.prototype.getBondParams=function(n,r){return r=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},r),e.prototype.getBondParams.call(this,n,r)},t.prototype.getBondData=function(n,r,o){return n.getBondData(this.getBondParams(r,o))},t.prototype.createData=function(n){var r=[];if(this.lineOnly)this.lineBuffer=new qd(this.getBondData(n,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),r.push(this.lineBuffer);else{var o=new rf(this.getBondData(n),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(r.push(o),!this.cylinderOnly){var i=new eh(this.getAtomData(n),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));r.push(i)}}return{bufferList:r}},t.prototype.updateData=function(n,r){this.multipleBond!=="off"&&n&&n.radius&&(n.position=!0);var o=this.getBondData(r.sview,n);if(this.lineOnly){var i={};n&&!n.position||Object.assign(i,{position1:o.position1,position2:o.position2}),n&&!n.color||Object.assign(i,{color:o.color,color2:o.color2}),r.bufferList[0].setAttributes(i)}else{var a={};if(n&&!n.position||Object.assign(a,{position1:o.position1,position2:o.position2}),n&&!n.color||Object.assign(a,{color:o.color,color2:o.color2}),n&&!n.radius||Object.assign(a,{radius:o.radius}),r.bufferList[0].setAttributes(a),!this.cylinderOnly){var s=this.getAtomData(r.sview,n),l={};n&&!n.position||Object.assign(l,{position:s.position}),n&&!n.color||Object.assign(l,{color:s.color}),n&&!n.radius||Object.assign(l,{radius:s.radius}),r.bufferList[1].setAttributes(l)}}},t.prototype.setParameters=function(n){n===void 0&&(n={});var r=!1,o={};return(n.aspectRatio||n.bondSpacing||n.bondScale)&&(Object.assign(o,{radius:!0}),xu&&!this.disableImpostor||(r=!0)),e.prototype.setParameters.call(this,n,o,r),this},t}(Ni);jr.add("ball+stick",xk);var f2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.aspectRatio=se(r.aspectRatio,1),r.radiusSize=se(r.radiusSize,.25),e.prototype.init.call(this,r)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.getAtomData=function(n,r,o){return n.getBackboneAtomData(this.getAtomParams(r,o))},t.prototype.getBondData=function(n,r,o){return n.getBackboneBondData(this.getBondParams(r,o))},t}(xk);jr.add("backbone",f2t);var p2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.aspectRatio=se(r.aspectRatio,1),r.radiusSize=se(r.radiusSize,.3),e.prototype.init.call(this,r)},t.prototype.getAtomData=function(n,r,o){return n.getRungAtomData(this.getAtomParams(r,o))},t.prototype.getBondData=function(n,r,o){var i=this.getBondParams(r,o);return Object.assign(i.colorParams,{rung:!0}),n.getRungBondData(i)},t}(xk);jr.add("base",p2t);var fi=function(e,t){this.m=e,this.tension=t,this.dt=1/this.m,this.delta=1e-4,this.vec1=new ee,this.vec2=new ee,this.vDir=new ee,this.vTan=new ee,this.vNorm=new ee,this.vBin=new ee,this.m2=Math.ceil(this.m/2)};fi.prototype.interpolateToArr=function(e,t,n,r,o,i,a){i[a+0]=cd(e.x,t.x,n.x,r.x,o,this.tension),i[a+1]=cd(e.y,t.y,n.y,r.y,o,this.tension),i[a+2]=cd(e.z,t.z,n.z,r.z,o,this.tension)},fi.prototype.interpolateToVec=function(e,t,n,r,o,i){i.x=cd(e.x,t.x,n.x,r.x,o,this.tension),i.y=cd(e.y,t.y,n.y,r.y,o,this.tension),i.z=cd(e.z,t.z,n.z,r.z,o,this.tension)},fi.prototype.interpolatePosition=function(e,t,n,r,o,i){for(var a=0;a<this.m;++a){var s=i+3*a,l=this.dt*a;this.interpolateToArr(e,t,n,r,l,o,s)}},fi.prototype.interpolateTangent=function(e,t,n,r,o,i){for(var a=0;a<this.m;++a){var s=this.dt*a,l=s-this.delta,c=s+this.delta,u=i+3*a;l<0&&(l=0),c>1&&(c=1),this.interpolateToVec(e,t,n,r,l,this.vec1),this.interpolateToVec(e,t,n,r,c,this.vec2),this.vec2.sub(this.vec1).normalize(),this.vec2.toArray(o,u)}},fi.prototype.vectorSubdivide=function(e,t,n,r,o){for(var i,a=t.next(),s=t.next(),l=t.next(),c=t.size,u=c-1,d=r||0,f=0;f<u;++f)i=a,a=s,s=l,l=t.next(),e.apply(this,[i,a,s,l,n,d]),d+=3*this.m;o&&(i=t.get(c-2),a=t.get(c-1),s=t.get(0),l=t.get(1),e.apply(this,[i,a,s,l,n,d]),d+=3*this.m)},fi.prototype.getPosition=function(e,t,n,r){e.reset(),this.vectorSubdivide(this.interpolatePosition,e,t,n,r);var o=e.size-1,i=o*this.m*3;r&&(i+=3*this.m);var a=e.get(r?0:o);t[i]=a.x,t[i+1]=a.y,t[i+2]=a.z},fi.prototype.getTangent=function(e,t,n,r){e.reset(),this.vectorSubdivide(this.interpolateTangent,e,t,n,r);var o=(e.size-1)*this.m*3;r&&(o+=3*this.m),Fo(t,t,o-3,o,3)},fi.prototype.interpolateNormalDir=function(e,t,n,r,o,i,a,s,l,c,u,d,f){for(var p=0;p<this.m;++p){var h=d+3*p;f&&(h+=3*this.m2);var g=this.dt*p;this.interpolateToVec(e,t,n,r,g,this.vec1),this.interpolateToVec(o,i,a,s,g,this.vec2),this.vDir.subVectors(this.vec2,this.vec1).normalize(),this.vTan.fromArray(l,h),this.vBin.crossVectors(this.vDir,this.vTan).normalize(),this.vBin.toArray(u,h),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(c,h)}},fi.prototype.interpolateNormal=function(e,t,n,r,o){for(var i=0;i<this.m;++i){var a=o+3*i;e.copy(this.vNorm),this.vTan.fromArray(t,a),this.vBin.crossVectors(e,this.vTan).normalize(),this.vBin.toArray(r,a),this.vNorm.crossVectors(this.vTan,this.vBin).normalize(),this.vNorm.toArray(n,a)}},fi.prototype.getNormal=function(e,t,n,r,o,i){this.vNorm.set(0,0,1);for(var a=e-1,s=o||0,l=0;l<a;++l)this.interpolateNormal(this.vDir,t,n,r,s),s+=3*this.m;i&&(this.interpolateNormal(this.vDir,t,n,r,s),s+=3*this.m),this.vBin.toArray(r,s),this.vNorm.toArray(n,s)},fi.prototype.getNormalDir=function(e,t,n,r,o,i,a,s){e.reset(),t.reset();var l=new ee,c=new ee,u=new ee,d=new ee,f=new ee,p=new ee().copy(e.next()),h=new ee().copy(e.next()),g=new ee().copy(e.next()),v=new ee,m=new ee().copy(t.next()),b=new ee().copy(t.next()),x=new ee().copy(t.next());this.vNorm.set(0,0,1);for(var y=e.size,w=y-1,_=i||0,S=0;S<w;++S)f.copy(p),p.copy(h),h.copy(g),g.copy(e.next()),v.copy(m),m.copy(b),b.copy(x),x.copy(t.next()),S===0?(l.subVectors(v,f),c.subVectors(m,p),l.dot(c)<0&&(c.multiplyScalar(-1),m.addVectors(p,c)),u.subVectors(b,h),c.dot(u)<0&&(u.multiplyScalar(-1),b.addVectors(h,u))):u.copy(d),d.subVectors(x,g),u.dot(d)<0&&(d.multiplyScalar(-1),x.addVectors(g,d)),this.interpolateNormalDir(f,p,h,g,v,m,b,x,n,r,o,_,s),_+=3*this.m;if(a&&(f.copy(e.get(y-2)),p.copy(e.get(y-1)),h.copy(e.get(0)),g.copy(e.get(1)),v.copy(t.get(y-2)),m.copy(t.get(y-1)),b.copy(t.get(0)),x.copy(t.get(1)),u.copy(d),d.subVectors(x,g),u.dot(d)<0&&(d.multiplyScalar(-1),x.addVectors(g,d)),this.interpolateNormalDir(f,p,h,g,v,m,b,x,n,r,o,_,s),_+=3*this.m),s){this.vBin.fromArray(o,3*this.m2),this.vNorm.fromArray(r,3*this.m2);for(var P=0;P<this.m2;++P)this.vBin.toArray(o,3*P),this.vNorm.toArray(r,3*P)}else this.vBin.toArray(o,_),this.vNorm.toArray(r,_)},fi.prototype.interpolateColor=function(e,t,n,r,o){var i,a;for(i=0;i<this.m2;++i)a=o+3*i,n.apply(this,[e,r,a]);for(i=this.m2;i<this.m;++i)a=o+3*i,n.apply(this,[t,r,a])},fi.prototype.getColor=function(e,t,n,r,o){var i;e.reset(),e.next();for(var a=e.next(),s=e.size,l=s-1,c=r||0,u=0;u<l;++u)i=a,a=e.next(),this.interpolateColor(i,a,t,n,c),c+=3*this.m;o&&(i=e.get(s-1),a=e.get(0),this.interpolateColor(i,a,t,n,c),c+=3*this.m),n[c]=n[c-3],n[c+1]=n[c-2],n[c+2]=n[c-1]},fi.prototype.interpolatePicking=function(e,t,n,r,o){var i;for(i=0;i<this.m2;++i)r[o+i]=n.apply(this,[e]);for(i=this.m2;i<this.m;++i)r[o+i]=n.apply(this,[t])},fi.prototype.getPicking=function(e,t,n,r,o){var i;e.reset(),e.next();for(var a=e.next(),s=e.size,l=s-1,c=r||0,u=0;u<l;++u)i=a,a=e.next(),this.interpolatePicking(i,a,t,n,c),c+=this.m;o&&(i=e.get(s-1),a=e.get(0),this.interpolatePicking(i,a,t,n,c),c+=this.m),n[c]=n[c-1]},fi.prototype.interpolateSize=function(e,t,n,r,o){for(var i=n.apply(this,[e]),a=n.apply(this,[t]),s=0;s<this.m;++s){var l=s/this.m;r[o+s]=(1-l)*i+l*a}},fi.prototype.getSize=function(e,t,n,r,o){var i;e.reset(),e.next();for(var a=e.next(),s=e.size,l=s-1,c=r||0,u=0;u<l;++u)i=a,a=e.next(),this.interpolateSize(i,a,t,n,c),c+=this.m;o&&(i=e.get(s-1),a=e.get(0),this.interpolateSize(i,a,t,n,c),c+=this.m),n[c]=n[c-1]};var ga=function(e,t){this.polymer=e,this.size=e.residueCount;var n=t||{};this.directional=n.directional||!1,this.positionIterator=n.positionIterator||!1,this.subdiv=n.subdiv||1,this.smoothSheet=n.smoothSheet||!1,n.tension?this.tension=n.tension:this.tension=this.polymer.isNucleic()?.5:.9,this.interpolator=new fi(this.subdiv,this.tension)};ga.prototype.getAtomIterator=function(e,t){var n=this.polymer,r=n.structure,o=n.residueCount,i=0,a=-1,s=[r.getAtomProxy(),r.getAtomProxy(),r.getAtomProxy(),r.getAtomProxy()],l=[new ee,new ee,new ee,new ee],c=r.getAtomProxy(),u=r.getAtomProxy();function d(f){var p=s[i%4];if(p.index=n.getAtomIndexByType(f,e),t&&f>0&&f<o&&p.sstruc==="e"){var h=l[i%4];return c.index=n.getAtomIndexByType(f+1,e),u.index=n.getAtomIndexByType(f-1,e),h.addVectors(c,u).add(p).add(p).multiplyScalar(.25),i+=1,h}return i+=1,p}return{size:o,next:function(){var f=d(a);return a+=1,f},get:d,reset:function(){i=0,a=-1}}},ga.prototype.getSubdividedColor=function(e){var t=this.subdiv,n=this.polymer,r=(n.residueCount-1)*t*3+3;n.isCyclic&&(r+=3*t);var o=new Float32Array(r),i=this.getAtomIterator("trace"),a=e||{};a.structure=n.structure;var s=Cn.getScheme(a);return this.interpolator.getColor(i,function(l,c,u){s.atomColorToArray(l,c,u)},o,0,n.isCyclic),{color:o}},ga.prototype.getSubdividedPicking=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e+1;t.isCyclic&&(n+=e);var r=t.structure,o=this.getAtomIterator("trace"),i=new Float32Array(n);return this.interpolator.getPicking(o,function(a){return a.index},i,0,t.isCyclic),{picking:new _g(i,r)}},ga.prototype.getSubdividedPosition=function(){return{position:this.getPosition()}},ga.prototype.getSubdividedOrientation=function(){var e=this.getTangent(),t=this.getNormals(e);return{tangent:e,normal:t.normal,binormal:t.binormal}},ga.prototype.getSubdividedSize=function(e){var t=this.subdiv,n=this.polymer,r=(n.residueCount-1)*t+1;n.isCyclic&&(r+=t);var o=new Float32Array(r),i=this.getAtomIterator("trace"),a=new Iu(e);return this.interpolator.getSize(i,function(s){return a.atomRadius(s)},o,0,n.isCyclic),{size:o}},ga.prototype.getPosition=function(){var e=this.subdiv,t=this.polymer,n=(t.residueCount-1)*e*3+3;t.isCyclic&&(n+=3*e);var r=new Float32Array(n),o=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(o,r,0,t.isCyclic),r},ga.prototype.getTangent=function(){var e=this.subdiv,t=this.polymer,n=(this.size-1)*e*3+3;t.isCyclic&&(n+=3*e);var r=new Float32Array(n),o=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(o,r,0,t.isCyclic),r},ga.prototype.getNormals=function(e){var t=this.subdiv,n=this.polymer,r=n.isProtein(),o=this.size,i=(o-1)*t*3+3;n.isCyclic&&(i+=3*t);var a=new Float32Array(i),s=new Float32Array(i);if(this.directional&&!this.polymer.isCg()){var l=this.getAtomIterator("direction1"),c=this.getAtomIterator("direction2");this.interpolator.getNormalDir(l,c,e,a,s,0,n.isCyclic,r)}else this.interpolator.getNormal(o,e,a,s,0,n.isCyclic);return{normal:a,binormal:s}};var sY=new ee,pP=new ee,h2t=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},Ta),m2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,function(i,a){a===void 0&&(a={});var s=se(a.radialSegments,4),l=se(a.capped,!1),c=l?s:0,u=l?s-2:0,d=i.position.length/3,f=d*s*3+2*c*3,p=2*(d-1)*s*3+2*u*3;return{position:new Float32Array(f),color:new Float32Array(f),index:Ou(p,f/3),normal:new Float32Array(f),picking:i.picking}}(r,o),o),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=r.position.length/3,r.primitiveId=C0(this.size2),this.setAttributes(r),this.makeIndex()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return h2t},t.prototype.setAttributes=function(r){r===void 0&&(r={});var o,i,a,s,l,c,u,d,f,p,h,g,v,m=this.parameters.aspectRatio,b=this.size2,x=b-1,y=this.parameters.radialSegments,w=this.geometry.attributes;r.position&&(o=r.position,i=r.normal,a=r.binormal,s=r.tangent,c=r.size,d=w.position.array,p=w.normal.array,w.position.needsUpdate=!0,w.normal.needsUpdate=!0),r.color&&(l=r.color,f=w.color.array,w.color.needsUpdate=!0),r.primitiveId&&(u=r.primitiveId,h=w.primitiveId.array,w.primitiveId.needsUpdate=!0);var _=0,S=0,P=0,M=0,I=0,O=0,L=0,R=0,T=0,E=0,k=[],B=[],$=[],j=[],V=[],q=[];if(o)for(var Q=0;Q<y;++Q){var H=Q/y*2*Math.PI;k[Q]=m*Math.cos(H),B[Q]=Math.sin(H),$[Q]=m*Math.cos(H-.01),j[Q]=Math.sin(H-.01),V[Q]=m*Math.cos(H+.01),q[Q]=Math.sin(H+.01)}for(var X=0;X<b;++X){v=(g=3*X)*y,o&&s&&i&&a&&c&&(sY.set(s[g],s[g+1],s[g+2]),S=i[g],P=i[g+1],M=i[g+2],I=a[g],O=a[g+1],L=a[g+2],R=o[g],T=o[g+1],E=o[g+2],_=c[X]);for(var J=0;J<y;++J){var G=v+3*J;if(o){var ie=-_*k[J],Y=_*B[J],le=-_*$[J],te=_*j[J],re=-_*V[J],ae=_*q[J];d[G]=R+ie*S+Y*I,d[G+1]=T+ie*P+Y*O,d[G+2]=E+ie*M+Y*L,pP.set(re*S+ae*I-(le*S+te*I),re*P+ae*O-(le*P+te*O),re*M+ae*L-(le*M+te*L)).cross(sY),p[G]=pP.x,p[G+1]=pP.y,p[G+2]=pP.z}l&&(f[G]=l[g],f[G+1]=l[g+1],f[G+2]=l[g+2]),u&&(h[X*y+J]=u[X])}}g=0,v=3*b*y;for(var pe=0;pe<y;++pe){var we=g+3*pe,fe=v+3*pe;o&&s&&(d[fe]=d[we],d[fe+1]=d[we+1],d[fe+2]=d[we+2],p[fe]=s[g],p[fe+1]=s[g+1],p[fe+2]=s[g+2]),l&&(f[fe]=f[we],f[fe+1]=f[we+1],f[fe+2]=f[we+2]),u&&(h[b*y+pe]=h[0+pe])}g=3*(b-1)*y,v=3*(b+1)*y;for(var _e=0;_e<y;++_e){var W=g+3*_e,oe=v+3*_e;o&&s&&(d[oe]=d[W],d[oe+1]=d[W+1],d[oe+2]=d[W+2],p[oe]=s[3*x],p[oe+1]=s[3*x+1],p[oe+2]=s[3*x+2]),l&&(f[oe]=f[W],f[oe+1]=f[W+1],f[oe+2]=f[W+2]),u&&(h[(b+1)*y+_e]=h[(b-1)*y+_e])}},t.prototype.makeIndex=function(){var r=this.geometry.getIndex();if(r){for(var o,i,a=r.array,s=this.size2,l=s-1,c=this.capTriangles,u=this.parameters.radialSegments,d=this.parameters.radialSegments+1,f=0;f<l;++f)for(var p=f*u*3*2,h=f*u,g=(f+1)*u,v=0;v<u;++v)a[i=p+3*v*2]=h+v,a[i+1]=h+(v+1)%u,a[i+2]=g+v,a[i+3]=g+v,a[i+4]=h+(v+1)%u,a[i+5]=g+(v+1)%u;for(var m=[0],b=1;b<d/2;++b)m.push(b),u-b!==b&&m.push(u-b);i=l*u*3*2,o=s*u;for(var x=0;x<m.length-2;++x)x%2==0?(a[i+3*x+0]=o+m[x+0],a[i+3*x+1]=o+m[x+1],a[i+3*x+2]=o+m[x+2]):(a[i+3*x+0]=o+m[x+2],a[i+3*x+1]=o+m[x+1],a[i+3*x+2]=o+m[x+0]);i=l*u*3*2+3*c,o=s*u+u;for(var y=0;y<m.length-2;++y)y%2==0?(a[i+3*y+0]=o+m[y+0],a[i+3*y+1]=o+m[y+1],a[i+3*y+2]=o+m[y+2]):(a[i+3*y+0]=o+m[y+2],a[i+3*y+1]=o+m[y+1],a[i+3*y+2]=o+m[y+0])}else Ze.error("Index is null")},Object.defineProperties(t.prototype,n),t}(Wd),y8=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"chainname"),r.colorScale=se(r.colorScale,"RdYlBu"),r.radiusType=se(r.radiusType,"sstruc"),r.radiusScale=se(r.radiusScale,.7),r.useInteriorColor=se(r.useInteriorColor,!0),this.aspectRatio=se(r.aspectRatio,5),this.tension=se(r.tension,NaN),this.capped=se(r.capped,!0),this.smoothSheet=se(r.smoothSheet,!1),r.quality==="low"?(this.subdiv=3,this.radialSegments=6):r.quality==="medium"?this.subdiv=6:r.quality==="high"?this.subdiv=12:this.subdiv=se(r.subdiv,6),e.prototype.init.call(this,r)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:this.aspectRatio!==1,smoothSheet:this.smoothSheet},n)},t.prototype.getSpline=function(n){return new ga(n,this.getSplineParams())},t.prototype.getAspectRatio=function(n){return n.isCg()?1:this.aspectRatio},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var r=this,o=[],i=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){i.push(a);var s=r.getSpline(a),l=r.getAspectRatio(a),c=s.getSubdividedPosition(),u=s.getSubdividedOrientation(),d=s.getSubdividedColor(r.getColorParams()),f=s.getSubdividedPicking(),p=s.getSubdividedSize(r.getRadiusParams());o.push(new m2t(Object.assign({},c,u,d,f,p),r.getBufferParams({radialSegments:r.radialSegments,aspectRatio:l,capped:r.capped})))}},n.getSelection()),{bufferList:o,polymerList:i}},t.prototype.updateData=function(n,r){ot&&Ze.time(this.type+" repr update"),n=n||{};for(var o=0,i=r.polymerList.length;o<i;++o){var a={},s=r.polymerList[o],l=this.getSpline(s),c=this.getAspectRatio(s);if(Object.assign(r.bufferList[o],{aspectRatio:c}),n.position||n.radius){var u=l.getSubdividedPosition(),d=l.getSubdividedOrientation(),f=l.getSubdividedSize(this.getRadiusParams(c));a.position=u.position,a.normal=d.normal,a.binormal=d.binormal,a.tangent=d.tangent,a.size=f.size}if(n.color){var p=l.getSubdividedColor(this.getColorParams());a.color=p.color}if(n.picking){var h=l.getSubdividedPicking();a.picking=h.picking}r.bufferList[o].setAttributes(a)}ot&&Ze.timeEnd(this.type+" repr update")},t.prototype.setParameters=function(n){var r={};return n&&n.aspectRatio&&(r.radius=!0),n&&n.tension&&(r.position=!0),e.prototype.setParameters.call(this,n,r,!1),this},t}(Ni);jr.add("cartoon",y8);var g2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},ionicInteraction:{type:"boolean",rebuild:!0},metalCoordination:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},filterSele:{type:"text",rebuild:!0},labelVisible:{type:"boolean",rebuild:!0},labelFixedSize:{type:"boolean",buffer:"fixedSize"},labelSize:{type:"number",precision:3,max:10,min:.001,rebuild:!0},labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonPlaneAngle:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxIonicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},masterModelIndex:{type:"integer",max:1e3,min:-1,rebuild:!0},lineOfSightDistFactor:{type:"number",precision:1,max:10,min:0,rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.radiusSize=se(r.radiusSize,.05),r.useInteriorColor=se(r.useInteriorColor,!0),this.hydrogenBond=se(r.hydrogenBond,!0),this.weakHydrogenBond=se(r.weakHydrogenBond,!1),this.waterHydrogenBond=se(r.waterHydrogenBond,!1),this.backboneHydrogenBond=se(r.backboneHydrogenBond,!1),this.hydrophobic=se(r.hydrophobic,!1),this.halogenBond=se(r.halogenBond,!0),this.ionicInteraction=se(r.ionicInteraction,!0),this.metalCoordination=se(r.metalCoordination,!0),this.cationPi=se(r.cationPi,!0),this.piStacking=se(r.piStacking,!0),this.filterSele=se(r.filterSele,""),this.labelVisible=se(r.labelVisible,!1),this.labelFixedSize=se(r.labelFixedSize,!1),this.labelSize=se(r.labelSize,2),this.labelUnit=se(r.labelUnit,""),this.maxHydrophobicDist=se(r.maxHydrophobicDist,4),this.maxHbondDist=se(r.maxHbondDist,3.5),this.maxHbondSulfurDist=se(r.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=se(r.maxHbondAccAngle,45),this.maxHbondDonAngle=se(r.maxHbondDonAngle,45),this.maxHbondAccPlaneAngle=se(r.maxHbondAccPlaneAngle,90),this.maxHbondDonPlaneAngle=se(r.maxHbondDonPlaneAngle,30),this.maxPiStackingDist=se(r.maxPiStackingDist,5.5),this.maxPiStackingOffset=se(r.maxPiStackingOffset,2),this.maxPiStackingAngle=se(r.maxPiStackingAngle,30),this.maxCationPiDist=se(r.maxCationPiDist,6),this.maxCationPiOffset=se(r.maxCationPiOffset,2),this.maxIonicDist=se(r.maxIonicDist,5),this.maxHalogenBondDist=se(r.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=se(r.maxHalogenBondAngle,30),this.maxMetalDist=se(r.maxMetalDist,3),this.refineSaltBridges=se(r.refineSaltBridges,!0),this.masterModelIndex=se(r.masterModelIndex,-1),this.lineOfSightDistFactor=se(r.lineOfSightDistFactor,1),e.prototype.init.call(this,r)},t.prototype.getAtomRadius=function(){return 0},t.prototype.getContactData=function(n){var r={maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccPlaneAngle:this.maxHbondAccPlaneAngle,maxHbondDonPlaneAngle:this.maxHbondDonPlaneAngle,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxIonicDist:this.maxIonicDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges,masterModelIndex:this.masterModelIndex,lineOfSightDistFactor:this.lineOfSightDistFactor},o={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,ionicInteraction:this.ionicInteraction,metalCoordination:this.metalCoordination,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale,filterSele:this.filterSele};return ySt(gSt(n,r),n,o)},t.prototype.createData=function(n){var r=this.getContactData(n),o=[new rf(U_t(r),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))];if(this.labelVisible){var i={size:this.labelSize,unit:this.labelUnit};o.push(new A0(function(a,s){for(var l=wu(a.position1,a.position2),c=[],u=uk(a.position1,a.position2),d=u.length/3,f=0;f<d;f++){var p=3*f,h=Math.sqrt(Math.pow(u[p],2)+Math.pow(u[p+1],2)+Math.pow(u[p+2],2));switch(s.unit){case"angstrom":c[f]=h.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":c[f]=(h/10).toFixed(2)+" nm";break;default:c[f]=h.toFixed(2)}}return{position:l,size:Bs(l.length/3,s.size),color:a.color,text:c}}(r,i),this.getBufferParams({fixedSize:this.labelFixedSize})))}return{bufferList:o}},t}(Ni);jr.add("contact",g2t);var v2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},extendLine:{type:"boolean",rebuild:!0,default:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.side=se(r.side,"double"),r.opacity=se(r.opacity,.5),this.atomQuad=se(r.atomQuad,[]),this.extendLine=se(r.extendLine,!0),this.lineVisible=se(r.lineVisible,!0),this.planeVisible=se(r.planeVisible,!0),this.sectorVisible=se(r.sectorVisible,!0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){if(n.atomCount&&this.atomQuad.length){var r=function(l,c){c===void 0&&(c={});for(var u=se(c.angleStep,Math.PI/90),d=l.length,f=l.length/12,p=new Float32Array(f),h=new Float32Array(3*f),g=new Array(f),v=new Array(f),m=new Array(f),b=new Array(f),x=new Array(f),y=0,w=0,_=0,S=cn(),P=cn(),M=cn(),I=cn(),O=cn(),L=cn(),R=cn(),T=cn(),E=cn(),k=cn(),B=cn(),$=cn(),j=cn(),V=cn(),q=cn(),Q=0,H=function(oe){if(ba(S,l,oe),ba(P,l,oe+3),ba(M,l,oe+6),ba(I,l,oe+9),Yr(O,S,P),Yr(L,M,P),vp(L)!==0){Yr(R,I,M),wr(T,L,.5),tc(E,P,T),ro(O,O),ro(L,L),ro(R,R),Yr(T,S,E);var Ce=za(T,L)>0;Yr(T,I,E);var ve=za(T,L)<0;if(wr(T,L,za(L,O)),Yr(k,O,T),wr(T,L,za(L,R)),Yr(B,R,T),vp(k)!==0&&vp(B)!==0){ro(k,k),ro(B,B);var me=p[Q]=function(Ae,Ke){var Je=Ae[0],ft=Ae[1],ht=Ae[2],it=Ke[0],At=Ke[1],Pe=Ke[2],Re=ft*Pe-ht*At,ze=ht*it-Je*Pe,je=Je*At-ft*it,Ue=Math.sqrt(Re*Re+ze*ze+je*je),tt=Je*it+ft*At+ht*Pe;return Math.atan2(Ue,tt)}(k,B);g[Q]=(tpe*me).toFixed(1)+String.fromCharCode(176),rs(V,k,L),ro(V,V),za(V,B)<0&&fk(V,V),Zl(T,E,k,V,me/2),gn(T,h,3*Q);var ye=Math.ceil(me/u),Le=ye+(c.extendLine?4:2),Te=c.extendLine?36:0,Me=new Float32Array(3*Le),$e=new Float32Array(3*Le),U=new Float32Array(9*ye),D=new Float32Array(Te);v[Q]=Me,m[Q]=$e,b[Q]=U,x[Q]=D,c.extendLine&&(Ce?(Yr(T,S,M),ro(T,T),wr($,T,1/za(k,T)),tc($,$,M)):(wr($,O,1/za(k,O)),tc($,$,P)),ve?(Yr(T,I,P),ro(T,T),wr(j,T,1/za(B,T)),tc(j,j,P)):(wr(j,R,1/za(B,R)),tc(j,j,M))),tc(q,E,k);var F=0;c.extendLine?(gn(S,Me,F),gn($,$e,F),gn($,Me,F+=3),gn(q,$e,F),F+=3,gn($,D,0),gn(q,D,3),gn(Ce?M:P,D,6),gn(Ce?M:P,D,9),gn(q,D,12),gn(E,D,15)):(gn(E,Me,F),gn(q,$e,F),F+=3);for(var K=function(Ae,Ke){var Je=9*Ke;gn(E,U,Je),gn(q,U,Je+3),gn(q,Me,F),Zl(q,E,k,V,Ae),gn(q,U,Je+6),gn(q,$e,F),F+=3},he=0,ge=u;ge<me;ge+=u)K(ge,he++);K(me,he++),c.extendLine?(gn(q,Me,3*(Le-2)),gn(j,$e,3*(Le-2)),gn(j,Me,3*(Le-1)),gn(I,$e,3*(Le-1)),gn(j,D,18),gn(q,D,21),gn(ve?P:M,D,24),gn(ve?P:M,D,27),gn(q,D,30),gn(E,D,33)):(gn(q,Me,F),gn(E,$e,F),F+=3),y+=3*Le,w+=9*ye,_+=Te,Q+=1}}},X=0;X<d;X+=12)H(X);for(var J=Q,G=new Float32Array(y),ie=new Float32Array(y),Y=new Float32Array(w),le=new Float32Array(_),te=0,re=0,ae=0,pe=0;pe<J;pe++){var we=v[pe],fe=m[pe],_e=b[pe],W=x[pe];Fo(we,G,0,te,we.length),Fo(fe,ie,0,te,fe.length),Fo(_e,Y,0,re,_e.length),Fo(W,le,0,ae,W.length),te+=we.length,re+=_e.length,ae+=W.length}return{labelPosition:h.subarray(0,3*J),labelText:g.slice(0,J),linePosition1:G,linePosition2:ie,planePosition:le,sectorPosition:Y}}(v8(n,this.atomQuad),{extendLine:this.extendLine}),o=this.n=r.labelText.length,i=new vt(this.labelColor);this.textBuffer=new A0({position:r.labelPosition,size:Bs(o,this.labelSize),color:yr(o,i.r,i.g,i.b),text:r.labelText},this.getLabelBufferParams());var a=new vt(this.colorValue);this.lineLength=r.linePosition1.length/3;var s=yr(this.lineLength,a.r,a.g,a.b);return this.lineBuffer=new qd(ZN({position1:r.linePosition1,position2:r.linePosition2,color:s,color2:s}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=r.planePosition.length/3,this.planeBuffer=new Wd({position:r.planePosition,color:yr(this.planeLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.planeVisible})),this.sectorLength=r.sectorPosition.length/3,this.sectorBuffer=new Wd({position:r.sectorPosition,color:yr(this.sectorLength,a.r,a.g,a.b)},this.getBufferParams({visible:this.sectorVisible})),{bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]}}},t.prototype.updateData=function(n,r){e.prototype.updateData.call(this,n,r);var o={},i={},a={};if(n.color){var s=new vt(this.colorValue);Object.assign(o,{color:yr(this.lineLength,s.r,s.g,s.b),color2:yr(this.lineLength,s.r,s.g,s.b)}),Object.assign(i,{color:yr(this.planeLength,s.r,s.g,s.b)}),Object.assign(a,{color:yr(this.sectorLength,s.r,s.g,s.b)})}this.lineBuffer.setAttributes(o),this.planeBuffer.setAttributes(i),this.sectorBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),!n||n.lineVisible===void 0&&n.sectorVisible===void 0&&n.planeVisible===void 0||this.setVisibility(this.visible),n&&n.lineOpacity&&this.lineBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.lineBuffer.setParameters({linewidth:n.linewidth}),this},t.prototype.setVisibility=function(n,r){return e.prototype.setVisibility.call(this,n,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),r||this.viewer.requestRender(),this},t}(g8);jr.add("dihedral",v2t);function Q$(e,t){function n(i,a){return a in i}var r=Object.assign({},e);for(var o in r)n(r,o)&&n(t,o)&&(r[o]=se(t[o],r[o]));return r}function Vl(e,t){var n=new vt(e),r=new Float32Array(3*t);return yr(t,n.r,n.g,n.b,r),r}var b2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="dihedral-histogram",this.parameters=Object.assign({histogramsData:{type:"hidden",rebuild:!0},histogramBinBorderVisible:{type:"boolean",default:!0},scaleBinToSectorArea:{type:"boolean",rebuild:!0,default:!1}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{},o=Q$({histogramBinBorderColor:"grey",adjacentBondArrowColor:"black",distantBondArrowColor:"magenta",frontHistogramColor:"green",backHistogramColor:"blue",opaqueMiddleDiscColor:"white"},r);Object.assign(this,o);var i=Q$({histogramsData:[],histogramOpacity:1,opaqueMiddleDiscVisible:!0,opaqueMiddleDiscOpacity:1,histogramBinBorderVisible:!0,histogramBinBorderWidth:1,histogramBinBorderOpacity:.5,bondArrowVisible:!0,bondArrowWidth:2,bondArrowOpacity:1,scaleBinToSectorArea:!1},r);Object.assign(this,i),this.histogramsData.forEach(function(a){var s=Q$(o,a);Object.assign(a,s)}),r.side=se(r.side,"double"),r.opacity=se(r.opacity,.5),r.radiusType=se(r.radiusType,"size"),r.radiusSize=se(r.radiusSize,.15),e.prototype.init.call(this,r)},t.prototype.getHistogramBinBorderBufferParameters=function(){return this.getBufferParams({linewidth:this.histogramBinBorderWidth,visible:this.histogramBinBorderVisible,opacity:this.histogramBinBorderOpacity})},t.prototype.getBondArrowsBufferParameters=function(){return this.getBufferParams({linewidth:this.bondArrowWidth,visible:this.bondArrowVisible,opacity:this.bondArrowOpacity})},t.prototype.getOpaqueMiddleDiscBufferParameters=function(){return this.getBufferParams({visible:this.opaqueMiddleDiscVisible,opacity:this.opaqueMiddleDiscOpacity})},t.prototype.getHistogramBufferParameters=function(){return this.getBufferParams({visible:!0,opacity:this.histogramOpacity,side:"double"})},t.prototype.createData=function(n){if(n.atomCount&&this.histogramsData.length){this.histogramsData.forEach(function(d){return d.atomPositions=v8(n,[d.atomQuad])});var r=this.scaleBinToSectorArea?function(d){return Math.sqrt(d)}:function(d){return d};this.histogramsData.forEach(function(d){return d.histogram360Scaled=d.histogram360.map(r)});for(var o=[],i=0;i<this.histogramsData.length;i++){var a=void 0,s=this.histogramsData[i];s.histogram360.length>=3&&(a=y2t(s)),a!==void 0&&o.push(a)}return this.frontHistogramBinBordersBuffer=c(o.map(function(d){return d.frontHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.backHistogramBinBordersBuffer=c(o.map(function(d){return d.backHistogramBinBorders}),this.getHistogramBinBorderBufferParameters()),this.adjacentBondArrowsBuffer=c(o.map(function(d){return d.adjacentBondArrows}),this.getBondArrowsBufferParameters()),this.distantBondArrowsBuffer=c(o.map(function(d){return d.distantBondArrows}),this.getBondArrowsBufferParameters()),this.opaqueMiddleDiscBuffer=u(o.map(function(d){return d.opaqueMiddleDisc}),this.getOpaqueMiddleDiscBufferParameters()),this.frontHistogramBuffer=u(o.map(function(d){return d.frontHistogram}),this.getHistogramBufferParameters()),this.backHistogramBuffer=u(o.map(function(d){return d.backHistogram}),this.getHistogramBufferParameters()),{bufferList:[].concat(this.frontHistogramBinBordersBuffer,this.backHistogramBinBordersBuffer,this.adjacentBondArrowsBuffer,this.distantBondArrowsBuffer,this.opaqueMiddleDiscBuffer,this.frontHistogramBuffer,this.backHistogramBuffer)}}function l(d){for(var f=d.map(function(v){return v.length}),p=new Float32Array(o8(f)),h=0,g=0;g<d.length;g++)p.set(d[g],h),h+=d[g].length;return p}function c(d,f){return new qd({position1:l(d.map(function(p){return p.startPoints})),position2:l(d.map(function(p){return p.endPoints})),color:l(d.map(function(p){return p.startColors})),color2:l(d.map(function(p){return p.endColors}))},f)}function u(d,f){return new Wd({position:l(d.map(function(p){return p.triangles})),color:l(d.map(function(p){return p.triangleColors}))},f)}},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),n&&n.histogramBinBorderVisible!==void 0&&this.setVisibility(this.visible),this},t.prototype.setVisibility=function(n,r){return e.prototype.setVisibility.call(this,n,!0),this.frontHistogramBinBordersBuffer&&this.frontHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),this.backHistogramBinBordersBuffer&&this.backHistogramBinBordersBuffer.setVisibility(this.histogramBinBorderVisible),r||this.viewer.requestRender(),this},t}(Ni);function y2t(e){for(var t=e.atomPositions,n=e.histogram360Scaled,r=n.length<=180?360:2*n.length,o={triangles:new Float32Array(3*r*3),triangleColors:Vl(e.opaqueMiddleDiscColor,3*r)},i={triangles:new Float32Array(3*n.length*3),triangleColors:Vl(e.frontHistogramColor,3*n.length)},a={triangles:new Float32Array(3*n.length*3),triangleColors:Vl(e.backHistogramColor,3*n.length)},s={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:Vl(e.histogramBinBorderColor,n.length),endColors:Vl(e.histogramBinBorderColor,n.length)},l={startPoints:new Float32Array(3*n.length),endPoints:new Float32Array(3*n.length),startColors:Vl(e.histogramBinBorderColor,n.length),endColors:Vl(e.histogramBinBorderColor,n.length)},c={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:Vl(e.adjacentBondArrowColor,n.length),endColors:Vl(e.adjacentBondArrowColor,n.length)},u={startPoints:new Float32Array(6),endPoints:new Float32Array(6),startColors:Vl(e.distantBondArrowColor,n.length),endColors:Vl(e.distantBondArrowColor,n.length)},d=cn(),f=cn(),p=cn(),h=cn(),g=cn(),v=cn(),m=cn(),b=cn(),x=cn(),y=cn(),w=cn(),_=cn(),S=cn(),P=cn(),M=cn(),I=cn(),O=[d,f,p,h],L=0;L<O.length;L++)ba(O[L],t,3*L);if(Yr(g,d,f),Yr(v,p,f),Yr(b,h,p),vp(v)!==0&&(wr(M,v,.5),tc(x,f,M),ro(g,g),ro(v,v),ro(b,b),fk(m,v),wr(M,m,za(m,g)),Yr(y,g,M),wr(M,v,za(v,b)),Yr(w,b,M),vp(y)!==0&&vp(w)!==0)){ro(y,y),ro(w,w);var R=Math.acos(za(y,w));rs(_,m,y),rs(S,v,w),ro(_,_),ro(S,S);var T=R;za(_,w)<0&&(T=-R),tc(P,x,y);for(var E=Math.max.apply(null,n),k=2*Math.PI/n.length,B=2*Math.PI/r,$=0;$<r;$++){var j=3*$*3;gn(x,o.triangles,j),Zl(P,x,y,_,$*B),gn(P,o.triangles,j+3),Zl(P,x,y,_,($+1)*B),gn(P,o.triangles,j+6)}return wr(M,v,-.01),tc(x,x,M),q(i,s,0,y,_),wr(M,v,.02),tc(x,x,M),q(a,l,1,w,S),{opaqueMiddleDisc:o,frontHistogram:i,backHistogram:a,frontHistogramBinBorders:s,backHistogramBinBorders:l,adjacentBondArrows:c,distantBondArrows:u}}function V(Q,H,X,J,G){var ie=3*H*3;gn(x,Q,ie);var Y=Number(n[H])/E;wr(M,X,Y),wr(I,J,Y),Zl(P,x,M,I,H*G),gn(P,Q,ie+3),Zl(P,x,M,I,(H+1)*G),gn(P,Q,ie+6)}function q(Q,H,X,J,G){Fo(x,c.startPoints,0,3*X,x.length),Zl(M,x,J,G,0+0*k),Fo(M,c.endPoints,0,3*X,x.length),Fo(x,u.startPoints,0,3*X,x.length),Zl(M,x,J,G,T),Fo(M,u.endPoints,0,3*X,x.length);for(var ie=0;ie<n.length;ie++)Fo(x,H.startPoints,0,3*ie,x.length),Zl(M,x,J,G,0+k*ie),Fo(M,H.endPoints,0,3*ie,M.length);for(var Y=0;Y<n.length;Y++)V(Q.triangles,Y,J,G,k)}}jr.add("dihedral-histogram",b2t);var x2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="distance",this.parameters=Object.assign({radialSegments:!0,openEnded:!0,disableImpostor:!0,labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},useCylinder:{type:"boolean",rebuild:!0},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.linewidth=se(r.linewidth,5),r.radiusType=se(r.radiusType,"size"),r.radiusSize=se(r.radiusSize,.2),this.labelUnit=se(r.labelUnit,""),this.useCylinder=se(r.useCylinder,!1),this.atomPair=se(r.atomPair,[]),e.prototype.init.call(this,r)},t.prototype.getDistanceData=function(n,r){var o=this,i=r.length,a=new Array(i),s=new Float32Array(3*i),l=new pr,c=new pr,u=new wM,d=n.getAtomProxy(),f=n.getAtomProxy(),p=0,h=n.getAtomSet();r.forEach(function(v,m){var b=v[0],x=v[1];if(typeof b=="number"&&Number.isInteger(b)&&typeof x=="number"&&Number.isInteger(x)){if(!h.get(b)||!h.get(x))return void(p+=1);d.index=b,f.index=x}else{l.setString(b),c.setString(x);var y=n.getAtomIndices(l),w=n.getAtomIndices(c);if(!y.length||!w.length)return void(p+=1);d.index=y[0],f.index=w[0]}u.addBond(d,f,1),m-=p;var _=d.distanceTo(f);switch(o.labelUnit){case"angstrom":a[m]=_.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":a[m]=(_/10).toFixed(2)+" nm";break;default:a[m]=_.toFixed(2)}var S=3*m;s[S+0]=(d.x+f.x)/2,s[S+1]=(d.y+f.y)/2,s[S+2]=(d.z+f.z)/2}),p>0&&(i-=p,s=s.subarray(0,3*i));var g=new ln(u.count,!0);return{text:a,position:s,bondSet:g,bondStore:u}},t.prototype.getBondData=function(n,r,o){var i=n.getBondData(this.getBondParams(r,o));return i.picking&&(i.picking=new MSt(i.picking.array,i.picking.structure,o.bondStore)),i},t.prototype.createData=function(n){if(n.atomCount&&this.atomPair.length){var r=this.atomPair.length,o=new vt(this.labelColor),i=this.getDistanceData(n,this.atomPair);this.textBuffer=new A0({position:i.position,size:Bs(r,this.labelSize),color:yr(r,o.r,o.g,o.b),text:i.text},this.getLabelBufferParams());var a={bondSet:i.bondSet,bondStore:i.bondStore},s=this.getBondData(n,{position:!0,color:!0,picking:!0,radius:this.useCylinder},a);return this.useCylinder?this.distanceBuffer=new rf(s,this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})):this.distanceBuffer=new qd(ape(s),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),{bondSet:i.bondSet,bondStore:i.bondStore,position:i.position,bufferList:[this.textBuffer,this.distanceBuffer]}}},t.prototype.updateData=function(n,r){e.prototype.updateData.call(this,n,r);var o={bondSet:r.bondSet,bondStore:r.bondStore},i=this.getBondData(r.sview,n,o),a={};n&&!n.color||Object.assign(a,{color:i.color,color2:i.color2}),n&&!n.radius||Object.assign(a,{radius:i.radius}),this.distanceBuffer.setAttributes(a)},t.prototype.setParameters=function(n){return e.prototype.setParameters.call(this,n,{},!1),this.useCylinder||(n&&n.lineOpacity&&this.distanceBuffer.setParameters({opacity:n.lineOpacity}),n&&n.opacity!==void 0&&this.distanceBuffer.setParameters({opacity:this.lineOpacity}),n&&n.linewidth&&this.distanceBuffer.setParameters({linewidth:n.linewidth})),this},t}(g8);function J$(e){return 2*(e.position.length/3)*3}jr.add("distance",x2t);var w2t=Object.assign({scale:1,color:"grey"},Ta),lY=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,{position:new Float32Array(J$(r)),color:new Float32Array(J$(r))},o),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var i=new vt(this.parameters.color),a=this.geometry.attributes;yr(J$(r)/3,i.r,i.g,i.b,a.color.array),this.setAttributes(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return w2t},t.prototype.setAttributes=function(r){r===void 0&&(r={});var o,i,a,s=this.geometry.attributes;r.position&&r.vector&&(o=r.position,i=r.vector,a=s.position.array,s.position.needsUpdate=!0);var l=this.size/2,c=this.parameters.scale;if(o&&i)for(var u=0;u<l;u++){var d=2*u*3,f=3*u;a[d+0]=o[f+0],a[d+1]=o[f+1],a[d+2]=o[f+2],a[d+3]=o[f+0]+i[f+0]*c,a[d+4]=o[f+1]+i[f+1]*c,a[d+5]=o[f+2]+i[f+2]*c}},Object.defineProperties(t.prototype,n),t}(En),_2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"sstruc"),r.radiusType=se(r.radiusType,"size"),r.radiusSize=se(r.radiusSize,.15),r.radiusScale=se(r.radiusScale,1),r.useInteriorColor=se(r.useInteriorColor,!0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){var r=this,o=[],i=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){i.push(a);var s=new hd(a),l=s.getPosition(),c=s.getColor(r.getColorParams()),u=s.getSize(r.getRadiusParams()),d=s.getPicking();o.push(new eh({position:l.center,color:c.color,radius:u.size,picking:d.picking},r.getBufferParams({sphereDetail:r.sphereDetail,disableImpostor:r.disableImpostor,dullInterior:!0})),new lY({position:l.center,vector:l.axis},r.getBufferParams({color:"skyblue",scale:1})),new lY({position:l.center,vector:l.resdir},r.getBufferParams({color:"lightgreen",scale:1})))}},n.getSelection()),{bufferList:o,polymerList:i}},t.prototype.updateData=function(n,r){ot&&Ze.time(this.type+" repr update"),n=n||{};for(var o=0,i=r.polymerList.length;o<i;++o){var a=3*o,s={},l=r.polymerList[o],c=new hd(l);if(n.position){var u=c.getPosition();Object.assign(s,{position:u.center}),r.bufferList[a+1].setAttributes({position:u.center,vector:u.axis}),r.bufferList[a+2].setAttributes({position:u.center,vector:u.resdir})}r.bufferList[a].setAttributes(s)}ot&&Ze.timeEnd(this.type+" repr update")},t}(Ni);jr.add("helixorient",_2t);var jpe=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.aspectRatio=1,e.prototype.init.call(this,r)},t}(xk);jr.add("licorice",jpe),Gn.add("shader/HyperballStickImpostor.vert",`
attribute vec3 mapping;
attribute float radius;
attribute float radius2;
attribute vec3 position1;
attribute vec3 position2;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
attribute vec3 color2;
varying vec3 vColor1;
varying vec3 vColor2;
#endif
uniform float shrink;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewProjectionMatrixInverse;
void main(){
vRadius = radius;
vRadius2 = radius2;
vec4 spaceposition;
vec3 position_atom1;
vec3 position_atom2;
vec4 vertex_position;
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
vColor1 = color;
vColor2 = color2;
#endif
float radius1 = radius;
position_atom1 = position1;
position_atom2 = position2;
float distance = distance( position_atom1, position_atom2 );
spaceposition.z = mapping.z * distance;
if (radius1 > radius2) {
spaceposition.y = mapping.y * 1.5 * radius1;
spaceposition.x = mapping.x * 1.5 * radius1;
} else {
spaceposition.y = mapping.y * 1.5 * radius2;
spaceposition.x = mapping.x * 1.5 * radius2;
}
spaceposition.w = 1.0;
vec4 e3 = vec4( 1.0 );
vec3 e1, e1_temp, e2, e2_temp;
e3.xyz = normalize(position_atom1-position_atom2);
if (e3.z == 0.0) { e3.z = 0.0000000000001;}
if ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}
if ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}
if ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}
vec4 focus = vec4( 1.0 );
focus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +
( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));
focus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +
( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));
focus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +
( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;
e2 = normalize(e2_temp);
mat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );
vertex_position.xyz = R * spaceposition.xyz;
vertex_position.w = 1.0;
vertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;
vertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;
vertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;
gl_Position = modelViewProjectionMatrix * vertex_position;
vec4 i_near, i_far;
vec4 near = gl_Position;
near.z = 0.0 ;
near = modelViewProjectionMatrixInverse * near;
i_near = near;
vec4 far = gl_Position;
far.z = far.w ;
i_far = modelViewProjectionMatrixInverse * far;
prime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );
prime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );
float Rsquare = (radius1*radius1/shrink) - (
(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +
(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +
(position_atom1.z - focus.z)*(position_atom1.z - focus.z)
);
focus.w = Rsquare;
matrix_near = mat4( i_near, i_far, focus, e3 );
gl_Position.z = 1.0;
}`),Gn.add("shader/HyperballStickImpostor.frag",`#define STANDARD
#define IMPOSTOR
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 interiorColor;
uniform float interiorDarkening;
uniform float roughness;
uniform float metalness;
uniform float opacity;
uniform float clipNear;
uniform float shrink;
uniform mat4 modelViewMatrix;
uniform mat4 modelViewProjectionMatrix;
uniform mat4 modelViewMatrixInverseTranspose;
uniform mat4 projectionMatrix;
varying mat4 matrix_near;
varying vec4 prime1;
varying vec4 prime2;
varying float vRadius;
varying float vRadius2;
#ifdef PICKING
uniform float objectId;
varying vec3 vPickingColor;
#else
varying vec3 vColor1;
varying vec3 vColor2;
#include common
#include fog_pars_fragment
#include bsdfs
#include lights_pars_begin
#include lights_physical_pars_fragment
#endif
bool interior = false;
float calcClip( vec4 cameraPos ){
return dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );
}
float calcClip( vec3 cameraPos ){
return calcClip( vec4( cameraPos, 1.0 ) );
}
float calcDepth( in vec3 cameraPos ){
vec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;
return 0.5 + 0.5 * clipZW.x / clipZW.y;
}
struct Ray {
vec3 origin ;
vec3 direction ;
};
bool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){
float a = x3.x;
float b = x3.y;
float c = x3.z;
float d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;
float l = a*M.x+b*M.y+c*M.z+d;
if (l<0.0) {return true;}
else{return false;}
}
vec3 isect_surf(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t1 =(-b-sqrt(delta))/a;
return r.origin+t1*r.direction;
}
vec3 isect_surf2(Ray r, mat4 matrix_coef){
vec4 direction = vec4(r.direction, 0.0);
vec4 origin = vec4(r.origin, 1.0);
float a = dot(direction,(matrix_coef*direction));
float b = dot(origin,(matrix_coef*direction));
float c = dot(origin,(matrix_coef*origin));
float delta =b*b-a*c;
gl_FragColor.a = 1.0;
if (delta<0.0){
discard;
}
float t2 =(-b+sqrt(delta))/a;
return r.origin+t2*r.direction;
}
Ray primary_ray(vec4 near1, vec4 far1){
vec3 near=near1.xyz/near1.w;
vec3 far=far1.xyz/far1.w;
return Ray(near,far-near);
}
float update_z_buffer(vec3 M, mat4 ModelViewP){
float depth1;
vec4 Ms=(ModelViewP*vec4(M,1.0));
return depth1=(1.0+Ms.z/Ms.w)/2.0;
}
void main(){
float radius = max( vRadius, vRadius2 );
vec4 i_near, i_far, focus;
vec3 e3, e1, e1_temp, e2;
i_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);
i_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);
focus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);
e3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);
e1.x = 1.0;
e1.y = 1.0;
e1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;
e1_temp = e1 - focus.xyz;
e1 = normalize(e1_temp);
e2 = normalize(cross(e1,e3));
vec4 equation = focus;
float shrinkfactor = shrink;
float t1 = -1.0/(1.0-shrinkfactor);
float t2 = 1.0/(shrinkfactor);
vec4 colonne1, colonne2, colonne3, colonne4;
mat4 mat;
vec3 equation1 = vec3(t2,t2,t1);
float A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;
float A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;
float A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;
float A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;
float A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;
float A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;
float A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;
float A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;
float A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;
float A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;
float A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;
float A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;
float A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;
colonne1 = vec4(A11,A21,A31,A41);
colonne2 = vec4(A21,A22,A32,A42);
colonne3 = vec4(A31,A32,A33,A43);
colonne4 = vec4(A41,A42,A43,A44);
mat = mat4(colonne1,colonne2,colonne3,colonne4);
Ray ray = primary_ray(i_near,i_far) ;
vec3 M;
M = isect_surf(ray, mat);
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
vec4 M1 = vec4(M,1.0);
vec4 M2 = mat*M1;
vec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
#ifdef NEAR_CLIP
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){
M = isect_surf2(ray, mat);
if( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )
discard;
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );
}
}else if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#else
if( gl_FragDepthEXT <= 0.0 ){
M = isect_surf2(ray, mat);
interior = true;
gl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;
if( gl_FragDepthEXT >= 0.0 ){
gl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );
}
}
#endif
if (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }
if (gl_FragDepthEXT < 0.0)
discard;
if (gl_FragDepthEXT > 1.0)
discard;
float distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /
distance(prime2.xyz,prime1.xyz);
#ifdef PICKING
if( opacity < 0.3 )
discard;
gl_FragColor = vec4( vPickingColor, objectId );
#else
vec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;
vec3 vNormal = _normal;
vec3 vColor;
if( distance_ratio>0.5 ){
vColor = vColor1;
}else{
vColor = vColor2;
}
vec4 diffuseColor = vec4( diffuse, opacity );
ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
vec3 totalEmissiveLight = emissive;
#include color_fragment
#include roughnessmap_fragment
#include metalnessmap_fragment
vec3 normal = normalize( vNormal );
vec3 geometryNormal = normal;
#include lights_physical_fragment
#include lights_fragment_begin
#include lights_fragment_end
vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;
if( interior ){
#ifdef USE_INTERIOR_COLOR
outgoingLight.xyz = interiorColor;
#else
#ifdef DIFFUSE_INTERIOR
outgoingLight.xyz = vColor;
#endif
#endif
outgoingLight.xyz *= 1.0 - interiorDarkening;
}
gl_FragColor = vec4( outgoingLight, diffuseColor.a );
#include premultiplied_alpha_fragment
#include tonemapping_fragment
#include encodings_fragment
#include fog_fragment
#endif
}`);var S2t=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),C2t=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),P2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,"v3",r,o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return n.mapping.get=function(){return S2t},n.mappingIndices.get=function(){return C2t},n.mappingIndicesSize.get=function(){return 36},n.mappingSize.get=function(){return 8},n.mappingItemSize.get=function(){return 3},Object.defineProperties(t.prototype,n),t}(d8),zpe=Object.assign({shrink:.14},Ta),M2t=Object.assign({shrink:{uniform:!0}},Sg),A2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o),this.parameterTypes=M2t,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new mt},modelViewProjectionMatrixInverse:{value:new mt},modelViewMatrixInverseTranspose:{value:new mt},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(r),this.makeMapping()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return zpe},Object.defineProperties(t.prototype,n),t}(P2t);Object.assign({disableImpostor:!1},b8,zpe);var E2t=function(e,t){return t===void 0&&(t={}),!xu||t&&t.disableImpostor?(e.radius=function(n,r){for(var o=n.length,i=new Float32Array(o),a=0;a<o;a++)i[a]=Math.min(n[a],r[a]);return i}(e.radius,e.radius2),new Npe(e,t)):new A2t(e,t)},T2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.radiusScale=se(r.radiusScale,.2),r.radiusType=se(r.radiusType,"vdw"),r.useInteriorColor=se(r.useInteriorColor,!0),this.shrink=se(r.shrink,.12),e.prototype.init.call(this,r)},t.prototype.getBondParams=function(n,r){return n&&!n.radius||(r=Object.assign({radius2:!0},r)),e.prototype.getBondParams.call(this,n,r)},t.prototype.createData=function(n){var r=new eh(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*n.bondCount),{bufferList:[r,new E2t(n.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},t.prototype.updateData=function(n,r){var o=r.sview.getAtomData(this.getAtomParams()),i=r.sview.getBondData(this.getBondParams()),a={},s={};if(!n||n.position){Object.assign(a,{position:o.position});var l=i.position1,c=i.position2;Object.assign(s,{position:wu(l,c,this.__center),position1:l,position2:c})}n&&!n.color||(Object.assign(a,{color:o.color}),Object.assign(s,{color:i.color,color2:i.color2})),n&&!n.radius||(Object.assign(a,{radius:o.radius}),Object.assign(s,{radius:i.radius,radius2:i.radius2})),r.bufferList[0].setAttributes(a),r.bufferList[1].setAttributes(s)},t}(jpe);jr.add("hyperball",T2t);var RE=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=""),this.type=e,this.text=t,this.format=n,this.errorLogged=!1};RE.prototype.atomLabel=function(e){var t;switch(this.type){case"atomname":t=e.atomname;break;case"atomindex":t=""+e.index;break;case"occupancy":t=e.occupancy.toFixed(2);break;case"bfactor":t=e.bfactor.toFixed(2);break;case"serial":t=""+e.serial;break;case"element":t=e.element;break;case"atom":t=e.atomname+"|"+e.index;break;case"resname":t=e.resname;break;case"resno":t=""+e.resno;break;case"res":t=""+(TE[e.resname.toUpperCase()]||e.resname)+e.resno;break;case"residue":var n=TE[e.resname.toUpperCase()];t=n&&!e.inscode?""+n+e.resno:"["+e.resname+"]"+e.resno+e.inscode;break;case"text":t=this.text[e.index];break;case"format":try{t=va.sprintf(this.format,e)}catch(r){this.errorLogged||(this.errorLogged=!0,console.log(r.message))}break;default:t=e.qualifiedName()}return t===void 0?"":t},RE.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"one letter code + no",residue:"[residue name] + no + inscode",text:"text",format:"format",qualified:"qualified name"};var O2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:RE.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},labelFormat:{type:"text",rebuild:!0},labelGrouping:{type:"select",options:{atom:"atom",residue:"residue"},rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0},fixedSize:{type:"boolean",buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};this.labelType=se(r.labelType,"res"),this.labelText=se(r.labelText,{}),this.labelFormat=se(r.labelFormat,""),this.labelGrouping=se(r.labelGrouping,"atom"),this.fontFamily=se(r.fontFamily,"sans-serif"),this.fontStyle=se(r.fontStyle,"normal"),this.fontWeight=se(r.fontWeight,"bold"),this.xOffset=se(r.xOffset,0),this.yOffset=se(r.yOffset,0),this.zOffset=se(r.zOffset,.5),this.attachment=se(r.attachment,"bottom-left"),this.showBorder=se(r.showBorder,!1),this.borderColor=se(r.borderColor,"lightgrey"),this.borderWidth=se(r.borderWidth,.15),this.showBackground=se(r.showBackground,!1),this.backgroundColor=se(r.backgroundColor,"lightgrey"),this.backgroundMargin=se(r.backgroundMargin,.5),this.backgroundOpacity=se(r.backgroundOpacity,1),this.fixedSize=se(r.fixedSize,!1),e.prototype.init.call(this,r)},t.prototype.getTextData=function(n,r){var o,i,a,s,l,c,u,d=this.getAtomParams(r),f=new RE(this.labelType,this.labelText,this.labelFormat);if(this.labelGrouping==="atom"){var p=n.getAtomData(d);o=p.position,i=p.radius,a=p.color,r&&!r.text||(s=[],n.eachAtom(function(b){return s.push(f.atomLabel(b))}))}else if(this.labelGrouping==="residue"){r&&!r.position||(l=[]),r&&!r.color||(u=[]),r&&!r.radius||(c=[]),r&&!r.text||(s=[]),d.colorParams&&(d.colorParams.structure=n.getStructure());var h=Cn.getScheme(d.colorParams),g=new Iu(d.radiusParams),v=n.getAtomProxy(),m=0;n.eachResidue(function(b){var x=3*m;b.isProtein()||b.isNucleic()?(v.index=b.traceAtomIndex,r&&!r.position||v.positionToArray(l,x)):(v.index=b.atomOffset,r&&!r.position||b.positionToArray(l,x)),r&&!r.color||h.atomColorToArray(v,u,x),r&&!r.radius||(c[m]=g.atomRadius(v)),r&&!r.text||s.push(f.atomLabel(v)),++m}),r&&!r.position||(o=new Float32Array(l)),r&&!r.color||(a=new Float32Array(u)),r&&!r.radius||(i=new Float32Array(c))}return{position:o,size:i,color:a,text:s}},t.prototype.createData=function(n){return{bufferList:[new A0(this.getTextData(n,{position:!0,color:!0,radius:!0,text:!0}),this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity,fixedSize:this.fixedSize}))]}},t.prototype.updateData=function(n,r){r.bufferList[0].setAttributes(this.getTextData(r.sview,n))},t.prototype.getAtomRadius=function(){return 0},t}(Ni);jr.add("label",O2t);var I2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};this.multipleBond=se(r.multipleBond,"off"),this.bondSpacing=se(r.bondSpacing,1),this.linewidth=se(r.linewidth,2),this.lines=se(r.lines,!0),this.crosses=se(r.crosses,"lone"),this.crossSize=se(r.crossSize,.4),e.prototype.init.call(this,r)},t.prototype.getAtomRadius=function(n){return .1},t.prototype.getBondParams=function(n,r){return r=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},r),e.prototype.getBondParams.call(this,n,r)},t.prototype._crossData=function(n,r){if(!n||n.position||n.color){var o,i,a,s,l={};this.crosses==="lone"&&Object.assign(l,{atomSet:(o=r,i=o.getAtomSet(),a=o.getBondSet(),s=o.getBondProxy(),a.forEach(function(T){s.index=T,i.clear(s.atomIndex1),i.clear(s.atomIndex2)}),i)});var c=r.getAtomData(this.getAtomParams(n,l)),u={},d=c.position,f=c.color,p=c.picking,h=(d||f).length,g=3*h,v=new Float32Array(0),m=new Float32Array(0),b=new Float32Array(0),x=new Float32Array(0),y=0,w=new Float32Array(0);n&&!n.position||(v=u.position1=new Float32Array(g),m=u.position2=new Float32Array(g),y=this.crossSize/2),n&&!n.color||(b=u.color=new Float32Array(g),x=u.color2=new Float32Array(g)),n&&!n.picking||(w=new Float32Array(3*c.picking.array.length));for(var _=0;_<h;_++){var S=3*_,P=3*S;if(!n||n.position){var M=d[S],I=d[S+1],O=d[S+2];v[P]=M-y,v[P+1]=I,v[P+2]=O,m[P]=M+y,m[P+1]=I,m[P+2]=O,v[P+3]=M,v[P+4]=I-y,v[P+5]=O,m[P+3]=M,m[P+4]=I+y,m[P+5]=O,v[P+6]=M,v[P+7]=I,v[P+8]=O-y,m[P+6]=M,m[P+7]=I,m[P+8]=O+y}if(!n||n.color)for(var L=P+9,R=P;R<L;R+=3)b[R]=x[R]=f[S],b[R+1]=x[R+1]=f[S+1],b[R+2]=x[R+2]=f[S+2];n&&!n.picking||(w[S]=w[S+1]=w[S+2]=p.array[_])}return n&&!n.picking||(u.picking=new _g(w,p.structure)),u}},t.prototype.createData=function(n){var r={position:!0,color:!0,picking:!0},o=[];if(this.lines){var i=n.getBondData(this.getBondParams(r)),a=new qd(i,this.getBufferParams({linewidth:this.linewidth}));o.push(a)}if(this.crosses!=="off"){var s=new qd(this._crossData(r,n),this.getBufferParams({linewidth:this.linewidth}));o.push(s)}return{bufferList:o}},t.prototype.updateData=function(n,r){var o=0;if(this.lines){var i=r.sview.getBondData(this.getBondParams(n)),a={};n&&!n.position||Object.assign(a,{position1:i.position1,position2:i.position2}),n&&!n.color||Object.assign(a,{color:i.color,color2:i.color2}),r.bufferList[o++].setAttributes(a)}if(this.crosses!=="off"){var s=this._crossData(n,r.sview),l={};n&&!n.position||Object.assign(l,{position1:s.position1,position2:s.position2}),n&&!n.color||Object.assign(l,{color:s.color,color2:s.color2}),r.bufferList[o++].setAttributes(l)}},t.prototype.setParameters=function(n){var r={};return n&&(n.bondSpacing||n.crossSize)&&Object.assign(r,{position:!0}),e.prototype.setParameters.call(this,n,r,!1),this},t}(Ni);function Hpe(e,t,n,r,o){var i=new(r=r||Int32Array)(e*t*n*(o=o||1));function a(s,l,c){return((s*t+l)*n+c)*o}return{data:i,index:a,set:function(s,l,c){for(var u=[],d=arguments.length-3;d-- >0;)u[d]=arguments[d+3];for(var f=a(s,l,c),p=0;p<o;++p)i[f+p]=u[p]},toArray:function(s,l,c,u,d){u===void 0&&(u=[]),d===void 0&&(d=0);for(var f=a(s,l,c),p=0;p<o;++p)u[d+p]=i[f+p]},fromArray:function(s,l,c,u,d){d===void 0&&(d=0);for(var f=a(s,l,c),p=0;p<o;++p)i[f+p]=u[d+p]},copy:function(s){i.set(s.data)}}}function CM(e,t,n){var r=_pe(t),o=t_(e);e.length===0&&(o[0].set([0,0,0]),o[1].set([0,0,0]));var i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y=o[0],w=o[1];function _(T,E,k,B,$){i=E||1.4,a=k||2,v=$||!0;var j=0;for(var V in r)j=Math.max(j,V);var q=i_(y,w,j,a,T?i:0);l=q.dim[0],c=q.dim[1],u=q.dim[2],d=q.matrix,f=q.tran,a=q.scaleFactor,p={},h={},P(T),g=i*a,s=B||i/a,m=new Uint8Array(l*c*u),T&&(b=new Float64Array(l*c*u)),v&&(x=new Int32Array(l*c*u))}var S=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function P(T){var E,k,B,$,j,V,q,Q,H,X;for(var J in r)if(E=parseFloat(J),!p[J]){for(V=(q=T?(E+i)*a+.5:E*a+.5)*q,Q=Math.floor(q)+1,H=new Int32Array(Q*Q),X=0,k=0;k<Q;++k)for(B=0;B<Q;++B)($=k*k+B*B)>V?H[X]=-1:(j=Math.sqrt(V-$),H[X]=Math.floor(j)),++X;h[J]=Q,p[J]=H}}function M(T){var E,k,B,$,j,V,q,Q,H,X,J,G,ie,Y,le,te,re,ae,pe=3*T,we=T;E=Math.floor(.5+a*(e[pe]+f[0])),k=Math.floor(.5+a*(e[pe+1]+f[1])),B=Math.floor(.5+a*(e[pe+2]+f[2]));var fe,_e=t[we],W=p[_e],oe=0,Ce=c*u,ve=h[_e];for(X=0;X<ve;++X)for(J=0;J<ve;++J){if((fe=W[oe])!==-1){for(te=-1;te<2;++te)for(re=-1;re<2;++re)for(ae=-1;ae<2;++ae)if(te!==0&&re!==0&&ae!==0){for(q=te*X,H=ae*J,G=0;G<=fe;++G)if(Y=k+(Q=G*re),le=B+H,!((ie=E+q)<0||Y<0||le<0||ie>=l||Y>=c||le>=u)){var me=ie*Ce+Y*u+le;if(v)if(1&m[me]){if(1&m[me]){var ye=x[me];ye!==pe&&q*q+Q*Q+H*H<($=E+q-Math.floor(.5+a*(e[ye]+f[0])))*$+(j=k+Q-Math.floor(.5+a*(e[ye+1]+f[1])))*j+(V=B+H-Math.floor(.5+a*(e[ye+2]+f[2])))*V&&(x[me]=T)}}else m[me]|=1,x[me]=T;else m[me]|=1}}}oe++}}function I(T){var E,k;for(console.time("EDTSurface fillvoxels"),E=0,k=m.length;E<k;++E)m[E]=0,T&&(b[E]=-1),v&&(x[E]=-1);for(E=0,k=e.length/3;E<k;++E)M(E);for(E=0,k=m.length;E<k;++E)1&m[E]&&(m[E]|=2);console.timeEnd("EDTSurface fillvoxels")}function O(T){var E,k,B,$,j,V,q,Q,H,X,J,G,ie,Y,le,te,re,ae,pe,we=3*T,fe=T,_e=0;E=Math.floor(.5+a*(e[we]+f[0])),k=Math.floor(.5+a*(e[we+1]+f[1])),B=Math.floor(.5+a*(e[we+2]+f[2]));var W=t[fe],oe=c*u;for(ie=0,pe=h[W];ie<pe;++ie)for(Y=0;Y<pe;++Y){if(p[W][_e]!==-1){for(te=-1;te<2;++te)for(re=-1;re<2;++re)for(ae=-1;ae<2;++ae)if(te!==0&&re!==0&&ae!==0){for(q=te*ie,H=ae*Y,le=0;le<=p[W][_e];++le)if(J=k+(Q=le*re),G=B+H,!((X=E+q)<0||J<0||G<0||X>=l||J>=c||G>=u)){var Ce=X*oe+J*u+G;if(2&m[Ce]){if(v){var ve=x[Ce];q*q+Q*Q+H*H<($=Math.floor(.5+a*(e[ve]+f[0])))*$+(j=Math.floor(.5+a*(e[ve+1]+f[1])))*j+(V=Math.floor(.5+a*(e[ve+2]+f[2])))*V&&(x[Ce]=T)}}else m[Ce]|=2,v&&(x[Ce]=T)}}}_e++}}function L(){var T,E,k,B;console.time("EDTSurface fastdistancemap");var $,j=Hpe(l,c,u,Uint16Array,3),V=c*u,q=g*g,Q=0;for(T=0;T<l;++T)for(E=0;E<c;++E)for(k=0;k<u;++k)m[$=T*V+E*u+k]&=-3,1&m[$]&&4&m[$]&&(j.set(T,E,k,T,E,k),b[$]=0,m[$]|=2,Q+=1);var H=new Int32Array(3*Q),X=0,J=new Int32Array(3*Q),G=0;for(T=0;T<l;++T)for(E=0;E<c;++E)for(k=0;k<u;++k)4&m[$=T*V+E*u+k]&&(H[X]=T,H[X+1]=E,H[X+2]=k,X+=3,m[$]&=-5);do for(G=R(H,j,X,J),X=0,T=0,B=G;T<B;T+=3)$=V*J[T]+u*J[T+1]+J[T+2],m[$]&=-5,b[$]<=1.0404*q&&(H[X]=J[T],H[X+1]=J[T+1],H[X+2]=J[T+2],X+=3);while(X>0);var ie,Y=s*s,le=new Uint16Array(3);for(T=0;T<l;++T)for(E=0;E<c;++E)for(k=0;k<u;++k)m[$=T*V+E*u+k]&=-5,1&m[$]&&(2&m[$]&&!(2&m[$]&&b[$]>=Y)||(m[$]|=4,v&&2&m[$]&&(j.toArray(T,E,k,le),ie=le[0]*V+le[1]*u+le[2],x[$]=x[ie])));console.timeEnd("EDTSurface fastdistancemap")}function R(T,E,k,B){var $,j,V,q,Q,H,X,J,G,ie,Y,le,te=new Uint16Array(3),re=0;if(k===0)return re;var ae=-1,pe=-1,we=-1,fe=c*u;for(X=0,G=k;X<G;X+=3)for($=T[X],j=T[X+1],V=T[X+2],E.toArray($,j,V,te),J=0;J<6;++J)ae=$+(le=S[J])[0],pe=j+le[1],we=V+le[2],ae<l&&ae>-1&&pe<c&&pe>-1&&we<u&&we>-1&&(1&m[Y=ae*fe+u*pe+we]&&!(2&m[Y])?(E.fromArray(ae,pe,we,te),ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H,b[Y]=ie,m[Y]|=2,m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3):1&m[Y]&&2&m[Y]&&(ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H)<b[Y]&&(E.fromArray(ae,pe,we,te),b[Y]=ie,4&m[Y]||(m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3)));for(X=0,G=k;X<G;X+=3)for($=T[X],j=T[X+1],V=T[X+2],E.toArray($,j,V,te),J=6;J<18;J++)ae=$+(le=S[J])[0],pe=j+le[1],we=V+le[2],ae<l&&ae>-1&&pe<c&&pe>-1&&we<u&&we>-1&&(1&m[Y=ae*fe+u*pe+we]&&!(2&m[Y])?(E.fromArray(ae,pe,we,te),ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H,b[Y]=ie,m[Y]|=2,m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3):1&m[Y]&&2&m[Y]&&(ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H)<b[Y]&&(E.fromArray(ae,pe,we,te),b[Y]=ie,4&m[Y]||(m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3)));for(X=0,G=k;X<G;X+=3)for($=T[X],j=T[X+1],V=T[X+2],E.toArray($,j,V,te),J=18;J<26;J++)ae=$+(le=S[J])[0],pe=j+le[1],we=V+le[2],ae<l&&ae>-1&&pe<c&&pe>-1&&we<u&&we>-1&&(1&m[Y=ae*fe+u*pe+we]&&!(2&m[Y])?(E.fromArray(ae,pe,we,te),ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H,b[Y]=ie,m[Y]|=2,m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3):1&m[Y]&&2&m[Y]&&(ie=(q=ae-te[0])*q+(Q=pe-te[1])*Q+(H=we-te[2])*H)<b[Y]&&(E.fromArray(ae,pe,we,te),b[Y]=ie,4&m[Y]||(m[Y]|=4,B[re]=ae,B[re+1]=pe,B[re+2]=we,re+=3)));return re}this.getVolume=function(T,E,k,B,$){console.time("EDTSurface.getVolume");var j=T!=="vws";_(j,E,k,B,$),I(j),function(){var Q,H,X,J=c*u;for(Q=0;Q<l;++Q)for(H=0;H<u;++H)for(X=0;X<c;++X){var G=Q*J+X*u+H;if(1&m[G])for(var ie=0;ie<26;){var Y=Q+S[ie][0],le=H+S[ie][2],te=X+S[ie][1];if(Y>-1&&Y<l&&te>-1&&te<c&&le>-1&&le<u&&!(1&m[Y*J+te*u+le])){m[G]|=4;break}ie++}}}(),T!=="ms"&&T!=="ses"||L(),T==="ses"&&(P(!1),function(){var Q,H;for(Q=0,H=m.length;Q<H;++Q)m[Q]&=-3;for(Q=0,H=e.length/3;Q<H;++Q)O(Q)}()),function(Q){var H,X=m.length;if(Q==="vws")for(H=0;H<X;++H)m[H]&=-5,m[H]=2&m[H]?1:0;else if(Q==="ms")for(H=0;H<X;++H)m[H]&=-3,4&m[H]&&(m[H]|=2),m[H]&=-5,m[H]=2&m[H]?1:0;else if(Q==="ses")for(H=0;H<X;++H)4&m[H]&&2&m[H]?m[H]&=-5:4&m[H]&&!(2&m[H])&&(m[H]|=2),m[H]=2&m[H]?1:0;else if(Q==="sas")for(H=0;H<X;++H)m[H]&=-5,m[H]=2&m[H]?1:0}(T);for(var V=0,q=x.length;V<q;++V)x[V]=n[x[V]];return console.timeEnd("EDTSurface.getVolume"),{data:m,nx:u,ny:c,nz:l,atomindex:x}},this.getSurface=function(T,E,k,B,$,j,V){var q=this.getVolume(T,E,k,B,$);return new bp(q.data,q.nx,q.ny,q.nz,q.atomindex).getSurface(1,j,void 0,d,V)}}function Vpe(e,t,n,r,o,i,a){a=Math.max(.1,a);var s=e.length,l=o[0],c=o[1],u=o[2],d=i[0],f=i[1],p=i[2];function h(j,V){return Math.floor((j-V)/a)}for(var g,v,m,b=h(d,l)+1,x=h(f,c)+1,y=h(p,u)+1,w=b*x*y,_=x*y,S=[],P=0;P<s;P++){var M=(g=e[P],v=t[P],m=n[P],(h(g,l)*x+h(v,c))*y+h(m,u));S[M]===void 0?S[M]=[P]:S[M].push(P)}var I=new Uint32Array(w),O=new Uint16Array(w),L=new Uint32Array(s),R=0,T=0;for(P=0;P<w;P++){var E=I[P]=R,k=S[P];if(k!==void 0)for(var B=0;B<k.length;B++)L[R]=k[B],R++;var $=R-E;O[P]=$,$>T&&(T=$)}return{neighbourListLength:27*T+1,withinRadii:function(j,V,q,Q,H){for(var X=0,J=h(j,l),G=h(V,c),ie=h(q,u),Y=Math.max(0,J-1),le=Math.max(0,G-1),te=Math.max(0,ie-1),re=Math.min(b,J+2),ae=Math.min(x,G+2),pe=Math.min(y,ie+2),we=Y;we<re;++we)for(var fe=we*_,_e=le;_e<ae;++_e)for(var W=_e*y,oe=te;oe<pe;++oe)for(var Ce=fe+W+oe,ve=I[Ce],me=ve+O[Ce],ye=ve;ye<me;ye++){var Le=L[ye],Te=e[Le]-j,Me=t[Le]-V,$e=n[Le]-q,U=r[Le]+Q;Te*Te+Me*Me+$e*$e<=U*U&&(H[X++]=L[ye])}H[X]=-1}}}function PM(e,t,n){for(var r=t.length,o=new Float32Array(r),i=new Float32Array(r),a=new Float32Array(r),s=0;s<r;s++){var l=3*s;o[s]=e[l],i[s]=e[l+1],a[s]=e[l+2]}var c=t_(e);e.length===0&&(c[0].set([0,0,0]),c[1].set([0,0,0]));var u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I,O,L,R=c[0],T=c[1],E=-1,k=new Float32Array([0,0,0]),B=new Float32Array([0,0,0]),$=new Float32Array([0,0,0]),j=new Float32Array([0,0,0]);function V(ie,Y,le,te){p=se(ie,1.4),h=se(Y,2),g=se(le,!0),v=se(te,30),u=new Float32Array(r),d=new Float32Array(r);for(var re=0;re<u.length;++re){var ae=t[re]+p;u[re]=ae,d[re]=ae*ae}f=0;for(var pe=0;pe<u.length;++pe)u[pe]>f&&(f=u[pe]);var we;we=i_(R,T,f,h,0),h=we.scaleFactor,m=we.dim,b=we.matrix,L=Math.max(5,2+Math.floor(p*h)),x=Bs(m[0]*m[1]*m[2],-1001),y=new Int32Array(x.length),w=new Float32Array(m[0]),_=new Float32Array(m[1]),S=new Float32Array(m[2]),q(w,R[0],1/h),q(_,R[1],1/h),q(S,R[2],1/h),function(){var fe=0,_e=2*Math.PI/v;M=new Float32Array(v),P=new Float32Array(v);for(var W=0;W<v;W++)M[W]=Math.cos(fe),P[W]=Math.sin(fe),fe+=_e}(),I=Vpe(o,i,a,u,R,T,2.01*f),O=new Int32Array(I.neighbourListLength),E=-1}function q(ie,Y,le){for(var te=0;te<ie.length;te++)ie[te]=Y+le*te}function Q(ie,Y,le,te,re){var ae;if(E!==-1){if((ae=E)!==te&&ae!==re&&H(ae,ie,Y,le))return ae;E=-1}var pe=0;for(ae=O[pe];ae>=0;){if(ae!==te&&ae!==re&&H(ae,ie,Y,le))return E=ae,ae;ae=O[++pe]}return E=-1,-1}function H(ie,Y,le,te){var re=3*ie,ae=d[ie],pe=e[re]-Y,we=e[re+1]-le,fe=e[re+2]-te;return pe*pe+we*we+fe*fe<ae}function X(){for(var ie=0;ie<r;ie++){var Y=o[ie],le=i[ie],te=a[ie],re=u[ie],ae=d[ie];I.withinRadii(Y,le,te,re,O);for(var pe=Math.ceil(re*h),we=Math.floor(h*(Y-R[0])),fe=Math.floor(h*(le-R[1])),_e=Math.floor(h*(te-R[2])),W=Math.max(0,we-pe),oe=Math.max(0,fe-pe),Ce=Math.max(0,_e-pe),ve=Math.min(m[0],we+pe+2),me=Math.min(m[1],fe+pe+2),ye=Math.min(m[2],_e+pe+2),Le=W;Le<ve;Le++)for(var Te=w[Le]-Y,Me=m[1]*m[2]*Le,$e=oe;$e<me;$e++)for(var U=_[$e]-le,D=Te*Te+U*U,F=Me+m[2]*$e,K=Ce;K<ye;K++){var he=S[K]-te,ge=D+he*he;if(ge<ae){var Ae=K+F;x[Ae]<0&&(x[Ae]=-x[Ae]);var Ke=Math.sqrt(ge),Je=re/Ke,ft=Te*Je,ht=U*Je,it=he*Je;if(Q(ft+=Y,ht+=le,it+=te,ie,-1)===-1){var At=re-Ke;At<x[Ae]&&(x[Ae]=At,g&&(y[Ae]=ie))}}}}}function J(ie,Y){var le=u[ie],te=u[Y],re=k[0]=o[Y]-o[ie],ae=k[1]=i[Y]-i[ie],pe=k[2]=a[Y]-a[ie],we=re*re+ae*ae+pe*pe,fe=Math.sqrt(we),_e=le*((le*le+fe*fe-te*te)/(2*le*fe));ro(k,k),function(je,Ue){je[0]=je[1]=je[2]=1,Ue[0]!==0?je[0]=(Ue[1]+Ue[2])/-Ue[0]:Ue[1]!==0?je[1]=(Ue[0]+Ue[2])/-Ue[1]:Ue[2]!==0&&(je[2]=(Ue[0]+Ue[1])/-Ue[2])}($,k),ro($,$),rs(j,k,$),ro(j,j);var W=Math.sqrt(le*le-_e*_e);wr($,$,W),wr(j,j,W),wr(k,k,_e),B[0]=k[0]+o[ie],B[1]=k[1]+i[ie],B[2]=k[2]+a[ie],E=-1;for(var oe=L,Ce=0;Ce<v;Ce++){var ve=M[Ce],me=P[Ce],ye=B[0]+ve*$[0]+me*j[0],Le=B[1]+ve*$[1]+me*j[1],Te=B[2]+ve*$[2]+me*j[2];if(Q(ye,Le,Te,ie,Y)===-1)for(var Me=Math.floor(h*(ye-R[0])),$e=Math.floor(h*(Le-R[1])),U=Math.floor(h*(Te-R[2])),D=Math.max(0,Me-oe),F=Math.max(0,$e-oe),K=Math.max(0,U-oe),he=Math.min(m[0],Me+oe+2),ge=Math.min(m[1],$e+oe+2),Ae=Math.min(m[2],U+oe+2),Ke=D;Ke<he;Ke++){re=ye-w[Ke];for(var Je=m[1]*m[2]*Ke,ft=F;ft<ge;ft++)for(var ht=re*re+(ae=Le-_[ft])*ae,it=Je+m[2]*ft,At=K;At<Ae;At++){we=ht+(pe=Te-S[At])*pe;var Pe=At+it,Re=x[Pe];if(Re>0&&we<Re*Re&&(x[Pe]=Math.sqrt(we),g)){var ze=re*k[0]+ae*k[1]+pe*k[2];y[Pe]=ze<0?Y:ie}}}}}function G(ie,Y,le){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),V(ie,Y,le),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),X(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var te=0;te<r;te++){I.withinRadii(o[te],i[te],a[te],u[te],O);for(var re=0,ae=O[re];ae>=0;)te<ae&&J(te,ae),ae=O[++re]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var te=0;te<x.length;te++)x[te]<0&&(x[te]=0)}(),function(){for(var te=0;te<y.length;te++)y[te]=n[y[te]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(ie,Y,le,te,re,ae,pe){return G(Y,le,re),new bp(x,m[2],m[1],m[0],y).getSurface(Y,!1,void 0,b,pe)}}jr.add("line",I2t),Object.assign(CM,{__deps:[i_,_pe,bp,t_,Hpe]}),Object.assign(PM,{__deps:[i_,bp,Bs,t_,wr,rs,ro,Vpe,se]}),Jw.add("molsurf",function(e,t){var n=e.data.args,r=e.data.params;if(n&&r){var o=new(r.type==="av"?PM:CM)(n.coordList,n.radiusList,n.indexList).getSurface(r.type,r.probeRadius,r.scaleFactor,r.cutoff,!0,r.smooth,r.contour),i=[o.position.buffer,o.index.buffer];o.normal&&i.push(o.normal.buffer),o.atomindex&&i.push(o.atomindex.buffer),t({sd:o,p:r},i)}},[CM,PM]);var Pv=function(e){this.structure=e};Pv.prototype._getAtomData=function(e){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:se(e.radiusParams,{type:"vdw",scale:1})})},Pv.prototype._makeSurface=function(e,t){var n=new qi(t.name,"",e);return n.info.type=t.type,n.info.probeRadius=t.probeRadius,n.info.scaleFactor=t.scaleFactor,n.info.smooth=t.smooth,n.info.cutoff=t.cutoff,n},Pv.prototype.getSurface=function(e){var t=e||{},n=this._getAtomData(e),r=n.position,o=n.radius,i=n.index,a=new(t.type==="av"?PM:CM)(r,o,i).getSurface(t.type,t.probeRadius,t.scaleFactor,t.cutoff,!0,t.smooth,t.contour);return this._makeSurface(a,t)},Pv.prototype.getSurfaceWorker=function(e,t){var n=this,r=Object.assign({},e);if(window.hasOwnProperty("Worker")){this.worker===void 0&&(this.worker=new AE("molsurf"));var o=this._getAtomData(e),i=o.position,a=o.radius,s=o.index,l={args:{coordList:i,radiusList:a,indexList:s},params:r},c=[i.buffer,a.buffer,s.buffer];this.worker.post(l,c,function(d){t(n._makeSurface(d.data.sd,r))},function(d){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",d),n.worker.terminate(),n.worker=void 0;var f=n.getSurface(r);t(f)})}else{var u=this.getSurface(r);t(u)}},Pv.prototype.dispose=function(){this.worker&&this.worker.terminate()};var k2t=function(e){function t(n,r,o){var i=this;e.call(this,n,r,o),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){i.__forceNewMolsurf=!0}),this.toBePrepared=!0,this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"uniform"),r.colorValue=se(r.colorValue,14540253),r.disablePicking=se(r.disablePicking,!0),this.surfaceType=se(r.surfaceType,"ms"),this.probeRadius=se(r.probeRadius,1.4),this.smooth=se(r.smooth,2),this.scaleFactor=se(r.scaleFactor,2),this.cutoff=se(r.cutoff,0),this.contour=se(r.contour,!1),this.background=se(r.background,!1),this.opaqueBack=se(r.opaqueBack,!0),this.filterSele=se(r.filterSele,""),this.colorVolume=se(r.colorVolume,void 0),this.useWorker=se(r.useWorker,!0),e.prototype.init.call(this,n)},t.prototype.prepareData=function(n,r,o){var i=this.__infoList[r];if(i||(i={},this.__infoList[r]=i),i.molsurf&&i.sele===n.selection.string)o(r);else{if(this.filterSele){var a=n.structure.getView(new pr(this.filterSele)),s=a.boundingBox.getSize(new ee),l=Math.max(s.x,s.y,s.z),c=n.getAtomSetWithinPoint(a.center,l/2+6);if((n=n.getView(new pr(n.getAtomSetWithinSelection(c,3).toSeleString()))).atomCount===0)return void o(r)}i.sele=n.selection.string,i.molsurf=new Pv(n);var u=this.getSurfaceParams(),d=function(f){i.surface=f,o(r)};this.useWorker?i.molsurf.getSurfaceWorker(u,d):d(i.molsurf.getSurface(u))}},t.prototype.prepare=function(n){var r=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(s){s&&s.molsurf&&s.molsurf.dispose()}),this.__infoList.length=0),this.structureView.atomCount!==0){var o=function(){r.__sele=r.selection.string,r.__surfaceParams=JSON.stringify(r.getSurfaceParams()),r.__forceNewMolsurf=!1,n()},i=this.assembly==="default"?this.defaultAssembly:this.assembly,a=this.structure.biomolDict[i];a?a.partList.forEach(function(s,l){var c=s.getView(r.structureView);r.prepareData(c,l,function(u){u===a.partList.length-1&&o()})}):this.prepareData(this.structureView,0,o)}else n()},t.prototype.createData=function(n,r){var o=this.__infoList[r],i=o.surface;if(i){var a={position:i.getPosition(),color:i.getColor(this.getColorParams()),index:i.getFilteredIndex(this.filterSele,n)},s=[];if(i.contour){var l=new Cpe(a,this.getBufferParams({wireframe:!1}));s.push(l)}else{Object.assign(a,{normal:i.getNormal(),picking:i.getPicking(n.getStructure())});var c=new Spe(a,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));if(this.getBufferParams().side=="double"){var u=new ol(c);s.push(u)}else s.push(c)}return{bufferList:s,info:o}}},t.prototype.updateData=function(n,r){var o={};if(n.position||n.radius)return this.__forceNewMolsurf=!0,void this.build();n.color&&(o.color=r.info.surface.getColor(this.getColorParams())),n.index&&(o.index=r.info.surface.getFilteredIndex(this.filterSele,r.sview)),r.bufferList[0].setAttributes(o)},t.prototype.setParameters=function(n,r,o){return r===void 0&&(r={}),n&&n.filterSele&&(r.index=!0),n&&n.colorVolume!==void 0&&(r.color=!0),n&&n.wireframe&&(n.contour||n.contour===void 0&&this.contour)&&(n.wireframe=!1),e.prototype.setParameters.call(this,n,r,o),this},t.prototype.getSurfaceParams=function(n){return n===void 0&&(n={}),Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker,radiusParams:this.getRadiusParams()},n)},t.prototype.getColorParams=function(){var n=e.prototype.getColorParams.call(this);return n.volume=this.colorVolume,n},t.prototype.getAtomRadius=function(){return 0},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.dispose=function(){this.__infoList.forEach(function(n){n&&n.molsurf&&n.molsurf.dispose()}),this.__infoList.length=0,e.prototype.dispose.call(this)},t}(Ni);jr.add("surface",k2t);var R2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};this.pointSize=se(r.pointSize,1),this.sizeAttenuation=se(r.sizeAttenuation,!0),this.sortParticles=se(r.sortParticles,!1),this.useTexture=se(r.useTexture,!1),this.alphaTest=se(r.alphaTest,.5),this.forceTransparent=se(r.forceTransparent,!1),this.edgeBleach=se(r.edgeBleach,0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){var r=n.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new p8(r,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},t.prototype.updateData=function(n,r){var o=r.sview.getAtomData(this.getAtomParams(n)),i={};n&&!n.position||Object.assign(i,{position:o.position}),n&&!n.color||Object.assign(i,{color:o.color}),r.bufferList[0].setAttributes(i)},t.prototype.getAtomRadius=function(){return .1},t}(Ni);jr.add("point",R2t),Gn.add("shader/Ribbon.vert",`#define STANDARD
uniform float clipNear;
uniform vec3 clipCenter;
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
varying vec3 vViewPosition;
#endif
#if defined( RADIUS_CLIP )
varying vec3 vClipCenter;
#endif
attribute vec3 dir;
attribute float size;
#ifdef PICKING
#include unpack_color
attribute float primitiveId;
varying vec3 vPickingColor;
#else
#include color_pars_vertex
#ifndef FLAT_SHADED
varying vec3 vNormal;
#endif
#endif
#include common
void main(void){
#ifdef PICKING
vPickingColor = unpackColor( primitiveId );
#else
#include color_vertex
#include beginnormal_vertex
#include defaultnormal_vertex
#ifndef FLAT_SHADED
vNormal = normalize( transformedNormal );
#endif
#endif
#include begin_vertex
transformed += normalize( dir ) * size;
#include project_vertex
#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )
vViewPosition = -mvPosition.xyz;
#endif
#if defined( RADIUS_CLIP )
vClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;
#endif
#include nearclip_vertex
}`);var L2t=new Uint16Array([0,1,2,1,3,2]);function b1(e){return 3*(4*(e.position.length/3-1))}var $2t=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(b1(n)),color:new Float32Array(b1(n)),index:Ou(b1(n),b1(n)/3),normal:new Float32Array(b1(n)),picking:n.picking},r),this.vertexShader="Ribbon.vert";var o=n.position.length/3-1,i=4*o,a=3*i;this.addAttributes({dir:{type:"v3",value:new Float32Array(a)}}),this.addAttributes({size:{type:"f",value:new Float32Array(i)}}),n.primitiveId=C0(o),this.setAttributes(n),this.makeIndex()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){n===void 0&&(n={});var r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_=this.size/4,S=this.geometry.attributes;n.position&&(r=n.position,c=S.position.array,S.position.needsUpdate=!0),n.normal&&(o=n.normal,u=S.normal.array,S.normal.needsUpdate=!0),n.size&&(i=n.size,d=S.size.array,S.size.needsUpdate=!0),n.dir&&(a=n.dir,f=S.dir.array,S.dir.needsUpdate=!0),n.color&&(s=n.color,p=S.color.array,S.color.needsUpdate=!0),n.primitiveId&&(l=n.primitiveId,h=S.primitiveId.array,S.primitiveId.needsUpdate=!0);var P=i?i[0]:null;for(g=0;g<_;++g){for(y=3*g,m=3*g*4,x=4*g,r&&(c[m]=c[m+3]=r[y],c[m+1]=c[m+4]=r[y+1],c[m+2]=c[m+5]=r[y+2],c[m+6]=c[m+9]=r[y+3],c[m+7]=c[m+10]=r[y+4],c[m+8]=c[m+11]=r[y+5]),o&&(u[m]=u[m+3]=-o[y],u[m+1]=u[m+4]=-o[y+1],u[m+2]=u[m+5]=-o[y+2],u[m+6]=u[m+9]=-o[y+3],u[m+7]=u[m+10]=-o[y+4],u[m+8]=u[m+11]=-o[y+5]),v=0;v<4;++v)b=m+3*v,s&&(p[b]=s[y],p[b+1]=s[y+1],p[b+2]=s[y+2]),l&&(h[x+v]=l[g]);i&&(w=i[g],P!==i[g]?(d[x]=P,d[x+1]=P,d[x+2]=w,d[x+3]=w):(d[x]=w,d[x+1]=w,d[x+2]=w,d[x+3]=w),P=w),a&&(f[m]=a[y],f[m+1]=a[y+1],f[m+2]=a[y+2],f[m+3]=-a[y],f[m+4]=-a[y+1],f[m+5]=-a[y+2],f[m+6]=a[y+3],f[m+7]=a[y+4],f[m+8]=a[y+5],f[m+9]=-a[y+3],f[m+10]=-a[y+4],f[m+11]=-a[y+5])}},t.prototype.makeIndex=function(){var n=this.geometry.getIndex();if(n)for(var r=n.array,o=r.length/4/3,i=0;i<o;++i){var a=6*i,s=4*i;r.set(L2t,a);for(var l=0;l<6;++l)r[a+l]+=s}else Ze.error("Index is null")},t}(Wd),D2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"chainname"),r.colorScale=se(r.colorScale,"RdYlBu"),r.radiusType=se(r.radiusType,"sstruc"),r.radiusScale=se(r.radiusScale,4),r.quality==="low"?this.subdiv=3:r.quality==="medium"?this.subdiv=6:r.quality==="high"?this.subdiv=12:this.subdiv=se(r.subdiv,6),this.tension=se(r.tension,NaN),this.smoothSheet=se(r.smoothSheet,!1),e.prototype.init.call(this,r)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?e.prototype.getAtomRadius.call(this,n):0},t.prototype.createData=function(n){var r=this,o=[],i=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){i.push(a);var s=new ga(a,r.getSplineParams()),l=s.getSubdividedPosition(),c=s.getSubdividedOrientation(),u=s.getSubdividedColor(r.getColorParams()),d=s.getSubdividedPicking(),f=s.getSubdividedSize(r.getRadiusParams());o.push(new $2t({position:l.position,normal:c.binormal,dir:c.normal,color:u.color,size:f.size,picking:d.picking},r.getBufferParams()))}},n.getSelection()),{bufferList:o,polymerList:i}},t.prototype.updateData=function(n,r){n=n||{};var o=0,i=r.polymerList.length;for(o=0;o<i;++o){var a={},s=new ga(r.polymerList[o],this.getSplineParams());if(n.position){var l=s.getSubdividedPosition(),c=s.getSubdividedOrientation();Object.assign(a,{position:l.position,normal:c.binormal,dir:c.normal})}if(n.radius||n.scale){var u=s.getSubdividedSize(this.getRadiusParams());Object.assign(a,{size:u.size})}if(n.color){var d=s.getSubdividedColor(this.getColorParams());Object.assign(a,{color:d.color})}r.bufferList[o].setAttributes(a)}},t.prototype.setParameters=function(n){var r={};return n&&n.tension&&Object.assign(r,{position:!0}),e.prototype.setParameters.call(this,n,r,!1),this},t}(Ni);jr.add("ribbon",D2t);var F2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"sstruc"),r.radiusSize=se(r.radiusSize,1.5),r.radiusScale=se(r.radiusScale,1),r.openEnded=se(r.openEnded,!1),r.useInteriorColor=se(r.useInteriorColor,!0),this.localAngle=se(r.localAngle,30),this.centerDist=se(r.centerDist,2.5),this.ssBorder=se(r.ssBorder,!1),e.prototype.init.call(this,r)},t.prototype.createData=function(n){var r=this,o=0,i=[],a=[];this.structure.eachPolymer(function(u){if(!(u.residueCount<4||u.isNucleic())){var d=new c8(u),f=d.getAxis(r.localAngle,r.centerDist,r.ssBorder,r.getColorParams(),r.getRadiusParams());o+=f.size.length,i.push(f),a.push(d)}},n.getSelection());var s={begin:new Float32Array(3*o),end:new Float32Array(3*o),size:new Float32Array(o),color:new Float32Array(3*o),picking:{}},l=new Float32Array(o),c=0;return i.forEach(function(u){s.begin.set(u.begin,3*c),s.end.set(u.end,3*c),s.size.set(u.size,c),s.color.set(u.color,3*c),l.set(u.picking.array,c),c+=u.size.length}),o&&(s.picking=new _g(l,n.getStructure())),{bufferList:[new rf({position1:s.begin,position2:s.end,color:s.color,color2:s.color,radius:s.size,picking:s.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:i,helixbundleList:a,axisData:s}},t.prototype.updateData=function(n,r){var o=this;if((n=n||{}).position)this.build();else{var i={};if(n.color||n.radius){var a=0;r.helixbundleList.forEach(function(s){var l=s.getAxis(o.localAngle,o.centerDist,o.ssBorder,o.getColorParams(),o.getRadiusParams());n.color&&r.axisData.color.set(l.color,3*a),(n.radius||n.scale)&&r.axisData.size.set(l.size,a),a+=l.size.length}),n.color&&Object.assign(i,{color:r.axisData.color,color2:r.axisData.color}),(n.radius||n.scale)&&Object.assign(i,{radius:r.axisData.size})}r.bufferList[0].setAttributes(i)}},t}(Ni);jr.add("rocket",F2t);var N2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.aspectRatio=1,r.tension=se(r.tension,.5),r.radiusScale=se(r.radiusScale,5),r.smoothSheet=!1,this.smooth=se(r.smooth,2),e.prototype.init.call(this,r)},t.prototype.getSpline=function(n){var r=new hd(n);return new ga(n,this.getSplineParams({directional:!1,positionIterator:r.getCenterIterator(this.smooth)}))},t}(y8);jr.add("rope",N2t);var B2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.useInteriorColor=se(r.useInteriorColor,!0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){return{bufferList:[new eh(n.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},t.prototype.updateData=function(n,r){var o=r.sview.getAtomData(this.getAtomParams(n)),i={};n&&!n.position||Object.assign(i,{position:o.position}),n&&!n.color||Object.assign(i,{color:o.color}),n&&!n.radius||Object.assign(i,{radius:o.radius}),r.bufferList[0].setAttributes(i)},t}(Ni);function cY(e){return 3*(e.position.length/3-1)*2}jr.add("spacefill",B2t);var j2t=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,{position:new Float32Array(cY(n)),color:new Float32Array(cY(n))},r),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setAttributes=function(n){var r,o,i,a,s=this.geometry.attributes;if(n.position&&(r=n.position,i=s.position.array,s.position.needsUpdate=!0),n.color&&(o=n.color,a=s.color.array,s.color.needsUpdate=!0),r||o)for(var l,c,u=this.size-1,d=0;d<u;++d)l=3*d,c=3*d*2,r&&(i[c]=r[l],i[c+1]=r[l+1],i[c+2]=r[l+2],i[c+3]=r[l+3],i[c+4]=r[l+4],i[c+5]=r[l+5]),o&&(a[c]=o[l],a[c+1]=o[l+1],a[c+2]=o[l+2],a[c+3]=o[l+3],a[c+4]=o[l+4],a[c+5]=o[l+5]);else Ze.warn("TraceBuffer.prototype.setAttributes no data")},t}(En),z2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorScheme=se(r.colorScheme,"chainname"),r.colorScale=se(r.colorScale,"RdYlBu"),r.quality==="low"?this.subdiv=3:r.quality==="medium"?this.subdiv=6:r.quality==="high"?this.subdiv=12:this.subdiv=se(r.subdiv,6),this.tension=se(r.tension,NaN),this.smoothSheet=se(r.smoothSheet,!1),e.prototype.init.call(this,r)},t.prototype.getSplineParams=function(n){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},n)},t.prototype.getAtomRadius=function(n){return n.isTrace()?.1:0},t.prototype.createData=function(n){var r=this,o=[],i=[];return this.structure.eachPolymer(function(a){if(!(a.residueCount<4)){i.push(a);var s=new ga(a,r.getSplineParams()),l=s.getSubdividedPosition(),c=s.getSubdividedColor(r.getColorParams());o.push(new j2t(Object.assign({},l,c),r.getBufferParams()))}},n.getSelection()),{bufferList:o,polymerList:i}},t.prototype.updateData=function(n,r){n=n||{};var o=0,i=r.polymerList.length;for(o=0;o<i;++o){var a={},s=new ga(r.polymerList[o],this.getSplineParams());if(n.position){var l=s.getSubdividedPosition();Object.assign(a,{position:l.position})}if(n.color){var c=s.getSubdividedColor(this.getColorParams());Object.assign(a,{color:c.color})}r.bufferList[o].setAttributes(a)}},t.prototype.setParameters=function(n){var r={};return n&&n.tension&&Object.assign(r,{position:!0}),e.prototype.setParameters.call(this,n,r,!1),this},t}(Ni);jr.add("trace",z2t);var H2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.aspectRatio=1,r.radiusScale=se(r.radiusScale,2),r.quality==="low"&&(this.radialSegments=5),e.prototype.init.call(this,r)},t.prototype.getSplineParams=function(){return e.prototype.getSplineParams.call(this,{directional:!1})},t}(y8);jr.add("tube",H2t);var V2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{},o=.5;this.structure.unitcell&&(o=Math.cbrt(this.structure.unitcell.volume)/200),r.radiusSize=se(r.radiusSize,o),r.colorValue=se(r.colorValue,"orange"),r.useInteriorColor=se(r.useInteriorColor,!0),e.prototype.init.call(this,r)},t.prototype.getUnitcellData=function(n){return n.unitcell.getData(n)},t.prototype.create=function(){var n=this.structureView.getStructure();if(n.unitcell){var r=this.getUnitcellData(n);this.sphereBuffer=new eh(r.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new rf(r.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},t.prototype.createData=function(n){},t.prototype.updateData=function(n,r){var o=r.sview.getStructure();if(o.unitcell){var i=this.getUnitcellData(o),a={},s={};n&&!n.position||(Object.assign(a,{position:i.vertex.position}),Object.assign(s,{position1:i.edge.position1,position2:i.edge.position2})),n&&!n.color||(Object.assign(a,{color:i.vertex.color}),Object.assign(s,{color:i.edge.color,color2:i.edge.color2})),n&&!n.radius||(Object.assign(a,{radius:i.vertex.radius}),Object.assign(s,{radius:i.edge.radius})),this.sphereBuffer.setAttributes(a),this.cylinderBuffer.setAttributes(s)}},t}(Ni);jr.add("unitcell",V2t);var U2t=function(e){function t(n,r,o){e.call(this,n,r,o),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(n){var r=n||{};r.colorValue=se(r.colorValue,"#f0027f"),r.useInteriorColor=se(r.useInteriorColor,!0),e.prototype.init.call(this,r)},t.prototype.createData=function(n){if(n.validation){var r=n.validation.getClashData({structure:n,color:this.colorValue});return{bufferList:[new rf(r,this.getBufferParams({openEnded:!1}))]}}},t}(Ni);jr.add("validation",U2t);var uY=new ee,eD=new ee,tD=new ee,G2t=new ee(0,1,0),W2t=Object.assign({radialSegments:60,openEnded:!1},Ta),Upe=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,{position:new Float32Array(r.position1.length),color:r.color,picking:r.picking},o,function(i){i===void 0&&(i={});var a=new zw(1,1,se(i.radialSegments,60),1,se(i.openEnded,!1));return a.applyMatrix4(new mt().makeRotationX(-Math.PI/2)),a}(o)),this.updateNormals=!0,this._position=new Float32Array(r.position1.length),this.setAttributes(r,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return W2t},t.prototype.applyPositionTransform=function(r,o,i){eD.fromArray(this._position1,i),tD.fromArray(this._position2,i),r.lookAt(eD,tD,G2t);var a=this._radius[o];uY.set(a,a,eD.distanceTo(tD)),r.scale(uY)},t.prototype.setAttributes=function(r,o){r===void 0&&(r={}),r.position1&&r.position2&&(wu(r.position1,r.position2,this._position),this._position1=r.position1,this._position2=r.position2,r.position=this._position),r.radius&&(this._radius=r.radius),e.prototype.setAttributes.call(this,r,o)},Object.defineProperties(t.prototype,n),t}(Jp);qs.add("cone",Upe);var Gpe=function(e){e===void 0&&(e=[]),this.geometryList=e};Gpe.prototype.computeBoundingBox=function(){var e=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new Tr,this.geometryList.forEach(function(t){t.boundingBox||t.computeBoundingBox(),e.boundingBox.union(t.boundingBox)})};var q2t=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},Ta),Bc=function(e,t){t===void 0&&(t={}),this.group=new xr,this.wireframeGroup=new xr,this.pickingGroup=new xr,this.visible=!0,this.parameters=Ws(t,this.defaultParameters),this.splitPosition=new Float32Array(e.position1.length),this.cylinderRadius=new Float32Array(e.radius.length);var n=this.makeAttributes(e),r={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new rf(n.cylinder,r),this.coneBuffer=new Upe(n.cone,r),this.geometry=new Gpe([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=se(t.matrix,new mt),this.picking=e.picking},y1={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};y1.defaultParameters.get=function(){return q2t},y1.matrix.set=function(e){En.prototype.setMatrix.call(this,e)},y1.matrix.get=function(){return this.group.matrix.clone()},y1.pickable.get=function(){return!!this.picking},Bc.prototype.makeAttributes=function(e){e===void 0&&(e={});var t,n,r=this.splitPosition,o=this.cylinderRadius,i=this.parameters.aspectRatio,a={},s={};if(e.radius){for(t=0,n=o.length;t<n;++t)o[t]=e.radius[t]/i;a.radius=o,s.radius=e.radius}if(e.position1&&e.position2){var l=new ee,c=new ee,u=new ee,d=new ee;for(t=0,n=r.length;t<n;t+=3){l.fromArray(e.position1,t),c.fromArray(e.position2,t),u.subVectors(l,c);var f=u.length(),p=o[t/3]*i*2,h=Math.min(f,p);u.setLength(h),d.copy(c).add(u),d.toArray(r,t)}a.position1=e.position1,a.position2=r,s.position1=r,s.position2=e.position2}return e.color&&(a.color=e.color,a.color2=e.color,s.color=e.color),{cylinder:a,cone:s}},Bc.prototype.getMesh=function(){return new xr().add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},Bc.prototype.getWireframeMesh=function(){return new xr().add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},Bc.prototype.getPickingMesh=function(){return new xr().add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},Bc.prototype.setAttributes=function(e){e===void 0&&(e={});var t=this.makeAttributes(e);this.cylinderBuffer.setAttributes(t.cylinder),this.coneBuffer.setAttributes(t.cone)},Bc.prototype.setParameters=function(e){e===void 0&&(e={}),(e=Object.assign({},e))&&e.matrix!==void 0&&(this.matrix=e.matrix),delete e.matrix,e&&e.wireframe!==void 0&&(this.parameters.wireframe=e.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(e),this.coneBuffer.setParameters(e)},Bc.prototype.setVisibility=function(e){En.prototype.setVisibility.call(this,e)},Bc.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(Bc.prototype,y1),qs.add("arrow",Bc);var dY=new ee,nD=new ee,rD=new ee,X2t=new ee(0,0,0),K2t=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r,new tC(1,1,1)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,r,o){nD.fromArray(this._heightAxis,o),rD.fromArray(this._depthAxis,o),n.lookAt(X2t,nD,rD),dY.set(this._size[r],rD.length(),nD.length()),n.scale(dY)},t.prototype.setAttributes=function(n,r){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,r)},t}(Jp);qs.add("box",K2t);var fY=new ee,oD=new ee,iD=new ee,Y2t=new ee(0,0,0),Z2t=Object.assign({sphereDetail:2},Ta),Q2t=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o,new Vm(1,se(o.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(r,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return Z2t},t.prototype.applyPositionTransform=function(r,o,i){oD.fromArray(this._majorAxis,i),iD.fromArray(this._minorAxis,i),r.lookAt(Y2t,oD,iD),fY.set(this._radius[o],iD.length(),oD.length()),r.scale(fY)},t.prototype.setAttributes=function(r,o){r===void 0&&(r={}),r.radius&&(this._radius=r.radius),r.majorAxis&&(this._majorAxis=r.majorAxis),r.minorAxis&&(this._minorAxis=r.minorAxis),e.prototype.setAttributes.call(this,r,o)},Object.defineProperties(t.prototype,n),t}(Jp);qs.add("ellipsoid",Q2t);var pY=new ee,aD=new ee,sD=new ee,J2t=new ee(0,0,0),ePt=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r,new Hm(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,r,o){aD.fromArray(this._heightAxis,o),sD.fromArray(this._depthAxis,o),n.lookAt(J2t,aD,sD),pY.set(this._size[r],sD.length(),aD.length()),n.scale(pY)},t.prototype.setAttributes=function(n,r){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,r)},t}(Jp);qs.add("octahedron",ePt);var hY=new ee,lD=new ee,cD=new ee,tPt=new ee(0,0,0),nPt=function(e){function t(n,r){r===void 0&&(r={}),e.call(this,n,r,new fy(1,0)),this.updateNormals=!0,this.setAttributes(n,!0)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.applyPositionTransform=function(n,r,o){lD.fromArray(this._heightAxis,o),cD.fromArray(this._depthAxis,o),n.lookAt(tPt,lD,cD),hY.set(this._size[r],cD.length(),lD.length()),n.scale(hY)},t.prototype.setAttributes=function(n,r){n===void 0&&(n={}),n.size&&(this._size=n.size),n.heightAxis&&(this._heightAxis=n.heightAxis),n.depthAxis&&(this._depthAxis=n.depthAxis),e.prototype.setAttributes.call(this,n,r)},t}(Jp);qs.add("tetrahedron",nPt);var mY=new ee,gY=new ee,vY=new ee,rPt=new ee(0,0,0),oPt=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},Ta),iPt=function(e){function t(r,o){o===void 0&&(o={}),e.call(this,r,o,new hy(1,se(o.radiusRatio,.2),se(o.radialSegments,16),se(o.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(r,!0)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultParameters:{configurable:!0}};return n.defaultParameters.get=function(){return oPt},t.prototype.applyPositionTransform=function(r,o,i){gY.fromArray(this._majorAxis,i),vY.fromArray(this._minorAxis,i),r.lookAt(rPt,gY,vY);var a=this._radius[o];mY.set(a,a,a),r.scale(mY)},t.prototype.setAttributes=function(r,o){r===void 0&&(r={}),r.radius&&(this._radius=r.radius),r.majorAxis&&(this._majorAxis=r.majorAxis),r.minorAxis&&(this._minorAxis=r.minorAxis),e.prototype.setAttributes.call(this,r,o)},Object.defineProperties(t.prototype,n),t}(Jp);qs.add("torus",iPt);var Qi=function(e,t){var n=t||{};this.streamer=e,this.name=se(n.name,""),this.path=se(n.path,"")},tv={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};tv.type.get=function(){return""},tv.__objName.get=function(){return""},tv.isBinary.get=function(){return!1},tv.isJson.get=function(){return!1},tv.isXml.get=function(){return!1},Qi.prototype.parse=function(){var e=this;return this.streamer.read().then(function(){return e._beforeParse(),e._parse(),e._afterParse(),e[e.__objName]})},Qi.prototype._parse=function(){},Qi.prototype._beforeParse=function(){},Qi.prototype._afterParse=function(){ot&&Ze.log(this[this.__objName])},Object.defineProperties(Qi.prototype,tv);var of=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.firstModelOnly=se(i.firstModelOnly,!1),this.asTrajectory=se(i.asTrajectory,!1),this.cAlphaOnly=se(i.cAlphaOnly,!1),this.structure=new tn(this.name,this.path),this.structureBuilder=new _M(this.structure)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"structure"},n.__objName.get=function(){return"structure"},Object.defineProperties(t.prototype,n),t}(Qi),Ql=function(e,t,n,r,o){n===void 0&&(n=""),o===void 0&&(o=[]),this.structure=e,this.index=t,this.description=n,this.entityType=function(i){switch(i=i.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(r||""),this.chainIndexList=o,o.forEach(function(i){e.chainStore.entityIndex[i]=t})},bY={type:{configurable:!0}};bY.type.get=function(){return function(e){switch(e){case 1:return"polymer";case 2:return"non-polymer";case 3:return"macrolide";case 4:return"water";default:return}}(this.entityType)},Ql.prototype.getEntityType=function(){return this.entityType},Ql.prototype.isPolymer=function(){return this.entityType===1},Ql.prototype.isNonPolymer=function(){return this.entityType===2},Ql.prototype.isMacrolide=function(){return this.entityType===3},Ql.prototype.isWater=function(){return this.entityType===4},Ql.prototype.eachChain=function(e){var t=this.structure.getChainProxy();this.chainIndexList.forEach(function(n){t.index=n,e(t)})},Object.defineProperties(Ql.prototype,bY);var aPt={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},pm=function(e){e===void 0&&(e=aPt),this.cartToFrac=new mt,this.fracToCart=new mt,this.a=e.a,this.b=e.b,this.c=e.c,this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma,this.spacegroup=e.spacegroup;var t=oo(this.alpha),n=oo(this.beta),r=oo(this.gamma),o=Math.cos(t),i=Math.cos(n),a=Math.cos(r),s=Math.sin(n),l=Math.sin(r);if(this.volume=this.a*this.b*this.c*Math.sqrt(1-o*o-i*i-a*a+2*o*i*a),e.cartToFrac===void 0){var c=this.a*this.b*l/this.volume,u=(i*a-o)/(s*l);this.fracToCart.set(this.a,0,0,0,this.b*a,this.b*l,0,0,this.c*i,-this.c*s*u,1/c,0,0,0,0,1).transpose(),this.cartToFrac.getInverse(this.fracToCart)}else this.cartToFrac.copy(e.cartToFrac),this.fracToCart.getInverse(this.cartToFrac)};pm.prototype.getPosition=function(e){var t=new Float32Array(24);if(e.unitcell){var n=e.unitcell,r=e.center.clone().applyMatrix4(n.cartToFrac).floor(),o=new ee,i=0,a=function(s,l,c){o.set(s,l,c).add(r).applyMatrix4(n.fracToCart).toArray(t,i),i+=3};a(0,0,0),a(1,0,0),a(0,1,0),a(0,0,1),a(1,1,0),a(1,0,1),a(0,1,1),a(1,1,1)}return t},pm.prototype.getCenter=function(e){return function(t,n){n===void 0&&(n=new ee);for(var r=t.length,o=0;o<r;o+=3)n.x+=t[o],n.y+=t[o+1],n.z+=t[o+2];return n.divideScalar(r/3),n}(this.getPosition(e))},pm.prototype.getData=function(e,t){t===void 0&&(t={});var n=se(t.colorValue,"orange"),r=se(t.radius,Math.cbrt(this.volume)/200),o=new vt(n),i=new ee,a=this.getPosition(e),s=yr(8,o.r,o.g,o.b),l=Bs(8,r),c=new Float32Array(36),u=new Float32Array(36),d=yr(12,o.r,o.g,o.b),f=Bs(12,r),p=0;function h(v,m){i.fromArray(a,3*v).toArray(c,p),i.fromArray(a,3*m).toArray(u,p),p+=3}h(0,1),h(0,2),h(0,3),h(1,4),h(1,5),h(2,6),h(3,5),h(4,7),h(5,7),h(2,4),h(7,6),h(3,6);var g=new DSt(this,e);return{vertex:{position:a,color:s,radius:l,picking:g},edge:{position1:c,position2:u,color:d,color2:d,radius:f,picking:g}}};var LE={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h",0:"h"},sPt=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],lPt=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],yY=/\s+/;function xY(e,t,n){var r=""+e;return t&&(r+=":"+t),n&&(r+="^"+n),r}var Tx=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.hex=se(i.hex,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdb"},t.prototype._parse=function(){ot&&Ze.time("PdbParser._parse "+this.name);var r=!1,o=this.streamer.peekLines(1)[0],i=o.substr(62,4),a=o.substr(72,4);i===a&&a.trim()&&(r=!0);var s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I,O,L,R,T,E,k,B,$,j,V,q,Q,H,X,J=this.type==="pqr",G=this.type==="pdbqt",ie=this.structure,Y=this.structureBuilder,le=this.hex,te=10,re=10,ae=this.firstModelOnly,pe=this.asTrajectory,we=this.cAlphaOnly,fe=ie.frames,_e=ie.boxes,W=!1,oe=ie.biomolDict,Ce={},ve={},me={},ye=[],Le={},Te={},Me={},$e={},U={helices:[],sheets:[]},D=U.helices,F=U.sheets,K=ie.atomMap,he=ie.atomStore;he.resize(Math.round(this.streamer.data.length/80)),(J||G)&&he.addField("partialCharge",1,"float32"),J&&he.addField("radius",1,"float32");var ge=ie.getAtomProxy(),Ae=ie.getAtomProxy(),Ke=0,Je=0,ft=!0;this.streamer.eachChunkOfLines(function(Re){(function(ze,je,Ue){for(var tt,be=ze;be<je;++be)if(f=Ue[be],(p=f.substr(0,6))==="ATOM  "||p==="HETATM"){if(ft&&(pe?(W?(s=new Float32Array(3*he.count),fe.push(s)):s=[],l=0):ae||(Ce={}),$=(B=1).toString(),j=!0,ft=!1),ae&&Je>0)continue;var He=void 0,Ve=void 0,z=void 0,Z=void 0,ne=0;if(J){if(ne=(Z=f.split(yY)).length===10?1:0,y=Z[2],we&&y!=="CA")continue;He=parseFloat(Z[6-ne]),Ve=parseFloat(Z[7-ne]),z=parseFloat(Z[8-ne])}else{if(y=f.substr(12,4).trim(),we&&y!=="CA")continue;He=parseFloat(f.substr(30,8)),Ve=parseFloat(f.substr(38,8)),z=parseFloat(f.substr(46,8))}if(pe){var de=3*l;if(s[de+0]=He,s[de+1]=Ve,s[de+2]=z,l+=1,W)continue}var ce=void 0;J?(h=parseInt(Z[1]),ce="",w=f[0]==="H"?1:0,g=ne?"":Z[4],v=parseInt(Z[5-ne]),x="",m=Z[3],S="",b=1):(h=parseInt(f.substr(6,5),te),le&&h===99999&&(te=16),w=f[0]==="H"?1:0,g=f[21].trim(),v=parseInt(f.substr(22,4),re),le&&v===9999&&(re=16),x=f[26].trim(),m=f.substr(17,4).trim()||"MOL",_=parseFloat(f.substr(60,6)),S=f[16].trim(),b=parseFloat(f.substr(54,6)),r||(G?(ce=f.substr(76,3).trim())in rK&&(ce=rK[ce]):(ce=f.substr(76,2).trim(),g||(g=f.substr(72,4).trim())),P=parseInt((f.substr(79,1)+f.substr(78,1)).trim()))),he.growIfFull(),he.atomTypeId[Ke]=K.add(y,ce),he.x[Ke]=He,he.y[Ke]=Ve,he.z[Ke]=z,he.serial[Ke]=h,he.altloc[Ke]=S.charCodeAt(0),he.occupancy[Ke]=isNaN(b)?0:b,J?(he.partialCharge[Ke]=parseFloat(Z[9-ne]),he.radius[Ke]=parseFloat(Z[10-ne])):(he.bfactor[Ke]=isNaN(_)?0:_,G&&(he.partialCharge[Ke]=parseFloat(f.substr(70,6))),isFinite(P)&&(he.formalCharge||he.addField("formalCharge",1,"int8"),he.formalCharge[Ke]=P));var Se=xY(v,g,x);!w||Te[Se]||sPt.includes(m)?j||V===g||($=(B+=1).toString()):V===g&&Q===m&&(OE.includes(m)||q===v&&H===x)||($=(B+=1).toString(),q=v,Q=m,H=x),Y.addAtom(Je,g,$,m,v,w,void 0,x),Ce[h]=Ke,Ke+=1,j=!1,V=g}else if(p==="CONECT"){var xe=Ce[parseInt(f.substr(6,5))],Ie=[11,16,21,26],Xe={};if(xe===void 0)continue;for(var Ye=0;Ye<4;++Ye){var rt=parseInt(f.substr(Ie[Ye],5));if(!Number.isNaN(rt)&&(rt=Ce[rt])!==void 0)if(xe<rt?(ge.index=xe,Ae.index=rt):(ge.index=rt,Ae.index=xe),Xe[rt]!==void 0)ie.bondStore.bondOrder[Xe[rt]]+=1;else{var Fe=ge.index+"|"+Ae.index;me[Fe]===void 0&&(me[Fe]=!0,Xe[rt]=ie.bondStore.count,ie.bondStore.addBond(ge,Ae,1))}}}else if(p==="HELIX "){M=f[19].trim(),I=parseInt(f.substr(21,4)),O=f[25].trim(),L=f[31].trim(),R=parseInt(f.substr(33,4)),T=f[37].trim();var Oe=parseInt(f.substr(39,1));Oe=(LE[Oe]||LE[0]).charCodeAt(0),D.push([M,I,O,L,R,T,Oe])}else if(p==="SHEET ")M=f[21].trim(),I=parseInt(f.substr(22,4)),O=f[26].trim(),L=f[32].trim(),R=parseInt(f.substr(33,4)),T=f[37].trim(),F.push([M,I,O,L,R,T]);else if(p==="HETNAM")Le[f.substr(11,3)]=f.substr(15).trim();else if(p==="SEQRES"){var Ge=f[11].trim();Ge!==X&&($e[Ge]=[],X=Ge),(tt=$e[Ge]).push.apply(tt,f.substr(19).trim().split(yY))}else if(p==="MODRES"){var et=f.substr(12,3).trim(),pt=f[16].trim(),wt=f[22].trim(),gt=parseInt(f.substr(18,4).trim()),_t=xY(gt,pt,wt);Te[_t]={resname:et,chainname:pt,inscode:wt,resno:gt}}else if(p==="COMPND"){var zt=f.substr(10,70).trim(),Eo=zt.indexOf(":"),li=zt.substring(0,Eo),sn=void 0;lPt.includes(li)?(k=li,sn=zt.substring(Eo+2)):sn=zt,sn=sn.replace(/;$/,""),k==="MOL_ID"?(E={chainList:[],name:""},ye.push(E)):k==="MOLECULE"?(E.name&&(E.name+=" "),E.name+=sn):k==="CHAIN"&&Array.prototype.push.apply(E.chainList,sn.split(/\s*,\s*/))}else if(f.startsWith("TER")){var st=ie.getChainProxy(ie.chainStore.count-1);Me[st.chainname]=st.index,$=(B+=1).toString(),j=!0}else if(p==="REMARK"&&f.substr(7,3)==="350"){if(f.substr(11,12)==="BIOMOLECULE:"){var Ct=f.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(Ct)&&(Ct="BU"+Ct),c=new Ai(Ct),oe[Ct]=c}else if(f.substr(13,5)==="BIOMT"){var Xt=f.split(/\s+/),fn=parseInt(f[18])-1;fn===0&&(d=new mt,u.matrixList.push(d));var Wt=d.elements;Wt[0+fn]=parseFloat(Xt[4]),Wt[4+fn]=parseFloat(Xt[5]),Wt[8+fn]=parseFloat(Xt[6]),Wt[12+fn]=parseFloat(Xt[7])}else if(f.substr(11,30)==="APPLY THE FOLLOWING TO CHAINS:"||f.substr(11,30)==="                   AND CHAINS:"){f.substr(11,5)==="APPLY"&&(u=c.addPart());for(var bn=f.substr(41,30).split(","),pn=0,In=bn.length;pn<In;++pn){var zr=bn[pn].trim();zr&&u.chainList.push(zr)}}}else if(p==="HEADER")ie.id=f.substr(62,4);else if(p==="TITLE ")ie.title+=(ie.title?" ":"")+f.substr(10,70).trim();else if(p==="MODEL ")ft=!0;else if(p==="ENDMDL"||f.trim()==="END"){if(ft)continue;pe&&!W&&(fe.push(new Float32Array(s)),W=!0),Je+=1,ft=!0}else if(f.substr(0,5)==="MTRIX"){if(f[59]==="1")continue;c&&c.name==="NCS"||(c=new Ai("NCS"),oe.NCS=c,u=c.addPart());var en=f.split(/\s+/),Hn=parseInt(f[5])-1;Hn===0&&(d=new mt,u.matrixList.push(d));var xo=d.elements;xo[0+Hn]=parseFloat(en[2]),xo[4+Hn]=parseFloat(en[3]),xo[8+Hn]=parseFloat(en[4]),xo[12+Hn]=parseFloat(en[5])}else if(f.substr(0,5)==="ORIGX"){ve.origx||(ve.origx=new mt);var To=f.split(/\s+/),Oa=parseInt(f[5])-1,Bi=ve.origx.elements;Bi[0+Oa]=parseFloat(To[1]),Bi[4+Oa]=parseFloat(To[2]),Bi[8+Oa]=parseFloat(To[3]),Bi[12+Oa]=parseFloat(To[4])}else if(f.substr(0,5)==="SCALE"){ve.scale||(ve.scale=new mt);var Ia=f.split(/\s+/),Oo=parseInt(f[5])-1,ka=ve.scale.elements;ka[0+Oo]=parseFloat(Ia[1]),ka[4+Oo]=parseFloat(Ia[2]),ka[8+Oo]=parseFloat(Ia[3]),ka[12+Oo]=parseFloat(Ia[4])}else if(p==="CRYST1"){var Xs=parseFloat(f.substr(6,9)),vr=parseFloat(f.substr(15,9)),Ra=parseFloat(f.substr(24,9)),Ll=parseFloat(f.substr(33,7)),Ks=parseFloat(f.substr(40,7)),us=parseFloat(f.substr(47,7)),Ys=f.substr(55,11).trim(),ca=new Float32Array(9);ca[0]=Xs,ca[4]=vr,ca[8]=Ra,_e.push(ca),Je===0&&(ve.a=Xs,ve.b=vr,ve.c=Ra,ve.alpha=Ll,ve.beta=Ks,ve.gamma=us,ve.spacegroup=Ys)}})(0,Re.length,Re)}),Y.finalize();var ht=ye.length;if(ht){ie.eachChain(function(Re){Re.entityIndex=ht}),ye.forEach(function(Re,ze){var je=Re.chainList.map(function(Ue){return Me[Ue]});ie.entityList.push(new Ql(ie,ze,Re.name,"polymer",je))});var it=ye.length,At=ie.getResidueProxy(),Pe={};ie.eachChain(function(Re){Re.entityIndex===ht&&(At.index=Re.residueOffset,Pe[At.resname]||(Pe[At.resname]=[]),Pe[At.resname].push(Re.index))}),Object.keys(Pe).forEach(function(Re){var ze=Pe[Re],je="non-polymer",Ue=Le[Re]||Re;OE.includes(Re)&&(Ue="water",je="water"),ie.entityList.push(new Ql(ie,it,Ue,je,ze)),it+=1})}ve.a!==void 0?ie.unitcell=new pm(ve):ie.unitcell=void 0,(D.length||F.length)&&Ipe(ie,U),ie.finalizeAtoms(),r||yk(ie),IE(ie),ie.finalizeBonds(),D.length||F.length||bk(ie),kE(ie),ot&&Ze.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("pdb",Tx),rn.add("pdb1",Tx),rn.add("ent",Tx);var cPt=/\s+/,wY=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,x1=/"/g,w1=/^['"]+|['"]+$/g;function _Y(e){return!e||e[0]!==e[e.length-1]||e[0]!=="'"&&e[0]!=='"'?e:e.substring(1,e.length-1)}function Ba(e,t){Array.isArray(e[t])||Object.keys(e).forEach(function(n){e[n]=[e[n]]})}function ms(e){return e!=="?"}function hP(e,t){return ms(e)?e:t}function SY(e){switch(e.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var uD=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cif"},t.prototype._parse=function(){Ze.time("CifParser._parse "+this.name);var r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M=this.structure,I=this.structureBuilder,O=this.firstModelOnly,L=this.asTrajectory,R=this.cAlphaOnly,T=M.frames,E={},k={},B={},$=!1,j=null,V=!1,q=!1,Q=!1,H=[],X=null,J=null,G=null,ie=null,Y=[],le=M.atomMap,te=M.atomStore;te.resize(this.streamer.data.length/100);var re,ae=0,pe=0;if(this.streamer.eachChunkOfLines(function(Ce){(function(ve,me,ye){for(var Le=ve;Le<me;++Le)if(i=ye[Le],((a=i.trim())||$||q)&&a[0]!=="#")if(a.substring(0,5)==="data_")E.data=a.substring(5).trim();else if(a[0]===";")$?(q?(X===H.length&&(X=0),H[X].push(j),X+=1):G===!1?E[J]=j:E[J][G]=j,$=!1,j=null):($=!0,j=a.substring(1));else if(a==="loop_")q=!0,Q=!0,H.length=0,Y.length=0,X=0;else if(a[0]==="_"){var Te,Me,$e;if(q&&!Q&&(q=!1),q)Me=(Te=a.split("."))[0].substring(1),$e=Te[1],Te.length===1?($e=!1,E[Me]||(E[Me]=[]),H.push(E[Me])):(E[Me]||(E[Me]={}),E[Me][$e]?ot&&Ze.warn(Me,$e,"already exists"):(E[Me][$e]=[],H.push(E[Me][$e]),Y.push($e))),J=Me,G=$e,ie=!0;else{var U=a.match(wY),D=U[0],F=U[1];Me=(Te=D.split("."))[0].substring(1),$e=Te[1],Te.length===1?($e=!1,E[Me]=F):(E[Me]||(E[Me]={}),E[Me][$e]?ot&&Ze.warn(Me,$e,"already exists"):E[Me][$e]=F),F||(V=!0),J=Me,G=$e}}else if($)j+=i;else if(q){if(!a)continue;if(J==="atom_site"){var K=a.split(cPt);ie&&(s=Y.indexOf("auth_asym_id"),l=Y.indexOf("auth_seq_id"),c=Y.indexOf("label_seq_id"),u=Y.indexOf("label_atom_id"),d=Y.indexOf("label_comp_id"),f=Y.indexOf("label_asym_id"),p=Y.indexOf("label_entity_id"),h=Y.indexOf("label_alt_id"),y=Y.indexOf("Cartn_x"),w=Y.indexOf("Cartn_y"),_=Y.indexOf("Cartn_z"),v=Y.indexOf("id"),m=Y.indexOf("type_symbol"),g=Y.indexOf("group_PDB"),S=Y.indexOf("B_iso_or_equiv"),b=Y.indexOf("pdbx_PDB_model_num"),x=Y.indexOf("pdbx_PDB_ins_code"),P=Y.indexOf("occupancy"),ie=!1,re=parseInt(K[b]),L&&(r=[],o=0));var he=parseInt(K[b]);if(re!==he&&(L&&(pe===0&&T.push(new Float32Array(r)),r=new Float32Array(3*te.count),T.push(r),o=0),pe+=1),re=he,O&&pe>0)continue;var ge=K[u].replace(x1,"");if(R&&ge!=="CA")continue;var Ae=parseFloat(K[y]),Ke=parseFloat(K[w]),Je=parseFloat(K[_]);if(L){var ft=3*o;if(r[ft+0]=Ae,r[ft+1]=Ke,r[ft+2]=Je,o+=1,pe>0)continue}var ht=K[d],it=parseInt(K[l!==-1?l:c]),At=K[x];At=At==="?"?"":At;var Pe=K[s],Re=K[f],ze=K[g][0]==="H"?1:0,je=K[m],Ue=parseFloat(K[S]),tt=parseFloat(K[P]),be=K[h];if(be=be==="."?"":be,te.growIfFull(),te.atomTypeId[ae]=le.add(ge,je),te.x[ae]=Ae,te.y[ae]=Ke,te.z[ae]=Je,te.serial[ae]=parseInt(K[v]),te.bfactor[ae]=isNaN(Ue)?0:Ue,te.occupancy[ae]=isNaN(tt)?0:tt,te.altloc[ae]=be.charCodeAt(0),I.addAtom(pe,Pe,Re,ht,it,ze,void 0,At),ot){var He=k[Re];He!==void 0&&He!==Pe&&ot&&Ze.warn(He,Pe)}k[Re]=Pe;var Ve=K[p];B[Ve]||(B[Ve]=new Set),B[Ve].add(M.chainStore.count-1),ae+=1}else{var z=a.match(wY),Z=z.length;X===H.length&&(X=0);for(var ne=0;ne<Z;++ne)H[X+ne].push(z[ne]);X+=Z}Q=!1}else if(a[0]==="'"&&a[a.length-1]==="'"){var de=a.substring(1,a.length-1);G===!1?E[J]=de:E[J][G]=de}else V?G===!1?E[J]=a:E[J][G]=a:ot&&Ze.log("CifParser._parse: unknown state",a);else $=!1,q=!1,V=!1,H.length=0,X=null,J=null,G=null,ie=null,Y.length=0})(0,Ce.length,Ce)}),E.chem_comp&&E.chem_comp_atom)(function(Ce,ve,me){var ye,Le,Te=ve.atomStore,Me=ve.atomMap,$e=Ce.chem_comp,U=Ce.chem_comp_atom,D=Ce.chem_comp_bond;$e&&($e.name&&(ve.title=$e.name.trim().replace(w1,"")),$e.id&&(ve.id=$e.id.trim().replace(w1,"")));var F={};if(U){var K,he,ge,Ae;for(Ba(U,"comp_id"),Le=U.comp_id.length,ye=0;ye<Le;++ye)Te.growIfFull(),K=U.atom_id[ye].replace(x1,""),he=U.type_symbol[ye],F[K]=ye,Te.atomTypeId[ye]=Me.add(K,he),Te.x[ye]=U.model_Cartn_x[ye],Te.y[ye]=U.model_Cartn_y[ye],Te.z[ye]=U.model_Cartn_z[ye],Te.serial[ye]=ye,ge=U.pdbx_component_comp_id[ye],Ae=U.pdbx_residue_numbering?U.pdbx_residue_numbering[ye]:1,me.addAtom(0,"","",ge,Ae,!0);for(ye=0;ye<Le;++ye){var Ke=ye+Le;Te.growIfFull(),K=U.atom_id[ye].replace(x1,""),he=U.type_symbol[ye],Te.atomTypeId[Ke]=Me.add(K,he),Te.x[Ke]=U.pdbx_model_Cartn_x_ideal[ye],Te.y[Ke]=U.pdbx_model_Cartn_y_ideal[ye],Te.z[Ke]=U.pdbx_model_Cartn_z_ideal[ye],Te.serial[Ke]=Ke,ge=U.pdbx_component_comp_id[ye],Ae=U.pdbx_residue_numbering?U.pdbx_residue_numbering[ye]:1,me.addAtom(1,"","",ge,Ae,!0)}}if(U&&D){var Je,ft,ht;Ba(D,"comp_id"),Le=D.comp_id.length;var it=U.comp_id.length,At=ve.getAtomProxy(),Pe=ve.getAtomProxy();for(ye=0;ye<Le;++ye)Je=D.atom_id_1[ye].replace(x1,""),ft=D.atom_id_2[ye].replace(x1,""),ht=SY(D.value_order[ye]),At.index=F[Je],Pe.index=F[ft],ve.bondStore.growIfFull(),ve.bondStore.addBond(At,Pe,ht),At.index+=it,Pe.index+=it,ve.bondStore.growIfFull(),ve.bondStore.addBond(At,Pe,ht)}})(E,M,I),I.finalize(),M.finalizeAtoms(),M.finalizeBonds(),Km(M);else if(E.atom_site_type_symbol&&E.atom_site_label&&E.atom_site_fract_x)(function(Ce,ve,me){var ye=ve.atomStore,Le=ve.atomMap;Ce.data&&(ve.id=Ce.data,ve.name=Ce.data),ve.unitcell=new pm({a:parseFloat(Ce.cell_length_a),b:parseFloat(Ce.cell_length_b),c:parseFloat(Ce.cell_length_c),alpha:parseFloat(Ce.cell_angle_alpha),beta:parseFloat(Ce.cell_angle_beta),gamma:parseFloat(Ce.cell_angle_gamma),spacegroup:_Y(Ce["symmetry_space_group_name_H-M"])});for(var Te=new ee,Me=new ee,$e=Ce.atom_site_type_symbol.length,U=0;U<$e;++U){ye.growIfFull();var D=Ce.atom_site_label[U],F=Ce.atom_site_type_symbol[U];ye.atomTypeId[U]=Le.add(D,F),Te.set(Ce.atom_site_fract_x[U],Ce.atom_site_fract_y[U],Ce.atom_site_fract_z[U]),Te.applyMatrix4(ve.unitcell.fracToCart),Me.add(Te),ye.x[U]=Te.x,ye.y[U]=Te.y,ye.z[U]=Te.z,Ce.atom_site_occupancy&&(ye.occupancy[U]=parseFloat(Ce.atom_site_occupancy[U])),ye.serial[U]=U,me.addAtom(0,"","","HET",1,!0)}Me.divideScalar($e),ve.center=Me,kE(ve);var K=new ee,he=new ee,ge=ve.biomolDict.SUPERCELL.partList[0].matrixList,Ae=$e;function Ke(it){return Le.get(ye.atomTypeId[it]).covalent}for(var Je=new mt,ft=function(it){var At=Ke(it);Te.set(ye.x[it],ye.y[it],ye.z[it]),ge.forEach(function(Pe){if(!Je.equals(Pe)){K.copy(Te),K.applyMatrix4(Pe);for(var Re=0;Re<$e;++Re){he.set(ye.x[Re],ye.y[Re],ye.z[Re]);var ze=K.distanceToSquared(he),je=Ke(Re)+At,Ue=je+.3,tt=je-.5;if(ze<Ue*Ue&&ze>tt*tt)return ye.growIfFull(),ye.atomTypeId[Ae]=ye.atomTypeId[it],ye.x[Ae]=K.x,ye.y[Ae]=K.y,ye.z[Ae]=K.z,ye.occupancy[Ae]=ye.occupancy[it],ye.serial[Ae]=Ae,ye.altloc[Ae]="A".charCodeAt(0),me.addAtom(0,"","","HET",1,!0),void(Ae+=1)}}})},ht=0;ht<$e;++ht)ft(ht)})(E,M,I),I.finalize(),M.finalizeAtoms(),IE(M),M.finalizeBonds();else{var we=function(Ce,ve,me){var ye,Le,Te,Me,$e=[],U=[],D=Ce.struct_conf;if(D)for(Ba(D,"id"),ye=0,Le=D.beg_auth_seq_id.length;ye<Le;++ye){var F=parseInt(D.pdbx_PDB_helix_class[ye]);Number.isNaN(F)||(Te=D.pdbx_beg_PDB_ins_code[ye],Me=D.pdbx_end_PDB_ins_code[ye],$e.push([me[D.beg_label_asym_id[ye]],parseInt(D.beg_auth_seq_id[ye]),hP(Te,""),me[D.end_label_asym_id[ye]],parseInt(D.end_auth_seq_id[ye]),hP(Me,""),(LE[F]||LE[0]).charCodeAt(0)]))}var K=Ce.struct_sheet_range;if(K)for(Ba(K,"id"),ye=0,Le=K.beg_auth_seq_id.length;ye<Le;++ye)Te=K.pdbx_beg_PDB_ins_code[ye],Me=K.pdbx_end_PDB_ins_code[ye],U.push([me[K.beg_label_asym_id[ye]],parseInt(K.beg_auth_seq_id[ye]),hP(Te,""),me[K.end_label_asym_id[ye]],parseInt(K.end_auth_seq_id[ye]),hP(Me,"")]);return!(!D&&!K)&&{helices:$e,sheets:U}}(E,0,k);if(function(Ce,ve,me){var ye={},Le=ve.biomolDict;if(Ce.pdbx_struct_oper_list){var Te=Ce.pdbx_struct_oper_list;Ba(Te,"id"),Te.id.forEach(function(ze,je){var Ue=new mt,tt=Ue.elements;tt[0]=parseFloat(Te["matrix[1][1]"][je]),tt[1]=parseFloat(Te["matrix[1][2]"][je]),tt[2]=parseFloat(Te["matrix[1][3]"][je]),tt[4]=parseFloat(Te["matrix[2][1]"][je]),tt[5]=parseFloat(Te["matrix[2][2]"][je]),tt[6]=parseFloat(Te["matrix[2][3]"][je]),tt[8]=parseFloat(Te["matrix[3][1]"][je]),tt[9]=parseFloat(Te["matrix[3][2]"][je]),tt[10]=parseFloat(Te["matrix[3][3]"][je]),tt[3]=parseFloat(Te["vector[1]"][je]),tt[7]=parseFloat(Te["vector[2]"][je]),tt[11]=parseFloat(Te["vector[3]"][je]),Ue.transpose(),ye[ze]=Ue})}if(Ce.pdbx_struct_assembly_gen){var Me=Ce.pdbx_struct_assembly_gen;Ba(Me,"assembly_id");var $e=function(ze){var je={};return ze.replace(/[()']/g,"").split(",").forEach(function(Ue){if(Ue.includes("-"))for(var tt=Ue.split("-"),be=parseInt(tt[0]),He=parseInt(tt[1]);be<=He;++be)je[be]=ye[be];else je[Ue]=ye[Ue]}),je};Me.assembly_id.forEach(function(ze,je){var Ue={},tt=Me.oper_expression[je].replace(/['"]\(|['"]/g,"");if(tt.includes(")(")||tt.indexOf("(")>0){tt=tt.split("(");var be=$e(tt[0]),He=$e(tt[1]);Object.keys(be).forEach(function(Se){Object.keys(He).forEach(function(xe){var Ie=new mt;Ie.multiplyMatrices(be[Se],He[xe]),Ue[Se+"x"+xe]=Ie})})}else Ue=$e(tt);var Ve=[];for(var z in Ue)Ve.push(Ue[z]);var Z=ze;/^(0|[1-9][0-9]*)$/.test(Z)&&(Z="BU"+Z);for(var ne=Me.asym_id_list[je].split(","),de=0,ce=ne.length;de<ce;++de)ne[de]=me[ne[de]];Le[Z]===void 0&&(Le[Z]=new Ai(Z)),Le[Z].addPart(Ve,ne)})}if(Ce.struct_ncs_oper){var U=Ce.struct_ncs_oper;Ba(U,"id");var D="NCS";Le.NCS=new Ai(D);var F=Le.NCS.addPart();U.id.forEach(function(ze,je){if(U.code[je]!=="given"){var Ue=new mt,tt=Ue.elements;tt[0]=parseFloat(U["matrix[1][1]"][je]),tt[1]=parseFloat(U["matrix[1][2]"][je]),tt[2]=parseFloat(U["matrix[1][3]"][je]),tt[4]=parseFloat(U["matrix[2][1]"][je]),tt[5]=parseFloat(U["matrix[2][2]"][je]),tt[6]=parseFloat(U["matrix[2][3]"][je]),tt[8]=parseFloat(U["matrix[3][1]"][je]),tt[9]=parseFloat(U["matrix[3][2]"][je]),tt[10]=parseFloat(U["matrix[3][3]"][je]),tt[3]=parseFloat(U["vector[1]"][je]),tt[7]=parseFloat(U["vector[2]"][je]),tt[11]=parseFloat(U["vector[3]"][je]),Ue.transpose(),F.matrixList.push(Ue)}}),F.matrixList.length===0&&delete Le.NCS}var K={};if(Ce.cell){var he=Ce.cell,ge=parseFloat(he.length_a),Ae=parseFloat(he.length_b),Ke=parseFloat(he.length_c),Je=new Float32Array(9);Je[0]=ge,Je[4]=Ae,Je[8]=Ke,ve.boxes.push(Je),K.a=ge,K.b=Ae,K.c=Ke,K.alpha=parseFloat(he.angle_alpha),K.beta=parseFloat(he.angle_beta),K.gamma=parseFloat(he.angle_gamma)}Ce.symmetry&&(K.spacegroup=_Y(Ce.symmetry["space_group_name_H-M"]));var ft=new mt;if(Ce.database_PDB_matrix){var ht=Ce.database_PDB_matrix,it=ft.elements;it[0]=parseFloat(ht["origx[1][1]"]),it[1]=parseFloat(ht["origx[1][2]"]),it[2]=parseFloat(ht["origx[1][3]"]),it[4]=parseFloat(ht["origx[2][1]"]),it[5]=parseFloat(ht["origx[2][2]"]),it[6]=parseFloat(ht["origx[2][3]"]),it[8]=parseFloat(ht["origx[3][1]"]),it[9]=parseFloat(ht["origx[3][2]"]),it[10]=parseFloat(ht["origx[3][3]"]),it[3]=parseFloat(ht["origx_vector[1]"]),it[7]=parseFloat(ht["origx_vector[2]"]),it[11]=parseFloat(ht["origx_vector[3]"]),ft.transpose(),K.origx=ft}var At=new mt;if(Ce.atom_sites){var Pe=Ce.atom_sites,Re=At.elements;Re[0]=parseFloat(Pe["fract_transf_matrix[1][1]"]),Re[1]=parseFloat(Pe["fract_transf_matrix[1][2]"]),Re[2]=parseFloat(Pe["fract_transf_matrix[1][3]"]),Re[4]=parseFloat(Pe["fract_transf_matrix[2][1]"]),Re[5]=parseFloat(Pe["fract_transf_matrix[2][2]"]),Re[6]=parseFloat(Pe["fract_transf_matrix[2][3]"]),Re[8]=parseFloat(Pe["fract_transf_matrix[3][1]"]),Re[9]=parseFloat(Pe["fract_transf_matrix[3][2]"]),Re[10]=parseFloat(Pe["fract_transf_matrix[3][3]"]),Re[3]=parseFloat(Pe["fract_transf_vector[1]"]),Re[7]=parseFloat(Pe["fract_transf_vector[2]"]),Re[11]=parseFloat(Pe["fract_transf_vector[3]"]),At.transpose(),K.scale=At}K.a!==void 0?ve.unitcell=new pm(K):ve.unitcell=void 0}(E,M,k),function(Ce,ve,me){var ye=Ce.struct_conn;if(ye){Ba(ye,"id");for(var Le=/"/g,Te=ve.getAtomProxy(),Me=ve.getAtomProxy(),$e={},U=0,D=ye.id.length;U<D;++U){var F=ye.conn_type_id[U];if(F!=="hydrog"&&F!=="mismat"&&F!=="saltbr"&&ye.ptnr1_symmetry[U]==="1_555"&&ye.ptnr2_symmetry[U]==="1_555"){var K=ye.pdbx_ptnr1_PDB_ins_code[U],he=ye.pdbx_ptnr1_label_alt_id[U],ge=ye.ptnr1_auth_seq_id[U]+(ms(K)?"^"+K:"")+":"+me[ye.ptnr1_label_asym_id[U]]+"."+ye.ptnr1_label_atom_id[U].replace(Le,"")+(ms(he)?"%"+he:""),Ae=$e[ge];if(!Ae){var Ke=new pr(ge);if(Ke.selection.error){ot&&Ze.warn("invalid selection for connection",ge);continue}Ae=ve.getAtomIndices(Ke),$e[ge]=Ae}var Je=ye.pdbx_ptnr2_PDB_ins_code[U],ft=ye.pdbx_ptnr2_label_alt_id[U],ht=ye.ptnr2_auth_seq_id[U]+(ms(Je)?"^"+Je:"")+":"+me[ye.ptnr2_label_asym_id[U]]+"."+ye.ptnr2_label_atom_id[U].replace(Le,"")+(ms(ft)?"%"+ft:""),it=$e[ht];if(!it){var At=new pr(ht);if(At.selection.error){ot&&Ze.warn("invalid selection for connection",ht);continue}it=ve.getAtomIndices(At),$e[ht]=it}var Pe=Ae.length,Re=it.length;if(Pe>Re){var ze=Pe;Pe=Re,Re=ze;var je=Ae;Ae=it,it=je}if(Pe!==0&&Re!==0)for(var Ue=0;Ue<Re;++Ue)Te.index=Ae[Ue%Pe],Me.index=it[Ue],Te&&Me?ve.bondStore.addBond(Te,Me,SY(ye.pdbx_value_order[U])):Ze.log("atoms for connection not found");else ot&&Ze.warn("no atoms found for",ge,ht)}}}}(E,M,k),function(Ce,ve,me){if(Ce.entity){Ba(Ce.entity,"id");for(var ye=Ce.entity,Le=ye.id.length,Te=0;Te<Le;++Te){var Me=ye.pdbx_description[Te],$e=ye.type[Te],U=Array.from(me[ye.id[Te]]);ve.entityList[Te]=new Ql(ve,Te,Me,$e,U)}}}(E,M,B),E.struct&&E.struct.title&&(M.title=E.struct.title.trim().replace(w1,"")),E.entry&&E.entry.id&&(M.id=E.entry.id.trim().replace(w1,"")),E.pdbx_audit_revision_history){if(E.pdbx_audit_revision_history.revision_date){Ba(E.pdbx_audit_revision_history,"revision_date");var fe=E.pdbx_audit_revision_history.revision_date.filter(ms);fe.length&&(M.header.releaseDate=fe[0])}if(E.pdbx_database_status.recvd_initial_deposition_date){Ba(E.pdbx_database_status,"recvd_initial_deposition_date");var _e=E.pdbx_database_status.recvd_initial_deposition_date.filter(ms);_e.length&&(M.header.depositionDate=_e[0])}}else if(E.database_PDB_rev){if(E.database_PDB_rev.date){Ba(E.database_PDB_rev,"date");var W=E.database_PDB_rev.date.filter(ms);W.length&&(M.header.releaseDate=W[0])}if(E.database_PDB_rev.date_original){Ba(E.database_PDB_rev,"date_original");var oe=E.database_PDB_rev.date_original.filter(ms);oe.length&&(M.header.depositionDate=oe[0])}}E.reflns&&E.reflns.d_resolution_high?ms(E.reflns.d_resolution_high)&&(M.header.resolution=parseFloat(E.reflns.d_resolution_high)):E.refine&&E.refine.ls_d_res_high&&ms(E.refine.ls_d_res_high)&&(M.header.resolution=parseFloat(E.refine.ls_d_res_high)),E.refine&&E.refine.ls_R_factor_R_free&&ms(E.refine.ls_R_factor_R_free)&&(M.header.rFree=parseFloat(E.refine.ls_R_factor_R_free)),E.refine&&E.refine.ls_R_factor_R_work&&ms(E.refine.ls_R_factor_R_work)&&(M.header.rWork=parseFloat(E.refine.ls_R_factor_R_work)),E.exptl&&E.exptl.method&&(Ba(E.exptl,"method"),M.header.experimentalMethods=E.exptl.method.map(function(Ce){return Ce.replace(w1,"")})),I.finalize(),M.finalizeAtoms(),IE(M),M.finalizeBonds(),we?Ipe(M,we):bk(M),kE(M),M.extraData.cif=E}ot&&Ze.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("cif",uD),rn.add("mcif",uD),rn.add("mmcif",uD);var uPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"gro"},t.prototype._parse=function(){ot&&Ze.time("GroParser._parse "+this.name);var r,o,i=this.structure,a=this.structureBuilder,s=this.firstModelOnly,l=this.asTrajectory,c=this.cAlphaOnly,u=i.frames,d=i.boxes,f=this.streamer.peekLines(3);i.title=f[0].trim();var p,h,g,v,m=5+(f[2].length-f[2].lastIndexOf(".")-1),b=20+m,x=20+2*m,y=parseInt(f[1]),w=y+3,_=i.atomMap,S=i.atomStore;S.resize(y);var P=0,M=0,I=0;this.streamer.eachChunkOfLines(function(O){(function(L,R,T){for(var E=L;E<R;++E){var k=++I-1,B=T[E];if(B){if(k%w==0)l&&(r=new Float32Array(3*y),u.push(r),o=0);else if(k%w!=1)if(k%w==w-1){var $=B.trim().split(/\s+/),j=new Float32Array(9);if(j[0]=10*parseFloat($[0]),j[4]=10*parseFloat($[1]),j[8]=10*parseFloat($[2]),d.push(j),s)return!0;M+=1}else{if(p=B.substr(10,5).trim(),c&&p!=="CA")continue;var V=10*parseFloat(B.substr(20,m)),q=10*parseFloat(B.substr(b,m)),Q=10*parseFloat(B.substr(x,m));if(l){var H=3*o;if(r[H+0]=V,r[H+1]=q,r[H+2]=Q,o+=1,k>w)continue}h=B.substr(5,5).trim(),g=parseInt(B.substr(0,5)),v=parseInt(B.substr(15,5)),S.growIfFull(),S.atomTypeId[P]=_.add(p),S.x[P]=V,S.y[P]=q,S.z[P]=Q,S.serial[P]=v,a.addAtom(M,"","",h,g,0,"l"),P+=1}}}})(0,O.length,O)}),a.finalize(),i.finalizeAtoms(),yk(i),IE(i),i.finalizeBonds(),bk(i),ot&&Ze.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("gro",uPt);var dPt=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function sC(e,t,n){return t?new e(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function uB(e){return sC(DataView,e)}function dD(e){return sC(Int8Array,e)}function $E(e){return sC(Int32Array,e,4)}function _1(e,t){var n=e.length/2;t||(t=new Int16Array(n));for(var r=0,o=0;r<n;++r,o+=2)t[r]=e[o]<<8^e[o+1]<<0;return t}function jc(e,t){var n=e.length/4;t||(t=new Int32Array(n));for(var r=0,o=0;r<n;++r,o+=4)t[r]=e[o]<<24^e[o+1]<<16^e[o+2]<<8^e[o+3]<<0;return t}function DE(e,t,n){var r=e.length,o=1/t;n||(n=new Float32Array(r));for(var i=0;i<r;++i)n[i]=e[i]*o;return n}function mP(e,t){var n,r;if(!t){var o=0;for(n=0,r=e.length;n<r;n+=2)o+=e[n+1];t=new e.constructor(o)}var i=0;for(n=0,r=e.length;n<r;n+=2)for(var a=e[n],s=e[n+1],l=0;l<s;++l)t[i]=a,++i;return t}function Wpe(e,t){var n=e.length;t||(t=new e.constructor(n)),n&&(t[0]=e[0]);for(var r=1;r<n;++r)t[r]=e[r]+t[r-1];return t}function FE(e,t){var n,r,o=e instanceof Int8Array?127:32767,i=-o-1,a=e.length;if(!t){var s=0;for(n=0;n<a;++n)e[n]<o&&e[n]>i&&++s;t=new Int32Array(s)}for(n=0,r=0;n<a;){for(var l=0;e[n]===o||e[n]===i;)l+=e[n],++n;l+=e[n],++n,t[r]=l,++r}return t}function CY(e,t,n){return DE(FE(e,$E(n)),t,n)}function fPt(e,t,n){var r=FE(e,$E(n));return function(o,i,a){return DE(Wpe(o,$E(a)),i,a)}(r,t,sC(Float32Array,r,4))}function qpe(e){var t=0,n=new DataView(e.buffer);function r(l){for(var c={},u=0;u<l;u++)c[s()]=s();return c}function o(l){var c=e.subarray(t,t+l);return t+=l,c}function i(l){var c=e.subarray(t,t+l);t+=l;var u=65535;if(l>u){for(var d=[],f=0;f<c.length;f+=u)d.push(String.fromCharCode.apply(null,c.subarray(f,f+u)));return d.join("")}return String.fromCharCode.apply(null,c)}function a(l){for(var c=new Array(l),u=0;u<l;u++)c[u]=s();return c}function s(){var l,c,u=e[t];if(!(128&u))return t++,u;if((240&u)==128)return t++,r(c=15&u);if((240&u)==144)return t++,a(c=15&u);if((224&u)==160)return t++,i(c=31&u);if((224&u)==224)return l=n.getInt8(t),t++,l;switch(u){case 192:return t++,null;case 194:return t++,!1;case 195:return t++,!0;case 196:return c=n.getUint8(t+1),t+=2,o(c);case 197:return c=n.getUint16(t+1),t+=3,o(c);case 198:return c=n.getUint32(t+1),t+=5,o(c);case 202:return l=n.getFloat32(t+1),t+=5,l;case 203:return l=n.getFloat64(t+1),t+=9,l;case 204:return l=e[t+1],t+=2,l;case 205:return l=n.getUint16(t+1),t+=3,l;case 206:return l=n.getUint32(t+1),t+=5,l;case 208:return l=n.getInt8(t+1),t+=2,l;case 209:return l=n.getInt16(t+1),t+=3,l;case 210:return l=n.getInt32(t+1),t+=5,l;case 217:return c=n.getUint8(t+1),t+=2,i(c);case 218:return c=n.getUint16(t+1),t+=3,i(c);case 219:return c=n.getUint32(t+1),t+=5,i(c);case 220:return c=n.getUint16(t+1),t+=3,a(c);case 221:return c=n.getUint32(t+1),t+=5,a(c);case 222:return c=n.getUint16(t+1),t+=3,r(c);case 223:return c=n.getUint32(t+1),t+=5,r(c)}throw new Error("Unknown type 0x"+u.toString(16))}return s()}function pPt(e,t,n,r){switch(e){case 1:return function(i,a){var s=i.length;a||(a=new Float32Array(s/4));for(var l=uB(a),c=uB(i),u=0,d=0,f=s/4;u<f;++u,d+=4)l.setFloat32(d,c.getFloat32(d),!0);return a}(t);case 2:return dD(t);case 3:return _1(t);case 4:return jc(t);case 5:return sC(Uint8Array,t);case 6:return mP(jc(t),new Uint8Array(n));case 7:return mP(jc(t));case 8:return Wpe(mP(jc(t)),o);case 9:return function(i,a,s){return DE(mP(i,$E(s)),a,s)}(jc(t),jc(r)[0]);case 10:return fPt(_1(t),jc(r)[0]);case 11:return DE(_1(t),jc(r)[0]);case 12:return CY(_1(t),jc(r)[0]);case 13:return CY(dD(t),jc(r)[0]);case 14:return FE(_1(t));case 15:return FE(dD(t))}var o}function hPt(e,t){var n=(t=t||{}).ignoreFields,r={};return dPt.forEach(function(o){var i,a,s,l,c,u=!!n&&n.indexOf(o)!==-1,d=e[o];u||d===void 0||(d instanceof Uint8Array?r[o]=pPt.apply(null,(a=uB(i=d),s=a.getInt32(0),l=a.getInt32(4),c=i.subarray(8,12),[s,i=i.subarray(12),l,c])):r[o]=d)}),r}var mPt={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},gPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mmtf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){var r,o,i,a,s;ot&&Ze.time("MmtfParser._parse "+this.name);var l,c,u,d,f,p,h=this.structure,g=hPt(qpe(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(K){g[K]!==void 0&&(h.header[K]=g[K])}),h.id=g.structureId,h.title=g.title,h.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(f=1,u=0,r=0,o=d=g.chainsPerModel[0];r<o;++r)u+=g.groupsPerChain[r];for(c=0,r=0,o=u;r<o;++r)c+=(s=g.groupList[g.groupTypeList[r]]).atomNameList.length;l=g.numBonds,p=[d]}else l=g.numBonds,c=g.numAtoms,u=g.numGroups,d=g.numChains,f=g.numModels,p=g.chainsPerModel;if(l+=u,this.asTrajectory)for(r=0,o=g.numModels;r<o;++r){var v=new Float32Array(3*c),m=c*r;for(i=0;i<c;++i){var b=3*i,x=i+m;v[b]=g.xCoordList[x],v[b+1]=g.yCoordList[x],v[b+2]=g.zCoordList[x]}h.frames.push(v)}var y=new Uint32Array(l),w=new Uint32Array(l),_=new Uint8Array(l),S=new Uint32Array(c),P=new Int8Array(c),M=new Uint32Array(u),I=new Uint32Array(u),O=new Uint16Array(u),L=new Uint16Array(d),R=new Uint32Array(d),T=new Uint32Array(d),E=new Uint32Array(f),k=new Uint32Array(f),B=0;for(r=0,o=f;r<o;++r){var $=p[r];for(E[r]=B,k[r]=$,i=0;i<$;++i)L[i+B]=r;B+=$}var j=g.groupsPerChain,V=0;for(r=0,o=d;r<o;++r){var q=j[r];for(R[r]=V,T[r]=q,i=0;i<q;++i)M[i+V]=r;V+=q}var Q=0,H=0;for(r=0,o=u;r<o;++r){var X=(s=g.groupList[g.groupTypeList[r]]).atomNameList.length,J=s.formalChargeList,G=s.bondAtomList,ie=s.bondOrderList;for(i=0,a=ie.length;i<a;++i)y[H]=Q+G[2*i],w[H]=Q+G[2*i+1],_[H]=ie[i],H+=1;for(I[r]=Q,O[r]=X,i=0;i<X;++i)S[Q]=r,P[Q]=J[i],Q+=1}var Y=g.bondAtomList;if(Y)for(g.bondOrderList&&_.set(g.bondOrderList,H),r=0,o=Y.length;r<o;r+=2){var le=Y[r],te=Y[r+1];le<c&&te<c&&(y[H]=le,w[H]=te,H+=1)}h.bondStore.length=_.length,h.bondStore.count=H,h.bondStore.atomIndex1=y,h.bondStore.atomIndex2=w,h.bondStore.bondOrder=_,h.atomStore.length=c,h.atomStore.count=c,h.atomStore.residueIndex=S,h.atomStore.atomTypeId=new Uint16Array(c),h.atomStore.x=g.xCoordList.subarray(0,c),h.atomStore.y=g.yCoordList.subarray(0,c),h.atomStore.z=g.zCoordList.subarray(0,c),h.atomStore.serial=g.atomIdList.subarray(0,c),h.atomStore.bfactor=g.bFactorList.subarray(0,c),h.atomStore.altloc=g.altLocList.subarray(0,c),h.atomStore.occupancy=g.occupancyList.subarray(0,c),h.atomStore.formalCharge=P,h.residueStore.length=u,h.residueStore.count=u,h.residueStore.chainIndex=M,h.residueStore.residueTypeId=g.groupTypeList,h.residueStore.atomOffset=I,h.residueStore.atomCount=O,h.residueStore.resno=g.groupIdList.subarray(0,u),h.residueStore.sstruc=g.secStructList.subarray(0,u),h.residueStore.inscode=g.insCodeList.subarray(0,u),h.chainStore.length=d,h.chainStore.count=d,h.chainStore.entityIndex=new Uint16Array(d),h.chainStore.modelIndex=L,h.chainStore.residueOffset=R,h.chainStore.residueCount=T,h.chainStore.chainname=g.chainNameList.subarray(0,4*d),h.chainStore.chainid=g.chainIdList.subarray(0,4*d),h.modelStore.length=f,h.modelStore.count=f,h.modelStore.chainOffset=E,h.modelStore.chainCount=k;var re={};for(r=0,o=g.groupList.length;r<o;++r){var ae=g.groupList[r],pe=[];for(i=0,a=ae.atomNameList.length;i<a;++i){var we=ae.elementList[i].toUpperCase(),fe=ae.atomNameList[i];pe.push(h.atomMap.add(fe,we))}var _e=ae.chemCompType.toUpperCase(),W=K_t.includes(_e),oe=ae.bondOrderList.length,Ce=new Array(oe),ve=new Array(oe);for(i=0;i<oe;++i)Ce[i]=ae.bondAtomList[2*i],ve[i]=ae.bondAtomList[2*i+1];var me={atomIndices1:Ce,atomIndices2:ve,bondOrders:ae.bondOrderList};re[r]=h.residueMap.add(ae.groupName,pe,W,_e,me)}for(r=0,o=u;r<o;++r)h.residueStore.residueTypeId[r]=re[h.residueStore.residueTypeId[r]];for(r=0,o=h.atomStore.count;r<o;++r){var ye=h.atomStore.residueIndex[r],Le=h.residueMap.list[h.residueStore.residueTypeId[ye]],Te=h.residueStore.atomOffset[ye];h.atomStore.atomTypeId[r]=Le.atomTypeIdList[r-Te]}if(g.secStructList){var Me=g.secStructList.length;for(r=0,o=h.residueStore.count;r<o;++r){var $e=mPt[h.residueStore.sstruc[r%Me]];$e!==void 0&&(h.residueStore.sstruc[r]=$e)}}if(g.entityList&&g.entityList.forEach(function(K,he){h.entityList[he]=new Ql(h,he,K.description,K.type,K.chainIndexList)}),g.bioAssemblyList&&g.bioAssemblyList.forEach(function(K,he){var ge=he+1,Ae=new Ai(""+ge);h.biomolDict["BU"+ge]=Ae;var Ke={};K.transformList.forEach(function(Je){var ft=new mt().fromArray(Je.matrix).transpose(),ht=Je.chainIndexList.map(function(At){for(var Pe="",Re=0;Re<4;++Re){var ze=g.chainNameList[4*At+Re];if(!ze)break;Pe+=String.fromCharCode(ze)}return Pe}),it=Ke[ht.toString()];it?it.matrixList.push(ft):Ke[ht.toString()]=Ae.addPart([ft],ht)})}),g.ncsOperatorList){var U=new Ai("NCS"),D=U.addPart();g.ncsOperatorList.forEach(function(K){var he=new mt().fromArray(K).transpose();D.matrixList.push(he)}),D.matrixList.length>0&&(h.biomolDict.NCS=U)}var F=g.unitCell;F&&Array.isArray(F)&&F[0]?h.unitcell=new pm({a:F[0],b:F[1],c:F[2],alpha:F[3],beta:F[4],gamma:F[5],spacegroup:g.spaceGroup}):h.unitcell=void 0,M0(h,!0),P0(h,!0),h.finalizeAtoms(),h.finalizeBonds(),kE(h),ot&&Ze.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("mmtf",gPt);var fD=/\s+/,vPt={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},bPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"mol2"},t.prototype._parse=function(){ot&&Ze.time("Mol2Parser._parse "+this.name);var r,o,i=this.structure,a=this.structureBuilder,s=this.firstModelOnly,l=this.asTrajectory,c=i.frames,u=!1,d=i.atomMap,f=i.atomStore;f.resize(Math.round(this.streamer.data.length/60)),f.addField("partialCharge",1,"float32");var p=0,h=0,g=0,v=-1,m=0,b=0,x=i.getAtomProxy(),y=i.getAtomProxy();this.streamer.eachChunkOfLines(function(w){(function(_,S,P){for(var M=_;M<S;++M){var I=P[M].trim();if(I!==""&&I[0]!=="#"){if(I[0]==="@")I==="@<TRIPOS>MOLECULE"?(b=1,h=0,++v):I==="@<TRIPOS>ATOM"?(b=2,g=f.count,l&&(o=0,r=new Float32Array(3*m),c.push(r),v>0&&(u=!0))):b=I==="@<TRIPOS>BOND"?3:0;else if(b===1){if(h===0)i.title=I,i.id=I;else if(h===1){var O=I.split(fD);m=parseInt(O[0])}++h}else if(b===2){var L=I.split(fD);if(s&&v>0)continue;var R=parseFloat(L[2]),T=parseFloat(L[3]),E=parseFloat(L[4]);if(l){var k=3*o;if(r[k+0]=R,r[k+1]=T,r[k+2]=E,o+=1,u)continue}var B=L[0],$=L[1],j=L[5].split(".")[0],V=L[6]?parseInt(L[6]):1,q=L[7]?L[7]:"",Q=L[8]?parseFloat(L[8]):0;f.growIfFull(),f.atomTypeId[p]=d.add($,j),f.x[p]=R,f.y[p]=T,f.z[p]=E,f.serial[p]=B,f.partialCharge[p]=Q,a.addAtom(v,"","",q,V,1),p+=1}else if(b===3){if(s&&v>0||l&&v>0)continue;var H=I.split(fD);x.index=parseInt(H[1])-1+g,y.index=parseInt(H[2])-1+g;var X=vPt[H[3]];i.bondStore.addBond(x,y,X)}}}})(0,w.length,w)}),a.finalize(),i.finalizeAtoms(),yk(i),P0(i,!0),M0(i,!0),i.finalizeBonds(),Km(i),bk(i),ot&&Ze.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("mol2",bPt);var yPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pdbqt"},Object.defineProperties(t.prototype,n),t}(Tx);rn.add("pdbqt",yPt);var xPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"pqr"},Object.defineProperties(t.prototype,n),t}(Tx);rn.add("pqr",xPt);var wPt=/> +<(.+)>/,pD=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"sdf"},t.prototype._parse=function(){ot&&Ze.time("SdfParser._parse "+this.name);var r=this.structure,o=this.structureBuilder,i=this.firstModelOnly,a=this.asTrajectory,s=this.streamer.peekLines(2);r.id=s[0].trim(),r.title=s[1].trim();var l,c,u=r.frames,d=!1,f=r.atomMap,p=r.atomStore;p.resize(Math.round(this.streamer.data.length/50)),p.addField("formalCharge",1,"int8");var h,g,v,m,b,x,y,w,_,S,P,M,I,O,L=r.getAtomProxy(),R=r.getAtomProxy(),T=0,E=0,k=0,B=0,$=[],j=!1,V={};r.extraData.sdf=$;var q=!1,Q=!1,H=!1,X=[],J=[],G=new Map;this.streamer.eachChunkOfLines(function(ie){(function(Y,le,te){for(var re=Y;re<le;++re){var ae=te[re];if(q&&ae&&(X=ae.substring(7).split(" "),J.length&&(X=J.concat(X),J=[]),X[X.length-1]==="-"))X.pop(),J=X;else{if(ae.substr(0,4)==="$$$$")E=-1,++k,B=p.count,$.push(V),V={},j=!1,q=!1;else if(E===3)(q=ae.indexOf(" V3000")>-1)?G.clear():(g=parseInt(ae.substr(0,3)),v=parseInt(ae.substr(3,3)),y=(x=b=(m=4)+g)+v,a&&(c=0,l=new Float32Array(3*g),u.push(l),k>0&&(d=!0)));else if(q&&X[0]==="COUNTS")g=parseInt(X[1]),a&&(c=0,l=new Float32Array(3*g),u.push(l),k>0&&(d=!0));else if(q&&X.length==2)X[1]==="ATOM"?X[0]==="BEGIN"?Q=!0:X[0]==="END"&&(Q=!1):X[1]==="BOND"&&(X[0]==="BEGIN"?H=!0:X[0]==="END"&&(H=!1));else if(Q||!q&&E>=m&&E<b){if(i&&k>0)continue;var pe=0;if(q){if(w=parseFloat(X[2]),_=parseFloat(X[3]),S=parseFloat(X[4]),M=X[1],I=parseInt(X[0]),G.set(I,T),P=M+I,X.length>6){var we=X.slice(6).find(function(me){return me.indexOf("CHG=")===0});we&&(pe=parseInt(we.substring(4)))}}else w=parseFloat(ae.substr(0,10)),_=parseFloat(ae.substr(10,10)),S=parseFloat(ae.substr(20,10)),M=ae.substr(31,3).trim(),P=M+(T-B+1);if(a){var fe=3*c;if(l[fe+0]=w,l[fe+1]=_,l[fe+2]=S,c+=1,d)continue}p.growIfFull(),p.atomTypeId[T]=f.add(P,M),p.x[T]=w,p.y[T]=_,p.z[T]=S,p.serial[T]=q?I:T,p.formalCharge[T]=pe,o.addAtom(k,"","","HET",1,1),T+=1}else if(H||!q&&E>=x&&E<y){if(i&&k>0||a&&k>0)continue;q?(L.index=G.get(parseInt(X[2])),R.index=G.get(parseInt(X[3])),O=parseInt(X[1])):(L.index=parseInt(ae.substr(0,3))-1+B,R.index=parseInt(ae.substr(3,3))-1+B,O=parseInt(ae.substr(6,3))),r.bondStore.addBond(L,R,O)}else if(ae.substr(0,6)==="M  CHG")for(var _e=parseInt(ae.substr(6,3)),W=0,oe=10;W<_e;++W,oe+=8){var Ce=parseInt(ae.substr(oe,3))-1+B,ve=parseInt(ae.substr(oe+4,3));p.formalCharge[Ce]=ve}else ae.charAt(0)===">"&&(h=ae.match(wPt))?(j=h[1],V[j]=[]):j!==!1&&ae&&V[j].push(ae);++E}}})(0,ie.length,ie)}),o.finalize(),r.finalizeAtoms(),r.finalizeBonds(),Km(r),ot&&Ze.timeEnd("SdfParser._parse "+this.name)},t.prototype._postProcess=function(){Km(this.structure)},Object.defineProperties(t.prototype,n),t}(of);rn.add("sdf",pD),rn.add("sd",pD),rn.add("mol",pD);function S1(e,t,n){return parseInt(e.substr(t,n).trim())}var PY=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"prmtop"},t.prototype._parse=function(){ot&&Ze.time("PrmtopParser._parse "+this.name);var r=this.structure,o=this.structureBuilder,i=r.atomMap,a=r.atomStore;a.addField("partialCharge",1,"float32"),a.addField("radius",1,"float32");var s,l,c,u,d,f=[],p={},h=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];h.forEach(function(I){p[I]=0});var g,v,m,b,x,y=new Uint8Array(0);this.streamer.eachChunkOfLines(function(I){(function(O,L,R){for(var T=O;T<L;++T){var E=R[T],k=E.trim();if(k&&!E.startsWith("%FORMAT")){if(E.startsWith("%FLAG")){var B=E.substr(5).trim();b=0,B==="TITLE"?m=0:B==="POINTERS"?m=1:B==="ATOM_NAME"?m=2:B==="CHARGE"?m=3:B==="MASS"?m=4:B==="RESIDUE_LABEL"?m=5:B==="RESIDUE_POINTER"?m=6:B==="BONDS_INC_HYDROGEN"?(x=0,m=7):B==="BONDS_WITHOUT_HYDROGEN"?(x=p.NBONH,m=8):m=B==="RADII"?9:void 0}else if(m===0)f.push(k);else if(m===1){for(var $=Math.min(b+10,32),j=0;b<$;++j,++b)p[h[b]]=parseInt(E.substr(8*j,8).trim());s=new Array(p.NATOM),l=new Float32Array(p.NATOM),c=new Float32Array(p.NATOM),a.resize(p.NATOM);var V=p.NBONH+p.MBONA;u=new Uint32Array(V),d=new Uint32Array(V),y=new Uint8Array(V),g=new Array(p.NRES),v=new Uint32Array(p.NRES)}else if(m===2)for(var q=Math.min(b+20,p.NATOM),Q=0;b<q;++Q,++b)s[b]=E.substr(4*Q,4).trim();else if(m===3)for(var H=Math.min(b+5,p.NATOM),X=0;b<H;++X,++b)l[b]=parseFloat(E.substr(16*X,16))/18.2223;else if(m!==4){if(m===5)for(var J=Math.min(b+20,p.NRES),G=0;b<J;++G,++b)g[b]=E.substr(4*G,4).trim();else if(m===6)for(var ie=Math.min(b+10,p.NRES),Y=0;b<ie;++Y,++b)v[b]=S1(E,8*Y,8);else if(m===7)for(var le=Math.min(b+10,3*p.NBONH),te=0;b<le;++te,++b){var re=b%3;re===0&&(u[x]=S1(E,8*te,8)/3),re===1&&(d[x]=S1(E,8*te,8)/3,y[x]=1,++x)}else if(m===8)for(var ae=Math.min(b+10,3*p.MBONA),pe=0;b<ae;++pe,++b){var we=b%3;we===0&&(u[x]=S1(E,8*pe,8)/3),we===1&&(d[x]=S1(E,8*pe,8)/3,y[x]=1,++x)}else if(m===9)for(var fe=Math.min(b+5,p.NATOM),_e=0;b<fe;++_e,++b)c[b]=parseFloat(E.substr(16*_e,16))}}}})(0,I.length,I)}),r.title=f.join(" ");for(var w=p.NATOM,_=0,S=g[0],P=1,M=0;M<w;++M)M+1===v[_+1]&&(++_,S=g[_],P=_+1),a.atomTypeId[M]=i.add(s[M]),a.serial[M]=M+1,o.addAtom(0,"","",S,P);a.partialCharge.set(l),a.radius.set(c),r.bondStore.length=y.length,r.bondStore.count=y.length,r.bondStore.atomIndex1=u,r.bondStore.atomIndex2=d,r.bondStore.bondOrder=y,o.finalize(),r.finalizeAtoms(),r.finalizeBonds(),P0(r,!0),M0(r,!0,!0),yk(r,!0),Km(r),ot&&Ze.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("prmtop",PY),rn.add("parm7",PY);var gP=/\s+/,_Pt=/(^\*|REMARK)*/,SPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"psf"},t.prototype._parse=function(){ot&&Ze.time("PsfParser._parse "+this.name);var r=this.structure,o=this.structureBuilder,i=r.atomMap,a=r.atomStore;a.addField("partialCharge",1,"float32");var s,l,c,u,d,f,p=[],h=0,g=0,v=0;this.streamer.eachChunkOfLines(function(m){(function(b,x,y){for(var w=b;w<x;++w){var _=y[w].trim();if(_){if(s===2){var S=_.split(gP),P=parseInt(S[0]),M=S[1],I=parseInt(S[2]),O=S[3],L=S[4],R=parseFloat(S[6]);M!==c&&(l=a_(g),++g),a.growIfFull(),a.atomTypeId[h]=i.add(L),a.serial[h]=P,a.partialCharge[h]=R,o.addAtom(0,l,l,O,I),h+=1,c=M}else if(s===3)for(var T=_.split(gP),E=0,k=T.length;E<k;E+=2)u[v]=parseInt(T[E])-1,d[v]=parseInt(T[E+1])-1,f[v]=1,v+=1;else if(s===1)p.push(_.replace(_Pt,"").trim());else if(s!==4){if(s!==5){if(s!==6)if(_.includes("!NATOM")){s=2;var B=parseInt(_.split(gP)[0]);a.resize(B)}else if(_.includes("!NBOND")){s=3;var $=parseInt(_.split(gP)[0]);u=new Uint32Array($),d=new Uint32Array($),f=new Uint8Array($)}else _.includes("!NTITLE")?s=1:_.includes("!NTHETA")?s=4:_.includes("!NPHI")?s=5:_.includes("!NIMPHI")&&(s=6)}}}else s=void 0}})(0,m.length,m)}),r.title=p.join(" "),r.bondStore.length=f.length,r.bondStore.count=v,r.bondStore.atomIndex1=u,r.bondStore.atomIndex2=d,r.bondStore.bondOrder=f,o.finalize(),r.finalizeAtoms(),r.finalizeBonds(),P0(r,!0),M0(r,!0,!0),Km(r),ot&&Ze.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("psf",SPt);var CPt=/\[ (.+) \]/,vP=/\s+/,PPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"top"},t.prototype._parse=function(){ot&&Ze.time("TopParser._parse "+this.name);var r=this.structure,o=this.structureBuilder,i=r.atomMap,a=r.bondStore,s=r.atomStore;s.addField("partialCharge",1,"float32");var l,c,u=[],d={};this.streamer.eachChunkOfLines(function(w){(function(_,S,P){for(var M=_;M<S;++M){var I=P[M],O=I.trim();if(O&&O[0]!=="*"&&O[0]!==";"){if(O.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var L=I.match(CPt);if(L===null){var R=O.indexOf(";");if(R!==-1&&(O=O.substring(0,R).trim()),c===2){var T=O.split(vP)[0];d[T]=l}else if(c===3){var E=O.split(vP);l.atoms.push([parseInt(E[2]),E[3],E[4],parseFloat(E[6])])}else if(c===4){var k=O.split(vP);l.bonds.push([parseInt(k[0]),parseInt(k[1])])}else if(c===0)r.title=O;else if(c===1){var B=O.split(vP);u.push([B[0],parseInt(B[1])])}}else{var $=L[1];$==="moleculetype"?(c=2,l={atoms:[],bonds:[]}):c=$==="atoms"?3:$==="bonds"?4:$==="system"?0:$==="molecules"?1:void 0}}}})(0,w.length,w)});var f=0,p=0;u.forEach(function(w){var _=w[0],S=w[1],P=d[_];f+=S*P.atoms.length,p+=S*P.bonds.length}),s.resize(f),a.resize(p);var h,g=0,v=0,m=0,b=0,x=0,y=0;u.forEach(function(w){for(var _=w[0],S=w[1],P=d[_],M=a_(b),I=function(L){h=-1;var R=OE.includes(_)?M:a_(m);P.atoms.forEach(function(T){var E=T[0],k=T[1],B=T[2],$=T[3];E!==h&&++v,s.atomTypeId[g]=i.add(B),s.serial[g]=g+1,s.partialCharge[g]=$,o.addAtom(0,M,R,k,v+1),++g,h=E}),P.bonds.forEach(function(T){a.atomIndex1[x]=y+T[0]-1,a.atomIndex2[x]=y+T[1]-1,++x}),++m,y+=P.atoms.length},O=0;O<S;++O)I();++b}),a.count=p,o.finalize(),r.finalizeAtoms(),r.finalizeBonds(),P0(r,!0),M0(r,!0,!0),Km(r),ot&&Ze.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(of);rn.add("top",PPt);var wk=function(e){function t(r,o){e.call(this,r,o),this.frames=new m8(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"trajectory"},n.__objName.get=function(){return"frames"},Object.defineProperties(t.prototype,n),t}(Qi),MPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dcd"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("DcdParser._parse "+this.name);var r=S0(this.streamer.data),o=new DataView(r),i=this.frames,a=i.coordinates,s=i.boxes,l={},c=0,u=new Int32Array(r,0,23),d=u[0]!==o.getInt32(0);if(u[0]!==84)for(var f=r.byteLength,p=0;p<f;p+=4)o.setFloat32(p,o.getFloat32(p),!0);u[0]!==84&&Ze.error("dcd bad format, header block start"),String.fromCharCode(o.getUint8(4),o.getUint8(5),o.getUint8(6),o.getUint8(7))!=="CORD"&&Ze.error("dcd bad format, format string");var h=!1,g=!1,v=!1;u[22]!==0&&(h=!0,u[12]!==0&&(g=!0),u[13]===1&&(v=!0)),l.NSET=u[2],l.ISTART=u[3],l.NSAVC=u[4],l.NAMNF=u[10],l.DELTA=h?o.getFloat32(44,d):o.getFloat64(44,d),u[22]!==84&&Ze.error("dcd bad format, header block end"),c=c+84+8;var m=o.getInt32(c,d),b=c+1;if((m-4)%80!=0&&Ze.error("dcd bad format, title block start"),l.TITLE=SE(new Uint8Array(r,b,m)),o.getInt32(b+m+4-1,d)!==m&&Ze.error("dcd bad format, title block end"),c=c+m+8,o.getInt32(c,d)!==4&&Ze.error("dcd bad format, natom block start"),l.NATOM=o.getInt32(c+4,d),o.getInt32(c+8,d)!==4&&Ze.error("dcd bad format, natom block end"),c=c+4+8,l.NAMNF>0)Ze.error("dcd format with fixed atoms unsupported, aborting");else{for(var x=l.NATOM,y=4*x,w=0,_=l.NSET;w<_;++w){if(g){c+=4;var S=new Float32Array(9);S[0]=o.getFloat64(c,d),S[4]=o.getFloat64(c+16,d),S[8]=o.getFloat64(c+40,d),s.push(S),c+=48,c+=4}for(var P=new Float32Array(3*x),M=0;M<3;++M){o.getInt32(c,d)!==y&&Ze.error("dcd bad format, coord block start",w,M),c+=4;for(var I=new Float32Array(r,c,x),O=0;O<x;++O)P[3*O+M]=I[O];c+=y,o.getInt32(c,d)!==y&&Ze.error("dcd bad format, coord block end",w,M),c+=4}a.push(P),v&&(c+=4+o.getInt32(c,d)+4)}l.DELTA&&(i.deltaTime=20.45482949774598*l.DELTA),l.ISTART>=1&&(i.timeOffset=(l.ISTART-1)*i.deltaTime),ot&&Ze.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(t.prototype,n),t}(wk);function _s(e,t){if(e)throw new TypeError("Not a valid NetCDF v3.x file: "+t)}function Xpe(e){e.offset%4!=0&&e.skip(4-e.offset%4)}function dB(e){var t=e.readUint32(),n=e.readChars(t);return Xpe(e),n}rn.add("dcd",MPt);var _k=1,Sk=2,Ck=3,Pk=4,Mk=5,Ak=6;function Kpe(e){switch(Number(e)){case _k:return"byte";case Sk:return"char";case Ck:return"short";case Pk:return"int";case Mk:return"float";case Ak:return"double";default:return"undefined"}}function MY(e){switch(Number(e)){case _k:case Sk:return 1;case Ck:return 2;case Pk:case Mk:return 4;case Ak:return 8;default:return-1}}function AY(e){switch(String(e)){case"byte":return _k;case"char":return Sk;case"short":return Ck;case"int":return Pk;case"float":return Mk;case"double":return Ak;default:return-1}}function bP(e,t){if(e!==1){for(var n=new Array(e),r=0;r<e;r++)n[r]=t();return n}return t()}function fB(e,t,n){switch(t){case _k:return e.readBytes(n);case Sk:return function(r){return r.charCodeAt(r.length-1)===0?r.substring(0,r.length-1):r}(e.readChars(n));case Ck:return bP(n,e.readInt16.bind(e));case Pk:return bP(n,e.readInt32.bind(e));case Mk:return bP(n,e.readFloat32.bind(e));case Ak:return bP(n,e.readFloat64.bind(e));default:return void _s(!0,"non valid type "+t)}}function APt(e,t){var n={recordDimension:{length:e.readUint32()}};n.version=t;var r=function(i){var a,s,l,c=i.readUint32();if(c===0)return _s(i.readUint32()!==0,"wrong empty tag for list of dimensions"),[];_s(c!==10,"wrong tag for list of dimensions");var u=i.readUint32();a=new Array(u);for(var d=0;d<u;d++){var f=dB(i),p=i.readUint32();p===0&&(s=d,l=f),a[d]={name:f,size:p}}return{dimensions:a,recordId:s,recordName:l}}(e);n.recordDimension.id=r.recordId,n.recordDimension.name=r.recordName,n.dimensions=r.dimensions,n.globalAttributes=EY(e);var o=function(i,a,s){var l,c=i.readUint32(),u=0;if(c===0)return _s(i.readUint32()!==0,"wrong empty tag for list of variables"),[];_s(c!==11,"wrong tag for list of variables");var d=i.readUint32();l=new Array(d);for(var f=0;f<d;f++){for(var p=dB(i),h=i.readUint32(),g=new Array(h),v=0;v<h;v++)g[v]=i.readUint32();var m=EY(i),b=i.readUint32();_s(b<1&&b>6,"non valid type "+b);var x=i.readUint32(),y=i.readUint32();s===2&&(_s(y>0,"offsets larger than 4GB not supported"),y=i.readUint32()),g[0]===a&&(u+=x),l[f]={name:p,dimensions:g,attributes:m,type:Kpe(b),size:x,offset:y,record:g[0]===a}}return{variables:l,recordStep:u}}(e,r.recordId,t);return n.variables=o.variables,n.recordDimension.recordStep=o.recordStep,n}function EY(e){var t,n=e.readUint32();if(n===0)return _s(e.readUint32()!==0,"wrong empty tag for list of attributes"),[];_s(n!==12,"wrong tag for list of attributes");var r=e.readUint32();t=new Array(r);for(var o=0;o<r;o++){var i=dB(e),a=e.readUint32();_s(a<1||a>6,"non valid type "+a);var s=e.readUint32(),l=fB(e,a,s);Xpe(e),t[o]={name:i,type:Kpe(a),value:l}}return t}var Ox=function(e){var t=new yn(e);t.setBigEndian(),_s(t.readChars(3)!=="CDF","should start with CDF");var n=t.readByte();_s(n>2,"unknown version"),this.header=APt(t,n),this.buffer=t},nv={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};nv.version.get=function(){return this.header.version===1?"classic format":"64-bit offset format"},nv.recordDimension.get=function(){return this.header.recordDimension},nv.dimensions.get=function(){return this.header.dimensions},nv.globalAttributes.get=function(){return this.header.globalAttributes},nv.variables.get=function(){return this.header.variables},Ox.prototype.hasDataVariable=function(e){return this.header.variables.findIndex(function(t){return t.name===e})!==-1},Ox.prototype.getDataVariable=function(e){var t;return _s((t=typeof e=="string"?this.header.variables.find(function(n){return n.name===e}):e)===void 0,"variable not found"),this.buffer.seek(t.offset),t.record?function(n,r,o){for(var i=AY(r.type),a=r.size?r.size/MY(i):1,s=o.length,l=new Array(s),c=o.recordStep,u=0;u<s;u++){var d=n.offset;l[u]=fB(n,i,a),n.seek(d+c)}return l}(this.buffer,t,this.header.recordDimension):function(n,r){for(var o=AY(r.type),i=r.size/MY(o),a=new Array(i),s=0;s<i;s++)a[s]=fB(n,o,1);return a}(this.buffer,t)},Object.defineProperties(Ox.prototype,nv);var hD=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"nctraj"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("NctrajParser._parse "+this.name);var r=new Ox(this.streamer.data),o=this.frames,i=o.coordinates,a=o.boxes,s=o.times;r.getDataVariable("coordinates").forEach(function(l){i.push(new Float32Array(l))}),r.hasDataVariable("cell_lengths")&&r.getDataVariable("cell_lengths").forEach(function(l){a.push(new Float32Array(l))}),r.hasDataVariable("time")&&r.getDataVariable("time").forEach(function(l){s.push(l)}),s.length>=1&&(o.timeOffset=s[0]),s.length>=2&&(o.deltaTime=s[1]-s[0]),ot&&Ze.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(wk);rn.add("nctraj",hD),rn.add("ncdf",hD),rn.add("nc",hD);var EPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"trr"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("TrrParser._parse "+this.name);for(var r=S0(this.streamer.data),o=new DataView(r),i=this.frames,a=i.coordinates,s=i.boxes,l=i.times,c=0;;){c+=8;var u=o.getInt32(c);c+=4,c+=u;var d=o.getInt32(c+8),f=o.getInt32(c+12),p=o.getInt32(c+16),h=o.getInt32(c+28),g=o.getInt32(c+32),v=o.getInt32(c+36),m=o.getInt32(c+40);c+=52;var b=d/9,x=3*m;if(b===8?l.push(o.getFloat64(c)):l.push(o.getFloat32(c)),c+=2*b,d){var y=new Float32Array(9);if(b===8)for(var w=0;w<9;++w)y[w]=10*o.getFloat64(c),c+=8;else for(var _=0;_<9;++_)y[_]=10*o.getFloat32(c),c+=4;s.push(y)}if(c+=f,c+=p,h){var S=void 0;if(b===8){S=new Float32Array(x);for(var P=0;P<x;++P)S[P]=10*o.getFloat64(c),c+=8}else{for(var M=new Uint32Array(r,c,x),I=0;I<x;++I){var O=M[I];M[I]=(255&O)<<24|(65280&O)<<8|O>>8&65280|O>>24&255}S=new Float32Array(r,c,x);for(var L=0;L<x;++L)S[L]*=10,c+=4}a.push(S)}if(c+=g,(c+=v)>=r.byteLength)break}l.length>=1&&(i.timeOffset=l[0]),l.length>=2&&(i.deltaTime=l[1]-l[0]),ot&&Ze.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(wk);rn.add("trr",EPt);var rv=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function mD(e){for(var t=1,n=0;e>=t&&n<32;)n++,t<<=1;return n}var C1=new Uint8Array(32);function TPt(e,t){var n=1,r=0;C1[0]=1;for(var o=0;o<e;o++){var i=void 0,a=0;for(i=0;i<n;i++)a+=C1[i]*t[o],C1[i]=255&a,a>>=8;for(;a!==0;)C1[i++]=255&a,a>>=8;n=i}var s=1;for(n--;C1[n]>=s;)r++,s*=2;return r+8*n}function Bh(e,t,n,r){for(var o=(1<<n)-1,i=r[1],a=r[2],s=e[0],l=0;n>=8;)l|=(a=a<<8|t[s++])>>i<<n-8,n-=8;return n>0&&(i<n&&(i+=8,a=a<<8|t[s++]),l|=a>>(i-=n)&(1<<n)-1),l&=o,e[0]=s,e[1]=i,e[2]=a,l}var Ul=new Int32Array(32);function TY(e,t,n,r,o,i,a){var s=0;for(Ul[1]=0,Ul[2]=0,Ul[3]=0;r>8;)Ul[s++]=Bh(e,t,8,a),r-=8;r>0&&(Ul[s++]=Bh(e,t,r,a));for(var l=n-1;l>0;l--){for(var c=0,u=s-1;u>=0;u--){var d=(c=c<<8|Ul[u])/o[l]|0;Ul[u]=d,c-=d*o[l]}i[l]=c}i[0]=Ul[0]|Ul[1]<<8|Ul[2]<<16|Ul[3]<<24}var OPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"xtc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("XtcParser._parse "+this.name);for(var r=S0(this.streamer.data),o=new DataView(r),i=this.frames,a=i.coordinates,s=i.boxes,l=i.times,c=new Int32Array(6),u=new Int32Array(3),d=new Int32Array(3),f=new Uint32Array(3),p=new Float32Array(3),h=new Float32Array(3),g=0,v=new Int32Array(3),m=new Uint32Array(v.buffer);;){var b=void 0,x=o.getInt32(g+4);g+=12;var y=3*x;l.push(o.getFloat32(g)),g+=4;for(var w=new Float32Array(9),_=0;_<9;++_)w[_]=10*o.getFloat32(g),g+=4;if(s.push(w),x<=9){b=new Float32Array(x);for(var S=0;S<x;++S)b[S]=o.getFloat32(g),g+=4}else{v[0]=v[1]=v[2]=0,u[0]=u[1]=u[2]=0,f[0]=f[1]=f[2]=0,d[0]=d[1]=d[2]=0,p[0]=p[1]=p[2]=0,h[0]=h[1]=h[2]=0,b=new Float32Array(y);var P=0,M=o.getInt32(g);g+=4;var I=o.getFloat32(g);g+=4,c[0]=o.getInt32(g),c[1]=o.getInt32(g+4),c[2]=o.getInt32(g+8),c[3]=o.getInt32(g+12),c[4]=o.getInt32(g+16),c[5]=o.getInt32(g+20),u[0]=c[3]-c[0]+1,u[1]=c[4]-c[1]+1,u[2]=c[5]-c[2]+1,g+=24;var O=void 0;(u[0]|u[1]|u[2])>16777215?(d[0]=mD(u[0]),d[1]=mD(u[1]),d[2]=mD(u[2]),O=0):O=TPt(3,u);var L=o.getInt32(g);g+=4;var R=L-1,T=rv[R=9>R?9:R]/2|0,E=rv[L]/2|0;f[0]=f[1]=f[2]=rv[L];var k=4*Math.ceil(o.getInt32(g)/4);g+=4;var B=1/I,$=0,j=0,V=new Uint8Array(r,g);for(p[0]=p[1]=p[2]=0;j<M;){O===0?(p[0]=Bh(v,V,d[0],m),p[1]=Bh(v,V,d[1],m),p[2]=Bh(v,V,d[2],m)):TY(v,V,3,O,u,p,m),j++,p[0]+=c[0],p[1]+=c[1],p[2]+=c[2],h[0]=p[0],h[1]=p[1],h[2]=p[2];var q=0;if(Bh(v,V,1,m)===1&&($=Bh(v,V,5,m),$-=q=$%3,q--),$>0){p[0]=p[1]=p[2]=0;for(var Q=0;Q<$;Q+=3){if(TY(v,V,3,L,f,p,m),j++,p[0]+=h[0]-E,p[1]+=h[1]-E,p[2]+=h[2]-E,Q===0){var H=p[0];p[0]=h[0],h[0]=H,H=p[1],p[1]=h[1],h[1]=H,H=p[2],p[2]=h[2],h[2]=H,b[P++]=h[0]*B,b[P++]=h[1]*B,b[P++]=h[2]*B}else h[0]=p[0],h[1]=p[1],h[2]=p[2];b[P++]=p[0]*B,b[P++]=p[1]*B,b[P++]=p[2]*B}}else b[P++]=p[0]*B,b[P++]=p[1]*B,b[P++]=p[2]*B;if(L+=q,q<0?(E=T,T=L>9?rv[L-1]/2|0:0):q>0&&(T=E,E=rv[L]/2|0),f[0]=f[1]=f[2]=rv[L],f[0]===0||f[1]===0||f[2]===0)return void console.error("(xdrfile error) Undefined error.")}g+=k}for(var X=0;X<y;X++)b[X]*=10;if(a.push(b),g>=r.byteLength)break}l.length>=1&&(i.timeOffset=l[0]),l.length>=2&&(i.deltaTime=l[1]-l[0]),ot&&Ze.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(wk);rn.add("xtc",OPt);var lC=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.volume=new Qn(this.name,this.path),this.voxelSize=se(i.voxelSize,1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"volume"},n.__objName.get=function(){return"volume"},t.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),e.prototype._afterParse.call(this)},t.prototype.getMatrix=function(){return new mt},Object.defineProperties(t.prototype,n),t}(Qi),IPt=/\s+/,kPt=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,OY=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"cube"},t.prototype._parse=function(){ot&&Ze.time("CubeParser._parse "+this.name);var r=this.volume,o=this.streamer.peekLines(6),i={},a=.529177210859*this.voxelSize;function s(f,p){var h=o[f].trim().split(IPt)[p];return parseFloat(h)}i.atomCount=Math.abs(s(2,0)),i.originX=.529177210859*s(2,1),i.originY=.529177210859*s(2,2),i.originZ=.529177210859*s(2,3),i.NVX=s(3,0),i.NVY=s(4,0),i.NVZ=s(5,0),i.basisX=new ee(s(3,1),s(3,2),s(3,3)).multiplyScalar(a),i.basisY=new ee(s(4,1),s(4,2),s(4,3)).multiplyScalar(a),i.basisZ=new ee(s(5,1),s(5,2),s(5,3)).multiplyScalar(a);var l=new Float32Array(i.NVX*i.NVY*i.NVZ),c=0,u=0,d=s(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(f){(function(p,h,g){for(var v=p;v<h;++v){var m=g[v].trim();if(m!==""&&u>=i.atomCount+6+d)for(var b=m.match(kPt),x=0,y=b.length;x<y;++x)l[c]=parseFloat(b[x]),++c;++u}})(0,f.length,f)}),r.header=i,r.setData(l,i.NVZ,i.NVY,i.NVX),ot&&Ze.timeEnd("CubeParser._parse "+this.name)},t.prototype.getMatrix=function(){var r=this.volume.header,o=new mt;return o.multiply(new mt().makeTranslation(r.originX,r.originY,r.originZ)),o.multiply(new mt().makeBasis(r.basisZ,r.basisY,r.basisX)),o},Object.defineProperties(t.prototype,n),t}(lC);rn.add("cub",OY),rn.add("cube",OY);var IY=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dsn6"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("Dsn6Parser._parse "+this.name);var r,o,i=this.volume,a={},s=S0(this.streamer.data),l=new Int16Array(s),c=new Uint8Array(s),u=String.fromCharCode.apply(null,c.subarray(0,512));if(u.startsWith(":-)"))a.xStart=parseInt(u.substr(10,5)),a.yStart=parseInt(u.substr(15,5)),a.zStart=parseInt(u.substr(20,5)),a.xExtent=parseInt(u.substr(32,5)),a.yExtent=parseInt(u.substr(38,5)),a.zExtent=parseInt(u.substr(42,5)),a.xRate=parseInt(u.substr(52,5)),a.yRate=parseInt(u.substr(58,5)),a.zRate=parseInt(u.substr(62,5)),a.xlen=parseFloat(u.substr(73,10))*this.voxelSize,a.ylen=parseFloat(u.substr(83,10))*this.voxelSize,a.zlen=parseFloat(u.substr(93,10))*this.voxelSize,a.alpha=parseFloat(u.substr(103,10)),a.beta=parseFloat(u.substr(113,10)),a.gamma=parseFloat(u.substr(123,10)),r=parseFloat(u.substr(138,12))/100,o=parseInt(u.substr(155,8)),a.sigma=100*parseFloat(u.substr(170,12));else{if(l[18]!==100)for(var d=0,f=l.length;d<f;++d){var p=l[d];l[d]=(255&p)<<8|p>>8&255}a.xStart=l[0],a.yStart=l[1],a.zStart=l[2],a.xExtent=l[3],a.yExtent=l[4],a.zExtent=l[5],a.xRate=l[6],a.yRate=l[7],a.zRate=l[8];var h=1/l[17],g=h*this.voxelSize;a.xlen=l[9]*g,a.ylen=l[10]*g,a.zlen=l[11]*g,a.alpha=l[12]*h,a.beta=l[13]*h,a.gamma=l[14]*h,r=l[15]/100,o=l[16],a.gamma=l[14]*h}i.header=a,ot&&Ze.log(a,r,o);for(var v=new Float32Array(a.xExtent*a.yExtent*a.zExtent),m=512,b=Math.ceil(a.xExtent/8),x=Math.ceil(a.yExtent/8),y=Math.ceil(a.zExtent/8),w=0;w<y;++w)for(var _=0;_<x;++_)for(var S=0;S<b;++S)for(var P=0;P<8;++P)for(var M=8*w+P,I=0;I<8;++I)for(var O=8*_+I,L=0;L<8;++L){var R=8*S+L;if(!(R<a.xExtent&&O<a.yExtent&&M<a.zExtent)){m+=8-L;break}v[(R*a.yExtent+O)*a.zExtent+M]=(c[m]-o)/r,++m}i.setData(v,a.zExtent,a.yExtent,a.xExtent),a.sigma&&i.setStats(void 0,void 0,void 0,a.sigma),ot&&Ze.timeEnd("Dsn6Parser._parse "+this.name)},t.prototype.getMatrix=function(){var r=this.volume.header,o=[r.xlen,0,0],i=[r.ylen*Math.cos(Math.PI/180*r.gamma),r.ylen*Math.sin(Math.PI/180*r.gamma),0],a=[r.zlen*Math.cos(Math.PI/180*r.beta),r.zlen*(Math.cos(Math.PI/180*r.alpha)-Math.cos(Math.PI/180*r.gamma)*Math.cos(Math.PI/180*r.beta))/Math.sin(Math.PI/180*r.gamma),0];a[2]=Math.sqrt(r.zlen*r.zlen*Math.sin(Math.PI/180*r.beta)*Math.sin(Math.PI/180*r.beta)-a[1]*a[1]);var s=[[],o,i,a],l=[0,r.xRate,r.yRate,r.zRate],c=[0,1,2,3],u=new mt;return u.set(s[c[1]][0]/l[c[1]],s[c[2]][0]/l[c[2]],s[c[3]][0]/l[c[3]],0,s[c[1]][1]/l[c[1]],s[c[2]][1]/l[c[2]],s[c[3]][1]/l[c[3]],0,s[c[1]][2]/l[c[1]],s[c[2]][2]/l[c[2]],s[c[3]][2]/l[c[3]],0,0,0,0,1),u.multiply(new mt().makeRotationY(oo(90))),u.multiply(new mt().makeTranslation(-r.zStart,r.yStart,r.xStart)),u.multiply(new mt().makeScale(-1,1,1)),u},Object.defineProperties(t.prototype,n),t}(lC);rn.add("dsn6",IY),rn.add("brix",IY);var yP=/\s+/,Ype=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"dx"},t.prototype._parse=function(){ot&&Ze.time("DxParser._parse "+this.name);var r=this.volume,o=this.streamer.peekLines(30),i=this.parseHeaderLines(o),a=this.volume.header,s=i.dataLineStart,l=a.nx*a.ny*a.nz,c=new Float32Array(l),u=0,d=0;this.streamer.eachChunkOfLines(function(f){(function(p,h,g){for(var v=p;v<h;++v){if(u<l&&d>s){var m=g[v].trim();if(m!=="")for(var b=m.split(yP),x=0,y=b.length;x<y;++x)c[u]=parseFloat(b[x]),++u}++d}})(0,f.length,f)}),r.setData(c,a.nz,a.ny,a.nx),ot&&Ze.timeEnd("DxParser._parse "+this.name)},t.prototype.parseHeaderLines=function(r){for(var o={},i=r.length,a=0,s=0,l=0,c=0;c<i;++c){var u=void 0,d=r[c];if(d.startsWith("object 1"))u=d.split(yP),o.nx=parseInt(u[5]),o.ny=parseInt(u[6]),o.nz=parseInt(u[7]);else if(d.startsWith("origin"))u=d.split(yP),o.xmin=parseFloat(u[1]),o.ymin=parseFloat(u[2]),o.zmin=parseFloat(u[3]);else if(d.startsWith("delta"))u=d.split(yP),l===0?o.hx=parseFloat(u[1])*this.voxelSize:l===1?o.hy=parseFloat(u[2])*this.voxelSize:l===2&&(o.hz=parseFloat(u[3])*this.voxelSize),l+=1;else if(d.startsWith("object 3")){a=c,s+=d.length+1;break}s+=d.length+1}return this.volume.header=o,{dataLineStart:a,headerByteCount:s}},t.prototype.getMatrix=function(){var r=this.volume.header,o=new mt;return o.multiply(new mt().makeRotationY(oo(90))),o.multiply(new mt().makeTranslation(-r.zmin,r.ymin,r.xmin)),o.multiply(new mt().makeScale(-r.hz,r.hy,r.hx)),o},Object.defineProperties(t.prototype,n),t}(lC);rn.add("dx",Ype);var RPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"dxbin"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("DxbinParser._parse "+this.name);for(var r=S0(this.streamer.data),o=function(f,p,h){p===void 0&&(p=10485760),h===void 0&&(h=`
`);for(var g="",v=[],m=0;m<f.length;m+=p){var b=SE(f.subarray(m,m+p)),x=b.lastIndexOf(h);if(x===-1)g+=b;else{var y=g+b.substr(0,x);v=v.concat(y.split(h)),g=x===b.length-h.length?"":b.substr(x+h.length)}}return g!==""&&v.push(g),v}(new Uint8Array(r,0,1e3)),i=this.parseHeaderLines(o),a=this.volume.header,s=i.headerByteCount,l=a.nx*a.ny*a.nz,c=new DataView(r),u=new Float32Array(l),d=0;d<l;++d)u[d]=c.getFloat64(8*d+s,!0);this.volume.setData(u,a.nz,a.ny,a.nx),ot&&Ze.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Ype);rn.add("dxbin",RPt);var gD=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"mrc"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("MrcParser._parse "+this.name);var r,o=this.volume,i={},a=S0(this.streamer.data),s=new Int32Array(a,0,56),l=new Float32Array(a,0,56),c=new DataView(a);if(i.MAP=String.fromCharCode(c.getUint8(208),c.getUint8(209),c.getUint8(210),c.getUint8(211)),i.MACHST=[c.getUint8(212),c.getUint8(213)],i.MACHST[0]===17&&i.MACHST[1]===17)for(var u=a.byteLength,d=0;d<u;d+=4)c.setFloat32(d,c.getFloat32(d),!0);if(i.NX=s[0],i.NY=s[1],i.NZ=s[2],i.MODE=s[3],i.NXSTART=s[4],i.NYSTART=s[5],i.NZSTART=s[6],i.MX=s[7],i.MY=s[8],i.MZ=s[9],i.xlen=l[10]*this.voxelSize,i.ylen=l[11]*this.voxelSize,i.zlen=l[12]*this.voxelSize,i.alpha=l[13],i.beta=l[14],i.gamma=l[15],i.MAPC=s[16],i.MAPR=s[17],i.MAPS=s[18],i.DMIN=l[19],i.DMAX=l[20],i.DMEAN=l[21],i.ISPG=s[22],i.NSYMBT=s[23],i.LSKFLG=s[24],i.originX=l[49],i.originY=l[50],i.originZ=l[51],i.ARMS=l[54],o.header=i,i.MODE===2)r=new Float32Array(a,1024+i.NSYMBT,i.NX*i.NY*i.NZ);else if(i.MODE===0){if(r=new Float32Array(new Int8Array(a,1024+i.NSYMBT,i.NX*i.NY*i.NZ)),s[39]===-128&&s[40]===127)for(var f=(i.DMAX-i.DMIN)/255,p=.5*(i.DMIN+i.DMAX+f),h=0,g=r.length;h<g;++h)r[h]=f*r[h]+p}else Ze.error("MrcParser unknown mode",i.MODE);o.setData(r,i.NX,i.NY,i.NZ),i.ARMS!==0&&o.setStats(i.DMIN,i.DMAX,i.DMEAN,i.ARMS),ot&&Ze.timeEnd("MrcParser._parse "+this.name)},t.prototype.getMatrix=function(){var r=this.volume.header,o=[r.xlen,0,0],i=[r.ylen*Math.cos(Math.PI/180*r.gamma),r.ylen*Math.sin(Math.PI/180*r.gamma),0],a=[r.zlen*Math.cos(Math.PI/180*r.beta),r.zlen*(Math.cos(Math.PI/180*r.alpha)-Math.cos(Math.PI/180*r.gamma)*Math.cos(Math.PI/180*r.beta))/Math.sin(Math.PI/180*r.gamma),0];a[2]=Math.sqrt(r.zlen*r.zlen*Math.sin(Math.PI/180*r.beta)*Math.sin(Math.PI/180*r.beta)-a[1]*a[1]);var s=[[],o,i,a],l=[0,r.MX,r.MY,r.MZ],c=[0,r.MAPC,r.MAPR,r.MAPS],u=new mt;return u.set(s[c[1]][0]/l[c[1]],s[c[2]][0]/l[c[2]],s[c[3]][0]/l[c[3]],0,s[c[1]][1]/l[c[1]],s[c[2]][1]/l[c[2]],s[c[3]][1]/l[c[3]],0,s[c[1]][2]/l[c[1]],s[c[2]][2]/l[c[2]],s[c[3]][2]/l[c[3]],0,0,0,0,1),u.setPosition(new ee(r.originX,r.originY,r.originZ)),u.multiply(new mt().makeTranslation(r.NXSTART,r.NYSTART,r.NZSTART)),u},Object.defineProperties(t.prototype,n),t}(lC);rn.add("mrc",gD),rn.add("ccp4",gD),rn.add("map",gD);var LPt=/\s+/;function vD(e){return e.trim().split(LPt).map(parseFloat)}var kY=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"xplor"},t.prototype._parse=function(){ot&&Ze.time("XplorParser._parse "+this.name);var r,o=this.volume,i=this.streamer.peekLines(8),a={},s=(r=i[2].startsWith("REMARKS")?parseInt(i[1].substring(0,8))+2:5)+3,l=vD(i[r]);a.NA=l[0],a.AMIN=l[1],a.AMAX=l[2],a.NB=l[3],a.BMIN=l[4],a.BMAX=l[5],a.NC=l[6],a.CMIN=l[7],a.CMAX=l[8];var c=vD(i[r+1]);a.a=c[0]*this.voxelSize,a.b=c[1]*this.voxelSize,a.c=c[2]*this.voxelSize,a.alpha=c[3],a.beta=c[4],a.gamma=c[5];var u=a.AMAX-a.AMIN+1,d=a.BMAX-a.BMIN+1,f=a.CMAX-a.CMIN+1,p=u*d*f,h=new Float32Array(p),g=Math.ceil(1+u*d/6),v=0,m=0;this.streamer.eachChunkOfLines(function(b){(function(x,y,w){for(var _=x;_<y;++_){var S=w[_];if(m>=s&&(m-s)%g!=0&&v<p)for(var P=0;P<6;++P){var M=parseFloat(S.substr(12*P,12));if(isNaN(M))break;h[v++]=M}else if(v===p){var I=S.trim();if(I&&I!=="-9999"){var O=vD(S);a.RAVE=O[0],a.RSIGMA=O[1]}}++m}})(0,b.length,b)}),o.header=a,o.setData(h,u,d,f),a.RAVE!==0&&a.RSIGMA!==1&&o.setStats(void 0,void 0,a.RAVE,a.RSIGMA),ot&&Ze.timeEnd("XplorParser._parse "+this.name)},t.prototype.getMatrix=function(){var r=this.volume.header,o=[r.a,0,0],i=[r.b*Math.cos(Math.PI/180*r.gamma),r.b*Math.sin(Math.PI/180*r.gamma),0],a=[r.c*Math.cos(Math.PI/180*r.beta),r.c*(Math.cos(Math.PI/180*r.alpha)-Math.cos(Math.PI/180*r.gamma)*Math.cos(Math.PI/180*r.beta))/Math.sin(Math.PI/180*r.gamma),0];a[2]=Math.sqrt(r.c*r.c*Math.sin(Math.PI/180*r.beta)*Math.sin(Math.PI/180*r.beta)-a[1]*a[1]);var s=[[],o,i,a],l=[0,r.NA,r.NB,r.NC],c=[0,1,2,3],u=new mt;return u.set(s[c[1]][0]/l[c[1]],s[c[2]][0]/l[c[2]],s[c[3]][0]/l[c[3]],0,s[c[1]][1]/l[c[1]],s[c[2]][1]/l[c[2]],s[c[3]][1]/l[c[3]],0,s[c[1]][2]/l[c[1]],s[c[2]][2]/l[c[2]],s[c[3]][2]/l[c[3]],0,0,0,0,1),u.multiply(new mt().makeTranslation(r.AMIN,r.BMIN,r.CMIN)),u},Object.defineProperties(t.prototype,n),t}(lC);function Vr(e,t,n){var r,o,i;e/=360,t/=100,n/=100;var a=Math.floor(6*e),s=6*e-a,l=n*(1-t),c=n*(1-s*t),u=n*(1-(1-s)*t);switch(a%6){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;case 5:r=n,o=l,i=c}return[r,o,i]}rn.add("xplor",kY),rn.add("cns",kY);var pB={red:Vr(0,100,100),orange:Vr(20,100,100),gold:Vr(40,100,100),yellow:Vr(60,100,100),lime:Vr(80,100,100),green:Vr(120,80,100),sea:Vr(150,100,100),cyan:Vr(180,100,85),sky:Vr(210,75,95),blue:Vr(240,70,100),purple:Vr(275,75,100),magenta:Vr(300,95,100),hotpink:Vr(335,100,100),pink:Vr(350,55,100),peach:Vr(25,75,100),lilac:Vr(275,55,100),pinktint:Vr(340,30,100),peachtint:Vr(25,50,100),yellowtint:Vr(60,50,100),greentint:Vr(135,40,100),bluetint:Vr(220,40,100),lilactint:Vr(275,35,100),white:Vr(0,0,100),gray:Vr(0,0,50),brown:Vr(20,45,75),deadwhite:[1,1,1],deadblack:[0,0,0],invisible:[0,0,0]},$Pt=/[\s,]+/,Zpe=/[^{}\s]*{[^{}]+}|[^{}\s]+/g,hB=/^{+|}+$/g,DPt=/^['"]+|['"]+$/g,Qpe=/\s*=\s*/g;function xP(e){for(var t,n,r,o=[],i=(e=e.replace(Qpe,"=")).match(Zpe),a=1;a<i.length;++a){var s=i[a];if(s[0]==="{")t=s.substring(1,s.length-1);else{var l=s.split("=");l.length===2&&(l[0]==="color"?n=pB[l[1]]:l[0]==="width"?r=parseInt(l[1]):l[0]==="master"&&o.push(l[1].replace(hB,"")))}}return{listName:t,listColor:n,listMasters:o,listWidth:r}}function wP(e){for(var t,n,r,o=(e=e.trim()).indexOf("{"),i=e.indexOf("}"),a=e.substr(i+1).split($Pt),s=e.substr(o+1,i-1),l=[parseFloat(a[a.length-3]),parseFloat(a[a.length-2]),parseFloat(a[a.length-1])],c=!1,u=!1,d=4;d<=a.length;d++){var f=a[a.length-d];f in pB&&(t=pB[a[a.length-d]]),f.startsWith("width")&&(n=parseInt(f.substring(5))),f.startsWith("r=")&&(r=parseFloat(f.split("=")[1])),f.startsWith("P")&&(c=!0),f.startsWith("X")&&(u=!0)}return{label:s,position:l,color:t,radius:r,width:n,isLineBreak:c,isTriangleBreak:u}}function bD(e){var t=e.indexOf("{"),n=e.indexOf("}");return e.substring(t!==-1?t+1:0,n!==-1?n:void 0).trim()}function FPt(e){var t=e.indexOf("}");return t===-1?void 0:e.substr(t+1).trim()}function yD(e){for(var t="",n=[],r={},o=(e=e.replace(Qpe,"=")).match(Zpe),i=1;i<o.length;++i){var a=o[i];if(a[0]==="{")t=a.substring(1,a.length-1);else{var s=a.split("=");s.length===2?s[0]==="master"?n.push(s[1].replace(hB,"")):r[s[0]]=s[1].replace(hB,""):r[s[0]]=!0}}return{groupName:t,groupFlags:r,groupMasters:n}}var NPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"kin"},n.__objName.get=function(){return"kinemage"},t.prototype._parse=function(){ot&&Ze.time("KinParser._parse "+this.name);var r,o,i={kinemage:void 0,onewidth:void 0,"1viewid":void 0,pdbfile:void 0,texts:[],text:"",captions:[],caption:"",groupDict:{},subgroupDict:{},masterDict:{},pointmasterDict:{},dotLists:[],vectorLists:[],ballLists:[],ribbonLists:[]};this.kinemage=i;var a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I,O,L=!1,R="",T=!1,E="",k=null,B=null,$=!1,j="",V=!1,q="",Q=!1,H=!1;if(this.streamer.eachChunkOfLines(function(J){(function(G,ie,Y){for(var le=G;le<ie;++le){var te=Y[le];if(te[0]==="@"&&(L=!1,T=!1,$=!1,V=!1,Q=!1,H=!1),te)if(te.startsWith("@dotlist")){var re=xP(te),ae=re.listColor,pe=re.listName,we=re.listMasters;L=!0,R="",s=[],l=[],c=[],a=ae,r&&(we=we.concat(r)),o&&(we=we.concat(o)),i.dotLists.push({name:pe,masterArray:we,labelArray:s,positionArray:l,colorArray:c})}else if(te.startsWith("@vectorlist")){var fe=xP(te),_e=fe.listMasters,W=fe.listName,oe=fe.listWidth,Ce=fe.listColor;_e&&_e.forEach(function(wt){i.masterDict[wt]||(i.masterDict[wt]={indent:!1,visible:!1})}),T=!0,E="",k=null,B=null,f=[],p=[],h=[],g=[],v=[],m=[],u=Ce,d=[],oe&&d.push(oe),r&&(_e=_e.concat(r)),o&&(_e=_e.concat(o)),i.vectorLists.push({name:W,masterArray:_e,label1Array:f,label2Array:p,position1Array:h,position2Array:g,color1Array:v,color2Array:m,width:d})}else if(te.startsWith("@balllist")){var ve=xP(te),me=ve.listName,ye=ve.listColor,Le=ve.listMasters;Le&&Le.forEach(function(wt){i.masterDict[wt]||(i.masterDict[wt]={indent:!1,visible:!1})}),$=!0,j="",y=[],b=[],w=[],_=[],x=ye,r&&(Le=Le.concat(r)),o&&(Le=Le.concat(o)),i.ballLists.push({name:me,masterArray:Le,labelArray:y,radiusArray:b,positionArray:w,colorArray:_})}else if(te.startsWith("@ribbonlist")||te.startsWith("@trianglelist")){var Te=xP(te),Me=Te.listMasters,$e=Te.listName,U=Te.listColor;Me&&Me.forEach(function(wt){i.masterDict[wt]||(i.masterDict[wt]={indent:!1,visible:!1})}),V=!0,q="",P=[],M=[],I=[],O=[],S=U,r&&(Me=Me.concat(r)),o&&(Me=Me.concat(o)),i.ribbonLists.push({name:$e,masterArray:Me,labelArray:P,positionArray:M,breakArray:I,colorArray:O})}else if(te.startsWith("@text"))Q=!0,i.texts.push(te.substr(5));else if(te.startsWith("@caption"))H=!0,i.captions.push(te.substr(8));else if(L){var D=wP(te),F=D.label,K=D.color,he=D.position;F==='"'?F=R:R=F,K===void 0&&(K=a),s.push(F),l.push.apply(l,he),c.push.apply(c,K)}else if(T)for(var ge=te.replace(/(?!^){/g,`
{`).split(/\n/),Ae=0;Ae<ge.length;Ae++){var Ke=wP(ge[Ae]),Je=Ke.label,ft=Ke.color,ht=Ke.width,it=Ke.position,At=Ke.isLineBreak;Je==='"'?Je=E:E=Je,ft===void 0&&(ft=u),At||k!==null&&(ht&&d.push(ht),f.push(E),h.push.apply(h,k),v.push.apply(v,B),p.push(Je),g.push.apply(g,it),m.push.apply(m,ft)),E=Je,k=it,B=ft}else if($){var Pe=wP(te),Re=Pe.label,ze=Pe.radius,je=Pe.color,Ue=Pe.position;Re==='"'?Re=j:j=Re,ze===void 0&&(ze=1),je===void 0&&(je=x),y.push(Re),b.push(ze),w.push.apply(w,Ue),_.push.apply(_,je)}else if(V){var tt=wP(te),be=tt.label,He=tt.color,Ve=tt.position,z=tt.isTriangleBreak;be==='"'?be=q:q=be,He===void 0&&(He=S),P.push(be),M.push.apply(M,Ve),I.push(z),O.push.apply(O,He)}else if(Q)i.texts.push(te);else if(H)i.captions.push(te);else if(te.startsWith("@kinemage"))i.kinemage=parseInt(te.substr(9).trim());else if(te.startsWith("@onewidth"))i.onewidth=!0;else if(te.startsWith("@1viewid"))i["1viewid"]=bD(te);else if(te.startsWith("@pdbfile"))i.pdbfile=bD(te);else if(te.startsWith("@group")){var Z=yD(te),ne=Z.groupName,de=Z.groupFlags,ce=Z.groupMasters;for(var Se in i.groupDict[ne]||(i.groupDict[ne]={dominant:!1,animate:!1},r=ce),r&&r.forEach(function(wt){i.masterDict[wt]||(i.masterDict[wt]={indent:!1,visible:!1})}),de)i.groupDict[ne][Se]=de[Se]}else if(te.startsWith("@subgroup")){var xe=yD(te),Ie=xe.groupName,Xe=xe.groupFlags,Ye=xe.groupMasters;for(var rt in i.subgroupDict[Ie]||(i.subgroupDict[Ie]={dominant:!1,animate:!1},o=Ye),o&&o.forEach(function(wt){i.masterDict[wt]||(i.masterDict[wt]={indent:!1,visible:!1})}),Xe)i.subgroupDict[Ie][rt]=Xe[rt]}else if(te.startsWith("@master")){var Fe=bD(te),Oe=FPt(te);i.masterDict[Fe]||(i.masterDict[Fe]={indent:!1,visible:!1}),Oe==="on"?i.masterDict[Fe].visible=!0:Oe==="off"?i.masterDict[Fe].visible=!1:Oe==="indent"&&(i.masterDict[Fe].indent=!0)}else if(te.startsWith("@pointmaster")){var Ge=yD(te),et=Ge.groupName,pt=Ge.groupFlags;i.pointmasterDict[et]={id:Object.keys(pt)[0].replace(DPt,"")}}else console.log(te);else L=!1,T=!1,$=!1,V=!1}})(0,J.length,J)}),i.text=i.texts.join(`
`).trim(),i.caption=i.captions.join(`
`).trim(),i.ribbonLists){var X=[];i.ribbonLists.forEach(function(J){X.push(function(G){for(var ie=G.labelArray,Y=G.positionArray,le=G.colorArray,te=G.breakArray,re=[],ae=[],pe=[],we=[],fe=0;fe<te.length/3;fe++){var _e=3*fe,W=9*fe;te[_e+1]||te[_e+2]||(re.push(ie[_e]),re.push(ie[_e+1]),re.push(ie[_e+2]),we.push(te[_e]),we.push(te[_e+1]),we.push(te[_e+2]),ae.push(Y[W]),ae.push(Y[W+1]),ae.push(Y[W+2]),ae.push(Y[W+3]),ae.push(Y[W+4]),ae.push(Y[W+5]),ae.push(Y[W+6]),ae.push(Y[W+7]),ae.push(Y[W+8]),pe.push(le[W]),pe.push(le[W+1]),pe.push(le[W+2]),pe.push(le[W+3]),pe.push(le[W+4]),pe.push(le[W+5]),pe.push(le[W+6]),pe.push(le[W+7]),pe.push(le[W+8]))}return{name:G.name,masterArray:G.masterArray,labelArray:re,positionArray:ae,breakArray:we,colorArray:pe}}(function(G){for(var ie=G.labelArray,Y=G.positionArray,le=G.colorArray,te=G.breakArray,re=[],ae=0;ae<3*(ie.length-2);++ae)re[ae]=ie[ae-2*Math.floor(ae/3)];for(var pe=[],we=0;we<3*(te.length-2);++we)pe[we]=te[we-2*Math.floor(we/3)];for(var fe=[],_e=0;_e<9*(Y.length/3-2);++_e)fe[_e]=Y[_e-6*Math.floor(_e/9)];for(var W=[],oe=0;oe<9*(le.length/3-2);++oe)W[oe]=le[oe-6*Math.floor(oe/9)];for(var Ce=[],ve=0;ve<fe.length/3;++ve)Ce.push(new ee(fe[3*ve],fe[3*ve]+1,fe[3*ve]+2));return{name:G.name,masterArray:G.masterArray,labelArray:re,positionArray:fe,breakArray:pe,colorArray:W}}(J)))}),i.ribbonLists=X}ot&&Ze.timeEnd("KinParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("kin",NPt);var Jpe=function(e){function t(r,o){e.call(this,r,o),this.loader=this.getLoader(),this.surface=new qi(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"surface"},n.__objName.get=function(){return"surface"},t.prototype._parse=function(){var r=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(r)},Object.defineProperties(t.prototype,n),t}(Qi),mB=function(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}};mB.prototype={constructor:mB,setPath:function(e){this.path=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],startObject:function(t,n){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=t,void(this.object.fromDeclaration=n!==!1);this.object={name:t||"",geometry:{vertices:[],normals:[]},fromDeclaration:n!==!1},this.objects.push(this.object)},parseVertexIndex:function(t,n){var r=parseInt(t,10);return 3*(r>=0?r-1:r+n/3)},parseNormalIndex:function(t,n){var r=parseInt(t,10);return 3*(r>=0?r-1:r+n/3)},addVertex:function(t,n,r){var o=this.vertices,i=this.object.geometry.vertices;i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2]),i.push(o[r+0]),i.push(o[r+1]),i.push(o[r+2])},addVertexLine:function(t){var n=this.vertices,r=this.object.geometry.vertices;r.push(n[t+0]),r.push(n[t+1]),r.push(n[t+2])},addNormal:function(t,n,r){var o=this.normals,i=this.object.geometry.normals;i.push(o[t+0]),i.push(o[t+1]),i.push(o[t+2]),i.push(o[n+0]),i.push(o[n+1]),i.push(o[n+2]),i.push(o[r+0]),i.push(o[r+1]),i.push(o[r+2])},addFace:function(t,n,r,o,i,a,s,l){var c,u=this.vertices.length,d=this.parseVertexIndex(t,u),f=this.parseVertexIndex(n,u),p=this.parseVertexIndex(r,u);if(o===void 0?this.addVertex(d,f,p):(c=this.parseVertexIndex(o,u),this.addVertex(d,f,c),this.addVertex(f,p,c)),i!==void 0){var h=this.normals.length;d=this.parseNormalIndex(i,h),f=i===a?d:this.parseNormalIndex(a,h),p=i===s?d:this.parseNormalIndex(s,h),o===void 0?this.addNormal(d,f,p):(c=this.parseNormalIndex(l,h),this.addNormal(d,f,c),this.addNormal(f,p,c))}},addLineGeometry:function(t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=0,o=t.length;r<o;r++)this.addVertexLine(this.parseVertexIndex(t[r],n))}};return e.startObject("",!1),e},parse:function(e){var t,n,r=this._createParserState();e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));var o=e.split(`
`),i="",a="",s="",l=[],c=typeof"".trimLeft=="function";for(t=0,n=o.length;t<n;t++)if(i=o[t],(i=c?i.trimLeft():i.trim()).length!==0&&(a=i.charAt(0))!=="#"){if(a==="v"){if((s=i.charAt(1))===" "&&(l=this.regexp.vertex_pattern.exec(i))!==null)r.vertices.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));else if(s==="n"&&(l=this.regexp.normal_pattern.exec(i))!==null)r.normals.push(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]));else if(s!=="t"||this.regexp.uv_pattern.exec(i)===null)throw new Error("Unexpected vertex/normal/uv line: '"+i+"'")}else if(a==="f"){if((l=this.regexp.face_vertex_uv_normal.exec(i))!==null)r.addFace(l[1],l[4],l[7],l[10],l[3],l[6],l[9],l[12]);else if(this.regexp.face_vertex_uv.exec(i)===null)if((l=this.regexp.face_vertex_normal.exec(i))!==null)r.addFace(l[1],l[3],l[5],l[7],l[2],l[4],l[6],l[8]);else{if((l=this.regexp.face_vertex.exec(i))===null)throw new Error("Unexpected face line: '"+i+"'");r.addFace(l[1],l[2],l[3],l[4])}}else if(a==="l"){var u=i.substring(1).trim().split(" "),d=[],f=[];if(i.indexOf("/")===-1)d=u;else for(var p=0,h=u.length;p<h;p++){var g=u[p].split("/");g[0]!==""&&d.push(g[0]),g[1]!==""&&f.push(g[1])}r.addLineGeometry(d,f)}else if((l=this.regexp.object_pattern.exec(i))!==null){var v=l[0].substr(1).trim();r.startObject(v)}else if(!this.regexp.material_use_pattern.test(i)){if(!this.regexp.material_library_pattern.test(i)){if(this.regexp.smoothing_pattern.exec(i)===null){if(i==="\0")continue;throw new Error("Unexpected line: '"+i+"'")}}}}var m=[];for(t=0,n=r.objects.length;t<n;t++){var b=r.objects[t].geometry;if(b.vertices.length!==0){var x=new Ot;x.setAttribute("position",new Ht(new Float32Array(b.vertices),3)),b.normals.length>0?x.setAttribute("normal",new Ht(new Float32Array(b.normals),3)):x.computeVertexNormals(),m.push(x)}}return m}};var BPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"obj"},t.prototype.getLoader=function(){return new mB},Object.defineProperties(t.prototype,n),t}(Jpe);rn.add("obj",BPt);var gB=function(){this.propertyNameMapping={}};gB.prototype={constructor:gB,setPropertyNameMapping:function(e){this.propertyNameMapping=e},bin2str:function(e){for(var t=new Uint8Array(e),n="",r=0;r<e.byteLength;r++)n+=String.fromCharCode(t[r]);return n},isASCII:function(e){return this.parseHeader(this.bin2str(e)).format==="ascii"},parse:function(e){return e instanceof ArrayBuffer?this.isASCII(e)?this.parseASCII(this.bin2str(e)):this.parseBinary(e):this.parseASCII(e)},parseHeader:function(e){var t="",n=0,r=/ply([\s\S]*)end_header\s/.exec(e);r!==null&&(t=r[1],n=r[0].length);for(var o,i,a,s,l,c,u={comments:[],elements:[],headerLength:n},d=t.split(`
`),f=0;f<d.length;f++){var p=d[f];if((p=p.trim())!=="")switch(i=(a=p.split(/\s+/)).shift(),p=a.join(" "),i){case"format":u.format=a[0],u.version=a[1];break;case"comment":u.comments.push(p);break;case"element":o!==void 0&&u.elements.push(o),(o={}).name=a[0],o.count=parseInt(a[1]),o.properties=[];break;case"property":o.properties.push((s=a,l=this.propertyNameMapping,c=void 0,(c={type:s[0]}).type==="list"?(c.name=s[3],c.countType=s[1],c.itemType=s[2]):c.name=s[1],c.name in l&&(c.name=l[c.name]),c));break;default:console.log("unhandled",i,a)}}return o!==void 0&&u.elements.push(o),u},parseASCIINumber:function(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}},parseASCIIElement:function(e,t){for(var n=t.split(/\s+/),r={},o=0;o<e.length;o++)if(e[o].type==="list"){for(var i=[],a=this.parseASCIINumber(n.shift(),e[o].countType),s=0;s<a;s++)i.push(this.parseASCIINumber(n.shift(),e[o].itemType));r[e[o].name]=i}else r[e[o].name]=this.parseASCIINumber(n.shift(),e[o].type);return r},parseASCII:function(e){var t,n=new on,r=this.parseHeader(e),o="";(t=/end_header\s([\s\S]*)$/.exec(e))!==null&&(o=t[1]);var i=o.split(`
`),a=0,s=0;n.useColor=!1;for(var l=0;l<i.length;l++){var c=i[l];if((c=c.trim())!==""){s>=r.elements[a].count&&(a++,s=0);var u=this.parseASCIIElement(r.elements[a].properties,c);this.handleElement(n,r.elements[a].name,u),s++}}return this.postProcess(n)},postProcess:function(e){if(e.useColor){for(var t=0;t<e.faces.length;t++)e.faces[t].vertexColors=[e.colors[e.faces[t].a],e.colors[e.faces[t].b],e.colors[e.faces[t].c]];e.elementsNeedUpdate=!0}return e.computeBoundingSphere(),e},handleElement:function(e,t,n){if(t==="vertex"){if(e.vertices.push(new ee(n.x,n.y,n.z)),"red"in n&&"green"in n&&"blue"in n){e.useColor=!0;var r=new vt;r.setRGB(n.red/255,n.green/255,n.blue/255),e.colors.push(r)}}else if(t==="face"){var o=n.vertex_indices;o.length===3?e.faces.push(new cm(o[0],o[1],o[2])):o.length===4&&e.faces.push(new cm(o[0],o[1],o[3]),new cm(o[1],o[2],o[3]))}},binaryRead:function(e,t,n,r){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,r),2];case"uint16":case"ushort":return[e.getUint16(t,r),2];case"int32":case"int":return[e.getInt32(t,r),4];case"uint32":case"uint":return[e.getUint32(t,r),4];case"float32":case"float":return[e.getFloat32(t,r),4];case"float64":case"double":return[e.getFloat64(t,r),8]}},binaryReadElement:function(e,t,n,r){for(var o,i={},a=0,s=0;s<n.length;s++)if(n[s].type==="list"){var l=[],c=(o=this.binaryRead(e,t+a,n[s].countType,r))[0];a+=o[1];for(var u=0;u<c;u++)o=this.binaryRead(e,t+a,n[s].itemType,r),l.push(o[0]),a+=o[1];i[n[s].name]=l}else o=this.binaryRead(e,t+a,n[s].type,r),i[n[s].name]=o[0],a+=o[1];return[i,a]},parseBinary:function(e){for(var t,n=new on,r=this.parseHeader(this.bin2str(e)),o=r.format==="binary_little_endian",i=new DataView(e,r.headerLength),a=0,s=0;s<r.elements.length;s++)for(var l=0;l<r.elements[s].count;l++){a+=(t=this.binaryReadElement(i,a,r.elements[s].properties,o))[1];var c=t[0];this.handleElement(n,r.elements[s].name,c)}return this.postProcess(n)}};var jPt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0}};return n.type.get=function(){return"ply"},t.prototype.getLoader=function(){return new gB},Object.defineProperties(t.prototype,n),t}(Jpe);rn.add("ply",jPt);var zPt=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.delimiter=se(i.delimiter,","),this.comment=se(i.comment,"#"),this.columnNames=se(i.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"csv"},n.__objName.get=function(){return"table"},t.prototype._parse=function(){var r=this,o=this.table.data,i=new RegExp("\\s*"+this.delimiter+"\\s*"),a=0;this.streamer.eachChunkOfLines(function(s){for(var l=s.length,c=0;c<l;++c){var u=s[c].trim();if(!u.startsWith(r.comment)){var d=u.split(i);a===0?r.table.columnNames=d:u&&o.push(d),++a}}})},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("csv",zPt);var HPt=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.string=se(i.string,!1),this.json={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return n.type.get=function(){return"json"},n.__objName.get=function(){return"json"},n.isJson.get=function(){return!0},t.prototype._parse=function(){this.streamer.isBinary()||this.string?this.json.data=JSON.parse(this.streamer.asText()):this.json.data=this.streamer.data},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("json",HPt);var VPt=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.msgpack={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"msgpack"},n.__objName.get=function(){return"msgpack"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("MsgpackParser._parse "+this.name),this.msgpack.data=qpe(this.streamer.data),ot&&Ze.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("msgpack",VPt);var UPt=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.netcdf={name:this.name,path:this.path,data:void 0}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return n.type.get=function(){return"netcdf"},n.__objName.get=function(){return"netcdf"},n.isBinary.get=function(){return!0},t.prototype._parse=function(){ot&&Ze.time("NetcdfParser._parse "+this.name),this.netcdf.data=new Ox(this.streamer.data),ot&&Ze.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("netcdf",UPt);var RY=function(e){function t(r,o){e.call(this,r,o),this.text={name:this.name,path:this.path,data:""}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0}};return n.type.get=function(){return"text"},n.__objName.get=function(){return"text"},t.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(t.prototype,n),t}(Qi);rn.add("txt",RY),rn.add("text",RY);var GPt=/^['"]|['"]$/g,WPt=/^<([\w-:.]+)\s*/,qPt=/^([^<]*)/,XPt=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function KPt(e){return e=e.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:t(),root:n()};function t(){if(o(/^<\?xml\s*/)){for(var s={attributes:{}};!i()&&!a("?>");){var l=r();if(!l)return s;s.attributes[l.name]=l.value}return o(/\?>\s*/),s}}function n(){var s=o(WPt);if(s){for(var l,c={name:s[1],attributes:{},children:[]};!(i()||a(">")||a("?>")||a("/>"));){var u=r();if(!u)return c;c.attributes[u.name]=u.value}if(o(/^\s*\/>\s*/))return c;for(o(/\??>\s*/),c.content=function(){var d=o(qPt);return d?d[1]:""}();l=n();)c.children.push(l);return o(/^<\/[\w-:.]+>\s*/),c}}function r(){var s,l=o(XPt);if(l)return{name:l[1],value:(s=l[2],s.replace(GPt,""))}}function o(s){var l=e.match(s);if(l)return e=e.slice(l[0].length),l}function i(){return e.length===0}function a(s){return e.indexOf(s)===0}}var ehe=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.useDomParser=se(i.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return n.type.get=function(){return"xml"},n.__objName.get=function(){return"xml"},n.isXml.get=function(){return!0},t.prototype.__xmlParser=function(r){return KPt(r)},t.prototype.__domParser=function(r){return new window.DOMParser().parseFromString(r,"text/xml")},t.prototype._parse=function(){ot&&Ze.time("XmlParser._parse "+this.name),this.useDomParser?this.streamer.data instanceof Document?this.xml.data=this.streamer.data:this.xml.data=this.__domParser(this.streamer.asText()):this.xml.data=this.__xmlParser(this.streamer.asText()),ot&&Ze.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(Qi);function Ro(e,t){var n=e.getNamedItem(t);return n!==null?n.value:""}function LY(e,t,n){n===void 0&&(n=!1);var r=Ro(e,"icode").trim(),o=Ro(e,"chain").trim(),i=Ro(e,"altcode"),a=Ro(e,"resnum");return r&&(a+="^"+r),o&&(a+=":"+o),t&&(a+="."+t),n&&i.trim()&&(a+="%"+i),a+="/"+(parseInt(Ro(e,"model"))-1)}function YPt(e){var t=Ro(e,"chain").trim(),n="["+Ro(e,"rescode")+"]"+Ro(e,"resnum");return t&&(n+=":"+t),n}function xD(e,t,n){e[t]===void 0?e[t]=n:e[t]|=n}function wD(e,t){return e!==null&&e.value===t}function ZPt(e,t,n){for(var r=0,o=t.getElementsByTagName("clash"),i=0,a=o.length;i<a;++i)if(e[Ro(o[i].attributes,"cid")]){r+=1;break}return t.getElementsByTagName("angle-outlier").length>0&&(r+=1),t.getElementsByTagName("bond-outlier").length>0&&(r+=1),t.getElementsByTagName("plane-outlier").length>0&&(r+=1),wD(n.getNamedItem("rota"),"OUTLIER")&&(r+=1),wD(n.getNamedItem("rama"),"OUTLIER")&&(r+=1),wD(n.getNamedItem("RNApucker"),"outlier")&&(r+=1),r}rn.add("xml",ehe);var MM=function(e,t){this.name=e,this.path=t,this.rsrzDict={},this.rsccDict={},this.rciDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},$Y={type:{configurable:!0}};$Y.type.get=function(){return"validation"},MM.prototype.fromXml=function(e){ot&&Ze.time("Validation.fromXml");var t=this.rsrzDict,n=this.rsccDict,r=this.rciDict,o=this.clashDict,i=this.clashArray,a=this.geoDict,s=this.geoAtomDict,l=this.atomDict,c=e.getElementsByTagName("Entry");if(c.length===1){var u=c[0].getElementsByTagName("chemical_shift_list");if(u.length===1)for(var d=u[0].getElementsByTagName("random_coil_index"),f=0,p=d.length;f<p;++f){var h=d[f].attributes;r[YPt(h)]=parseFloat(Ro(h,"value"))}}var g=e.getElementsByTagName("ModelledSubgroup"),v={},m=[];ot&&Ze.time("Validation.fromXml#clashDict");for(var b=0,x=g.length;b<x;++b){var y=g[b],w=y.attributes,_=LY(w);w.getNamedItem("rsrz")!==null&&(t[_]=parseFloat(Ro(w,"rsrz"))),w.getNamedItem("rscc")!==null&&(n[_]=parseFloat(Ro(w,"rscc")));var S=e.createAttribute("sele");S.value=_,w.setNamedItem(S);for(var P=y.getElementsByTagName("clash"),M=0,I=P.length;M<I;++M){var O=P[M].attributes,L=Ro(O,"atom");if(u8(L)!=="H"){var R=Ro(O,"cid"),T=LY(w,L,!0);if(l[T]=!0,v[R]===void 0)v[R]={sele1:T,res1:_};else{var E=v[R];E.res1!==_&&(E.sele2=T,E.res2=_,m.push(E.res1,_),o[R]=E,i.push(E))}}}}ot&&Ze.timeEnd("Validation.fromXml#clashDict");for(var k=0,B=g.length;k<B;++k){var $=g[k],j=$.attributes,V=Ro(j,"sele");if(Ro(j,"seq")!=="."){var q=ZPt(o,$,j);q>0&&(a[V]=q)}else{var Q=$.getElementsByTagName("clash"),H=$.getElementsByTagName("mog-bond-outlier"),X=$.getElementsByTagName("mog-angle-outlier");if(H.length>0||X.length>0||Q.length>0){var J={};s[V]=J;for(var G=0,ie=Q.length;G<ie;++G){var Y=Q[G].attributes;o[Ro(Y,"cid")]&&xD(J,Ro(Y,"atom"),1)}for(var le=0,te=H.length;le<te;++le)Ro(H[le].attributes,"atoms").split(",").forEach(function(pe){xD(J,pe,2)});for(var re=0,ae=X.length;re<ae;++re)Ro(X[re].attributes,"atoms").split(",").forEach(function(pe){xD(J,pe,4)})}}}this.clashSele=m.length?m.join(" OR "):"NONE",ot&&Ze.timeEnd("Validation.fromXml")},MM.prototype.getClashData=function(e){ot&&Ze.time("Validation.getClashData");var t=e||{},n=t.structure,r=n.atomSet,o=new vt(se(t.color,"#f0027f")),i=n.getAtomProxy(),a=n.getAtomProxy(),s=new ee,l=new ee,c=new ee,u=this.clashArray,d=u.length,f=new Float32Array(3*d),p=new Float32Array(3*d),h=yr(d,o.r,o.g,o.b),g=new Float32Array(d),v=new Float32Array(d);ot&&Ze.time("Validation.getClashData#atomDict");var m=this.atomDict;n.eachAtom(function(x){var y=function(w){var _=w.inscode,S=w.chainname,P=w.atomname,M=w.altloc,I=w.resno+"";return _&&(I+="^"+_),S&&(I+=":"+S),P&&(I+="."+P),M&&(I+="%"+M),I+"/"+w.modelIndex}(x);m[y]===!0&&(m[y]=x.index)}),ot&&Ze.timeEnd("Validation.getClashData#atomDict");var b=0;return u.forEach(function(x,y){if(i.index=m[x.sele1],a.index=m[x.sele2],i.index!==void 0&&a.index!==void 0&&r.isSet(i.index,a.index)){s.subVectors(a,i).setLength(i.vdw),l.copy(i).add(s),s.subVectors(i,a).setLength(a.vdw),c.copy(a).add(s);var w=i.distanceTo(a)/2,_=Math.sqrt(i.vdw*i.vdw-w*w),S=Math.sqrt(a.vdw*a.vdw-w*w);l.toArray(f,3*b),c.toArray(p,3*b),g[b]=(_+S)/2,v[b]=y,++b}}),ot&&Ze.timeEnd("Validation.getClashData"),{position1:f.subarray(0,3*b),position2:p.subarray(0,3*b),color:h.subarray(0,3*b),color2:h.subarray(0,3*b),radius:g.subarray(0,b),picking:new PSt(v.subarray(0,b),this,n)}},Object.defineProperties(MM.prototype,$Y);var QPt=function(e){function t(r,o){var i=o||{};e.call(this,r,i),this.useDomParser=!0,this.validation=new MM(this.name,this.path)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={__objName:{configurable:!0},isXml:{configurable:!0}};return n.__objName.get=function(){return"validation"},n.isXml.get=function(){return!0},t.prototype._parse=function(){e.prototype._parse.call(this),ot&&Ze.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),ot&&Ze.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(t.prototype,n),t}(ehe);function the(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}function vb(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]}function vB(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;n!==0;){n-=a=n>2e3?2e3:n;do i=i+(o=o+t[r++]|0)|0;while(--a);o%=65521,i%=65521}return o|i<<16|0}rn.add("validation",QPt);var JPt=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();function zc(e,t,n,r){var o=JPt,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}function eMt(e,t){var n,r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I;n=e.state,r=e.next_in,M=e.input,o=r+(e.avail_in-5),i=e.next_out,I=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{h<15&&(p+=M[r++]<<h,h+=8,p+=M[r++]<<h,h+=8),x=g[p&m];t:for(;;){if(p>>>=y=x>>>24,h-=y,(y=x>>>16&255)===0)I[i++]=65535&x;else{if(!(16&y)){if(!(64&y)){x=g[(65535&x)+(p&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&x,(y&=15)&&(h<y&&(p+=M[r++]<<h,h+=8),w+=p&(1<<y)-1,p>>>=y,h-=y),h<15&&(p+=M[r++]<<h,h+=8,p+=M[r++]<<h,h+=8),x=v[p&b];n:for(;;){if(p>>>=y=x>>>24,h-=y,!(16&(y=x>>>16&255))){if(!(64&y)){x=v[(65535&x)+(p&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&x,h<(y&=15)&&(p+=M[r++]<<h,(h+=8)<y&&(p+=M[r++]<<h,h+=8)),(_+=p&(1<<y)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=y,h-=y,_>(y=i-a)){if((y=_-y)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,P=f,d===0){if(S+=c-y,y<w){w-=y;do I[i++]=f[S++];while(--y);S=i-_,P=I}}else if(d<y){if(S+=c+d-y,(y-=d)<w){w-=y;do I[i++]=f[S++];while(--y);if(S=0,d<w){w-=y=d;do I[i++]=f[S++];while(--y);S=i-_,P=I}}}else if(S+=d-y,y<w){w-=y;do I[i++]=f[S++];while(--y);S=i-_,P=I}for(;w>2;)I[i++]=P[S++],I[i++]=P[S++],I[i++]=P[S++],w-=3;w&&(I[i++]=P[S++],w>1&&(I[i++]=P[S++]))}else{S=i-_;do I[i++]=I[S++],I[i++]=I[S++],I[i++]=I[S++],w-=3;while(w>2);w&&(I[i++]=I[S++],w>1&&(I[i++]=I[S++]))}break}}break}}while(r<o&&i<s);r-=w=h>>3,p&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=p,n.bits=h}var tMt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nMt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rMt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],oMt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ix(e,t,n,r,o,i,a,s){var l,c,u,d,f,p,h,g,v,m=s.bits,b=0,x=0,y=0,w=0,_=0,S=0,P=0,M=0,I=0,O=0,L=null,R=0,T=new Uint16Array(16),E=new Uint16Array(16),k=null,B=0;for(b=0;b<=15;b++)T[b]=0;for(x=0;x<r;x++)T[t[n+x]]++;for(_=m,w=15;w>=1&&T[w]===0;w--);if(_>w&&(_=w),w===0)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(y=1;y<w&&T[y]===0;y++);for(_<y&&(_=y),M=1,b=1;b<=15;b++)if(M<<=1,(M-=T[b])<0)return-1;if(M>0&&(e===0||w!==1))return-1;for(E[1]=0,b=1;b<15;b++)E[b+1]=E[b]+T[b];for(x=0;x<r;x++)t[n+x]!==0&&(a[E[t[n+x]]++]=x);if(e===0?(L=k=a,p=19):e===1?(L=tMt,R-=257,k=nMt,B-=257,p=256):(L=rMt,k=oMt,p=-1),O=0,x=0,b=y,f=i,S=_,P=0,u=-1,d=(I=1<<_)-1,e===1&&I>852||e===2&&I>592)return 1;for(;;){h=b-P,a[x]<p?(g=0,v=a[x]):a[x]>p?(g=k[B+a[x]],v=L[R+a[x]]):(g=96,v=0),l=1<<b-P,y=c=1<<S;do o[f+(O>>P)+(c-=l)]=h<<24|g<<16|v|0;while(c!==0);for(l=1<<b-1;O&l;)l>>=1;if(l!==0?(O&=l-1,O+=l):O=0,x++,--T[b]==0){if(b===w)break;b=t[n+a[x]]}if(b>_&&(O&d)!==u){for(P===0&&(P=_),f+=y,M=1<<(S=b-P);S+P<w&&!((M-=T[S+P])<=0);)S++,M<<=1;if(I+=1<<S,e===1&&I>852||e===2&&I>592)return 1;o[u=O&d]=_<<24|S<<16|f-i|0}}return O!==0&&(o[f+O]=b-P<<24|64<<16|0),s.bits=_,0}function DY(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function iMt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function aMt(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(n){var r;return n&&n.state?(r=n.state,n.total_in=n.total_out=r.total=0,n.msg="",r.wrap&&(n.adler=1&r.wrap),r.mode=1,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,0):-2}(e)):-2}function sMt(e,t){var n,r;return e?(r=new iMt,e.state=r,r.window=null,n=function(o,i){var a,s;return o&&o.state?(s=o.state,i<0?(a=0,i=-i):(a=1+(i>>4),i<48&&(i&=15)),i&&(i<8||i>15)?-2:(s.window!==null&&s.wbits!==i&&(s.window=null),s.wrap=a,s.wbits=i,aMt(o))):-2}(e,t),n!==0&&(e.state=null),n):-2}var _D,SD,FY=!0;function lMt(e){if(FY){var t;for(_D=new Int32Array(512),SD=new Int32Array(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ix(1,e.lens,0,288,_D,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ix(2,e.lens,0,32,SD,0,e.work,{bits:5}),FY=!1}e.lencode=_D,e.lenbits=9,e.distcode=SD,e.distbits=5}function nhe(e,t,n,r){var o,i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(vb(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>r&&(o=r),vb(i.window,t,n-r,o,i.wnext),(r-=o)?(vb(i.window,t,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0}function cMt(e,t){var n,r,o,i,a,s,l,c,u,d,f,p,h,g,v,m,b,x,y,w,_,S,P,M,I=0,O=new Uint8Array(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return-2;(n=e.state).mode===12&&(n.mode=13),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,f=l,S=0;e:for(;;)switch(n.mode){case 1:if(n.wrap===0){n.mode=13;break}for(;u<16;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(2&n.wrap&&c===35615){n.check=0,O[0]=255&c,O[1]=c>>>8&255,n.check=zc(n.check,O,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&c)!=8){e.msg="unknown compression method",n.mode=30;break}if(u-=4,_=8+(15&(c>>>=4)),n.wbits===0)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,e.adler=n.check=1,n.mode=512&c?10:12,c=0,u=0;break;case 2:for(;u<16;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(n.flags=c,(255&n.flags)!=8){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=zc(n.check,O,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,n.check=zc(n.check,O,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=zc(n.check,O,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=zc(n.check,O,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),vb(n.head.extra,r,i,p,_)),512&n.flags&&(n.check=zc(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(s===0)break e;p=0;do _=r[i+p++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_));while(_&&p<s);if(512&n.flags&&(n.check=zc(n.check,r,p,i)),s-=p,i+=p,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(s===0)break e;p=0;do _=r[i+p++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_));while(_&&p<s);if(512&n.flags&&(n.check=zc(n.check,r,p,i)),s-=p,i+=p,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}e.adler=n.check=DY(c),c=0,u=0,n.mode=11;case 11:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,2;e.adler=n.check=1,n.mode=12;case 12:if(t===5||t===6)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(lMt(n),n.mode=20,t===6){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===6)break e;case 15:n.mode=16;case 16:if(p=n.length){if(p>s&&(p=s),p>l&&(p=l),p===0)break e;vb(o,r,i,p,a),s-=p,i+=p,l-=p,a+=p,n.length-=p;break}n.mode=12;break;case 17:for(;u<14;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.lens[L[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},S=Ix(0,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,S){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(I=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&I,!((v=I>>>24)<=u);){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(b<16)c>>>=v,u-=v,n.lens[n.have++]=b;else{if(b===16){for(M=v+2;u<M;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(b===17){for(M=v+3;u<M;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}u-=v,_=0,p=3+(7&(c>>>=v)),c>>>=3,u-=3}else{for(M=v+7;u<M;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}u-=v,_=0,p=11+(127&(c>>>=v)),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=_}}if(n.mode===30)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,P={bits:n.lenbits},S=Ix(1,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,S){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},S=Ix(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,S){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===6)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,eMt(e,f),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;m=(I=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&I,!((v=I>>>24)<=u);){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(m&&!(240&m)){for(x=v,y=m,w=b;m=(I=n.lencode[w+((c&(1<<x+y)-1)>>x)])>>>16&255,b=65535&I,!(x+(v=I>>>24)<=u);){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}c>>>=x,u-=x,n.back+=x}if(c>>>=v,u-=v,n.back+=v,n.length=b,m===0){n.mode=26;break}if(32&m){n.back=-1,n.mode=12;break}if(64&m){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(M=n.extra;u<M;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(I=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&I,!((v=I>>>24)<=u);){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(!(240&m)){for(x=v,y=m,w=b;m=(I=n.distcode[w+((c&(1<<x+y)-1)>>x)])>>>16&255,b=65535&I,!(x+(v=I>>>24)<=u);){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}c>>>=x,u-=x,n.back+=x}if(c>>>=v,u-=v,n.back+=v,64&m){e.msg="invalid distance code",n.mode=30;break}n.offset=b,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(M=n.extra;u<M;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(l===0)break e;if(p=f-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=o,h=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do o[a++]=g[h++];while(--p);n.length===0&&(n.mode=21);break;case 26:if(l===0)break e;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(s===0)break e;s--,c|=r[i++]<<u,u+=8}if(f-=l,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?zc(n.check,o,f,a-f):vB(n.check,o,f,a-f)),f=l,(n.flags?c:DY(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(s===0)break e;s--,c+=r[i++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}c=0,u=0}n.mode=29;case 29:S=1;break e;case 30:S=-3;break e;case 31:return-4;default:return-2}return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<30&&(n.mode<27||t!==4))&&nhe(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?zc(n.check,o,f,e.next_out-f):vB(n.check,o,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(d===0&&f===0||t===4)&&S===0&&(S=-5),S}function uMt(e,t){var n,r=t.length;return e&&e.state?(n=e.state).wrap!==0&&n.mode!==11?-2:n.mode===11&&vB(1,t,r,0)!==n.check?-3:nhe(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2}var rhe=!0,ohe=!0;try{String.fromCharCode.apply(null,[0])}catch{rhe=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ohe=!1}for(var s_=new Uint8Array(256),Sf=0;Sf<256;Sf++)s_[Sf]=Sf>=252?6:Sf>=248?5:Sf>=240?4:Sf>=224?3:Sf>=192?2:1;function dMt(e){var t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)(64512&(n=e.charCodeAt(o)))==55296&&o+1<a&&(64512&(r=e.charCodeAt(o+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),o++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)(64512&(n=e.charCodeAt(o)))==55296&&o+1<a&&(64512&(r=e.charCodeAt(o+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t}function fMt(e,t){var n,r,o,i,a=t||e.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((o=e[n++])<128)s[r++]=o;else if((i=s_[o])>4)s[r++]=65533,n+=i-1;else{for(o&=i===2?31:i===3?15:7;i>1&&n<a;)o=o<<6|63&e[n++],i--;i>1?s[r++]=65533:o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|1023&o)}return function(l,c){if(c<65537&&(l.subarray&&ohe||!l.subarray&&rhe))return String.fromCharCode.apply(null,the(l,c));for(var u="",d=0;d<c;d++)u+=String.fromCharCode(l[d]);return u}(s,r)}function pMt(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+s_[e[n]]>t?n:t}s_[254]=s_[254]=1;var hMt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function mMt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function gMt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NY=Object.prototype.toString;function Zv(e){if(!(this instanceof Zv))return new Zv(e);this.options=function(a){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var l=s.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}}return a}({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mMt,this.strm.avail_out=0;var n,r,o,i=sMt(this.strm,t.windowBits);if(i!==0)throw new Error(hMt[i]);this.header=new gMt,n=this.strm,r=this.header,n&&n.state&&(!(2&(o=n.state).wrap)||(o.head=r,r.done=!1))}Zv.prototype.push=function(e,t){var n,r,o,i,a,s,l=this.strm,c=this.options.chunkSize,u=this.options.dictionary,d=!1;if(this.ended)return!1;r=t===~~t?t:t===!0?4:0,typeof e=="string"?l.input=function(f){for(var p=new Uint8Array(f.length),h=0,g=p.length;h<g;h++)p[h]=f.charCodeAt(h);return p}(e):NY.call(e)==="[object ArrayBuffer]"?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(l.avail_out===0&&(l.output=new Uint8Array(c),l.next_out=0,l.avail_out=c),(n=cMt(l,0))===2&&u&&(s=typeof u=="string"?dMt(u):NY.call(u)==="[object ArrayBuffer]"?new Uint8Array(u):u,n=uMt(this.strm,s)),n===-5&&d===!0&&(n=0,d=!1),n!==1&&n!==0)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(l.avail_out!==0&&n!==1&&(l.avail_in!==0||r!==4&&r!==2)||(this.options.to==="string"?(o=pMt(l.output,l.next_out),i=l.next_out-o,a=fMt(l.output,o),l.next_out=i,l.avail_out=c-i,i&&vb(l.output,l.output,o,i,0),this.onData(a)):this.onData(the(l.output,l.next_out)))),l.avail_in===0&&l.avail_out===0&&(d=!0)}while((l.avail_in>0||l.avail_out===0)&&n!==1);return n===1&&(r=4),r===4?(n=function(f){if(!f||!f.state)return-2;var p=f.state;return p.window&&(p.window=null),f.state=null,0}(this.strm),this.onEnd(n),this.ended=!0,n===0):r!==2||(this.onEnd(0),l.avail_out=0,!0)},Zv.prototype.onData=function(e){this.chunks.push(e)},Zv.prototype.onEnd=function(e){e===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=function(t){var n,r,o,i,a,s;for(o=0,n=0,r=t.length;n<r;n++)o+=t[n].length;for(s=new Uint8Array(o),i=0,n=0,r=t.length;n<r;n++)a=t[n],s.set(a,i),i+=a.length;return s}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r8.add("gz",function(e){var t;e instanceof ArrayBuffer&&(e=new Uint8Array(e));try{t=function(n,r){var o=new Zv(r);if(o.push(n,!0),o.err)throw o.msg;return o.result}(e)}catch{t=e}return t});var E0=function(){},CD="//mmtf.rcsb.org/v1.0/full/",vMt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var r,o=Zo(n),i=o.name.substr(0,4);return!["pdb","cif"].includes(o.ext)||o.compressed!==!1&&o.compressed!=="gz"?o.ext==="mmtf"?r=o.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+i:CD+i:(o.ext&&Ze.warn("unsupported ext",o.ext),r=CD+i):r="//files.rcsb.org/download/"+o.path,Q6()+r},t.prototype.getExt=function(n){var r=Zo(n).ext;return r||"mmtf"},t}(E0);gp.add("rcsb",new vMt);var BY="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/",bMt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var r,o=Zo(n),i=o.name;return o.ext&&o.ext!=="sdf"&&Ze.warn("unsupported ext",o.ext),r=BY+i+"/SDF?record_type=3d",Q6()+r},t.prototype.getExt=function(n){var r=Zo(n).ext;return r||"sdf"},t}(E0);gp.add("pubchem",new bMt);var PD=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){return n},t.prototype.getExt=function(n){return Zo(n).ext},t}(E0);gp.add("ftp",new PD),gp.add("http",new PD),gp.add("https",new PD);var jY="//alphafold.ebi.ac.uk/files/AF-",yMt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var r,o=Zo(n),i=o.name;return o.ext&&o.ext!=="pdb"&&Ze.warn("unsupported AF ext",o.ext),r=jY+i+"-F1-model_v2.pdb",Q6()+r},t.prototype.getExt=function(n){var r=Zo(n).ext;return r||"pdb"},t}(E0);gp.add("alphafold",new yMt);var xMt=/^((http|https|ftp):)*\/\//,wMt=function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUrl=function(n){var r,o,i,a,s=Zo(n),l=this.baseUrl+s.path;return xMt.test(this.baseUrl)||(r=l,o=window.location,i=o.pathname,a=i.substring(0,i.lastIndexOf("/")+1),l=o.origin+a+r),l},t.prototype.getExt=function(n){return Zo(n).ext},t}(E0);(function(e){function t(n){n===void 0&&(n=""),e.call(this),this.baseUrl=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getListing=function(n){n===void 0&&(n="");var r=this.baseUrl+"dir/"+n;return r[r.length-1]!=="/"&&(r+="/"),qN(r,{ext:"json"}).then(function(o){return{path:n,data:o.data}})},t.prototype.getUrl=function(n){var r=Zo(n);return this.baseUrl+"file/"+r.path+r.query},t.prototype.getCountUrl=function(n){var r=Zo(n);return this.baseUrl+"traj/numframes/"+r.path+r.query},t.prototype.getFrameUrl=function(n,r){var o=Zo(n);return this.baseUrl+"traj/frame/"+r+"/"+o.path+o.query},t.prototype.getFrameParams=function(n,r){return"atomIndices="+r.join(";")},t.prototype.getPathUrl=function(n,r){var o=Zo(n);return this.baseUrl+"traj/path/"+r+"/"+o.path+o.query},t.prototype.getExt=function(n){return Zo(n).ext},t})(E0);function zY(e,t){return{type:"integer",max:e,min:t}}function ov(e,t,n){return{type:"number",precision:e,max:t,min:n}}function iv(e,t,n){return{type:"range",step:e,max:t,min:n}}function P1(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return{type:"select",options:e.reduce(function(n,r){var o;return Object.assign(Object.assign({},n),((o={})[r]=r,o))},{})}}P1("auto","low","medium","high"),iv(1,5,-1),ov(1,10,0),ov(1,10,0),ov(1,10,0),iv(1,100,0),iv(1,100,0),zY(200,0),P1("scene","camera"),P1("relative","absolute"),iv(1,100,0),iv(1,100,0),P1("perspective","orthographic","stereo"),ov(3,1,.01),iv(1,120,15),ov(2,10,0),ov(2,10,0),zY(1e4,-1),P1.apply(void 0,Object.keys(Ppe));window.Promise||(window.Promise=lo);gp.add("data",new wMt("https://files.rcsb.org/download/"));const _Mt=Wn(function({model:e}){const t=C.useRef([]),[n,r]=C.useState("cartoon"),[o,i]=C.useState([]),[a,s]=C.useState(),[l,c]=C.useState(!1),{msaview:u,nglSelection:d}=e,{selectedStructures:f,mouseCol:p}=u,h=M_(f),g=C.useCallback(v=>{if(v){const m=new $n(v);s(m)}},[]);return C.useEffect(()=>()=>a==null?void 0:a.dispose(),[a]),C.useEffect(()=>{!h.length||!a||(async()=>{window.addEventListener("resize",()=>{a.handleResize()});const v=await Promise.all(h.map(m=>a.loadFile(`data://${m.structure.pdb}.pdb`)));i(v),a.signals.hovered.add(m=>{var b;if(m&&(m.atom||m.bond)){const x=m.atom||m.closestBondAtom;u.setMouseoveredColumn(x.resno-((b=h[0])==null?void 0:b.structure.startPos),x.chainname,m.picker.structure.name)}})})()},[u,h,a]),C.useEffect(()=>{a&&(o.forEach(v=>{v.removeAllRepresentations(),v.addRepresentation(n,{sele:d})}),a.autoView())},[n,o,a,d]),C.useEffect(()=>{h.length&&!l&&o.forEach((v,m)=>{if(t.current.length&&v.removeAnnotation(t.current[m]),t.current=[],p!==void 0){const b=SMt(e,h[m].id,v.structure,p,h[0].structure.startPos);if(b){const x=v.structure.getAtomProxy();x.index=b.atomOffset,t.current.push(v.addAnnotation(x.positionToVector3(),b.qualifiedName()))}}a.viewer.requestRender()})},[e,p,h,a==null?void 0:a.viewer,o,l]),f.length?N.jsxs("div",{style:{padding:20},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx(fc,{onClick:()=>u.clearSelectedStructures(),variant:"contained",children:"Clear"}),N.jsx("div",{style:{width:20}}),N.jsxs(Ky,{value:n,onChange:v=>r(v.target.value),children:[N.jsx(dr,{value:"cartoon",children:"cartoon"}),N.jsx(dr,{value:"ball+stick",children:"ball+stick"})]}),N.jsx("div",{style:{width:20}}),N.jsx(cu,{variant:"outlined",label:"Selection",value:d,onChange:v=>e.setNGLSelection(v.target.value)})]}),N.jsx("div",{ref:g,style:{width:600,height:400},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)})]}):null});function SMt(e,t,n,r,o){const i=n.residueStore.count,a=n.getResidueProxy(),s=e.msaview.relativePxToBp(t,r);for(let l=0;l<i;++l)if(a.index=l,a.resno===s+o-1)return a}const CMt=new URLSearchParams(window.location.search),HY=CMt.get("data"),Ek=Jgt.create(HY?JSON.parse(HY):{msaview:{type:"MsaView"}});Ek.msaview.setWidth(window.innerWidth);let VY=0;Lee(Ek,e=>{const t=Date.now();if(t-VY>=1e3){VY=t;const n=new URL(window.document.URL);n.searchParams.set("data",JSON.stringify(e)),window.history.replaceState(null,"",n.toString())}});window.addEventListener("resize",()=>{Ek.msaview.setWidth(window.innerWidth)});const PMt=Wn(({model:e})=>{const{msaview:t}=e;return N.jsxs("div",{children:[N.jsx("div",{style:{border:"1px solid black",margin:20},children:N.jsx(pmt,{model:t})}),N.jsx(_Mt,{model:e})]})}),MMt=()=>{const e=Zj.createJBrowseTheme();return N.jsx(yj,{theme:e,children:N.jsx(PMt,{model:Ek})})};MD.createRoot(document.getElementById("root")).render(N.jsx(ke.StrictMode,{children:N.jsx(MMt,{})}));export{Pa as g,Ede as z};
