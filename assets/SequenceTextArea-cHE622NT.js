import{t as fi,v as Ju,x as Zu,y as v,z as Uo,H as ed,A as rn,E as td,j as i,G as nd,I as od,J as Y,K as Dt,e as qt,N as It,O as dt,P as gi,Q as rd,U as ld,V as Wo,W as sd,X as je,Y as mi,Z as h,$ as ne,a0 as hi,a1 as Kr,a2 as me,a3 as pi,a4 as id,a5 as Ci,a6 as Kt,a7 as qo,a8 as ad,a9 as Se,aa as cd,M as yt,ab as Vt,ac as ud,ad as yn,ae as Vl,af as dd,ag as fd,ah as gd,ai as Xr,aj as Te,ak as md,al as vn,am as hd,i as Nl,an as Bl,f as Yr,ao as pd,ap as Cd,aq as bd,ar as wd,as as Ul,C as Sd,l as yd,at as xd,B as bi,au as vd,av as Id,aw as Md,ax as Pd,ay as Ed,az as Fd,aA as kd,m as Dd,R as fn}from"./index-BZvdeOSn.js";import{C as Wl}from"./Checkbox2-DL_1bJbd.js";var wi={exports:{}},Td="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Od=Td,Hd=Od;function Si(){}function yi(){}yi.resetWarningCache=Si;var _d=function(){function e(r,o,l,s,a,c){if(c!==Hd){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yi,resetWarningCache:Si};return n.PropTypes=n,n};wi.exports=_d();var Ld=wi.exports;const V=fi(Ld);var Gd={},Ko={},Rd=Zu;Object.defineProperty(Ko,"__esModule",{value:!0});Ko.default=void 0;var $d=Rd(Ju()),Ad=v;Ko.default=(0,$d.default)((0,Ad.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var xi={},Qr={};const jd=Uo(ed);var mo={},ho={},ql;function vi(){if(ql)return ho;ql=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.useFeatureSequence=o;const e=i,t=rn(),n=td(),r=5e5;function o(l,s,a,c){const[u,d]=(0,e.useState)(),[f,g]=(0,e.useState)();return(0,e.useEffect)(()=>{var m,C;if(!l)return;const{assemblyManager:b,rpcManager:p}=(0,t.getSession)(l),S=((C=(m=l.view)===null||m===void 0?void 0:m.assemblyNames)===null||C===void 0?void 0:C[0])||"";async function x(D,E,H){const G=await b.waitForAssembly(S);if(!G)throw new Error("assembly not found");const A="getSequence",F=await p.call(A,"CoreGetFeatures",{adapterConfig:(0,n.getConf)(G,["sequence","adapter"]),sessionId:A,regions:[{start:D,end:E,refName:G.getCanonicalRefName(H),assemblyName:S}]}),[y]=F;return(y==null?void 0:y.get("seq"))||""}(async()=>{try{g(void 0);const{start:D,end:E,refName:H}=s;if(!c&&E-D>r)d({error:`Genomic sequence larger than ${r}bp, use "force load" button to display`});else{const G=D-a,A=E+a,F=await x(D,E,H),y=await x(Math.max(0,G),D,H),_=await x(E,A,H);d({seq:F,upstream:y,downstream:_})}}catch(D){console.error(D),g(D)}})()},[s,l,a,c]),{sequence:u,error:f}}return ho}var po={};const zd=Uo(nd),Ii=Uo(od);var Co={},Kl;function Vd(){if(Kl)return Co;Kl=1;var e=Y&&Y.__createBinding||(Object.create?function(g,m,C,b){b===void 0&&(b=C);var p=Object.getOwnPropertyDescriptor(m,C);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[C]}}),Object.defineProperty(g,b,p)}:function(g,m,C,b){b===void 0&&(b=C),g[b]=m[C]}),t=Y&&Y.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),n=Y&&Y.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var C in g)C!=="default"&&Object.prototype.hasOwnProperty.call(g,C)&&e(m,g,C);return t(m,g),m};Object.defineProperty(Co,"__esModule",{value:!0});const r=n(i),o=Dt,l=qt,s=It,a=dt,c=(0,s.makeStyles)()(g=>({formElt:{margin:g.spacing(3),width:400},dialogContent:{width:"80em"},root:{padding:4}}));function u(g){return r.default.createElement("div",null,r.default.createElement(o.TextField,{...g}))}function d({children:g}){return r.default.createElement("div",null,r.default.createElement(o.FormControl,null,g))}const f=(0,a.observer)(function({handleClose:g,model:m}){const{classes:C}=c(),{upperCaseCDS:b}=m,[p,S]=(0,r.useState)(`${m.intronBp}`),[x,D]=(0,r.useState)(`${m.upDownBp}`),E=!Number.isNaN(+p),H=!Number.isNaN(+x);return r.default.createElement(l.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{g()},title:"Feature sequence settings"},r.default.createElement(o.DialogContent,{className:C.dialogContent},r.default.createElement(u,{label:"Number of intronic bases around splice site to display",className:C.formElt,value:p,helperText:E?"":"Not a number",error:!E,onChange:G=>{S(G.target.value)}}),r.default.createElement(u,{label:"Number of bases up/down stream of feature to display",className:C.formElt,value:x,helperText:H?"":"Not a number",error:!H,onChange:G=>{D(G.target.value)}}),r.default.createElement(d,null,r.default.createElement(o.FormLabel,null,"Sequence capitalization"),r.default.createElement(o.RadioGroup,{value:b?"cds":"unchanged",onChange:G=>{m.setUpperCaseCDS(G.target.value==="cds")}},r.default.createElement(o.FormControlLabel,{value:"cds",control:r.default.createElement(o.Radio,{className:C.root,size:"small"}),label:"Capitalize CDS and lower case everything else"}),r.default.createElement(o.FormControlLabel,{value:"unchanged",control:r.default.createElement(o.Radio,{className:C.root,size:"small"}),label:"Capitalization from reference genome sequence"})))),r.default.createElement(o.DialogActions,null,r.default.createElement(o.Button,{onClick:()=>{m.setIntronBp(+p),m.setUpDownBp(+x),g()},disabled:!E||!H,color:"primary",variant:"contained"},"Submit"),r.default.createElement(o.Button,{onClick:()=>{g()},color:"secondary",autoFocus:!0,variant:"contained"},"Cancel")))});return Co.default=f,Co}var Xl;function Mi(){if(Xl)return po;Xl=1;var e=Y&&Y.__createBinding||(Object.create?function(m,C,b,p){p===void 0&&(p=b);var S=Object.getOwnPropertyDescriptor(C,b);(!S||("get"in S?!C.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return C[b]}}),Object.defineProperty(m,p,S)}:function(m,C,b,p){p===void 0&&(p=b),m[p]=C[b]}),t=Y&&Y.__setModuleDefault||(Object.create?function(m,C){Object.defineProperty(m,"default",{enumerable:!0,value:C})}:function(m,C){m.default=C}),n=Y&&Y.__importStar||function(m){if(m&&m.__esModule)return m;var C={};if(m!=null)for(var b in m)b!=="default"&&Object.prototype.hasOwnProperty.call(m,b)&&e(C,m,b);return t(C,m),C},r=Y&&Y.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(po,"__esModule",{value:!0});const o=n(i),l=dt,s=r(gi()),a=ld,c=r(rd),u=r(zd),d=r(Ii),f=(0,o.lazy)(()=>Promise.resolve().then(()=>n(Vd()))),g=(0,l.observer)(o.default.forwardRef(function({model:C,extraItems:b=[]},p){if(typeof p=="function")throw new Error("needs a non function ref");const[S,x]=(0,o.useState)(!1),{showCoordinatesSetting:D,showGenomicCoordsOption:E}=C;return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.default,{menuItems:[{label:"Copy plaintext",onClick:()=>{const H=p==null?void 0:p.current;H&&(0,s.default)(H.textContent||"",{format:"text/plain"})}},{label:"Copy HTML",onClick:()=>{const H=p==null?void 0:p.current;H&&(0,s.default)(H.outerHTML,{format:"text/html"})}},{label:"Download plaintext",onClick:()=>{const H=p==null?void 0:p.current;H&&(0,a.saveAs)(new Blob([H.textContent||""],{type:"text/plain;charset=utf-8"}),"sequence.txt")}},{label:"Download HTML",onClick:()=>{const H=p==null?void 0:p.current;H&&(0,a.saveAs)(new Blob([H.outerHTML||""],{type:"text/html;charset=utf-8"}),"sequence.html")}},...b,{label:"Show coordinates?",type:"subMenu",subMenu:[{label:"No coordinates",type:"radio",checked:D==="none",onClick:()=>{C.setShowCoordinates("none")}},{label:"Coordinates relative to feature start",type:"radio",checked:D==="relative",onClick:()=>{C.setShowCoordinates("relative")}},...E?[{label:"Coordinates relative to genome (only available for continuous genome based sequence types)",type:"radio",checked:D==="genomic",onClick:()=>{C.setShowCoordinates("genomic")}}]:[]]},{label:"Settings",icon:d.default,onClick:()=>{x(!0)}}]},o.default.createElement(u.default,null)),S?o.default.createElement(f,{model:C,handleClose:()=>{x(!1)}}):null)}));return po.default=g,po}var bo={},Yl;function Pi(){if(Yl)return bo;Yl=1;var e=Y&&Y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(i),n=Dt,r=dt,l=(0,It.makeStyles)()({formControl:{margin:0,marginLeft:4}}),s=(0,r.observer)(function({model:a}){const{classes:c}=l(),{intronBp:u,upDownBp:d,mode:f,hasCDS:g,hasExonOrCDS:m}=a;return t.default.createElement(n.FormControl,{className:c.formControl},t.default.createElement(n.Select,{size:"small",value:f,onChange:C=>{a.setMode(C.target.value)}},Object.entries({...g?{cds:"CDS"}:{},...g?{protein:"Protein"}:{},...m?{cdna:"cDNA"}:{},...m?{gene:"Genomic w/ full introns"}:{},...m?{gene_updownstream:`Genomic w/ full introns +/- ${d}bp up+down stream`}:{},...m?{gene_collapsed_intron:`Genomic w/ ${u}bp intron`}:{},...m?{gene_updownstream_collapsed_intron:`Genomic w/ ${u}bp intron +/- ${d}bp up+down stream `}:{},...m?{}:{genomic:"Genomic"},...m?{}:{genomic_sequence_updownstream:`Genomic +/- ${d}bp up+down stream`}}).map(([C,b])=>t.default.createElement(n.MenuItem,{key:C,value:C},b))))});return bo.default=s,bo}var wo={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.stitch=Nd;Mt.dedupe=Bd;Mt.revlist=Ud;Mt.calculateUTRs=Wd;Mt.calculateUTRs2=qd;Mt.ellipses=Kd;function Nd(e,t){return e.map(n=>t.slice(n.start,n.end)).join("")}function Ql(e){return`${e.start}-${e.end}`}function Bd(e){return e.filter((t,n,r)=>!n||Ql(t)!==Ql(r[n-1]))}function Ud(e,t){return e.map(n=>({...n,start:t-n.end,end:t-n.start})).sort((n,r)=>n.start-r.start)}function Wd(e,t){if(!e.length)return[];const n=e.at(0),r=e.at(-1),o=t.findIndex(d=>d.end>=n.start&&d.start<=n.start),l=t.findIndex(d=>d.end>=r.end&&d.start<=r.end),s=t[l],a=t[o],c=[...t.slice(0,o),{start:a.start,end:n.start}].map(d=>({...d,type:"five_prime_UTR"})),u=[{start:r.end,end:s.end},...t.slice(l+1)].map(d=>({...d,type:"three_prime_UTR"}));return[...c,...u]}function qd(e,t){if(!e.length)return[];const n=e.at(0),r=e.at(-1),o=[{start:t.start,end:n.start}].map(s=>({...s,type:"five_prime_UTR"})),l=[{start:r.end,end:t.end}].map(s=>({...s,type:"three_prime_UTR"}));return[...o,...l]}function Kd(e){return e.length>20?`${e.slice(0,20)}...`:e}var So={},Qe={},Jl;function Xo(){if(Jl)return Qe;Jl=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.genomeColor=Qe.updownstreamColor=Qe.cdsColor=Qe.proteinColor=Qe.utrColor=Qe.intronColor=void 0,Qe.splitString=e,Qe.intronColor=void 0,Qe.utrColor="rgb(200,240,240)",Qe.proteinColor="rgb(220,160,220)",Qe.cdsColor="rgb(220,220,180)",Qe.updownstreamColor="rgba(250,200,200)",Qe.genomeColor="rgb(200,280,200)";function e({str:t,charactersPerRow:n,showCoordinates:r,currRemainder:o=0,splitSize:l=10}){var s;const a=Math.ceil(t.length/n),c=new Array(a);let u=o%10,d=0,f=0;for(;d<a+1;++d){const g=d===0?n-o:n,m=t.slice(f,f+g);if(!m)break;if(r){let C="";for(let b=0,p=u;b<m.length;b++,p++)p%l===0&&(C+=" ",p=0),C+=m[b];C&&(c[d]=C)}else c[d]=m;u=0,f+=g}return{segments:c,remainder:((((s=c.at(-1))===null||s===void 0?void 0:s.replaceAll(" ","").length)||0)+(d<2?o:0))%n}}return Qe}var yo={},Zl;function Yo(){if(Zl)return yo;Zl=1;var e=Y&&Y.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(i),r=(0,dt.observer)(function({chunks:o,start:l,color:s,strand:a=1,coordStart:c=l,model:u}){const{charactersPerRow:d,showCoordinates:f}=u;return o.map((g,m)=>{var C;const b=c-l%d,p=m===0&&l%d===0||m>0?`${`${b+m*a*d}`.padStart(4)}   `:"",S=m===o.length-1&&(((C=o.at(-1))===null||C===void 0?void 0:C.replaceAll(" ","").length)||0)+(m===0?l%d:0)!==d?null:f?` 
`:"";return t.default.createElement(t.default.Fragment,{key:`${g}-${m}`},f?p:null,t.default.createElement("span",{style:{background:s}},g),S)})});return yo.default=r,yo}var es;function Xd(){if(es)return So;es=1;var e=Y&&Y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(So,"__esModule",{value:!0});const t=e(i),n=dt,r=Xo(),o=e(Yo()),l=(0,n.observer)(function({utr:s,cds:a,exons:c,sequence:u,upstream:d,downstream:f,feature:g,includeIntrons:m,collapseIntron:C,model:b}){var p;const{upperCaseCDS:S,intronBp:x,charactersPerRow:D,showCoordinates:E,showCoordinatesSetting:H}=b,G=a.length>0,A=(a.length?[...a,...s].sort((T,R)=>T.start-R.start):c).filter(T=>T.start!==T.end),F=T=>S?T.toLowerCase():T,y=T=>S?T.toUpperCase():T,_=g.strand===-1?-1:1,$=H==="genomic"&&m&&!C,O=$?_:1;let P=$?_>0?g.start+1-((d==null?void 0:d.length)||0):g.end+((d==null?void 0:d.length)||0):0,L=0,I=0,M=null;if(d){const{segments:T,remainder:R}=(0,r.splitString)({str:F(d),charactersPerRow:D,showCoordinates:E});M=t.default.createElement(o.default,{model:b,color:r.updownstreamColor,strand:O,start:L,coordStart:P,chunks:T}),I=R,L=L+d.length*O,P=P+d.length*O}const w=[];for(let T=0;T<A.length;T++){const R=A[T],z=u.slice(R.end,(p=A[T+1])===null||p===void 0?void 0:p.start),N=u.slice(R.start,R.end),{segments:B,remainder:W}=(0,r.splitString)({str:G?R.type==="CDS"?y(N):F(N):y(N),charactersPerRow:D,currRemainder:I,showCoordinates:E});if(w.push(t.default.createElement(o.default,{key:`${JSON.stringify(R)}-mid`,model:b,color:R.type==="CDS"?r.cdsColor:r.utrColor,strand:O,start:L,coordStart:P,chunks:B})),I=W,L=L+N.length*O,P=P+N.length*O,z&&m&&T<A.length-1){const X=F(C&&z.length>x*2?`${z.slice(0,x)}...${z.slice(-x)}`:z),{segments:q,remainder:te}=(0,r.splitString)({str:X,charactersPerRow:D,currRemainder:I,showCoordinates:E});q.length&&(w.push(t.default.createElement(o.default,{key:`${JSON.stringify(R)}-intron`,model:b,strand:O,coordStart:P,start:L,chunks:q})),I=te,L=L+X.length*O,P=P+X.length*O)}}let j=null;if(f){const{segments:T}=(0,r.splitString)({str:F(f),charactersPerRow:D,currRemainder:I,showCoordinates:E});j=t.default.createElement(o.default,{start:L,model:b,strand:O,chunks:T,coordStart:P,color:r.updownstreamColor})}return t.default.createElement(t.default.Fragment,null,M,w,j)});return So.default=l,So}var xo={},ts;function Yd(){if(ts)return xo;ts=1;var e=Y&&Y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(i),n=dt,r=Mt,o=Xo(),l=e(Yo()),s=(0,n.observer)(function({cds:a,sequence:c,codonTable:u,model:d}){const{charactersPerRow:f,showCoordinates:g}=d,m=(0,r.stitch)(a,c);let C="";for(let p=0;p<m.length;p+=3)C+=u[m.slice(p,p+3)]||"&";const{segments:b}=(0,o.splitString)({str:C,charactersPerRow:f,showCoordinates:g});return t.default.createElement(l.default,{model:d,color:o.proteinColor,chunks:b,start:0})});return xo.default=s,xo}var vo={},ns;function Qd(){if(ns)return vo;ns=1;var e=Y&&Y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(i),n=dt,r=Xo(),o=e(Yo()),l=(0,n.observer)(function({sequence:s,upstream:a,feature:c,downstream:u,model:d}){const{charactersPerRow:f,showCoordinatesSetting:g,showCoordinates:m}=d;let C=0,b=null,p=0;const S=c.strand===-1?-1:1,x=g==="genomic",D=x?S:1;let E=x?S>0?c.start+1-((a==null?void 0:a.length)||0):c.end+((a==null?void 0:a.length)||0):0;if(a){const{segments:y,remainder:_}=(0,r.splitString)({str:a,charactersPerRow:f,showCoordinates:m});b=t.default.createElement(o.default,{model:d,color:r.updownstreamColor,start:C,coordStart:E,chunks:y}),p=_,C=C+a.length*D,E=E+a.length*D}const{segments:H,remainder:G}=(0,r.splitString)({str:s,charactersPerRow:f,showCoordinates:m,currRemainder:p}),A=t.default.createElement(o.default,{model:d,color:r.genomeColor,start:C,coordStart:E,chunks:H});p=G,C+=s.length*D,E=E+s.length*D;let F=null;if(u){const{segments:y}=(0,r.splitString)({str:u,charactersPerRow:f,currRemainder:p,showCoordinates:m});F=t.default.createElement(o.default,{start:C,model:d,chunks:y,coordStart:E,color:r.updownstreamColor})}return t.default.createElement(t.default.Fragment,null,b,A,F)});return vo.default=l,vo}var Io={},os;function Jd(){if(os)return Io;os=1;var e=Y&&Y.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Io,"__esModule",{value:!0});const t=e(i),n=dt,r=Xo(),o=Mt,l=e(Yo()),s=(0,n.observer)(function({cds:a,sequence:c,model:u}){const{charactersPerRow:d,showCoordinates:f}=u,{segments:g}=(0,r.splitString)({str:(0,o.stitch)(a,c),charactersPerRow:d,showCoordinates:f});return t.default.createElement(l.default,{model:u,color:r.cdsColor,chunks:g,start:0})});return Io.default=s,Io}var rs;function Ei(){if(rs)return wo;rs=1;var e=Y&&Y.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(i),n=dt,r=rn(),o=Mt,l=e(Xd()),s=e(Yd()),a=e(Qd()),c=e(Jd());function u(m){return m===-1?"(-)":m===1?"(+)":""}function d({children:m}){return t.default.createElement("pre",{style:{fontFamily:"monospace",color:"black",fontSize:11}},m)}function f({children:m}){return t.default.createElement("div",{style:{fontFamily:"monospace",color:"black",fontSize:11,maxWidth:600,whiteSpace:"wrap",wordBreak:"break-all"}},m)}const g=(0,n.observer)(t.default.forwardRef(function(C,b){const{model:p,feature:S}=C,{showCoordinates:x,mode:D}=p;let{sequence:{seq:E,upstream:H="",downstream:G=""}}=C;const{subfeatures:A=[]}=S,F=A.sort((L,I)=>L.start-I.start).map(L=>({...L,start:L.start-S.start,end:L.end-S.start}));let y=(0,o.dedupe)(F.filter(L=>L.type==="CDS")),_=(0,o.dedupe)(F.filter(L=>{var I;return(I=L.type)===null||I===void 0?void 0:I.match(/utr/i)})),$=(0,o.dedupe)(F.filter(L=>L.type==="exon"));!_.length&&y.length&&$.length&&(_=(0,o.calculateUTRs)(y,$)),!_.length&&y.length&&!$.length&&(_=(0,o.calculateUTRs2)(y,{start:0,end:S.end-S.start,type:"gene"})),S.strand===-1&&([E,H,G]=[(0,r.revcom)(E),(0,r.revcom)(G),(0,r.revcom)(H)],y=(0,o.revlist)(y,E.length),$=(0,o.revlist)($,E.length),_=(0,o.revlist)(_,E.length));const O=(0,r.generateCodonTable)(r.defaultCodonTable),P=x?d:f;return t.default.createElement("div",{"data-testid":"sequence_panel",ref:b,style:{maxHeight:300,overflow:"auto"}},t.default.createElement(P,null,t.default.createElement("div",{style:{background:"white"}},`>${[`${S.name||S.id}-${D}`,`${S.refName}:${(0,r.toLocale)(S.start+1)}-${(0,r.toLocale)(S.end)}${u(S.strand)}`,D.endsWith("updownstream")?`+/- ${(0,r.toLocale)(p.upDownBp)} up/downstream bp`:""].filter(L=>!!L).join(" ")}
`),D==="genomic"?t.default.createElement(a.default,{feature:S,model:p,sequence:E}):D==="genomic_sequence_updownstream"?t.default.createElement(a.default,{model:p,feature:S,sequence:E,upstream:H,downstream:G}):D==="cds"?t.default.createElement(c.default,{model:p,cds:y,sequence:E}):D==="cdna"?t.default.createElement(l.default,{model:p,exons:$,feature:S,cds:y,utr:_,sequence:E}):D==="protein"?t.default.createElement(s.default,{model:p,cds:y,codonTable:O,sequence:E}):D==="gene"?t.default.createElement(l.default,{model:p,exons:$,feature:S,cds:y,utr:_,sequence:E,includeIntrons:!0}):D==="gene_collapsed_intron"?t.default.createElement(l.default,{model:p,exons:$,feature:S,cds:y,sequence:E,utr:_,includeIntrons:!0,collapseIntron:!0}):D==="gene_updownstream"?t.default.createElement(l.default,{model:p,exons:$,feature:S,cds:y,sequence:E,utr:_,upstream:H,downstream:G,includeIntrons:!0}):D==="gene_updownstream_collapsed_intron"?t.default.createElement(l.default,{model:p,exons:$,feature:S,cds:y,sequence:E,utr:_,upstream:H,downstream:G,includeIntrons:!0,collapseIntron:!0}):t.default.createElement("div",null,"Unknown type")))}));return wo.default=g,wo}var Mo={},ls;function Zd(){if(ls)return Mo;ls=1;var e=Y&&Y.__createBinding||(Object.create?function(b,p,S,x){x===void 0&&(x=S);var D=Object.getOwnPropertyDescriptor(p,S);(!D||("get"in D?!p.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return p[S]}}),Object.defineProperty(b,x,D)}:function(b,p,S,x){x===void 0&&(x=S),b[x]=p[S]}),t=Y&&Y.__setModuleDefault||(Object.create?function(b,p){Object.defineProperty(b,"default",{enumerable:!0,value:p})}:function(b,p){b.default=p}),n=Y&&Y.__importStar||function(b){if(b&&b.__esModule)return b;var p={};if(b!=null)for(var S in b)S!=="default"&&Object.prototype.hasOwnProperty.call(b,S)&&e(p,b,S);return t(p,b),p},r=Y&&Y.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(Mo,"__esModule",{value:!0});const o=n(i),l=Dt,s=qt,a=It,c=dt,u=vi(),d=r(Ei()),f=r(Mi()),g=r(Pi()),m=(0,a.makeStyles)()({dialogContent:{width:"80em"},formControl:{margin:0,marginLeft:4}}),C=(0,c.observer)(function({handleClose:b,model:p,feature:S}){const{sequenceFeatureDetails:x}=p,{upDownBp:D}=x,{classes:E}=m(),H=(0,o.useRef)(null),[G,A]=(0,o.useState)(!1),{sequence:F,error:y}=(0,u.useFeatureSequence)(p,S,D,G);return o.default.createElement(s.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{b()},title:"Sequence view"},o.default.createElement(l.DialogContent,{className:E.dialogContent},o.default.createElement("div",null,o.default.createElement(g.default,{model:x}),o.default.createElement(f.default,{ref:H,model:x})),o.default.createElement("div",null,S.type==="gene"?o.default.createElement(l.Typography,null,"Note: inspect subfeature sequences for protein/CDS computations"):null,y?o.default.createElement(s.ErrorMessage,{error:y}):F?"error"in F?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Typography,{color:"error"},F.error),o.default.createElement(l.Button,{variant:"contained",color:"inherit",onClick:()=>{A(!0)}},"Force load")):o.default.createElement(o.Suspense,{fallback:o.default.createElement(s.LoadingEllipses,null)},o.default.createElement(d.default,{ref:H,feature:S,sequence:F,model:x})):o.default.createElement(s.LoadingEllipses,null))),o.default.createElement(l.DialogActions,null,o.default.createElement(l.Button,{onClick:()=>{b()},variant:"contained"},"Close")))});return Mo.default=C,Mo}var ss;function ef(){if(ss)return mo;ss=1;var e=Y&&Y.__createBinding||(Object.create?function(C,b,p,S){S===void 0&&(S=p);var x=Object.getOwnPropertyDescriptor(b,p);(!x||("get"in x?!b.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return b[p]}}),Object.defineProperty(C,S,x)}:function(C,b,p,S){S===void 0&&(S=p),C[S]=b[p]}),t=Y&&Y.__setModuleDefault||(Object.create?function(C,b){Object.defineProperty(C,"default",{enumerable:!0,value:b})}:function(C,b){C.default=b}),n=Y&&Y.__importStar||function(C){if(C&&C.__esModule)return C;var b={};if(C!=null)for(var p in C)p!=="default"&&Object.prototype.hasOwnProperty.call(C,p)&&e(b,C,p);return t(b,C),b},r=Y&&Y.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(mo,"__esModule",{value:!0});const o=n(i),l=Dt,s=dt,a=vi(),c=qt,u=r(Mi()),d=r(Pi()),f=(0,o.lazy)(()=>Promise.resolve().then(()=>n(Ei()))),g=(0,o.lazy)(()=>Promise.resolve().then(()=>n(Zd()))),m=(0,s.observer)(function({model:C,feature:b}){const{sequenceFeatureDetails:p}=C,{upDownBp:S}=p,x=(0,o.useRef)(null),[D,E]=(0,o.useState)(!1),[H,G]=(0,o.useState)(!1),{sequence:A,error:F}=(0,a.useFeatureSequence)(C,b,S,H);return(0,o.useEffect)(()=>{p.setFeature(b)},[p,b]),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",null,o.default.createElement(d.default,{model:p}),o.default.createElement(u.default,{ref:x,model:p,extraItems:[{label:"Open in dialog",onClick:()=>{setTimeout(()=>{E(!0)},1)}}]})),D?o.default.createElement("div",null,"Open in dialog...",o.default.createElement(o.Suspense,{fallback:o.default.createElement(c.LoadingEllipses,null)},o.default.createElement(g,{model:C,feature:b,handleClose:()=>{E(!1)}}))):o.default.createElement("div",null,b.type==="gene"?o.default.createElement(l.Typography,null,"Note: inspect subfeature sequences for protein/CDS computations"):null,F?o.default.createElement(c.ErrorMessage,{error:F}):A?"error"in A?o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Typography,{color:"error"},A.error),o.default.createElement(l.Button,{variant:"contained",color:"inherit",onClick:()=>{G(!0)}},"Force load")):o.default.createElement(o.Suspense,{fallback:o.default.createElement(c.LoadingEllipses,null)},o.default.createElement(f,{ref:x,feature:b,sequence:A,model:p})):o.default.createElement(c.LoadingEllipses,null)))});return mo.default=m,mo}var Po={},is;function tf(){if(is)return Po;is=1;var e=Y&&Y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=l;const t=e(i),n=Dt,r=qt,o=e(Ii);function l({handleClose:s}){return t.default.createElement(r.Dialog,{maxWidth:"xl",open:!0,onClose:()=>{s()},title:"Feature sequence panel help"},t.default.createElement(n.DialogContent,null,t.default.createElement(n.Typography,{paragraph:!0},'The "Feature sequence" panel shows the underlying genomic sequence for a given feature, fetched from the reference genome.'),t.default.createElement(n.Typography,null,"For gene features, this panel does special calculations to e.g. stitch together the coding sequence, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"CDS - shows the stitched together CDS sequences"),t.default.createElement("li",null,'Protein - the translated coding sequence, with the "standard" genetic code'),t.default.createElement("li",null,"cDNA - shows the 'copy DNA' of transcript, formed from exon sequences"),t.default.createElement("li",null,"Genomic w/ introns +/- Nbp up+down stream - the sequence underlying the entire gene including including introns, with UTR and CDS highlighted")),t.default.createElement(n.Typography,{paragraph:!0},"For other feature types, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"Genomic +/- Nbp up+down stream - the reference genome sequence underlying the feature, with the up and downstream sequence")),t.default.createElement(n.Typography,null,'Note 1: you can use the "gear icon" ',t.default.createElement(o.default,null)," to edit the number of bp displayed up/downstream and in the intron region"),t.default.createElement(n.Typography,null,"Note 2: The 'Copy HTML' function retains the colors from the sequence panel but cannot be pasted into some programs like notepad that only expect plain text.")),t.default.createElement(n.DialogActions,null,t.default.createElement(n.Button,{onClick:()=>{s()},autoFocus:!0,variant:"contained"},"Close")))}return Po}var nf=Y&&Y.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),of=Y&&Y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Jr=Y&&Y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nf(t,e,n);return of(t,e),t},rf=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});const gt=Jr(i),gr=Dt,lf=dt,sf=It,af=qt,cf=rn(),uf=rf(jd),df=(0,gt.lazy)(()=>Promise.resolve().then(()=>Jr(ef()))),ff=(0,gt.lazy)(()=>Promise.resolve().then(()=>Jr(tf()))),gf=(0,sf.makeStyles)()(e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}})),mf=(0,lf.observer)(function({model:e,feature:t}){const{classes:n}=gf(),[r,o]=(0,gt.useState)(!1);return gt.default.createElement("div",{className:n.container},gt.default.createElement(gr.FormControl,{className:n.formControl},gt.default.createElement(gr.Button,{variant:"contained",onClick:()=>{o(!r)}},r?"Hide feature sequence":"Show feature sequence")),gt.default.createElement(gr.IconButton,{onClick:()=>{(0,cf.getSession)(e).queueDialog(l=>[ff,{handleClose:l}])}},gt.default.createElement(uf.default,null)),r?gt.default.createElement(gt.Suspense,{fallback:gt.default.createElement(af.LoadingEllipses,null)},gt.default.createElement(df,{key:t.uniqueId,model:e,feature:t})):null)});Qr.default=mf;(function(e){var t=Y&&Y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Qr;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t(n).default}})})(xi);var Qo={},Fn={},hf=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.default=wf;const mr=hf(i),pf=Dt,Cf=It,bf=(0,Cf.makeStyles)()(e=>({fieldDescription:{"&:hover":{background:e.palette.mode==="dark"?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:e.palette.action.disabledBackground,marginRight:e.spacing(1),padding:e.spacing(.5)}}));function wf({description:e,name:t,width:n,prefix:r=[]}){const{classes:o,cx:l}=bf(),s=[...r,t].join(".");return e?mr.default.createElement(pf.Tooltip,{title:e,placement:"left"},mr.default.createElement("div",{className:l(o.fieldDescription,o.fieldName)},s)):mr.default.createElement("div",{className:o.fieldName,style:{width:n}},s)}var Xn={},Fi=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.default=Mf;const Eo=Fi(i),Sf=It,yf=Fi(Wo),xf=Dt,vf=qt,If=(0,Sf.makeStyles)()(e=>({fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:e.spacing(.5),overflow:"auto"}}));function Mf({value:e}){const{classes:t}=If(),n=/^https?:\/\//.exec(`${e}`);return Eo.default.createElement("div",{className:t.fieldValue},Eo.default.isValidElement(e)?e:n?Eo.default.createElement(xf.Link,{href:`${e}`},`${e}`):Eo.default.createElement(vf.SanitizedHTML,{html:(0,yf.default)(e)?JSON.stringify(e):String(e)}))}var Zr=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.default=Df;const hr=Zr(i),Pf=It,Ef=Zr(Fn),Ff=Zr(Xn),kf=(0,Pf.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function Df({name:e,value:t,description:n,prefix:r,width:o}){const{classes:l}=kf();return t!=null?hr.default.createElement("div",{className:l.field},hr.default.createElement(Ef.default,{prefix:r,description:n,name:e,width:o}),hr.default.createElement(Ff.default,{value:t})):null}var Fo={},ln={},Tf=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});ln.isEmpty=Hf;ln.generateTitle=_f;ln.generateMaxWidth=Lf;ln.accessNested=Gf;const as=Tf(Wo),cs=rn(),Of=Mt;function Hf(e){return Object.keys(e).length===0}function _f(e,t,n){return[(0,Of.ellipses)(`${e||t||""}`),`${n}`].filter(r=>!!r).join(" - ")}function Lf(e,t){return Math.ceil((0,cs.max)(e.map(n=>(0,cs.measureText)([...t,n[0]].join("."),12))))+10}function Gf(e,t={}){let n=t;return e.forEach(r=>{(0,as.default)(n)&&(n=n[r])}),typeof n=="string"?n:(0,as.default)(n)&&typeof n.Description=="string"?n.Description:void 0}var el={};const tl=i.createContext(void 0);function ie(){const e=i.useContext(tl);if(e===void 0)throw new Error(["MUI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Rf=()=>i.useRef({}),ki=i.createContext(void 0),Z=()=>{const e=i.useContext(ki);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function de(e,t,n=void 0){const r={};return Object.keys(e).forEach(o=>{r[o]=e[o].reduce((l,s)=>{if(s){const a=t(s);a!==""&&l.push(a),n&&n[s]&&l.push(n[s])}return l},[]).join(" ")}),r}function $f(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function kn(e){if(typeof e!="string")throw new Error($f(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Di(e,t=166){let n;function r(...o){const l=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(l,t)}return r.clear=()=>{clearTimeout(n)},r}function Nt(e){return e&&e.ownerDocument||document}function Af(e){return Nt(e).defaultView||window}function jf(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Ye=typeof window<"u"?i.useLayoutEffect:i.useEffect;let us=0;function zf(e){const[t,n]=i.useState(e),r=t;return i.useEffect(()=>{t==null&&(us+=1,n(`mui-${us}`))},[t]),r}const ds=sd.useId;function _e(e){return ds!==void 0?ds():zf(e)}function Re(e){const t=i.useRef(e);return Ye(()=>{t.current=e}),i.useRef((...n)=>(0,t.current)(...n)).current}function Gt(...e){return i.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{jf(n,t)})},e)}const fs={};function Xt(e,t){const n=i.useRef(fs);return n.current===fs&&(n.current=e(t)),n}const Vf=[];function Yn(e){i.useEffect(e,Vf)}class nl{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new nl}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Dn(){const e=Xt(nl.create).current;return Yn(e.disposeEffect),e}const gs=e=>e,Nf=()=>{let e=gs;return{configure(t){e=t},generate(t){return e(t)},reset(){e=gs}}},Bf=Nf(),Uf={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ti(e,t,n="Mui"){const r=Uf[t];return r?`${n}-${r}`:`${Bf.generate(e)}-${t}`}function Oi(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=Ti(e,o,n)}),r}const Wf=Object.is;function Hi(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const o in e)if(n+=1,!Wf(e[o],t[o])||!(o in t))return!1;for(const o in t)r+=1;return n===r}function Yt(e){return i.memo(e,Hi)}const qf=!1,_i={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function ue(e){return Ti("MuiDataGrid",e)}const k=Oi("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),ms=1e3;class Kf{constructor(t=ms){this.timeouts=new Map,this.cleanupTimeout=ms,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Xf{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var ht=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}(ht||{});class Yf{}function Li(e){let t=0;return function(r,o,l,s){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Xf:new Kf);const[a]=i.useState(new Yf),c=i.useRef(null),u=i.useRef();u.current=l;const d=i.useRef(null);if(!c.current&&u.current){const f=(g,m,C)=>{var b;m.defaultMuiPrevented||(b=u.current)==null||b.call(u,g,m,C)};c.current=r.current.subscribeEvent(o,f,s),t+=1,d.current={cleanupToken:t},e.registry.register(a,()=>{var g;(g=c.current)==null||g.call(c),c.current=null,d.current=null},d.current)}else!u.current&&c.current&&(c.current(),c.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));i.useEffect(()=>{if(!c.current&&u.current){const f=(g,m,C)=>{var b;m.defaultMuiPrevented||(b=u.current)==null||b.call(u,g,m,C)};c.current=r.current.subscribeEvent(o,f,s)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var f;(f=c.current)==null||f.call(c),c.current=null}},[r,o,s])}}const Fr={registry:null},Qf=()=>{var e;(e=Fr.registry)==null||e.reset(),Fr.registry=null},ee=Li(Fr),Jf={isFirst:!0};function De(e,t,n){ee(e,t,n,Jf)}function Zf(e){return e.acceptsApiRef}function hs(e,t){return Zf(t)?t(e):t(e.current.state)}const eg=Object.is,Gi=Hi,tg=()=>({state:null,equals:null,selector:null}),U=(e,t,n=eg)=>{const r=Xt(tg),o=r.current.selector!==null,[l,s]=i.useState(o?null:hs(e,t));return r.current.state=l,r.current.equals=n,r.current.selector=t,Yn(()=>e.current.store.subscribe(()=>{const a=hs(e,r.current.selector);r.current.equals(r.current.state,a)||(r.current.state=a,s(a))})),l},nt=e=>e.dimensions;var Go=Symbol("NOT_FOUND");function ng(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function og(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function rg(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ps=e=>Array.isArray(e)?e:[e];function lg(e){const t=Array.isArray(e[0])?e[0]:e;return rg(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function sg(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function ig(e){let t;return{get(n){return t&&e(t.key,n)?t.value:Go},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function ag(e,t){let n=[];function r(a){const c=n.findIndex(u=>t(a,u.key));if(c>-1){const u=n[c];return c>0&&(n.splice(c,1),n.unshift(u)),u.value}return Go}function o(a,c){r(a)===Go&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function l(){return n}function s(){n=[]}return{get:r,put:o,getEntries:l,clear:s}}var cg=(e,t)=>e===t;function ug(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let l=0;l<o;l++)if(!e(n[l],r[l]))return!1;return!0}}function Ri(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=cg,maxSize:o=1,resultEqualityCheck:l}=n,s=ug(r);let a=0;const c=o<=1?ig(s):ag(o,s);function u(){let d=c.get(arguments);if(d===Go){if(d=e.apply(null,arguments),a++,l){const g=c.getEntries().find(m=>l(m.value,d));g&&(d=g.value,a!==0&&a--)}c.put(arguments,d)}return d}return u.clearCache=()=>{c.clear(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}var dg=class{constructor(e){this.value=e}deref(){return this.value}},fg=typeof WeakRef<"u"?WeakRef:dg,gg=0,Cs=1;function ko(){return{s:gg,v:void 0,o:null,p:null}}function $i(e,t={}){let n=ko();const{resultEqualityCheck:r}=t;let o,l=0;function s(){var f;let a=n;const{length:c}=arguments;for(let g=0,m=c;g<m;g++){const C=arguments[g];if(typeof C=="function"||typeof C=="object"&&C!==null){let b=a.o;b===null&&(a.o=b=new WeakMap);const p=b.get(C);p===void 0?(a=ko(),b.set(C,a)):a=p}else{let b=a.p;b===null&&(a.p=b=new Map);const p=b.get(C);p===void 0?(a=ko(),b.set(C,a)):a=p}}const u=a;let d;if(a.s===Cs)d=a.v;else if(d=e.apply(null,arguments),l++,r){const g=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;g!=null&&r(g,d)&&(d=g,l!==0&&l--),o=typeof d=="object"&&d!==null||typeof d=="function"?new fg(d):d}return u.s=Cs,u.v=d,d}return s.clearCache=()=>{n=ko(),s.resetResultsCount()},s.resultsCount=()=>l,s.resetResultsCount=()=>{l=0},s}function Ai(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let l=0,s=0,a,c={},u=o.pop();typeof u=="object"&&(c=u,u=o.pop()),ng(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:g=[],argsMemoize:m=$i,argsMemoizeOptions:C=[],devModeChecks:b={}}=d,p=ps(g),S=ps(C),x=lg(o),D=f(function(){return l++,u.apply(null,arguments)},...p),E=m(function(){s++;const G=sg(x,arguments);return a=D.apply(null,G),a},...S);return Object.assign(E,{resultFunc:u,memoizedResultFunc:D,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var mg=Ai($i),hg=Object.assign((e,t=mg)=>{og(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((s,a,c)=>(s[n[c]]=a,s),{}))},{withTypes:()=>hg});const pg=Ai({memoize:Ri,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),bs=new WeakMap;function Cn(e){return"current"in e&&"instanceId"in e.current}const bn={id:"default"},re=(e,t,n,r,o,l,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&o&&l)a=(c,u)=>{const d=Cn(c),f=u??(d?c.current.instanceId:bn),g=d?c.current.state:c,m=e(g,f),C=t(g,f),b=n(g,f),p=r(g,f),S=o(g,f);return l(m,C,b,p,S)};else if(e&&t&&n&&r&&o)a=(c,u)=>{const d=Cn(c),f=u??(d?c.current.instanceId:bn),g=d?c.current.state:c,m=e(g,f),C=t(g,f),b=n(g,f),p=r(g,f);return o(m,C,b,p)};else if(e&&t&&n&&r)a=(c,u)=>{const d=Cn(c),f=u??(d?c.current.instanceId:bn),g=d?c.current.state:c,m=e(g,f),C=t(g,f),b=n(g,f);return r(m,C,b)};else if(e&&t&&n)a=(c,u)=>{const d=Cn(c),f=u??(d?c.current.instanceId:bn),g=d?c.current.state:c,m=e(g,f),C=t(g,f);return n(m,C)};else if(e&&t)a=(c,u)=>{const d=Cn(c),f=u??(d?c.current.instanceId:bn),g=d?c.current.state:c,m=e(g,f);return t(m)};else throw new Error("Missing arguments");return a.acceptsApiRef=!0,a},Pe=(...e)=>{const t=(n,r)=>{const o=Cn(n),l=o?n.current.instanceId:r??bn,s=o?n.current.state:n,a=bs.get(l),c=a??new Map,u=c==null?void 0:c.get(e);if(c&&u)return u(s,l);const d=pg(...e);return a||bs.set(l,c),c.set(e,d),d(s,l)};return t.acceptsApiRef=!0,t},ji=.7,zi=1.3,Cg={compact:ji,comfortable:zi,standard:1},zt=e=>e.density,Tn=re(zt,e=>Cg[e]);let Me=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const Ro={left:[],right:[]},bg=e=>e.isRtl,xt=e=>e.columns,kt=re(xt,e=>e.orderedFields),Pt=re(xt,e=>e.lookup),pt=Pe(kt,Pt,(e,t)=>e.map(n=>t[n])),ut=re(xt,e=>e.columnVisibilityModel),Ne=Pe(pt,ut,(e,t)=>e.filter(n=>t[n.field]!==!1)),sn=Pe(Ne,e=>e.map(t=>t.field)),Vi=e=>e.pinnedColumns,On=Pe(xt,Vi,sn,bg,(e,t,n,r)=>{const o=wg(t,n,r);return{left:o.left.map(s=>e.lookup[s]),right:o.right.map(s=>e.lookup[s])}});function wg(e,t,n){var a,c;if(!Array.isArray(e.left)&&!Array.isArray(e.right)||((a=e.left)==null?void 0:a.length)===0&&((c=e.right)==null?void 0:c.length)===0)return Ro;const r=(u,d)=>Array.isArray(u)?u.filter(f=>d.includes(f)):[],o=r(e.left,t),l=t.filter(u=>!o.includes(u)),s=r(e.right,l);return n?{left:s,right:o}:{left:o,right:s}}const Rt=Pe(Ne,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),Jo=re(Ne,Rt,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),ol=Pe(pt,e=>e.filter(t=>t.filterable)),Ni=Pe(pt,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),Bi=Pe(pt,e=>e.some(t=>t.colSpan!==void 0)),Sg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],yg=e=>{const{classes:t}=e;return de({root:["editInputCell"]},ue,t)},xg=je(mi,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>h({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),Ui=i.forwardRef((e,t)=>{const n=Z(),{id:r,value:o,field:l,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:u,onValueChange:d}=e,f=ne(e,Sg),g=ie(),m=i.useRef(),[C,b]=i.useState(o),p=yg(n),S=i.useCallback(async D=>{const E=D.target.value;d&&await d(D,E);const H=g.current.getColumn(l);let G=E;H.valueParser&&(G=H.valueParser(E,g.current.getRow(r),H,g)),b(G),g.current.setEditCellValue({id:r,field:l,value:G,debounceMs:c,unstable_skipValueParser:!0},D)},[g,c,l,r,d]),x=g.current.unstable_getEditCellMeta(r,l);return i.useEffect(()=>{(x==null?void 0:x.changeReason)!=="debouncedSetEditCellValue"&&b(o)},[x,o]),Ye(()=>{a&&m.current.focus()},[a]),v.jsx(xg,h({ref:t,inputRef:m,className:p.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:C??"",onChange:S,endAdornment:u?v.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},f))}),Wi=e=>v.jsx(Ui,h({},e)),qi=(e,t)=>t&&e.length>1?[e[0]]:e,ws=(e,t)=>n=>h({},n,{sorting:h({},n.sorting,{sortModel:qi(e,t)})}),vg=e=>e==="desc",Ig=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let r;return n.getSortComparator?r=n.getSortComparator(e.sort):r=vg(e.sort)?(...l)=>-1*n.sortComparator(...l):n.sortComparator,r?{getSortCellParams:l=>({id:l,field:n.field,rowNode:t.current.getRowNode(l),value:t.current.getCellValue(l,n.field),api:t.current}),comparator:r}:null},Mg=(e,t,n)=>e.reduce((r,o,l)=>{if(r!==0)return r;const s=t.params[l],a=n.params[l];return r=o.comparator(s.value,a.value,s,a),r},0),Pg=(e,t)=>{const n=e.map(r=>Ig(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(o=>({node:o,params:n.map(l=>l.getSortCellParams(o.id))})).sort((o,l)=>Mg(n,o,l)).map(o=>o.node.id)},Ss=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},rl=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,Eg=new Intl.Collator,Ki=(e,t)=>{const n=rl(e,t);return n!==null?n:typeof e=="string"?Eg.compare(e.toString(),t.toString()):e-t},ll=(e,t)=>{const n=rl(e,t);return n!==null?n:Number(e)-Number(t)},sl=(e,t)=>{const n=rl(e,t);return n!==null?n:e>t?1:e<t?-1:0},Fg=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function ct(e){var E;const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,tabIndex:s,disabled:a,clearButton:c,InputProps:u,variant:d="standard"}=e,f=ne(e,Fg),g=Dn(),[m,C]=i.useState(t.value??""),[b,p]=i.useState(!1),S=_e(),x=Z(),D=i.useCallback(H=>{const{value:G}=H.target;C(String(G)),p(!0),g.start(x.filterDebounceMs,()=>{const A=h({},t,{value:G,fromInput:S});n(A),p(!1)})},[S,n,t,x.filterDebounceMs,g]);return i.useEffect(()=>{(t.fromInput!==S||t.value===void 0)&&C(String(t.value??""))},[S,t]),v.jsx(x.slots.baseTextField,h({id:S,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:D,variant:d,type:r||"text",InputProps:h({},b||c?{endAdornment:b?v.jsx(x.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:a},u,{inputProps:h({tabIndex:s},u==null?void 0:u.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},f,(E=x.slotProps)==null?void 0:E.baseTextField))}function kg(e){return typeof e=="number"&&!Number.isNaN(e)}function Xi(e){return typeof e=="function"}function il(e){return typeof e=="object"&&e!==null}function Dg(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function $o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Lt=(e,t,n)=>Math.max(t,Math.min(n,e));function ys(e,t){return Array.from({length:t-e}).map((n,r)=>e+r)}function Bt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const o=e.length;if(o!==t.length)return!1;for(let l=0;l<o;l+=1)if(!Bt(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let l=0;l<o.length;l+=1)if(!t.has(o[l][0]))return!1;for(let l=0;l<o.length;l+=1){const s=o[l];if(!Bt(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const o=Array.from(e.entries());for(let l=0;l<o.length;l+=1)if(!t.has(o[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const o=e.length;if(o!==t.length)return!1;for(let l=0;l<o;l+=1)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let o=0;o<r;o+=1)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(let o=0;o<r;o+=1){const l=n[o];if(!Bt(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Tg(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Og(e){const t=Tg(e);return(n,r)=>n+(r-n)*t()}function Yi(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Hg=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],_g=["key"];function al(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,color:s,error:a,helperText:c,size:u,variant:d="standard"}=e,f=ne(e,Hg),g={color:s,error:a,helperText:c,size:u,variant:d},[m,C]=i.useState(t.value||[]),b=_e(),p=Z();i.useEffect(()=>{const x=t.value??[];C(x.map(String))},[t.value]);const S=i.useCallback((x,D)=>{C(D.map(String)),n(h({},t,{value:[...D]}))},[n,t]);return v.jsx(hi,h({multiple:!0,freeSolo:!0,options:[],filterOptions:(x,D)=>{const{inputValue:E}=D;return E==null||E===""?[]:[E]},id:b,value:m,onChange:S,renderTags:(x,D)=>x.map((E,H)=>{const G=D({index:H}),{key:A}=G,F=ne(G,_g);return v.jsx(p.slots.baseChip,h({variant:"outlined",size:"small",label:E},F),A)}),renderInput:x=>{var D;return v.jsx(p.slots.baseTextField,h({},x,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:h({},x.InputLabelProps,{shrink:!0}),inputRef:l,type:r||"text"},g,(D=p.slotProps)==null?void 0:D.baseTextField))}},f))}var vt=function(e){return e.Cell="cell",e.Row="row",e}(vt||{}),xe=function(e){return e.Edit="edit",e.View="view",e}(xe||{}),ke=function(e){return e.Edit="edit",e.View="view",e}(ke||{}),Ze=function(e){return e.And="and",e.Or="or",e}(Ze||{}),Ft=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(Ft||{}),mt=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(mt||{}),Ot=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Ot||{}),St=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(St||{});function cl(e){return e.field!==void 0}const In=()=>({items:[],logicOperator:Ze.And,quickFilterValues:[],quickFilterLogicOperator:Ze.And});function Qi(e){return{current:e.current.getPublicApi()}}let Gn;function Lg(){if(Gn!==void 0)return Gn;try{Gn=new Function("return true")()}catch{Gn=!1}return Gn}const kr=(e,t)=>{const n=h({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=Pt(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},ul=(e,t,n)=>{const r=e.items.length>1;let o;r&&t?o=[e.items[0]]:o=e.items;const l=r&&o.some(a=>a.id==null);return o.some(a=>a.operator==null)||l?h({},e,{items:o.map(a=>kr(a,n))}):e.items!==o?h({},e,{items:o}):e},xs=(e,t,n)=>r=>h({},r,{filterModel:ul(e,t,n)}),Nn=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Ji=(e,t)=>{var d;if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const f=n.valueParser;r=Array.isArray(e.value)?(d=e.value)==null?void 0:d.map(g=>f(g,void 0,n,t)):f(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:o}=t.current.rootProps;o&&(r=Nn(r));const l=h({},e,{value:r}),s=n.filterOperators;if(!(s!=null&&s.length))throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(f=>f.value===l.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${l.operator}'.`);const c=Qi(t),u=a.getApplyFilterFn(l,n);return typeof u!="function"?null:{item:l,fn:f=>{let g=t.current.getRowValue(f,n);return o&&(g=Nn(g)),u(g,f,n,c)}}};let vs=1;const Gg=(e,t,n)=>{const{items:r}=e,o=r.map(a=>Ji(a,t)).filter(a=>!!a);if(o.length===0)return null;if(n||!Lg())return(a,c)=>{const u={};for(let d=0;d<o.length;d+=1){const f=o[d];(!c||c(f.item.field))&&(u[f.item.id]=f.fn(a))}return u};const l=new Function("appliers","row","shouldApplyFilter",`"use strict";
${o.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${o.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(vs)));return vs+=1,(a,c)=>l(o,a,c)},Zi=e=>e.quickFilterExcludeHiddenColumns??!0,Rg=(e,t)=>{var a;const n=((a=e.quickFilterValues)==null?void 0:a.filter(Boolean))??[];if(n.length===0)return null;const r=Zi(e)?sn(t):kt(t),o=[],{ignoreDiacritics:l}=t.current.rootProps,s=Qi(t);return r.forEach(c=>{const u=t.current.getColumn(c),d=u==null?void 0:u.getApplyQuickFilterFn;d&&o.push({column:u,appliers:n.map(f=>{const g=l?Nn(f):f;return{fn:d(g,u,s)}})})}),function(u,d){const f={};e:for(let g=0;g<n.length;g+=1){const m=n[g];for(let C=0;C<o.length;C+=1){const{column:b,appliers:p}=o[C],{field:S}=b;if(d&&!d(S))continue;const x=p[g];let D=t.current.getRowValue(u,b);if(x.fn===null)continue;if(l&&(D=Nn(D)),x.fn(D,u,b,s)){f[m]=!0;continue e}}f[m]=!1}return f}},$g=(e,t,n)=>{const r=Gg(e,t,n),o=Rg(e,t);return function(s,a,c){c.passingFilterItems=(r==null?void 0:r(s,a))??null,c.passingQuickFilterValues=(o==null?void 0:o(s,a))??null}},Is=e=>e!=null,Ag=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>Ji(r,t)!==null)),e.cleanedFilterItems),jg=(e,t,n,r,o)=>{const l=Ag(o,r,n.items),s=e.filter(Is),a=t.filter(Is);if(s.length>0){const c=d=>s.some(f=>f[d.id]);if((n.logicOperator??In().logicOperator)===Ze.And){if(!l.every(c))return!1}else if(!l.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=d=>a.some(f=>f[d]);if((n.quickFilterLogicOperator??In().quickFilterLogicOperator)===Ze.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},ea=e=>{if(!e)return null;const t=new RegExp($o(e),"i");return(n,r,o,l)=>{let s=l.current.getRowFormattedValue(r,o);return l.current.ignoreDiacritics&&(s=Nn(s)),s!=null?t.test(s.toString()):!1}},Ms=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new RegExp($o(r),"i");return l=>{if(l==null)return t;const s=o.test(String(l));return t?!s:s}},Ps=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return l=>{if(l==null)return t;const s=o.compare(r,l.toString())===0;return t?!s:s}},Es=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},ta=(e=!1)=>[{value:"contains",getApplyFilterFn:Ms(e,!1),InputComponent:ct},{value:"doesNotContain",getApplyFilterFn:Ms(e,!0),InputComponent:ct},{value:"equals",getApplyFilterFn:Ps(e,!1),InputComponent:ct},{value:"doesNotEqual",getApplyFilterFn:Ps(e,!0),InputComponent:ct},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${$o(n)}.*$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:ct},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${$o(n)}$`,"i");return o=>o!=null?r.test(o.toString()):!1},InputComponent:ct},{value:"isEmpty",getApplyFilterFn:Es(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:Es(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(o=>o.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return o=>o!=null?n.some(l=>r.compare(l,o.toString()||"")===0):!1},InputComponent:al}],Ct={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Ki,type:"string",align:"left",filterOperators:ta(),renderEditCell:Wi,getApplyQuickFilterFn:ea},zg=["open","target","onClose","children","position","className","onExited"],Vg=e=>{const{classes:t}=e;return de({root:["menu"]},ue,t)},Ng=je(Kr,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${k.menuList}`]:{outline:0}})),Bg={"bottom-start":"top left","bottom-end":"top right"};function Qn(e){var b;const{open:t,target:n,onClose:r,children:o,position:l,className:s,onExited:a}=e,c=ne(e,zg),u=ie(),d=Z(),f=Vg(d),g=i.useRef(null);Ye(()=>{var p,S;t?g.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((S=(p=g.current)==null?void 0:p.focus)==null||S.call(p),g.current=null)},[t]),i.useEffect(()=>{const p=t?"menuOpen":"menuClose";u.current.publishEvent(p,{target:n})},[u,t,n]);const m=p=>S=>{p&&p(),a&&a(S)},C=p=>{p.target&&(n===p.target||n!=null&&n.contains(p.target))||r(p)};return v.jsx(Ng,h({as:d.slots.basePopper,className:me(s,f.root),ownerState:d,open:t,anchorEl:n,transition:!0,placement:l},c,(b=d.slotProps)==null?void 0:b.basePopper,{children:({TransitionProps:p,placement:S})=>v.jsx(pi,{onClickAway:C,mouseEvent:"onMouseDown",children:v.jsx(id,h({},p,{style:{transformOrigin:Bg[S]},onExited:m(p==null?void 0:p.onExited),children:v.jsx(Ci,{children:o})}))})}))}const Ug=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Wg=e=>typeof e.getActions=="function";function na(e){var I;const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:l="bottom-end",focusElementRef:s}=e,a=ne(e,Ug),[c,u]=i.useState(-1),[d,f]=i.useState(!1),g=ie(),m=i.useRef(null),C=i.useRef(null),b=i.useRef(!1),p=i.useRef({}),S=Kt(),x=_e(),D=_e(),E=Z();if(!Wg(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const H=t.getActions(g.current.getRowParams(n)),G=H.filter(M=>!M.props.showInMenu),A=H.filter(M=>M.props.showInMenu),F=G.length+(A.length?1:0);i.useLayoutEffect(()=>{r||Object.entries(p.current).forEach(([M,w])=>{w==null||w.stop({},()=>{delete p.current[M]})})},[r]),i.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),i.useEffect(()=>{r||(u(-1),b.current=!1)},[r]),i.useImperativeHandle(s,()=>({focus(){if(!b.current){const M=H.findIndex(w=>!w.props.disabled);u(M)}}}),[H]),i.useEffect(()=>{c>=F&&u(F-1)},[c,F]);const y=()=>{f(!0),u(F-1),b.current=!0},_=()=>{f(!1)},$=M=>w=>{p.current[M]=w},O=(M,w)=>j=>{u(M),b.current=!0,w&&w(j)},P=M=>{if(F<=1)return;const w=(T,R)=>{var B;if(T<0||T>H.length)return T;const N=(R==="left"?-1:1)*(S?-1:1);return(B=H[T+N])!=null&&B.props.disabled?w(T+N,R):T+N};let j=c;M.key==="ArrowRight"?j=w(c,"right"):M.key==="ArrowLeft"&&(j=w(c,"left")),!(j<0||j>=F)&&j!==c&&(M.preventDefault(),M.stopPropagation(),u(j))},L=M=>{M.key==="Tab"&&M.preventDefault(),["Tab","Escape"].includes(M.key)&&_()};return v.jsxs("div",h({role:"menu",ref:m,tabIndex:-1,className:k.actionsCell,onKeyDown:P},a,{children:[G.map((M,w)=>i.cloneElement(M,{key:w,touchRippleRef:$(w),onClick:O(w,M.props.onClick),tabIndex:c===w?o:-1})),A.length>0&&D&&v.jsx(E.slots.baseIconButton,h({ref:C,id:D,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?x:void 0,role:"menuitem",size:"small",onClick:y,touchRippleRef:$(D),tabIndex:c===G.length?o:-1},(I=E.slotProps)==null?void 0:I.baseIconButton,{children:v.jsx(E.slots.moreActionsIcon,{fontSize:"small"})})),A.length>0&&v.jsx(Qn,{open:d,target:C.current,position:l,onClose:_,children:v.jsx(qo,{id:x,className:k.menuList,onKeyDown:L,"aria-labelledby":D,variant:"menu",autoFocusItem:!0,children:A.map((M,w)=>i.cloneElement(M,{key:w,closeMenu:_}))})})]}))}const oa=e=>v.jsx(na,h({},e)),Jn="actions",ra=h({},Ct,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:oa,getApplyQuickFilterFn:void 0}),wt=e=>e.rows,Zn=re(wt,e=>e.totalRowCount),la=re(wt,e=>e.loading),sa=re(wt,e=>e.totalTopLevelRowCount),_t=re(wt,e=>e.dataRowIdToModelLookup),Bn=re(wt,e=>e.dataRowIdToIdLookup),rt=re(wt,e=>e.tree),qg=re(wt,e=>e.groupsToFetch),ia=re(wt,e=>e.groupingName),Dr=re(wt,e=>e.treeDepths),eo=Pe(wt,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]+1}),An=re(wt,e=>e.dataRowIds),Kg=re(wt,e=>e==null?void 0:e.additionalRowGroups),an=Pe(Kg,e=>{var n,r;const t=e==null?void 0:e.pinnedRows;return{bottom:((n=t==null?void 0:t.bottom)==null?void 0:n.map(o=>({id:o.id,model:o.model??{}})))??[],top:((r=t==null?void 0:t.top)==null?void 0:r.map(o=>({id:o.id,model:o.model??{}})))??[]}}),Xg=re(an,e=>{var t,n;return(((t=e==null?void 0:e.top)==null?void 0:t.length)||0)+(((n=e==null?void 0:e.bottom)==null?void 0:n.length)||0)}),et="auto-generated-group-node-root",en=Symbol("mui.id_autogenerated"),Yg=()=>({type:"group",id:et,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function aa(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Zo=(e,t,n)=>{const r=t?t(e):e.id;return aa(r,e,n),r},Oo=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const o={type:"full",rows:[]},l={},s={};for(let a=0;a<e.length;a+=1){const c=e[a],u=Zo(c,t);l[u]=c,s[u]=u,o.rows.push(u)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:o,dataRowIdToIdLookup:s,dataRowIdToModelLookup:l}},ca=({tree:e,rowCountProp:t=0})=>{const n=e[et];return Math.max(t,n.children.length+(n.footerId==null?0:1))},ua=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:o,previousGroupsToFetch:l})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:u,groupingName:d,groupsToFetch:f=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:o,updates:s.updates,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:l}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},h({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:ca({tree:g.tree,rowCountProp:t}),groupingName:d,loading:n,groupsToFetch:f})},Qg=e=>en in e,Mn=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,dl=(e,t,n)=>{const r=e[t];if(r.type!=="group")return[];const o=[];for(let l=0;l<r.children.length;l+=1){const s=r.children[l];(!n||!Mn(e[s]))&&o.push(s);const a=dl(e,s,n);for(let c=0;c<a.length;c+=1)o.push(a[c])}return!n&&r.footerId!=null&&o.push(r.footerId),o},Fs=({previousCache:e,getRowId:t,updates:n,groupKeys:r})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;n.forEach(d=>{const f=Zo(d,t,"A row was provided without id when calling updateRows():");o.has(f)?o.set(f,h({},o.get(f),d)):o.set(f,d)});const l={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:h({},e.updates.idToActionLookup),groupKeys:r},s=h({},e.dataRowIdToModelLookup),a=h({},e.dataRowIdToIdLookup),c={insert:{},modify:{},remove:{}};o.forEach((d,f)=>{const g=l.idToActionLookup[f];if(d._action==="delete"){if(g==="remove"||!s[f])return;g!=null&&(c[g][f]=!0),l.actions.remove.push(f),delete s[f],delete a[f];return}const m=s[f];if(m){g==="remove"?(c.remove[f]=!0,l.actions.modify.push(f)):g==null&&l.actions.modify.push(f),s[f]=h({},m,d);return}g==="remove"?(c.remove[f]=!0,l.actions.insert.push(f)):g==null&&l.actions.insert.push(f),s[f]=d,a[f]=f});const u=Object.keys(c);for(let d=0;d<u.length;d+=1){const f=u[d],g=c[f];Object.keys(g).length>0&&(l.actions[f]=l.actions[f].filter(m=>!g[m]))}return{dataRowIdToModelLookup:s,dataRowIdToIdLookup:a,updates:l,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function Jg(e){var o,l;const t=an(e),n=((o=t==null?void 0:t.top)==null?void 0:o.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0,r=((l=t==null?void 0:t.bottom)==null?void 0:l.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0;return{top:n,bottom:r}}function da(e){return`var(--DataGrid-overlayHeight, ${2*nt(e.current.state).rowHeight}px)`}function ks(e,t,n){const r=[];return t.forEach(o=>{const l=Zo(o,n,"A row was provided without id when calling updateRows():"),s=e.current.getRowNode(l);if((s==null?void 0:s.type)==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[l];c&&(a.idLookup[l]=h({},c,o))}else r.push(o)}),r}const Zg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],em=e=>{const{classes:t}=e;return de({root:["booleanCell"]},ue,t)};function tm(e){const{value:t}=e,n=ne(e,Zg),r=ie(),o=Z(),l={classes:o.classes},s=em(l),a=i.useMemo(()=>t?o.slots.booleanCellTrueIcon:o.slots.booleanCellFalseIcon,[o.slots.booleanCellFalseIcon,o.slots.booleanCellTrueIcon,t]);return v.jsx(a,h({fontSize:"small",className:s.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))}const fa=i.memo(tm),ga=e=>e.field!=="__row_group_by_columns_group__"&&Mn(e.rowNode)?"":v.jsx(fa,h({},e)),nm=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],om=e=>{const{classes:t}=e;return de({root:["editBooleanCell"]},ue,t)};function ma(e){var S;const{id:t,value:n,field:r,className:o,hasFocus:l,onValueChange:s}=e,a=ne(e,nm),c=ie(),u=i.useRef(null),d=_e(),[f,g]=i.useState(n),m=Z(),C={classes:m.classes},b=om(C),p=i.useCallback(async x=>{const D=x.target.checked;s&&await s(x,D),g(D),await c.current.setEditCellValue({id:t,field:r,value:D},x)},[c,r,t,s]);return i.useEffect(()=>{g(n)},[n]),Ye(()=>{l&&u.current.focus()},[l]),v.jsx("label",h({htmlFor:d,className:me(b.root,o)},a,{children:v.jsx(m.slots.baseCheckbox,h({id:d,inputRef:u,checked:!!f,onChange:p,size:"small"},(S=m.slotProps)==null?void 0:S.baseCheckbox))}))}const ha=e=>v.jsx(ma,h({},e)),rm=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],lm=je("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function pa(e){var E,H,G;const{item:t,applyValue:n,apiRef:r,focusElementRef:o,clearButton:l,tabIndex:s,label:a,variant:c="standard"}=e,u=ne(e,rm),[d,f]=i.useState(t.value||""),g=Z(),m=_e(),C=_e(),b=((E=g.slotProps)==null?void 0:E.baseSelect)||{},p=b.native??!1,S=((H=g.slotProps)==null?void 0:H.baseSelectOption)||{},x=i.useCallback(A=>{const F=A.target.value;f(F),n(h({},t,{value:F}))},[n,t]);i.useEffect(()=>{f(t.value||"")},[t.value]);const D=a??r.current.getLocaleText("filterPanelInputLabel");return v.jsxs(lm,{children:[v.jsxs(g.slots.baseFormControl,{fullWidth:!0,children:[v.jsx(g.slots.baseInputLabel,h({},(G=g.slotProps)==null?void 0:G.baseInputLabel,{id:m,shrink:!0,variant:c,children:D})),v.jsxs(g.slots.baseSelect,h({labelId:m,id:C,label:D,value:d,onChange:x,variant:c,notched:c==="outlined"?!0:void 0,native:p,displayEmpty:!0,inputProps:{ref:o,tabIndex:s}},u,b,{children:[v.jsx(g.slots.baseSelectOption,h({},S,{native:p,value:"",children:r.current.getLocaleText("filterValueAny")})),v.jsx(g.slots.baseSelectOption,h({},S,{native:p,value:"true",children:r.current.getLocaleText("filterValueTrue")})),v.jsx(g.slots.baseSelectOption,h({},S,{native:p,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]}))]}),l]})}const Ca=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=String(e.value)==="true";return n=>!!n===t},InputComponent:pa}],sm=(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),im=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},fl=h({},Ct,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:ga,renderEditCell:ha,sortComparator:ll,valueFormatter:sm,filterOperators:Ca(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:e=>im(e)}),am=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],cm=e=>{const{classes:t}=e;return de({root:["checkboxInput"]},ue,t)},ba=i.forwardRef(function(t,n){var H;const{field:r,id:o,value:l,rowNode:s,hasFocus:a,tabIndex:c}=t,u=ne(t,am),d=ie(),f=Z(),g={classes:f.classes},m=cm(g),C=i.useRef(null),b=i.useRef(null),p=Gt(C,n),S=G=>{const A={value:G.target.checked,id:o};d.current.publishEvent("rowSelectionCheckboxChange",A,G)};i.useLayoutEffect(()=>{if(c===0){const G=d.current.getCellElement(o,r);G&&(G.tabIndex=-1)}},[d,c,o,r]),i.useEffect(()=>{var G;if(a){const A=(G=C.current)==null?void 0:G.querySelector("input");A==null||A.focus({preventScroll:!0})}else b.current&&b.current.stop({})},[a]);const x=i.useCallback(G=>{G.key===" "&&G.stopPropagation()},[]);if(s.type==="footer"||s.type==="pinnedRow")return null;const D=d.current.isRowSelectable(o),E=d.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return v.jsx(f.slots.baseCheckbox,h({ref:p,tabIndex:c,checked:l,onChange:S,className:m.root,inputProps:{"aria-label":E},onKeyDown:x,disabled:!D,touchRippleRef:b},(H=f.slotProps)==null?void 0:H.baseCheckbox,u))}),wa=ba;function gl(e){return e.signature===ht.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const to=e=>e.focus,st=re(to,e=>e.cell),Sa=re(to,e=>e.columnHeader),um=re(to,e=>e.columnHeaderFilter),Un=re(to,e=>e.columnGroupHeader),no=e=>e.tabIndex,er=re(no,e=>e.cell),ml=re(no,e=>e.columnHeader),dm=re(no,e=>e.columnHeaderFilter),ya=re(no,e=>e.columnGroupHeader),it=e=>e.rowSelection,xa=re(it,e=>e.length),va=Pe(it,_t,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Pn=Pe(it,e=>e.reduce((t,n)=>(t[n]=n,t),{})),Ia=e=>e.sorting,tr=re(Ia,e=>e.sortedRows),nr=Pe(tr,_t,rt,(e,t,n)=>e.reduce((r,o)=>{const l=t[o];l&&r.push({id:o,model:l});const s=n[o];return s&&Mn(s)&&r.push({id:o,model:{[en]:o}}),r},[])),at=re(Ia,e=>e.sortModel),Ma=Pe(at,e=>e.reduce((n,r,o)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?o+1:void 0},n),{})),or=e=>e.filter,We=re(or,e=>e.filterModel),Pa=re(We,e=>e.quickFilterValues),Ea=e=>e.visibleRowsLookup,hl=re(or,e=>e.filteredRowsLookup);re(or,e=>e.filteredChildrenCountLookup);const fm=re(or,e=>e.filteredDescendantCountLookup),$t=Pe(Ea,nr,(e,t)=>t.filter(n=>e[n.id]!==!1)),tn=Pe($t,e=>e.map(t=>t.id)),pl=Pe(hl,nr,(e,t)=>t.filter(n=>e[n.id]!==!1)),Cl=Pe(pl,e=>e.map(t=>t.id));Pe(tn,rt,(e,t)=>{const n={};let r=0;return e.reduce((o,l)=>{const s=t[l];return n[s.depth]||(n[s.depth]=0),s.depth>r&&(n[s.depth]=0),r=s.depth,n[s.depth]+=1,o[l]=n[s.depth],o},{})});const bl=Pe($t,rt,eo,(e,t,n)=>n<2?e:e.filter(r=>{var o;return((o=t[r.id])==null?void 0:o.depth)===0})),rr=re($t,e=>e.length),lr=re(bl,e=>e.length),Fa=re(pl,e=>e.length),gm=re(Fa,lr,(e,t)=>e-t),wl=Pe(We,Pt,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var s,a;if(!r.field)return!1;const o=t[r.field];if(!(o!=null&&o.filterOperators)||((s=o==null?void 0:o.filterOperators)==null?void 0:s.length)===0)return!1;const l=o.filterOperators.find(c=>c.value===r.operator);return l?!l.InputComponent||r.value!=null&&((a=r.value)==null?void 0:a.toString())!=="":!1})}),ka=Pe(wl,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{}));function ce(e,t,n){const r=i.useRef(!0);i.useEffect(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}function Ue(e,t){const n=i.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const Sl=(e,t,n,r,o)=>{const l=Ue(e,"useNativeEventListener"),[s,a]=i.useState(!1),c=i.useRef(r),u=Xi(t)?t():(t==null?void 0:t.current)??null,d=i.useCallback(f=>c.current&&c.current(f),[]);i.useEffect(()=>{c.current=r},[r]),i.useEffect(()=>{if(u&&n&&!s){l.debug(`Binding native ${n} event`),u.addEventListener(n,d,o),a(!0);const f=()=>{l.debug(`Clearing native ${n} event`),u.removeEventListener(n,d,o)};e.current.subscribeEvent("unmount",f)}},[u,d,n,s,l,o,e])},Hn=e=>{const t=i.useRef(!0);t.current&&(t.current=!1,e())},mm=()=>{},Da=(e,t)=>{const n=i.useRef(!1);Ye(()=>n.current||!e?mm:(n.current=!0,t()),[n.current||e])},hm=100,pm=e=>e?0:100,Ta=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,Oa=e=>({page:0,pageSize:e?0:100}),Cm=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),Ha=(e,t)=>{if(t===ht.DataGrid&&e>hm)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},oo=e=>e.pagination,Je=re(oo,e=>e.paginationModel),Zt=re(oo,e=>e.rowCount),xn=re(oo,e=>e.meta),_a=re(Je,e=>e.page),La=re(Je,e=>e.pageSize),yl=re(Je,Zt,(e,t)=>Ta(t,e.pageSize,e.page)),sr=Pe(Je,rt,eo,$t,bl,(e,t,n,r,o)=>{var m;const l=o.length,s=Math.min(e.pageSize*e.page,l-1),a=Math.min(s+e.pageSize-1,l-1);if(s===-1||a===-1)return null;if(n<2)return{firstRowIndex:s,lastRowIndex:a};const c=o[s],u=a-s+1,d=r.findIndex(C=>C.id===c.id);let f=d,g=0;for(;f<r.length&&g<=u;){const C=r[f],b=(m=t[C.id])==null?void 0:m.depth;b===void 0?f+=1:((g<u||b>0)&&(f+=1),b===0&&(g+=1))}return{firstRowIndex:d,lastRowIndex:f-1}}),Ga=Pe($t,sr,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),xl=Pe(tn,sr,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),bm=["field","colDef"],wm=e=>{const{classes:t}=e;return de({root:["checkboxInput"]},ue,t)},Ra=i.forwardRef(function(t,n){var F;const r=ne(t,bm),[,o]=i.useState(!1),l=ie(),s=Z(),a={classes:s.classes},c=wm(a),u=U(l,ml),d=U(l,it),f=U(l,tn),g=U(l,xl),m=i.useMemo(()=>typeof s.isRowSelectable!="function"?d:d.filter(y=>l.current.getRow(y)?s.isRowSelectable(l.current.getRowParams(y)):!1),[l,s.isRowSelectable,d]),C=i.useMemo(()=>(!s.pagination||!s.checkboxSelectionVisibleOnly?f:g).reduce((_,$)=>(_[$]=!0,_),{}),[s.pagination,s.checkboxSelectionVisibleOnly,g,f]),b=i.useMemo(()=>m.filter(y=>C[y]).length,[m,C]),p=b>0&&b<Object.keys(C).length,S=b>0,x=y=>{const _={value:y.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",_)},D=u!==null&&u.field===t.field?0:-1;i.useLayoutEffect(()=>{const y=l.current.getColumnHeaderElement(t.field);D===0&&y&&(y.tabIndex=-1)},[D,l,t.field]);const E=i.useCallback(y=>{y.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!S})},[l,S]),H=i.useCallback(()=>{o(y=>!y)},[]);i.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",H),[l,H]);const G=l.current.getLocaleText(S?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows"),A=s.indeterminateCheckboxAction==="select"?S&&!p:S;return v.jsx(s.slots.baseCheckbox,h({ref:n,indeterminate:p,checked:A,onChange:x,className:c.root,inputProps:{"aria-label":G},tabIndex:D,onKeyDown:E,disabled:!gl(s)},(F=s.slotProps)==null?void 0:F.baseCheckbox,r))}),Ht="__check__",cn=h({},fl,{type:"custom",field:Ht,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(e,t,n,r)=>{const o=Pn(r),l=r.current.getRowId(t);return o[l]!==void 0},renderHeader:e=>v.jsx(Ra,h({},e)),renderCell:e=>v.jsx(wa,h({},e))}),Sm=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Ds(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function Jt(e){var D;const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,InputProps:s,clearButton:a,tabIndex:c,disabled:u}=e,d=ne(e,Sm),f=Dn(),[g,m]=i.useState(()=>Ds(t.value,r)),[C,b]=i.useState(!1),p=_e(),S=Z(),x=i.useCallback(E=>{f.clear();const H=E.target.value;m(H),b(!0),f.start(S.filterDebounceMs,()=>{const G=new Date(H);n(h({},t,{value:Number.isNaN(G.getTime())?void 0:G})),b(!1)})},[n,t,S.filterDebounceMs,f]);return i.useEffect(()=>{const E=Ds(t.value,r);m(E)},[t.value,r]),v.jsx(S.slots.baseTextField,h({fullWidth:!0,id:p,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:g,onChange:x,variant:"standard",type:r||"text",InputLabelProps:{shrink:!0},inputRef:l,InputProps:h({},C||a?{endAdornment:C?v.jsx(S.slots.loadIcon,{fontSize:"small",color:"action"}):a}:{},{disabled:u},s,{inputProps:h({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:c},s==null?void 0:s.inputProps)})},d,(D=S.slotProps)==null?void 0:D.baseTextField))}function gn(e,t,n,r){if(!e.value)return null;const o=new Date(e.value);n?o.setSeconds(0,0):(o.setMinutes(o.getMinutes()+o.getTimezoneOffset()),o.setHours(0,0,0,0));const l=o.getTime();return s=>{if(!s)return!1;if(r)return t(s.getTime(),l);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),l)}}const vl=e=>[{value:"is",getApplyFilterFn:t=>gn(t,(n,r)=>n===r,e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>gn(t,(n,r)=>n!==r,e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>gn(t,(n,r)=>n>r,e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>gn(t,(n,r)=>n>=r,e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>gn(t,(n,r)=>n<r,e,!e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>gn(t,(n,r)=>n<=r,e),InputComponent:Jt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],ym=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],xm=je(mi)({fontSize:"inherit"}),vm=e=>{const{classes:t}=e;return de({root:["editInputCell"]},ue,t)};function $a(e){const{id:t,value:n,field:r,colDef:o,hasFocus:l,inputProps:s,onValueChange:a}=e,c=ne(e,ym),u=o.type==="dateTime",d=ie(),f=i.useRef(),g=i.useMemo(()=>{let E;n==null?E=null:n instanceof Date?E=n:E=new Date((n??"").toString());let H;return E==null||Number.isNaN(E.getTime())?H="":H=new Date(E.getTime()-E.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:E,formatted:H}},[n,u]),[m,C]=i.useState(g),p={classes:Z().classes},S=vm(p),x=i.useCallback(E=>{if(E==="")return null;const[H,G]=E.split("T"),[A,F,y]=H.split("-"),_=new Date;if(_.setFullYear(Number(A),Number(F)-1,Number(y)),_.setHours(0,0,0,0),G){const[$,O]=G.split(":");_.setHours(Number($),Number(O),0,0)}return _},[]),D=i.useCallback(async E=>{const H=E.target.value,G=x(H);a&&await a(E,G),C({parsed:G,formatted:H}),d.current.setEditCellValue({id:t,field:r,value:G},E)},[d,r,t,a,x]);return i.useEffect(()=>{C(E=>{var H,G;return g.parsed!==E.parsed&&((H=g.parsed)==null?void 0:H.getTime())!==((G=E.parsed)==null?void 0:G.getTime())?g:E})},[g]),Ye(()=>{l&&f.current.focus()},[l]),v.jsx(xm,h({inputRef:f,fullWidth:!0,className:S.root,type:u?"datetime-local":"date",inputProps:h({max:u?"9999-12-31T23:59":"9999-12-31"},s),value:m.formatted,onChange:D},c))}const Il=e=>v.jsx($a,h({},e));function Aa({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}const ja=(e,t,n,r)=>{if(!e)return"";const o=r.current.getRowId(t);return Aa({value:e,columnType:"date",rowId:o,field:n.field}),e.toLocaleDateString()},za=(e,t,n,r)=>{if(!e)return"";const o=r.current.getRowId(t);return Aa({value:e,columnType:"dateTime",rowId:o,field:n.field}),e.toLocaleString()},Va=h({},Ct,{type:"date",sortComparator:sl,valueFormatter:ja,filterOperators:vl(),renderEditCell:Il,pastedValueParser:e=>new Date(e)}),Na=h({},Ct,{type:"dateTime",sortComparator:sl,valueFormatter:za,filterOperators:vl(!0),renderEditCell:Il,pastedValueParser:e=>new Date(e)}),jt=e=>e==null?null:Number(e),Ba=e=>e==null||Number.isNaN(e)||e===""?null:t=>jt(t)===jt(e),Ua=()=>[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>jt(t)===e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>jt(t)!==e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jt(t)>e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jt(t)>=e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jt(t)<e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jt(t)<=e.value,InputComponent:ct,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:al,InputComponentProps:{type:"number"}}],Wa=h({},Ct,{type:"number",align:"right",headerAlign:"right",sortComparator:ll,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>kg(e)?e.toLocaleString():e||"",filterOperators:Ua(),getApplyQuickFilterFn:Ba});function En(e){return(e==null?void 0:e.type)==="singleSelect"}function nn(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(h({field:e.field},t)):e.valueOptions}function Ao(e,t,n){if(t===void 0)return;const r=t.find(o=>{const l=n(o);return String(l)===String(e)});return n(r)}const Im=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],Mm=["MenuProps"];function Pm(e){return!!e.key}function qa(e){var O,P;const t=Z(),{id:n,value:r,field:o,row:l,colDef:s,hasFocus:a,error:c,onValueChange:u,initialOpen:d=t.editMode===vt.Cell}=e,f=ne(e,Im),g=ie(),m=i.useRef(),C=i.useRef(),[b,p]=i.useState(d),x=(((O=t.slotProps)==null?void 0:O.baseSelect)||{}).native??!1,D=((P=t.slotProps)==null?void 0:P.baseSelect)||{},{MenuProps:E}=D,H=ne(D,Mm);if(Ye(()=>{var L;a&&((L=C.current)==null||L.focus())},[a]),!En(s))return null;const G=nn(s,{id:n,row:l});if(!G)return null;const A=s.getOptionValue,F=s.getOptionLabel,y=async L=>{if(!En(s)||!G)return;p(!1);const I=L.target,M=Ao(I.value,G,A);u&&await u(L,M),await g.current.setEditCellValue({id:n,field:o,value:M},L)},_=(L,I)=>{if(t.editMode===vt.Row){p(!1);return}if(I==="backdropClick"||L.key==="Escape"){const M=g.current.getCellParams(n,o);g.current.publishEvent("cellEditStop",h({},M,{reason:L.key==="Escape"?mt.escapeKeyDown:mt.cellFocusOut}))}},$=L=>{Pm(L)&&L.key==="Enter"||p(!0)};return!G||!s?null:v.jsx(t.slots.baseSelect,h({ref:m,inputRef:C,value:r,onChange:y,open:b,onOpen:$,MenuProps:h({onClose:_},E),error:c,native:x,fullWidth:!0},f,H,{children:G.map(L=>{var M;const I=A(L);return i.createElement(t.slots.baseSelectOption,h({},((M=t.slotProps)==null?void 0:M.baseSelectOption)||{},{native:x,key:I,value:I}),F(L))})}))}const Ka=e=>v.jsx(qa,h({},e)),Em=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],Fm=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:r,isSelectNative:o,baseSelectOptionProps:l})=>["",...nn(e)||[]].map(a=>{const c=r(a);let u=n(a);return u===""&&(u=" "),i.createElement(t,h({},l,{native:o,key:c,value:c}),u)}),km=je("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Tr(e){var A,F,y,_,$;const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:l,placeholder:s,tabIndex:a,label:c,variant:u="standard",clearButton:d}=e,f=ne(e,Em),g=t.value??"",m=_e(),C=_e(),b=Z(),p=((F=(A=b.slotProps)==null?void 0:A.baseSelect)==null?void 0:F.native)??!1;let S=null;if(t.field){const O=o.current.getColumn(t.field);En(O)&&(S=O)}const x=S==null?void 0:S.getOptionValue,D=S==null?void 0:S.getOptionLabel,E=i.useMemo(()=>nn(S),[S]),H=i.useCallback(O=>{let P=O.target.value;P=Ao(P,E,x),n(h({},t,{value:P}))},[E,x,n,t]);if(!En(S))return null;const G=c??o.current.getLocaleText("filterPanelInputLabel");return v.jsxs(km,{children:[v.jsxs(b.slots.baseFormControl,{fullWidth:!0,children:[v.jsx(b.slots.baseInputLabel,h({},(y=b.slotProps)==null?void 0:y.baseInputLabel,{id:C,htmlFor:m,shrink:!0,variant:u,children:G})),v.jsx(b.slots.baseSelect,h({id:m,label:G,labelId:C,value:g,onChange:H,variant:u,type:r||"text",inputProps:{tabIndex:a,ref:l,placeholder:s??o.current.getLocaleText("filterPanelInputPlaceholder")},native:p,notched:u==="outlined"?!0:void 0},f,(_=b.slotProps)==null?void 0:_.baseSelect,{children:Fm({column:S,OptionComponent:b.slots.baseSelectOption,getOptionLabel:D,getOptionValue:x,isSelectNative:p,baseSelectOptionProps:($=b.slotProps)==null?void 0:$.baseSelectOption})}))]}),d]})}const Dm=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],Tm=["key"],Om=ad();function Xa(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:l,error:s,helperText:a,size:c,variant:u="standard"}=e,d=ne(e,Dm),f={color:l,error:s,helperText:a,size:c,variant:u},g=_e(),m=Z();let C=null;if(t.field){const H=r.current.getColumn(t.field);En(H)&&(C=H)}const b=C==null?void 0:C.getOptionValue,p=C==null?void 0:C.getOptionLabel,S=i.useCallback((H,G)=>b(H)===b(G),[b]),x=i.useMemo(()=>nn(C)||[],[C]),D=i.useMemo(()=>Array.isArray(t.value)?t.value.reduce((H,G)=>{const A=x.find(F=>b(F)===G);return A!=null&&H.push(A),H},[]):[],[b,t.value,x]),E=i.useCallback((H,G)=>{n(h({},t,{value:G.map(b)}))},[n,t,b]);return v.jsx(hi,h({multiple:!0,options:x,isOptionEqualToValue:S,filterOptions:Om,id:g,value:D,onChange:E,getOptionLabel:p,renderTags:(H,G)=>H.map((A,F)=>{const y=G({index:F}),{key:_}=y,$=ne(y,Tm);return v.jsx(m.slots.baseChip,h({variant:"outlined",size:"small",label:p(A)},$),_)}),renderInput:H=>{var G;return v.jsx(m.slots.baseTextField,h({},H,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:h({},H.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},f,(G=m.slotProps)==null?void 0:G.baseTextField))}},d))}const mn=e=>e==null||!il(e)?e:e.value,Ya=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>mn(t)===mn(e.value),InputComponent:Tr},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>mn(t)!==mn(e.value),InputComponent:Tr},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(mn);return n=>t.includes(mn(n))},InputComponent:Xa}],Hm=e=>typeof e[0]=="object",_m=e=>il(e)?e.value:e,Lm=e=>il(e)?e.label:String(e),Qa=h({},Ct,{type:"singleSelect",getOptionLabel:Lm,getOptionValue:_m,valueFormatter(e,t,n,r){const o=r.current.getRowId(t);if(!En(n))return"";const l=nn(n,{id:o,row:t});if(e==null)return"";if(!l)return e;if(!Hm(l))return n.getOptionLabel(e);const s=l.find(a=>n.getOptionValue(a)===e);return s?n.getOptionLabel(s):""},renderEditCell:Ka,filterOperators:Ya(),pastedValueParser:(e,t,n)=>{const r=n,o=nn(r)||[],l=r.getOptionValue;if(o.find(a=>l(a)===e))return e}}),Ja="string",Za=()=>({string:Ct,number:Wa,date:Va,dateTime:Na,boolean:fl,singleSelect:Qa,[Jn]:ra,custom:Ct}),ir=e=>e.headerFiltering,ec=re(ir,e=>(e==null?void 0:e.enabled)??!1),tc=re(ir,e=>e.editing),nc=re(ir,e=>e.menuOpen),ro=e=>e.columnGrouping,Ml=Pe(ro,e=>(e==null?void 0:e.unwrappedGroupingModel)??{}),Pl=Pe(ro,e=>(e==null?void 0:e.lookup)??{}),oc=Pe(ro,e=>(e==null?void 0:e.headerStructure)??[]),_n=re(ro,e=>(e==null?void 0:e.maxDepth)??0),rc=["maxWidth","minWidth","width","flex"],pr=Za();function Gm({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(s=>s.field)),o={all:{},frozenFields:[],freeze:s=>{const a=o.all[s];a&&a.frozen!==!0&&(o.all[s].frozen=!0,o.frozenFields.push(s))}};function l(){if(o.frozenFields.length===r.size)return;const s={min:{},max:{}};let a=e,c=t,u=0;o.frozenFields.forEach(d=>{a-=o.all[d].computedWidth,c-=o.all[d].flex});for(let d=0;d<n.length;d+=1){const f=n[d];if(o.all[f.field]&&o.all[f.field].frozen===!0)continue;let m=a/c*f.flex;m<f.minWidth?(u+=f.minWidth-m,m=f.minWidth,s.min[f.field]=!0):m>f.maxWidth&&(u+=f.maxWidth-m,m=f.maxWidth,s.max[f.field]=!0),o.all[f.field]={frozen:!1,computedWidth:m,flex:f.flex}}u<0?Object.keys(s.max).forEach(d=>{o.freeze(d)}):u>0?Object.keys(s.min).forEach(d=>{o.freeze(d)}):n.forEach(({field:d})=>{o.freeze(d)}),l()}return l(),o.all}const Or=(e,t)=>{const n={};let r=0,o=0;const l=[];e.orderedFields.forEach(c=>{let u=e.lookup[c],d=0,f=!1;e.columnVisibilityModel[c]!==!1&&(u.flex&&u.flex>0?(r+=u.flex,f=!0):d=Lt(u.width||Ct.width,u.minWidth||Ct.minWidth,u.maxWidth||Ct.maxWidth),o+=d),u.computedWidth!==d&&(u=h({},u,{computedWidth:d})),f&&l.push(u),n[c]=u});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-o,0);if(r>0&&s>0){const c=Gm({initialFreeSpace:a,totalFlexUnits:r,flexColumns:l});Object.keys(c).forEach(u=>{n[u].computedWidth=c[u].computedWidth})}return h({},e,{lookup:n})},Rm=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,o=Object.keys(r);if(o.length===0&&n.length===0)return e;const l={},s=[];for(let d=0;d<n.length;d+=1){const f=n[d];e.lookup[f]&&(l[f]=!0,s.push(f))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(d=>!l[d])],c=h({},e.lookup);for(let d=0;d<o.length;d+=1){const f=o[d],g=h({},c[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([m,C])=>{g[m]=C===-1?1/0:C}),c[f]=g}return h({},e,{orderedFields:a,lookup:c})};function Ts(e){let t=pr[Ja];return e&&pr[e]&&(t=pr[e]),t}const wn=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:r=ut(e),keepOnlyColumnsToUpsert:o=!1})=>{var d,f;const l=!e.current.state.columns;let s;if(l)s={orderedFields:[],lookup:{},columnVisibilityModel:r};else{const g=xt(e.current.state);s={orderedFields:o?[]:[...g.orderedFields],lookup:h({},g.lookup),columnVisibilityModel:r}}let a={};o&&!l&&(a=Object.keys(s.lookup).reduce((g,m)=>h({},g,{[m]:!1}),{})),t.forEach(g=>{const{field:m}=g;a[m]=!0;let C=s.lookup[m];C==null?(C=h({},Ts(g.type),{field:m,hasBeenResized:!1}),s.orderedFields.push(m)):o&&s.orderedFields.push(m),C&&C.type!==g.type&&(C=h({},Ts(g.type),{field:m}));let b=C.hasBeenResized;rc.forEach(p=>{g[p]!==void 0&&(b=!0,g[p]===-1&&(g[p]=1/0))}),s.lookup[m]=h({},C,g,{hasBeenResized:b})}),o&&!l&&Object.keys(s.lookup).forEach(g=>{a[g]||delete s.lookup[g]});const c=e.current.unstable_applyPipeProcessors("hydrateColumns",s),u=Rm(c,n);return Or(u,((f=(d=e.current).getRootDimensions)==null?void 0:f.call(d))??void 0)};function $m({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:o}){let l=e;for(let s=n;s<r;s+=1)if(o[s]){const c=o[s].id,u=t.current.unstable_getCellColSpanInfo(c,e);u&&u.spannedByColSpan&&(l=u.leftVisibleCellIndex)}return l}function El(e,t){const n=Tn(e),r=_n(e),o=ec(e),l=Math.floor(t.columnHeaderHeight*n),s=o?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return l*(1+(r??0))+s}const Os=1,Am=1.5,jm=e=>{const{scrollDirection:t,classes:n}=e,r={root:["scrollArea",`scrollArea--${t}`]};return de(r,ue,n)},zm=Se("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${k["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${k["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${k["scrollArea--left"]}`]:{left:0},[`&.${k["scrollArea--right"]}`]:{right:0}}));function Vm(e){const{scrollDirection:t}=e,n=i.useRef(null),r=ie(),o=Dn(),l=U(r,Tn),s=U(r,Jo),a=U(r,nt),c=i.useRef({left:0,top:0}),u=()=>{if(t==="left")return c.current.left>0;if(t==="right"){const F=s-a.viewportInnerSize.width;return c.current.left<F}return!1},[d,f]=i.useState(!1),[g,m]=i.useState(u),C=Z(),b=h({},C,{scrollDirection:t}),p=jm(b),S=El(r,C),x=Math.floor(C.columnHeaderHeight*l),D={height:x,top:S-x};t==="left"?D.left=a.leftPinnedWidth:t==="right"&&(D.right=a.rightPinnedWidth+(a.hasScrollX?a.scrollbarSize:0));const E=F=>{c.current=F,m(u)},H=Re(F=>{let y;if(F.preventDefault(),t==="left")y=F.clientX-n.current.getBoundingClientRect().right;else if(t==="right")y=Math.max(1,F.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");y=(y-Os)*Am+Os,o.start(0,()=>{r.current.scroll({left:c.current.left+y,top:c.current.top})})}),G=Re(()=>{f(!0)}),A=Re(()=>{f(!1)});return ee(r,"scrollPositionChange",E),ee(r,"columnHeaderDragStart",G),ee(r,"columnHeaderDragEnd",A),!d||!g?null:v.jsx(zm,{ref:n,className:me(p.root),ownerState:b,onDragOver:H,style:D})}const Hs=Yt(Vm),Nm=typeof window<"u"?i.useLayoutEffect:i.useEffect,Bm=()=>{};function Um(e,t,n){const r=i.useRef(null);r.current=t,Nm(()=>{if(typeof ResizeObserver>"u")return Bm;const o=e.current,l=new ResizeObserver(s=>{r.current(s)});return o&&l.observe(o),()=>{l.disconnect()}},[e,n])}const lc=i.createContext(void 0);function Et(){const e=i.useContext(lc);if(e===void 0)throw new Error(["MUI X: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Wn=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=sr(e),n=Ga(e)):(n=$t(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},Qt=(e,t)=>{const n=Wn(e,t);return i.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},Wm=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",qm=Wm.includes("firefox"),un=e=>e.rowsMeta,lo=e=>e.virtualization,Km=re(lo,e=>e.enabled),ar=re(lo,e=>e.enabledForColumns),sc=re(lo,e=>e.enabledForRows),so=re(lo,e=>e.renderContext),ic=Pe(e=>e.virtualization.renderContext.firstColumnIndex,e=>e.virtualization.renderContext.lastColumnIndex,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t})),Fl={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},ac=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return h({},e,{virtualization:{enabled:!n,enabledForColumns:!n,enabledForRows:!n&&!r,renderContext:Fl}})};function cc(e,t){const n=l=>{e.current.setState(s=>h({},s,{virtualization:h({},s.virtualization,{enabled:l,enabledForColumns:l,enabledForRows:l&&!t.autoHeight})}))};ce(e,{unstable_setVirtualization:n,unstable_setColumnVirtualization:l=>{e.current.setState(s=>h({},s,{virtualization:h({},s.virtualization,{enabledForColumns:l})}))}},"public"),i.useEffect(()=>{n(!t.disableVirtualization)},[t.disableVirtualization,t.autoHeight])}const kl=e=>e.rowSpanning,uc=re(kl,e=>e.hiddenCells),Xm=re(kl,e=>e.spannedCells),Ym=re(kl,e=>e.hiddenCellOriginMap),Cr=50;var Ve=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}(Ve||{});const _s={top:0,left:0},Qm=Object.freeze(new Map),Jm=(e,t,n,r,o)=>({direction:Ve.NONE,buffer:fc(e,Ve.NONE,t,n,r,o)});let Hr=!1;try{typeof window<"u"&&(Hr=/jsdom/.test(window.navigator.userAgent))}catch{}const Zm=()=>{const e=Et(),t=Z(),n=U(e,Ne),r=U(e,sc)&&!Hr,o=U(e,ar)&&!Hr,l=U(e,nt),s=l.viewportOuterSize,a=U(e,an),c=U(e,On),u=a.bottom.length>0,[d,f]=i.useState(Qm),g=Kt(),m=U(e,st),C=U(e,er),b=U(e,un),p=U(e,Pn),S=Qt(e,t),x=e.current.rootElementRef,D=e.current.mainElementRef,E=e.current.virtualScrollerRef,H=i.useRef(null),G=i.useRef(null),A=l.contentSize.height,F=l.columnsTotalWidth,y=U(e,Bi);Um(D,()=>e.current.resize());const _=i.useRef(_s),$=i.useRef(_s),O=i.useRef(Fl),P=U(e,so),L=Dn(),I=i.useRef(void 0),M=Xt(()=>Jm(g,t.rowBufferPx,t.columnBufferPx,l.rowHeight*15,Cr*6)).current,w={rowIndex:i.useMemo(()=>m?S.rows.findIndex(K=>K.id===m.id):-1,[m,S.rows]),columnIndex:i.useMemo(()=>m?n.findIndex(K=>K.field===m.field):-1,[m,n])},j=i.useCallback(K=>{if(nh(K,e.current.state.virtualization.renderContext))return;const Q=K.firstRowIndex!==O.current.firstRowIndex||K.lastRowIndex!==O.current.lastRowIndex;e.current.setState(J=>h({},J,{virtualization:h({},J.virtualization,{renderContext:K})})),l.isReady&&Q&&(O.current=K,e.current.publishEvent("renderedRowsIntervalChange",K)),$.current=_.current},[e,l.isReady]),T=()=>{const K={top:E.current.scrollTop,left:E.current.scrollLeft},Q=K.left-_.current.left,J=K.top-_.current.top,se=Q!==0||J!==0;_.current=K;const oe=se?oh(Q,J):Ve.NONE,ae=Math.abs(_.current.top-$.current.top),Le=Math.abs(_.current.left-$.current.left),Oe=ae>=l.rowHeight||Le>=Cr,He=M.direction!==oe;if(!(Oe||He))return P;if(He)switch(oe){case Ve.NONE:case Ve.LEFT:case Ve.RIGHT:I.current=void 0;break;default:I.current=P;break}M.direction=oe,M.buffer=fc(g,oe,t.rowBufferPx,t.columnBufferPx,l.rowHeight*15,Cr*6);const Ge=br(e,t,r,o),qe=wr(Ge,_.current,M);return cd.flushSync(()=>{j(qe)}),L.start(1e3,T),qe},R=()=>{const K=br(e,t,r,o),Q=wr(K,_.current,M);I.current=void 0,j(Q)},z=Re(K=>{const{scrollTop:Q,scrollLeft:J}=K.currentTarget;if(Q<0||!g&&J<0||g&&J>0)return;const se=T();e.current.publishEvent("scrollPositionChange",{top:Q,left:J,renderContext:se})}),N=Re(K=>{e.current.publishEvent("virtualScrollerWheel",{},K)}),B=Re(K=>{e.current.publishEvent("virtualScrollerTouchMove",{},K)}),W=(K={})=>{var ft;if(!K.rows&&!S.range)return[];const Q=K.renderContext??P,J=!u&&K.position===void 0||u&&K.position==="bottom",se=K.position!==void 0;let oe;switch(K.position){case"top":oe=0;break;case"bottom":oe=a.top.length+S.rows.length;break;case void 0:oe=a.top.length;break}const ae=K.rows??S.rows,Le=Q.firstRowIndex,Oe=Math.min(Q.lastRowIndex,ae.length),He=K.rows?ys(0,K.rows.length):ys(Le,Oe);let ve=-1;!se&&w.rowIndex!==-1&&(w.rowIndex<Le&&(ve=w.rowIndex,He.unshift(ve)),w.rowIndex>=Oe&&(ve=w.rowIndex,He.push(ve)));const Ge=[],qe=(ft=t.slotProps)==null?void 0:ft.row,ot=Rt(e);return He.forEach(Ae=>{var co,uo,fo;const{id:be,model:fe}=ae[Ae],ye=(((co=S==null?void 0:S.range)==null?void 0:co.firstRowIndex)||0)+oe+Ae;if(y){const dn=c.left.length,go=n.length-c.right.length;e.current.calculateColSpan({rowId:be,minFirstColumn:dn,maxLastColumn:go,columns:n}),c.left.length>0&&e.current.calculateColSpan({rowId:be,minFirstColumn:0,maxLastColumn:c.left.length,columns:n}),c.right.length>0&&e.current.calculateColSpan({rowId:be,minFirstColumn:n.length-c.right.length,maxLastColumn:n.length,columns:n})}const Ee=(m==null?void 0:m.id)===be,Fe=e.current.rowHasAutoHeight(be)?"auto":e.current.unstable_getRowHeight(be);let Ce;p[be]==null?Ce=!1:Ce=e.current.isRowSelectable(be);let Be=!1;K.position===void 0&&(Be=Ae===0);let ze=!1;const le=Ae===ae.length-1;if(J)if(se)ze=le;else{const dn=S.rows.length-1;Ae===dn&&(ze=!0)}const pe=Ae===ve;let ge=null;C!==null&&C.id===be&&(ge=e.current.getCellParams(be,C.field).cellMode==="view"?C.field:null);let we=Q;!se&&I.current&&Ae>=I.current.firstRowIndex&&Ae<I.current.lastRowIndex&&(we=I.current);const Ie=dc(ot,we,c.left.length),tt=le&&K.position==="top";if(Ge.push(v.jsx(t.slots.row,h({row:fe,rowId:be,index:ye,selected:Ce,offsetTop:K.rows?void 0:b.positions[Ae],offsetLeft:Ie,dimensions:l,rowHeight:Fe,tabbableCell:ge,pinnedColumns:c,visibleColumns:n,renderContext:we,focusedColumnIndex:Ee?w.columnIndex:void 0,isFirstVisible:Be,isLastVisible:ze,isNotVisible:pe,showBottomBorder:tt},qe),be)),pe)return;const ao=d.get(be);ao&&Ge.push(ao),K.position===void 0&&le&&Ge.push((fo=(uo=e.current).getInfiniteLoadingTriggerElement)==null?void 0:fo.call(uo,{lastRowId:be}))}),Ge},X=s.width&&F>=s.width,q=i.useMemo(()=>({overflowX:X?void 0:"hidden",overflowY:t.autoHeight?"hidden":void 0}),[X,t.autoHeight]),te=i.useMemo(()=>{const K={width:X?F:"auto",height:A};return t.autoHeight&&S.rows.length===0&&(K.height=da(e)),K},[e,F,A,X,t.autoHeight,S.rows.length]);return i.useEffect(()=>{e.current.publishEvent("virtualScrollerContentSizeChange")},[e,te]),Ye(()=>{e.current.resize()},[e,b.currentPageTotalHeight]),Ye(()=>{o&&(E.current.scrollLeft=0),r&&(E.current.scrollTop=0)},[o,r,x,E]),Da(s.width!==0,()=>{const K=br(e,t,r,o),Q=wr(K,_.current,M);j(Q),e.current.publishEvent("scrollPositionChange",{top:_.current.top,left:_.current.left,renderContext:Q})}),e.current.register("private",{updateRenderContext:R}),ee(e,"columnsChange",R),ee(e,"filteredRowsSet",R),ee(e,"rowExpansionChange",R),{renderContext:P,setPanels:f,getRows:W,getContainerProps:()=>({ref:D}),getScrollerProps:()=>({ref:E,onScroll:z,onWheel:N,onTouchMove:B,style:q,role:"presentation",tabIndex:qm?-1:void 0}),getContentProps:()=>({style:te,role:"presentation"}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:H,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:G,role:"presentation"})}};function br(e,t,n,r){const o=nt(e.current.state),l=Wn(e,t),s=Ne(e),a=Ym(e),c=e.current.state.rows.dataRowIds.at(-1),u=s.at(-1);return{enabledForRows:n,enabledForColumns:r,apiRef:e,autoHeight:t.autoHeight,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx,leftPinnedWidth:o.leftPinnedWidth,columnsTotalWidth:o.columnsTotalWidth,viewportInnerWidth:o.viewportInnerSize.width,viewportInnerHeight:o.viewportInnerSize.height,lastRowHeight:c!==void 0?e.current.unstable_getRowHeight(c):0,lastColumnWidth:(u==null?void 0:u.computedWidth)??0,rowsMeta:un(e.current.state),columnPositions:Rt(e),rows:l.rows,range:l.range,pinnedColumns:On(e),visibleColumns:s,hiddenCellsOriginMap:a}}function wr(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.visibleColumns.length},{top:o,left:l}=t,s=Math.abs(l)+e.leftPinnedWidth;if(e.enabledForRows){let c=Math.min(Ls(e,o,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const u=e.hiddenCellsOriginMap[c];if(u){const f=Math.min(...Object.values(u));c=Math.min(c,f)}const d=e.autoHeight?c+e.rows.length:Ls(e,o+e.viewportInnerHeight);r.firstRowIndex=c,r.lastRowIndex=d}if(e.enabledForColumns){let c=0,u=e.columnPositions.length,d=!1;const[f,g]=_r({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});for(let m=f;m<g&&!d;m+=1){const C=e.rows[m];d=e.apiRef.current.rowHasAutoHeight(C.id)}d||(c=Ut(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=Ut(s+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=c,r.lastColumnIndex=u}return eh(e,r,n)}function Ls(e,t,n){var s,a;const r=e.apiRef.current.getLastMeasuredRowIndex();let o=r===1/0;(s=e.range)!=null&&s.lastRowIndex&&!o&&(o=r>=e.range.lastRowIndex);const l=Lt(r-(((a=e.range)==null?void 0:a.firstRowIndex)||0),0,e.rowsMeta.positions.length);return o||e.rowsMeta.positions[l]>=t?Ut(t,e.rowsMeta.positions,n):th(t,e.rowsMeta.positions,l,n)}function eh(e,t,n){const[r,o]=_r({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[l,s]=_r({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns.left.length,maxLastIndex:e.visibleColumns.length-e.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=$m({firstColumnToRender:l,apiRef:e.apiRef,firstRowToRender:r,lastRowToRender:o,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:o,firstColumnIndex:a,lastColumnIndex:s}}function Ut(e,t,n=void 0,r=0,o=t.length){if(t.length<=0)return-1;if(r>=o)return r;const l=r+Math.floor((o-r)/2),s=t[l];let a;if(n!=null&&n.atStart){const c=(l===t.length-1?n.lastPosition:t[l+1])-s;a=e-c<s}else a=e<=s;return a?Ut(e,t,n,r,l):Ut(e,t,n,l+1,o)}function th(e,t,n,r=void 0){let o=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=o,o*=2;return Ut(e,t,r,Math.floor(n/2),Math.min(n,t.length))}function _r({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:r,minFirstIndex:o,maxLastIndex:l,positions:s,lastSize:a}){const c=s[e]-n,u=s[t]+r,d=Ut(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),f=Ut(u,s);return[Lt(d,o,l),Lt(f,o,l)]}function nh(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function dc(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function oh(e,t){return e===0&&t===0?Ve.NONE:Math.abs(t)>=Math.abs(e)?t>0?Ve.DOWN:Ve.UP:e>0?Ve.RIGHT:Ve.LEFT}function fc(e,t,n,r,o,l){if(e)switch(t){case Ve.LEFT:t=Ve.RIGHT;break;case Ve.RIGHT:t=Ve.LEFT;break}switch(t){case Ve.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case Ve.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:l};case Ve.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:l,columnBefore:0};case Ve.UP:return{rowAfter:0,rowBefore:o,columnAfter:0,columnBefore:0};case Ve.DOWN:return{rowAfter:o,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const rh=()=>{var d,f;const e=ie(),t=Z(),n=U(e,Zn),r=U(e,rr),o=n===0,l=U(e,la),s=!l&&o,a=!l&&n>0&&r===0;let c=null,u=null;return s&&(c="noRowsOverlay"),a&&(c="noResultsOverlay"),l&&(c="loadingOverlay",u=((f=(d=t.slotProps)==null?void 0:d.loadingOverlay)==null?void 0:f[o?"noRowsVariant":"variant"])||null),{overlayType:c,loadingOverlayVariant:u}},lh=Se("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e,loadingOverlayVariant:t})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),sh=Se("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),ih=e=>{const{classes:t}=e;return de({root:["overlayWrapper"],inner:["overlayWrapperInner"]},ue,t)};function ah(e){const t=ie(),n=Z(),r=Qt(t,n),o=U(t,nt);let l=o.viewportOuterSize.height-o.topContainerHeight-o.bottomContainerHeight-(o.hasScrollX?o.scrollbarSize:0);(n.autoHeight&&r.rows.length===0||l===0)&&(l=da(t));const s=ih(h({},e,{classes:n.classes}));return v.jsx(lh,h({className:me(s.root)},e,{children:v.jsx(sh,h({className:me(s.inner),style:{height:l,width:o.viewportOuterSize.width}},e))}))}function gc(e){var l,s;const{overlayType:t}=e,n=Z();if(!t)return null;const r=(l=n.slots)==null?void 0:l[t],o=(s=n.slotProps)==null?void 0:s[t];return v.jsx(ah,h({},e,{children:v.jsx(r,h({},o))}))}const zn=e=>e.columnMenu;function ch(){var p;const e=Et(),t=Z(),n=U(e,Ne),r=U(e,ka),o=U(e,Ma),l=U(e,ml),s=U(e,er),a=U(e,ya),c=U(e,Sa),u=U(e,Un),d=U(e,_n),f=U(e,zn),g=U(e,ut),m=U(e,oc),C=!(a===null&&l===null&&s===null),b=e.current.columnHeadersContainerRef;return v.jsx(t.slots.columnHeaders,h({ref:b,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:o,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:C},(p=t.slotProps)==null?void 0:p.columnHeaders))}const uh=Yt(ch),mc=i.createContext(void 0),hc=()=>{const e=i.useContext(mc);if(e===void 0)throw new Error(["MUI X: Could not find the data grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e},dh=Se("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0}),fh=Se("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})({flexGrow:1,position:"relative",overflow:"hidden"}),gh=i.forwardRef((e,t)=>{const n=Z(),o=hc().hooks.useGridAriaAttributes();return v.jsxs(fh,h({ref:t,ownerState:n,className:e.className,tabIndex:-1},o,{children:[v.jsx(dh,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),mh=()=>de({root:["topContainer"]},ue,{}),hh=Se("div")({position:"sticky",zIndex:4,top:0});function ph(e){const t=mh();return v.jsx(hh,h({},e,{className:me(t.root,e.className,k["container--top"]),role:"presentation"}))}const Ch=()=>de({root:["bottomContainer"]},ue,{}),bh=Se("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function wh(e){const t=Ch();return v.jsx(bh,h({},e,{className:me(t.root,e.className,k["container--bottom"]),role:"presentation"}))}const Sh=(e,t)=>{const{classes:n}=e;return de({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},ue,n)},yh=Se("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),xh=i.forwardRef(function(t,n){var s;const r=Z(),o=!r.autoHeight&&((s=t.style)==null?void 0:s.minHeight)==="auto",l=Sh(r,o);return v.jsx(yh,h({ref:n},t,{ownerState:r,className:me(l.root,t.className)}))}),vh=Se("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),pc=Se("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),Ih=Se(pc)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),Mh=Se(pc)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),Ph=Se("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function Eh({rowsLength:e}){const t=ie(),{viewportOuterSize:n,minimumSize:r,hasScrollX:o,hasScrollY:l,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=U(t,nt),u=o?s:0,d=n.height-r.height-u,f=Math.max(u,d);return f===0?null:v.jsxs(vh,{className:k.filler,role:"presentation",style:{height:f,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&v.jsx(Ih,{className:k["filler--pinnedLeft"],style:{width:a}}),v.jsx(Ph,{}),c>0&&v.jsx(Mh,{className:k["filler--pinnedRight"],style:{width:c+(l?s:0)}})]})}const Fh=Yt(Eh),kh=["className"],Dh=e=>{const{classes:t}=e;return de({root:["virtualScrollerRenderZone"]},ue,t)},Th=Se("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),Oh=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,kh),l=ie(),s=Z(),a=Dh(s),c=U(l,()=>{const u=so(l);return un(l.current.state).positions[u.firstRowIndex]??0});return v.jsx(Th,h({ref:n,className:me(a.root,r),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},o))}),Cc=e=>e.columnResize,Hh=re(Cc,e=>e.resizingColumnField),bc={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1},Xe=e=>e.editRows,Wt=e=>e.preferencePanel;var bt=function(e){return e.filters="filters",e.columns="columns",e}(bt||{});const _h=(e,t)=>{const{classes:n}=e,r={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return de(r,ue,n)},wc=Se("div")({position:"absolute",display:"inline-block",zIndex:6,"& > div":{display:"inline-block"},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),Lh=Se(wc)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),Gh=Se(wc)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Rh=Se("div")({display:"inline-block"}),Gs=i.forwardRef(function(t,n){const r=Et(),o=Z(),l=i.useRef(!1),s=i.useRef(0),a=i.useRef(null),c=i.useRef(null),u=_h(o,t.position),d=U(r,nt),f=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?d.hasScrollX:d.hasScrollY,C=d.minimumSize[f]+(m?d.scrollbarSize:0),p=(t.position==="vertical"?d.viewportInnerSize.height:d.viewportOuterSize.width)*(C/d.viewportOuterSize[f]),S=Re(()=>{const E=r.current.virtualScrollerRef.current,H=a.current;if(E[g]===s.current)return;if(l.current){l.current=!1;return}l.current=!0;const G=E[g]/C;H[g]=G*p,s.current=E[g]}),x=Re(()=>{const E=r.current.virtualScrollerRef.current,H=a.current;if(l.current){l.current=!1;return}l.current=!0;const G=H[g]/p;E[g]=G*C});Yn(()=>{const E=r.current.virtualScrollerRef.current,H=a.current;return E.addEventListener("scroll",S,{capture:!0}),H.addEventListener("scroll",x,{capture:!0}),()=>{E.removeEventListener("scroll",S,{capture:!0}),H.removeEventListener("scroll",x,{capture:!0})}}),i.useEffect(()=>{c.current.style.setProperty(f,`${p}px`)},[p,f]);const D=t.position==="vertical"?Lh:Gh;return v.jsx(D,{ref:Gt(n,a),className:u.root,tabIndex:-1,"aria-hidden":"true",children:v.jsx(Rh,{ref:c,className:u.content})})}),$h=(e,t,n)=>{const{classes:r}=e,o={root:["main",t.rightPinnedWidth>0&&"main--hasPinnedRight",n==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",t.hasScrollX&&"virtualScroller--hasScrollX"]};return de(o,ue,r)},Ah=Se("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({position:"relative",height:"100%",overflow:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function Sc(e){const t=ie(),n=Z(),r=U(t,nt),o=rh(),l=$h(n,r,o.loadingOverlayVariant),s=Zm(),{getContainerProps:a,getScrollerProps:c,getContentProps:u,getRenderZoneProps:d,getScrollbarVerticalProps:f,getScrollbarHorizontalProps:g,getRows:m}=s,C=m();return v.jsxs(gh,h({className:l.root},a(),{children:[v.jsx(Hs,{scrollDirection:"left"}),v.jsx(Hs,{scrollDirection:"right"}),v.jsxs(Ah,h({className:l.scroller},c(),{ownerState:n,children:[v.jsxs(ph,{children:[v.jsx(uh,{}),v.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:s})]}),v.jsx(gc,h({},o)),v.jsx(xh,h({},u(),{children:v.jsxs(Oh,h({},d(),{children:[C,v.jsx(n.slots.detailPanels,{virtualScroller:s})]}))})),v.jsx(Fh,{rowsLength:C.length}),v.jsx(wh,{children:v.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:s})})]})),r.hasScrollY&&v.jsx(Gs,h({position:"vertical"},f())),r.hasScrollX&&v.jsx(Gs,h({position:"horizontal"},g())),e.children]}))}function yc(){var t;const e=Z();return e.hideFooter?null:v.jsx(e.slots.footer,h({},(t=e.slotProps)==null?void 0:t.footer))}let Sr;function jh(){return Sr===void 0&&document.createElement("div").focus({get preventScroll(){return Sr=!0,!1}}),Sr}function zh(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function jo(e,t){return e.closest(`.${t}`)}function At(e){return e.replace(/["\\]/g,"\\$&")}function Vh(e,t){return e.querySelector(`[role="columnheader"][data-field="${At(t)}"]`)}function xc(e){return`.${k.row}[data-id="${At(String(e))}"]`}function Nh(e,t){return e.querySelector(xc(t))}function Bh(e,{id:t,field:n}){const r=xc(t),o=`.${k.cell}[data-field="${At(n)}"]`,l=`${r} ${o}`;return e.querySelector(l)}function io(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function Uh(e){return e.getAttribute("data-field")}function Wh(e,t){return e.querySelector(`[data-field="${At(t)}"]`)}function qh(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function Kh(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${At(t)}-|"]`)??[])}function Xh(e,t){var s;if(!jo(e,k.root))throw new Error("MUI X: The root element is not found.");const r=e.getAttribute("aria-colindex");if(!r)return[];const o=Number(r)-1,l=[];return(s=t.virtualScrollerRef)!=null&&s.current?(Mc(t).forEach(a=>{const c=a.getAttribute("data-id");if(!c)return;let u=o;const d=t.unstable_getCellColSpanInfo(c,o);d&&d.spannedByColSpan&&(u=d.leftVisibleCellIndex);const f=a.querySelector(`[data-colindex="${u}"]`);f&&l.push(f)}),l):[]}function Rs(e,t){return e.rootElementRef.current.querySelector(`.${k[t]}`)}const vc=({api:e,colIndex:t,position:n,filterFn:r})=>{if(t===null)return[];const o=[];return Mc(e).forEach(l=>{l.getAttribute("data-id")&&l.querySelectorAll(`.${k[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=Ln(a);c!==null&&r(c)&&o.push(a)})}),o};function Yh(e,t,n){const r=Ln(t);return vc({api:e,colIndex:r,position:n?"right":"left",filterFn:o=>n?o<r:o>r})}function Qh(e,t,n){const r=Ln(t);return vc({api:e,colIndex:r,position:n?"left":"right",filterFn:o=>n?o>r:o<r})}const Ic=({api:e,colIndex:t,position:n,filterFn:r})=>{var l;if(!((l=e.columnHeadersContainerRef)!=null&&l.current))return[];if(t===null)return[];const o=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${k[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(s=>{const a=Ln(s);a!==null&&r(a)&&o.push(s)}),o};function Jh(e,t,n){const r=Ln(t);return Ic({api:e,position:n?"right":"left",colIndex:r,filterFn:o=>n?o<r:o>r})}function Zh(e,t,n){const r=Ln(t);return Ic({api:e,position:n?"left":"right",colIndex:r,filterFn:o=>n?o>r:o<r})}function ep(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${At(t)}"][role="columnheader"]`)}function tp(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${At(t)}"][role="gridcell"]`))}function Mc(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${k.row}`)}function Ln(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}class Ho extends Error{}function np(e){const t=i.useCallback(f=>({field:f,colDef:e.current.getColumn(f)}),[e]),n=i.useCallback(f=>{const g=e.current.getRow(f);if(!g)throw new Ho(`No row with id #${f} found`);return{id:f,columns:e.current.getAllColumns(),row:g}},[e]),r=i.useCallback((f,g)=>{const m=e.current.getColumn(g),C=e.current.getRow(f),b=e.current.getRowNode(f);if(!C||!b)throw new Ho(`No row with id #${f} found`);const p=C[g],S=m!=null&&m.valueGetter?m.valueGetter(p,C,m,e):p,x=st(e),D=er(e),E={id:f,field:g,row:C,rowNode:b,colDef:m,cellMode:e.current.getCellMode(f,g),hasFocus:x!==null&&x.field===g&&x.id===f,tabIndex:D&&D.field===g&&D.id===f?0:-1,value:S,formattedValue:S,isEditable:!1,api:{}};return m&&m.valueFormatter&&(E.formattedValue=m.valueFormatter(S,C,m,e)),E.isEditable=m&&e.current.isCellEditable(E),E},[e]),o=i.useCallback((f,g)=>{const m=e.current.getColumn(g),C=e.current.getRow(f);if(!C)throw new Ho(`No row with id #${f} found`);return!m||!m.valueGetter?C[g]:m.valueGetter(C[m.field],C,m,e)},[e]),l=i.useCallback((f,g)=>{const m=g.field;if(!g||!g.valueGetter)return f[m];const C=f[g.field];return g.valueGetter(C,f,g,e)},[e]),s=i.useCallback((f,g)=>{const m=l(f,g);return!g||!g.valueFormatter?m:g.valueFormatter(m,f,g,e)},[e,l]),a=i.useCallback(f=>e.current.rootElementRef.current?Vh(e.current.rootElementRef.current,f):null,[e]),c=i.useCallback(f=>e.current.rootElementRef.current?Nh(e.current.rootElementRef.current,f):null,[e]),u=i.useCallback((f,g)=>e.current.rootElementRef.current?Bh(e.current.rootElementRef.current,{id:f,field:g}):null,[e]);ce(e,{getCellValue:o,getCellParams:r,getCellElement:u,getRowValue:l,getRowFormattedValue:s,getRowParams:n,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:a},"public")}const cr=(e,t,n,r,o)=>{const l=t===n-1;return e===Me.LEFT&&l?!0:r?e===Me.LEFT?!0:e===Me.RIGHT?!l:!l||o:!1},ur=(e,t)=>e===Me.RIGHT&&t===0,op=["column","rowId","editCellState","align","children","colIndex","width","className","style","gridHasScrollX","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","sectionIndex","sectionLength","gridHasFiller","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],rp=["changeReason","unstable_updateValueOnRender"];let lt=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const Pc={[lt.LEFT]:Me.LEFT,[lt.RIGHT]:Me.RIGHT,[lt.NONE]:void 0,[lt.VIRTUAL]:void 0},$s={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:xe.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},lp=e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:o,isEditable:l,isSelected:s,isSelectionMode:a,classes:c}=e,u={root:["cell",`cell--text${kn(t)}`,s&&"selected",l&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",o===lt.LEFT&&"cell--pinnedLeft",o===lt.RIGHT&&"cell--pinnedRight",a&&!l&&"cell--selectionMode"]};return de(u,ue,c)},sp=i.forwardRef(function(t,n){var le,he,pe;const{column:r,rowId:o,editCellState:l,align:s,colIndex:a,width:c,className:u,style:d,colSpan:f,disableDragEvents:g,isNotVisible:m,pinnedOffset:C,pinnedPosition:b,sectionIndex:p,sectionLength:S,gridHasFiller:x,onClick:D,onDoubleClick:E,onMouseDown:H,onMouseUp:G,onMouseOver:A,onKeyDown:F,onKeyUp:y,onDragEnter:_,onDragOver:$}=t,O=ne(t,op),P=ie(),L=Z(),I=Kt(),M=r.field,w=U(P,()=>{try{const ge=P.current.getCellParams(o,M);return ge.api=P.current,ge}catch(ge){if(ge instanceof Ho)return $s;throw ge}},Gi),j=U(P,()=>P.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:o,field:M})),T=U(P,uc),R=U(P,Xm),{cellMode:z,hasFocus:N,isEditable:B=!1,value:W}=w,X=r.type==="actions"&&((le=r.getActions)==null?void 0:le.call(r,P.current.getRowParams(o)).some(ge=>!ge.props.disabled)),q=(z==="view"||!B)&&!X?w.tabIndex:-1,{classes:te,getCellClassName:K}=L,J=[U(P,()=>P.current.unstable_applyPipeProcessors("cellClassName",[],{id:o,field:M}).filter(Boolean).join(" "))];r.cellClassName&&J.push(typeof r.cellClassName=="function"?r.cellClassName(w):r.cellClassName),r.display==="flex"&&J.push(k["cell--flex"]),K&&J.push(K(w));const se=w.formattedValue??W,oe=i.useRef(null),ae=Gt(n,oe),Le=i.useRef(null),Oe=L.cellSelection??!1,He=Pc[b],ve=ur(He,p),Ge=cr(He,p,S,L.showCellVerticalBorder,x),qe={align:s,showLeftBorder:ve,showRightBorder:Ge,isEditable:B,classes:L.classes,pinnedPosition:b,isSelected:j,isSelectionMode:Oe},ot=lp(qe),ft=i.useCallback(ge=>we=>{const Ie=P.current.getCellParams(o,M||"");P.current.publishEvent(ge,Ie,we),G&&G(we)},[P,M,G,o]),Ae=i.useCallback(ge=>we=>{const Ie=P.current.getCellParams(o,M||"");P.current.publishEvent(ge,Ie,we),H&&H(we)},[P,M,H,o]),be=i.useCallback((ge,we)=>Ie=>{if(!P.current.getRow(o))return;const tt=P.current.getCellParams(o,M||"");P.current.publishEvent(ge,tt,Ie),we&&we(Ie)},[P,M,o]),fe=((he=T[o])==null?void 0:he[M])??!1,ye=((pe=R[o])==null?void 0:pe[M])??1,Ee=i.useMemo(()=>{if(m)return{padding:0,opacity:0,width:0,border:0};const ge=h({"--width":`${c}px`},d),we=b===lt.LEFT,Ie=b===lt.RIGHT;if(we||Ie){let tt=we?"left":"right";I&&(tt=we?"right":"left"),ge[tt]=C}return ye>1&&(ge.height=`calc(var(--height) * ${ye})`,ge.zIndex=5),ge},[c,m,d,C,b,I,ye]);if(i.useEffect(()=>{if(!N||z===xe.Edit)return;const ge=Nt(P.current.rootElementRef.current);if(oe.current&&!oe.current.contains(ge.activeElement)){const we=oe.current.querySelector('[tabindex="0"]'),Ie=Le.current||we||oe.current;if(jh())Ie.focus({preventScroll:!0});else{const tt=P.current.getScrollPosition();Ie.focus(),P.current.scroll(tt)}}},[N,z,P]),fe)return v.jsx("div",{"data-colindex":a,role:"presentation",style:h({},Ee,{minWidth:"var(--width)",maxWidth:"var(--width)"})});if(w===$s)return null;let Fe=O.onFocus,Ce,Be;if(l===null&&r.renderCell&&(Ce=r.renderCell(w)),l!==null&&r.renderEditCell){const ge=P.current.getRowWithUpdatedValues(o,r.field),we=ne(l,rp),Ie=r.valueFormatter?r.valueFormatter(l.value,ge,r,P):w.formattedValue,tt=h({},w,{row:ge,formattedValue:Ie},we);Ce=r.renderEditCell(tt),J.push(k["cell--editing"]),J.push(te==null?void 0:te["cell--editing"])}if(Ce===void 0){const ge=se==null?void 0:se.toString();Ce=ge,Be=ge}i.isValidElement(Ce)&&X&&(Ce=i.cloneElement(Ce,{focusElementRef:Le}));const ze=g?null:{onDragEnter:be("cellDragEnter",_),onDragOver:be("cellDragOver",$)};return v.jsx("div",h({ref:ae,className:me(u,J,ot.root),role:"gridcell","data-field":M,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":f,"aria-rowspan":ye,style:Ee,title:Be,tabIndex:q,onClick:be("cellClick",D),onDoubleClick:be("cellDoubleClick",E),onMouseOver:be("cellMouseOver",A),onMouseDown:Ae("cellMouseDown"),onMouseUp:ft("cellMouseUp"),onKeyDown:be("cellKeyDown",F),onKeyUp:be("cellKeyUp",y)},ze,O,{onFocus:Fe,children:Ce}))}),Ec=Yt(sp),ip=["label","icon","showInMenu","onClick"],ap=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],cp=i.forwardRef((e,t)=>{var d;const n=Z();if(!e.showInMenu){const{label:f,icon:g,onClick:m}=e,C=ne(e,ip),b=p=>{m==null||m(p)};return v.jsx(n.slots.baseIconButton,h({ref:t,size:"small",role:"menuitem","aria-label":f},C,{onClick:b},(d=n.slotProps)==null?void 0:d.baseIconButton,{children:i.cloneElement(g,{fontSize:"small"})}))}const{label:r,icon:o,onClick:l,closeMenuOnClick:s=!0,closeMenu:a}=e,c=ne(e,ap),u=f=>{l==null||l(f),s&&(a==null||a())};return v.jsxs(yt,h({ref:t},c,{onClick:u,children:[o&&v.jsx(Vt,{children:o}),r]}))}),up=["field","type","align","width","height","empty","style","className"],As="1.3em",dp="1.2em",js=[40,80],fp={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},gp=e=>{const{align:t,classes:n,empty:r}=e,o={root:["cell","cellSkeleton",`cell--text${t?kn(t):"Left"}`,r&&"cellEmpty"]};return de(o,ue,n)},mp=Og(12345);function hp(e){const{field:t,type:n,align:r,width:o,height:l,empty:s=!1,style:a,className:c}=e,u=ne(e,up),f={classes:Z().classes,align:r,empty:s},g=gp(f),m=i.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:As,height:As};const[b,p]=n?fp[n]??js:js;return{variant:"text",width:`${Math.round(mp(b,p))}%`,height:dp}},[n]);return v.jsx("div",h({"data-field":t,className:me(g.root,c),style:h({height:l,maxWidth:o,minWidth:o},a)},u,{children:!s&&v.jsx(ud,h({},m))}))}const Fc=Yt(hp);function pp(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?fd(yn(e.palette.divider,1),.88):gd(yn(e.palette.divider,1),.68)}const zs={[`& .${k.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${k.menuIcon}`]:{width:"auto",visibility:"visible"}},Cp=10,Do=-5,hn=1,Vs={width:3,rx:1.5,x:10.5},bp="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",wp=je("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${k.autoHeight}`]:t.autoHeight},{[`&.${k.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${k["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${k["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${k["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${k.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${k["root--disableUserSelection"]} .${k.cell}`]:t["root--disableUserSelection"]},{[`&.${k.autosizing}`]:t.autosizing},{[`& .${k.editBooleanCell}`]:t.editBooleanCell},{[`& .${k.cell}`]:t.cell},{[`& .${k["cell--editing"]}`]:t["cell--editing"]},{[`& .${k["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${k["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${k["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${k["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${k["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${k["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${k["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${k["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${k.cellCheckbox}`]:t.cellCheckbox},{[`& .${k.cellSkeleton}`]:t.cellSkeleton},{[`& .${k.checkboxInput}`]:t.checkboxInput},{[`& .${k["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${k["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${k["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${k["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${k["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${k["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${k["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${k["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${k["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${k.columnHeader}`]:t.columnHeader},{[`& .${k.headerFilterRow}`]:t.headerFilterRow},{[`& .${k.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${k.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${k.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${k["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${k["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${k.columnSeparator}`]:t.columnSeparator},{[`& .${k.filterIcon}`]:t.filterIcon},{[`& .${k.iconSeparator}`]:t.iconSeparator},{[`& .${k.menuIcon}`]:t.menuIcon},{[`& .${k.menuIconButton}`]:t.menuIconButton},{[`& .${k.menuOpen}`]:t.menuOpen},{[`& .${k.menuList}`]:t.menuList},{[`& .${k["row--editable"]}`]:t["row--editable"]},{[`& .${k["row--editing"]}`]:t["row--editing"]},{[`& .${k["row--dragging"]}`]:t["row--dragging"]},{[`& .${k.row}`]:t.row},{[`& .${k.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${k.rowReorderCell}`]:t.rowReorderCell},{[`& .${k["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${k.sortIcon}`]:t.sortIcon},{[`& .${k.withBorderColor}`]:t.withBorderColor},{[`& .${k.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${k.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${k.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${k.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${k["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{var x,D;const t=Et(),n=U(t,nt),r=pp(e),o=e.shape.borderRadius,l=e.vars?e.vars.palette.background.default:((x=e.mixins.MuiDataGrid)==null?void 0:x.containerBackground)??e.palette.background.default,s=((D=e.mixins.MuiDataGrid)==null?void 0:D.pinnedBackground)??l,a=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:yn(e.palette.background.default,e.palette.action.disabledOpacity),c=(e.vars||e).palette.action.hoverOpacity,u=(e.vars||e).palette.action.hover,d=(e.vars||e).palette.action.selectedOpacity,f=e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${d})`:yn(e.palette.primary.main,d),g=e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} +
                ${e.vars.palette.action.hoverOpacity}
              ))`:yn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),m=e.vars?u:yr(s,u,c),C=e.vars?f:yr(s,f,d),b=e.vars?u:yr(C,u,c),p={backgroundColor:f,"&:hover":{backgroundColor:g,"@media (hover: none)":{backgroundColor:f}}};return h({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":a,"--DataGrid-containerBackground":l,"--DataGrid-pinnedBackground":s,"--DataGrid-rowBorderColor":r,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:r,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[`.${k.main} > *:first-child${bp}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${k.autoHeight}`]:{height:"auto"},[`&.${k.autosizing}`]:{[`& .${k.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${k.iconButtonContainer}`]:{width:"0 !important",visibility:"hidden !important"},[`& .${k.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${k.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${k.groupingCriteriaCell}`]:{width:"unset"},[`& .${k.treeDataGroupingCell}`]:{width:"unset"}},[`& .${k.columnHeader}, & .${k.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${k.columnHeader}:focus-within, & .${k.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:yn(e.palette.primary.main,.5)} ${hn}px`,outlineOffset:hn*-1},[`& .${k.columnHeader}:focus, & .${k.cell}:focus`]:{outline:`solid ${e.palette.primary.main} ${hn}px`,outlineOffset:hn*-1},[`& .${k.columnHeader}:focus,
      & .${k["columnHeader--withLeftBorder"]},
      & .${k["columnHeader--withRightBorder"]},
      & .${k["columnHeader--siblingFocused"]},
      & .${k["virtualScroller--hasScrollX"]} .${k["columnHeader--lastUnpinned"]},
      & .${k["virtualScroller--hasScrollX"]} .${k["columnHeader--last"]}
      `]:{[`& .${k.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${k["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${k["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${k["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${k["root--noToolbar"]} [aria-rowindex="1"] .${k["columnHeader--last"]}`]:{borderTopRightRadius:n.hasScrollX&&(!n.hasScrollY||n.scrollbarSize===0)?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${k.columnHeaderCheckbox}, & .${k.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${k.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${k["virtualScroller--hasScrollX"]} .${k["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${k["columnHeader--sorted"]} .${k.iconButtonContainer}, & .${k["columnHeader--filtered"]} .${k.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${k.columnHeader}:not(.${k["columnHeader--sorted"]}) .${k.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${k.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:e.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${k.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${k["columnHeader--filledGroup"]} .${k.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${k.sortIcon}, & .${k.filterIcon}`]:{fontSize:"inherit"},[`& .${k["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${k["columnHeader--alignCenter"]} .${k.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${k["columnHeader--alignRight"]} .${k.columnHeaderDraggableContainer}, & .${k["columnHeader--alignRight"]} .${k.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${k["columnHeader--alignCenter"]} .${k.menuIcon}`]:{marginLeft:"auto"},[`& .${k["columnHeader--alignRight"]} .${k.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${k["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${k["columnHeader--pinnedLeft"]}, & .${k["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},[`& .${k.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:Cp,color:r},[`& .${k.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${k.columnHeader}:hover`]:zs,[`& .${k.columnHeader}:not(.${k["columnHeader--sorted"]}):hover .${k.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${k.columnHeader}`]:zs,[`& .${k.columnHeader}:focus,
        & .${k["columnHeader--siblingFocused"]}`]:{[`.${k["columnSeparator--resizable"]}`]:{color:(e.vars||e).palette.primary.main}}},[`& .${k["columnSeparator--sideLeft"]}`]:{left:Do},[`& .${k["columnSeparator--sideRight"]}`]:{right:Do},[`& .${k["columnHeader--withRightBorder"]} .${k["columnSeparator--sideLeft"]}`]:{left:Do-.5},[`& .${k["columnHeader--withRightBorder"]} .${k["columnSeparator--sideRight"]}`]:{right:Do-.5},[`& .${k["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${k["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.primary.main},"@media (hover: none)":{[`& .${k.iconSeparator} rect`]:Vs},"@media (hover: hover)":{"&:hover":{color:(e.vars||e).palette.primary.main,[`& .${k.iconSeparator} rect`]:Vs}},"& svg":{pointerEvents:"none"}},[`& .${k.iconSeparator}`]:{color:"inherit",transition:e.transitions.create(["color","width"],{duration:e.transitions.duration.shortest})},[`& .${k.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${k.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${k.headerFilterRow}`]:{[`& .${k.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${k["row--borderBottom"]} .${k.columnHeader},
      & .${k["row--borderBottom"]} .${k.filler},
      & .${k["row--borderBottom"]} .${k.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${k["row--borderBottom"]} .${k.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${k.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${k["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":p},[`& .${k["container--top"]}, & .${k["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${k.cell}`]:{height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":p},[`& .${k["virtualScrollerContent--overflowed"]} .${k["row--lastVisible"]} .${k.cell}`]:{borderTopColor:"transparent"},[`& .${k["pinnedRows--top"]} :first-of-type`]:{[`& .${k.cell}, .${k.scrollbarFiller}`]:{borderTop:"none"}},[`&.${k["root--disableUserSelection"]} .${k.cell}`]:{userSelect:"none"},[`& .${k["row--dynamicHeight"]} > .${k.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${k.cellEmpty}`]:{padding:0,height:"unset"},[`& .${k.cell}.${k["cell--selectionMode"]}`]:{cursor:"default"},[`& .${k.cell}.${k["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`${hn}px solid ${(e.vars||e).palette.primary.main}`,outlineOffset:hn*-1}},[`& .${k["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${k["row--editing"]} .${k.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${k.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${k.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${k.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${k.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${k.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${k["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${k.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${k.withBorderColor}`]:{borderColor:r},[`& .${k["cell--withLeftBorder"]}, & .${k["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${k["cell--withRightBorder"]}, & .${k["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${k["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${k["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${k["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${k["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${k["cell--pinnedLeft"]}, & .${k["cell--pinnedRight"]}`]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)"},[`& .${k.virtualScrollerContent} .${k.row}`]:{"&:hover":{[`& .${k["cell--pinnedLeft"]}, & .${k["cell--pinnedRight"]}`]:{backgroundColor:m}},"&.Mui-selected":{[`& .${k["cell--pinnedLeft"]}, & .${k["cell--pinnedRight"]}`]:{backgroundColor:C},"&:hover":{[`& .${k["cell--pinnedLeft"]}, & .${k["cell--pinnedRight"]}`]:{backgroundColor:b}}}},[`& .${k.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${k.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${k.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${k.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${k["columnHeader--dragging"]}, & .${k["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${k["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${k.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${k.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${k.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${k.treeDataGroupingCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${k.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${k.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`.${k.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${k["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${k["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${k["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${k.filler}`]:{flex:1},[`& .${k["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${k["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${k.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${k["scrollbar--vertical"]}, & .${k.pinnedRows}, & .${k.virtualScroller} > .${k.filler}`]:{display:"none"}}})});function yr(e,t,n,r=1){const o=(c,u)=>Math.round((c**(1/r)*(1-n)+u**(1/r)*n)**r),l=Vl(e),s=Vl(t),a=[o(l.values[0],s.values[0]),o(l.values[1],s.values[1]),o(l.values[2],s.values[2])];return dd({type:"rgb",values:a})}const Sp=["className"],yp=(e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:o}=e,l={root:["root",n&&"autoHeight",`root--density${kn(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",o&&"withVerticalBorder"]};return de(l,ue,r)},kc=i.forwardRef(function(t,n){const r=Z(),{className:o}=t,l=ne(t,Sp),s=Et(),a=U(s,zt),c=s.current.rootElementRef,u=Gt(c,n),d=r,f=yp(d,a),[g,m]=i.useState(!1);return Ye(()=>{m(!0)},[]),g?v.jsx(wp,h({ref:u,className:me(o,f.root),ownerState:d},l)):null}),xp=["className"],vp=e=>{const{classes:t}=e;return de({root:["footerContainer","withBorderColor"]},ue,t)},Ip=Se("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Dc=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,xp),l=Z(),s=vp(l);return v.jsx(Ip,h({ref:n,className:me(s.root,r),ownerState:l},o))}),Mp=["className"],Pp=e=>{const{classes:t}=e;return de({root:["overlay"]},ue,t)},Ep=Se("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),dr=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,Mp),l=Z(),s=Pp(l);return v.jsx(Ep,h({ref:n,className:me(s.root,r),ownerState:l},o))}),Fp=["className","children"],kp=e=>{const{classes:t}=e;return de({root:["toolbarContainer"]},ue,t)},Dp=Se("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),Tc=i.forwardRef(function(t,n){const{className:r,children:o}=t,l=ne(t,Fp),s=Z(),a=kp(s);return o?v.jsx(Dp,h({ref:n,className:me(r,a.root),ownerState:s},l,{children:o})):null}),Tp=e=>{const{classes:t,open:n}=e;return de({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},ue,t)},Op=i.memo(e=>{var f,g;const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:l}=e,s=ie(),a=Z(),c=h({},e,{classes:a.classes}),u=Tp(c),d=i.useCallback(m=>{m.preventDefault(),m.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]);return v.jsx("div",{className:u.root,children:v.jsx(a.slots.baseTooltip,h({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(f=a.slotProps)==null?void 0:f.baseTooltip,{children:v.jsx(a.slots.baseIconButton,h({ref:l,tabIndex:-1,className:u.button,"aria-label":s.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:o},(g=a.slotProps)==null?void 0:g.baseIconButton,{children:v.jsx(a.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function Oc({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:o,open:l,target:s,onExited:a}){const c=ie(),u=c.current.getColumn(o),d=Re(f=>{f&&(f.stopPropagation(),s!=null&&s.contains(f.target))||c.current.hideColumnMenu()});return!s||!u?null:v.jsx(Qn,{placement:`bottom-${u.align==="right"?"start":"end"}`,open:l,target:s,onClose:d,onExited:a,children:v.jsx(n,h({colDef:u,hideMenu:d,open:l,id:e,labelledby:t},r))})}const Hp=["className","aria-label"],_p=e=>{const{classes:t}=e;return de({root:["columnHeaderTitle"]},ue,t)},Lp=Se("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),Gp=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,Hp),l=Z(),s=_p(l);return v.jsx(Lp,h({ref:n,className:me(s.root,r),ownerState:l},o))});function Hc(e){var c;const{label:t,description:n}=e,r=Z(),o=i.useRef(null),[l,s]=i.useState(""),a=i.useCallback(()=>{if(!n&&(o!=null&&o.current)){const u=zh(o.current);s(u?t:"")}},[n,t]);return v.jsx(r.slots.baseTooltip,h({title:n||l},(c=r.slotProps)==null?void 0:c.baseTooltip,{children:v.jsx(Gp,{onMouseOver:a,ref:o,children:t})}))}const Rp=["resizable","resizing","height","side"];var fr=function(e){return e.Left="left",e.Right="right",e}(fr||{});const $p=e=>{const{resizable:t,resizing:n,classes:r,side:o}=e,l={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",o&&`columnSeparator--side${kn(o)}`],icon:["iconSeparator"]};return de(l,ue,r)};function Ap(e){const{height:t,side:n=fr.Right}=e,r=ne(e,Rp),o=Z(),l=h({},e,{side:n,classes:o.classes}),s=$p(l),a=i.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return v.jsx("div",h({className:s.root,style:{minHeight:t}},r,{onClick:a,children:v.jsx(o.slots.columnResizeIcon,{className:s.icon})}))}const _c=i.memo(Ap),jp=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],Lc=i.forwardRef(function(t,n){const{classes:r,colIndex:o,height:l,isResizing:s,sortDirection:a,hasFocus:c,tabIndex:u,separatorSide:d,isDraggable:f,headerComponent:g,description:m,width:C,columnMenuIconButton:b=null,columnMenu:p=null,columnTitleIconButtons:S=null,headerClassName:x,label:D,resizable:E,draggableContainerProps:H,columnHeaderSeparatorProps:G,style:A}=t,F=ne(t,jp),y=Et(),_=Z(),$=i.useRef(null),O=Gt($,n);let P="none";return a!=null&&(P=a==="asc"?"ascending":"descending"),i.useLayoutEffect(()=>{var I;const L=y.current.state.columnMenu;if(c&&!L.open){const w=$.current.querySelector('[tabindex="0"]')||$.current;w==null||w.focus(),(I=y.current.columnHeadersContainerRef)!=null&&I.current&&(y.current.columnHeadersContainerRef.current.scrollLeft=0)}},[y,c]),v.jsxs("div",h({ref:O,className:me(r.root,x),style:h({},A,{height:l,width:C}),role:"columnheader",tabIndex:u,"aria-colindex":o+1,"aria-sort":P},F,{children:[v.jsxs("div",h({className:r.draggableContainer,draggable:f,role:"presentation"},H,{children:[v.jsxs("div",{className:r.titleContainer,role:"presentation",children:[v.jsx("div",{className:r.titleContainerContent,children:g!==void 0?g:v.jsx(Hc,{label:D,description:m,columnWidth:C})}),S]}),b]})),v.jsx(_c,h({resizable:!_.disableColumnResize&&!!E,resizing:s,height:l,side:d},G)),p]}))}),zp=e=>{const{colDef:t,classes:n,isDragging:r,sortDirection:o,showRightBorder:l,showLeftBorder:s,filterItemsCounter:a,pinnedPosition:c,isLastUnpinned:u,isSiblingFocused:d}=e,f=o!=null,g=a!=null&&a>0,m=t.type==="number",C={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",f&&"columnHeader--sorted",g&&"columnHeader--filtered",m&&"columnHeader--numeric","withBorderColor",l&&"columnHeader--withRightBorder",s&&"columnHeader--withLeftBorder",c==="left"&&"columnHeader--pinnedLeft",c==="right"&&"columnHeader--pinnedRight",u&&"columnHeader--lastUnpinned",d&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return de(C,ue,n)};function Vp(e){var Q,J,se;const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:o,isResizing:l,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:u,hasFocus:d,tabIndex:f,disableReorder:g,separatorSide:m,style:C,pinnedPosition:b,indexInSection:p,sectionLength:S,gridHasFiller:x}=e,D=Et(),E=Z(),H=i.useRef(null),G=_e(),A=_e(),F=i.useRef(null),[y,_]=i.useState(n),$=i.useMemo(()=>!E.disableColumnReorder&&!g&&!t.disableReorder,[E.disableColumnReorder,g,t.disableReorder]);let O;t.renderHeader&&(O=t.renderHeader(D.current.getColumnHeaderParams(t.field)));const P=ur(b,p),L=cr(b,p,S,E.showColumnVerticalBorder,x),I=h({},e,{classes:E.classes,showRightBorder:L,showLeftBorder:P}),M=zp(I),w=i.useCallback(oe=>ae=>{io(ae)||D.current.publishEvent(oe,D.current.getColumnHeaderParams(t.field),ae)},[D,t.field]),j=i.useMemo(()=>({onClick:w("columnHeaderClick"),onDoubleClick:w("columnHeaderDoubleClick"),onMouseOver:w("columnHeaderOver"),onMouseOut:w("columnHeaderOut"),onMouseEnter:w("columnHeaderEnter"),onMouseLeave:w("columnHeaderLeave"),onKeyDown:w("columnHeaderKeyDown"),onFocus:w("columnHeaderFocus"),onBlur:w("columnHeaderBlur")}),[w]),T=i.useMemo(()=>$?{onDragStart:w("columnHeaderDragStart"),onDragEnter:w("columnHeaderDragEnter"),onDragOver:w("columnHeaderDragOver"),onDragEnd:w("columnHeaderDragEnd")}:{},[$,w]),R=i.useMemo(()=>({onMouseDown:w("columnSeparatorMouseDown"),onDoubleClick:w("columnSeparatorDoubleClick")}),[w]);i.useEffect(()=>{y||_(n)},[y,n]);const z=i.useCallback(()=>{_(!1)},[]),N=!E.disableColumnMenu&&!t.disableColumnMenu&&v.jsx(Op,{colDef:t,columnMenuId:G,columnMenuButtonId:A,open:y,iconButtonRef:F}),B=v.jsx(Oc,{columnMenuId:G,columnMenuButtonId:A,field:t.field,open:n,target:F.current,ContentComponent:E.slots.columnMenu,contentComponentProps:(Q=E.slotProps)==null?void 0:Q.columnMenu,onExited:z}),W=t.sortingOrder??E.sortingOrder,X=(t.sortable||a!=null)&&!t.hideSortIcons&&!E.disableColumnSorting,q=v.jsxs(i.Fragment,{children:[!E.disableColumnFilter&&v.jsx(E.slots.columnHeaderFilterIconButton,h({field:t.field,counter:u},(J=E.slotProps)==null?void 0:J.columnHeaderFilterIconButton)),X&&v.jsx(E.slots.columnHeaderSortIcon,h({field:t.field,direction:a,index:c,sortingOrder:W,disabled:!t.sortable},(se=E.slotProps)==null?void 0:se.columnHeaderSortIcon))]});i.useLayoutEffect(()=>{var ae;const oe=D.current.state.columnMenu;if(d&&!oe.open){const Oe=H.current.querySelector('[tabindex="0"]')||H.current;Oe==null||Oe.focus(),(ae=D.current.columnHeadersContainerRef)!=null&&ae.current&&(D.current.columnHeadersContainerRef.current.scrollLeft=0)}},[D,d]);const te=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,K=t.headerName??t.field;return v.jsx(Lc,h({ref:H,classes:M,columnMenuOpen:n,colIndex:r,height:o,isResizing:l,sortDirection:a,hasFocus:d,tabIndex:f,separatorSide:m,isDraggable:$,headerComponent:O,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:N,columnTitleIconButtons:q,headerClassName:me(te,s&&k["columnHeader--last"]),label:K,resizable:!E.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:B,draggableContainerProps:T,columnHeaderSeparatorProps:R,style:C},j))}const Gc=Yt(Vp),Np=["className"],Bp=e=>{const{classes:t}=e;return de({root:["iconButtonContainer"]},ue,t)},Up=Se("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Rc=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,Np),l=Z(),s=Bp(l);return v.jsx(Up,h({ref:n,className:me(s.root,r),ownerState:l},o))}),Wp=["direction","index","sortingOrder","disabled"],qp=e=>{const{classes:t}=e;return de({icon:["sortIcon"]},ue,t)};function Kp(e,t,n,r){let o;const l={};return t==="asc"?o=e.columnSortedAscendingIcon:t==="desc"?o=e.columnSortedDescendingIcon:(o=e.columnUnsortedIcon,l.sortingOrder=r),o?v.jsx(o,h({fontSize:"small",className:n},l)):null}function Xp(e){var g;const{direction:t,index:n,sortingOrder:r,disabled:o}=e,l=ne(e,Wp),s=ie(),a=Z(),c=h({},e,{classes:a.classes}),u=qp(c),d=Kp(a.slots,t,u.icon,r);if(!d)return null;const f=v.jsx(a.slots.baseIconButton,h({tabIndex:-1,"aria-label":s.current.getLocaleText("columnHeaderSortIconLabel"),title:s.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:o},(g=a.slotProps)==null?void 0:g.baseIconButton,l,{children:d}));return v.jsxs(Rc,{children:[n!=null&&v.jsx(Xr,{badgeContent:n,color:"default",overlap:"circular",children:f}),n==null&&f]})}const $c=i.memo(Xp),Yp=e=>{const{classes:t}=e;return de({icon:["filterIcon"]},ue,t)};function Ac(e){var C,b;const{counter:t,field:n,onClick:r}=e,o=ie(),l=Z(),s=h({},e,{classes:l.classes}),a=Yp(s),c=U(o,Wt),u=_e(),d=_e(),f=i.useCallback(p=>{p.preventDefault(),p.stopPropagation();const{open:S,openedPanelValue:x}=Wt(o.current.state);S&&x===bt.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,d,u),r&&r(o.current.getColumnHeaderParams(n),p)},[o,n,r,d,u]);if(!t)return null;const g=c.open&&c.labelId===u,m=v.jsx(l.slots.baseIconButton,h({id:u,onClick:f,color:"default","aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?d:void 0},(C=l.slotProps)==null?void 0:C.baseIconButton,{children:v.jsx(l.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return v.jsx(l.slots.baseTooltip,h({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},(b=l.slotProps)==null?void 0:b.baseTooltip,{children:v.jsxs(Rc,{children:[t>1&&v.jsx(Xr,{badgeContent:t,color:"default",children:m}),t===1&&m]})}))}const Lr=Te(v.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Gr=Te(v.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Rr=Te(v.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),$r=Te(v.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),jc=Te(v.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ar=Te(v.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),zc=Te(v.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),Qp=Te(v.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Jp=Te(v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),Vc=Te(v.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),Nc=Te(v.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),Bc=Te(v.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Uc=Te(v.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),Wc=Te(v.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),qc=Te(v.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),_o=Te(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),jr=Te(v.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Kc=Te(v.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Xc=Te(v.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),zr=Te(v.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Yc=Te(v.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Qc=Te(v.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Jc=Te(v.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Zc=Te(v.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),eu=Te(v.jsx("g",{children:v.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),tu=Te(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Zp=Te(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),nu=Te(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");function ou(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const zo=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",eC=e=>!!e.key,Dl=e=>e==="Tab"||e==="Escape";function ru(e){return!!((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="v"&&!e.shiftKey&&!e.altKey)}const tC=["hideMenu","colDef","id","labelledby","className","children","open"],nC=je(qo)(()=>({minWidth:248})),lu=i.forwardRef(function(t,n){const{hideMenu:r,id:o,labelledby:l,className:s,children:a,open:c}=t,u=ne(t,tC),d=i.useCallback(f=>{f.key==="Tab"&&f.preventDefault(),Dl(f.key)&&r(f)},[r]);return v.jsx(nC,h({id:o,ref:n,className:me(k.menuList,s),"aria-labelledby":l,onKeyDown:d,autoFocus:c},u,{children:a}))}),oC=["displayOrder"],rC=e=>{const t=Et(),{defaultSlots:n,defaultSlotProps:r,slots:o={},slotProps:l={},hideMenu:s,colDef:a,addDividers:c=!0}=e,u=i.useMemo(()=>h({},n,o),[n,o]),d=i.useMemo(()=>{if(!l||Object.keys(l).length===0)return r;const m=h({},l);return Object.entries(r).forEach(([C,b])=>{m[C]=h({},b,l[C]||{})}),m},[r,l]),f=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),g=i.useMemo(()=>{const m=Object.keys(n);return Object.keys(o).filter(C=>!m.includes(C))},[o,n]);return i.useMemo(()=>{const b=Array.from(new Set([...f,...g])).filter(p=>u[p]!=null).sort((p,S)=>{const x=d[p],D=d[S],E=Number.isFinite(x==null?void 0:x.displayOrder)?x.displayOrder:100,H=Number.isFinite(D==null?void 0:D.displayOrder)?D.displayOrder:100;return E-H});return b.reduce((p,S,x)=>{let D={colDef:a,onClick:s};const E=d[S];if(E){const H=ne(E,oC);D=h({},D,H)}return c&&x!==b.length-1?[...p,[u[S],D],[md,{}]]:[...p,[u[S],D]]},[])},[c,a,f,s,u,d,g])};function su(e){const{colDef:t,onClick:n}=e,r=ie(),o=Z(),a=Ne(r).filter(u=>u.disableColumnMenu!==!0).length===1,c=i.useCallback(u=>{a||(r.current.setColumnVisibility(t.field,!1),n(u))},[r,t.field,n,a]);return o.disableColumnSelector||t.hideable===!1?null:v.jsxs(yt,{onClick:c,disabled:a,children:[v.jsx(Vt,{children:v.jsx(o.slots.columnMenuHideIcon,{fontSize:"small"})}),v.jsx(vn,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function iu(e){const{onClick:t}=e,n=ie(),r=Z(),o=i.useCallback(l=>{t(l),n.current.showPreferences(bt.columns)},[n,t]);return r.disableColumnSelector?null:v.jsxs(yt,{onClick:o,children:[v.jsx(Vt,{children:v.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),v.jsx(vn,{children:n.current.getLocaleText("columnMenuManageColumns")})]})}function au(e){return v.jsxs(i.Fragment,{children:[v.jsx(su,h({},e)),v.jsx(iu,h({},e))]})}function cu(e){const{colDef:t,onClick:n}=e,r=ie(),o=Z(),l=i.useCallback(s=>{n(s),r.current.showFilterPanel(t.field)},[r,t.field,n]);return o.disableColumnFilter||!t.filterable?null:v.jsxs(yt,{onClick:l,children:[v.jsx(Vt,{children:v.jsx(o.slots.columnMenuFilterIcon,{fontSize:"small"})}),v.jsx(vn,{children:r.current.getLocaleText("columnMenuFilter")})]})}function uu(e){const{colDef:t,onClick:n}=e,r=ie(),o=U(r,at),l=Z(),s=i.useMemo(()=>{if(!t)return null;const d=o.find(f=>f.field===t.field);return d==null?void 0:d.sort},[t,o]),a=t.sortingOrder??l.sortingOrder,c=i.useCallback(d=>{n(d);const f=d.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(t.field,f===s?null:f)},[r,t,n,s]);if(l.disableColumnSorting||!t||!t.sortable||!a.some(d=>!!d))return null;const u=d=>{const f=r.current.getLocaleText(d);return typeof f=="function"?f(t):f};return v.jsxs(i.Fragment,{children:[a.includes("asc")&&s!=="asc"?v.jsxs(yt,{onClick:c,"data-value":"asc",children:[v.jsx(Vt,{children:v.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),v.jsx(vn,{children:u("columnMenuSortAsc")})]}):null,a.includes("desc")&&s!=="desc"?v.jsxs(yt,{onClick:c,"data-value":"desc",children:[v.jsx(Vt,{children:v.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),v.jsx(vn,{children:u("columnMenuSortDesc")})]}):null,a.includes(null)&&s!=null?v.jsxs(yt,{onClick:c,children:[v.jsx(Vt,{}),v.jsx(vn,{children:r.current.getLocaleText("columnMenuUnsort")})]}):null]})}const lC=["defaultSlots","defaultSlotProps","slots","slotProps"],du={columnMenuSortItem:uu,columnMenuFilterItem:cu,columnMenuColumnsItem:au},fu={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},gu=i.forwardRef(function(t,n){const{defaultSlots:r,defaultSlotProps:o,slots:l,slotProps:s}=t,a=ne(t,lC),c=rC(h({},a,{defaultSlots:r,defaultSlotProps:o,slots:l,slotProps:s}));return v.jsx(lu,h({ref:n},a,{children:c.map(([u,d],f)=>v.jsx(u,h({},d),f))}))}),mu=i.forwardRef(function(t,n){return v.jsx(gu,h({},t,{ref:n,defaultSlots:du,defaultSlotProps:fu}))}),sC=["className","slotProps"],iC=e=>{const{classes:t}=e;return de({root:["panelWrapper"]},ue,t)},aC=je("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),cC=()=>!0,Tl=i.forwardRef(function(t,n){const{className:r,slotProps:o={}}=t,l=ne(t,sC),s=Z(),a=iC(s);return v.jsx(hd,h({open:!0,disableEnforceFocus:!0,isEnabled:cC},o.TrapFocus,{children:v.jsx(aC,h({ref:n,tabIndex:-1,className:me(r,a.root),ownerState:s},l))}))}),uC=(e,t)=>{const n=new Set(Object.keys(e).filter(l=>e[l]===!1)),r=new Set(Object.keys(t).filter(l=>t[l]===!1));if(n.size!==r.size)return!1;let o=!0;return n.forEach(l=>{r.has(l)||(o=!1)}),o},dC=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,fC=e=>{const{classes:t}=e;return de({root:["columnsManagement"],header:["columnsManagementHeader"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},ue,t)},Ns=new Intl.Collator;function Ol(e){var P,L,I;const t=ie(),n=i.useRef(null),r=U(t,pt),o=Xt(()=>ut(t)).current,l=U(t,ut),s=Z(),[a,c]=i.useState(""),u=fC(s),{sort:d,searchPredicate:f=dC,autoFocusSearchField:g=!0,disableShowHideToggle:m=!1,disableResetButton:C=!1,toggleAllMode:b="all",getTogglableColumns:p}=e,S=i.useMemo(()=>uC(l,o),[l,o]),x=i.useMemo(()=>{switch(d){case"asc":return[...r].sort((M,w)=>Ns.compare(M.headerName||M.field,w.headerName||w.field));case"desc":return[...r].sort((M,w)=>-Ns.compare(M.headerName||M.field,w.headerName||w.field));default:return r}},[r,d]),D=M=>{const{name:w}=M.target;t.current.setColumnVisibility(w,l[w]===!1)},E=i.useMemo(()=>{const M=p?p(x):null,w=M?x.filter(({field:j})=>M.includes(j)):x;return a?w.filter(j=>f(j,a.toLowerCase())):w},[x,a,f,p]),H=i.useCallback(M=>{const w=ut(t),j=h({},w),T=p?p(r):null;return(b==="filteredOnly"?E:r).forEach(R=>{R.hideable&&(T==null||T.includes(R.field))&&(M?delete j[R.field]:j[R.field]=!1)}),t.current.setColumnVisibilityModel(j)},[t,r,p,b,E]),G=i.useCallback(M=>{c(M.target.value)},[]),A=i.useMemo(()=>E.filter(M=>M.hideable),[E]),F=i.useMemo(()=>A.every(M=>l[M.field]==null||l[M.field]!==!1),[l,A]),y=i.useMemo(()=>A.every(M=>l[M.field]===!1),[l,A]),_=i.useRef(null);i.useEffect(()=>{g?n.current.focus():_.current&&typeof _.current.focus=="function"&&_.current.focus()},[g]);let $=!1;const O=M=>$===!1&&M.hideable!==!1?($=!0,!0):!1;return v.jsxs(i.Fragment,{children:[v.jsx(mC,{className:u.header,ownerState:s,children:v.jsx(s.slots.baseTextField,h({placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,value:a,onChange:G,variant:"outlined",size:"small",InputProps:{startAdornment:v.jsx(s.slots.baseInputAdornment,{position:"start",children:v.jsx(s.slots.quickFilterIcon,{})}),sx:{pl:1.5}},fullWidth:!0},(P=s.slotProps)==null?void 0:P.baseTextField))}),v.jsxs(gC,{className:u.root,ownerState:s,children:[E.map(M=>{var w;return v.jsx(Nl,{className:u.row,control:v.jsx(s.slots.baseCheckbox,h({disabled:M.hideable===!1,checked:l[M.field]!==!1,onClick:D,name:M.field,sx:{p:.5},inputRef:O(M)?_:void 0},(w=s.slotProps)==null?void 0:w.baseCheckbox)),label:M.headerName||M.field},M.field)}),E.length===0&&v.jsx(pC,{ownerState:s,children:t.current.getLocaleText("columnsManagementNoColumns")})]}),(!m||!C)&&E.length>0?v.jsxs(hC,{ownerState:s,className:u.footer,children:[m?v.jsx("span",{}):v.jsx(Nl,{control:v.jsx(s.slots.baseCheckbox,h({disabled:A.length===0,checked:F,indeterminate:!F&&!y,onClick:()=>H(!F),name:t.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},(L=s.slotProps)==null?void 0:L.baseCheckbox)),label:t.current.getLocaleText("columnsManagementShowHideAllText")}),C?null:v.jsx(s.slots.baseButton,h({onClick:()=>t.current.setColumnVisibilityModel(o),disabled:S},(I=s.slotProps)==null?void 0:I.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const gC=je("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(e,t)=>t.columnsManagement})(({theme:e})=>({padding:e.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),mC=je("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(e,t)=>t.columnsManagementHeader})(({theme:e})=>({padding:e.spacing(1.5,3)})),hC=je("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(e,t)=>t.columnsManagementFooter})(({theme:e})=>({padding:e.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${e.palette.divider}`})),pC=je("div")(({theme:e})=>({padding:e.spacing(.5,0),color:e.palette.grey[500]}));function hu(e){var n;const t=Z();return v.jsx(Tl,h({},e,{children:v.jsx(Ol,h({},(n=t.slotProps)==null?void 0:n.columnsManagement))}))}const CC=["children","className","classes"],pu=Oi("MuiDataGrid",["panel","paper"]),bC=je(Kr,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),wC=je(Ci,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${e.spacing(.5)})`,overflow:"auto"})),Cu=i.forwardRef((e,t)=>{const{children:n,className:r}=e,o=ne(e,CC),l=ie(),s=Z(),a=pu,[c,u]=i.useState(!1),d=i.useCallback(()=>{l.current.hidePreferences()},[l]),f=i.useCallback(b=>{b.key==="Escape"&&l.current.hidePreferences()},[l]),g=i.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{u(!0)},effect:()=>()=>{u(!1)}}],[]),[m,C]=i.useState(null);return i.useEffect(()=>{var p,S;const b=(S=(p=l.current.rootElementRef)==null?void 0:p.current)==null?void 0:S.querySelector('[data-id="gridPanelAnchor"]');b&&C(b)},[l]),m?v.jsx(bC,h({ref:t,placement:"bottom-start",className:me(r,a.panel),ownerState:s,anchorEl:m,modifiers:g},o,{children:v.jsx(pi,{mouseEvent:"onMouseUp",onClickAway:d,children:v.jsx(wC,{className:a.paper,ownerState:s,elevation:8,onKeyDown:f,children:c&&n})})})):null}),SC=["className"],yC=e=>{const{classes:t}=e;return de({root:["panelContent"]},ue,t)},xC=Se("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function bu(e){const{className:t}=e,n=ne(e,SC),r=Z(),o=yC(r);return v.jsx(xC,h({className:me(t,o.root),ownerState:r},n))}const vC=["className"],IC=e=>{const{classes:t}=e;return de({root:["panelFooter"]},ue,t)},MC=Se("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function wu(e){const{className:t}=e,n=ne(e,vC),r=Z(),o=IC(r);return v.jsx(MC,h({className:me(t,o.root),ownerState:r},n))}const PC=["className"],EC=e=>{const{classes:t}=e;return de({root:["panelHeader"]},ue,t)},FC=Se("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function kC(e){const{className:t}=e,n=ne(e,PC),r=Z(),o=EC(r);return v.jsx(FC,h({className:me(t,o.root),ownerState:r},n))}const DC=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],TC=["InputComponentProps"],OC=e=>{const{classes:t}=e;return de({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},ue,t)},HC=je("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),_C=je("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),LC=je("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),GC=je("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),RC=je("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:150}),$C=je("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),AC=e=>{switch(e){case Ze.And:return"filterPanelOperatorAnd";case Ze.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Rn=e=>e.headerName||e.field,Bs=new Intl.Collator,Vr=i.forwardRef(function(t,n){var Oe,He,ve,Ge,qe,ot,ft,Ae,be;const{item:r,hasMultipleFilters:o,deleteFilter:l,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:u,focusElementRef:d,logicOperators:f=[Ze.And,Ze.Or],columnsSort:g,filterColumns:m,deleteIconProps:C={},logicOperatorInputProps:b={},operatorInputProps:p={},columnInputProps:S={},valueInputProps:x={},readOnly:D}=t,E=ne(t,DC),H=ie(),G=U(H,Pt),A=U(H,ol),F=U(H,We),y=_e(),_=_e(),$=_e(),O=_e(),P=Z(),L=OC(P),I=i.useRef(null),M=i.useRef(null),w=F.logicOperator??Ze.And,j=o&&f.length>0,T=((Oe=P.slotProps)==null?void 0:Oe.baseFormControl)||{},z=(((He=P.slotProps)==null?void 0:He.baseSelect)||{}).native??!1,N=((ve=P.slotProps)==null?void 0:ve.baseInputLabel)||{},B=((Ge=P.slotProps)==null?void 0:Ge.baseSelectOption)||{},{InputComponentProps:W}=x,X=ne(x,TC),{filteredColumns:q,selectedField:te}=i.useMemo(()=>{let fe=r.field;const ye=G[r.field].filterable===!1?G[r.field]:null;if(ye)return{filteredColumns:[ye],selectedField:fe};if(m===void 0||typeof m!="function")return{filteredColumns:A,selectedField:fe};const Ee=m({field:r.field,columns:A,currentFilters:(F==null?void 0:F.items)||[]});return{filteredColumns:A.filter(Fe=>{const Ce=Ee.includes(Fe.field);return Fe.field===r.field&&!Ce&&(fe=void 0),Ce}),selectedField:fe}},[m,F==null?void 0:F.items,A,r.field,G]),K=i.useMemo(()=>{switch(g){case"asc":return q.sort((fe,ye)=>Bs.compare(Rn(fe),Rn(ye)));case"desc":return q.sort((fe,ye)=>-Bs.compare(Rn(fe),Rn(ye)));default:return q}},[q,g]),Q=r.field?H.current.getColumn(r.field):null,J=i.useMemo(()=>{var fe;return!r.operator||!Q?null:(fe=Q.filterOperators)==null?void 0:fe.find(ye=>ye.value===r.operator)},[r,Q]),se=i.useCallback(fe=>{const ye=fe.target.value,Ee=H.current.getColumn(ye);if(Ee.field===Q.field)return;const Fe=Ee.filterOperators.find(ze=>ze.value===r.operator)||Ee.filterOperators[0];let Be=!Fe.InputComponent||Fe.InputComponent!==(J==null?void 0:J.InputComponent)||Ee.type!==Q.type?void 0:r.value;if(Ee.type==="singleSelect"&&Be!==void 0){const ze=Ee,le=nn(ze);Array.isArray(Be)?Be=Be.filter(he=>Ao(he,le,ze==null?void 0:ze.getOptionValue)!==void 0):Ao(r.value,le,ze==null?void 0:ze.getOptionValue)===void 0&&(Be=void 0)}s(h({},r,{field:ye,operator:Fe.value,value:Be}))},[H,s,r,Q,J]),oe=i.useCallback(fe=>{const ye=fe.target.value,Ee=Q==null?void 0:Q.filterOperators.find(Ce=>Ce.value===ye),Fe=!(Ee!=null&&Ee.InputComponent)||(Ee==null?void 0:Ee.InputComponent)!==(J==null?void 0:J.InputComponent);s(h({},r,{operator:ye,value:Fe?void 0:r.value}))},[s,r,Q,J]),ae=i.useCallback(fe=>{const ye=fe.target.value===Ze.And.toString()?Ze.And:Ze.Or;u(ye)},[u]),Le=()=>{l(r)};return i.useImperativeHandle(d,()=>({focus:()=>{var fe;J!=null&&J.InputComponent?(fe=I==null?void 0:I.current)==null||fe.focus():M.current.focus()}}),[J]),v.jsxs(HC,h({ref:n,className:L.root,"data-id":r.id,ownerState:P},E,{children:[v.jsx(_C,h({variant:"standard",as:P.slots.baseFormControl},T,C,{className:me(L.deleteIcon,T.className,C.className),ownerState:P,children:v.jsx(P.slots.baseIconButton,h({"aria-label":H.current.getLocaleText("filterPanelDeleteIconLabel"),title:H.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Le,size:"small",disabled:D},(qe=P.slotProps)==null?void 0:qe.baseIconButton,{children:v.jsx(P.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),v.jsx(LC,h({variant:"standard",as:P.slots.baseFormControl},T,b,{sx:[j?{display:"flex"}:{display:"none"},a?{visibility:"visible"}:{visibility:"hidden"},T.sx,b.sx],className:me(L.logicOperatorInput,T.className,b.className),ownerState:P,children:v.jsx(P.slots.baseSelect,h({inputProps:{"aria-label":H.current.getLocaleText("filterPanelLogicOperator")},value:w??"",onChange:ae,disabled:!!c||f.length===1,native:z},(ot=P.slotProps)==null?void 0:ot.baseSelect,{children:f.map(fe=>i.createElement(P.slots.baseSelectOption,h({},B,{native:z,key:fe.toString(),value:fe.toString()}),H.current.getLocaleText(AC(fe))))}))})),v.jsxs(GC,h({variant:"standard",as:P.slots.baseFormControl},T,S,{className:me(L.columnInput,T.className,S.className),ownerState:P,children:[v.jsx(P.slots.baseInputLabel,h({},N,{htmlFor:y,id:_,children:H.current.getLocaleText("filterPanelColumns")})),v.jsx(P.slots.baseSelect,h({labelId:_,id:y,label:H.current.getLocaleText("filterPanelColumns"),value:te??"",onChange:se,native:z,disabled:D},(ft=P.slotProps)==null?void 0:ft.baseSelect,{children:K.map(fe=>i.createElement(P.slots.baseSelectOption,h({},B,{native:z,key:fe.field,value:fe.field}),Rn(fe)))}))]})),v.jsxs(RC,h({variant:"standard",as:P.slots.baseFormControl},T,p,{className:me(L.operatorInput,T.className,p.className),ownerState:P,children:[v.jsx(P.slots.baseInputLabel,h({},N,{htmlFor:$,id:O,children:H.current.getLocaleText("filterPanelOperator")})),v.jsx(P.slots.baseSelect,h({labelId:O,label:H.current.getLocaleText("filterPanelOperator"),id:$,value:r.operator,onChange:oe,native:z,inputRef:M,disabled:D},(Ae=P.slotProps)==null?void 0:Ae.baseSelect,{children:(be=Q==null?void 0:Q.filterOperators)==null?void 0:be.map(fe=>i.createElement(P.slots.baseSelectOption,h({},B,{native:z,key:fe.value,value:fe.value}),fe.label||H.current.getLocaleText(`filterOperator${kn(fe.value)}`)))}))]})),v.jsx($C,h({variant:"standard",as:P.slots.baseFormControl},T,X,{className:me(L.valueInput,T.className,X.className),ownerState:P,children:J!=null&&J.InputComponent?v.jsx(J.InputComponent,h({apiRef:H,item:r,applyValue:s,focusElementRef:I,disabled:D},J.InputComponentProps,W),r.field):null}))]}))}),jC=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Us=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),Su=i.forwardRef(function(t,n){var O,P;const r=ie(),o=Z(),l=U(r,We),s=U(r,ol),a=U(r,Ni),c=i.useRef(null),u=i.useRef(null),{logicOperators:d=[Ze.And,Ze.Or],columnsSort:f,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:C=!1,disableRemoveAllButton:b=!1}=t,p=ne(t,jC),S=r.current.upsertFilterItem,x=i.useCallback(L=>{r.current.setFilterLogicOperator(L)},[r]),D=i.useCallback(()=>{let L;if(m&&typeof m=="function"){const I=m({currentFilters:(l==null?void 0:l.items)||[],columns:s});if(I===null)return null;L=s.find(({field:M})=>M===I)}else L=s.find(I=>{var M;return(M=I.filterOperators)==null?void 0:M.length});return L?Us(L):null},[l==null?void 0:l.items,s,m]),E=i.useCallback(()=>{if(m===void 0||typeof m!="function")return D();const L=l.items.length?l.items:[D()].filter(Boolean),I=m({currentFilters:L,columns:s});if(I===null)return null;const M=s.find(({field:w})=>w===I);return M?Us(M):null},[l.items,s,m,D]),H=i.useMemo(()=>l.items.length?l.items:(u.current||(u.current=D()),u.current?[u.current]:[]),[l.items,D]),G=H.length>1,{readOnlyFilters:A,validFilters:F}=i.useMemo(()=>H.reduce((L,I)=>(a[I.field]?L.validFilters.push(I):L.readOnlyFilters.push(I),L),{readOnlyFilters:[],validFilters:[]}),[H,a]),y=i.useCallback(()=>{const L=E();L&&r.current.upsertFilterItems([...H,L])},[r,E,H]),_=i.useCallback(L=>{const I=F.length===1;r.current.deleteFilterItem(L),I&&r.current.hideFilterPanel()},[r,F.length]),$=i.useCallback(()=>F.length===1&&F[0].value===void 0?(r.current.deleteFilterItem(F[0]),r.current.hideFilterPanel()):r.current.setFilterModel(h({},l,{items:A}),"removeAllFilterItems"),[r,A,l,F]);return i.useEffect(()=>{d.length>0&&l.logicOperator&&!d.includes(l.logicOperator)&&x(d[0])},[d,x,l.logicOperator]),i.useEffect(()=>{F.length>0&&c.current.focus()},[F.length]),v.jsxs(Tl,h({ref:n},p,{children:[v.jsxs(bu,{children:[A.map((L,I)=>v.jsx(Vr,h({item:L,applyFilterChanges:S,deleteFilter:_,hasMultipleFilters:G,showMultiFilterOperators:I>0,disableMultiFilterOperator:I!==1,applyMultiFilterOperatorChanges:x,focusElementRef:null,readOnly:!0,logicOperators:d,columnsSort:f},g),L.id==null?I:L.id)),F.map((L,I)=>v.jsx(Vr,h({item:L,applyFilterChanges:S,deleteFilter:_,hasMultipleFilters:G,showMultiFilterOperators:A.length+I>0,disableMultiFilterOperator:A.length+I!==1,applyMultiFilterOperatorChanges:x,focusElementRef:I===F.length-1?c:null,logicOperators:d,columnsSort:f},g),L.id==null?I+A.length:L.id))]}),!o.disableMultipleColumnsFiltering&&!(C&&b)?v.jsxs(wu,{children:[C?v.jsx("span",{}):v.jsx(o.slots.baseButton,h({onClick:y,startIcon:v.jsx(o.slots.filterPanelAddIcon,{})},(O=o.slotProps)==null?void 0:O.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!b&&F.length>0?v.jsx(o.slots.baseButton,h({onClick:$,startIcon:v.jsx(o.slots.filterPanelRemoveAllIcon,{})},(P=o.slotProps)==null?void 0:P.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),yu=i.forwardRef(function(t,n){var m,C;const{slotProps:r={}}=t,o=r.button||{},l=r.tooltip||{},s=Bl(),a=Bl(),c=ie(),u=Z(),d=U(c,Wt),f=b=>{var p;d.open&&d.openedPanelValue===bt.columns?c.current.hidePreferences():c.current.showPreferences(bt.columns,a,s),(p=o.onClick)==null||p.call(o,b)};if(u.disableColumnSelector)return null;const g=d.open&&d.panelId===a;return v.jsx(u.slots.baseTooltip,h({title:c.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},l,(m=u.slotProps)==null?void 0:m.baseTooltip,{children:v.jsx(u.slots.baseButton,h({ref:n,id:s,size:"small","aria-label":c.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?a:void 0,startIcon:v.jsx(u.slots.columnSelectorIcon,{})},o,{onClick:f},(C=u.slotProps)==null?void 0:C.baseButton,{children:c.current.getLocaleText("toolbarColumns")}))}))}),xu=i.forwardRef(function(t,n){var G,A;const{slotProps:r={}}=t,o=r.button||{},l=r.tooltip||{},s=ie(),a=Z(),c=U(s,zt),u=_e(),d=_e(),[f,g]=i.useState(!1),m=i.useRef(null),C=Gt(n,m),b=[{icon:v.jsx(a.slots.densityCompactIcon,{}),label:s.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:v.jsx(a.slots.densityStandardIcon,{}),label:s.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:v.jsx(a.slots.densityComfortableIcon,{}),label:s.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],p=i.useMemo(()=>{switch(c){case"compact":return v.jsx(a.slots.densityCompactIcon,{});case"comfortable":return v.jsx(a.slots.densityComfortableIcon,{});default:return v.jsx(a.slots.densityStandardIcon,{})}},[c,a]),S=F=>{var y;g(_=>!_),(y=o.onClick)==null||y.call(o,F)},x=()=>{g(!1)},D=F=>{s.current.setDensity(F),g(!1)},E=F=>{F.key==="Tab"&&F.preventDefault(),Dl(F.key)&&g(!1)};if(a.disableDensitySelector)return null;const H=b.map((F,y)=>v.jsxs(yt,{onClick:()=>D(F.value),selected:F.value===c,children:[v.jsx(Vt,{children:F.icon}),F.label]},y));return v.jsxs(i.Fragment,{children:[v.jsx(a.slots.baseTooltip,h({title:s.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},l,(G=a.slotProps)==null?void 0:G.baseTooltip,{children:v.jsx(a.slots.baseButton,h({ref:C,size:"small",startIcon:p,"aria-label":s.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?d:void 0,id:u},o,{onClick:S},(A=a.slotProps)==null?void 0:A.baseButton,{children:s.current.getLocaleText("toolbarDensity")}))})),v.jsx(Qn,{open:f,target:m.current,onClose:x,position:"bottom-start",children:v.jsx(qo,{id:d,className:k.menuList,"aria-labelledby":u,onKeyDown:E,autoFocusItem:f,children:H})})]})}),zC=e=>{const{classes:t}=e;return de({root:["toolbarFilterList"]},ue,t)},VC=je("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),vu=i.forwardRef(function(t,n){var S,x;const{slotProps:r={}}=t,o=r.button||{},l=r.tooltip||{},s=ie(),a=Z(),c=U(s,wl),u=U(s,Pt),d=U(s,Wt),f=zC(a),g=_e(),m=_e(),C=i.useMemo(()=>{if(d.open)return s.current.getLocaleText("toolbarFiltersTooltipHide");if(c.length===0)return s.current.getLocaleText("toolbarFiltersTooltipShow");const D=H=>u[H.field].filterOperators.find(G=>G.value===H.operator).label||s.current.getLocaleText(`filterOperator${kn(H.operator)}`).toString(),E=H=>{const{getValueAsString:G}=u[H.field].filterOperators.find(A=>A.value===H.operator);return G?G(H.value):H.value};return v.jsxs("div",{children:[s.current.getLocaleText("toolbarFiltersTooltipActive")(c.length),v.jsx(VC,{className:f.root,ownerState:a,children:c.map((H,G)=>h({},u[H.field]&&v.jsx("li",{children:`${u[H.field].headerName||H.field}
                  ${D(H)}
                  ${H.value!=null?E(H):""}`},G)))})]})},[s,a,d.open,c,u,f]),b=D=>{var G;const{open:E,openedPanelValue:H}=d;E&&H===bt.filters?s.current.hidePreferences():s.current.showPreferences(bt.filters,m,g),(G=o.onClick)==null||G.call(o,D)};if(a.disableColumnFilter)return null;const p=d.open&&d.panelId===m;return v.jsx(a.slots.baseTooltip,h({title:C,enterDelay:1e3},l,(S=a.slotProps)==null?void 0:S.baseTooltip,{children:v.jsx(a.slots.baseButton,h({ref:n,id:g,size:"small","aria-label":s.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":p?m:void 0,"aria-expanded":p,"aria-haspopup":!0,startIcon:v.jsx(Xr,{badgeContent:c.length,color:"primary",children:v.jsx(a.slots.openFilterButtonIcon,{})})},o,{onClick:b},(x=a.slotProps)==null?void 0:x.baseButton,{children:s.current.getLocaleText("toolbarFilters")}))}))}),Iu=i.forwardRef(function(t,n){var x,D;const{children:r,slotProps:o={}}=t,l=o.button||{},s=o.tooltip||{},a=ie(),c=Z(),u=_e(),d=_e(),[f,g]=i.useState(!1),m=i.useRef(null),C=Gt(n,m),b=E=>{var H;g(G=>!G),(H=l.onClick)==null||H.call(l,E)},p=()=>g(!1),S=E=>{E.key==="Tab"&&E.preventDefault(),Dl(E.key)&&p()};return r==null?null:v.jsxs(i.Fragment,{children:[v.jsx(c.slots.baseTooltip,h({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},s,(x=c.slotProps)==null?void 0:x.baseTooltip,{children:v.jsx(c.slots.baseButton,h({ref:C,size:"small",startIcon:v.jsx(c.slots.exportIcon,{}),"aria-expanded":f,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":f?d:void 0,id:u},l,{onClick:b},(D=c.slotProps)==null?void 0:D.baseButton,{children:a.current.getLocaleText("toolbarExport")}))})),v.jsx(Qn,{open:f,target:m.current,onClose:p,position:"bottom-start",children:v.jsx(qo,{id:d,className:k.menuList,"aria-labelledby":u,onKeyDown:S,autoFocusItem:f,children:i.Children.map(r,E=>i.isValidElement(E)?i.cloneElement(E,{hideMenu:p}):E)})})]})}),NC=["hideMenu","options"],BC=["hideMenu","options"],UC=["csvOptions","printOptions","excelOptions"];function Mu(e){const t=ie(),{hideMenu:n,options:r}=e,o=ne(e,NC);return v.jsx(yt,h({onClick:()=>{t.current.exportDataAsCsv(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportCSV")}))}function Pu(e){const t=ie(),{hideMenu:n,options:r}=e,o=ne(e,BC);return v.jsx(yt,h({onClick:()=>{t.current.exportDataAsPrint(r),n==null||n()}},o,{children:t.current.getLocaleText("toolbarExportPrint")}))}const Eu=i.forwardRef(function(t,n){const{csvOptions:r={},printOptions:o={},excelOptions:l}=t,s=ne(t,UC),c=ie().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:l,csvOptions:r,printOptions:o}).sort((u,d)=>u.componentName>d.componentName?1:-1);return c.length===0?null:v.jsx(Iu,h({},s,{ref:n,children:c.map((u,d)=>i.cloneElement(u.component,{key:d}))}))}),WC=["quickFilterParser","quickFilterFormatter","debounceMs","className"],qC=e=>{const{classes:t}=e;return de({root:["toolbarQuickFilter"]},ue,t)},KC=je(Yr,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),XC=e=>e.split(" ").filter(t=>t!==""),YC=e=>e.join(" ");function Fu(e){var S,x;const t=ie(),n=Z(),r=qC(n),o=U(t,Pa),{quickFilterParser:l=XC,quickFilterFormatter:s=YC,debounceMs:a=n.filterDebounceMs,className:c}=e,u=ne(e,WC),[d,f]=i.useState(()=>s(o??[])),g=i.useRef(o);i.useEffect(()=>{Bt(g.current,o)||(g.current=o,f(D=>Bt(l(D),o)?D:s(o??[])))},[o,s,l]);const m=i.useCallback(D=>{const E=l(D);g.current=E,t.current.setQuickFilterValues(E)},[t,l]),C=i.useMemo(()=>Di(m,a),[m,a]),b=i.useCallback(D=>{const E=D.target.value;f(E),C(E)},[C]),p=i.useCallback(()=>{f(""),m("")},[m]);return v.jsx(KC,h({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:d,onChange:b,className:me(c,r.root),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},u,{InputProps:h({startAdornment:v.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:v.jsx(n.slots.baseIconButton,h({"aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:[d?{visibility:"visible"}:{visibility:"hidden"}],onClick:p},(S=n.slotProps)==null?void 0:S.baseIconButton,{children:v.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},u.InputProps)},(x=n.slotProps)==null?void 0:x.baseTextField))}const QC=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],JC=i.forwardRef(function(t,n){const{csvOptions:r,printOptions:o,excelOptions:l,showQuickFilter:s=!1,quickFilterProps:a={}}=t,c=ne(t,QC),u=Z();return u.disableColumnFilter&&u.disableColumnSelector&&u.disableDensitySelector&&!s?null:v.jsxs(Tc,h({ref:n},c,{children:[v.jsx(yu,{}),v.jsx(vu,{}),v.jsx(xu,{}),v.jsx(Eu,{csvOptions:r,printOptions:o,excelOptions:l}),v.jsx(pd,{sx:{flex:1}}),s&&v.jsx(Fu,h({},a))]}))}),ZC=["className","selectedRowCount"],eb=e=>{const{classes:t}=e;return de({root:["selectedRowCount"]},ue,t)},tb=Se("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),ku=i.forwardRef(function(t,n){const{className:r,selectedRowCount:o}=t,l=ne(t,ZC),s=ie(),a=Z(),c=eb(a),u=s.current.getLocaleText("footerRowSelected")(o);return v.jsx(tb,h({ref:n,className:me(c.root,r),ownerState:a},l,{children:u}))}),Du=i.forwardRef(function(t,n){var f,g;const r=ie(),o=Z(),l=U(r,sa),s=U(r,xa),a=U(r,lr),c=!o.hideFooterSelectedRowCount&&s>0?v.jsx(ku,{selectedRowCount:s}):v.jsx("div",{}),u=!o.hideFooterRowCount&&!o.pagination?v.jsx(o.slots.footerRowCount,h({},(f=o.slotProps)==null?void 0:f.footerRowCount,{rowCount:l,visibleRowCount:a})):null,d=o.pagination&&!o.hideFooterPagination&&o.slots.pagination&&v.jsx(o.slots.pagination,h({},(g=o.slotProps)==null?void 0:g.pagination));return v.jsxs(Dc,h({ref:n},t,{children:[c,u,d]}))});function nb(){var l,s;const e=ie(),t=U(e,pt),n=Z(),r=U(e,Wt),o=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??bt.filters);return v.jsx(n.slots.panel,h({as:n.slots.basePopper,open:t.length>0&&r.open,id:r.panelId,"aria-labelledby":r.labelId},(l=n.slotProps)==null?void 0:l.panel,(s=n.slotProps)==null?void 0:s.basePopper,{children:o}))}function Tu(){var t;const e=Z();return v.jsxs(i.Fragment,{children:[v.jsx(nb,{}),e.slots.toolbar&&v.jsx(e.slots.toolbar,h({},(t=e.slotProps)==null?void 0:t.toolbar))]})}const Hl=(e,t,n,r,o)=>{const l=o.hasScrollY?o.scrollbarSize:0;let s;switch(e){case Me.LEFT:s=r[n];break;case Me.RIGHT:s=o.columnsTotalWidth-r[n]-t+l;break;default:s=0;break}return s},$n={root:k.scrollbarFiller,header:k["scrollbarFiller--header"],borderTop:k["scrollbarFiller--borderTop"],borderBottom:k["scrollbarFiller--borderBottom"],pinnedRight:k["scrollbarFiller--pinnedRight"]};function _l({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:r}){return v.jsx("div",{role:"presentation",className:me($n.root,e&&$n.header,t&&$n.borderTop,n&&$n.borderBottom,r&&$n.pinnedRight)})}const ob=Se("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(e,t)=>t.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),rb=e=>{const{classes:t}=e;return de({root:["skeletonLoadingOverlay"]},ue,t)},Ws=e=>parseInt(e.getAttribute("data-colindex"),10),lb=i.forwardRef(function(t,n){const r=Z(),{slots:o}=r,l=rb({classes:r.classes}),s=i.useRef(null),a=Gt(s,n),c=ie(),u=U(c,nt),d=(u==null?void 0:u.viewportInnerSize.height)??0,f=Math.ceil(d/u.rowHeight),g=U(c,Jo),m=U(c,Rt),C=i.useMemo(()=>m.filter(G=>G<=g).length,[g,m]),b=U(c,Ne),p=i.useMemo(()=>b.slice(0,C),[b,C]),S=U(c,On),x=i.useCallback((G,A,F)=>{const y=Hl(F,G,A,m,u);return{[F]:y}},[u,m]),D=i.useCallback(G=>{if(S.left.findIndex(A=>A.field===G)!==-1)return Me.LEFT;if(S.right.findIndex(A=>A.field===G)!==-1)return Me.RIGHT},[S.left,S.right]),E=i.useMemo(()=>{const G=[];for(let A=0;A<f;A+=1){const F=[];for(let y=0;y<p.length;y+=1){const _=p[y],$=D(_.field),O=$===Me.LEFT,P=$===Me.RIGHT,L=$?S[$].length:p.length-S.left.length-S.right.length,I=$?S[$].findIndex(Q=>Q.field===_.field):y-S.left.length,M=$&&x(_.computedWidth,y,$),w=u.columnsTotalWidth<u.viewportOuterSize.width,j=cr($,I,L,r.showCellVerticalBorder,w),T=ur($,I),R=y===p.length-1,z=P&&I===0,N=z&&w,B=R&&!z&&w,W=u.viewportOuterSize.width-u.columnsTotalWidth,X=Math.max(0,W),q=v.jsx(o.skeletonCell,{width:X,empty:!0},`skeleton-filler-column-${A}`),te=u.hasScrollY?u.scrollbarSize:0,K=R&&te!==0;N&&F.push(q),F.push(v.jsx(o.skeletonCell,{field:_.field,type:_.type,align:_.align,width:"var(--width)",height:u.rowHeight,"data-colindex":y,className:me(O&&k["cell--pinnedLeft"],P&&k["cell--pinnedRight"],j&&k["cell--withRightBorder"],T&&k["cell--withLeftBorder"]),style:h({"--width":`${_.computedWidth}px`},M)},`skeleton-column-${A}-${_.field}`)),B&&F.push(q),K&&F.push(v.jsx(_l,{pinnedRight:S.right.length>0},`skeleton-scrollbar-filler-${A}`))}G.push(v.jsx("div",{className:me(k.row,k.rowSkeleton,A===0&&k["row--firstVisible"]),children:F},`skeleton-row-${A}`))}return G},[o,p,S,f,r.showCellVerticalBorder,u.columnsTotalWidth,u.viewportOuterSize.width,u.rowHeight,u.hasScrollY,u.scrollbarSize,D,x]);return ee(c,"columnResize",G=>{var M,w,j;const{colDef:A,width:F}=G,y=(M=s.current)==null?void 0:M.querySelectorAll(`[data-field="${At(A.field)}"]`);if(!y)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const _=p.findIndex(T=>T.field===A.field),$=D(A.field),O=$===Me.LEFT,P=$===Me.RIGHT,L=getComputedStyle(y[0]).getPropertyValue("--width"),I=parseInt(L,10)-F;if(y&&y.forEach(T=>{T.style.setProperty("--width",`${F}px`)}),O){const T=(w=s.current)==null?void 0:w.querySelectorAll(`.${k["cell--pinnedLeft"]}`);T==null||T.forEach(R=>{Ws(R)>_&&(R.style.left=`${parseInt(getComputedStyle(R).left,10)-I}px`)})}if(P){const T=(j=s.current)==null?void 0:j.querySelectorAll(`.${k["cell--pinnedRight"]}`);T==null||T.forEach(R=>{Ws(R)<_&&(R.style.right=`${parseInt(getComputedStyle(R).right,10)+I}px`)})}}),v.jsx(ob,h({className:l.root,ref:a},t,{children:E}))}),sb=["variant","noRowsVariant","style"],ib={"circular-progress":{component:Cd,style:{}},"linear-progress":{component:bd,style:{display:"block"}},skeleton:{component:lb,style:{display:"block"}}},Ou=i.forwardRef(function(t,n){const{variant:r="circular-progress",noRowsVariant:o="circular-progress",style:l}=t,s=ne(t,sb),a=ie(),c=U(a,Zn),u=ib[c===0?o:r];return v.jsx(dr,h({ref:n,style:h({},u.style,l)},s,{children:v.jsx(u.component,{})}))}),Hu=i.forwardRef(function(t,n){const o=ie().current.getLocaleText("noRowsLabel");return v.jsx(dr,h({ref:n},t,{children:o}))}),ab=je(wd)(({theme:e})=>({maxHeight:"calc(100% + 1px)",[`& .${Ul.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Ul.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),cb=(e,t)=>({from:n,to:r,count:o,page:l})=>e({from:n,to:r,count:o,page:l,estimated:t}),ub=({from:e,to:t,count:n,estimated:r})=>r?`${e}–${t} of ${n!==-1?n:`more than ${r>t?r:t}`}`:`${e}–${t} of ${n!==-1?n:`more than ${t}`}`,_u=i.forwardRef(function(t,n){const r=ie(),o=Z(),l=U(r,Je),s=U(r,Zt),a=U(r,yl),{paginationMode:c,loading:u,estimatedRowCount:d}=o,f=i.useMemo(()=>s===-1&&c==="server"&&u?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[u,c,s]),g=i.useMemo(()=>Math.max(0,a-1),[a]),m=i.useMemo(()=>s===-1||l.page<=g?l.page:g,[g,l.page,s]),C=i.useCallback(E=>{const H=Number(E.target.value);r.current.setPageSize(H)},[r]),b=i.useCallback((E,H)=>{r.current.setPage(H)},[r]),S=(E=>{for(let H=0;H<o.pageSizeOptions.length;H+=1){const G=o.pageSizeOptions[H];if(typeof G=="number"){if(G===E)return!0}else if(G.value===E)return!0}return!1})(l.pageSize)?o.pageSizeOptions:[],x=r.current.getLocaleText("MuiTablePagination"),D=cb(x.labelDisplayedRows||ub,d);return v.jsx(ab,h({ref:n,component:"div",count:s,page:m,rowsPerPageOptions:S,rowsPerPage:l.pageSize,onPageChange:b,onRowsPerPageChange:C},f,x,{labelDisplayedRows:D},t))}),db=["className","rowCount","visibleRowCount"],fb=e=>{const{classes:t}=e;return de({root:["rowCount"]},ue,t)},gb=Se("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),Lu=i.forwardRef(function(t,n){const{className:r,rowCount:o,visibleRowCount:l}=t,s=ne(t,db),a=ie(),c=Z(),u=fb(c);if(o===0)return null;const d=l<o?a.current.getLocaleText("footerTotalVisibleRows")(l,o):o.toLocaleString();return v.jsxs(gb,h({ref:n,className:me(u.root,r),ownerState:c},s,{children:[a.current.getLocaleText("footerTotalRows")," ",d]}))});function mb(e,t){return de(t,ue,e)}const Ll="__detail_panel_toggle__",hb=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","dimensions","renderContext","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function pb({width:e}){return e?v.jsx("div",{role:"presentation",className:me(k.cell,k.cellEmpty),style:{"--width":`${e}px`}}):null}const Cb=i.forwardRef(function(t,n){var ze;const{selected:r,rowId:o,row:l,index:s,style:a,rowHeight:c,className:u,visibleColumns:d,pinnedColumns:f,offsetLeft:g,dimensions:m,renderContext:C,focusedColumnIndex:b,isFirstVisible:p,isLastVisible:S,isNotVisible:x,showBottomBorder:D,onClick:E,onDoubleClick:H,onMouseEnter:G,onMouseLeave:A,onMouseOut:F,onMouseOver:y}=t,_=ne(t,hb),$=ie(),O=hc(),P=i.useRef(null),L=Z(),I=Qt($,L),M=U($,at),w=U($,eo),j=U($,Rt),T=U($,Xe),R=Gt(P,n),z=$.current.getRowNode(o),N=m.hasScrollY?m.scrollbarSize:0,B=m.columnsTotalWidth<m.viewportOuterSize.width,W=$.current.getRowMode(o)===ke.Edit,X=L.editMode===vt.Row,q=b!==void 0,te=q&&b>=f.left.length&&b<C.firstColumnIndex,K=q&&b<d.length-f.right.length&&b>=C.lastColumnIndex,Q=mb(L.classes,{root:["row",r&&"selected",X&&"row--editable",W&&"row--editing",p&&"row--firstVisible",S&&"row--lastVisible",D&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]}),J=O.hooks.useGridRowAriaAttributes();i.useLayoutEffect(()=>{if(I.range){const ge=$.current.getRowIndexRelativeToVisibleRows(o);ge!=null&&$.current.unstable_setLastMeasuredRowIndex(ge)}const le=P.current;if(!le||c!=="auto"||typeof ResizeObserver>"u")return;const pe=new ResizeObserver(ge=>{const[we]=ge,Ie=we.borderBoxSize&&we.borderBoxSize.length>0?we.borderBoxSize[0].blockSize:we.contentRect.height;$.current.unstable_storeRowHeightMeasurement(o,Ie)});return pe.observe(le),()=>pe.disconnect()},[$,I.range,s,c,o]);const se=i.useCallback((le,he)=>pe=>{io(pe)||$.current.getRow(o)&&($.current.publishEvent(le,$.current.getRowParams(o),pe),he&&he(pe))},[$,o]),oe=i.useCallback(le=>{const he=jo(le.target,k.cell),pe=he==null?void 0:he.getAttribute("data-field");if(pe){if(pe===cn.field||pe===Ll||pe==="__reorder__"||$.current.getCellMode(o,pe)===xe.Edit)return;const ge=$.current.getColumn(pe);if((ge==null?void 0:ge.type)===Jn)return}se("rowClick",E)(le)},[$,E,se,o]),{slots:ae,slotProps:Le,disableColumnReorder:Oe}=L,He=L.rowReordering,ve=U($,()=>h({},$.current.unstable_getRowInternalSizes(o)),Gi);let Ge=c;Ge==="auto"&&ve&&(ve.baseCenter??0)>0;const qe=i.useMemo(()=>{if(x)return{opacity:0,width:0,height:0};const le=h({},a,{maxHeight:c==="auto"?"none":c,minHeight:Ge,"--height":typeof c=="number"?`${c}px`:c});if(ve!=null&&ve.spacingTop){const he=L.rowSpacingType==="border"?"borderTopWidth":"marginTop";le[he]=ve.spacingTop}if(ve!=null&&ve.spacingBottom){const he=L.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let pe=le[he];typeof pe!="number"&&(pe=parseInt(pe||"0",10)),pe+=ve.spacingBottom,le[he]=pe}return le},[x,c,a,Ge,ve,L.rowSpacingType]),ot=$.current.unstable_applyPipeProcessors("rowClassName",[],o),ft=z?J(z,s):void 0;if(typeof L.getRowClassName=="function"){const le=s-(((ze=I.range)==null?void 0:ze.firstRowIndex)||0),he=h({},$.current.getRowParams(o),{isFirstVisible:le===0,isLastVisible:le===I.rows.length-1,indexRelativeToCurrentPage:le});ot.push(L.getRowClassName(he))}const Ae=(le,he,pe,ge,we=lt.NONE)=>{var zl;const Ie=$.current.unstable_getCellColSpanInfo(o,pe);if(Ie!=null&&Ie.spannedByColSpan)return null;const tt=(Ie==null?void 0:Ie.cellProps.width)??le.computedWidth,ao=(Ie==null?void 0:Ie.cellProps.colSpan)??1,co=Hl(Pc[we],le.computedWidth,pe,j,m);if((z==null?void 0:z.type)==="skeletonRow")return v.jsx(ae.skeletonCell,{type:le.type,width:tt,height:c,field:le.field,align:le.align},le.field);const uo=((zl=T[o])==null?void 0:zl[le.field])??null,fo=le.field==="__reorder__",dn=Object.keys(T).length>0,go=!(Oe||le.disableReorder),Xu=He&&!M.length&&w<=1&&!dn,Yu=!(go||fo&&Xu),Qu=we===lt.VIRTUAL;return v.jsx(ae.cell,h({column:le,width:tt,rowId:o,align:le.align||"left",colIndex:pe,colSpan:ao,disableDragEvents:Yu,editCellState:uo,isNotVisible:Qu,pinnedOffset:co,pinnedPosition:we,sectionIndex:he,sectionLength:ge,gridHasFiller:B},Le==null?void 0:Le.cell),le.field)};if(!z)return null;const be=f.left.map((le,he)=>Ae(le,he,he,f.left.length,lt.LEFT)),fe=f.right.map((le,he)=>{const pe=d.length-f.right.length+he;return Ae(le,he,pe,f.right.length,lt.RIGHT)}),ye=d.length-f.left.length-f.right.length,Ee=[];te&&Ee.push(Ae(d[b],b-f.left.length,b,ye,lt.VIRTUAL));for(let le=C.firstColumnIndex;le<C.lastColumnIndex;le+=1){const he=d[le],pe=le-f.left.length;Ee.push(Ae(he,pe,le,ye))}K&&Ee.push(Ae(d[b],b-f.left.length,b,ye,lt.VIRTUAL));const Fe=l?{onClick:oe,onDoubleClick:se("rowDoubleClick",H),onMouseEnter:se("rowMouseEnter",G),onMouseLeave:se("rowMouseLeave",A),onMouseOut:se("rowMouseOut",F),onMouseOver:se("rowMouseOver",y)}:null,Ce=m.viewportOuterSize.width-m.columnsTotalWidth-N,Be=Math.max(0,Ce);return v.jsxs("div",h({ref:R,"data-id":o,"data-rowindex":s,role:"row",className:me(...ot,Q.root,u),style:qe},ft,Fe,_,{children:[be,v.jsx("div",{role:"presentation",className:k.cellOffsetLeft,style:{width:g}}),Ee,Be>0&&v.jsx(pb,{width:Be}),fe.length>0&&v.jsx("div",{role:"presentation",className:k.filler}),fe,N!==0&&v.jsx(_l,{pinnedRight:f.right.length>0})]}))}),Gu=Yt(Cb),bb=()=>{const e=Et(),t=Z(),n=U(e,Ne),r=U(e,rr),o=U(e,_n),l=U(e,Xg);return{role:"grid","aria-colcount":n.length,"aria-rowcount":o+1+l+r,"aria-multiselectable":gl(t)}},wb=()=>{const e=Et(),t=U(e,Pn),n=U(e,_n);return i.useCallback((r,o)=>{const l={},s=o+n+2;return l["aria-rowindex"]=s,e.current.isRowSelectable(r.id)&&(l["aria-selected"]=t[r.id]!==void 0),l},[e,t,n])};function Ru({privateApiRef:e,configuration:t,props:n,children:r}){const o=i.useRef(e.current.getPublicApi());return v.jsx(mc.Provider,{value:t,children:v.jsx(ki.Provider,{value:n,children:v.jsx(lc.Provider,{value:e,children:v.jsx(tl.Provider,{value:o,children:r})})})})}const Sb=e=>{const t=i.useRef(null),n=i.useRef(null),r=i.useRef(null),o=i.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,columnHeadersContainerRef:o})},yb=e=>{const t=Kt();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=i.useRef(!0);i.useEffect(()=>{n.current?n.current=!1:e.current.setState(r=>h({},r,{isRtl:t}))},[e,t])},xb=Dg()&&window.localStorage.getItem("DEBUG")!=null,jn=()=>{},vb={debug:jn,info:jn,warn:jn,error:jn},qs=["debug","info","warn","error"];function Ks(e,t,n=console){const r=qs.indexOf(t);if(r===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return qs.reduce((l,s,a)=>(a>=r?l[s]=(...c)=>{const[u,...d]=c;n[s](`MUI X: ${e} - ${u}`,...d)}:l[s]=jn,l),{})}const Ib=(e,t)=>{const n=i.useCallback(r=>xb?Ks(r,"debug",t.logger):t.logLevel?Ks(r,t.logLevel.toString(),t.logger):vb,[t.logLevel,t.logger]);ce(e,{getLogger:n},"private")};class Mb{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),l=Array.from(r.regular.keys());for(let s=o.length-1;s>=0;s-=1){const a=o[s];r.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<l.length;s+=1){const a=l[s];r.regular.has(a)&&a.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...l){r.removeListener(t,o),n.apply(r,l)})}}class Gl{static create(t){return new Gl(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{this.value=n,this.listeners.forEach(r=>r(n))},this.value=t,this.listeners=new Set}}const $u=Symbol("mui.api_private"),Pb=e=>e.isPropagationStopped!==void 0;let Xs=0;function Eb(e){var o;const t=(o=e.current)==null?void 0:o[$u];if(t)return t;const n={},r={state:n,store:Gl.create(n),instanceId:{id:Xs}};return Xs+=1,r.getPublicApi=()=>e.current,r.register=(l,s)=>{Object.keys(s).forEach(a=>{const c=s[a],u=r[a];if((u==null?void 0:u.spying)===!0?u.target=c:r[a]=c,l==="public"){const d=e.current,f=d[a];(f==null?void 0:f.spying)===!0?f.target=c:d[a]=c}})},r.register("private",{caches:{},eventManager:new Mb}),r}function Fb(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[$u]:e.current}}function kb(e,t){var s;const n=i.useRef(),r=i.useRef();r.current||(r.current=Eb(n)),n.current||(n.current=Fb(r));const o=i.useCallback((...a)=>{const[c,u,d={}]=a;if(d.defaultMuiPrevented=!1,Pb(d)&&d.isPropagationStopped())return;const f=t.signature===ht.DataGridPro||t.signature===ht.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(c,u,d,f)},[r,t.signature]),l=i.useCallback((a,c,u)=>{r.current.eventManager.on(a,c,u);const d=r.current;return()=>{d.eventManager.removeListener(a,c)}},[r]);return ce(r,{subscribeEvent:l,publishEvent:o},"public"),e&&!((s=e.current)!=null&&s.state)&&(e.current=n.current),i.useImperativeHandle(e,()=>n.current,[n]),i.useEffect(()=>{const a=r.current;return()=>{a.publishEvent("unmount")}},[r]),r}const Db=(e,t)=>{const n=i.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})};function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}function Tb(e,t){if(qn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kn(e){var t=Tb(e,"string");return qn(t)=="symbol"?t:t+""}const Ob=e=>{const t=i.useRef({}),n=i.useRef(!1),r=i.useCallback(d=>{n.current||!d||(n.current=!0,Object.values(d.appliers).forEach(f=>{f()}),n.current=!1)},[]),o=i.useCallback((d,f,g)=>{t.current[d]||(t.current[d]={processors:new Map,processorsAsArray:[],appliers:{}});const m=t.current[d];return m.processors.get(f)!==g&&(m.processors.set(f,g),m.processorsAsArray=Array.from(t.current[d].processors.values()),r(m)),()=>{t.current[d].processors.delete(f),t.current[d].processorsAsArray=Array.from(t.current[d].processors.values())}},[r]),l=i.useCallback((d,f,g)=>(t.current[d]||(t.current[d]={processors:new Map,processorsAsArray:[],appliers:{}}),t.current[d].appliers[f]=g,()=>{const m=t.current[d].appliers,C=ne(m,[f].map(Kn));t.current[d].appliers=C}),[]),s=i.useCallback(d=>{r(t.current[d])},[r]),a=i.useCallback((...d)=>{const[f,g,m]=d;if(!t.current[f])return g;const C=t.current[f].processorsAsArray;let b=g;for(let p=0;p<C.length;p+=1)b=C[p](b,m);return b},[]),c={registerPipeProcessor:o,registerPipeApplier:l,requestPipeProcessorsApplication:s},u={unstable_applyPipeProcessors:a};ce(e,c,"private"),ce(e,u,"public")},$e=(e,t,n)=>{const r=i.useRef(),o=i.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=i.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,o.current,n)},[e,n,t]);Hn(()=>{l()});const s=i.useRef(!0);i.useEffect(()=>(s.current?s.current=!1:l(),()=>{r.current&&(r.current(),r.current=null)}),[l])},Rl=(e,t,n)=>{const r=i.useRef(),o=i.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=i.useCallback(()=>{r.current=e.current.registerPipeApplier(t,o.current,n)},[e,n,t]);Hn(()=>{l()});const s=i.useRef(!0);i.useEffect(()=>(s.current?s.current=!1:l(),()=>{r.current&&(r.current(),r.current=null)}),[l])},Vo=(e,t,n,r)=>{const o=i.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);Hn(()=>{o()});const l=i.useRef(!0);i.useEffect(()=>{l.current?l.current=!1:o()},[o])},on="none",Ys={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},Hb=e=>{const t=i.useRef(new Map),n=i.useRef({}),r=i.useCallback((c,u,d)=>{const f=()=>{const C=n.current[u],b=ne(C,[c].map(Kn));n.current[u]=b};n.current[u]||(n.current[u]={});const g=n.current[u],m=g[c];return g[c]=d,!m||m===d||c===e.current.getActiveStrategy(Ys[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),f},[e]),o=i.useCallback((c,u)=>{const d=e.current.getActiveStrategy(Ys[c]);if(d==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=n.current[c];if(!f||!f[d])throw new Error(`No processor found for processor "${c}" on strategy "${d}"`);const g=f[d];return g(u)},[e]),l=i.useCallback(c=>{const d=Array.from(t.current.entries()).find(([,f])=>f.group!==c?!1:f.isAvailable());return(d==null?void 0:d[0])??on},[]),s=i.useCallback((c,u,d)=>{t.current.set(u,{group:c,isAvailable:d}),e.current.publishEvent("strategyAvailabilityChange")},[e]);ce(e,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:l,setStrategyAvailability:s},"private")},_b=e=>{const t=i.useRef({}),[,n]=i.useState(),r=i.useCallback(u=>{t.current[u.stateId]=u},[]),o=i.useCallback((u,d)=>{let f;if(Xi(u)?f=u(e.current.state):f=u,e.current.state===f)return!1;let g=!1;const m=[];if(Object.keys(t.current).forEach(C=>{const b=t.current[C],p=b.stateSelector(e.current.state,e.current.instanceId),S=b.stateSelector(f,e.current.instanceId);S!==p&&(m.push({stateId:b.stateId,hasPropChanged:S!==b.propModel}),b.propModel!==void 0&&S!==b.propModel&&(g=!0))}),m.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${m[0].stateId}, therefore, you're not allowed to update ${m.map(C=>C.stateId).join(", ")} in the same transaction.`);if(g||(e.current.state=f,e.current.publishEvent("stateChange",f),e.current.store.update(f)),m.length===1){const{stateId:C,hasPropChanged:b}=m[0],p=t.current[C],S=p.stateSelector(f,e.current.instanceId);p.propOnChange&&b&&p.propOnChange(S,{reason:d,api:e.current}),g||e.current.publishEvent(p.changeEvent,S,{reason:d})}return!g},[e]),l=i.useCallback((u,d,f)=>e.current.setState(g=>h({},g,{[u]:d(g[u])}),f),[e]),s=i.useCallback(()=>n(()=>e.current.state),[e]),a={setState:o,forceUpdate:s},c={updateControlState:l,registerControlState:r};ce(e,a,"public"),ce(e,c,"private")},Lb=(e,t)=>{const n=kb(e,t);return Sb(n),yb(n),Ib(n,t),_b(n),Ob(n),Hb(n),Db(n,t),n.current.register("private",{rootProps:t}),n},Ke=(e,t,n)=>{const r=i.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function Nr(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const r=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(r[0])?`"'${r}"`:[t.delimiter,`
`,"\r",'"'].some(o=>n.includes(o))?`"${r}"`:r}return n}const Au=(e,t)=>{var l,s;const{csvOptions:n,ignoreValueFormatter:r}=t;let o;if(r){const a=e.colDef.type;a==="number"?o=String(e.value):a==="date"||a==="dateTime"?o=(l=e.value)==null?void 0:l.toISOString():typeof((s=e.value)==null?void 0:s.toString)=="function"?o=e.value.toString():o=e.value}else o=e.formattedValue;return Nr(o,n)};class Br{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const Gb=({id:e,columns:t,getCellParams:n,csvOptions:r,ignoreValueFormatter:o})=>{const l=new Br({csvOptions:r});return t.forEach(s=>{const a=n(e,s.field);l.addValue(Au(a,{ignoreValueFormatter:o,csvOptions:r}))}),l.getRowString()};function Rb(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:o,apiRef:l}=e,s=n.reduce((f,g)=>`${f}${Gb({id:g,columns:t,getCellParams:l.current.getCellParams,ignoreValueFormatter:o,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return s;const a=t.filter(f=>f.field!==cn.field),c=[];if(r.includeColumnGroupsHeaders){const f=l.current.getAllGroupDetails();let g=0;const m=a.reduce((C,b)=>{const p=l.current.getColumnGroupPath(b.field);return C[b.field]=p,g=Math.max(g,p.length),C},{});for(let C=0;C<g;C+=1){const b=new Br({csvOptions:r,sanitizeCellValue:Nr});c.push(b),a.forEach(p=>{const S=(m[p.field]||[])[C],x=f[S];b.addValue(x?x.headerName||x.groupId:"")})}}const u=new Br({csvOptions:r,sanitizeCellValue:Nr});return a.forEach(f=>{u.addValue(f.headerName||f.field)}),c.push(u),`${`${c.map(f=>f.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function Qs(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function $b(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Qs(e)}):Qs(e)}function Ab(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const jb=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,o=t.clipboardCopyCellDelimiter,l=i.useCallback(s=>{if(!((s.ctrlKey||s.metaKey)&&s.key.toLowerCase()==="c"&&!s.shiftKey&&!s.altKey)||Ab(s.target))return;let a="";if(e.current.getSelectedRows().size>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const u=st(e);if(u){const d=e.current.getCellParams(u.id,u.field);a=Au(d,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&($b(a),e.current.publishEvent("clipboardCopy",a))},[e,r,o]);Sl(e,e.current.rootElementRef,"keydown",l),De(e,"clipboardCopy",t.onClipboardCopy)},zb=e=>h({},e,{columnMenu:{open:!1}}),Vb=e=>{const t=Ue(e,"useGridColumnMenu"),n=i.useCallback(s=>{const a=zn(e.current.state),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(d=>d.columnMenu.open&&d.columnMenu.field===s?d:(t.debug("Opening Column Menu"),h({},d,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=i.useCallback(()=>{const s=zn(e.current.state);if(s.field){const u=Pt(e),d=ut(e),f=kt(e);let g=s.field;if(u[g]||(g=f[0]),d[g]===!1){const m=f.filter(b=>b===g?!0:d[b]!==!1),C=m.indexOf(g);g=m[C+1]||m[C-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&(e.current.setState(u=>(t.debug("Hiding Column Menu"),h({},u,{columnMenu:a}))),e.current.forceUpdate())},[e,t]),o=i.useCallback(s=>{t.debug("Toggle Column Menu");const a=zn(e.current.state);!a.open||a.field!==s?n(s):r()},[e,t,n,r]);ce(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),ee(e,"columnResizeStart",r),ee(e,"virtualScrollerWheel",e.current.hideColumnMenu),ee(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Nb=(e,t,n)=>{var o,l,s;const r=wn({apiRef:n,columnsToUpsert:t.columns,initialState:(o=t.initialState)==null?void 0:o.columns,columnVisibilityModel:t.columnVisibilityModel??((s=(l=t.initialState)==null?void 0:l.columns)==null?void 0:s.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return h({},e,{columns:r,pinnedColumns:e.pinnedColumns??Ro})};function Bb(e,t){var _,$;const n=Ue(e,"useGridColumns"),r=i.useRef(t.columns);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:ut,changeEvent:"columnVisibilityModelChange"});const o=i.useCallback(O=>{var P,L;n.debug("Updating columns state."),e.current.setState(Js(O)),e.current.publishEvent("columnsChange",O.orderedFields),(L=(P=e.current).updateRenderContext)==null||L.call(P),e.current.forceUpdate()},[n,e]),l=i.useCallback(O=>Pt(e)[O],[e]),s=i.useCallback(()=>pt(e),[e]),a=i.useCallback(()=>Ne(e),[e]),c=i.useCallback((O,P=!0)=>(P?Ne(e):pt(e)).findIndex(I=>I.field===O),[e]),u=i.useCallback(O=>{const P=c(O);return Rt(e)[P]},[e,c]),d=i.useCallback(O=>{var L,I;ut(e)!==O&&(e.current.setState(M=>h({},M,{columns:wn({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:O,keepOnlyColumnsToUpsert:!1})})),(I=(L=e.current).updateRenderContext)==null||I.call(L),e.current.forceUpdate())},[e]),f=i.useCallback(O=>{const P=wn({apiRef:e,columnsToUpsert:O,initialState:void 0,keepOnlyColumnsToUpsert:!1});o(P)},[e,o]),g=i.useCallback((O,P)=>{const L=ut(e),I=L[O]??!0;if(P!==I){const M=h({},L,{[O]:P});e.current.setColumnVisibilityModel(M)}},[e]),m=i.useCallback(O=>kt(e).findIndex(L=>L===O),[e]),C=i.useCallback((O,P)=>{const L=kt(e),I=m(O);if(I===P)return;n.debug(`Moving column ${O} to index ${P}`);const M=[...L],w=M.splice(I,1)[0];M.splice(P,0,w),o(h({},xt(e.current.state),{orderedFields:M}));const j={column:e.current.getColumn(O),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(O),oldIndex:I};e.current.publishEvent("columnIndexChange",j)},[e,n,o,m]),b=i.useCallback((O,P)=>{n.debug(`Updating column ${O} width to ${P}`);const L=xt(e.current.state),I=L.lookup[O],M=h({},I,{width:P,hasBeenResized:!0});o(Or(h({},L,{lookup:h({},L.lookup,{[O]:M})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(O),colDef:M,width:P})},[e,n,o]),p={getColumn:l,getAllColumns:s,getColumnIndex:c,getColumnPosition:u,getVisibleColumns:a,getColumnIndexRelativeToVisibleColumns:m,updateColumns:f,setColumnVisibilityModel:d,setColumnVisibility:g,setColumnWidth:b},S={setColumnIndex:C};ce(e,p,"public"),ce(e,S,t.signature===ht.DataGrid?"private":"public");const x=i.useCallback((O,P)=>{var T,R;const L={},I=ut(e);(!P.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(((R=(T=t.initialState)==null?void 0:T.columns)==null?void 0:R.columnVisibilityModel)??{}).length>0||Object.keys(I).length>0)&&(L.columnVisibilityModel=I),L.orderedFields=kt(e);const w=pt(e),j={};return w.forEach(z=>{if(z.hasBeenResized){const N={};rc.forEach(B=>{let W=z[B];W===1/0&&(W=-1),N[B]=W}),j[z.field]=N}}),Object.keys(j).length>0&&(L.dimensions=j),h({},O,{columns:L})},[e,t.columnVisibilityModel,(_=t.initialState)==null?void 0:_.columns]),D=i.useCallback((O,P)=>{var w;const L=(w=P.stateToRestore.columns)==null?void 0:w.columnVisibilityModel,I=P.stateToRestore.columns;if(L==null&&I==null)return O;const M=wn({apiRef:e,columnsToUpsert:[],initialState:I,columnVisibilityModel:L,keepOnlyColumnsToUpsert:!1});return e.current.setState(Js(M)),I!=null&&e.current.publishEvent("columnsChange",M.orderedFields),O},[e]),E=i.useCallback((O,P)=>{var L;if(P===bt.columns){const I=t.slots.columnsPanel;return v.jsx(I,h({},(L=t.slotProps)==null?void 0:L.columnsPanel))}return O},[t.slots.columnsPanel,($=t.slotProps)==null?void 0:$.columnsPanel]),H=i.useCallback(O=>t.disableColumnSelector?O:[...O,"columnMenuColumnsItem"],[t.disableColumnSelector]);$e(e,"columnMenu",H),$e(e,"exportState",x),$e(e,"restoreState",D),$e(e,"preferencePanel",E);const G=i.useRef(null);ee(e,"viewportInnerSizeChange",O=>{G.current!==O.width&&(G.current=O.width,o(Or(xt(e.current.state),e.current.getRootDimensions())))});const F=i.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const O=wn({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});o(O)},[e,n,o]);Rl(e,"hydrateColumns",F);const y=i.useRef(!0);i.useEffect(()=>{if(y.current){y.current=!1;return}if(n.info(`GridColumns have changed, new length ${t.columns.length}`),r.current===t.columns)return;const O=wn({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});r.current=t.columns,o(O)},[n,e,o,t.columns]),i.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function Js(e){return t=>h({},t,{columns:e})}const Ub=(e,t)=>{var n;return h({},e,{density:((n=t.initialState)==null?void 0:n.density)??t.density??"standard"})},Wb=(e,t)=>{var a;const n=Ue(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:zt,changeEvent:"densityChange"});const o={setDensity:Re(c=>{zt(e.current.state)!==c&&(n.debug(`Set grid density to ${c}`),e.current.setState(d=>h({},d,{density:c})))})};ce(e,o,"public");const l=i.useCallback((c,u)=>{var g;const d=zt(e.current.state);return!u.exportOnlyDirtyModels||t.density!=null||((g=t.initialState)==null?void 0:g.density)!=null?h({},c,{density:d}):c},[e,t.density,(a=t.initialState)==null?void 0:a.density]),s=i.useCallback((c,u)=>{var f;const d=(f=u.stateToRestore)!=null&&f.density?u.stateToRestore.density:zt(e.current.state);return e.current.setState(g=>h({},g,{density:d})),c},[e]);$e(e,"exportState",l),$e(e,"restoreState",s),i.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function qb(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const o=URL.createObjectURL(e),l=document.createElement("a");l.href=o,l.download=r,l.click(),setTimeout(()=>{URL.revokeObjectURL(o)});return}throw new Error("MUI X: exportAs not supported.")}const ju=({apiRef:e,options:t})=>{const n=pt(e);return t.fields?t.fields.reduce((o,l)=>{const s=n.find(a=>a.field===l);return s&&o.push(s),o},[]):(t.allColumns?n:Ne(e)).filter(o=>!o.disableExport)},zu=({apiRef:e})=>{var c,u;const t=Cl(e),n=rt(e),r=e.current.getSelectedRows(),o=t.filter(d=>n[d].type!=="footer"),l=an(e),s=((c=l==null?void 0:l.top)==null?void 0:c.map(d=>d.id))||[],a=((u=l==null?void 0:l.bottom)==null?void 0:u.map(d=>d.id))||[];return o.unshift(...s),o.push(...a),r.size>0?o.filter(d=>r.has(d)):o},Kb=(e,t)=>{const n=Ue(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,o=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,l=i.useCallback((u={})=>{n.debug("Get data as CSV");const d=ju({apiRef:e,options:u}),g=(u.getRowsToExport??zu)({apiRef:e});return Rb({columns:d,rowIds:g,csvOptions:{delimiter:u.delimiter||",",shouldAppendQuotes:u.shouldAppendQuotes??!0,includeHeaders:u.includeHeaders??!0,includeColumnGroupsHeaders:u.includeColumnGroupsHeaders??!0,escapeFormulas:u.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:e})},[n,e,o]),s=i.useCallback(u=>{n.debug("Export data as CSV");const d=l(u),f=new Blob([u!=null&&u.utf8WithBom?new Uint8Array([239,187,191]):"",d],{type:"text/csv"});qb(f,"csv",u==null?void 0:u.fileName)},[n,l]);ce(e,{getDataAsCsv:l,exportDataAsCsv:s},"public");const c=i.useCallback((u,d)=>{var f;return(f=d.csvOptions)!=null&&f.disableToolbarButton?u:[...u,{component:v.jsx(Mu,{options:d.csvOptions}),componentName:"csvExport"}]},[]);$e(e,"exportMenu",c)},Lo=(e,t,n)=>{let r=e.paginationModel;const o=e.rowCount,l=(n==null?void 0:n.pageSize)??r.pageSize,s=(n==null?void 0:n.page)??r.page,a=Ta(o,l,s);n&&((n==null?void 0:n.page)!==r.page||(n==null?void 0:n.pageSize)!==r.pageSize)&&(r=n);const c=Cm(r.page,a);return c!==r.page&&(r=h({},r,{page:c})),Ha(r.pageSize,t),r},Xb=(e,t)=>{var C,b;const n=Ue(e,"useGridPaginationModel"),r=U(e,Tn),o=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Je,changeEvent:"paginationModelChange"});const l=i.useCallback(p=>{const S=Je(e);p!==S.page&&(n.debug(`Setting page to ${p}`),e.current.setPaginationModel({page:p,pageSize:S.pageSize}))},[e,n]),s=i.useCallback(p=>{const S=Je(e);p!==S.pageSize&&(n.debug(`Setting page size to ${p}`),e.current.setPaginationModel({pageSize:p,page:S.page}))},[e,n]),a=i.useCallback(p=>{const S=Je(e);p!==S&&(n.debug("Setting 'paginationModel' to",p),e.current.setState(x=>h({},x,{pagination:h({},x.pagination,{paginationModel:Lo(x.pagination,t.signature,p)})})))},[e,n,t.signature]);ce(e,{setPage:l,setPageSize:s,setPaginationModel:a},"public");const u=i.useCallback((p,S)=>{var E,H;const x=Je(e);return!S.exportOnlyDirtyModels||t.paginationModel!=null||((H=(E=t.initialState)==null?void 0:E.pagination)==null?void 0:H.paginationModel)!=null||x.page!==0&&x.pageSize!==pm(t.autoPageSize)?h({},p,{pagination:h({},p.pagination,{paginationModel:x})}):p},[e,t.paginationModel,(b=(C=t.initialState)==null?void 0:C.pagination)==null?void 0:b.paginationModel,t.autoPageSize]),d=i.useCallback((p,S)=>{var D,E;const x=(D=S.stateToRestore.pagination)!=null&&D.paginationModel?h({},Oa(t.autoPageSize),(E=S.stateToRestore.pagination)==null?void 0:E.paginationModel):Je(e);return e.current.setState(H=>h({},H,{pagination:h({},H.pagination,{paginationModel:Lo(H.pagination,t.signature,x)})})),p},[e,t.autoPageSize,t.signature]);$e(e,"exportState",u),$e(e,"restoreState",d);const f=()=>{var S;const p=Je(e);(S=e.current.virtualScrollerRef)!=null&&S.current&&e.current.scrollToIndexes({rowIndex:p.page*p.pageSize})},g=i.useCallback(()=>{if(!t.autoPageSize)return;const p=e.current.getRootDimensions(),S=Math.floor(p.viewportInnerSize.height/o);e.current.setPageSize(S)},[e,t.autoPageSize,o]),m=i.useCallback(p=>{if(p==null)return;const S=Je(e),x=yl(e);S.page>x-1&&e.current.setPage(Math.max(0,x-1))},[e]);ee(e,"viewportInnerSizeChange",g),ee(e,"paginationModelChange",f),ee(e,"rowCountChange",m),i.useEffect(()=>{e.current.setState(p=>h({},p,{pagination:h({},p.pagination,{paginationModel:Lo(p.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),i.useEffect(g,[g])};function Yb(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Qb(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const Jb=(e,t)=>{const n=e.current.rootElementRef.current!==null,r=Ue(e,"useGridPrintExport"),o=i.useRef(null),l=i.useRef(null),s=i.useRef({}),a=i.useRef([]),c=i.useRef();i.useEffect(()=>{o.current=Nt(e.current.rootElementRef.current)},[e,n]);const u=i.useCallback((p,S,x)=>new Promise(D=>{const E=ju({apiRef:e,options:{fields:p,allColumns:S}}).map(A=>A.field),H=pt(e),G={};H.forEach(A=>{G[A.field]=E.includes(A.field)}),x&&(G[cn.field]=!0),e.current.setColumnVisibilityModel(G),D()}),[e]),d=i.useCallback(p=>{const x=p({apiRef:e}).reduce((D,E)=>{const H=e.current.getRow(E);return H[en]||D.push(H),D},[]);e.current.setRows(x)},[e]),f=i.useCallback((p,S)=>{var L,I,M,w;const x=h({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},S),D=p.contentDocument;if(!D)return;const E=un(e.current.state),H=e.current.rootElementRef.current,G=H.cloneNode(!0),A=G.querySelector(`.${k.main}`);A.style.overflow="visible",G.style.contain="size";let F=((L=H.querySelector(`.${k.toolbarContainer}`))==null?void 0:L.offsetHeight)||0,y=((I=H.querySelector(`.${k.footerContainer}`))==null?void 0:I.offsetHeight)||0;x.hideToolbar&&((M=G.querySelector(`.${k.toolbarContainer}`))==null||M.remove(),F=0),x.hideFooter&&((w=G.querySelector(`.${k.footerContainer}`))==null||w.remove(),y=0);const _=E.currentPageTotalHeight+El(e,t)+F+y;if(G.style.height=`${_}px`,G.style.boxSizing="content-box",!x.hideFooter){const j=G.querySelector(`.${k.footerContainer}`);j.style.position="absolute",j.style.width="100%",j.style.top=`${_-y}px`}const $=document.createElement("div");$.appendChild(G),D.body.style.marginTop="0px",D.body.innerHTML=$.innerHTML;const O=typeof x.pageStyle=="function"?x.pageStyle():x.pageStyle;if(typeof O=="string"){const j=D.createElement("style");j.appendChild(D.createTextNode(O)),D.head.appendChild(j)}x.bodyClassName&&D.body.classList.add(...x.bodyClassName.split(" "));const P=[];if(x.copyStyles){const j=H.getRootNode(),R=(j.constructor.name==="ShadowRoot"?j:o.current).querySelectorAll("style, link[rel='stylesheet']");for(let z=0;z<R.length;z+=1){const N=R[z];if(N.tagName==="STYLE"){const B=D.createElement(N.tagName),W=N.sheet;if(W){let X="";for(let q=0;q<W.cssRules.length;q+=1)typeof W.cssRules[q].cssText=="string"&&(X+=`${W.cssRules[q].cssText}\r
`);B.appendChild(D.createTextNode(X)),D.head.appendChild(B)}}else if(N.getAttribute("href")){const B=D.createElement(N.tagName);for(let W=0;W<N.attributes.length;W+=1){const X=N.attributes[W];X&&B.setAttribute(X.nodeName,X.nodeValue||"")}P.push(new Promise(W=>{B.addEventListener("load",()=>W())})),D.head.appendChild(B)}}}Promise.all(P).then(()=>{p.contentWindow.print()})},[e,o,t]),g=i.useCallback(p=>{var S,x;o.current.body.removeChild(p),e.current.restoreState(l.current||{}),(x=(S=l.current)==null?void 0:S.columns)!=null&&x.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(D=>h({},D,{virtualization:c.current})),e.current.setRows(a.current),l.current=null,s.current={},a.current=[]},[e]),C={exportDataAsPrint:i.useCallback(async p=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(l.current=e.current.exportState(),s.current=ut(e),a.current=e.current.getSortedRows().filter(x=>!x[en]),t.pagination){const D={page:0,pageSize:rr(e)};e.current.setState(E=>h({},E,{pagination:h({},E.pagination,{paginationModel:Lo(E.pagination,"DataGridPro",D)})}))}c.current=e.current.state.virtualization,e.current.setState(x=>h({},x,{virtualization:h({},x.virtualization,{enabled:!1,enabledForColumns:!1})})),await u(p==null?void 0:p.fields,p==null?void 0:p.allColumns,p==null?void 0:p.includeCheckboxes),d((p==null?void 0:p.getRowsToExport)??zu),await Yb();const S=Qb(p==null?void 0:p.fileName);S.onload=()=>{f(S,p),S.contentWindow.matchMedia("print").addEventListener("change",D=>{D.matches===!1&&g(S)})},o.current.body.appendChild(S)},[t,r,e,f,g,u,d])};ce(e,C,"public");const b=i.useCallback((p,S)=>{var x;return(x=S.printOptions)!=null&&x.disableToolbarButton?p:[...p,{component:v.jsx(Pu,{options:S.printOptions}),componentName:"printExport"}]},[]);$e(e,"exportMenu",b)},Zb=(e,t,n)=>{var o,l;const r=t.filterModel??((l=(o=t.initialState)==null?void 0:o.filter)==null?void 0:l.filterModel)??In();return h({},e,{filter:{filterModel:ul(r,t.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},ew=e=>e.filteredRowsLookup;function Zs(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function tw(){return Ri(Object.values)}const nw=(e,t)=>{var y,_,$;const n=Ue(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:We,changeEvent:"filterModelChange"});const r=i.useCallback(()=>{e.current.setState(O=>{const P=We(O,e.current.instanceId),L=e.current.getFilterState(P),I=h({},O,{filter:h({},O.filter,L)}),M=Zs(e,I);return h({},I,{visibleRowsLookup:M})}),e.current.publishEvent("filteredRowsSet")},[e]),o=i.useCallback((O,P)=>P==null||P.filterable===!1||t.disableColumnFilter?O:[...O,"columnMenuFilterItem"],[t.disableColumnFilter]),l=i.useCallback(()=>{r(),e.current.forceUpdate()},[e,r]),s=i.useCallback(O=>{const P=We(e),L=[...P.items],I=L.findIndex(M=>M.id===O.id);I===-1?L.push(O):L[I]=O,e.current.setFilterModel(h({},P,{items:L}),"upsertFilterItem")},[e]),a=i.useCallback(O=>{const P=We(e),L=[...P.items];O.forEach(I=>{const M=L.findIndex(w=>w.id===I.id);M===-1?L.push(I):L[M]=I}),e.current.setFilterModel(h({},P,{items:L}),"upsertFilterItems")},[e]),c=i.useCallback(O=>{const P=We(e),L=P.items.filter(I=>I.id!==O.id);L.length!==P.items.length&&e.current.setFilterModel(h({},P,{items:L}),"deleteFilterItem")},[e]),u=i.useCallback((O,P,L)=>{if(n.debug("Displaying filter panel"),O){const I=We(e),M=I.items.filter(R=>{var W;if(R.value!==void 0)return!(Array.isArray(R.value)&&R.value.length===0);const N=(W=e.current.getColumn(R.field).filterOperators)==null?void 0:W.find(X=>X.value===R.operator);return!(typeof(N==null?void 0:N.requiresFilterValue)>"u"?!0:N==null?void 0:N.requiresFilterValue)});let w;const j=M.find(R=>R.field===O),T=e.current.getColumn(O);j?w=M:t.disableMultipleColumnsFiltering?w=[kr({field:O,operator:T.filterOperators[0].value},e)]:w=[...M,kr({field:O,operator:T.filterOperators[0].value},e)],e.current.setFilterModel(h({},I,{items:w}))}e.current.showPreferences(bt.filters,P,L)},[e,n,t.disableMultipleColumnsFiltering]),d=i.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),f=i.useCallback(O=>{const P=We(e);P.logicOperator!==O&&e.current.setFilterModel(h({},P,{logicOperator:O}),"changeLogicOperator")},[e]),g=i.useCallback(O=>{const P=We(e);Bt(P.quickFilterValues,O)||e.current.setFilterModel(h({},P,{quickFilterValues:[...O]}))},[e]),m=i.useCallback((O,P)=>{We(e)!==O&&(n.debug("Setting filter model"),e.current.updateControlState("filter",xs(O,t.disableMultipleColumnsFiltering,e),P),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),C=i.useCallback(O=>{const P=ul(O,t.disableMultipleColumnsFiltering,e),L=t.filterMode==="client"?$g(P,e,t.disableEval):null,I=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:L,filterModel:P??In()});return h({},I,{filterModel:P})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),b={setFilterLogicOperator:f,unstable_applyFilters:l,deleteFilterItem:c,upsertFilterItem:s,upsertFilterItems:a,setFilterModel:m,showFilterPanel:u,hideFilterPanel:d,setQuickFilterValues:g,ignoreDiacritics:t.ignoreDiacritics,getFilterState:C};ce(e,b,"public");const p=i.useCallback((O,P)=>{var M,w;const L=We(e);return!P.exportOnlyDirtyModels||t.filterModel!=null||((w=(M=t.initialState)==null?void 0:M.filter)==null?void 0:w.filterModel)!=null||!Bt(L,In())?h({},O,{filter:{filterModel:L}}):O},[e,t.filterModel,(_=(y=t.initialState)==null?void 0:y.filter)==null?void 0:_.filterModel]),S=i.useCallback((O,P)=>{var I;const L=(I=P.stateToRestore.filter)==null?void 0:I.filterModel;return L==null?O:(e.current.updateControlState("filter",xs(L,t.disableMultipleColumnsFiltering,e),"restoreState"),h({},O,{callbacks:[...O.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),x=i.useCallback((O,P)=>{var L;if(P===bt.filters){const I=t.slots.filterPanel;return v.jsx(I,h({},(L=t.slotProps)==null?void 0:L.filterPanel))}return O},[t.slots.filterPanel,($=t.slotProps)==null?void 0:$.filterPanel]),{getRowId:D}=t,E=Xt(tw),H=i.useCallback(O=>{if(t.filterMode!=="client"||!O.isRowMatchingFilters)return{filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}};const P=_t(e),L={},{isRowMatchingFilters:I}=O,M={},w={passingFilterItems:null,passingQuickFilterValues:null},j=E.current(e.current.state.rows.dataRowIdToModelLookup);for(let z=0;z<j.length;z+=1){const N=j[z],B=D?D(N):N.id;I(N,void 0,w);const W=jg([w.passingFilterItems],[w.passingQuickFilterValues],O.filterModel,e,M);L[B]=W}const T="auto-generated-group-footer-root";return P[T]&&(L[T]=!0),{filteredRowsLookup:L,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,D,E]);$e(e,"columnMenu",o),$e(e,"exportState",p),$e(e,"restoreState",S),$e(e,"preferencePanel",x),Vo(e,on,"filtering",H),Vo(e,on,"visibleRowsLookupCreation",ew);const G=i.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const O=We(e),P=Pt(e),L=O.items.filter(I=>I.field&&P[I.field]);L.length<O.items.length&&e.current.setFilterModel(h({},O,{items:L}))},[e,n]),A=i.useCallback(O=>{O==="filtering"&&e.current.unstable_applyFilters()},[e]),F=i.useCallback(()=>{e.current.setState(O=>h({},O,{visibleRowsLookup:Zs(e,O)})),e.current.forceUpdate()},[e]);ee(e,"rowsSet",r),ee(e,"columnsChange",G),ee(e,"activeStrategyProcessorChange",A),ee(e,"rowExpansionChange",F),ee(e,"columnVisibilityModelChange",()=>{const O=We(e);O.quickFilterValues&&Zi(O)&&e.current.unstable_applyFilters()}),Hn(()=>{e.current.unstable_applyFilters()}),Ye(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},ow=e=>h({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),rw=(e,t)=>{const n=Ue(e,"useGridFocus"),r=i.useRef(null),o=e.current.rootElementRef.current!==null,l=i.useCallback((F,y)=>{F&&e.current.getRow(F.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(F.id,F.field),y)},[e]),s=i.useCallback((F,y)=>{const _=st(e);(_==null?void 0:_.id)===F&&(_==null?void 0:_.field)===y||(e.current.setState($=>(n.debug(`Focusing on cell with id=${F} and field=${y}`),h({},$,{tabIndex:{cell:{id:F,field:y},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:F,field:y},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(F)&&(_&&l(_,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(F,y))))},[e,n,l]),a=i.useCallback((F,y={})=>{const _=st(e);l(_,y),e.current.setState($=>(n.debug(`Focusing on column header with colIndex=${F}`),h({},$,{tabIndex:{columnHeader:{field:F},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:F},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,l]),c=i.useCallback((F,y={})=>{const _=st(e);l(_,y),e.current.setState($=>(n.debug(`Focusing on column header filter with colIndex=${F}`),h({},$,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:F},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:F},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,l]),u=i.useCallback((F,y,_={})=>{const $=st(e);$&&e.current.publishEvent("cellFocusOut",e.current.getCellParams($.id,$.field),_),e.current.setState(O=>h({},O,{tabIndex:{columnGroupHeader:{field:F,depth:y},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:F,depth:y},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),d=i.useCallback(()=>Un(e),[e]),f=i.useCallback((F,y,_)=>{let $=e.current.getColumnIndex(y);const O=Ne(e),P=Wn(e,{pagination:t.pagination,paginationMode:t.paginationMode}),L=an(e),I=[].concat(L.top||[],P.rows,L.bottom||[]);let M=I.findIndex(R=>R.id===F);_==="right"?$+=1:_==="left"?$-=1:M+=1,$>=O.length?(M+=1,M<I.length&&($=0)):$<0&&(M-=1,M>=0&&($=O.length-1)),M=Lt(M,0,I.length-1);const w=I[M];if(!w)return;const j=e.current.unstable_getCellColSpanInfo(w.id,$);j&&j.spannedByColSpan&&(_==="left"||_==="below"?$=j.leftVisibleCellIndex:_==="right"&&($=j.rightVisibleCellIndex)),$=Lt($,0,O.length-1);const T=O[$];e.current.setCellFocus(w.id,T.field)},[e,t.pagination,t.paginationMode]),g=i.useCallback(({id:F,field:y})=>{e.current.setCellFocus(F,y)},[e]),m=i.useCallback((F,y)=>{y.key==="Enter"||y.key==="Tab"||y.key==="Shift"||zo(y.key)||e.current.setCellFocus(F.id,F.field)},[e]),C=i.useCallback(({field:F},y)=>{y.target===y.currentTarget&&e.current.setColumnHeaderFocus(F,y)},[e]),b=i.useCallback(({fields:F,depth:y},_)=>{if(_.target!==_.currentTarget)return;const $=Un(e);$!==null&&$.depth===y&&F.includes($.field)||e.current.setColumnGroupHeaderFocus(F[0],y,_)},[e]),p=i.useCallback((F,y)=>{var _,$;($=(_=y.relatedTarget)==null?void 0:_.getAttribute("class"))!=null&&$.includes(k.columnHeader)||(n.debug("Clearing focus"),e.current.setState(O=>h({},O,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),S=i.useCallback(F=>{r.current=F},[]),x=i.useCallback(F=>{const y=r.current;r.current=null;const _=st(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:F,cell:y}))return;if(!_){y&&e.current.setCellFocus(y.id,y.field);return}if((y==null?void 0:y.id)===_.id&&(y==null?void 0:y.field)===_.field)return;const O=e.current.getCellElement(_.id,_.field);O!=null&&O.contains(F.target)||(y?e.current.setCellFocus(y.id,y.field):(e.current.setState(P=>h({},P,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),l(_,F)))},[e,l]),D=i.useCallback(F=>{if(F.cellMode==="view")return;const y=st(e);((y==null?void 0:y.id)!==F.id||(y==null?void 0:y.field)!==F.field)&&e.current.setCellFocus(F.id,F.field)},[e]),E=i.useCallback(()=>{const F=st(e);F&&!e.current.getRow(F.id)&&e.current.setState(y=>h({},y,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),H=Re(()=>{const F=st(e);if(!F)return;const y=Wn(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(y.rows.find(O=>O.id===F.id))return;const $=Ne(e);e.current.setState(O=>h({},O,{tabIndex:{cell:{id:y.rows[0].id,field:$[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),G={setCellFocus:s,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:c},A={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:d};ce(e,G,"public"),ce(e,A,"private"),i.useEffect(()=>{const F=Nt(e.current.rootElementRef.current);return F.addEventListener("mouseup",x),()=>{F.removeEventListener("mouseup",x)}},[e,o,x]),ee(e,"columnHeaderBlur",p),ee(e,"cellDoubleClick",g),ee(e,"cellMouseDown",S),ee(e,"cellKeyDown",m),ee(e,"cellModeChange",D),ee(e,"columnHeaderFocus",C),ee(e,"columnGroupHeaderFocus",b),ee(e,"rowsSet",E),ee(e,"paginationModelChange",H)};function lw(e,t){const n=an(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const xr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e<n)return e+1}else if(!r&&e>t)return e-1;return null},vr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:r})=>{if(r){if(e>t)return e-1}else if(!r&&e<n)return e+1;return null};function sw(e,t,n,r){var a,c;const o=uc(e);if(!((a=o[t])!=null&&a[n]))return t;const l=Cl(e);let s=l.indexOf(t)+(r==="down"?1:-1);for(;s>=0&&s<l.length;){const u=l[s];if(!((c=o[u])!=null&&c[n]))return u;s+=r==="down"?1:-1}return t}const iw=(e,t)=>{const n=Ue(e,"useGridKeyboardNavigation"),r=Qt(e,t).rows,o=Kt(),l=i.useMemo(()=>lw(e,r),[e,r]),s=t.signature!=="DataGrid"&&t.headerFilters,a=i.useCallback((S,x,D="left",E="up")=>{const H=$t(e),G=e.current.unstable_getCellColSpanInfo(x,S);G&&G.spannedByColSpan&&(D==="left"?S=G.leftVisibleCellIndex:D==="right"&&(S=G.rightVisibleCellIndex));const A=sn(e)[S],F=sw(e,x,A,E),y=H.findIndex(_=>_.id===F);n.debug(`Navigating to cell row ${y}, col ${S}`),e.current.scrollToIndexes({colIndex:S,rowIndex:y}),e.current.setCellFocus(F,A)},[e,n]),c=i.useCallback((S,x)=>{n.debug(`Navigating to header col ${S}`),e.current.scrollToIndexes({colIndex:S});const D=e.current.getVisibleColumns()[S].field;e.current.setColumnHeaderFocus(D,x)},[e,n]),u=i.useCallback((S,x)=>{n.debug(`Navigating to header filter col ${S}`),e.current.scrollToIndexes({colIndex:S});const D=e.current.getVisibleColumns()[S].field;e.current.setColumnHeaderFilterFocus(D,x)},[e,n]),d=i.useCallback((S,x,D)=>{n.debug(`Navigating to header col ${S}`),e.current.scrollToIndexes({colIndex:S});const{field:E}=e.current.getVisibleColumns()[S];e.current.setColumnGroupHeaderFocus(E,x,D)},[e,n]),f=i.useCallback(S=>{var x;return(x=l[S])==null?void 0:x.id},[l]),g=i.useCallback((S,x)=>{const D=x.currentTarget.querySelector(`.${k.columnHeaderTitleContainerContent}`);if(!!D&&D.contains(x.target)&&S.field!==cn.field)return;const H=e.current.getViewportPageSize(),G=S.field?e.current.getColumnIndex(S.field):0,A=l.length>0?0:null,F=l.length-1,y=0,_=Ne(e).length-1,$=_n(e);let O=!0;switch(x.key){case"ArrowDown":{A!==null&&(s?u(G,x):a(G,f(A)));break}case"ArrowRight":{const P=vr({currentColIndex:G,firstColIndex:y,lastColIndex:_,isRtl:o});P!==null&&c(P,x);break}case"ArrowLeft":{const P=xr({currentColIndex:G,firstColIndex:y,lastColIndex:_,isRtl:o});P!==null&&c(P,x);break}case"ArrowUp":{$>0&&d(G,$-1,x);break}case"PageDown":{A!==null&&F!==null&&a(G,f(Math.min(A+H,F)));break}case"Home":{c(y,x);break}case"End":{c(_,x);break}case"Enter":{(x.ctrlKey||x.metaKey)&&e.current.toggleColumnMenu(S.field);break}case" ":break;default:O=!1}O&&x.preventDefault()},[e,l.length,s,u,a,f,o,c,d]),m=i.useCallback((S,x)=>{const D=tc(e)===S.field,E=nc(e)===S.field;if(D||E||!zo(x.key))return;const H=e.current.getViewportPageSize(),G=S.field?e.current.getColumnIndex(S.field):0,A=0,F=l.length-1,y=0,_=Ne(e).length-1;let $=!0;switch(x.key){case"ArrowDown":{const O=f(A);O!=null&&a(G,O);break}case"ArrowRight":{const O=vr({currentColIndex:G,firstColIndex:y,lastColIndex:_,isRtl:o});O!==null&&u(O,x);break}case"ArrowLeft":{const O=xr({currentColIndex:G,firstColIndex:y,lastColIndex:_,isRtl:o});O!==null?u(O,x):e.current.setColumnHeaderFilterFocus(S.field,x);break}case"ArrowUp":{c(G,x);break}case"PageDown":{F!==null&&a(G,f(Math.min(A+H,F)));break}case"Home":{u(y,x);break}case"End":{u(_,x);break}case" ":break;default:$=!1}$&&x.preventDefault()},[e,l.length,u,o,c,a,f]),C=i.useCallback((S,x)=>{const D=Un(e);if(D===null)return;const{field:E,depth:H}=D,{fields:G,depth:A,maxDepth:F}=S,y=e.current.getViewportPageSize(),_=e.current.getColumnIndex(E),$=E?e.current.getColumnIndex(E):0,O=0,P=l.length-1,L=0,I=Ne(e).length-1;let M=!0;switch(x.key){case"ArrowDown":{A===F-1?c(_,x):d(_,H+1,x);break}case"ArrowUp":{A>0&&d(_,H-1,x);break}case"ArrowRight":{const w=G.length-G.indexOf(E)-1;_+w+1<=I&&d(_+w+1,H,x);break}case"ArrowLeft":{const w=G.indexOf(E);_-w-1>=L&&d(_-w-1,H,x);break}case"PageDown":{P!==null&&a($,f(Math.min(O+y,P)));break}case"Home":{d(L,H,x);break}case"End":{d(I,H,x);break}case" ":break;default:M=!1}M&&x.preventDefault()},[e,l.length,c,d,a,f]),b=i.useCallback((S,x)=>{if(io(x))return;const D=e.current.getCellParams(S.id,S.field);if(D.cellMode===xe.Edit||!zo(x.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:D})||l.length===0)return;const H=e.current.getViewportPageSize(),G=S.field?e.current.getColumnIndex(S.field):0,A=l.findIndex(P=>P.id===S.id),F=0,y=l.length-1,_=0,$=Ne(e).length-1;let O=!0;switch(x.key){case"ArrowDown":{A<y&&a(G,f(A+1),o?"right":"left","down");break}case"ArrowUp":{A>F?a(G,f(A-1)):s?u(G,x):c(G,x);break}case"ArrowRight":{const P=vr({currentColIndex:G,firstColIndex:_,lastColIndex:$,isRtl:o});P!==null&&a(P,f(A),o?"left":"right");break}case"ArrowLeft":{const P=xr({currentColIndex:G,firstColIndex:_,lastColIndex:$,isRtl:o});P!==null&&a(P,f(A),o?"right":"left");break}case"Tab":{x.shiftKey&&G>_?a(G-1,f(A),"left"):!x.shiftKey&&G<$&&a(G+1,f(A),"right");break}case" ":{if(S.field===Ll)break;const L=S.colDef;if(L&&L.field==="__tree_data_group__")break;!x.shiftKey&&A<y&&a(G,f(Math.min(A+H,y)));break}case"PageDown":{A<y&&a(G,f(Math.min(A+H,y)));break}case"PageUp":{const P=Math.max(A-H,F);P!==A&&P>=F?a(G,f(P)):c(G,x);break}case"Home":{x.ctrlKey||x.metaKey||x.shiftKey?a(_,f(F)):a(_,f(A));break}case"End":{x.ctrlKey||x.metaKey||x.shiftKey?a($,f(y)):a($,f(A));break}default:O=!1}O&&x.preventDefault()},[e,l,o,a,f,s,u,c]),p=i.useCallback((S,{event:x})=>x.key===" "?!1:S,[]);$e(e,"canStartEditing",p),ee(e,"columnHeaderKeyDown",g),ee(e,"headerFilterKeyDown",m),ee(e,"columnGroupHeaderKeyDown",C),ee(e,"cellKeyDown",b)},aw=(e,t)=>{var C,b;const n=Ue(e,"useGridRowCount"),r=U(e,lr),o=U(e,Zt),l=U(e,xn),s=U(e,Je),a=Xt(()=>Je(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Zt,changeEvent:"rowCountChange"});const u={setRowCount:i.useCallback(p=>{o!==p&&(n.debug("Setting 'rowCount' to",p),e.current.setState(S=>h({},S,{pagination:h({},S.pagination,{rowCount:p})})))},[e,n,o])};ce(e,u,"public");const d=i.useCallback((p,S)=>{var E,H;const x=Zt(e);return!S.exportOnlyDirtyModels||t.rowCount!=null||((H=(E=t.initialState)==null?void 0:E.pagination)==null?void 0:H.rowCount)!=null?h({},p,{pagination:h({},p.pagination,{rowCount:x})}):p},[e,t.rowCount,(b=(C=t.initialState)==null?void 0:C.pagination)==null?void 0:b.rowCount]),f=i.useCallback((p,S)=>{var D;const x=(D=S.stateToRestore.pagination)!=null&&D.rowCount?S.stateToRestore.pagination.rowCount:Zt(e);return e.current.setState(E=>h({},E,{pagination:h({},E.pagination,{rowCount:x})})),p},[e]);$e(e,"exportState",d),$e(e,"restoreState",f);const g=i.useCallback(p=>{t.paginationMode==="client"||!a.current||p.pageSize!==a.current&&(a.current=p.pageSize,o===-1&&e.current.setPage(0))},[t.paginationMode,a,o,e]);ee(e,"paginationModelChange",g),i.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(r):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,r,t.rowCount]);const m=l.hasNextPage===!1;i.useEffect(()=>{m&&o===-1&&e.current.setRowCount(s.pageSize*s.page+r)},[e,r,m,o,s])},cw=(e,t)=>{var c,u;const n=Ue(e,"useGridPaginationMeta"),r=U(e,xn);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:xn,changeEvent:"paginationMetaChange"});const l={setPaginationMeta:i.useCallback(d=>{r!==d&&(n.debug("Setting 'paginationMeta' to",d),e.current.setState(f=>h({},f,{pagination:h({},f.pagination,{meta:d})})))},[e,n,r])};ce(e,l,"public");const s=i.useCallback((d,f)=>{var C,b;const g=xn(e);return!f.exportOnlyDirtyModels||t.paginationMeta!=null||((b=(C=t.initialState)==null?void 0:C.pagination)==null?void 0:b.meta)!=null?h({},d,{pagination:h({},d.pagination,{meta:g})}):d},[e,t.paginationMeta,(u=(c=t.initialState)==null?void 0:c.pagination)==null?void 0:u.meta]),a=i.useCallback((d,f)=>{var m;const g=(m=f.stateToRestore.pagination)!=null&&m.meta?f.stateToRestore.pagination.meta:xn(e);return e.current.setState(C=>h({},C,{pagination:h({},C.pagination,{meta:g})})),d},[e]);$e(e,"exportState",s),$e(e,"restoreState",a),i.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},uw=(e,t)=>{var l,s,a,c,u,d;const n=h({},Oa(t.autoPageSize),t.paginationModel??((s=(l=t.initialState)==null?void 0:l.pagination)==null?void 0:s.paginationModel));Ha(n.pageSize,t.signature);const r=t.rowCount??((c=(a=t.initialState)==null?void 0:a.pagination)==null?void 0:c.rowCount),o=t.paginationMeta??((d=(u=t.initialState)==null?void 0:u.pagination)==null?void 0:d.meta)??{};return h({},e,{pagination:{paginationModel:n,rowCount:r,meta:o}})},dw=(e,t)=>{cw(e,t),Xb(e,t),aw(e,t)},fw=(e,t)=>{var n;return h({},e,{preferencePanel:((n=t.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},gw=(e,t)=>{var f;const n=Ue(e,"useGridPreferencesPanel"),r=i.useRef(),o=i.useRef(),l=i.useCallback(()=>{n.debug("Hiding Preferences Panel");const g=Wt(e.current.state);g.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:g.openedPanelValue}),e.current.setState(m=>h({},m,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,n]),s=i.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(r.current),0)},[]),a=i.useCallback(()=>{r.current=setTimeout(l,100)},[l]),c=i.useCallback((g,m,C)=>{n.debug("Opening Preferences Panel"),s(),e.current.setState(b=>h({},b,{preferencePanel:h({},b.preferencePanel,{open:!0,openedPanelValue:g,panelId:m,labelId:C})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:g}),e.current.forceUpdate()},[n,s,e]);ce(e,{showPreferences:c,hidePreferences:a},"public");const u=i.useCallback((g,m)=>{var p;const C=Wt(e.current.state);return!m.exportOnlyDirtyModels||((p=t.initialState)==null?void 0:p.preferencePanel)!=null||C.open?h({},g,{preferencePanel:C}):g},[e,(f=t.initialState)==null?void 0:f.preferencePanel]),d=i.useCallback((g,m)=>{const C=m.stateToRestore.preferencePanel;return C!=null&&e.current.setState(b=>h({},b,{preferencePanel:C})),g},[e]);$e(e,"exportState",u),$e(e,"restoreState",d),i.useEffect(()=>()=>{clearTimeout(r.current),clearTimeout(o.current)},[])},Vu=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},mw=["id","field"],hw=["id","field"],pw=(e,t)=>{const[n,r]=i.useState({}),o=i.useRef(n),l=i.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:u}=t,d=I=>(...M)=>{t.editMode===vt.Cell&&I(...M)},f=i.useCallback((I,M)=>{const w=e.current.getCellParams(I,M);if(!e.current.isCellEditable(w))throw new Error(`MUI X: The cell with id=${I} and field=${M} is not editable.`)},[e]),g=i.useCallback((I,M,w)=>{if(e.current.getCellMode(I,M)!==w)throw new Error(`MUI X: The cell with id=${I} and field=${M} is not in ${w} mode.`)},[e]),m=i.useCallback((I,M)=>{if(!I.isEditable||I.cellMode===xe.Edit)return;const w=h({},I,{reason:Ft.cellDoubleClick});e.current.publishEvent("cellEditStart",w,M)},[e]),C=i.useCallback((I,M)=>{if(I.cellMode===xe.View||e.current.getCellMode(I.id,I.field)===xe.View)return;const w=h({},I,{reason:mt.cellFocusOut});e.current.publishEvent("cellEditStop",w,M)},[e]),b=i.useCallback((I,M)=>{if(I.cellMode===xe.Edit){if(M.which===229)return;let w;if(M.key==="Escape"?w=mt.escapeKeyDown:M.key==="Enter"?w=mt.enterKeyDown:M.key==="Tab"&&(w=M.shiftKey?mt.shiftTabKeyDown:mt.tabKeyDown,M.preventDefault()),w){const j=h({},I,{reason:w});e.current.publishEvent("cellEditStop",j,M)}}else if(I.isEditable){let w;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:M,cellParams:I,editMode:"cell"}))return;if(ou(M)?w=Ft.printableKeyDown:ru(M)?w=Ft.pasteKeyDown:M.key==="Enter"?w=Ft.enterKeyDown:(M.key==="Backspace"||M.key==="Delete")&&(w=Ft.deleteKeyDown),w){const T=h({},I,{reason:w,key:M.key});e.current.publishEvent("cellEditStart",T,M)}}},[e]),p=i.useCallback(I=>{const{id:M,field:w,reason:j}=I,T={id:M,field:w};(j===Ft.printableKeyDown||j===Ft.deleteKeyDown||j===Ft.pasteKeyDown)&&(T.deleteValue=!0),e.current.startCellEditMode(T)},[e]),S=i.useCallback(I=>{const{id:M,field:w,reason:j}=I;e.current.runPendingEditCellValueMutation(M,w);let T;j===mt.enterKeyDown?T="below":j===mt.tabKeyDown?T="right":j===mt.shiftTabKeyDown&&(T="left");const R=j==="escapeKeyDown";e.current.stopCellEditMode({id:M,field:w,ignoreModifications:R,cellToFocusAfter:T})},[e]),x=I=>async(...M)=>{var w;if(I){const{id:j,field:T}=M[0];((w=e.current.state.editRows[j][T])==null?void 0:w.error)||I(...M)}};ee(e,"cellDoubleClick",d(m)),ee(e,"cellFocusOut",d(C)),ee(e,"cellKeyDown",d(b)),ee(e,"cellEditStart",d(p)),ee(e,"cellEditStop",d(S)),De(e,"cellEditStart",t.onCellEditStart),De(e,"cellEditStop",x(t.onCellEditStop));const D=i.useCallback((I,M)=>{const w=Xe(e.current.state);return w[I]&&w[I][M]?xe.Edit:xe.View},[e]),E=Re(I=>{const M=I!==t.cellModesModel;u&&M&&u(I,{api:e.current}),!(t.cellModesModel&&M)&&(r(I),o.current=I,e.current.publishEvent("cellModesModelChange",I))}),H=i.useCallback((I,M,w)=>{const j=h({},o.current);if(w!==null)j[I]=h({},j[I],{[M]:h({},w)});else{const T=j[I],R=ne(T,[M].map(Kn));j[I]=R,Object.keys(j[I]).length===0&&delete j[I]}E(j)},[E]),G=i.useCallback((I,M,w)=>{e.current.setState(j=>{const T=h({},j.editRows);return w!==null?T[I]=h({},T[I],{[M]:h({},w)}):(delete T[I][M],Object.keys(T[I]).length===0&&delete T[I]),h({},j,{editRows:T})}),e.current.forceUpdate()},[e]),A=i.useCallback(I=>{const{id:M,field:w}=I,j=ne(I,mw);f(M,w),g(M,w,xe.View),H(M,w,h({mode:xe.Edit},j))},[f,g,H]),F=Re(I=>{const{id:M,field:w,deleteValue:j,initialValue:T}=I;let R=e.current.getCellValue(M,w);j?R=Vu(e.current.getColumn(w)):T&&(R=T),G(M,w,{value:R,error:!1,isProcessingProps:!1}),e.current.setCellFocus(M,w)}),y=i.useCallback(I=>{const{id:M,field:w}=I,j=ne(I,hw);g(M,w,xe.Edit),H(M,w,h({mode:xe.View},j))},[g,H]),_=Re(async I=>{const{id:M,field:w,ignoreModifications:j,cellToFocusAfter:T="none"}=I;g(M,w,xe.Edit),e.current.runPendingEditCellValueMutation(M,w);const R=()=>{G(M,w,null),H(M,w,null),T!=="none"&&e.current.moveFocusToRelativeCell(M,w,T)};if(j){R();return}const z=Xe(e.current.state),{error:N,isProcessingProps:B}=z[M][w];if(N||B){l.current[M][w].mode=xe.Edit,H(M,w,{mode:xe.Edit});return}const W=e.current.getRowWithUpdatedValuesFromCellEditing(M,w);if(s){const X=q=>{l.current[M][w].mode=xe.Edit,H(M,w,{mode:xe.Edit}),a&&a(q)};try{const q=e.current.getRow(M);Promise.resolve(s(W,q)).then(te=>{e.current.updateRows([te]),R()}).catch(X)}catch(q){X(q)}}else e.current.updateRows([W]),R()}),$=i.useCallback(async I=>{var q,te;const{id:M,field:w,value:j,debounceMs:T,unstable_skipValueParser:R}=I;f(M,w),g(M,w,xe.Edit);const z=e.current.getColumn(w),N=e.current.getRow(M);let B=j;z.valueParser&&!R&&(B=z.valueParser(j,N,z,e));let W=Xe(e.current.state),X=h({},W[M][w],{value:B,changeReason:T?"debouncedSetEditCellValue":"setEditCellValue"});if(z.preProcessEditCellProps){const K=j!==W[M][w].value;X=h({},X,{isProcessingProps:!0}),G(M,w,X),X=await Promise.resolve(z.preProcessEditCellProps({id:M,row:N,props:X,hasChanged:K}))}return e.current.getCellMode(M,w)===xe.View?!1:(W=Xe(e.current.state),X=h({},X,{isProcessingProps:!1}),X.value=z.preProcessEditCellProps?W[M][w].value:B,G(M,w,X),W=Xe(e.current.state),!((te=(q=W[M])==null?void 0:q[w])!=null&&te.error))},[e,f,g,G]),O=i.useCallback((I,M)=>{const w=e.current.getColumn(M),j=Xe(e.current.state),T=e.current.getRow(I);if(!j[I]||!j[I][M])return e.current.getRow(I);const{value:R}=j[I][M];return w.valueSetter?w.valueSetter(R,T,w,e):h({},T,{[M]:R})},[e]),P={getCellMode:D,startCellEditMode:A,stopCellEditMode:y},L={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:O};ce(e,P,"public"),ce(e,L,"private"),i.useEffect(()=>{c&&E(c)},[c,E]),Ye(()=>{const I=Bn(e),M=l.current;l.current=Yi(n),Object.entries(n).forEach(([w,j])=>{Object.entries(j).forEach(([T,R])=>{var B,W;const z=((W=(B=M[w])==null?void 0:B[T])==null?void 0:W.mode)||xe.View,N=I[w]??w;R.mode===xe.Edit&&z===xe.View?F(h({id:N,field:T},R)):R.mode===xe.View&&z===xe.Edit&&_(h({id:N,field:T},R))})})},[e,n,F,_])},Cw=["id"],bw=["id"],ww=(e,t)=>{const[n,r]=i.useState({}),o=i.useRef(n),l=i.useRef({}),s=i.useRef(),a=i.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:u,rowModesModel:d,onRowModesModelChange:f}=t,g=T=>(...R)=>{t.editMode===vt.Row&&T(...R)},m=i.useCallback((T,R)=>{const z=e.current.getCellParams(T,R);if(!e.current.isCellEditable(z))throw new Error(`MUI X: The cell with id=${T} and field=${R} is not editable.`)},[e]),C=i.useCallback((T,R)=>{if(e.current.getRowMode(T)!==R)throw new Error(`MUI X: The row with id=${T} is not in ${R} mode.`)},[e]),b=i.useCallback(T=>{const R=Xe(e.current.state);return Object.values(R[T]).some(z=>z.error)},[e]),p=i.useCallback((T,R)=>{if(!T.isEditable||e.current.getRowMode(T.id)===ke.Edit)return;const z=e.current.getRowParams(T.id),N=h({},z,{field:T.field,reason:Ot.cellDoubleClick});e.current.publishEvent("rowEditStart",N,R)},[e]),S=i.useCallback(T=>{a.current=T},[]),x=i.useCallback((T,R)=>{T.isEditable&&e.current.getRowMode(T.id)!==ke.View&&(a.current=null,s.current=setTimeout(()=>{var z;if(((z=a.current)==null?void 0:z.id)!==T.id){if(!e.current.getRow(T.id)||e.current.getRowMode(T.id)===ke.View||b(T.id))return;const N=e.current.getRowParams(T.id),B=h({},N,{field:T.field,reason:St.rowFocusOut});e.current.publishEvent("rowEditStop",B,R)}}))},[e,b]);i.useEffect(()=>()=>{clearTimeout(s.current)},[]);const D=i.useCallback((T,R)=>{if(T.cellMode===ke.Edit){if(R.which===229)return;let z;if(R.key==="Escape")z=St.escapeKeyDown;else if(R.key==="Enter")z=St.enterKeyDown;else if(R.key==="Tab"){const N=sn(e).filter(B=>e.current.getColumn(B).type===Jn?!0:e.current.isCellEditable(e.current.getCellParams(T.id,B)));if(R.shiftKey?T.field===N[0]&&(z=St.shiftTabKeyDown):T.field===N[N.length-1]&&(z=St.tabKeyDown),R.preventDefault(),!z){const B=N.findIndex(X=>X===T.field),W=N[R.shiftKey?B-1:B+1];e.current.setCellFocus(T.id,W)}}if(z){if(z!==St.escapeKeyDown&&b(T.id))return;const N=h({},e.current.getRowParams(T.id),{reason:z,field:T.field});e.current.publishEvent("rowEditStop",N,R)}}else if(T.isEditable){let z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:R,cellParams:T,editMode:"row"}))return;if(ou(R)||ru(R)?z=Ot.printableKeyDown:R.key==="Enter"?z=Ot.enterKeyDown:(R.key==="Backspace"||R.key==="Delete")&&(z=Ot.deleteKeyDown),z){const B=e.current.getRowParams(T.id),W=h({},B,{field:T.field,reason:z});e.current.publishEvent("rowEditStart",W,R)}}},[e,b]),E=i.useCallback(T=>{const{id:R,field:z,reason:N}=T,B={id:R,fieldToFocus:z};(N===Ot.printableKeyDown||N===Ot.deleteKeyDown)&&(B.deleteValue=!!z),e.current.startRowEditMode(B)},[e]),H=i.useCallback(T=>{const{id:R,reason:z,field:N}=T;e.current.runPendingEditCellValueMutation(R);let B;z===St.enterKeyDown?B="below":z===St.tabKeyDown?B="right":z===St.shiftTabKeyDown&&(B="left");const W=z==="escapeKeyDown";e.current.stopRowEditMode({id:R,ignoreModifications:W,field:N,cellToFocusAfter:B})},[e]);ee(e,"cellDoubleClick",g(p)),ee(e,"cellFocusIn",g(S)),ee(e,"cellFocusOut",g(x)),ee(e,"cellKeyDown",g(D)),ee(e,"rowEditStart",g(E)),ee(e,"rowEditStop",g(H)),De(e,"rowEditStart",t.onRowEditStart),De(e,"rowEditStop",t.onRowEditStop);const G=i.useCallback(T=>{if(t.editMode===vt.Cell)return ke.View;const R=Xe(e.current.state);return R[T]&&Object.keys(R[T]).length>0?ke.Edit:ke.View},[e,t.editMode]),A=Re(T=>{const R=T!==t.rowModesModel;f&&R&&f(T,{api:e.current}),!(t.rowModesModel&&R)&&(r(T),o.current=T,e.current.publishEvent("rowModesModelChange",T))}),F=i.useCallback((T,R)=>{const z=h({},o.current);R!==null?z[T]=h({},R):delete z[T],A(z)},[A]),y=i.useCallback((T,R)=>{e.current.setState(z=>{const N=h({},z.editRows);return R!==null?N[T]=R:delete N[T],h({},z,{editRows:N})}),e.current.forceUpdate()},[e]),_=i.useCallback((T,R,z)=>{e.current.setState(N=>{const B=h({},N.editRows);return z!==null?B[T]=h({},B[T],{[R]:h({},z)}):(delete B[T][R],Object.keys(B[T]).length===0&&delete B[T]),h({},N,{editRows:B})}),e.current.forceUpdate()},[e]),$=i.useCallback(T=>{const{id:R}=T,z=ne(T,Cw);C(R,ke.View),F(R,h({mode:ke.Edit},z))},[C,F]),O=Re(T=>{const{id:R,fieldToFocus:z,deleteValue:N,initialValue:B}=T,X=kt(e).reduce((q,te)=>{if(!e.current.getCellParams(R,te).isEditable)return q;let Q=e.current.getCellValue(R,te);return z===te&&(N||B)&&(N?Q=Vu(e.current.getColumn(te)):B&&(Q=B)),q[te]={value:Q,error:!1,isProcessingProps:!1},q},{});y(R,X),z&&e.current.setCellFocus(R,z)}),P=i.useCallback(T=>{const{id:R}=T,z=ne(T,bw);C(R,ke.Edit),F(R,h({mode:ke.View},z))},[C,F]),L=Re(T=>{const{id:R,ignoreModifications:z,field:N,cellToFocusAfter:B="none"}=T;e.current.runPendingEditCellValueMutation(R);const W=()=>{B!=="none"&&N&&e.current.moveFocusToRelativeCell(R,N,B),y(R,null),F(R,null)};if(z){W();return}const X=Xe(e.current.state),q=e.current.getRow(R);if(Object.values(X[R]).some(Q=>Q.isProcessingProps)){l.current[R].mode=ke.Edit;return}if(b(R)){l.current[R].mode=ke.Edit,F(R,{mode:ke.Edit});return}const K=e.current.getRowWithUpdatedValuesFromRowEditing(R);if(c){const Q=J=>{l.current[R].mode=ke.Edit,F(R,{mode:ke.Edit}),u&&u(J)};try{Promise.resolve(c(K,q)).then(J=>{e.current.updateRows([J]),W()}).catch(Q)}catch(J){Q(J)}}else e.current.updateRows([K]),W()}),I=i.useCallback(T=>{const{id:R,field:z,value:N,debounceMs:B,unstable_skipValueParser:W}=T;m(R,z);const X=e.current.getColumn(z),q=e.current.getRow(R);let te=N;X.valueParser&&!W&&(te=X.valueParser(N,q,X,e));let K=Xe(e.current.state),Q=h({},K[R][z],{value:te,changeReason:B?"debouncedSetEditCellValue":"setEditCellValue"});return X.preProcessEditCellProps||_(R,z,Q),new Promise(J=>{const se=[];if(X.preProcessEditCellProps){const oe=Q.value!==K[R][z].value;Q=h({},Q,{isProcessingProps:!0}),_(R,z,Q);const ae=K[R],Le=ne(ae,[z].map(Kn)),Oe=Promise.resolve(X.preProcessEditCellProps({id:R,row:q,props:Q,hasChanged:oe,otherFieldsProps:Le})).then(He=>{if(e.current.getRowMode(R)===ke.View){J(!1);return}K=Xe(e.current.state),He=h({},He,{isProcessingProps:!1}),He.value=X.preProcessEditCellProps?K[R][z].value:te,_(R,z,He)});se.push(Oe)}Object.entries(K[R]).forEach(([oe,ae])=>{if(oe===z)return;const Le=e.current.getColumn(oe);if(!Le.preProcessEditCellProps)return;ae=h({},ae,{isProcessingProps:!0}),_(R,oe,ae),K=Xe(e.current.state);const Oe=K[R],He=ne(Oe,[oe].map(Kn)),ve=Promise.resolve(Le.preProcessEditCellProps({id:R,row:q,props:ae,hasChanged:!1,otherFieldsProps:He})).then(Ge=>{if(e.current.getRowMode(R)===ke.View){J(!1);return}Ge=h({},Ge,{isProcessingProps:!1}),_(R,oe,Ge)});se.push(ve)}),Promise.all(se).then(()=>{e.current.getRowMode(R)===ke.Edit?(K=Xe(e.current.state),J(!K[R][z].error)):J(!1)})})},[e,m,_]),M=i.useCallback(T=>{const R=Xe(e.current.state),z=e.current.getRow(T);if(!R[T])return e.current.getRow(T);let N=h({},z);return Object.entries(R[T]).forEach(([B,W])=>{const X=e.current.getColumn(B);X.valueSetter?N=X.valueSetter(W.value,N,X,e):N[B]=W.value}),N},[e]),w={getRowMode:G,startRowEditMode:$,stopRowEditMode:P},j={setRowEditingEditCellValue:I,getRowWithUpdatedValuesFromRowEditing:M};ce(e,w,"public"),ce(e,j,"private"),i.useEffect(()=>{d&&A(d)},[d,A]),Ye(()=>{const T=Bn(e),R=l.current;l.current=Yi(n);const z=new Set([...Object.keys(n),...Object.keys(R)]);Array.from(z).forEach(N=>{var q;const B=n[N]??{mode:ke.View},W=((q=R[N])==null?void 0:q.mode)||ke.View,X=T[N]??N;B.mode===ke.Edit&&W===ke.View?O(h({id:X},B)):B.mode===ke.View&&W===ke.Edit&&L(h({id:X},B))})},[e,n,O,L])},Sw=e=>h({},e,{editRows:{}}),yw=(e,t)=>{pw(e,t),ww(e,t);const n=i.useRef({}),{isCellEditable:r}=t,o=i.useCallback(g=>Mn(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),l=(g,m,C,b)=>{if(!C){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[x]=n.current[g][m];clearTimeout(x)}const p=()=>{const[x]=n.current[g][m];clearTimeout(x),b(),delete n.current[g][m]},S=setTimeout(()=>{b(),delete n.current[g][m]},C);n.current[g][m]=[S,p]};i.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,C])=>{Object.keys(C).forEach(b=>{const[p]=g[m][b];clearTimeout(p),delete g[m][b]})})}},[]);const s=i.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(C=>{const[,b]=n.current[g][C];b()});else if(n.current[g][m]){const[,C]=n.current[g][m];C()}}},[]),a=i.useCallback(g=>{const{id:m,field:C,debounceMs:b}=g;return new Promise(p=>{l(m,C,b,async()=>{const S=t.editMode===vt.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,C)===xe.Edit){const x=await S(g);p(x)}})})},[e,t.editMode]),c=i.useCallback((g,m)=>t.editMode===vt.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),u=i.useCallback((g,m)=>{var b;return((b=Xe(e.current.state)[g])==null?void 0:b[m])??null},[e]),d={isCellEditable:o,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:u},f={runPendingEditCellValueMutation:s};ce(e,d,"public"),ce(e,f,"private")},xw=(e,t,n)=>{const r=!!t.unstable_dataSource;return n.current.caches.rows=Oo({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({},e,{rows:ua({apiRef:n,rowCountProp:t.rowCount,loadingProp:r?!0:t.loading,previousTree:null,previousTreeDepths:null})})},vw=(e,t)=>{const n=Ue(e,"useGridRows"),r=Qt(e,t),o=i.useRef(Date.now()),l=i.useRef(t.rowCount),s=Dn(),a=i.useCallback(w=>{const j=_t(e)[w];if(j)return j;const T=e.current.getRowNode(w);return T&&Mn(T)?{[en]:w}:null},[e]),c=t.getRowId,u=i.useCallback(w=>en in w?w[en]:c?c(w):w.id,[c]),d=i.useMemo(()=>r.rows.reduce((w,{id:j},T)=>(w[j]=T,w),{}),[r.rows]),f=i.useCallback(({cache:w,throttle:j})=>{const T=()=>{o.current=Date.now(),e.current.setState(z=>h({},z,{rows:ua({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:rt(e),previousTreeDepths:Dr(e),previousGroupsToFetch:qg(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(s.clear(),e.current.caches.rows=w,!j){T();return}const R=t.throttleRowsMs-(Date.now()-o.current);if(R>0){s.start(R,T);return}T()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),g=i.useCallback(w=>{n.debug(`Updating all rows, new length ${w.length}`);const j=Oo({rows:w,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),T=e.current.caches.rows;j.rowsBeforePartialUpdates=T.rowsBeforePartialUpdates,f({cache:j,throttle:!0})},[n,t.getRowId,t.loading,t.rowCount,f,e]),m=i.useCallback(w=>{if(t.signature===ht.DataGrid&&w.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const j=ks(e,w,t.getRowId),T=Fs({updates:j,getRowId:t.getRowId,previousCache:e.current.caches.rows});f({cache:T,throttle:!0})},[t.signature,t.getRowId,f,e]),C=i.useCallback((w,j)=>{const T=ks(e,w,t.getRowId),R=Fs({updates:T,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:j??[]});f({cache:R,throttle:!1})},[t.getRowId,f,e]),b=i.useCallback(w=>{w!==t.loading&&(n.debug(`Setting loading to ${w}`),e.current.setState(j=>h({},j,{rows:h({},j.rows,{loading:w})})),e.current.caches.rows.loadingPropBeforePartialUpdates=w)},[t.loading,e,n]),p=i.useCallback(()=>{const w=An(e),j=_t(e);return new Map(w.map(T=>[T,j[T]??{}]))},[e]),S=i.useCallback(()=>Zn(e),[e]),x=i.useCallback(()=>An(e),[e]),D=i.useCallback(w=>d[w],[d]),E=i.useCallback((w,j)=>{const T=e.current.getRowNode(w);if(!T)throw new Error(`MUI X: No row with id #${w} found.`);if(T.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const R=h({},T,{childrenExpanded:j});e.current.setState(z=>h({},z,{rows:h({},z.rows,{tree:h({},z.rows.tree,{[w]:R})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",R)},[e]),H=i.useCallback(w=>rt(e)[w]??null,[e]),G=i.useCallback(({skipAutoGeneratedRows:w=!0,groupId:j,applySorting:T,applyFiltering:R})=>{const z=rt(e);let N;if(T){const B=z[j];if(!B)return[];const W=tr(e);N=[];const X=W.findIndex(q=>q===j)+1;for(let q=X;q<W.length&&z[W[q]].depth>B.depth;q+=1){const te=W[q];(!w||!Mn(z[te]))&&N.push(te)}}else N=dl(z,j,w);if(R){const B=hl(e);N=N.filter(W=>B[W]!==!1)}return N},[e]),A=i.useCallback((w,j)=>{const T=e.current.getRowNode(w);if(!T)throw new Error(`MUI X: No row with id #${w} found.`);if(T.parent!==et)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(T.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(R=>{const z=rt(R,e.current.instanceId)[et],N=z.children,B=N.findIndex(X=>X===w);if(B===-1||B===j)return R;n.debug(`Moving row ${w} to index ${j}`);const W=[...N];return W.splice(j,0,W.splice(B,1)[0]),h({},R,{rows:h({},R.rows,{tree:h({},R.rows.tree,{[et]:h({},z,{children:W})})})})}),e.current.publishEvent("rowsSet")},[e,n]),F=i.useCallback((w,j)=>{if(t.signature===ht.DataGrid&&j.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(j.length===0)return;if(eo(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const R=h({},rt(e)),z=h({},_t(e)),N=h({},Bn(e)),B=R[et],W=[...B.children],X=new Set;for(let te=0;te<j.length;te+=1){const K=j[te],Q=Zo(K,t.getRowId,"A row was provided without id when calling replaceRows()."),[J]=W.splice(w+te,1,Q);X.has(J)||(delete z[J],delete N[J],delete R[J]);const se={id:Q,depth:0,parent:et,type:"leaf",groupingKey:null};z[Q]=K,N[Q]=Q,R[Q]=se,X.add(Q)}R[et]=h({},B,{children:W});const q=W.filter(te=>{var K;return((K=R[te])==null?void 0:K.type)==="leaf"});e.current.caches.rows.dataRowIdToModelLookup=z,e.current.caches.rows.dataRowIdToIdLookup=N,e.current.setState(te=>h({},te,{rows:h({},te.rows,{dataRowIdToModelLookup:z,dataRowIdToIdLookup:N,dataRowIds:q,tree:R})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),y={getRow:a,setLoading:b,getRowId:u,getRowModels:p,getRowsCount:S,getAllRowIds:x,setRows:g,updateRows:m,getRowNode:H,getRowIndexRelativeToVisibleRows:D,unstable_replaceRows:F},_={setRowIndex:A,setRowChildrenExpansion:E,getRowGroupChildren:G},$={updateServerRows:C},O=i.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let w;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?w=h({},e.current.caches.rows,{updates:{type:"full",rows:An(e)}}):w=Oo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),f({cache:w,throttle:!1})},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,f]),P=i.useCallback(w=>{w==="rowTreeCreation"&&O()},[O]),L=i.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==ia(e)&&O()},[e,O]);ee(e,"activeStrategyProcessorChange",P),ee(e,"strategyAvailabilityChange",L);const I=i.useCallback(()=>{e.current.setState(w=>{const j=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:rt(w,e.current.instanceId),treeDepths:Dr(w,e.current.instanceId),dataRowIds:An(w,e.current.instanceId),dataRowIdToModelLookup:_t(w,e.current.instanceId),dataRowIdToIdLookup:Bn(w,e.current.instanceId)});return h({},w,{rows:h({},w.rows,j,{totalTopLevelRowCount:ca({tree:j.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Rl(e,"hydrateRows",I),ce(e,y,"public"),ce(e,_,t.signature===ht.DataGrid?"private":"public"),ce(e,$,"private");const M=i.useRef(!0);i.useEffect(()=>{var z;if(M.current){M.current=!1;return}let w=!1;t.rowCount!==l.current&&(w=!0,l.current=t.rowCount);const j=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,T=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,R=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;j&&(T||(e.current.setState(N=>h({},N,{rows:h({},N.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),R||(e.current.setState(N=>h({},N,{rows:h({},N.rows,{totalRowCount:Math.max(t.rowCount||0,N.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,N.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate()),!w)||(n.debug(`Updating all rows, new length ${(z=t.rows)==null?void 0:z.length}`),f({cache:Oo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,n,f,e])},Iw=e=>{const t={[et]:h({},Yg(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:et,type:"leaf",groupingKey:null}}return{groupingName:on,tree:t,treeDepths:{0:e.length},dataRowIds:e}},Mw=({previousTree:e,actions:t})=>{const n=h({},e),r={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];r[a]=!0,delete n[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];n[a]={id:a,depth:0,parent:et,type:"leaf",groupingKey:null}}const o=n[et];let l=[...o.children,...t.insert];return Object.values(r).length&&(l=l.filter(s=>!r[s])),n[et]=h({},o,{children:l}),{groupingName:on,tree:n,treeDepths:{0:l.length},dataRowIds:l}},Pw=e=>e.updates.type==="full"?Iw(e.updates.rows):Mw({previousTree:e.previousTree,actions:e.updates.actions}),Ew=e=>{Vo(e,on,"rowTreeCreation",Pw)},Nu=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],Fw=(e,t)=>h({},e,{rowSelection:t.rowSelection?Nu(t.rowSelectionModel)??[]:[]}),kw=(e,t)=>{const n=Ue(e,"useGridSelection"),r=P=>(...L)=>{t.rowSelection&&P(...L)},o=i.useMemo(()=>Nu(t.rowSelectionModel,it(e.current.state)),[e,t.rowSelectionModel]),l=i.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:o,propOnChange:t.onRowSelectionModelChange,stateSelector:it,changeEvent:"rowSelectionChange"});const{checkboxSelection:s,disableRowSelectionOnClick:a,isRowSelectable:c}=t,u=gl(t),d=Qt(e,t),f=i.useCallback(P=>{let L=P;const I=l.current??P,M=e.current.isRowSelected(P);if(M){const w=tn(e),j=w.findIndex(R=>R===I),T=w.findIndex(R=>R===L);if(j===T)return;j>T?L=w[T+1]:L=w[T-1]}l.current=P,e.current.selectRowRange({startId:I,endId:L},!M)},[e]),g=i.useCallback(P=>{if(t.signature===ht.DataGrid&&!u&&Array.isArray(P)&&P.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));it(e.current.state)!==P&&(n.debug("Setting selection model"),e.current.setState(I=>h({},I,{rowSelection:t.rowSelection?P:[]})),e.current.forceUpdate())},[e,n,t.rowSelection,t.signature,u]),m=i.useCallback(P=>it(e.current.state).includes(P),[e]),C=i.useCallback(P=>{if(t.rowSelection===!1||c&&!c(e.current.getRowParams(P)))return!1;const L=e.current.getRowNode(P);return!((L==null?void 0:L.type)==="footer"||(L==null?void 0:L.type)==="pinnedRow")},[e,t.rowSelection,c]),b=i.useCallback(()=>va(e),[e]),p=i.useCallback((P,L=!0,I=!1)=>{if(e.current.isRowSelectable(P))if(l.current=P,I)n.debug(`Setting selection for row ${P}`),e.current.setRowSelectionModel(L?[P]:[]);else{n.debug(`Toggling selection for row ${P}`);const w=it(e.current.state).filter(T=>T!==P);L&&w.push(P),(w.length<2||u)&&e.current.setRowSelectionModel(w)}},[e,n,u]),S=i.useCallback((P,L=!0,I=!1)=>{n.debug("Setting selection for several rows");const M=P.filter(T=>e.current.isRowSelectable(T));let w;if(I)w=L?M:[];else{const T=h({},Pn(e));M.forEach(R=>{L?T[R]=R:delete T[R]}),w=Object.values(T)}(w.length<2||u)&&e.current.setRowSelectionModel(w)},[e,n,u]),x=i.useCallback(({startId:P,endId:L},I=!0,M=!1)=>{if(!e.current.getRow(P)||!e.current.getRow(L))return;n.debug(`Expanding selection from row ${P} to row ${L}`);const w=tn(e),j=w.indexOf(P),T=w.indexOf(L),[R,z]=j>T?[T,j]:[j,T],N=w.slice(R,z+1);e.current.selectRows(N,I,M)},[e,n]),D={selectRow:p,setRowSelectionModel:g,getSelectedRows:b,isRowSelected:m,isRowSelectable:C},E={selectRows:S,selectRowRange:x};ce(e,D,"public"),ce(e,E,t.signature===ht.DataGrid?"private":"public");const H=i.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const P=it(e.current.state),L=_t(e),I=h({},Pn(e));let M=!1;P.forEach(w=>{L[w]||(delete I[w],M=!0)}),M&&e.current.setRowSelectionModel(Object.values(I))},[e,t.keepNonExistentRowsSelected]),G=i.useCallback((P,L)=>{const I=L.metaKey||L.ctrlKey,M=!s&&!I&&!eC(L),w=!u||M,j=e.current.isRowSelected(P);w?e.current.selectRow(P,M?!0:!j,!0):e.current.selectRow(P,!j,!1)},[e,u,s]),A=i.useCallback((P,L)=>{var w;if(a)return;const I=(w=L.target.closest(`.${k.cell}`))==null?void 0:w.getAttribute("data-field");if(I===cn.field||I===Ll)return;if(I){const j=e.current.getColumn(I);if((j==null?void 0:j.type)===Jn)return}e.current.getRowNode(P.id).type!=="pinnedRow"&&(L.shiftKey&&u?f(P.id):G(P.id,L))},[a,u,e,f,G]),F=i.useCallback((P,L)=>{var I;u&&L.shiftKey&&((I=window.getSelection())==null||I.removeAllRanges())},[u]),y=i.useCallback((P,L)=>{u&&L.nativeEvent.shiftKey?f(P.id):e.current.selectRow(P.id,P.value,!u)},[e,f,u]),_=i.useCallback(P=>{const L=t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?xl(e):tn(e),I=We(e);e.current.selectRows(L,P.value,(I==null?void 0:I.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination,t.paginationMode]),$=i.useCallback((P,L)=>{if(e.current.getCellMode(P.id,P.field)!==xe.Edit&&!io(L)){if(zo(L.key)&&L.shiftKey){const I=st(e);if(I&&I.id!==P.id){L.preventDefault();const M=e.current.isRowSelected(I.id);if(!u){e.current.selectRow(I.id,!M,!0);return}const w=e.current.getRowIndexRelativeToVisibleRows(I.id),j=e.current.getRowIndexRelativeToVisibleRows(P.id);let T,R;w>j?M?(T=j,R=w-1):(T=j,R=w):M?(T=w+1,R=j):(T=w,R=j);const z=d.rows.slice(T,R+1).map(N=>N.id);e.current.selectRows(z,!M);return}}if(L.key===" "&&L.shiftKey){L.preventDefault(),G(P.id,L);return}L.key==="a"&&(L.ctrlKey||L.metaKey)&&(L.preventDefault(),S(e.current.getAllRowIds(),!0))}},[e,G,S,d.rows,u]);ee(e,"sortedRowsSet",r(H)),ee(e,"rowClick",r(A)),ee(e,"rowSelectionCheckboxChange",r(y)),ee(e,"headerSelectionCheckboxChange",_),ee(e,"cellMouseDown",r(F)),ee(e,"cellKeyDown",r($)),i.useEffect(()=>{o!==void 0&&e.current.setRowSelectionModel(o)},[e,o,t.rowSelection]),i.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const O=o!=null;i.useEffect(()=>{if(O||!t.rowSelection)return;const P=it(e.current.state);if(C){const L=P.filter(I=>C(I));L.length<P.length&&e.current.setRowSelectionModel(L)}},[e,C,O,t.rowSelection]),i.useEffect(()=>{if(!t.rowSelection||O)return;const P=it(e.current.state);!u&&P.length>1&&e.current.setRowSelectionModel([])},[e,u,s,O,t.rowSelection])},Dw=e=>{const{classes:t}=e;return i.useMemo(()=>de({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},ue,t),[t])},Tw=(e,t)=>{const n={classes:t.classes},r=Dw(n),o=i.useCallback(l=>{const s=h({},cn,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=l.lookup[Ht]!=null;return a&&!c?(l.lookup[Ht]=s,l.orderedFields=[Ht,...l.orderedFields]):!a&&c?(delete l.lookup[Ht],l.orderedFields=l.orderedFields.filter(u=>u!==Ht)):a&&c&&(l.lookup[Ht]=h({},s,l.lookup[Ht])),l},[e,r,t.checkboxSelection]);$e(e,"hydrateColumns",o)},Ow=(e,t)=>{var r,o;const n=t.sortModel??((o=(r=t.initialState)==null?void 0:r.sorting)==null?void 0:o.sortModel)??[];return h({},e,{sorting:{sortModel:qi(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},Hw=(e,t)=>{var H,G;const n=Ue(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:at,changeEvent:"sortModelChange"});const r=i.useCallback((A,F)=>{const y=at(e),_=y.findIndex(O=>O.field===A);let $=[...y];return _>-1?(F==null?void 0:F.sort)==null?$.splice(_,1):$.splice(_,1,F):$=[...y,F],$},[e]),o=i.useCallback((A,F)=>{const _=at(e).find($=>$.field===A.field);if(_){const $=F===void 0?Ss(A.sortingOrder??t.sortingOrder,_.sort):F;return $===void 0?void 0:h({},_,{sort:$})}return{field:A.field,sort:F===void 0?Ss(A.sortingOrder??t.sortingOrder):F}},[e,t.sortingOrder]),l=i.useCallback((A,F)=>F==null||F.sortable===!1||t.disableColumnSorting?A:(F.sortingOrder||t.sortingOrder).some(_=>!!_)?[...A,"columnMenuSortItem"]:A,[t.sortingOrder,t.disableColumnSorting]),s=i.useCallback(()=>{e.current.setState(A=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),h({},A,{sorting:h({},A.sorting,{sortedRows:dl(rt(e),et,!1)})});const F=at(A,e.current.instanceId),y=Pg(F,e),_=e.current.applyStrategyProcessor("sorting",{sortRowList:y});return h({},A,{sorting:h({},A.sorting,{sortedRows:_})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,n,t.sortingMode]),a=i.useCallback(A=>{at(e)!==A&&(n.debug("Setting sort model"),e.current.setState(ws(A,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=i.useCallback((A,F,y)=>{const _=e.current.getColumn(A),$=o(_,F);let O;!y||t.disableMultipleColumnsSorting?O=($==null?void 0:$.sort)==null?[]:[$]:O=r(_.field,$),e.current.setSortModel(O)},[e,r,o,t.disableMultipleColumnsSorting]),u=i.useCallback(()=>at(e),[e]),d=i.useCallback(()=>nr(e).map(F=>F.model),[e]),f=i.useCallback(()=>tr(e),[e]),g=i.useCallback(A=>e.current.getSortedRowIds()[A],[e]);ce(e,{getSortModel:u,getSortedRows:d,getSortedRowIds:f,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const C=i.useCallback((A,F)=>{var $,O;const y=at(e);return!F.exportOnlyDirtyModels||t.sortModel!=null||((O=($=t.initialState)==null?void 0:$.sorting)==null?void 0:O.sortModel)!=null||y.length>0?h({},A,{sorting:{sortModel:y}}):A},[e,t.sortModel,(G=(H=t.initialState)==null?void 0:H.sorting)==null?void 0:G.sortModel]),b=i.useCallback((A,F)=>{var _;const y=(_=F.stateToRestore.sorting)==null?void 0:_.sortModel;return y==null?A:(e.current.setState(ws(y,t.disableMultipleColumnsSorting)),h({},A,{callbacks:[...A.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),p=i.useCallback(A=>{const F=rt(e),y=F[et],_=A.sortRowList?A.sortRowList(y.children.map($=>F[$])):[...y.children];return y.footerId!=null&&_.push(y.footerId),_},[e]);$e(e,"exportState",C),$e(e,"restoreState",b),Vo(e,on,"sorting",p);const S=i.useCallback(({field:A,colDef:F},y)=>{if(!F.sortable||t.disableColumnSorting)return;const _=y.shiftKey||y.metaKey||y.ctrlKey;c(A,void 0,_)},[c,t.disableColumnSorting]),x=i.useCallback(({field:A,colDef:F},y)=>{!F.sortable||t.disableColumnSorting||y.key==="Enter"&&!y.ctrlKey&&!y.metaKey&&c(A,void 0,y.shiftKey)},[c,t.disableColumnSorting]),D=i.useCallback(()=>{const A=at(e),F=Pt(e);if(A.length>0){const y=A.filter(_=>F[_.field]);y.length<A.length&&e.current.setSortModel(y)}},[e]),E=i.useCallback(A=>{A==="sorting"&&e.current.applySorting()},[e]);$e(e,"columnMenu",l),ee(e,"columnHeaderClick",S),ee(e,"columnHeaderKeyDown",x),ee(e,"rowsSet",e.current.applySorting),ee(e,"columnsChange",D),ee(e,"activeStrategyProcessorChange",E),Hn(()=>{e.current.applySorting()}),Ye(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function ei(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:o}=e,l=o+r;if(r>t)return o;if(l-t>n)return l-t;if(o<n)return o}const _w=(e,t)=>{const n=Kt(),r=Ue(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,l=e.current.virtualScrollerRef,s=U(e,$t),a=i.useCallback(f=>{var S;const g=nt(e.current.state),m=Zn(e),C=Ne(e);if(!(f.rowIndex==null)&&m===0||C.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let p={};if(f.colIndex!==void 0){const x=Rt(e);let D;if(typeof f.rowIndex<"u"){const E=(S=s[f.rowIndex])==null?void 0:S.id,H=e.current.unstable_getCellColSpanInfo(E,f.colIndex);H&&!H.spannedByColSpan&&(D=H.cellProps.width)}typeof D>"u"&&(D=C[f.colIndex].computedWidth),p.left=ei({clientHeight:g.viewportInnerSize.width,scrollTop:Math.abs(l.current.scrollLeft),offsetHeight:D,offsetTop:x[f.colIndex]})}if(f.rowIndex!==void 0){const x=un(e.current.state),D=_a(e),E=La(e),H=t.pagination?f.rowIndex-D*E:f.rowIndex,G=x.positions[H+1]?x.positions[H+1]-x.positions[H]:x.currentPageTotalHeight-x.positions[H];p.top=ei({clientHeight:g.viewportInnerSize.height,scrollTop:l.current.scrollTop,offsetHeight:G,offsetTop:x.positions[H]})}return p=e.current.unstable_applyPipeProcessors("scrollToIndexes",p,f),typeof p.left!==void 0||typeof p.top!==void 0?(e.current.scroll(p),!0):!1},[r,e,l,t.pagination,s]),c=i.useCallback(f=>{if(l.current&&f.left!==void 0&&o.current){const g=n?-1:1;o.current.scrollLeft=f.left,l.current.scrollLeft=g*f.left,r.debug(`Scrolling left: ${f.left}`)}l.current&&f.top!==void 0&&(l.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[l,n,o,r]),u=i.useCallback(()=>l!=null&&l.current?{top:l.current.scrollTop,left:l.current.scrollLeft}:{top:0,left:0},[l]);ce(e,{scroll:c,scrollToIndexes:a,getScrollPosition:u},"public")};function Lw(e,t){De(e,"columnHeaderClick",t.onColumnHeaderClick),De(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),De(e,"columnHeaderOver",t.onColumnHeaderOver),De(e,"columnHeaderOut",t.onColumnHeaderOut),De(e,"columnHeaderEnter",t.onColumnHeaderEnter),De(e,"columnHeaderLeave",t.onColumnHeaderLeave),De(e,"cellClick",t.onCellClick),De(e,"cellDoubleClick",t.onCellDoubleClick),De(e,"cellKeyDown",t.onCellKeyDown),De(e,"preferencePanelClose",t.onPreferencePanelClose),De(e,"preferencePanelOpen",t.onPreferencePanelOpen),De(e,"menuOpen",t.onMenuOpen),De(e,"menuClose",t.onMenuClose),De(e,"rowDoubleClick",t.onRowDoubleClick),De(e,"rowClick",t.onRowClick),De(e,"stateChange",t.onStateChange)}function Gw(e,t=166){let n,r;const o=()=>{n=void 0,e(...r)};function l(...s){r=s,n===void 0&&(n=setTimeout(o,t))}return l.clear=()=>{clearTimeout(n),n=void 0},l}const Sn={width:0,height:0},Rw={isReady:!1,root:Sn,viewportOuterSize:Sn,viewportInnerSize:Sn,contentSize:Sn,minimumSize:Sn,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},$w=e=>h({},e,{dimensions:Rw});function Aw(e,t){const n=Ue(e,"useResizeContainer"),r=i.useRef(!1),o=i.useRef(Sn),l=U(e,nt),s=U(e,un),a=U(e,On),c=U(e,Tn),u=Math.floor(t.rowHeight*c),d=Math.floor(t.columnHeaderHeight*c),f=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*c),g=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*c),m=zw(Jo(e),6),C=El(e,t),b=a.left.reduce((I,M)=>I+M.computedWidth,0),p=a.right.reduce((I,M)=>I+M.computedWidth,0),[S,x]=i.useState(),D=i.useMemo(()=>Gw(x,t.resizeThrottleMs),[t.resizeThrottleMs]),E=i.useRef(),H=()=>e.current.state.dimensions,G=Re(I=>{e.current.setState(M=>h({},M,{dimensions:I}))}),A=i.useCallback(()=>{const I=e.current.mainElementRef.current;if(!I)return;const M=Af(I).getComputedStyle(I),w={width:parseFloat(M.width)||0,height:parseFloat(M.height)||0};(!E.current||!ti(E.current,w))&&(e.current.publishEvent("resize",w),E.current=w)},[e]),F=i.useCallback(()=>{const I=nt(e.current.state);if(!I.isReady)return 0;const M=Wn(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const j=so(e),T=j.lastRowIndex-j.firstRowIndex;return Math.min(T-1,M.rows.length)}const w=Math.floor(I.viewportInnerSize.height/u);return Math.min(w,M.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,u]),y=i.useCallback(()=>{var J,se;const I=e.current.rootElementRef.current,M=Jg(e),w=jw(I,m,t.scrollbarSize),j=C+M.top,T=M.bottom,z={width:m-b-p,height:s.currentPageTotalHeight};let N,B,W=!1,X=!1;if(t.autoHeight)X=!1,W=Math.round(m)>Math.round(o.current.width),N={width:o.current.width,height:j+T+z.height},B={width:Math.max(0,N.width-(X?w:0)),height:Math.max(0,N.height-(W?w:0))};else{N={width:o.current.width,height:o.current.height},B={width:Math.max(0,N.width-b-p),height:Math.max(0,N.height-j-T)};const oe=z,ae=B,Le=oe.width>ae.width,Oe=oe.height>ae.height;(Le||Oe)&&(X=Oe,W=oe.width+(X?w:0)>ae.width,W&&(X=oe.height+w>ae.height)),X&&(B.width-=w),W&&(B.height-=w)}const q=Math.max(N.width,m+(X?w:0)),te={width:m,height:j+z.height+T},K={isReady:!0,root:o.current,viewportOuterSize:N,viewportInnerSize:B,contentSize:z,minimumSize:te,hasScrollX:W,hasScrollY:X,scrollbarSize:w,headerHeight:d,groupHeaderHeight:f,headerFilterHeight:g,rowWidth:q,rowHeight:u,columnsTotalWidth:m,leftPinnedWidth:b,rightPinnedWidth:p,headersTotalHeight:C,topContainerHeight:j,bottomContainerHeight:T},Q=e.current.state.dimensions;G(K),ti(K.viewportInnerSize,Q.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",K.viewportInnerSize),(se=(J=e.current).updateRenderContext)==null||se.call(J)},[e,G,t.scrollbarSize,t.autoHeight,s.currentPageTotalHeight,u,d,f,g,m,C,b,p]),_={resize:A,getRootDimensions:H},$={updateDimensions:y,getViewportPageSize:F};ce(e,_,"public"),ce(e,$,"private"),Ye(()=>{S&&(y(),e.current.publishEvent("debouncedResize",o.current))},[e,S,y]);const O=e.current.rootElementRef.current;Ye(()=>{if(!O)return;const I=(M,w)=>O.style.setProperty(M,w);I("--DataGrid-width",`${l.viewportOuterSize.width}px`),I("--DataGrid-hasScrollX",`${Number(l.hasScrollX)}`),I("--DataGrid-hasScrollY",`${Number(l.hasScrollY)}`),I("--DataGrid-scrollbarSize",`${l.scrollbarSize}px`),I("--DataGrid-rowWidth",`${l.rowWidth}px`),I("--DataGrid-columnsTotalWidth",`${l.columnsTotalWidth}px`),I("--DataGrid-leftPinnedWidth",`${l.leftPinnedWidth}px`),I("--DataGrid-rightPinnedWidth",`${l.rightPinnedWidth}px`),I("--DataGrid-headerHeight",`${l.headerHeight}px`),I("--DataGrid-headersTotalHeight",`${l.headersTotalHeight}px`),I("--DataGrid-topContainerHeight",`${l.topContainerHeight}px`),I("--DataGrid-bottomContainerHeight",`${l.bottomContainerHeight}px`),I("--height",`${l.rowHeight}px`)},[O,l]);const P=i.useRef(!0),L=i.useCallback(I=>{o.current=I;const M=/jsdom/.test(window.navigator.userAgent);if(I.height===0&&!r.current&&!t.autoHeight&&!M&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),I.width===0&&!r.current&&!M&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),P.current){x(I),P.current=!1;return}D(I)},[t.autoHeight,D,n]);Ye(y,[y]),De(e,"sortedRowsSet",y),De(e,"paginationModelChange",y),De(e,"columnsChange",y),ee(e,"resize",L),De(e,"debouncedResize",t.onResize)}function jw(e,t,n){if(n!==void 0)return n;if(e===null||t===0)return 0;const o=Nt(e).createElement("div");o.style.width="99px",o.style.height="99px",o.style.position="absolute",o.style.overflow="scroll",o.className="scrollDiv",e.appendChild(o);const l=o.offsetWidth-o.clientWidth;return e.removeChild(o),l}function zw(e,t){return Math.round(e*10**t)/10**t}function ti(e,t){return e.width===t.width&&e.height===t.height}const Vw=e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:o,showLeftBorder:l,showRightBorder:s,groupId:a,pinnedPosition:c}=e;return de({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",s&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c==="left"&&"columnHeader--pinnedLeft",c==="right"&&"columnHeader--pinnedRight",o&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},ue,t)};function Nw(e){var z;const{groupId:t,width:n,depth:r,maxDepth:o,fields:l,height:s,colIndex:a,hasFocus:c,tabIndex:u,isLastColumn:d,pinnedPosition:f,style:g,indexInSection:m,sectionLength:C,gridHasFiller:b}=e,p=Z(),S=i.useRef(null),x=ie(),D=U(x,Pl),E=t?D[t]:{},{headerName:H=t??"",description:G="",headerAlign:A=void 0}=E;let F;const y=t&&((z=D[t])==null?void 0:z.renderHeaderGroup),_=i.useMemo(()=>({groupId:t,headerName:H,description:G,depth:r,maxDepth:o,fields:l,colIndex:a,isLastColumn:d}),[t,H,G,r,o,l,a,d]);t&&y&&(F=y(_));const $=ur(f,m),O=cr(f,m,C,p.showColumnVerticalBorder,b),P=h({},e,{classes:p.classes,showLeftBorder:$,showRightBorder:O,headerAlign:A,depth:r,isDragging:!1}),L=H??t,I=_e(),M=t===null?`empty-group-cell-${I}`:t,w=Vw(P);i.useLayoutEffect(()=>{if(c){const B=S.current.querySelector('[tabindex="0"]')||S.current;B==null||B.focus()}},[x,c]);const j=i.useCallback(N=>B=>{io(B)||x.current.publishEvent(N,_,B)},[x,_]),T=i.useMemo(()=>({onKeyDown:j("columnGroupHeaderKeyDown"),onFocus:j("columnGroupHeaderFocus"),onBlur:j("columnGroupHeaderBlur")}),[j]),R=typeof E.headerClassName=="function"?E.headerClassName(_):E.headerClassName;return v.jsx(Lc,h({ref:S,classes:w,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:F,headerClassName:R,description:G,elementId:M,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:L,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`,style:g},T))}const ni=je("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})({display:"flex"}),Bw=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:l,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:d,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:g}=e,[m,C]=i.useState(""),[b,p]=i.useState(""),S=Et(),x=Kt(),D=Z(),E=U(S,nt),H=U(S,ar),G=U(S,Ml),A=U(S,Rt),F=U(S,ic),y=U(S,On),_=U(S,Pt),$=dc(A,F,y.left.length),O=E.columnsTotalWidth<E.viewportOuterSize.width;i.useEffect(()=>{S.current.columnHeadersContainerRef.current.scrollLeft=0},[S]);const P=i.useCallback(q=>p(q.field),[]),L=i.useCallback(()=>p(""),[]),I=i.useCallback(q=>C(q.field),[]),M=i.useCallback(()=>C(""),[]),w=i.useMemo(()=>y.left.length?{firstColumnIndex:0,lastColumnIndex:y.left.length}:null,[y.left.length]),j=i.useMemo(()=>y.right.length?{firstColumnIndex:t.length-y.right.length,lastColumnIndex:t.length}:null,[y.right.length,t.length]);ee(S,"columnResizeStart",P),ee(S,"columnResizeStop",L),ee(S,"columnHeaderDragStart",I),ee(S,"columnHeaderDragEnd",M);const T=q=>{const{renderContext:te=F,maxLastColumn:K=t.length}=q||{},Q=te.firstColumnIndex,J=H?te.lastColumnIndex:K;return{renderedColumns:t.slice(Q,J),firstColumnToRender:Q,lastColumnToRender:J}},R=(q,te,K,Q=!1)=>{const J=(q==null?void 0:q.position)===Me.RIGHT,se=(q==null?void 0:q.position)===void 0,oe=y.right.length>0&&J||y.right.length===0&&se,ae=$-K;return v.jsxs(i.Fragment,{children:[se&&v.jsx("div",{role:"presentation",style:{width:ae}}),te,se&&v.jsx("div",{role:"presentation",className:me(k.filler,Q&&k["filler--borderBottom"])}),oe&&v.jsx(_l,{header:!0,pinnedRight:J,borderBottom:Q,borderTop:!1})]})},z=({pinnedPosition:q,columnIndex:te,computedWidth:K})=>{let Q;const J=q===Me.LEFT,se=q===Me.RIGHT;if(J||se){const oe=Hl(q,K,te,A,E);let ae=J?"left":"right";x&&(ae=J?"right":"left"),q==="left"&&(Q={[ae]:oe}),q==="right"&&(Q={[ae]:oe})}return Q},N=(q,te={})=>{const{renderedColumns:K,firstColumnToRender:Q}=T(q),J=[];for(let se=0;se<K.length;se+=1){const oe=K[se],ae=Q+se,Le=ae===0,Oe=o!==null&&o.field===oe.field||Le&&!g?0:-1,He=s!==null&&s.field===oe.field,ve=u.open&&u.field===oe.field,Ge=q==null?void 0:q.position,qe=z({pinnedPosition:Ge,columnIndex:ae,computedWidth:oe.computedWidth}),ot=Ge===Me.RIGHT?K[se-1]:K[se+1],ft=ot?s!==null&&s.field===ot.field:!1,Ae=ae+1===A.length-y.right.length;J.push(v.jsx(Gc,h({},n[oe.field],{columnMenuOpen:ve,filterItemsCounter:r[oe.field]&&r[oe.field].length,headerHeight:E.headerHeight,isDragging:oe.field===m,colDef:oe,colIndex:ae,isResizing:b===oe.field,isLast:ae===A.length-1,hasFocus:He,tabIndex:Oe,pinnedPosition:Ge,style:qe,indexInSection:se,sectionLength:K.length,gridHasFiller:O,isLastUnpinned:Ae,isSiblingFocused:ft},te),oe.field))}return R(q,J,0)},B=()=>v.jsxs(ni,{role:"row","aria-rowindex":c+1,ownerState:D,className:k["row--borderBottom"],children:[w&&N({position:Me.LEFT,renderContext:w,maxLastColumn:w.lastColumnIndex},{disableReorder:!0}),N({renderContext:F,maxLastColumn:t.length-y.right.length}),j&&N({position:Me.RIGHT,renderContext:j,maxLastColumn:j.lastColumnIndex},{disableReorder:!0,separatorSide:fr.Left})]}),W=({depth:q,params:te})=>{var ye,Ee;const K=T(te);if(K.renderedColumns.length===0)return null;const{renderedColumns:Q,firstColumnToRender:J,lastColumnToRender:se}=K,oe=f[q],ae=t[J].field,Le=((ye=G[ae])==null?void 0:ye[q])??null,Oe=oe.findIndex(({groupId:Fe,columnFields:Ce})=>Fe===Le&&Ce.includes(ae)),He=t[se-1].field,ve=((Ee=G[He])==null?void 0:Ee[q])??null,Ge=oe.findIndex(({groupId:Fe,columnFields:Ce})=>Fe===ve&&Ce.includes(He)),qe=oe.slice(Oe,Ge+1).map(Fe=>h({},Fe,{columnFields:Fe.columnFields.filter(Ce=>d[Ce]!==!1)})).filter(Fe=>Fe.columnFields.length>0),ot=qe[0].columnFields.indexOf(ae),Ae=qe[0].columnFields.slice(0,ot).reduce((Fe,Ce)=>{const Be=_[Ce];return Fe+(Be.computedWidth??0)},0);let be=J;const fe=qe.map(({groupId:Fe,columnFields:Ce},Be)=>{const ze=a!==null&&a.depth===q&&Ce.includes(a.field),le=l!==null&&l.depth===q&&Ce.includes(l.field)?0:-1,he={groupId:Fe,width:Ce.reduce((Ie,tt)=>Ie+_[tt].computedWidth,0),fields:Ce,colIndex:be,hasFocus:ze,tabIndex:le},pe=te.position,ge=z({pinnedPosition:pe,columnIndex:be,computedWidth:he.width});be+=Ce.length;let we=Be;return pe==="left"&&(we=be-1),v.jsx(Nw,{groupId:Fe,width:he.width,fields:he.fields,colIndex:he.colIndex,depth:q,isLastColumn:he.colIndex===t.length-he.fields.length,maxDepth:c,height:E.groupHeaderHeight,hasFocus:ze,tabIndex:le,pinnedPosition:pe,style:ge,indexInSection:we,sectionLength:Q.length,gridHasFiller:O},Be)});return R(te,fe,Ae)};return{renderContext:F,leftRenderContext:w,rightRenderContext:j,pinnedColumns:y,visibleColumns:t,getCellOffsetStyle:z,getFillers:R,getColumnHeadersRow:B,getColumnsToRender:T,getColumnGroupHeadersRows:()=>{if(c===0)return null;const q=[];for(let te=0;te<c;te+=1)q.push(v.jsxs(ni,{role:"row","aria-rowindex":te+1,ownerState:D,children:[w&&W({depth:te,params:{position:Me.LEFT,renderContext:w,maxLastColumn:w.lastColumnIndex}}),W({depth:te,params:{renderContext:F}}),j&&W({depth:te,params:{position:Me.RIGHT,renderContext:j,maxLastColumn:j.lastColumnIndex}})]},te));return q},isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},Uw=["className"],Ww=e=>{const{classes:t}=e;return de({root:["columnHeaders"]},ue,t)},qw=Se("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),Kw=i.forwardRef(function(t,n){const{className:r}=t,o=ne(t,Uw),l=Z(),s=Ww(l);return v.jsx(qw,h({ref:n,className:me(r,s.root),ownerState:l},o,{role:"presentation"}))}),Xw=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],Yw=i.forwardRef(function(t,n){const{visibleColumns:r,sortColumnLookup:o,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:C}=t,b=ne(t,Xw),{getInnerProps:p,getColumnHeadersRow:S,getColumnGroupHeadersRows:x}=Bw({visibleColumns:r,sortColumnLookup:o,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:f,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:C});return v.jsxs(Kw,h({ref:n},b,p(),{children:[x(),S()]}))}),Bu=Yt(Yw);function Qw(e){return null}function Jw(e){return null}const Zw=i.forwardRef(function(t,n){const o=ie().current.getLocaleText("noResultsOverlayLabel");return v.jsx(dr,h({ref:n},t,{children:o}))}),eS=["sortingOrder"],tS=i.memo(function(t){const{sortingOrder:n}=t,r=ne(t,eS),o=Z(),[l]=n,s=l==="asc"?o.slots.columnSortedAscendingIcon:o.slots.columnSortedDescendingIcon;return s?v.jsx(s,h({},r)):null}),nS=["native"];function oS(e){let{native:t}=e,n=ne(e,nS);return t?v.jsx("option",h({},n)):v.jsx(yt,h({},n))}const rS={booleanCellTrueIcon:Qc,booleanCellFalseIcon:_o,columnMenuIcon:qc,openFilterButtonIcon:jc,filterPanelDeleteIcon:_o,columnFilteredIcon:Ar,columnSelectorIcon:Vc,columnUnsortedIcon:tS,columnSortedAscendingIcon:Lr,columnSortedDescendingIcon:Gr,columnResizeIcon:Nc,densityCompactIcon:Bc,densityStandardIcon:Uc,densityComfortableIcon:Wc,exportIcon:Yc,moreActionsIcon:Jc,treeDataCollapseIcon:$r,treeDataExpandIcon:Rr,groupingCriteriaCollapseIcon:$r,groupingCriteriaExpandIcon:Rr,detailPanelExpandIcon:jr,detailPanelCollapseIcon:Kc,rowReorderIcon:zr,quickFilterIcon:zc,quickFilterClearIcon:_o,columnMenuHideIcon:Zc,columnMenuSortAscendingIcon:Lr,columnMenuSortDescendingIcon:Gr,columnMenuFilterIcon:Ar,columnMenuManageColumnsIcon:eu,columnMenuClearIcon:tu,loadIcon:Xc,filterPanelAddIcon:jr,filterPanelRemoveAllIcon:nu,columnReorderIcon:zr},lS=h({},rS,{baseCheckbox:Sd,baseTextField:Yr,baseFormControl:yd,baseSelect:xd,baseButton:bi,baseIconButton:vd,baseInputAdornment:Id,baseTooltip:Md,basePopper:Kr,baseInputLabel:Pd,baseSelectOption:oS,baseChip:Ed}),sS=h({},lS,{cell:Ec,skeletonCell:Fc,columnHeaderFilterIconButton:Ac,columnHeaderSortIcon:$c,columnMenu:mu,columnHeaders:Bu,detailPanels:Qw,footer:Du,footerRowCount:Lu,toolbar:null,pinnedRows:Jw,loadingOverlay:Ou,noResultsOverlay:Zw,noRowsOverlay:Hu,pagination:_u,filterPanel:Su,columnsPanel:hu,columnsManagement:Ol,panel:Cu,row:Gu});function iS({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const r=h({},e);return Object.keys(n).forEach(o=>{const l=o;n[l]!==void 0&&(r[l]=n[l])}),r}function aS(e){const t=Object.keys(e);if(!t.some(o=>o.startsWith("aria-")||o.startsWith("data-")))return e;const n={},r=e.forwardedProps??{};for(let o=0;o<t.length;o+=1){const l=t[o];l.startsWith("aria-")||l.startsWith("data-")?r[l]=e[l]:n[l]=e[l]}return n.forwardedProps=r,n}function cS(e){return i.useMemo(()=>aS(e),[e])}const uS={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},No={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:vt.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1},dS=sS,fS=e=>{const t=cS(Fd({props:e,name:"MuiDataGrid"})),n=i.useMemo(()=>h({},_i,t.localeText),[t.localeText]),r=i.useMemo(()=>iS({defaultSlots:dS,slots:t.slots}),[t.slots]),o=i.useMemo(()=>Object.keys(No).reduce((l,s)=>(l[s]=t[s]??No[s],l),{}),[t]);return i.useMemo(()=>h({},t,o,{localeText:n,slots:r},uS),[t,n,r,o])},gS=e=>h({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),oi=(e,t,n)=>typeof e=="number"&&e>0?e:t,mS=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,l=i.useRef(Object.create(null)),s=i.useRef(-1),a=i.useRef(!1),c=U(e,Tn),u=U(e,We),d=U(e,oo),f=U(e,at),g=Qt(e,t),m=U(e,an),C=oi(t.rowHeight,No.rowHeight),b=Math.floor(C*c),p=i.useCallback(()=>{var I,M;a.current=!1;const O=w=>{l.current[w.id]||(l.current[w.id]={sizes:{baseCenter:b},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:j,needsFirstMeasurement:T,sizes:R}=l.current[w.id];let z=typeof b=="number"&&b>0?b:52;const N=R.baseCenter;if(j)z=N;else if(n){const X=n(h({},w,{densityFactor:c}));X==="auto"?(T?z=(o?o(h({},w,{densityFactor:c})):b)??b:z=N,a.current=!0,l.current[w.id].autoHeight=!0):(z=oi(X,b),l.current[w.id].needsFirstMeasurement=!1,l.current[w.id].autoHeight=!1)}else l.current[w.id].needsFirstMeasurement=!1;const B={baseCenter:z};if(r){const X=e.current.getRowIndexRelativeToVisibleRows(w.id),q=r(h({},w,{isFirstVisible:X===0,isLastVisible:X===g.rows.length-1,indexRelativeToCurrentPage:X}));B.spacingTop=q.top??0,B.spacingBottom=q.bottom??0}const W=e.current.unstable_applyPipeProcessors("rowHeight",B,w);return l.current[w.id].sizes=W,W},P=[],L=g.rows.reduce((w,j)=>{P.push(w);let T=0;const R=O(j);for(const z in R){const N=R[z];z!=="baseCenter"&&(T+=N)}return w+R.baseCenter+T},0);(I=m==null?void 0:m.top)==null||I.forEach(w=>{O(w)}),(M=m==null?void 0:m.bottom)==null||M.forEach(w=>{O(w)}),e.current.setState(w=>h({},w,{rowsMeta:{currentPageTotalHeight:L,positions:P}})),a.current||(s.current=1/0),e.current.forceUpdate()},[e,g.rows,b,n,r,o,m,c]),S=i.useCallback(O=>{const P=l.current[O];return P?P.sizes.baseCenter:b},[b]),x=O=>{var P;return(P=l.current[O])==null?void 0:P.sizes},D=i.useCallback((O,P)=>{l.current[O].sizes.baseCenter=P,l.current[O].isResized=!0,l.current[O].needsFirstMeasurement=!1,p()},[p]),E=i.useMemo(()=>Di(p,t.rowPositionsDebounceMs),[p,t.rowPositionsDebounceMs]),H=i.useCallback((O,P)=>{if(!l.current[O]||!l.current[O].autoHeight)return;const L=l.current[O].sizes.baseCenter!==P;l.current[O].needsFirstMeasurement=!1,l.current[O].sizes.baseCenter=P,L&&E()},[E]),G=i.useCallback(O=>{var P;return((P=l.current[O])==null?void 0:P.autoHeight)||!1},[]),A=i.useCallback(()=>s.current,[]),F=i.useCallback(O=>{a.current&&O>s.current&&(s.current=O)},[]),y=i.useCallback(()=>{l.current={},p()},[p]);i.useEffect(()=>{p()},[b,u,d,f,p]),Rl(e,"rowHeight",p);const _={unstable_setLastMeasuredRowIndex:F,unstable_getRowHeight:S,unstable_getRowInternalSizes:x,unstable_setRowHeight:D,unstable_storeRowHeightMeasurement:H,resetRowHeights:y},$={getLastMeasuredRowIndex:A,rowHasAutoHeight:G};ce(e,_,"public"),ce(e,$,"private")},hS=e=>{const t=i.useCallback((o={})=>e.current.unstable_applyPipeProcessors("exportState",{},o),[e]),n=i.useCallback(o=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:o}).callbacks.forEach(s=>{s()}),e.current.forceUpdate()},[e]);ce(e,{exportState:t,restoreState:n},"public")},pS=e=>{const t=i.useRef({}),n=(a,c)=>{var u;return(u=t.current[a])==null?void 0:u[c]},r=()=>{t.current={}},o=i.useCallback(({rowId:a,minFirstColumn:c,maxLastColumn:u,columns:d})=>{for(let f=c;f<u;f+=1){const g=CS({apiRef:e,lookup:t.current,columnIndex:f,rowId:a,minFirstColumnIndex:c,maxLastColumnIndex:u,columns:d});g.colSpan>1&&(f+=g.colSpan-1)}},[e]),l={unstable_getCellColSpanInfo:n},s={resetColSpan:r,calculateColSpan:o};ce(e,l,"public"),ce(e,s,"private"),ee(e,"columnOrderChange",r)};function CS(e){const{apiRef:t,lookup:n,columnIndex:r,rowId:o,minFirstColumnIndex:l,maxLastColumnIndex:s,columns:a}=e,c=a.length,u=a[r],d=t.current.getRow(o),f=t.current.getRowValue(d,u),g=typeof u.colSpan=="function"?u.colSpan(f,d,u,t):u.colSpan;if(!g||g===1)return Ir(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:1,width:u.computedWidth}}),{colSpan:1};let m=u.computedWidth;for(let C=1;C<g;C+=1){const b=r+C;if(b>=l&&b<s){const p=a[b];m+=p.computedWidth,Ir(n,o,r+C,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(r+g,c-1),leftVisibleCellIndex:r})}Ir(n,o,r,{spannedByColSpan:!1,cellProps:{colSpan:g,width:m}})}return{colSpan:g}}function Ir(e,t,n,r){e[t]||(e[t]={}),e[t][n]=r}const Uu=(e,t,n)=>{if(cl(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:o}=e;o.forEach(l=>{Uu(l,[...t,r],n)})},Ur=e=>{if(!e)return{};const t={};return e.forEach(n=>{Uu(n,[],t)}),t},Wr=(e,t,n)=>{const r=c=>t[c]??[],o=[],l=Math.max(...e.map(c=>r(c).length)),s=(c,u,d)=>Bt(r(c).slice(0,d+1),r(u).slice(0,d+1)),a=(c,u)=>!!(n!=null&&n.left&&n.left.includes(c)&&!n.left.includes(u)||n!=null&&n.right&&!n.right.includes(c)&&n.right.includes(u));for(let c=0;c<l;c+=1){const u=e.reduce((d,f)=>{const g=r(f)[c]??null;if(d.length===0)return[{columnFields:[f],groupId:g}];const m=d[d.length-1],C=m.columnFields[m.columnFields.length-1];return m.groupId!==g||!s(C,f,c)||a(C,f)?[...d,{columnFields:[f],groupId:g}]:[...d.slice(0,d.length-1),{columnFields:[...m.columnFields,f],groupId:g}]},[]);o.push(u)}return o},bS=["groupId","children"],$l=e=>{let t={};return e.forEach(n=>{if(cl(n))return;const{groupId:r,children:o}=n,l=ne(n,bS);if(!r)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const s=h({},l,{groupId:r}),a=$l(o);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI X: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=h({},t,a,{[r]:s})}),h({},t)},wS=(e,t,n)=>{if(!t.columnGroupingModel)return e;const r=kt(n),o=sn(n),l=$l(t.columnGroupingModel??[]),s=Ur(t.columnGroupingModel??[]),a=Wr(r,s,n.current.state.pinnedColumns??{}),c=o.length===0?0:Math.max(...o.map(u=>{var d;return((d=s[u])==null?void 0:d.length)??0}));return h({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},SS=(e,t)=>{const n=i.useCallback(a=>Ml(e)[a]??[],[e]),r=i.useCallback(()=>Pl(e),[e]);ce(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const l=i.useCallback(()=>{const a=Ur(t.columnGroupingModel??[]);e.current.setState(c=>{var g;const u=((g=c.columns)==null?void 0:g.orderedFields)??[],d=c.pinnedColumns??{},f=Wr(u,a,d);return h({},c,{columnGrouping:h({},c.columnGrouping,{headerStructure:f})})})},[e,t.columnGroupingModel]),s=i.useCallback(a=>{var b,p;const c=((p=(b=e.current).getPinnedColumns)==null?void 0:p.call(b))??{},u=kt(e),d=sn(e),f=$l(a??[]),g=Ur(a??[]),m=Wr(u,g,c),C=d.length===0?0:Math.max(...d.map(S=>{var x;return((x=g[S])==null?void 0:x.length)??0}));e.current.setState(S=>h({},S,{columnGrouping:{lookup:f,unwrappedGroupingModel:g,headerStructure:m,maxDepth:C}}))},[e]);ee(e,"columnIndexChange",l),ee(e,"columnsChange",()=>{s(t.columnGroupingModel)}),ee(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),i.useEffect(()=>{s(t.columnGroupingModel)},[s,t.columnGroupingModel])};function yS(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n}function ri(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function li(e,t,n,r){let o=e;return r==="Right"?o+=t-n.left:o+=n.right-t,o}function xS(e,t,n){return n==="Left"?e-t.left:t.right-e}function vS(e){return e==="Right"?"Left":"Right"}function IS(e,t){const n=e.classList.contains(k["columnSeparator--sideRight"])?"Right":"Left";return t?vS(n):n}function si(e){e.preventDefault(),e.stopImmediatePropagation()}function MS(e){const t=i.useRef(),n=()=>ar(e),r=U(e,n);return i.useEffect(()=>{t.current&&r===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=yS()}return t.current}}function PS(e,t){if(e.length<4)return e;const n=e.slice();n.sort((a,c)=>a-c);const r=n[Math.floor(n.length*.25)],o=n[Math.floor(n.length*.75)-1],l=o-r,s=l<5?5:l*t;return n.filter(a=>a>r-s&&a<o+s)}function ES(e,t,n){const r={},o=e.current.rootElementRef.current;return o.classList.add(k.autosizing),n.forEach(l=>{const a=tp(e.current,l.field).map(C=>C.getBoundingClientRect().width??0),c=t.includeOutliers?a:PS(a,t.outliersFactor);if(t.includeHeaders){const C=ep(e.current,l.field);if(C){const b=C.querySelector(`.${k.columnHeaderTitle}`),p=C.querySelector(`.${k.columnHeaderTitleContainerContent}`),S=C.querySelector(`.${k.iconButtonContainer}`),x=C.querySelector(`.${k.menuIcon}`),D=b??p,E=window.getComputedStyle(C,null),H=parseInt(E.paddingLeft,10)+parseInt(E.paddingRight,10),A=D.scrollWidth+1+H+((S==null?void 0:S.clientWidth)??0)+((x==null?void 0:x.clientWidth)??0);c.push(A)}}const u=l.minWidth!==-1/0&&l.minWidth!==void 0,d=l.maxWidth!==1/0&&l.maxWidth!==void 0,f=u?l.minWidth:0,g=d?l.maxWidth:1/0,m=c.length===0?0:Math.max(...c);r[l.field]=Lt(m,f,g)}),o.classList.remove(k.autosizing),r}const FS=e=>h({},e,{columnResize:{resizingColumnField:""}});function kS(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const DS=(e,t)=>{const n=Kt(),r=Ue(e,"useGridColumnResize"),o=Xt(kS).current,l=i.useRef(),s=i.useRef(),a=Dn(),c=i.useRef(),u=y=>{var M,w;r.debug(`Updating width to ${y} for col ${o.colDef.field}`);const _=o.columnHeaderElement.offsetWidth,$=y-_,O=y-o.initialColWidth,P=o.initialTotalWidth+O;(w=(M=e.current.rootElementRef)==null?void 0:M.current)==null||w.style.setProperty("--DataGrid-rowWidth",`${P}px`),o.colDef.computedWidth=y,o.colDef.width=y,o.colDef.flex=0,o.columnHeaderElement.style.width=`${y}px`;const L=o.headerFilterElement;L&&(L.style.width=`${y}px`),o.groupHeaderElements.forEach(j=>{const T=j;let R;T.getAttribute("aria-colspan")==="1"?R=`${y}px`:R=`${T.offsetWidth+$}px`,T.style.width=R}),o.cellElements.forEach(j=>{const T=j;let R;T.getAttribute("aria-colspan")==="1"?R=`${y}px`:R=`${T.offsetWidth+$}px`,T.style.setProperty("--width",R)});const I=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);I===Me.LEFT&&(pn(o.fillerLeft,"width",$),o.leftPinnedCellsAfter.forEach(j=>{pn(j,"left",$)}),o.leftPinnedHeadersAfter.forEach(j=>{pn(j,"left",$)})),I===Me.RIGHT&&(pn(o.fillerRight,"width",$),o.rightPinnedCellsBefore.forEach(j=>{pn(j,"right",$)}),o.rightPinnedHeadersBefore.forEach(j=>{pn(j,"right",$)}))},d=y=>{if(S(),o.previousMouseClickEvent){const _=o.previousMouseClickEvent,$=_.timeStamp,O=_.clientX,P=_.clientY;if(y.timeStamp-$<300&&y.clientX===O&&y.clientY===P){o.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,y);return}}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const _=xt(e.current.state);o.groupHeaderElements.forEach($=>{const O=qh($),P=$,I=`${O.reduce((M,w)=>_.columnVisibilityModel[w]!==!1?M+_.lookup[w].computedWidth:M,0)}px`;P.style.width=I})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,y)})},f=(y,_,$)=>{var I;const O=e.current.rootElementRef.current;o.initialColWidth=y.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=y,o.columnHeaderElement=Wh(e.current.columnHeadersContainerRef.current,y.field);const P=O.querySelector(`.${k.headerFilterRow} [data-field="${At(y.field)}"]`);P&&(o.headerFilterElement=P),o.groupHeaderElements=Kh((I=e.current.columnHeadersContainerRef)==null?void 0:I.current,y.field),o.cellElements=Xh(o.columnHeaderElement,e.current),o.fillerLeft=Rs(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=Rs(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const L=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=L!==Me.LEFT?[]:Yh(e.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=L!==Me.RIGHT?[]:Qh(e.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=L!==Me.LEFT?[]:Jh(e.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=L!==Me.RIGHT?[]:Zh(e.current,o.columnHeaderElement,n),s.current=IS(_,n),l.current=xS($,o.columnHeaderElement.getBoundingClientRect(),s.current)},g=Re(d),m=Re(y=>{if(y.buttons===0){g(y);return}let _=li(l.current,y.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);_=Lt(_,o.colDef.minWidth,o.colDef.maxWidth),u(_);const $={element:o.columnHeaderElement,colDef:o.colDef,width:_};e.current.publishEvent("columnResize",$,y)}),C=Re(y=>{ri(y,c.current)&&d(y)}),b=Re(y=>{const _=ri(y,c.current);if(!_)return;if(y.type==="mousemove"&&y.buttons===0){C(y);return}let $=li(l.current,_.x,o.columnHeaderElement.getBoundingClientRect(),s.current);$=Lt($,o.colDef.minWidth,o.colDef.maxWidth),u($);const O={element:o.columnHeaderElement,colDef:o.colDef,width:$};e.current.publishEvent("columnResize",O,y)}),p=Re(y=>{const _=jo(y.target,k["columnSeparator--resizable"]);if(!_)return;const $=y.changedTouches[0];$!=null&&(c.current=$.identifier);const O=jo(y.target,k.columnHeader),P=Uh(O),L=e.current.getColumn(P);r.debug(`Start Resize on col ${L.field}`),e.current.publishEvent("columnResizeStart",{field:P},y),f(L,_,$.clientX);const I=Nt(y.currentTarget);I.addEventListener("touchmove",b),I.addEventListener("touchend",C)}),S=i.useCallback(()=>{const y=Nt(e.current.rootElementRef.current);y.body.style.removeProperty("cursor"),y.removeEventListener("mousemove",m),y.removeEventListener("mouseup",g),y.removeEventListener("touchmove",b),y.removeEventListener("touchend",C),setTimeout(()=>{y.removeEventListener("click",si,!0)},100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")},[e,o,m,g,b,C]),x=i.useCallback(({field:y})=>{e.current.setState(_=>h({},_,{columnResize:h({},_.columnResize,{resizingColumnField:y})})),e.current.forceUpdate()},[e]),D=i.useCallback(()=>{e.current.setState(y=>h({},y,{columnResize:h({},y.columnResize,{resizingColumnField:""})})),e.current.forceUpdate()},[e]),E=Re(({colDef:y},_)=>{if(_.button!==0||!_.currentTarget.classList.contains(k["columnSeparator--resizable"]))return;_.preventDefault(),r.debug(`Start Resize on col ${y.field}`),e.current.publishEvent("columnResizeStart",{field:y.field},_),f(y,_.currentTarget,_.clientX);const $=Nt(e.current.rootElementRef.current);$.body.style.cursor="col-resize",o.previousMouseClickEvent=_.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",si,!0)}),H=Re((y,_)=>{if(t.disableAutosize||_.button!==0)return;const $=e.current.state.columns.lookup[y.field];$.resizable!==!1&&e.current.autosizeColumns(h({},t.autosizeOptions,{columns:[$.field]}))}),G=MS(e),A=i.useRef(!1),F=i.useCallback(async y=>{var L;if(!((L=e.current.rootElementRef)==null?void 0:L.current)||A.current)return;A.current=!0;const $=xt(e.current.state),O=h({},bc,y,{columns:(y==null?void 0:y.columns)??$.orderedFields});O.columns=O.columns.filter(I=>$.columnVisibilityModel[I]!==!1);const P=O.columns.map(I=>e.current.state.columns.lookup[I]);try{e.current.unstable_setColumnVirtualization(!1),await G();const I=ES(e,O,P),M=P.map(w=>h({},w,{width:I[w.field],computedWidth:I[w.field]}));if(O.expand){const j=$.orderedFields.map(z=>$.lookup[z]).filter(z=>$.columnVisibilityModel[z.field]!==!1).reduce((z,N)=>z+(I[N.field]??N.computedWidth??N.width),0),R=e.current.getRootDimensions().viewportInnerSize.width-j;if(R>0){const z=R/(M.length||1);M.forEach(N=>{N.width+=z,N.computedWidth+=z})}}e.current.updateColumns(M),M.forEach((w,j)=>{if(w.width!==P[j].width){const T=w.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(w.field),colDef:w,width:T})}})}finally{e.current.unstable_setColumnVirtualization(!0),A.current=!1}},[e,G]);i.useEffect(()=>S,[S]),Yn(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),Sl(e,()=>{var y;return(y=e.current.columnHeadersContainerRef)==null?void 0:y.current},"touchstart",p,{passive:!0}),ce(e,{autosizeColumns:F},"public"),ee(e,"columnResizeStop",D),ee(e,"columnResizeStart",x),ee(e,"columnSeparatorMouseDown",E),ee(e,"columnSeparatorDoubleClick",H),De(e,"columnResize",t.onColumnResize),De(e,"columnWidthChange",t.onColumnWidthChange)};function pn(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function TS(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function OS(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}function ii(e,t){return e.firstRowIndex!==t.firstRowIndex||e.lastRowIndex!==t.lastRowIndex}const Mr=(e,t,n)=>{if(!e)return null;let r=e[t.field];const o=t.rowSpanValueGetter??t.valueGetter;return o&&(r=o(r,e,t,n)),r},Bo={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},Vn={firstRowIndex:0,lastRowIndex:0},HS=new Set(["__check__","__reorder__","__detail_panel_toggle__"]),Wu=20,qu=(e,t,n,r,o,l,s)=>{const a=l?{}:h({},e.current.state.rowSpanning.spannedCells),c=l?{}:h({},e.current.state.rowSpanning.hiddenCells),u=l?{}:h({},e.current.state.rowSpanning.hiddenCellOriginMap);return l&&(s=Vn),t.forEach(d=>{var f;if(!HS.has(d.field)){for(let g=o.firstRowIndex;g<=o.lastRowIndex;g+=1){const m=n[g];if((f=c[m.id])!=null&&f[d.field])continue;const C=Mr(m.model,d,e);if(C==null)continue;let b=m.id,p=g,S=0;const x=[];if(g===o.firstRowIndex){let E=g-1;const H=n[E];for(;E>=r.firstRowIndex&&Mr(H.model,d,e)===C;){const G=n[E+1];c[G.id]?c[G.id][d.field]=!0:c[G.id]={[d.field]:!0},x.push(g),S+=1,b=H.id,p=E,E-=1}}x.forEach(E=>{u[E]?u[E][d.field]=p:u[E]={[d.field]:p}});let D=g+1;for(;D<=r.lastRowIndex&&n[D]&&Mr(n[D].model,d,e)===C;){const E=n[D];c[E.id]?c[E.id][d.field]=!0:c[E.id]={[d.field]:!0},u[D]?u[D][d.field]=p:u[D]={[d.field]:p},D+=1,S+=1}S>0&&(a[b]?a[b][d.field]=S+1:a[b]={[d.field]:S+1})}s={firstRowIndex:Math.min(s.firstRowIndex,o.firstRowIndex),lastRowIndex:Math.max(s.lastRowIndex,o.lastRowIndex)}}}),{spannedCells:a,hiddenCells:c,hiddenCellOriginMap:u,processedRange:s}},_S=(e,t,n)=>{var r;if(t.unstable_rowSpanning){const o=e.rows.dataRowIds||[],l=e.columns.orderedFields||[],s=e.rows.dataRowIdToModelLookup,a=e.columns.lookup,c=!!e.filter.filterModel.items.length||!!((r=e.filter.filterModel.quickFilterValues)!=null&&r.length);if(!o.length||!l.length||!s||!a||c)return h({},e,{rowSpanning:Bo});const u={firstRowIndex:0,lastRowIndex:Math.min(Wu-1,Math.max(o.length-1,0))},d=o.map(b=>({id:b,model:s[b]})),f=l.map(b=>a[b]),{spannedCells:g,hiddenCells:m,hiddenCellOriginMap:C}=qu(n,f,d,u,u,!0,Vn);return h({},e,{rowSpanning:{spannedCells:g,hiddenCells:m,hiddenCellOriginMap:C}})}return h({},e,{rowSpanning:Bo})},LS=(e,t)=>{const{range:n,rows:r}=Qt(e,t),o=U(e,so),l=U(e,Ne),s=Xt(()=>Object.keys(e.current.state.rowSpanning.spannedCells).length>0?{firstRowIndex:0,lastRowIndex:Math.min(Wu-1,Math.max(e.current.state.rows.dataRowIds.length-1,0))}:Vn),a=i.useRef(Vn),c=i.useCallback((g=!0)=>{if(!t.unstable_rowSpanning){e.current.state.rowSpanning!==Bo&&e.current.setState(A=>h({},A,{rowSpanning:Bo}));return}if(n===null||!OS(o))return;g&&(s.current=Vn);const m=TS({firstRowIndex:o.firstRowIndex,lastRowIndex:o.lastRowIndex-1},s.current);if(m===null)return;const{spannedCells:C,hiddenCells:b,hiddenCellOriginMap:p,processedRange:S}=qu(e,l,r,n,m,g,s.current);s.current=S;const x=Object.keys(C).length,D=Object.keys(b).length,E=Object.keys(e.current.state.rowSpanning.spannedCells).length,H=Object.keys(e.current.state.rowSpanning.hiddenCells).length;(g||x!==E||D!==H)&&e.current.setState(A=>h({},A,{rowSpanning:{spannedCells:C,hiddenCells:b,hiddenCellOriginMap:p}}))},[e,t.unstable_rowSpanning,n,o,r,l,s]),u=i.useRef(o),d=i.useRef(!0),f=i.useRef(!1);i.useEffect(()=>{const g=d.current;if(d.current&&(d.current=!1),n&&a.current&&ii(n,a.current)&&(a.current=n,f.current=!0),!g&&u.current!==o){ii(u.current,o)&&(c(f.current),f.current=!1),u.current=o;return}c()},[c,o,n,a])},GS=(e,t)=>{const n=Lb(e,t);return Tw(n,t),Ew(n),Ke($w,n,t),Ke(Fw,n,t),Ke(Nb,n,t),Ke(xw,n,t),Ke(Sw,n,t),Ke(ow,n,t),Ke(Ow,n,t),Ke(fw,n,t),Ke(Zb,n,t),Ke(_S,n,t),Ke(Ub,n,t),Ke(FS,n,t),Ke(uw,n,t),Ke(gS,n,t),Ke(zb,n,t),Ke(wS,n,t),Ke(ac,n,t),iw(n,t),kw(n,t),Bb(n,t),vw(n,t),LS(n,t),np(n),pS(n),SS(n,t),yw(n,t),rw(n,t),gw(n,t),nw(n,t),Hw(n,t),Wb(n,t),DS(n,t),dw(n,t),mS(n,t),_w(n,t),Vb(n),Kb(n,t),Jb(n,t),jb(n,t),Aw(n,t),Lw(n,t),hS(n),cc(n,t),n},RS={hooks:{useGridAriaAttributes:bb,useGridRowAriaAttributes:wb}},Ku=i.forwardRef(function(t,n){const r=fS(t),o=GS(r.apiRef,r);return v.jsx(Ru,{privateApiRef:o,configuration:RS,props:r,children:v.jsxs(kc,h({className:r.className,style:r.style,sx:r.sx,ref:n},r.forwardedProps,{children:[v.jsx(Tu,{}),v.jsx(Sc,{}),v.jsx(yc,{})]}))})}),$S=i.memo(Ku);Ku.propTypes={apiRef:V.shape({current:V.object.isRequired}),"aria-label":V.string,"aria-labelledby":V.string,autoHeight:V.bool,autoPageSize:V.bool,autosizeOnMount:V.bool,autosizeOptions:V.shape({columns:V.arrayOf(V.string),expand:V.bool,includeHeaders:V.bool,includeOutliers:V.bool,outliersFactor:V.number}),cellModesModel:V.object,checkboxSelection:V.bool,classes:V.object,clipboardCopyCellDelimiter:V.string,columnBufferPx:V.number,columnGroupHeaderHeight:V.number,columnGroupingModel:V.arrayOf(V.object),columnHeaderHeight:V.number,columns:V.arrayOf(V.object).isRequired,columnVisibilityModel:V.object,density:V.oneOf(["comfortable","compact","standard"]),disableAutosize:V.bool,disableColumnFilter:V.bool,disableColumnMenu:V.bool,disableColumnResize:V.bool,disableColumnSelector:V.bool,disableColumnSorting:V.bool,disableDensitySelector:V.bool,disableEval:V.bool,disableMultipleRowSelection:V.bool,disableRowSelectionOnClick:V.bool,disableVirtualization:V.bool,editMode:V.oneOf(["cell","row"]),estimatedRowCount:V.number,experimentalFeatures:V.shape({warnIfFocusStateIsNotSynced:V.bool}),filterDebounceMs:V.number,filterMode:V.oneOf(["client","server"]),filterModel:V.shape({items:V.arrayOf(V.shape({field:V.string.isRequired,id:V.oneOfType([V.number,V.string]),operator:V.string.isRequired,value:V.any})).isRequired,logicOperator:V.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:V.bool,quickFilterLogicOperator:V.oneOf(["and","or"]),quickFilterValues:V.array}),forwardedProps:V.object,getCellClassName:V.func,getDetailPanelContent:V.func,getEstimatedRowHeight:V.func,getRowClassName:V.func,getRowHeight:V.func,getRowId:V.func,getRowSpacing:V.func,hideFooter:V.bool,hideFooterPagination:V.bool,hideFooterSelectedRowCount:V.bool,ignoreDiacritics:V.bool,ignoreValueFormatterDuringExport:V.oneOfType([V.shape({clipboardExport:V.bool,csvExport:V.bool}),V.bool]),indeterminateCheckboxAction:V.oneOf(["deselect","select"]),initialState:V.object,isCellEditable:V.func,isRowSelectable:V.func,keepNonExistentRowsSelected:V.bool,loading:V.bool,localeText:V.object,logger:V.shape({debug:V.func.isRequired,error:V.func.isRequired,info:V.func.isRequired,warn:V.func.isRequired}),logLevel:V.oneOf(["debug","error","info","warn",!1]),nonce:V.string,onCellClick:V.func,onCellDoubleClick:V.func,onCellEditStart:V.func,onCellEditStop:V.func,onCellKeyDown:V.func,onCellModesModelChange:V.func,onClipboardCopy:V.func,onColumnHeaderClick:V.func,onColumnHeaderDoubleClick:V.func,onColumnHeaderEnter:V.func,onColumnHeaderLeave:V.func,onColumnHeaderOut:V.func,onColumnHeaderOver:V.func,onColumnOrderChange:V.func,onColumnResize:V.func,onColumnVisibilityModelChange:V.func,onColumnWidthChange:V.func,onDensityChange:V.func,onFilterModelChange:V.func,onMenuClose:V.func,onMenuOpen:V.func,onPaginationMetaChange:V.func,onPaginationModelChange:V.func,onPreferencePanelClose:V.func,onPreferencePanelOpen:V.func,onProcessRowUpdateError:V.func,onResize:V.func,onRowClick:V.func,onRowCountChange:V.func,onRowDoubleClick:V.func,onRowEditStart:V.func,onRowEditStop:V.func,onRowModesModelChange:V.func,onRowSelectionModelChange:V.func,onSortModelChange:V.func,onStateChange:V.func,pageSizeOptions:V.arrayOf(V.oneOfType([V.number,V.shape({label:V.string.isRequired,value:V.number.isRequired})]).isRequired),pagination:V.oneOf([!0]),paginationMeta:V.shape({hasNextPage:V.bool}),paginationMode:V.oneOf(["client","server"]),paginationModel:V.shape({page:V.number.isRequired,pageSize:V.number.isRequired}),processRowUpdate:V.func,resizeThrottleMs:V.number,rowBufferPx:V.number,rowCount:V.number,rowHeight:V.number,rowModesModel:V.object,rowPositionsDebounceMs:V.number,rows:V.arrayOf(V.object),rowSelection:V.bool,rowSelectionModel:V.oneOfType([V.arrayOf(V.oneOfType([V.number,V.string]).isRequired),V.number,V.string]),rowSpacingType:V.oneOf(["border","margin"]),scrollbarSize:V.number,showCellVerticalBorder:V.bool,showColumnVerticalBorder:V.bool,slotProps:V.object,slots:V.object,sortingMode:V.oneOf(["client","server"]),sortingOrder:V.arrayOf(V.oneOf(["asc","desc"])),sortModel:V.arrayOf(V.shape({field:V.string.isRequired,sort:V.oneOf(["asc","desc"])})),sx:V.oneOfType([V.arrayOf(V.oneOfType([V.func,V.object,V.bool])),V.func,V.object]),unstable_rowSpanning:V.bool};/**
 * @mui/x-data-grid v7.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const AS=Object.freeze(Object.defineProperty({__proto__:null,COMFORTABLE_DENSITY_FACTOR:zi,COMPACT_DENSITY_FACTOR:ji,DATA_GRID_PROPS_DEFAULT_VALUES:No,DEFAULT_GRID_AUTOSIZE_OPTIONS:bc,DEFAULT_GRID_COL_TYPE_KEY:Ja,DataGrid:$S,EMPTY_PINNED_COLUMN_FIELDS:Ro,EMPTY_RENDER_CONTEXT:Fl,GRID_ACTIONS_COLUMN_TYPE:Jn,GRID_ACTIONS_COL_DEF:ra,GRID_BOOLEAN_COL_DEF:fl,GRID_CHECKBOX_SELECTION_COL_DEF:cn,GRID_CHECKBOX_SELECTION_FIELD:Ht,GRID_COLUMN_MENU_SLOTS:du,GRID_COLUMN_MENU_SLOT_PROPS:fu,GRID_DATETIME_COL_DEF:Na,GRID_DATE_COL_DEF:Va,GRID_DEFAULT_LOCALE_TEXT:_i,GRID_EXPERIMENTAL_ENABLED:qf,GRID_NUMERIC_COL_DEF:Wa,GRID_ROOT_GROUP_ID:et,GRID_SINGLE_SELECT_COL_DEF:Qa,GRID_STRING_COL_DEF:Ct,GridActionsCell:na,GridActionsCellItem:cp,GridAddIcon:jr,GridApiContext:tl,GridArrowDownwardIcon:Gr,GridArrowUpwardIcon:Lr,GridBody:Sc,GridBooleanCell:fa,GridCell:Ec,GridCellCheckboxForwardRef:ba,GridCellCheckboxRenderer:wa,GridCellEditStartReasons:Ft,GridCellEditStopReasons:mt,GridCellModes:xe,GridCheckCircleIcon:Jp,GridCheckIcon:Qc,GridClearIcon:tu,GridCloseIcon:_o,GridColumnHeaderFilterIconButton:Ac,GridColumnHeaderItem:Gc,GridColumnHeaderMenu:Oc,GridColumnHeaderSeparator:_c,GridColumnHeaderSeparatorSides:fr,GridColumnHeaderSortIcon:$c,GridColumnHeaderTitle:Hc,GridColumnHeaders:Bu,GridColumnIcon:Vc,GridColumnMenu:mu,GridColumnMenuColumnsItem:au,GridColumnMenuContainer:lu,GridColumnMenuFilterItem:cu,GridColumnMenuHideItem:su,GridColumnMenuManageItem:iu,GridColumnMenuSortItem:uu,GridColumnsManagement:Ol,GridColumnsPanel:hu,GridContextProvider:Ru,GridCsvExportMenuItem:Mu,GridDeleteForeverIcon:nu,GridDeleteIcon:Zp,GridDragIcon:zr,GridEditBooleanCell:ma,GridEditDateCell:$a,GridEditInputCell:Ui,GridEditModes:vt,GridEditSingleSelectCell:qa,GridExpandMoreIcon:$r,GridFilterAltIcon:Ar,GridFilterForm:Vr,GridFilterInputBoolean:pa,GridFilterInputDate:Jt,GridFilterInputMultipleSingleSelect:Xa,GridFilterInputMultipleValue:al,GridFilterInputSingleSelect:Tr,GridFilterInputValue:ct,GridFilterListIcon:jc,GridFilterPanel:Su,GridFooter:Du,GridFooterContainer:Dc,GridFooterPlaceholder:yc,GridGenericColumnMenu:gu,GridHeader:Tu,GridHeaderCheckbox:Ra,GridKeyboardArrowRight:Rr,GridLoadIcon:Xc,GridLoadingOverlay:Ou,GridLogicOperator:Ze,GridMenu:Qn,GridMenuIcon:Qp,GridMoreVertIcon:Jc,GridNoRowsOverlay:Hu,GridOverlay:dr,GridOverlays:gc,GridPagination:_u,GridPanel:Cu,GridPanelContent:bu,GridPanelFooter:wu,GridPanelHeader:kC,GridPanelWrapper:Tl,GridPinnedColumnPosition:Me,GridPreferencePanelsValue:bt,GridPrintExportMenuItem:Pu,GridRemoveIcon:Kc,GridRoot:kc,GridRow:Gu,GridRowCount:Lu,GridRowEditStartReasons:Ot,GridRowEditStopReasons:St,GridRowModes:ke,GridSaveAltIcon:Yc,GridSearchIcon:zc,GridSelectedRowCount:ku,GridSeparatorIcon:Nc,GridSignature:ht,GridSkeletonCell:Fc,GridTableRowsIcon:Uc,GridToolbar:JC,GridToolbarColumnsButton:yu,GridToolbarContainer:Tc,GridToolbarDensitySelector:xu,GridToolbarExport:Eu,GridToolbarExportContainer:Iu,GridToolbarFilterButton:vu,GridToolbarQuickFilter:Fu,GridTripleDotsVerticalIcon:qc,GridViewColumnIcon:eu,GridViewHeadlineIcon:Bc,GridViewStreamIcon:Wc,GridVisibilityOffIcon:Zc,checkGridRowIdIsValid:aa,createUseGridApiEventHandler:Li,getDataGridUtilityClass:ue,getDefaultGridFilterModel:In,getGridBooleanOperators:Ca,getGridDateOperators:vl,getGridDefaultColumnTypes:Za,getGridNumericOperators:Ua,getGridNumericQuickFilterFn:Ba,getGridSingleSelectOperators:Ya,getGridStringOperators:ta,getGridStringQuickFilterFn:ea,gridClasses:k,gridColumnDefinitionsSelector:pt,gridColumnFieldsSelector:kt,gridColumnGroupingSelector:ro,gridColumnGroupsHeaderMaxDepthSelector:_n,gridColumnGroupsHeaderStructureSelector:oc,gridColumnGroupsLookupSelector:Pl,gridColumnGroupsUnwrappedModelSelector:Ml,gridColumnLookupSelector:Pt,gridColumnMenuSelector:zn,gridColumnPositionsSelector:Rt,gridColumnResizeSelector:Cc,gridColumnVisibilityModelSelector:ut,gridColumnsStateSelector:xt,gridColumnsTotalWidthSelector:Jo,gridDataRowIdsSelector:An,gridDateComparator:sl,gridDateFormatter:ja,gridDateTimeFormatter:za,gridDensityFactorSelector:Tn,gridDensitySelector:zt,gridDimensionsSelector:nt,gridEditRowsStateSelector:Xe,gridExpandedRowCountSelector:rr,gridExpandedSortedRowEntriesSelector:$t,gridExpandedSortedRowIdsSelector:tn,gridFilterActiveItemsLookupSelector:ka,gridFilterActiveItemsSelector:wl,gridFilterModelSelector:We,gridFilterableColumnDefinitionsSelector:ol,gridFilterableColumnLookupSelector:Ni,gridFilteredDescendantCountLookupSelector:fm,gridFilteredDescendantRowCountSelector:gm,gridFilteredRowCountSelector:Fa,gridFilteredRowsLookupSelector:hl,gridFilteredSortedRowEntriesSelector:pl,gridFilteredSortedRowIdsSelector:Cl,gridFilteredSortedTopLevelRowEntriesSelector:bl,gridFilteredTopLevelRowCountSelector:lr,gridFocusCellSelector:st,gridFocusColumnGroupHeaderSelector:Un,gridFocusColumnHeaderFilterSelector:um,gridFocusColumnHeaderSelector:Sa,gridFocusStateSelector:to,gridHasColSpanSelector:Bi,gridHeaderFilteringEditFieldSelector:tc,gridHeaderFilteringEnabledSelector:ec,gridHeaderFilteringMenuSelector:nc,gridHeaderFilteringStateSelector:ir,gridNumberComparator:ll,gridPageCountSelector:yl,gridPageSelector:_a,gridPageSizeSelector:La,gridPaginatedVisibleSortedGridRowEntriesSelector:Ga,gridPaginatedVisibleSortedGridRowIdsSelector:xl,gridPaginationMetaSelector:xn,gridPaginationModelSelector:Je,gridPaginationRowCountSelector:Zt,gridPaginationRowRangeSelector:sr,gridPaginationSelector:oo,gridPanelClasses:pu,gridPinnedColumnsSelector:Vi,gridPreferencePanelStateSelector:Wt,gridQuickFilterValuesSelector:Pa,gridRenderContextColumnsSelector:ic,gridRenderContextSelector:so,gridResizingColumnFieldSelector:Hh,gridRowCountSelector:Zn,gridRowGroupingNameSelector:ia,gridRowMaximumTreeDepthSelector:eo,gridRowSelectionStateSelector:it,gridRowTreeDepthsSelector:Dr,gridRowTreeSelector:rt,gridRowsDataRowIdToIdLookupSelector:Bn,gridRowsLoadingSelector:la,gridRowsLookupSelector:_t,gridRowsMetaSelector:un,gridSortColumnLookupSelector:Ma,gridSortModelSelector:at,gridSortedRowEntriesSelector:nr,gridSortedRowIdsSelector:tr,gridStringOrNumberComparator:Ki,gridTabIndexCellSelector:er,gridTabIndexColumnGroupHeaderSelector:ya,gridTabIndexColumnHeaderFilterSelector:dm,gridTabIndexColumnHeaderSelector:ml,gridTabIndexStateSelector:no,gridTopLevelRowCountSelector:sa,gridVirtualizationColumnEnabledSelector:ar,gridVirtualizationEnabledSelector:Km,gridVirtualizationRowEnabledSelector:sc,gridVirtualizationSelector:lo,gridVisibleColumnDefinitionsSelector:Ne,gridVisibleColumnFieldsSelector:sn,gridVisiblePinnedColumnDefinitionsSelector:On,gridVisibleRowsLookupSelector:Ea,isAutogeneratedRow:Qg,isLeaf:cl,renderActionsCell:oa,renderBooleanCell:ga,renderEditBooleanCell:ha,renderEditDateCell:Il,renderEditInputCell:Wi,renderEditSingleSelectCell:Ka,selectedGridRowsCountSelector:xa,selectedGridRowsSelector:va,selectedIdsLookupSelector:Pn,unstable_resetCleanupTracking:Qf,useFirstRender:Hn,useGridApiContext:ie,useGridApiEventHandler:ee,useGridApiMethod:ce,useGridApiOptionHandler:De,useGridApiRef:Rf,useGridLogger:Ue,useGridNativeEventListener:Sl,useGridRootProps:Z,useGridSelector:U,useGridVirtualization:cc,useOnMount:Yn,useRunOnce:Da,virtualizationStateInitializer:ac},Symbol.toStringTag,{value:"Module"})),jS=Uo(AS);var zS=Y&&Y.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),VS=Y&&Y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NS=Y&&Y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&zS(t,e,n);return VS(t,e),t},BS=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});el.default=XS;const Tt=NS(i),US=It,ai=jS,Pr=Dt,ci=rn(),WS=BS(Fn),qS=qt,KS=(0,US.makeStyles)()(e=>({margin:{marginBottom:e.spacing(4)},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}));function XS({value:e,prefix:t,name:n}){const{classes:r}=KS(),[o,l]=(0,Tt.useState)(!1),s=Object.keys(e[0]).sort(),a=new Set(s),c=Object.entries(e).map(([f,g])=>{const{id:m,...C}=g;return{id:f,identifier:m,...C}});for(const f of e)for(const g of Object.keys(f))a.add(g);let u;a.has("id")?(a.delete("id"),u=["identifier",...a]):u=[...a];const d=u.map(f=>(0,ci.measureGridWidth)(c.map(g=>g[f])));return a.size<s.length+5?Tt.default.createElement("div",{className:r.margin},Tt.default.createElement(WS.default,{prefix:t,name:n}),Tt.default.createElement(Pr.FormControlLabel,{control:Tt.default.createElement(Pr.Checkbox,{checked:o,onChange:f=>{l(f.target.checked)}}),label:Tt.default.createElement(Pr.Typography,{variant:"body2"},"Show options")}),Tt.default.createElement(ai.DataGrid,{autoHeight:!0,disableRowSelectionOnClick:!0,rows:c,rowHeight:20,columnHeaderHeight:35,hideFooter:c.length<25,slots:{toolbar:o?ai.GridToolbar:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}},columns:u.map((f,g)=>({field:f,renderCell:m=>{const C=m.value;return Tt.default.createElement("div",{className:r.cell},Tt.default.createElement(qS.SanitizedHTML,{html:(0,ci.getStr)(C||"")}))},width:d[g]}))})):null}var To={},ui;function YS(){if(ui)return To;ui=1;var e=Y&&Y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(To,"__esModule",{value:!0}),To.default=c;const t=e(i),n=e(Wo),r=It,o=e(qr()),l=e(Fn),s=e(Xn),a=(0,r.makeStyles)()(u=>({field:{display:"flex",flexWrap:"wrap"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:u.spacing(.5),border:`1px solid ${u.palette.action.selected}`,boxSizing:"border-box",overflow:"auto"}}));function c({name:u,value:d,description:f,prefix:g=[]}){const{classes:m}=a();return d.length===1?(0,n.default)(d[0])?t.default.createElement(o.default,{attributes:d[0],prefix:[...g,u]}):t.default.createElement("div",{className:m.field},t.default.createElement(l.default,{prefix:g,description:f,name:u}),t.default.createElement(s.default,{value:d[0]})):d.every(C=>(0,n.default)(C))?t.default.createElement(t.default.Fragment,null,d.map((C,b)=>t.default.createElement(o.default,{key:`${JSON.stringify(C)}-${b}`,attributes:C,prefix:[...g,`${u}-${b}`]}))):t.default.createElement("div",{className:m.field},t.default.createElement(l.default,{prefix:g,description:f,name:u}),d.map((C,b)=>t.default.createElement("div",{key:`${JSON.stringify(C)}-${b}`,className:m.fieldSubvalue},t.default.createElement(s.default,{value:C}))))}return To}var Al={},jl=Y&&Y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});Al.default=ty;const Er=jl(i),QS=jl(Fn),JS=It,ZS=jl(Xn),ey=(0,JS.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function ty({value:e,prefix:t,name:n}){const{classes:r}=ey(),{uri:o,baseUri:l=""}=e;let s;try{s=new URL(o,l).href}catch{s=o}return Er.default.createElement("div",{className:r.field},Er.default.createElement(QS.default,{prefix:t,name:n}),Er.default.createElement(ZS.default,{value:s}))}var di;function qr(){if(di)return Fo;di=1;var e=Y&&Y.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.default=f;const t=e(i),n=e(Wo),r=ln,o=rn(),l=e(el),s=e(YS()),a=e(Al),c=e(Qo),u=170,d=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"];function f(g){const{attributes:m,omit:C=[],omitSingleLevel:b=[],descriptions:p,formatter:S=y=>y,hideUris:x,prefix:D=[]}=g,E=new Set([...C,...d,...b]),{__jbrowsefmt:H,...G}=m,A={...G,...H},F=(0,r.generateMaxWidth)(Object.entries(A).filter(([y,_])=>_!==void 0&&!E.has(y)),D);return t.default.createElement(t.default.Fragment,null,Object.entries(A).filter(([y,_])=>_!==void 0&&!E.has(y)).map(([y,_])=>{const $=(0,r.accessNested)([...D,y],p);if(Array.isArray(_))return _.length>1&&_.every(O=>(0,n.default)(O))?t.default.createElement(l.default,{key:y,name:y,prefix:D,value:_}):t.default.createElement(s.default,{key:y,name:y,value:_,description:$,prefix:D});if((0,n.default)(_)){const{omitSingleLevel:O,...P}=g;return(0,o.isUriLocation)(_)?x?null:t.default.createElement(a.default,{key:y,name:y,prefix:D,value:_}):t.default.createElement(f,{key:y,...P,attributes:_,descriptions:p,prefix:[...D,y]})}else return t.default.createElement(c.default,{key:y,name:y,value:S(_,y),description:$,prefix:D,width:Math.min(F,u)})}))}return Fo}(function(e){var t=Y&&Y.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(e,"__esModule",{value:!0}),e.Attributes=e.BaseAttributes=e.BaseCoreDetails=void 0,e.BaseCard=p,e.FeatureDetails=H;const n=t(i),r=kd,o=Dt,l=It,s=dt,a=t(Ko),c=rn(),u=qt,d=t(xi),f=t(Qo),g=t(qr()),m=ln,C=["name","start","end","strand","refName","description","type"],b=(0,l.makeStyles)()(F=>({expansionPanelDetails:{display:"block",padding:F.spacing(1)},icon:{color:F.palette.tertiary.contrastText||"#fff"}}));function p({children:F,title:y,defaultExpanded:_=!0}){const{classes:$}=b();return n.default.createElement(o.Accordion,{defaultExpanded:_},n.default.createElement(o.AccordionSummary,{expandIcon:n.default.createElement(a.default,{className:$.icon})},n.default.createElement(o.Typography,{variant:"button"},y)),n.default.createElement(o.AccordionDetails,{className:$.expansionPanelDetails},F))}function S(F){const{feature:y}=F,_=y.strand,$={"-1":"-",0:"",1:"+"},O=$[_]?`(${$[_]})`:"",P=(0,c.assembleLocString)(y);return n.default.createElement(n.default.Fragment,null,`${P} ${O}`)}function x(F){const{feature:y}=F,_=y,$={..._,..._.__jbrowsefmt},{start:O,end:P}=$,L={...$,length:(0,c.toLocale)(P-O)},I={description:"Description",name:"Name",length:"Length",type:"Type"};return n.default.createElement(n.default.Fragment,null,n.default.createElement(f.default,{name:"Position",value:n.default.createElement(S,{...F,feature:$})}),Object.entries(I).map(([M,w])=>[w,L[M]]).filter(([,M])=>M!=null).map(([M,w])=>n.default.createElement(f.default,{key:M,name:M,value:w})))}const D=F=>{const{title:y="Primary data"}=F;return n.default.createElement(p,{...F,title:y},n.default.createElement(x,{...F}))};e.BaseCoreDetails=D;const E=F=>{const{feature:y}=F;return n.default.createElement(p,{...F,title:"Attributes"},n.default.createElement(g.default,{...F,attributes:y}))};e.BaseAttributes=E;function H(F){const{omit:y=[],model:_,feature:$,depth:O=0}=F,{maxDepth:P}=_,{mate:L,name:I="",id:M="",type:w="",subfeatures:j,uniqueId:T}=$,R=(0,c.getEnv)(_).pluginManager,z=(0,c.getSession)(_),N=R.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:z,feature:$,model:_}),B=L;return n.default.createElement(p,{title:(0,m.generateTitle)(I,M,w)},n.default.createElement(o.Typography,null,"Core details"),n.default.createElement(x,{...F}),B?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Divider,null),n.default.createElement(o.Typography,null,"Mate details"),n.default.createElement(x,{...F,feature:{...B,start:B.start,end:B.end,refName:B.refName,uniqueId:`${T}-mate`}})):null,n.default.createElement(o.Divider,null),n.default.createElement(o.Typography,null,"Attributes"),n.default.createElement(g.default,{attributes:$,...F,omit:y,omitSingleLevel:C}),n.default.createElement(r.ErrorBoundary,{FallbackComponent:W=>n.default.createElement(u.ErrorMessage,{error:W.error})},n.default.createElement(d.default,{...F})),N?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.Divider,null),n.default.createElement(p,{title:N.name},n.default.createElement(N.Component,{...F}))):null,O<P&&(j!=null&&j.length)?n.default.createElement(p,{title:"Subfeatures",defaultExpanded:O<1},j.map((W,X)=>n.default.createElement(H,{key:JSON.stringify(W),feature:{...W,uniqueId:`${T}_${X}`},model:_,depth:O+1}))):null)}const G=(0,s.observer)(function({model:F}){const{error:y,featureData:_}=F;if(y)return n.default.createElement(u.ErrorMessage,{error:y});if(!_)return null;const $=JSON.parse(JSON.stringify(_,(O,P)=>P===void 0?null:P));return(0,m.isEmpty)($)?null:n.default.createElement(H,{model:F,feature:$})});e.default=G;var A=qr();Object.defineProperty(e,"Attributes",{enumerable:!0,get:function(){return t(A).default}})})(Gd);var ny=gi();const oy=fi(ny),ry=Dd()({textAreaFont:{fontFamily:"Courier New",wordWrap:"break-word"},dialogContent:{background:"lightgrey",margin:4,minWidth:"80em"}});function iy({str:e}){const{classes:t}=ry(),[n,r]=i.useState(!1),[o,l]=i.useState(!1),[s,a]=i.useState(!1),c=e.map(([u,d])=>[u,o?d:d.replaceAll("-","")]).filter(u=>s?!0:!!u[1]).map(([u,d])=>`>${u}
${o?d:d.replaceAll("-","")}`).join(`
`);return fn.createElement(fn.Fragment,null,fn.createElement(bi,{color:"primary",variant:"contained",onClick:()=>{oy(c),r(!0),setTimeout(()=>{r(!1)},500)}},n?"Copied!":"Copy to clipboard"),fn.createElement(Wl,{label:"Show gaps",checked:o,onChange:()=>{l(!o)}}),fn.createElement(Wl,{label:"Show empty",checked:s,onChange:()=>{a(!s)}}),fn.createElement(Yr,{variant:"outlined",multiline:!0,className:t.dialogContent,minRows:5,maxRows:10,fullWidth:!0,value:c,InputProps:{readOnly:!0,classes:{input:t.textAreaFont}}}))}export{Gd as B,iy as S};
//# sourceMappingURL=SequenceTextArea-cHE622NT.js.map
