import{t as Ws,v as vu,x as Iu,y as v,j as i,u as Zt,z as Mu,A as X,E as Pt,e as Bt,G as xt,H as ct,I as qs,J as Pu,K as Eu,N as Ks,O as Fu,P as ku,Q as $o,U as Du,V as Xs,W as vn,X as Ro,Y as Ge,Z as Ys,$ as h,a0 as ne,a1 as Ke,a2 as fe,a3 as In,a4 as Pe,a5 as Qs,a6 as jr,a7 as me,a8 as Js,a9 as Tu,aa as Zs,k as en,ab as Ao,ac as Ht,ad as Ou,ae as we,af as _e,ag as _u,ah as Xt,ai as Mn,M as wt,aj as jt,ak as Hu,al as pn,am as _l,an as Lu,ao as Gu,ap as $u,aq as zr,ar as Ee,as as Ru,at as Cn,au as Au,i as Hl,f as Vr,av as ei,aw as ju,ax as zu,ay as Vu,az as Nu,aA as Ll,aB as jn,aC as Bu,C as Uu,l as Wu,aD as qu,B as ti,aE as Ku,aF as Xu,aG as Yu,aH as Qu,aI as Ju,aJ as Zu,aK as ed,aL as td,m as nd,R as an}from"./index-CnEf-1_v.js";import{C as Gl}from"./Checkbox2-B5BmYDrb.js";var ni={exports:{}},od="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rd=od,ld=rd;function oi(){}function ri(){}ri.resetWarningCache=oi;var sd=function(){function e(o,r,l,s,a,c){if(c!==ld){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ri,resetWarningCache:oi};return n.PropTypes=n,n};ni.exports=sd();var id=ni.exports;const V=Ws(id);var ad={},jo={},cd=Iu;Object.defineProperty(jo,"__esModule",{value:!0});jo.default=void 0;var ud=cd(vu()),dd=v;jo.default=(0,ud.default)((0,dd.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var li={},Nr={},so={},io={},$l;function si(){if($l)return io;$l=1,Object.defineProperty(io,"__esModule",{value:!0}),io.useFeatureSequence=r;const e=i,t=Zt,n=Mu,o=5e5;function r(l,s,a,c){const[d,f]=(0,e.useState)(),[u,g]=(0,e.useState)();return(0,e.useEffect)(()=>{var m;if(!l)return;const{assemblyManager:p,rpcManager:b}=(0,t.getSession)(l),[C]=((m=l.view)===null||m===void 0?void 0:m.assemblyNames)||[];async function w(x,L,T){const O=await p.waitForAssembly(C);if(!O)throw new Error("assembly not found");const A="getSequence",H=await b.call(A,"CoreGetFeatures",{adapterConfig:(0,n.getConf)(O,["sequence","adapter"]),sessionId:A,regions:[{start:x,end:L,refName:O.getCanonicalRefName(T),assemblyName:C}]}),[F]=H;return(F==null?void 0:F.get("seq"))||""}(async()=>{try{g(void 0);const{start:x,end:L,refName:T}=s;if(!c&&L-x>o)f({error:`Genomic sequence larger than ${o}bp, use "force load" button to display`});else{const O=x-a,A=L+a,H=await w(x,L,T),F=await w(Math.max(0,O),x,T),E=await w(L,A,T);f({seq:H,upstream:F,downstream:E})}}catch(x){console.error(x),g(x)}})()},[s,l,a,c]),{sequence:d,error:u}}return io}var ao={},co={},Rl;function fd(){if(Rl)return co;Rl=1;var e=X&&X.__createBinding||(Object.create?function(g,m,p,b){b===void 0&&(b=p);var C=Object.getOwnPropertyDescriptor(m,p);(!C||("get"in C?!m.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(g,b,C)}:function(g,m,p,b){b===void 0&&(b=p),g[b]=m[p]}),t=X&&X.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),n=X&&X.__importStar||function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var p in g)p!=="default"&&Object.prototype.hasOwnProperty.call(g,p)&&e(m,g,p);return t(m,g),m};Object.defineProperty(co,"__esModule",{value:!0});const o=n(i),r=Pt,l=Bt,s=xt,a=ct,c=(0,s.makeStyles)()(g=>({formElt:{margin:g.spacing(3),width:400},dialogContent:{width:"80em"},root:{padding:4}}));function d(g){return o.default.createElement("div",null,o.default.createElement(r.TextField,{...g}))}function f({children:g}){return o.default.createElement("div",null,o.default.createElement(r.FormControl,null,g))}const u=(0,a.observer)(function({handleClose:g,model:m}){const{classes:p}=c(),{upperCaseCDS:b}=m,[C,w]=(0,o.useState)(`${m.intronBp}`),[x,L]=(0,o.useState)(`${m.upDownBp}`),T=!Number.isNaN(+C),O=!Number.isNaN(+x);return o.default.createElement(l.Dialog,{maxWidth:"xl",open:!0,onClose:()=>g(),title:"Feature sequence settings"},o.default.createElement(r.DialogContent,{className:p.dialogContent},o.default.createElement(d,{label:"Number of intronic bases around splice site to display",className:p.formElt,value:C,helperText:T?"":"Not a number",error:!T,onChange:A=>w(A.target.value)}),o.default.createElement(d,{label:"Number of bases up/down stream of feature to display",className:p.formElt,value:x,helperText:O?"":"Not a number",error:!O,onChange:A=>L(A.target.value)}),o.default.createElement(f,null,o.default.createElement(r.FormLabel,null,"Sequence capitalization"),o.default.createElement(r.RadioGroup,{value:b?"cds":"unchanged",onChange:A=>m.setUpperCaseCDS(A.target.value==="cds")},o.default.createElement(r.FormControlLabel,{value:"cds",control:o.default.createElement(r.Radio,{className:p.root,size:"small"}),label:"Capitalize CDS and lower case everything else"}),o.default.createElement(r.FormControlLabel,{value:"unchanged",control:o.default.createElement(r.Radio,{className:p.root,size:"small"}),label:"Capitalization from reference genome sequence"})))),o.default.createElement(r.DialogActions,null,o.default.createElement(r.Button,{onClick:()=>{m.setIntronBp(+C),m.setUpDownBp(+x),g()},disabled:!T||!O,color:"primary",variant:"contained"},"Submit"),o.default.createElement(r.Button,{onClick:()=>g(),color:"secondary",autoFocus:!0,variant:"contained"},"Cancel")))});return co.default=u,co}var Al;function ii(){if(Al)return ao;Al=1;var e=X&&X.__createBinding||(Object.create?function(m,p,b,C){C===void 0&&(C=b);var w=Object.getOwnPropertyDescriptor(p,b);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(m,C,w)}:function(m,p,b,C){C===void 0&&(C=b),m[C]=p[b]}),t=X&&X.__setModuleDefault||(Object.create?function(m,p){Object.defineProperty(m,"default",{enumerable:!0,value:p})}:function(m,p){m.default=p}),n=X&&X.__importStar||function(m){if(m&&m.__esModule)return m;var p={};if(m!=null)for(var b in m)b!=="default"&&Object.prototype.hasOwnProperty.call(m,b)&&e(p,m,b);return t(p,m),p},o=X&&X.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ao,"__esModule",{value:!0});const r=n(i),l=ct,s=o(qs()),a=Fu,c=o(Pu),d=o(Eu),f=o(Ks),u=(0,r.lazy)(()=>Promise.resolve().then(()=>n(fd()))),g=(0,l.observer)(r.default.forwardRef(function({model:p,extraItems:b=[]},C){if(typeof C=="function")throw new Error("needs a non function ref");const[w,x]=(0,r.useState)(!1),{showCoordinatesSetting:L,showGenomicCoordsOption:T}=p;return r.default.createElement(r.default.Fragment,null,r.default.createElement(c.default,{menuItems:[{label:"Copy plaintext",onClick:()=>{const O=C==null?void 0:C.current;O&&(0,s.default)(O.textContent||"",{format:"text/plain"})}},{label:"Copy HTML",onClick:()=>{const O=C==null?void 0:C.current;O&&(0,s.default)(O.outerHTML,{format:"text/html"})}},{label:"Download plaintext",onClick:()=>{const O=C==null?void 0:C.current;O&&(0,a.saveAs)(new Blob([O.textContent||""],{type:"text/plain;charset=utf-8"}),"sequence.txt")}},{label:"Download HTML",onClick:()=>{const O=C==null?void 0:C.current;O&&(0,a.saveAs)(new Blob([O.outerHTML||""],{type:"text/html;charset=utf-8"}),"sequence.html")}},...b,{label:"Show coordinates?",type:"subMenu",subMenu:[{label:"No coordinates",type:"radio",checked:L==="none",onClick:()=>p.setShowCoordinates("none")},{label:"Coordinates relative to feature start",type:"radio",checked:L==="relative",onClick:()=>p.setShowCoordinates("relative")},...T?[{label:"Coordinates relative to genome (only available for continuous genome based sequence types)",type:"radio",checked:L==="genomic",onClick:()=>p.setShowCoordinates("genomic")}]:[]]},{label:"Settings",icon:f.default,onClick:()=>x(!0)}]},r.default.createElement(d.default,null)),w?r.default.createElement(u,{model:p,handleClose:()=>x(!1)}):null)}));return ao.default=g,ao}var uo={},jl;function ai(){if(jl)return uo;jl=1;var e=X&&X.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(uo,"__esModule",{value:!0});const t=e(i),n=Pt,o=ct,l=(0,xt.makeStyles)()({formControl:{margin:0,marginLeft:4}}),s=(0,o.observer)(function({model:a}){const{classes:c}=l(),{intronBp:d,upDownBp:f,mode:u,hasCDS:g,hasExonOrCDS:m}=a;return t.default.createElement(n.FormControl,{className:c.formControl},t.default.createElement(n.Select,{size:"small",value:u,onChange:p=>a.setMode(p.target.value)},Object.entries({...g?{cds:"CDS"}:{},...g?{protein:"Protein"}:{},...m?{cdna:"cDNA"}:{},...m?{gene:"Genomic w/ full introns"}:{},...m?{gene_updownstream:`Genomic w/ full introns +/- ${f}bp up+down stream`}:{},...m?{gene_collapsed_intron:`Genomic w/ ${d}bp intron`}:{},...m?{gene_updownstream_collapsed_intron:`Genomic w/ ${d}bp intron +/- ${f}bp up+down stream `}:{},...m?{}:{genomic:"Genomic"},...m?{}:{genomic_sequence_updownstream:`Genomic +/- ${f}bp up+down stream`}}).map(([p,b])=>t.default.createElement(n.MenuItem,{key:p,value:p},b))))});return uo.default=s,uo}var fo={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.stitch=gd;vt.dedupe=md;vt.revlist=hd;vt.calculateUTRs=pd;vt.calculateUTRs2=bd;vt.ellipses=Cd;function gd(e,t){return e.map(n=>t.slice(n.start,n.end)).join("")}function zl(e){return`${e.start}-${e.end}`}function md(e){return e.filter((t,n,o)=>!n||zl(t)!==zl(o[n-1]))}function hd(e,t){return e.map(n=>({...n,start:t-n.end,end:t-n.start})).sort((n,o)=>n.start-o.start)}function pd(e,t){if(!e.length)return[];const n=e.at(0),o=e.at(-1),r=t.findIndex(f=>f.end>=n.start&&f.start<=n.start),l=t.findIndex(f=>f.end>=o.end&&f.start<=o.end),s=t[l],a=t[r],c=[...t.slice(0,r),{start:a.start,end:n.start}].map(f=>({...f,type:"five_prime_UTR"})),d=[{start:o.end,end:s.end},...t.slice(l+1)].map(f=>({...f,type:"three_prime_UTR"}));return[...c,...d]}function bd(e,t){if(!e.length)return[];const n=e.at(0),o=e.at(-1),r=[{start:t.start,end:n.start}].map(s=>({...s,type:"five_prime_UTR"})),l=[{start:o.end,end:t.end}].map(s=>({...s,type:"three_prime_UTR"}));return[...r,...l]}function Cd(e){return e.length>20?`${e.slice(0,20)}...`:e}var go={},Xe={},Vl;function zo(){if(Vl)return Xe;Vl=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.genomeColor=Xe.updownstreamColor=Xe.cdsColor=Xe.proteinColor=Xe.utrColor=Xe.intronColor=void 0,Xe.splitString=e,Xe.intronColor=void 0,Xe.utrColor="rgb(200,240,240)",Xe.proteinColor="rgb(220,160,220)",Xe.cdsColor="rgb(220,220,180)",Xe.updownstreamColor="rgba(250,200,200)",Xe.genomeColor="rgb(200,280,200)";function e({str:t,charactersPerRow:n,showCoordinates:o,currRemainder:r=0,splitSize:l=10}){var s;const a=Math.ceil(t.length/n),c=new Array(a);let d=r%10,f=0,u=0;for(;f<a+1;++f){const g=f===0?n-r:n,m=t.slice(u,u+g);if(!m)break;if(o){let p="";for(let b=0,C=d;b<m.length;b++,C++)C%l===0&&(p+=" ",C=0),p+=m[b];p&&(c[f]=p)}else c[f]=m;d=0,u+=g}return{segments:c,remainder:((((s=c.at(-1))===null||s===void 0?void 0:s.replaceAll(" ","").length)||0)+(f<2?r:0))%n}}return Xe}var mo={},Nl;function Vo(){if(Nl)return mo;Nl=1;var e=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mo,"__esModule",{value:!0});const t=e(i),o=(0,ct.observer)(function({chunks:r,start:l,color:s,strand:a=1,coordStart:c=l,model:d}){const{charactersPerRow:f,showCoordinates:u}=d;return r.map((g,m)=>{var p;const b=c-l%f,C=m==0&&l%f==0||m>0?`${b+m*a*f}`.padStart(4)+"   ":"",w=m===r.length-1&&(((p=r.at(-1))===null||p===void 0?void 0:p.replaceAll(" ","").length)||0)+(m===0?l%f:0)!==f?null:u?` 
`:"";return t.default.createElement(t.default.Fragment,{key:`${g}-${m}`},u?C:null,t.default.createElement("span",{style:{background:s}},g),w)})});return mo.default=o,mo}var Bl;function wd(){if(Bl)return go;Bl=1;var e=X&&X.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(go,"__esModule",{value:!0});const t=e(i),n=ct,o=zo(),r=e(Vo()),l=(0,n.observer)(function({utr:s,cds:a,exons:c,sequence:d,upstream:f,downstream:u,feature:g,includeIntrons:m,collapseIntron:p,model:b}){var C;const{upperCaseCDS:w,intronBp:x,charactersPerRow:L,showCoordinates:T,showCoordinatesSetting:O}=b,A=a.length>0,H=(a.length?[...a,...s].sort((D,G)=>D.start-G.start):c).filter(D=>D.start!==D.end),F=D=>w?D.toLowerCase():D,E=D=>w?D.toUpperCase():D,R=g.strand===-1?-1:1,$=O==="genomic"&&m&&!p,k=$?R:1;let M=$?R>0?g.start+1-((f==null?void 0:f.length)||0):g.end+((f==null?void 0:f.length)||0):0,y=0,I=0,P=null;if(f){const{segments:D,remainder:G}=(0,o.splitString)({str:F(f),charactersPerRow:L,showCoordinates:T});P=t.default.createElement(r.default,{model:b,color:o.updownstreamColor,strand:k,start:y,coordStart:M,chunks:D}),I=G,y=y+f.length*k,M=M+f.length*k}const S=[];for(let D=0;D<H.length;D++){const G=H[D],z=d.slice(G.end,(C=H[D+1])===null||C===void 0?void 0:C.start),N=d.slice(G.start,G.end),{segments:B,remainder:W}=(0,o.splitString)({str:A?G.type==="CDS"?E(N):F(N):E(N),charactersPerRow:L,currRemainder:I,showCoordinates:T});if(S.push(t.default.createElement(r.default,{key:JSON.stringify(G)+"-mid",model:b,color:G.type==="CDS"?o.cdsColor:o.utrColor,strand:k,start:y,coordStart:M,chunks:B})),I=W,y=y+N.length*k,M=M+N.length*k,z&&m&&D<H.length-1){const Q=F(p&&z.length>x*2?`${z.slice(0,x)}...${z.slice(-x)}`:z),{segments:q,remainder:Z}=(0,o.splitString)({str:Q,charactersPerRow:L,currRemainder:I,showCoordinates:T});q.length&&(S.push(t.default.createElement(r.default,{key:JSON.stringify(G)+"-intron",model:b,strand:k,coordStart:M,start:y,chunks:q})),I=Z,y=y+Q.length*k,M=M+Q.length*k)}}let j=null;if(u){const{segments:D}=(0,o.splitString)({str:F(u),charactersPerRow:L,currRemainder:I,showCoordinates:T});j=t.default.createElement(r.default,{start:y,model:b,strand:k,chunks:D,coordStart:M,color:o.updownstreamColor})}return t.default.createElement(t.default.Fragment,null,P,S,j)});return go.default=l,go}var ho={},Ul;function Sd(){if(Ul)return ho;Ul=1;var e=X&&X.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ho,"__esModule",{value:!0});const t=e(i),n=ct,o=vt,r=zo(),l=e(Vo()),s=(0,n.observer)(function({cds:a,sequence:c,codonTable:d,model:f}){const{charactersPerRow:u,showCoordinates:g}=f,m=(0,o.stitch)(a,c);let p="";for(let C=0;C<m.length;C+=3)p+=d[m.slice(C,C+3)]||"&";const{segments:b}=(0,r.splitString)({str:p,charactersPerRow:u,showCoordinates:g});return t.default.createElement(l.default,{model:f,color:r.proteinColor,chunks:b,start:0})});return ho.default=s,ho}var po={},Wl;function yd(){if(Wl)return po;Wl=1;var e=X&&X.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(po,"__esModule",{value:!0});const t=e(i),n=ct,o=zo(),r=e(Vo()),l=(0,n.observer)(function({sequence:s,upstream:a,feature:c,downstream:d,model:f}){const{charactersPerRow:u,showCoordinatesSetting:g,showCoordinates:m}=f;let p=0,b=null,C=0;const w=c.strand===-1?-1:1,x=g==="genomic",L=x?w:1;let T=x?w>0?c.start+1-((a==null?void 0:a.length)||0):c.end+((a==null?void 0:a.length)||0):0;if(a){const{segments:E,remainder:R}=(0,o.splitString)({str:a,charactersPerRow:u,showCoordinates:m});b=t.default.createElement(r.default,{model:f,color:o.updownstreamColor,start:p,coordStart:T,chunks:E}),C=R,p=p+a.length*L,T=T+a.length*L}const{segments:O,remainder:A}=(0,o.splitString)({str:s,charactersPerRow:u,showCoordinates:m,currRemainder:C}),H=t.default.createElement(r.default,{model:f,color:o.genomeColor,start:p,coordStart:T,chunks:O});C=A,p+=s.length*L,T=T+s.length*L;let F=null;if(d){const{segments:E}=(0,o.splitString)({str:d,charactersPerRow:u,currRemainder:C,showCoordinates:m});F=t.default.createElement(r.default,{start:p,model:f,chunks:E,coordStart:T,color:o.updownstreamColor})}return t.default.createElement(t.default.Fragment,null,b,H,F)});return po.default=l,po}var bo={},ql;function xd(){if(ql)return bo;ql=1;var e=X&&X.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(i),n=ct,o=zo(),r=vt,l=e(Vo()),s=(0,n.observer)(function({cds:a,sequence:c,model:d}){const{charactersPerRow:f,showCoordinates:u}=d,{segments:g}=(0,o.splitString)({str:(0,r.stitch)(a,c),charactersPerRow:f,showCoordinates:u});return t.default.createElement(l.default,{model:d,color:o.cdsColor,chunks:g,start:0})});return bo.default=s,bo}var Kl;function ci(){if(Kl)return fo;Kl=1;var e=X&&X.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(fo,"__esModule",{value:!0});const t=e(i),n=ct,o=Zt,r=vt,l=e(wd()),s=e(Sd()),a=e(yd()),c=e(xd());function d(m){return m===-1?"(-)":m===1?"(+)":""}function f({children:m}){return t.default.createElement("pre",{style:{fontFamily:"monospace",color:"black",fontSize:11}},m)}function u({children:m}){return t.default.createElement("div",{style:{fontFamily:"monospace",color:"black",fontSize:11,maxWidth:600,whiteSpace:"wrap",wordBreak:"break-all"}},m)}const g=(0,n.observer)(t.default.forwardRef(function(p,b){const{model:C,feature:w}=p,{showCoordinates:x,mode:L}=C;let{sequence:{seq:T,upstream:O="",downstream:A=""}}=p;const{subfeatures:H=[]}=w,F=H.sort((y,I)=>y.start-I.start).map(y=>({...y,start:y.start-w.start,end:y.end-w.start}));let E=(0,r.dedupe)(F.filter(y=>y.type==="CDS")),R=(0,r.dedupe)(F.filter(y=>{var I;return(I=y.type)===null||I===void 0?void 0:I.match(/utr/i)})),$=(0,r.dedupe)(F.filter(y=>y.type==="exon"));!R.length&&E.length&&$.length&&(R=(0,r.calculateUTRs)(E,$)),!R.length&&E.length&&!$.length&&(R=(0,r.calculateUTRs2)(E,{start:0,end:w.end-w.start,type:"gene"})),w.strand===-1&&([T,O,A]=[(0,o.revcom)(T),(0,o.revcom)(A),(0,o.revcom)(O)],E=(0,r.revlist)(E,T.length),$=(0,r.revlist)($,T.length),R=(0,r.revlist)(R,T.length));const k=(0,o.generateCodonTable)(o.defaultCodonTable),M=x?f:u;return t.default.createElement("div",{"data-testid":"sequence_panel",ref:b,style:{maxHeight:300,overflow:"auto"}},t.default.createElement(M,null,t.default.createElement("div",{style:{background:"white"}},`>${[(w.name||w.id)+"-"+L,`${w.refName}:${(0,o.toLocale)(w.start+1)}-${(0,o.toLocale)(w.end)}${d(w.strand)}`,L.endsWith("updownstream")?`+/- ${(0,o.toLocale)(C.upDownBp)} up/downstream bp`:""].filter(y=>!!y).join(" ")}
`),L==="genomic"?t.default.createElement(a.default,{feature:w,model:C,sequence:T}):L==="genomic_sequence_updownstream"?t.default.createElement(a.default,{model:C,feature:w,sequence:T,upstream:O,downstream:A}):L==="cds"?t.default.createElement(c.default,{model:C,cds:E,sequence:T}):L==="cdna"?t.default.createElement(l.default,{model:C,exons:$,feature:w,cds:E,utr:R,sequence:T}):L==="protein"?t.default.createElement(s.default,{model:C,cds:E,codonTable:k,sequence:T}):L==="gene"?t.default.createElement(l.default,{model:C,exons:$,feature:w,cds:E,utr:R,sequence:T,includeIntrons:!0}):L==="gene_collapsed_intron"?t.default.createElement(l.default,{model:C,exons:$,feature:w,cds:E,sequence:T,utr:R,includeIntrons:!0,collapseIntron:!0}):L==="gene_updownstream"?t.default.createElement(l.default,{model:C,exons:$,feature:w,cds:E,sequence:T,utr:R,upstream:O,downstream:A,includeIntrons:!0}):L==="gene_updownstream_collapsed_intron"?t.default.createElement(l.default,{model:C,exons:$,feature:w,cds:E,sequence:T,utr:R,upstream:O,downstream:A,includeIntrons:!0,collapseIntron:!0}):t.default.createElement("div",null,"Unknown type")))}));return fo.default=g,fo}var Co={},Xl;function vd(){if(Xl)return Co;Xl=1;var e=X&&X.__createBinding||(Object.create?function(b,C,w,x){x===void 0&&(x=w);var L=Object.getOwnPropertyDescriptor(C,w);(!L||("get"in L?!C.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return C[w]}}),Object.defineProperty(b,x,L)}:function(b,C,w,x){x===void 0&&(x=w),b[x]=C[w]}),t=X&&X.__setModuleDefault||(Object.create?function(b,C){Object.defineProperty(b,"default",{enumerable:!0,value:C})}:function(b,C){b.default=C}),n=X&&X.__importStar||function(b){if(b&&b.__esModule)return b;var C={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&e(C,b,w);return t(C,b),C},o=X&&X.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(Co,"__esModule",{value:!0});const r=n(i),l=Pt,s=Bt,a=xt,c=ct,d=si(),f=o(ci()),u=o(ii()),g=o(ai()),m=(0,a.makeStyles)()({dialogContent:{width:"80em"},formControl:{margin:0,marginLeft:4}}),p=(0,c.observer)(function({handleClose:b,model:C,feature:w}){const{sequenceFeatureDetails:x}=C,{upDownBp:L}=x,{classes:T}=m(),O=(0,r.useRef)(null),[A,H]=(0,r.useState)(!1),{sequence:F,error:E}=(0,d.useFeatureSequence)(C,w,L,A);return r.default.createElement(s.Dialog,{maxWidth:"xl",open:!0,onClose:()=>b(),title:"Sequence view"},r.default.createElement(l.DialogContent,{className:T.dialogContent},r.default.createElement("div",null,r.default.createElement(g.default,{model:x}),r.default.createElement(u.default,{ref:O,model:x})),r.default.createElement("div",null,w.type==="gene"?r.default.createElement(l.Typography,null,"Note: inspect subfeature sequences for protein/CDS computations"):null,E?r.default.createElement(s.ErrorMessage,{error:E}):F?F?"error"in F?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Typography,{color:"error"},F.error),r.default.createElement(l.Button,{variant:"contained",color:"inherit",onClick:()=>H(!0)},"Force load")):r.default.createElement(r.Suspense,{fallback:r.default.createElement(s.LoadingEllipses,null)},r.default.createElement(f.default,{ref:O,feature:w,sequence:F,model:x})):r.default.createElement(l.Typography,null,"No sequence found"):r.default.createElement(s.LoadingEllipses,null))),r.default.createElement(l.DialogActions,null,r.default.createElement(l.Button,{onClick:()=>b(),variant:"contained"},"Close")))});return Co.default=p,Co}var Yl;function Id(){if(Yl)return so;Yl=1;var e=X&&X.__createBinding||(Object.create?function(p,b,C,w){w===void 0&&(w=C);var x=Object.getOwnPropertyDescriptor(b,C);(!x||("get"in x?!b.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return b[C]}}),Object.defineProperty(p,w,x)}:function(p,b,C,w){w===void 0&&(w=C),p[w]=b[C]}),t=X&&X.__setModuleDefault||(Object.create?function(p,b){Object.defineProperty(p,"default",{enumerable:!0,value:b})}:function(p,b){p.default=b}),n=X&&X.__importStar||function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var C in p)C!=="default"&&Object.prototype.hasOwnProperty.call(p,C)&&e(b,p,C);return t(b,p),b},o=X&&X.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(so,"__esModule",{value:!0});const r=n(i),l=Pt,s=ct,a=si(),c=Bt,d=o(ii()),f=o(ai()),u=(0,r.lazy)(()=>Promise.resolve().then(()=>n(ci()))),g=(0,r.lazy)(()=>Promise.resolve().then(()=>n(vd()))),m=(0,s.observer)(function({model:p,feature:b}){const{sequenceFeatureDetails:C}=p,{upDownBp:w}=C,x=(0,r.useRef)(null),[L,T]=(0,r.useState)(!1),[O,A]=(0,r.useState)(!1),{sequence:H,error:F}=(0,a.useFeatureSequence)(p,b,w,O);return(0,r.useEffect)(()=>{C.setFeature(b)},[C,b]),r.default.createElement(r.default.Fragment,null,r.default.createElement("div",null,r.default.createElement(f.default,{model:C}),r.default.createElement(d.default,{ref:x,model:C,extraItems:[{label:"Open in dialog",onClick:()=>{setTimeout(()=>T(!0),1)}}]})),L?r.default.createElement("div",null,"Open in dialog...",r.default.createElement(r.Suspense,{fallback:r.default.createElement(c.LoadingEllipses,null)},r.default.createElement(g,{model:p,feature:b,handleClose:()=>T(!1)}))):r.default.createElement("div",null,b.type==="gene"?r.default.createElement(l.Typography,null,"Note: inspect subfeature sequences for protein/CDS computations"):null,F?r.default.createElement(c.ErrorMessage,{error:F}):H?H?"error"in H?r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Typography,{color:"error"},H.error),r.default.createElement(l.Button,{variant:"contained",color:"inherit",onClick:()=>A(!0)},"Force load")):r.default.createElement(r.Suspense,{fallback:r.default.createElement(c.LoadingEllipses,null)},r.default.createElement(u,{ref:x,feature:b,sequence:H,model:C})):r.default.createElement(l.Typography,null,"No sequence found"):r.default.createElement(c.LoadingEllipses,null)))});return so.default=m,so}var wo={},Ql;function Md(){if(Ql)return wo;Ql=1;var e=X&&X.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wo,"__esModule",{value:!0}),wo.default=l;const t=e(i),n=Pt,o=Bt,r=e(Ks);function l({handleClose:s}){return t.default.createElement(o.Dialog,{maxWidth:"xl",open:!0,onClose:()=>s(),title:"Feature sequence panel help"},t.default.createElement(n.DialogContent,null,t.default.createElement(n.Typography,{paragraph:!0},'The "Feature sequence" panel shows the underlying genomic sequence for a given feature, fetched from the reference genome.'),t.default.createElement(n.Typography,null,"For gene features, this panel does special calculations to e.g. stitch together the coding sequence, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"CDS - shows the stitched together CDS sequences"),t.default.createElement("li",null,'Protein - the translated coding sequence, with the "standard" genetic code'),t.default.createElement("li",null,"cDNA - shows the 'copy DNA' of transcript, formed from exon sequences"),t.default.createElement("li",null,"Genomic w/ introns +/- Nbp up+down stream - the sequence underlying the entire gene including including introns, with UTR and CDS highlighted")),t.default.createElement(n.Typography,{paragraph:!0},"For other feature types, the options are:"),t.default.createElement("ul",null,t.default.createElement("li",null,"Genomic +/- Nbp up+down stream - the reference genome sequence underlying the feature, with the up and downstream sequence")),t.default.createElement(n.Typography,null,'Note 1: you can use the "gear icon" ',t.default.createElement(r.default,null)," to edit the number of bp displayed up/downstream and in the intron region"),t.default.createElement(n.Typography,null,"Note 2: The 'Copy HTML' function retains the colors from the sequence panel but cannot be pasted into some programs like notepad that only expect plain text.")),t.default.createElement(n.DialogActions,null,t.default.createElement(n.Button,{onClick:()=>s(),autoFocus:!0,variant:"contained"},"Close")))}return wo}var Pd=X&&X.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Ed=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Br=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Pd(t,e,n);return Ed(t,e),t},Fd=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nr,"__esModule",{value:!0});const ut=Br(i),sr=Pt,kd=ct,Dd=xt,Td=Bt,Od=Zt,_d=Fd(ku),Hd=(0,ut.lazy)(()=>Promise.resolve().then(()=>Br(Id()))),Ld=(0,ut.lazy)(()=>Promise.resolve().then(()=>Br(Md()))),Gd=(0,Dd.makeStyles)()(e=>({formControl:{margin:0},container:{marginTop:e.spacing(4),marginBottom:e.spacing(4)}})),$d=(0,kd.observer)(function({model:e,feature:t}){const{classes:n}=Gd(),[o,r]=(0,ut.useState)(!1);return e?ut.default.createElement("div",{className:n.container},ut.default.createElement(sr.FormControl,{className:n.formControl},ut.default.createElement(sr.Button,{variant:"contained",onClick:()=>r(!o)},o?"Hide feature sequence":"Show feature sequence")),ut.default.createElement(sr.IconButton,{onClick:()=>(0,Od.getSession)(e).queueDialog(l=>[Ld,{handleClose:l}])},ut.default.createElement(_d.default,null)),o?ut.default.createElement(ut.Suspense,{fallback:ut.default.createElement(Td.LoadingEllipses,null)},ut.default.createElement(Hd,{key:t.uniqueId,model:e,feature:t})):null):null});Nr.default=$d;(function(e){var t=X&&X.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Nr;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t(n).default}})})(li);var No={},Pn={},Rd=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.default=Vd;const ir=Rd(i),Ad=Pt,jd=xt,zd=(0,jd.makeStyles)()(e=>({fieldDescription:{"&:hover":{background:e.palette.mode==="dark"?"#e65100":"yellow"}},fieldName:{wordBreak:"break-all",minWidth:90,borderBottom:"1px solid #0003",fontSize:12,background:e.palette.action.disabledBackground,marginRight:e.spacing(1),padding:e.spacing(.5)}}));function Vd({description:e,name:t,width:n,prefix:o=[]}){const{classes:r,cx:l}=zd(),s=[...o,t].join(".");return e?ir.default.createElement(Ad.Tooltip,{title:e,placement:"left"},ir.default.createElement("div",{className:l(r.fieldDescription,r.fieldName)},s)):ir.default.createElement("div",{className:r.fieldName,style:{width:n}},s)}var Wn={},ui=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.default=Kd;const So=ui(i),Nd=xt,Bd=ui($o),Ud=Pt,Wd=Bt,qd=(0,Nd.makeStyles)()(e=>({fieldValue:{wordBreak:"break-word",maxHeight:300,fontSize:12,padding:e.spacing(.5),overflow:"auto"}}));function Kd({value:e}){const{classes:t}=qd(),n=`${e}`.match(/^https?:\/\//);return So.default.createElement("div",{className:t.fieldValue},So.default.isValidElement(e)?e:n?So.default.createElement(Ud.Link,{href:`${e}`},`${e}`):So.default.createElement(Wd.SanitizedHTML,{html:(0,Bd.default)(e)?JSON.stringify(e):String(e)}))}var Ur=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0});No.default=Zd;const ar=Ur(i),Xd=xt,Yd=Ur(Pn),Qd=Ur(Wn),Jd=(0,Xd.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function Zd({name:e,value:t,description:n,prefix:o,width:r}){const{classes:l}=Jd();return t!=null?ar.default.createElement("div",{className:l.field},ar.default.createElement(Yd.default,{prefix:o,description:n,name:e,width:r}),ar.default.createElement(Qd.default,{value:t})):null}var yo={},tn={},ef=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tn,"__esModule",{value:!0});tn.isEmpty=nf;tn.generateTitle=of;tn.generateMaxWidth=rf;tn.accessNested=lf;const Jl=ef($o),Zl=Zt,tf=vt;function nf(e){return Object.keys(e).length===0}function of(e,t,n){return[(0,tf.ellipses)(`${e}`||`${t}`),`${n}`].filter(o=>!!o).join(" - ")}function rf(e,t){return Math.ceil((0,Zl.max)(e.map(n=>(0,Zl.measureText)([...t,n[0]].join("."),12))))+10}function lf(e,t={}){let n=t;return e.forEach(o=>{(0,Jl.default)(n)&&(n=n[o])}),typeof n=="string"?n:(0,Jl.default)(n)&&typeof(n==null?void 0:n.Description)=="string"?n.Description:void 0}var Wr={};const qr=i.createContext(void 0);function ie(){const e=i.useContext(qr);if(e===void 0)throw new Error(["MUI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const sf=()=>i.useRef({}),di=i.createContext(void 0),J=()=>{const e=i.useContext(di);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},af=!1,fi={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function de(e){return Du("MuiDataGrid",e)}const _=Xs("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderTop","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),es=1e3;class cf{constructor(t=es){this.timeouts=new Map,this.cleanupTimeout=es,this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class uf{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}var ft=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}(ft||{});class df{}function gi(e){let t=0;return function(o,r,l,s){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new uf:new cf);const[a]=i.useState(new df),c=i.useRef(null),d=i.useRef();d.current=l;const f=i.useRef(null);if(!c.current&&d.current){const u=(g,m,p)=>{var b;m.defaultMuiPrevented||(b=d.current)==null||b.call(d,g,m,p)};c.current=o.current.subscribeEvent(r,u,s),t+=1,f.current={cleanupToken:t},e.registry.register(a,()=>{var g;(g=c.current)==null||g.call(c),c.current=null,f.current=null},f.current)}else!d.current&&c.current&&(c.current(),c.current=null,f.current&&(e.registry.unregister(f.current),f.current=null));i.useEffect(()=>{if(!c.current&&d.current){const u=(g,m,p)=>{var b;m.defaultMuiPrevented||(b=d.current)==null||b.call(d,g,m,p)};c.current=o.current.subscribeEvent(r,u,s)}return f.current&&e.registry&&(e.registry.unregister(f.current),f.current=null),()=>{var u;(u=c.current)==null||u.call(c),c.current=null}},[o,r,s])}}const Sr={registry:null},ff=()=>{var e;(e=Sr.registry)==null||e.reset(),Sr.registry=null},ee=gi(Sr),gf={isFirst:!0};function Me(e,t,n){ee(e,t,n,gf)}const mf=Object.is;function mi(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,o=0;for(const r in e)if(n+=1,!mf(e[r],t[r])||!(r in t))return!1;for(const r in t)o+=1;return n===o}function hf(e){return e.acceptsApiRef}function ts(e,t){return hf(t)?t(e):t(e.current.state)}const pf=Object.is,hi=mi,bf=()=>({state:null,equals:null,selector:null}),U=(e,t,n=pf)=>{const o=vn(bf),r=o.current.selector!==null,[l,s]=i.useState(r?null:ts(e,t));return o.current.state=l,o.current.equals=n,o.current.selector=t,Ro(()=>e.current.store.subscribe(()=>{const a=ts(e,o.current.selector);o.current.equals(o.current.state,a)||(o.current.state=a,s(a))})),l},et=e=>e.dimensions;var ko="NOT_FOUND";function Cf(e){var t;return{get:function(o){return t&&e(t.key,o)?t.value:ko},put:function(o,r){t={key:o,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function wf(e,t){var n=[];function o(a){var c=n.findIndex(function(f){return t(a,f.key)});if(c>-1){var d=n[c];return c>0&&(n.splice(c,1),n.unshift(d)),d.value}return ko}function r(a,c){o(a)===ko&&(n.unshift({key:a,value:c}),n.length>e&&n.pop())}function l(){return n}function s(){n=[]}return{get:o,put:r,getEntries:l,clear:s}}var Sf=function(t,n){return t===n};function yf(e){return function(n,o){if(n===null||o===null||n.length!==o.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e(n[l],o[l]))return!1;return!0}}function pi(e,t){var n=typeof t=="object"?t:{equalityCheck:t},o=n.equalityCheck,r=o===void 0?Sf:o,l=n.maxSize,s=l===void 0?1:l,a=n.resultEqualityCheck,c=yf(r),d=s===1?Cf(c):wf(s,c);function f(){var u=d.get(arguments);if(u===ko){if(u=e.apply(null,arguments),a){var g=d.getEntries(),m=g.find(function(p){return a(p.value,u)});m&&(u=m.value)}d.put(arguments,u)}return u}return f.clearCache=function(){return d.clear()},f}function xf(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(o){return typeof o=="function"})){var n=t.map(function(o){return typeof o=="function"?"function "+(o.name||"unnamed")+"()":typeof o}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function vf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];var d=0,f,u={memoizeOptions:void 0},g=a.pop();if(typeof g=="object"&&(u=g,g=a.pop()),typeof g!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof g+"]");var m=u,p=m.memoizeOptions,b=p===void 0?n:p,C=Array.isArray(b)?b:[b],w=xf(a),x=e.apply(void 0,[function(){return d++,g.apply(null,arguments)}].concat(C)),L=e(function(){for(var O=[],A=w.length,H=0;H<A;H++)O.push(w[H].apply(null,arguments));return f=x.apply(null,O),f});return Object.assign(L,{resultFunc:g,memoizedResultFunc:x,dependencies:w,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),L};return r}var If=vf(pi);const ns=new WeakMap;function fn(e){return"current"in e&&"instanceId"in e.current}const gn={id:"default"},se=(e,t,n,o,r,l,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&o&&r&&l)a=(c,d)=>{const f=fn(c),u=d??(f?c.current.instanceId:gn),g=f?c.current.state:c,m=e(g,u),p=t(g,u),b=n(g,u),C=o(g,u),w=r(g,u);return l(m,p,b,C,w)};else if(e&&t&&n&&o&&r)a=(c,d)=>{const f=fn(c),u=d??(f?c.current.instanceId:gn),g=f?c.current.state:c,m=e(g,u),p=t(g,u),b=n(g,u),C=o(g,u);return r(m,p,b,C)};else if(e&&t&&n&&o)a=(c,d)=>{const f=fn(c),u=d??(f?c.current.instanceId:gn),g=f?c.current.state:c,m=e(g,u),p=t(g,u),b=n(g,u);return o(m,p,b)};else if(e&&t&&n)a=(c,d)=>{const f=fn(c),u=d??(f?c.current.instanceId:gn),g=f?c.current.state:c,m=e(g,u),p=t(g,u);return n(m,p)};else if(e&&t)a=(c,d)=>{const f=fn(c),u=d??(f?c.current.instanceId:gn),g=f?c.current.state:c,m=e(g,u);return t(m)};else throw new Error("Missing arguments");return a.acceptsApiRef=!0,a},Fe=(...e)=>{const t=(n,o)=>{const r=fn(n),l=r?n.current.instanceId:o??gn,s=r?n.current.state:n,a=ns.get(l),c=a??new Map,d=c==null?void 0:c.get(e);if(c&&d)return d(s,l);const f=If(...e);return a||ns.set(l,c),c.set(e,f),f(s,l)};return t.acceptsApiRef=!0,t},bi=.7,Ci=1.3,Mf={compact:bi,comfortable:Ci,standard:1},At=e=>e.density,En=se(At,e=>Mf[e]);let ke=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const Do={left:[],right:[]},Pf=e=>e.theme,St=e=>e.columns,Mt=se(St,e=>e.orderedFields),Et=se(St,e=>e.lookup),gt=Fe(Mt,Et,(e,t)=>e.map(n=>t[n])),at=se(St,e=>e.columnVisibilityModel),Ae=Fe(gt,at,(e,t)=>e.filter(n=>t[n.field]!==!1)),Fn=Fe(Ae,e=>e.map(t=>t.field)),wi=e=>e.pinnedColumns,kn=Fe(St,wi,Fn,Pf,(e,t,n,o)=>{const r=Ef(t,n,o.direction==="rtl");return{left:r.left.map(s=>e.lookup[s]),right:r.right.map(s=>e.lookup[s])}});function Ef(e,t,n){var a,c;if(!Array.isArray(e.left)&&!Array.isArray(e.right)||((a=e.left)==null?void 0:a.length)===0&&((c=e.right)==null?void 0:c.length)===0)return Do;const o=(d,f)=>Array.isArray(d)?d.filter(u=>f.includes(u)):[],r=o(e.left,t),l=t.filter(d=>!r.includes(d)),s=o(e.right,l);return n?{left:s,right:r}:{left:r,right:s}}const Lt=Fe(Ae,e=>{const t=[];let n=0;for(let o=0;o<e.length;o+=1)t.push(n),n+=e[o].computedWidth;return t}),Bo=se(Ae,Lt,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),Kr=Fe(gt,e=>e.filter(t=>t.filterable)),Si=Fe(gt,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),yi=Fe(gt,e=>e.some(t=>t.colSpan!==void 0)),Ff=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],kf=e=>{const{classes:t}=e;return fe({root:["editInputCell"]},de,t)},Df=Ge(Ys,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>h({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),xi=i.forwardRef((e,t)=>{const n=J(),{id:o,value:r,field:l,colDef:s,hasFocus:a,debounceMs:c=200,isProcessingProps:d,onValueChange:f}=e,u=ne(e,Ff),g=ie(),m=i.useRef(),[p,b]=i.useState(r),C=kf(n),w=i.useCallback(async L=>{const T=L.target.value;f&&await f(L,T);const O=g.current.getColumn(l);let A=T;O.valueParser&&(A=O.valueParser(T,g.current.getRow(o),O,g)),b(A),g.current.setEditCellValue({id:o,field:l,value:A,debounceMs:c,unstable_skipValueParser:!0},L)},[g,c,l,o,f]),x=g.current.unstable_getEditCellMeta(o,l);return i.useEffect(()=>{(x==null?void 0:x.changeReason)!=="debouncedSetEditCellValue"&&b(r)},[x,r]),Ke(()=>{a&&m.current.focus()},[a]),v.jsx(Df,h({ref:t,inputRef:m,className:C.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:p??"",onChange:w,endAdornment:d?v.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},u))}),vi=e=>v.jsx(xi,h({},e)),Ii=(e,t)=>t&&e.length>1?[e[0]]:e,os=(e,t)=>n=>h({},n,{sorting:h({},n.sorting,{sortModel:Ii(e,t)})}),Tf=e=>e==="desc",Of=(e,t)=>{const n=t.current.getColumn(e.field);if(!n||e.sort===null)return null;let o;return n.getSortComparator?o=n.getSortComparator(e.sort):o=Tf(e.sort)?(...l)=>-1*n.sortComparator(...l):n.sortComparator,o?{getSortCellParams:l=>({id:l,field:n.field,rowNode:t.current.getRowNode(l),value:t.current.getCellValue(l,n.field),api:t.current}),comparator:o}:null},_f=(e,t,n)=>e.reduce((o,r,l)=>{if(o!==0)return o;const s=t.params[l],a=n.params[l];return o=r.comparator(s.value,a.value,s,a),o},0),Hf=(e,t)=>{const n=e.map(o=>Of(o,t)).filter(o=>!!o);return n.length===0?null:o=>o.map(r=>({node:r,params:n.map(l=>l.getSortCellParams(r.id))})).sort((r,l)=>_f(n,r,l)).map(r=>r.node.id)},rs=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},Xr=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,Lf=new Intl.Collator,Mi=(e,t)=>{const n=Xr(e,t);return n!==null?n:typeof e=="string"?Lf.compare(e.toString(),t.toString()):e-t},Yr=(e,t)=>{const n=Xr(e,t);return n!==null?n:Number(e)-Number(t)},Qr=(e,t)=>{const n=Xr(e,t);return n!==null?n:e>t?1:e<t?-1:0},Gf=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function Ct(e){var T;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,tabIndex:s,disabled:a,clearButton:c,InputProps:d,variant:f="standard"}=e,u=ne(e,Gf),g=In(),[m,p]=i.useState(t.value??""),[b,C]=i.useState(!1),w=Pe(),x=J(),L=i.useCallback(O=>{const{value:A}=O.target;p(String(A)),C(!0),g.start(x.filterDebounceMs,()=>{const H=h({},t,{value:A,fromInput:w});n(H),C(!1)})},[w,n,t,x.filterDebounceMs,g]);return i.useEffect(()=>{(t.fromInput!==w||t.value===void 0)&&p(String(t.value??""))},[w,t]),v.jsx(x.slots.baseTextField,h({id:w,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:L,variant:f,type:o||"text",InputProps:h({},b||c?{endAdornment:b?v.jsx(x.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:a},d,{inputProps:h({tabIndex:s},d==null?void 0:d.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},u,(T=x.slotProps)==null?void 0:T.baseTextField))}function $f(e){return typeof e=="number"&&!Number.isNaN(e)}function Pi(e){return typeof e=="function"}function Jr(e){return typeof e=="object"&&e!==null}function Rf(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Io(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const _t=(e,t,n)=>Math.max(t,Math.min(n,e));function ls(e,t){return Array.from({length:t-e}).map((n,o)=>e+o)}function zt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(!zt(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;for(let l=0;l<r.length;l+=1){const s=r[l];if(!zt(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;for(let r=0;r<o;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<o;r+=1){const l=n[r];if(!zt(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Af(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function jf(e){const t=Af(e);return(n,o)=>n+(o-n)*t()}function Ei(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const zf=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function Zr(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,color:s,error:a,helperText:c,size:d,variant:f="standard"}=e,u=ne(e,zf),g={color:s,error:a,helperText:c,size:d,variant:f},[m,p]=i.useState(t.value||[]),b=Pe(),C=J();i.useEffect(()=>{const x=t.value??[];p(x.map(String))},[t.value]);const w=i.useCallback((x,L)=>{p(L.map(String)),n(h({},t,{value:[...L]}))},[n,t]);return v.jsx(Qs,h({multiple:!0,freeSolo:!0,options:[],filterOptions:(x,L)=>{const{inputValue:T}=L;return T==null||T===""?[]:[T]},id:b,value:m,onChange:w,renderTags:(x,L)=>x.map((T,O)=>v.jsx(C.slots.baseChip,h({variant:"outlined",size:"small",label:T},L({index:O})))),renderInput:x=>{var L;return v.jsx(C.slots.baseTextField,h({},x,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:h({},x.InputLabelProps,{shrink:!0}),inputRef:l,type:o||"text"},g,(L=C.slotProps)==null?void 0:L.baseTextField))}},u))}var yt=function(e){return e.Cell="cell",e.Row="row",e}(yt||{}),Se=function(e){return e.Edit="edit",e.View="view",e}(Se||{}),Ie=function(e){return e.Edit="edit",e.View="view",e}(Ie||{}),Je=function(e){return e.And="and",e.Or="or",e}(Je||{}),It=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(It||{}),dt=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(dt||{}),Dt=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Dt||{}),bt=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(bt||{});function el(e){return e.field!==void 0}const Sn=()=>({items:[],logicOperator:Je.And,quickFilterValues:[],quickFilterLogicOperator:Je.And});function Fi(e){return{current:e.current.getPublicApi()}}let Ln;function Vf(){if(Ln!==void 0)return Ln;try{Ln=new Function("return true")()}catch{Ln=!1}return Ln}const yr=(e,t)=>{const n=h({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const o=Et(t)[n.field];n.operator=o&&o.filterOperators[0].value}return n},tl=(e,t,n)=>{const o=e.items.length>1;let r;o&&t?r=[e.items[0]]:r=e.items;const l=o&&r.some(a=>a.id==null);return r.some(a=>a.operator==null)||l?h({},e,{items:r.map(a=>yr(a,n))}):e.items!==r?h({},e,{items:r}):e},ss=(e,t,n)=>o=>h({},o,{filterModel:tl(e,t,n)}),zn=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,ki=(e,t)=>{var f;if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let o;if(n.valueParser){const u=n.valueParser;o=Array.isArray(e.value)?(f=e.value)==null?void 0:f.map(g=>u(g,void 0,n,t)):u(e.value,void 0,n,t)}else o=e.value;const{ignoreDiacritics:r}=t.current.rootProps;r&&(o=zn(o));const l=h({},e,{value:o}),s=n.filterOperators;if(!(s!=null&&s.length))throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const a=s.find(u=>u.value===l.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${l.operator}'.`);const c=Fi(t),d=a.getApplyFilterFn(l,n);return typeof d!="function"?null:{item:l,fn:u=>{let g=t.current.getRowValue(u,n);return r&&(g=zn(g)),d(g,u,n,c)}}};let is=1;const Nf=(e,t,n)=>{const{items:o}=e,r=o.map(a=>ki(a,t)).filter(a=>!!a);if(r.length===0)return null;if(n||!Vf())return(a,c)=>{const d={};for(let f=0;f<r.length;f+=1){const u=r[f];(!c||c(u.item.field))&&(d[u.item.id]=u.fn(a))}return d};const l=new Function("appliers","row","shouldApplyFilter",`"use strict";
${r.map((a,c)=>`const shouldApply${c} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${r.map((a,c)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${c} ? false : appliers[${c}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(is)));return is+=1,(a,c)=>l(r,a,c)},Di=e=>e.quickFilterExcludeHiddenColumns??!0,Bf=(e,t)=>{var a;const n=((a=e.quickFilterValues)==null?void 0:a.filter(Boolean))??[];if(n.length===0)return null;const o=Di(e)?Fn(t):Mt(t),r=[],{ignoreDiacritics:l}=t.current.rootProps,s=Fi(t);return o.forEach(c=>{const d=t.current.getColumn(c),f=d==null?void 0:d.getApplyQuickFilterFn;f&&r.push({column:d,appliers:n.map(u=>{const g=l?zn(u):u;return{fn:f(g,d,s)}})})}),function(d,f){const u={};e:for(let g=0;g<n.length;g+=1){const m=n[g];for(let p=0;p<r.length;p+=1){const{column:b,appliers:C}=r[p],{field:w}=b;if(f&&!f(w))continue;const x=C[g];let L=t.current.getRowValue(d,b);if(x.fn===null)continue;if(l&&(L=zn(L)),x.fn(L,d,b,s)){u[m]=!0;continue e}}u[m]=!1}return u}},Uf=(e,t,n)=>{const o=Nf(e,t,n),r=Bf(e,t);return function(s,a,c){c.passingFilterItems=(o==null?void 0:o(s,a))??null,c.passingQuickFilterValues=(r==null?void 0:r(s,a))??null}},as=e=>e!=null,Wf=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(o=>ki(o,t)!==null)),e.cleanedFilterItems),qf=(e,t,n,o,r)=>{const l=Wf(r,o,n.items),s=e.filter(as),a=t.filter(as);if(s.length>0){const c=f=>s.some(u=>u[f.id]);if((n.logicOperator??Sn().logicOperator)===Je.And){if(!l.every(c))return!1}else if(!l.some(c))return!1}if(a.length>0&&n.quickFilterValues!=null){const c=f=>a.some(u=>u[f]);if((n.quickFilterLogicOperator??Sn().quickFilterLogicOperator)===Je.And){if(!n.quickFilterValues.every(c))return!1}else if(!n.quickFilterValues.some(c))return!1}return!0},Ti=e=>{if(!e)return null;const t=new RegExp(Io(e),"i");return(n,o,r,l)=>{let s=l.current.getRowFormattedValue(o,r);return l.current.ignoreDiacritics&&(s=zn(s)),s!=null?t.test(s.toString()):!1}},Oi=(e=!1)=>[{value:"contains",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(Io(n),"i");return r=>r!=null?o.test(String(r)):!1},InputComponent:Ct},{value:"equals",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return r=>r!=null?o.compare(n,r.toString())===0:!1},InputComponent:Ct},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`^${Io(n)}.*$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:Ct},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`.*${Io(n)}$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:Ct},{value:"isEmpty",getApplyFilterFn:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(r=>r.trim()),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return r=>r!=null?n.some(l=>o.compare(l,r.toString()||"")===0):!1},InputComponent:Zr}],mt={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Mi,type:"string",align:"left",filterOperators:Oi(),renderEditCell:vi,getApplyQuickFilterFn:Ti},Kf=["open","target","onClose","children","position","className","onExited"],Xf=e=>{const{classes:t}=e;return fe({root:["menu"]},de,t)},Yf=Ge(jr,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${_.menuList}`]:{outline:0}})),Qf={"bottom-start":"top left","bottom-end":"top right"};function qn(e){var b;const{open:t,target:n,onClose:o,children:r,position:l,className:s,onExited:a}=e,c=ne(e,Kf),d=ie(),f=J(),u=Xf(f),g=i.useRef(null);Ke(()=>{var C,w;t?g.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((w=(C=g.current)==null?void 0:C.focus)==null||w.call(C),g.current=null)},[t]),i.useEffect(()=>{const C=t?"menuOpen":"menuClose";d.current.publishEvent(C,{target:n})},[d,t,n]);const m=C=>w=>{C&&C(),a&&a(w)},p=C=>{C.target&&(n===C.target||n!=null&&n.contains(C.target))||o(C)};return v.jsx(Yf,h({as:f.slots.basePopper,className:me(s,u.root),ownerState:f,open:t,anchorEl:n,transition:!0,placement:l},c,(b=f.slotProps)==null?void 0:b.basePopper,{children:({TransitionProps:C,placement:w})=>v.jsx(Js,{onClickAway:p,mouseEvent:"onMouseDown",children:v.jsx(Tu,h({},C,{style:{transformOrigin:Qf[w]},onExited:m(C==null?void 0:C.onExited),children:v.jsx(Zs,{children:r})}))})}))}const Jf=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Zf=e=>typeof e.getActions=="function";function _i(e){var I;const{colDef:t,id:n,hasFocus:o,tabIndex:r,position:l="bottom-end",focusElementRef:s}=e,a=ne(e,Jf),[c,d]=i.useState(-1),[f,u]=i.useState(!1),g=ie(),m=i.useRef(null),p=i.useRef(null),b=i.useRef(!1),C=i.useRef({}),w=en(),x=Pe(),L=Pe(),T=J();if(!Zf(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const O=t.getActions(g.current.getRowParams(n)),A=O.filter(P=>!P.props.showInMenu),H=O.filter(P=>P.props.showInMenu),F=A.length+(H.length?1:0);i.useLayoutEffect(()=>{o||Object.entries(C.current).forEach(([P,S])=>{S==null||S.stop({},()=>{delete C.current[P]})})},[o]),i.useEffect(()=>{if(c<0||!m.current||c>=m.current.children.length)return;m.current.children[c].focus({preventScroll:!0})},[c]),i.useEffect(()=>{o||(d(-1),b.current=!1)},[o]),i.useImperativeHandle(s,()=>({focus(){if(!b.current){const P=O.findIndex(S=>!S.props.disabled);d(P)}}}),[O]),i.useEffect(()=>{c>=F&&d(F-1)},[c,F]);const E=()=>{u(!0),d(F-1),b.current=!0},R=()=>{u(!1)},$=P=>S=>{C.current[P]=S},k=(P,S)=>j=>{d(P),b.current=!0,S&&S(j)},M=P=>{if(F<=1)return;const S=(D,G)=>{var B;if(D<0||D>O.length)return D;const z=w.direction==="rtl"?-1:1,N=(G==="left"?-1:1)*z;return(B=O[D+N])!=null&&B.props.disabled?S(D+N,G):D+N};let j=c;P.key==="ArrowRight"?j=S(c,"right"):P.key==="ArrowLeft"&&(j=S(c,"left")),!(j<0||j>=F)&&j!==c&&(P.preventDefault(),P.stopPropagation(),d(j))},y=P=>{P.key==="Tab"&&P.preventDefault(),["Tab","Escape"].includes(P.key)&&R()};return v.jsxs("div",h({role:"menu",ref:m,tabIndex:-1,className:_.actionsCell,onKeyDown:M},a,{children:[A.map((P,S)=>i.cloneElement(P,{key:S,touchRippleRef:$(S),onClick:k(S,P.props.onClick),tabIndex:c===S?r:-1})),H.length>0&&L&&v.jsx(T.slots.baseIconButton,h({ref:p,id:L,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?x:void 0,role:"menuitem",size:"small",onClick:E,touchRippleRef:$(L),tabIndex:c===A.length?r:-1},(I=T.slotProps)==null?void 0:I.baseIconButton,{children:v.jsx(T.slots.moreActionsIcon,{fontSize:"small"})})),H.length>0&&v.jsx(qn,{open:f,target:p.current,position:l,onClose:R,children:v.jsx(Ao,{id:x,className:_.menuList,onKeyDown:y,"aria-labelledby":L,variant:"menu",autoFocusItem:!0,children:H.map((P,S)=>i.cloneElement(P,{key:S,closeMenu:R}))})})]}))}const Hi=e=>v.jsx(_i,h({},e)),Kn="actions",Li=h({},mt,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Hi,getApplyQuickFilterFn:void 0}),pt=e=>e.rows,Dn=se(pt,e=>e.totalRowCount),Gi=se(pt,e=>e.loading),$i=se(pt,e=>e.totalTopLevelRowCount),Ot=se(pt,e=>e.dataRowIdToModelLookup),Vn=se(pt,e=>e.dataRowIdToIdLookup),it=se(pt,e=>e.tree),eg=se(pt,e=>e.groupsToFetch),Ri=se(pt,e=>e.groupingName),xr=se(pt,e=>e.treeDepths),Xn=Fe(pt,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,o)=>o-n)[0]+1}),$n=se(pt,e=>e.dataRowIds),tg=se(pt,e=>e==null?void 0:e.additionalRowGroups),Ut=Fe(tg,e=>{var n,o;const t=e==null?void 0:e.pinnedRows;return{bottom:((n=t==null?void 0:t.bottom)==null?void 0:n.map(r=>({id:r.id,model:r.model??{}})))??[],top:((o=t==null?void 0:t.top)==null?void 0:o.map(r=>({id:r.id,model:r.model??{}})))??[]}}),ng=se(Ut,e=>{var t,n;return(((t=e==null?void 0:e.top)==null?void 0:t.length)||0)+(((n=e==null?void 0:e.bottom)==null?void 0:n.length)||0)}),Ze="auto-generated-group-node-root",Yt=Symbol("mui.id_autogenerated"),og=()=>({type:"group",id:Ze,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Ai(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Uo=(e,t,n)=>{const o=t?t(e):e.id;return Ai(o,e,n),o},Mo=({rows:e,getRowId:t,loading:n,rowCount:o})=>{const r={type:"full",rows:[]},l={},s={};for(let a=0;a<e.length;a+=1){const c=e[a],d=Uo(c,t);l[d]=c,s[d]=d,r.rows.push(d)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:o,updates:r,dataRowIdToIdLookup:s,dataRowIdToModelLookup:l}},ji=({tree:e,rowCountProp:t=0})=>{const n=e[Ze];return Math.max(t,n.children.length+(n.footerId==null?0:1))},zi=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:o,previousTreeDepths:r,previousGroupsToFetch:l})=>{const s=e.current.caches.rows,{tree:a,treeDepths:c,dataRowIds:d,groupingName:f,groupsToFetch:u=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:o,previousTreeDepths:r,updates:s.updates,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:l}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:a,treeDepths:c,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIds:d,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},h({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:ji({tree:g.tree,rowCountProp:t}),groupingName:f,loading:n,groupsToFetch:u})},rg=e=>Yt in e,yn=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,nl=(e,t,n)=>{const o=e[t];if(o.type!=="group")return[];const r=[];for(let l=0;l<o.children.length;l+=1){const s=o.children[l];(!n||!yn(e[s]))&&r.push(s);const a=nl(e,s,n);for(let c=0;c<a.length;c+=1)r.push(a[c])}return!n&&o.footerId!=null&&r.push(o.footerId),r},cs=({previousCache:e,getRowId:t,updates:n,groupKeys:o})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const r=new Map;n.forEach(f=>{const u=Uo(f,t,"A row was provided without id when calling updateRows():");r.has(u)?r.set(u,h({},r.get(u),f)):r.set(u,f)});const l={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:h({},e.updates.idToActionLookup),groupKeys:o},s=h({},e.dataRowIdToModelLookup),a=h({},e.dataRowIdToIdLookup),c={insert:{},modify:{},remove:{}};r.forEach((f,u)=>{const g=l.idToActionLookup[u];if(f._action==="delete"){if(g==="remove"||!s[u])return;g!=null&&(c[g][u]=!0),l.actions.remove.push(u),delete s[u],delete a[u];return}const m=s[u];if(m){g==="remove"?(c.remove[u]=!0,l.actions.modify.push(u)):g==null&&l.actions.modify.push(u),s[u]=h({},m,f);return}g==="remove"?(c.remove[u]=!0,l.actions.insert.push(u)):g==null&&l.actions.insert.push(u),s[u]=f,a[u]=u});const d=Object.keys(c);for(let f=0;f<d.length;f+=1){const u=d[f],g=c[u];Object.keys(g).length>0&&(l.actions[u]=l.actions[u].filter(m=>!g[m]))}return{dataRowIdToModelLookup:s,dataRowIdToIdLookup:a,updates:l,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function lg(e){var r,l;const t=Ut(e),n=((r=t==null?void 0:t.top)==null?void 0:r.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0,o=((l=t==null?void 0:t.bottom)==null?void 0:l.reduce((s,a)=>(s+=e.current.unstable_getRowHeight(a.id),s),0))||0;return{top:n,bottom:o}}function Vi(e){return`var(--DataGrid-overlayHeight, ${2*et(e.current.state).rowHeight}px)`}function us(e,t,n){const o=[];return t.forEach(r=>{const l=Uo(r,n,"A row was provided without id when calling updateRows():"),s=e.current.getRowNode(l);if((s==null?void 0:s.type)==="pinnedRow"){const a=e.current.caches.pinnedRows,c=a.idLookup[l];c&&(a.idLookup[l]=h({},c,r))}else o.push(r)}),o}const sg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],ig=e=>{const{classes:t}=e;return fe({root:["booleanCell"]},de,t)};function ag(e){const{value:t}=e,n=ne(e,sg),o=ie(),r=J(),l={classes:r.classes},s=ig(l),a=i.useMemo(()=>t?r.slots.booleanCellTrueIcon:r.slots.booleanCellFalseIcon,[r.slots.booleanCellFalseIcon,r.slots.booleanCellTrueIcon,t]);return v.jsx(a,h({fontSize:"small",className:s.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))}const Ni=i.memo(ag),Bi=e=>e.field!=="__row_group_by_columns_group__"&&yn(e.rowNode)?"":v.jsx(Ni,h({},e)),cg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],ug=e=>{const{classes:t}=e;return fe({root:["editBooleanCell"]},de,t)};function Ui(e){var w;const{id:t,value:n,field:o,className:r,hasFocus:l,onValueChange:s}=e,a=ne(e,cg),c=ie(),d=i.useRef(null),f=Pe(),[u,g]=i.useState(n),m=J(),p={classes:m.classes},b=ug(p),C=i.useCallback(async x=>{const L=x.target.checked;s&&await s(x,L),g(L),await c.current.setEditCellValue({id:t,field:o,value:L},x)},[c,o,t,s]);return i.useEffect(()=>{g(n)},[n]),Ke(()=>{l&&d.current.focus()},[l]),v.jsx("label",h({htmlFor:f,className:me(b.root,r)},a,{children:v.jsx(m.slots.baseCheckbox,h({id:f,inputRef:d,checked:!!u,onChange:C,size:"small"},(w=m.slotProps)==null?void 0:w.baseCheckbox))}))}const Wi=e=>v.jsx(Ui,h({},e)),dg=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],fg=Ge("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function qi(e){var T,O,A;const{item:t,applyValue:n,apiRef:o,focusElementRef:r,clearButton:l,tabIndex:s,label:a,variant:c="standard"}=e,d=ne(e,dg),[f,u]=i.useState(t.value||""),g=J(),m=Pe(),p=Pe(),b=((T=g.slotProps)==null?void 0:T.baseSelect)||{},C=b.native??!1,w=((O=g.slotProps)==null?void 0:O.baseSelectOption)||{},x=i.useCallback(H=>{const F=H.target.value;u(F),n(h({},t,{value:F}))},[n,t]);i.useEffect(()=>{u(t.value||"")},[t.value]);const L=a??o.current.getLocaleText("filterPanelInputLabel");return v.jsxs(fg,{children:[v.jsxs(g.slots.baseFormControl,{fullWidth:!0,children:[v.jsx(g.slots.baseInputLabel,h({},(A=g.slotProps)==null?void 0:A.baseInputLabel,{id:m,shrink:!0,variant:c,children:L})),v.jsxs(g.slots.baseSelect,h({labelId:m,id:p,label:L,value:f,onChange:x,variant:c,notched:c==="outlined"?!0:void 0,native:C,displayEmpty:!0,inputProps:{ref:r,tabIndex:s}},d,b,{children:[v.jsx(g.slots.baseSelectOption,h({},w,{native:C,value:"",children:o.current.getLocaleText("filterValueAny")})),v.jsx(g.slots.baseSelectOption,h({},w,{native:C,value:"true",children:o.current.getLocaleText("filterValueTrue")})),v.jsx(g.slots.baseSelectOption,h({},w,{native:C,value:"false",children:o.current.getLocaleText("filterValueFalse")}))]}))]}),l]})}const Ki=()=>[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t=String(e.value)==="true";return n=>!!n===t},InputComponent:qi}],gg=(e,t,n,o)=>e?o.current.getLocaleText("booleanCellTrueLabel"):o.current.getLocaleText("booleanCellFalseLabel"),mg=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},ol=h({},mt,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:Bi,renderEditCell:Wi,sortComparator:Yr,valueFormatter:gg,filterOperators:Ki(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:e=>mg(e)}),hg=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],pg=e=>{const{classes:t}=e;return fe({root:["checkboxInput"]},de,t)},Xi=i.forwardRef(function(t,n){var O;const{field:o,id:r,value:l,rowNode:s,hasFocus:a,tabIndex:c}=t,d=ne(t,hg),f=ie(),u=J(),g={classes:u.classes},m=pg(g),p=i.useRef(null),b=i.useRef(null),C=Ht(p,n),w=A=>{const H={value:A.target.checked,id:r};f.current.publishEvent("rowSelectionCheckboxChange",H,A)};i.useLayoutEffect(()=>{if(c===0){const A=f.current.getCellElement(r,o);A&&(A.tabIndex=-1)}},[f,c,r,o]),i.useEffect(()=>{var A;if(a){const H=(A=p.current)==null?void 0:A.querySelector("input");H==null||H.focus({preventScroll:!0})}else b.current&&b.current.stop({})},[a]);const x=i.useCallback(A=>{A.key===" "&&A.stopPropagation()},[]);if(s.type==="footer"||s.type==="pinnedRow")return null;const L=f.current.isRowSelectable(r),T=f.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return v.jsx(u.slots.baseCheckbox,h({ref:C,tabIndex:c,checked:l,onChange:w,className:m.root,inputProps:{"aria-label":T},onKeyDown:x,disabled:!L,touchRippleRef:b},(O=u.slotProps)==null?void 0:O.baseCheckbox,d))}),Yi=Xi;function rl(e){return e.signature===ft.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const Yn=e=>e.focus,rt=se(Yn,e=>e.cell),Qi=se(Yn,e=>e.columnHeader),bg=se(Yn,e=>e.columnHeaderFilter),Nn=se(Yn,e=>e.columnGroupHeader),Qn=e=>e.tabIndex,Wo=se(Qn,e=>e.cell),ll=se(Qn,e=>e.columnHeader),Cg=se(Qn,e=>e.columnHeaderFilter),Ji=se(Qn,e=>e.columnGroupHeader),lt=e=>e.rowSelection,Zi=se(lt,e=>e.length),ea=Fe(lt,Ot,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Bn=Fe(lt,e=>e.reduce((t,n)=>(t[n]=n,t),{})),ta=e=>e.sorting,qo=se(ta,e=>e.sortedRows),Ko=Fe(qo,Ot,it,(e,t,n)=>e.reduce((o,r)=>{const l=t[r];l&&o.push({id:r,model:l});const s=n[r];return s&&yn(s)&&o.push({id:r,model:{[Yt]:r}}),o},[])),st=se(ta,e=>e.sortModel),na=Fe(st,e=>e.reduce((n,o,r)=>(n[o.field]={sortDirection:o.sort,sortIndex:e.length>1?r+1:void 0},n),{})),sl=e=>e.filter,ze=se(sl,e=>e.filterModel),oa=se(ze,e=>e.quickFilterValues),ra=e=>e.visibleRowsLookup,il=se(sl,e=>e.filteredRowsLookup),wg=se(sl,e=>e.filteredDescendantCountLookup),Gt=Fe(ra,Ko,(e,t)=>t.filter(n=>e[n.id]!==!1)),wn=Fe(Gt,e=>e.map(t=>t.id)),al=Fe(il,Ko,(e,t)=>t.filter(n=>e[n.id]!==!1)),la=Fe(al,e=>e.map(t=>t.id)),cl=Fe(Gt,it,Xn,(e,t,n)=>n<2?e:e.filter(o=>{var r;return((r=t[o.id])==null?void 0:r.depth)===0})),ul=se(Gt,e=>e.length),Xo=se(cl,e=>e.length),sa=se(al,e=>e.length),Sg=se(sa,Xo,(e,t)=>e-t),dl=Fe(ze,Et,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(o=>{var s,a;if(!o.field)return!1;const r=t[o.field];if(!(r!=null&&r.filterOperators)||((s=r==null?void 0:r.filterOperators)==null?void 0:s.length)===0)return!1;const l=r.filterOperators.find(c=>c.value===o.operator);return l?!l.InputComponent||o.value!=null&&((a=o.value)==null?void 0:a.toString())!=="":!1})}),ia=Fe(dl,e=>e.reduce((n,o)=>(n[o.field]?n[o.field].push(o):n[o.field]=[o],n),{}));function ce(e,t,n){const o=i.useRef(!0);i.useEffect(()=>{o.current=!1,e.current.register(n,t)},[e,n,t]),o.current&&e.current.register(n,t)}function je(e,t){const n=i.useRef(null);if(n.current)return n.current;const o=e.current.getLogger(t);return n.current=o,o}const fl=(e,t,n,o,r)=>{const l=je(e,"useNativeEventListener"),[s,a]=i.useState(!1),c=i.useRef(o),d=Pi(t)?t():(t==null?void 0:t.current)??null,f=i.useCallback(u=>c.current&&c.current(u),[]);i.useEffect(()=>{c.current=o},[o]),i.useEffect(()=>{if(d&&n&&!s){l.debug(`Binding native ${n} event`),d.addEventListener(n,f,r),a(!0);const u=()=>{l.debug(`Clearing native ${n} event`),d.removeEventListener(n,f,r)};e.current.subscribeEvent("unmount",u)}},[d,f,n,s,l,r,e])},Tn=e=>{const t=i.useRef(!0);t.current&&(t.current=!1,e())},yg=()=>{},aa=(e,t)=>{const n=i.useRef(!1);Ke(()=>n.current||!e?yg:(n.current=!0,t()),[n.current||e])},xg=100,vg=e=>e?0:100,ca=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,ua=e=>({page:0,pageSize:e?0:100}),Ig=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),da=(e,t)=>{if(t===ft.DataGrid&&e>xg)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Jn=e=>e.pagination,Qe=se(Jn,e=>e.paginationModel),Kt=se(Jn,e=>e.rowCount),bn=se(Jn,e=>e.meta),fa=se(Qe,e=>e.page),ga=se(Qe,e=>e.pageSize),gl=se(Qe,Kt,(e,t)=>ca(t,e.pageSize,e.page)),Yo=Fe(Qe,it,Xn,Gt,cl,(e,t,n,o,r)=>{var m;const l=r.length,s=Math.min(e.pageSize*e.page,l-1),a=Math.min(s+e.pageSize-1,l-1);if(s===-1||a===-1)return null;if(n<2)return{firstRowIndex:s,lastRowIndex:a};const c=r[s],d=a-s+1,f=o.findIndex(p=>p.id===c.id);let u=f,g=0;for(;u<o.length&&g<=d;){const p=o[u],b=(m=t[p.id])==null?void 0:m.depth;b===void 0?u+=1:((g<d||b>0)&&(u+=1),b===0&&(g+=1))}return{firstRowIndex:f,lastRowIndex:u-1}}),ma=Fe(Gt,Yo,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),ml=Fe(wn,Yo,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Mg=["field","colDef"],Pg=e=>{const{classes:t}=e;return fe({root:["checkboxInput"]},de,t)},ha=i.forwardRef(function(t,n){var H;const o=ne(t,Mg),[,r]=i.useState(!1),l=ie(),s=J(),a={classes:s.classes},c=Pg(a),d=U(l,ll),f=U(l,lt),u=U(l,wn),g=U(l,ml),m=i.useMemo(()=>typeof s.isRowSelectable!="function"?f:f.filter(F=>l.current.getRow(F)?s.isRowSelectable(l.current.getRowParams(F)):!1),[l,s.isRowSelectable,f]),p=i.useMemo(()=>(!s.pagination||!s.checkboxSelectionVisibleOnly?u:g).reduce((E,R)=>(E[R]=!0,E),{}),[s.pagination,s.checkboxSelectionVisibleOnly,g,u]),b=i.useMemo(()=>m.filter(F=>p[F]).length,[m,p]),C=b>0&&b<Object.keys(p).length,w=b>0,x=F=>{const E={value:F.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",E)},L=d!==null&&d.field===t.field?0:-1;i.useLayoutEffect(()=>{const F=l.current.getColumnHeaderElement(t.field);L===0&&F&&(F.tabIndex=-1)},[L,l,t.field]);const T=i.useCallback(F=>{F.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!w})},[l,w]),O=i.useCallback(()=>{r(F=>!F)},[]);i.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",O),[l,O]);const A=l.current.getLocaleText(w?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return v.jsx(s.slots.baseCheckbox,h({ref:n,indeterminate:C,checked:w,onChange:x,className:c.root,inputProps:{"aria-label":A},tabIndex:L,onKeyDown:T,disabled:!rl(s)},(H=s.slotProps)==null?void 0:H.baseCheckbox,o))}),Tt="__check__",nn=h({},ol,{type:"custom",field:Tt,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(e,t,n,o)=>{const r=Bn(o),l=o.current.getRowId(t);return r[l]!==void 0},renderHeader:e=>v.jsx(ha,h({},e)),renderCell:e=>v.jsx(Yi,h({},e))}),Eg=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function ds(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function qt(e){var L;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,InputProps:s,clearButton:a,tabIndex:c,disabled:d}=e,f=ne(e,Eg),u=In(),[g,m]=i.useState(()=>ds(t.value,o)),[p,b]=i.useState(!1),C=Pe(),w=J(),x=i.useCallback(T=>{u.clear();const O=T.target.value;m(O),b(!0),u.start(w.filterDebounceMs,()=>{const A=new Date(O);n(h({},t,{value:Number.isNaN(A.getTime())?void 0:A})),b(!1)})},[n,t,w.filterDebounceMs,u]);return i.useEffect(()=>{const T=ds(t.value,o);m(T)},[t.value,o]),v.jsx(w.slots.baseTextField,h({fullWidth:!0,id:C,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:g,onChange:x,variant:"standard",type:o||"text",InputLabelProps:{shrink:!0},inputRef:l,InputProps:h({},p||a?{endAdornment:p?v.jsx(w.slots.loadIcon,{fontSize:"small",color:"action"}):a}:{},{disabled:d},s,{inputProps:h({max:o==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:c},s==null?void 0:s.inputProps)})},f,(L=w.slotProps)==null?void 0:L.baseTextField))}function cn(e,t,n,o){if(!e.value)return null;const r=new Date(e.value);n?r.setSeconds(0,0):(r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),r.setHours(0,0,0,0));const l=r.getTime();return s=>{if(!s)return!1;if(o)return t(s.getTime(),l);const a=new Date(s);return n?a.setSeconds(0,0):a.setHours(0,0,0,0),t(a.getTime(),l)}}const hl=e=>[{value:"is",getApplyFilterFn:t=>cn(t,(n,o)=>n===o,e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>cn(t,(n,o)=>n!==o,e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>cn(t,(n,o)=>n>o,e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>cn(t,(n,o)=>n>=o,e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>cn(t,(n,o)=>n<o,e,!e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>cn(t,(n,o)=>n<=o,e),InputComponent:qt,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],Fg=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],kg=Ge(Ys)({fontSize:"inherit"}),Dg=e=>{const{classes:t}=e;return fe({root:["editInputCell"]},de,t)};function pa(e){const{id:t,value:n,field:o,colDef:r,hasFocus:l,inputProps:s,onValueChange:a}=e,c=ne(e,Fg),d=r.type==="dateTime",f=ie(),u=i.useRef(),g=i.useMemo(()=>{let T;n==null?T=null:n instanceof Date?T=n:T=new Date((n??"").toString());let O;return T==null||Number.isNaN(T.getTime())?O="":O=new Date(T.getTime()-T.getTimezoneOffset()*60*1e3).toISOString().substr(0,d?16:10),{parsed:T,formatted:O}},[n,d]),[m,p]=i.useState(g),C={classes:J().classes},w=Dg(C),x=i.useCallback(T=>{if(T==="")return null;const[O,A]=T.split("T"),[H,F,E]=O.split("-"),R=new Date;if(R.setFullYear(Number(H),Number(F)-1,Number(E)),R.setHours(0,0,0,0),A){const[$,k]=A.split(":");R.setHours(Number($),Number(k),0,0)}return R},[]),L=i.useCallback(async T=>{const O=T.target.value,A=x(O);a&&await a(T,A),p({parsed:A,formatted:O}),f.current.setEditCellValue({id:t,field:o,value:A},T)},[f,o,t,a,x]);return i.useEffect(()=>{p(T=>{var O,A;return g.parsed!==T.parsed&&((O=g.parsed)==null?void 0:O.getTime())!==((A=T.parsed)==null?void 0:A.getTime())?g:T})},[g]),Ke(()=>{l&&u.current.focus()},[l]),v.jsx(kg,h({inputRef:u,fullWidth:!0,className:w.root,type:d?"datetime-local":"date",inputProps:h({max:d?"9999-12-31T23:59":"9999-12-31"},s),value:m.formatted,onChange:L},c))}const pl=e=>v.jsx(pa,h({},e));function ba({value:e,columnType:t,rowId:n,field:o}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${o}".`].join(`
`))}const Ca=(e,t,n,o)=>{if(!e)return"";const r=o.current.getRowId(t);return ba({value:e,columnType:"date",rowId:r,field:n.field}),e.toLocaleDateString()},wa=(e,t,n,o)=>{if(!e)return"";const r=o.current.getRowId(t);return ba({value:e,columnType:"dateTime",rowId:r,field:n.field}),e.toLocaleString()},Sa=h({},mt,{type:"date",sortComparator:Qr,valueFormatter:Ca,filterOperators:hl(),renderEditCell:pl,pastedValueParser:e=>new Date(e)}),ya=h({},mt,{type:"dateTime",sortComparator:Qr,valueFormatter:wa,filterOperators:hl(!0),renderEditCell:pl,pastedValueParser:e=>new Date(e)}),Rt=e=>e==null?null:Number(e),xa=e=>e==null||Number.isNaN(e)||e===""?null:t=>Rt(t)===Rt(e),va=()=>[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>Rt(t)===e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>Rt(t)!==e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Rt(t)>e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Rt(t)>=e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Rt(t)<e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Rt(t)<=e.value,InputComponent:Ct,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Zr,InputComponentProps:{type:"number"}}],Ia=h({},mt,{type:"number",align:"right",headerAlign:"right",sortComparator:Yr,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>$f(e)?e.toLocaleString():e||"",filterOperators:va(),getApplyQuickFilterFn:xa}),To=e=>e==="Escape",Qo=e=>e==="Tab";function Ma(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Oo=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",Tg=e=>!!e.key,bl=e=>Qo(e)||To(e);function Pa(e){return!!((e.ctrlKey||e.metaKey)&&e.key.toLowerCase()==="v"&&!e.shiftKey&&!e.altKey)}function xn(e){return(e==null?void 0:e.type)==="singleSelect"}function Qt(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(h({field:e.field},t)):e.valueOptions}function _o(e,t,n){if(t===void 0)return;const o=t.find(r=>{const l=n(r);return String(l)===String(e)});return n(o)}const Og=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],_g=["MenuProps"];function Hg(e){return!!e.key}function Ea(e){var k,M;const t=J(),{id:n,value:o,field:r,row:l,colDef:s,hasFocus:a,error:c,onValueChange:d,initialOpen:f=t.editMode===yt.Cell}=e,u=ne(e,Og),g=ie(),m=i.useRef(),p=i.useRef(),[b,C]=i.useState(f),x=(((k=t.slotProps)==null?void 0:k.baseSelect)||{}).native??!1,L=((M=t.slotProps)==null?void 0:M.baseSelect)||{},{MenuProps:T}=L,O=ne(L,_g);if(Ke(()=>{var y;a&&((y=p.current)==null||y.focus())},[a]),!xn(s))return null;const A=Qt(s,{id:n,row:l});if(!A)return null;const H=s.getOptionValue,F=s.getOptionLabel,E=async y=>{if(!xn(s)||!A)return;C(!1);const I=y.target,P=_o(I.value,A,H);d&&await d(y,P),await g.current.setEditCellValue({id:n,field:r,value:P},y)},R=(y,I)=>{if(t.editMode===yt.Row){C(!1);return}if(I==="backdropClick"||To(y.key)){const P=g.current.getCellParams(n,r);g.current.publishEvent("cellEditStop",h({},P,{reason:To(y.key)?dt.escapeKeyDown:dt.cellFocusOut}))}},$=y=>{Hg(y)&&y.key==="Enter"||C(!0)};return!A||!s?null:v.jsx(t.slots.baseSelect,h({ref:m,inputRef:p,value:o,onChange:E,open:b,onOpen:$,MenuProps:h({onClose:R},T),error:c,native:x,fullWidth:!0},u,O,{children:A.map(y=>{var P;const I=H(y);return i.createElement(t.slots.baseSelectOption,h({},((P=t.slotProps)==null?void 0:P.baseSelectOption)||{},{native:x,key:I,value:I}),F(y))})}))}const Fa=e=>v.jsx(Ea,h({},e)),Lg=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],Gg=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:o,isSelectNative:r,baseSelectOptionProps:l})=>["",...Qt(e)||[]].map(a=>{const c=o(a);let d=n(a);return d===""&&(d=" "),i.createElement(t,h({},l,{native:r,key:c,value:c}),d)}),$g=Ge("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function vr(e){var H,F,E,R,$;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,placeholder:s,tabIndex:a,label:c,variant:d="standard",clearButton:f}=e,u=ne(e,Lg),g=t.value??"",m=Pe(),p=Pe(),b=J(),C=((F=(H=b.slotProps)==null?void 0:H.baseSelect)==null?void 0:F.native)??!1;let w=null;if(t.field){const k=r.current.getColumn(t.field);xn(k)&&(w=k)}const x=w==null?void 0:w.getOptionValue,L=w==null?void 0:w.getOptionLabel,T=i.useMemo(()=>Qt(w),[w]),O=i.useCallback(k=>{let M=k.target.value;M=_o(M,T,x),n(h({},t,{value:M}))},[T,x,n,t]);if(!xn(w))return null;const A=c??r.current.getLocaleText("filterPanelInputLabel");return v.jsxs($g,{children:[v.jsxs(b.slots.baseFormControl,{fullWidth:!0,children:[v.jsx(b.slots.baseInputLabel,h({},(E=b.slotProps)==null?void 0:E.baseInputLabel,{id:p,htmlFor:m,shrink:!0,variant:d,children:A})),v.jsx(b.slots.baseSelect,h({id:m,label:A,labelId:p,value:g,onChange:O,variant:d,type:o||"text",inputProps:{tabIndex:a,ref:l,placeholder:s??r.current.getLocaleText("filterPanelInputPlaceholder")},native:C,notched:d==="outlined"?!0:void 0},u,(R=b.slotProps)==null?void 0:R.baseSelect,{children:Gg({column:w,OptionComponent:b.slots.baseSelectOption,getOptionLabel:L,getOptionValue:x,isSelectNative:C,baseSelectOptionProps:($=b.slotProps)==null?void 0:$.baseSelectOption})}))]}),f]})}const Rg=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],Ag=["key"],jg=Ou();function ka(e){const{item:t,applyValue:n,apiRef:o,focusElementRef:r,color:l,error:s,helperText:a,size:c,variant:d="standard"}=e,f=ne(e,Rg),u={color:l,error:s,helperText:a,size:c,variant:d},g=Pe(),m=J();let p=null;if(t.field){const O=o.current.getColumn(t.field);xn(O)&&(p=O)}const b=p==null?void 0:p.getOptionValue,C=p==null?void 0:p.getOptionLabel,w=i.useCallback((O,A)=>b(O)===b(A),[b]),x=i.useMemo(()=>Qt(p)||[],[p]),L=i.useMemo(()=>Array.isArray(t.value)?t.value.reduce((O,A)=>{const H=x.find(F=>b(F)===A);return H!=null&&O.push(H),O},[]):[],[b,t.value,x]),T=i.useCallback((O,A)=>{n(h({},t,{value:A.map(b)}))},[n,t,b]);return v.jsx(Qs,h({multiple:!0,options:x,isOptionEqualToValue:w,filterOptions:jg,id:g,value:L,onChange:T,getOptionLabel:C,renderTags:(O,A)=>O.map((H,F)=>{const E=A({index:F}),{key:R}=E,$=ne(E,Ag);return v.jsx(m.slots.baseChip,h({variant:"outlined",size:"small",label:C(H)},$),R)}),renderInput:O=>{var A;return v.jsx(m.slots.baseTextField,h({},O,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:h({},O.InputLabelProps,{shrink:!0}),inputRef:r,type:"singleSelect"},u,(A=m.slotProps)==null?void 0:A.baseTextField))}},f))}const un=e=>e==null||!Jr(e)?e:e.value,Da=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>un(t)===un(e.value),InputComponent:vr},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>un(t)!==un(e.value),InputComponent:vr},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(un);return n=>t.includes(un(n))},InputComponent:ka}],zg=e=>typeof e[0]=="object",Vg=e=>Jr(e)?e.value:e,Ng=e=>Jr(e)?e.label:String(e),Ta=h({},mt,{type:"singleSelect",getOptionLabel:Ng,getOptionValue:Vg,valueFormatter(e,t,n,o){const r=o.current.getRowId(t);if(!xn(n))return"";const l=Qt(n,{id:r,row:t});if(e==null)return"";if(!l)return e;if(!zg(l))return n.getOptionLabel(e);const s=l.find(a=>n.getOptionValue(a)===e);return s?n.getOptionLabel(s):""},renderEditCell:Fa,filterOperators:Da(),pastedValueParser:(e,t,n)=>{const o=n,r=Qt(o)||[],l=o.getOptionValue;if(r.find(a=>l(a)===e))return e}}),Oa="string",_a=()=>({string:mt,number:Ia,date:Sa,dateTime:ya,boolean:ol,singleSelect:Ta,[Kn]:Li,custom:mt}),Jo=e=>e.headerFiltering,Ha=se(Jo,e=>(e==null?void 0:e.enabled)??!1),La=se(Jo,e=>e.editing),Ga=se(Jo,e=>e.menuOpen),Zn=e=>e.columnGrouping,Cl=Fe(Zn,e=>(e==null?void 0:e.unwrappedGroupingModel)??{}),wl=Fe(Zn,e=>(e==null?void 0:e.lookup)??{}),$a=Fe(Zn,e=>(e==null?void 0:e.headerStructure)??[]),On=se(Zn,e=>(e==null?void 0:e.maxDepth)??0),Ra=["maxWidth","minWidth","width","flex"],cr=_a();function Bg({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const o=new Set(n.map(s=>s.field)),r={all:{},frozenFields:[],freeze:s=>{const a=r.all[s];a&&a.frozen!==!0&&(r.all[s].frozen=!0,r.frozenFields.push(s))}};function l(){if(r.frozenFields.length===o.size)return;const s={min:{},max:{}};let a=e,c=t,d=0;r.frozenFields.forEach(f=>{a-=r.all[f].computedWidth,c-=r.all[f].flex});for(let f=0;f<n.length;f+=1){const u=n[f];if(r.all[u.field]&&r.all[u.field].frozen===!0)continue;let m=a/c*u.flex;m<u.minWidth?(d+=u.minWidth-m,m=u.minWidth,s.min[u.field]=!0):m>u.maxWidth&&(d+=u.maxWidth-m,m=u.maxWidth,s.max[u.field]=!0),r.all[u.field]={frozen:!1,computedWidth:m,flex:u.flex}}d<0?Object.keys(s.max).forEach(f=>{r.freeze(f)}):d>0?Object.keys(s.min).forEach(f=>{r.freeze(f)}):n.forEach(({field:f})=>{r.freeze(f)}),l()}return l(),r.all}const Ir=(e,t)=>{const n={};let o=0,r=0;const l=[];e.orderedFields.forEach(c=>{let d=e.lookup[c],f=0,u=!1;e.columnVisibilityModel[c]!==!1&&(d.flex&&d.flex>0?(o+=d.flex,u=!0):f=_t(d.width||mt.width,d.minWidth||mt.minWidth,d.maxWidth||mt.maxWidth),r+=f),d.computedWidth!==f&&(d=h({},d,{computedWidth:f})),u&&l.push(d),n[c]=d});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),a=Math.max(s-r,0);if(o>0&&s>0){const c=Bg({initialFreeSpace:a,totalFlexUnits:o,flexColumns:l});Object.keys(c).forEach(d=>{n[d].computedWidth=c[d].computedWidth})}return h({},e,{lookup:n})},Ug=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:o={}}=t,r=Object.keys(o);if(r.length===0&&n.length===0)return e;const l={},s=[];for(let f=0;f<n.length;f+=1){const u=n[f];e.lookup[u]&&(l[u]=!0,s.push(u))}const a=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(f=>!l[f])],c=h({},e.lookup);for(let f=0;f<r.length;f+=1){const u=r[f],g=h({},c[u],{hasBeenResized:!0});Object.entries(o[u]).forEach(([m,p])=>{g[m]=p===-1?1/0:p}),c[u]=g}return h({},e,{orderedFields:a,lookup:c})};function fs(e){let t=cr[Oa];return e&&cr[e]&&(t=cr[e]),t}const mn=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:o=at(e),keepOnlyColumnsToUpsert:r=!1})=>{var f,u;const l=!e.current.state.columns;let s;if(l)s={orderedFields:[],lookup:{},columnVisibilityModel:o};else{const g=St(e.current.state);s={orderedFields:r?[]:[...g.orderedFields],lookup:h({},g.lookup),columnVisibilityModel:o}}let a={};r&&!l&&(a=Object.keys(s.lookup).reduce((g,m)=>h({},g,{[m]:!1}),{})),t.forEach(g=>{const{field:m}=g;a[m]=!0;let p=s.lookup[m];p==null?(p=h({},fs(g.type),{field:m,hasBeenResized:!1}),s.orderedFields.push(m)):r&&s.orderedFields.push(m),p&&p.type!==g.type&&(p=h({},fs(g.type),{field:m}));let b=p.hasBeenResized;Ra.forEach(C=>{g[C]!==void 0&&(b=!0,g[C]===-1&&(g[C]=1/0))}),s.lookup[m]=h({},p,g,{hasBeenResized:b})}),r&&!l&&Object.keys(s.lookup).forEach(g=>{a[g]||delete s.lookup[g]});const c=e.current.unstable_applyPipeProcessors("hydrateColumns",s),d=Ug(c,n);return Ir(d,((u=(f=e.current).getRootDimensions)==null?void 0:u.call(f))??void 0)};function Wg({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:o,visibleRows:r}){let l=e;for(let s=n;s<o;s+=1)if(r[s]){const c=r[s].id,d=t.current.unstable_getCellColSpanInfo(c,e);d&&d.spannedByColSpan&&(l=d.leftVisibleCellIndex)}return l}function Sl(e,t){const n=En(e),o=On(e),r=Ha(e),l=Math.floor(t.columnHeaderHeight*n),s=r?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return l*(1+(o??0))+s}function Wt(e){return i.memo(e,mi)}const gs=1,qg=1.5,Kg=e=>{const{scrollDirection:t,classes:n}=e,o={root:["scrollArea",`scrollArea--${t}`]};return fe(o,de,n)},Xg=we("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${_["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${_["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})(()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${_["scrollArea--left"]}`]:{left:0},[`&.${_["scrollArea--right"]}`]:{right:0}}));function Yg(e){const{scrollDirection:t}=e,n=i.useRef(null),o=ie(),r=In(),l=U(o,En),s=U(o,Bo),a=U(o,et),c=i.useRef({left:0,top:0}),d=()=>{if(t==="left")return c.current.left>0;if(t==="right"){const F=s-a.viewportInnerSize.width;return c.current.left<F}return!1},[f,u]=i.useState(!1),[g,m]=i.useState(d),p=J(),b=h({},p,{scrollDirection:t}),C=Kg(b),w=Sl(o,p),x=Math.floor(p.columnHeaderHeight*l),L={height:x,top:w-x};t==="left"?L.left=a.leftPinnedWidth:t==="right"&&(L.right=a.rightPinnedWidth+(a.hasScrollX?a.scrollbarSize:0));const T=F=>{c.current=F,m(d)},O=_e(F=>{let E;if(F.preventDefault(),t==="left")E=F.clientX-n.current.getBoundingClientRect().right;else if(t==="right")E=Math.max(1,F.clientX-n.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");E=(E-gs)*qg+gs,r.start(0,()=>{o.current.scroll({left:c.current.left+E,top:c.current.top})})}),A=_e(()=>{u(!0)}),H=_e(()=>{u(!1)});return ee(o,"scrollPositionChange",T),ee(o,"columnHeaderDragStart",A),ee(o,"columnHeaderDragEnd",H),!f||!g?null:v.jsx(Xg,{ref:n,className:me(C.root),ownerState:b,onDragOver:O,style:L})}const ms=Wt(Yg),Qg=()=>{};function Jg(e,t,n){const o=i.useRef(null);o.current=t,Ke(()=>{if(typeof ResizeObserver>"u")return Qg;const r=e.current,l=new ResizeObserver(s=>{o.current(s)});return r&&l.observe(r),()=>{l.disconnect()}},[e,n])}const Aa=i.createContext(void 0);function Ft(){const e=i.useContext(Aa);if(e===void 0)throw new Error(["MUI X: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Un=(e,t)=>{let n,o;return t.pagination&&t.paginationMode==="client"?(o=Yo(e),n=ma(e)):(n=Gt(e),n.length===0?o=null:o={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:o}},on=(e,t)=>{const n=Un(e,t);return i.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},Zg=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",em=Zg.includes("firefox"),rn=e=>e.rowsMeta,Zo=e=>e.virtualization,ja=se(Zo,e=>e.enabled),er=se(Zo,e=>e.enabledForColumns),tr=se(Zo,e=>e.renderContext),za=Fe(e=>e.virtualization.renderContext.firstColumnIndex,e=>e.virtualization.renderContext.lastColumnIndex,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t})),yl={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},Va=(e,t)=>{const n={enabled:!t.disableVirtualization,enabledForColumns:!0,renderContext:yl};return h({},e,{virtualization:n})};function Na(e,t){const n=l=>{e.current.setState(s=>h({},s,{virtualization:h({},s.virtualization,{enabled:l})}))};ce(e,{unstable_setVirtualization:n,unstable_setColumnVirtualization:l=>{e.current.setState(s=>h({},s,{virtualization:h({},s.virtualization,{enabledForColumns:l})}))}},"public"),i.useEffect(()=>{n(!t.disableVirtualization)},[t.disableVirtualization])}const ur=50;var Re=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}(Re||{});const hs={top:0,left:0},tm=Object.freeze(new Map),nm=(e,t,n,o,r)=>({direction:Re.NONE,buffer:Ua(e,Re.NONE,t,n,o,r)});let Mr=!1;try{typeof window<"u"&&(Mr=/jsdom/.test(window.navigator.userAgent))}catch{}const om=()=>{const e=Ft(),t=J(),n=U(e,Ae),o=U(e,ja)&&!Mr,r=U(e,er)&&!Mr,l=U(e,et),s=l.viewportOuterSize,a=U(e,Ut),c=U(e,kn),d=a.bottom.length>0,[f,u]=i.useState(tm),g=en(),m=U(e,rt),p=U(e,Wo),b=U(e,rn),C=U(e,Bn),w=on(e,t),x=e.current.rootElementRef,L=e.current.mainElementRef,T=e.current.virtualScrollerRef,O=i.useRef(null),A=i.useRef(null),H=l.contentSize.height,F=l.columnsTotalWidth,E=U(e,yi);Jg(L,()=>e.current.resize());const R=i.useRef(hs),$=i.useRef(hs),k=i.useRef(yl),M=U(e,tr),y=In(),I=i.useRef(void 0),P=vn(()=>nm(g.direction,t.rowBufferPx,t.columnBufferPx,l.rowHeight*15,ur*6)).current,S={rowIndex:i.useMemo(()=>m?w.rows.findIndex(K=>K.id===m.id):-1,[m,w.rows]),columnIndex:i.useMemo(()=>m?n.findIndex(K=>K.field===m.field):-1,[m,n])},j=i.useCallback(K=>{if(sm(K,e.current.state.virtualization.renderContext))return;const Y=K.firstRowIndex!==k.current.firstRowIndex||K.lastRowIndex!==k.current.lastRowIndex;e.current.setState(te=>h({},te,{virtualization:h({},te.virtualization,{renderContext:K})})),l.isReady&&Y&&(k.current=K,e.current.publishEvent("renderedRowsIntervalChange",K)),$.current=R.current},[e,l.isReady]),D=()=>{const K={top:T.current.scrollTop,left:T.current.scrollLeft},Y=K.left-R.current.left,te=K.top-R.current.top,ae=Y!==0||te!==0;R.current=K;const re=ae?im(Y,te):Re.NONE,he=Math.abs(R.current.top-$.current.top),De=Math.abs(R.current.left-$.current.left),$e=he>=l.rowHeight||De>=ur,Te=P.direction!==re;if(!($e||Te))return M;if(Te)switch(re){case Re.NONE:case Re.LEFT:case Re.RIGHT:I.current=void 0;break;default:I.current=M;break}P.direction=re,P.buffer=Ua(g.direction,re,t.rowBufferPx,t.columnBufferPx,l.rowHeight*15,ur*6);const Le=dr(e,t,o,r),Be=fr(Le,R.current,P);return _u.flushSync(()=>{j(Be)}),y.start(1e3,D),Be},G=()=>{const K=dr(e,t,o,r),Y=fr(K,R.current,P);I.current=void 0,j(Y)},z=_e(K=>{const{scrollTop:Y,scrollLeft:te}=K.currentTarget;if(Y<0||g.direction==="ltr"&&te<0||g.direction==="rtl"&&te>0)return;const ae=D();e.current.publishEvent("scrollPositionChange",{top:Y,left:te,renderContext:ae})}),N=_e(K=>{e.current.publishEvent("virtualScrollerWheel",{},K)}),B=_e(K=>{e.current.publishEvent("virtualScrollerTouchMove",{},K)}),W=(K={})=>{var tt;if(!K.rows&&!w.range)return[];const Y=K.renderContext??M,te=!d&&K.position===void 0||d&&K.position==="bottom",ae=K.position!==void 0;let re;switch(K.position){case"top":re=0;break;case"bottom":re=a.top.length+w.rows.length;break;case void 0:re=a.top.length;break}const he=K.rows??w.rows,De=Y.firstRowIndex,$e=Math.min(Y.lastRowIndex,he.length),Te=K.rows?ls(0,K.rows.length):ls(De,$e);let ye=-1;!ae&&S.rowIndex!==-1&&(S.rowIndex<De&&(ye=S.rowIndex,Te.unshift(ye)),S.rowIndex>=$e&&(ye=S.rowIndex,Te.push(ye)));const Le=[],Be=(tt=t.slotProps)==null?void 0:tt.row,Ue=Lt(e);return Te.forEach(Ve=>{var no,oo,ro;const{id:be,model:ue}=he[Ve],ve=(((no=w==null?void 0:w.range)==null?void 0:no.firstRowIndex)||0)+re+Ve;if(E){const sn=c.left.length,lo=n.length-c.right.length;e.current.calculateColSpan({rowId:be,minFirstColumn:sn,maxLastColumn:lo,columns:n}),c.left.length>0&&e.current.calculateColSpan({rowId:be,minFirstColumn:0,maxLastColumn:c.left.length,columns:n}),c.right.length>0&&e.current.calculateColSpan({rowId:be,minFirstColumn:n.length-c.right.length,maxLastColumn:n.length,columns:n})}const Oe=(m==null?void 0:m.id)===be,le=e.current.rowHasAutoHeight(be)?"auto":e.current.unstable_getRowHeight(be);let ge;C[be]==null?ge=!1:ge=e.current.isRowSelectable(be);let xe=!1;K.position===void 0&&(xe=Ve===0);let oe=!1;const Ce=Ve===he.length-1;if(te)if(ae)oe=Ce;else{const sn=w.rows.length-1;Ve===sn&&(oe=!0)}const We=Ve===ye;let ot=null;p!==null&&p.id===be&&(ot=e.current.getCellParams(be,p.field).cellMode==="view"?p.field:null);let Ne=Y;!ae&&I.current&&Ve>=I.current.firstRowIndex&&Ve<I.current.lastRowIndex&&(Ne=I.current);const ln=Ba(Ue,Ne,g.direction,c.left.length),Hn=Ce&&K.position==="top";if(Le.push(v.jsx(t.slots.row,h({row:ue,rowId:be,index:ve,selected:ge,offsetTop:K.rows?void 0:b.positions[Ve],offsetLeft:ln,dimensions:l,rowHeight:le,tabbableCell:ot,pinnedColumns:c,visibleColumns:n,renderContext:Ne,focusedColumnIndex:Oe?S.columnIndex:void 0,isFirstVisible:xe,isLastVisible:oe,isNotVisible:We,showBottomBorder:Hn},Be),be)),We)return;const to=f.get(be);to&&Le.push(to),oe&&Le.push((ro=(oo=e.current).getInfiniteLoadingTriggerElement)==null?void 0:ro.call(oo,{lastRowId:be}))}),Le},Q=s.width&&F>=s.width,q=i.useMemo(()=>({overflowX:Q?void 0:"hidden",overflowY:t.autoHeight?"hidden":void 0}),[Q,t.autoHeight]),Z=i.useMemo(()=>{const K={width:Q?F:"auto",height:H};return t.autoHeight&&w.rows.length===0&&(K.height=Vi(e)),K},[e,F,H,Q,t.autoHeight,w.rows.length]);return i.useEffect(()=>{e.current.publishEvent("virtualScrollerContentSizeChange")},[e,Z]),Ke(()=>{e.current.resize()},[e,b.currentPageTotalHeight]),Ke(()=>{o&&(T.current.scrollLeft=0,T.current.scrollTop=0)},[o,x,T]),aa(s.width!==0,()=>{const K=dr(e,t,o,r),Y=fr(K,R.current,P);j(Y),e.current.publishEvent("scrollPositionChange",{top:R.current.top,left:R.current.left,renderContext:Y})}),e.current.register("private",{updateRenderContext:G}),ee(e,"columnsChange",G),ee(e,"filteredRowsSet",G),ee(e,"rowExpansionChange",G),{renderContext:M,setPanels:u,getRows:W,getContainerProps:()=>({ref:L}),getScrollerProps:()=>({ref:T,onScroll:z,onWheel:N,onTouchMove:B,style:q,role:"presentation",tabIndex:em?-1:void 0}),getContentProps:()=>({style:Z,role:"presentation"}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:O,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:A,role:"presentation"})}};function dr(e,t,n,o){const r=et(e.current.state),l=Un(e,t),s=Ae(e),a=e.current.state.rows.dataRowIds.at(-1),c=s.at(-1);return{enabled:n,enabledForColumns:o,apiRef:e,autoHeight:t.autoHeight,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx,leftPinnedWidth:r.leftPinnedWidth,columnsTotalWidth:r.columnsTotalWidth,viewportInnerWidth:r.viewportInnerSize.width,viewportInnerHeight:r.viewportInnerSize.height,lastRowHeight:a!==void 0?e.current.unstable_getRowHeight(a):0,lastColumnWidth:(c==null?void 0:c.computedWidth)??0,rowsMeta:rn(e.current.state),columnPositions:Lt(e),rows:l.rows,range:l.range,pinnedColumns:kn(e),visibleColumns:s}}function fr(e,t,n){let o;if(!e.enabled)o={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.visibleColumns.length};else{const{top:l,left:s}=t,a=Math.abs(s)+e.leftPinnedWidth,c=Math.min(ps(e,l,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1),d=e.autoHeight?c+e.rows.length:ps(e,l+e.viewportInnerHeight);let f=0,u=e.columnPositions.length;if(e.enabledForColumns){let g=!1;const[m,p]=Pr({firstIndex:c,lastIndex:d,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});for(let b=m;b<p&&!g;b+=1){const C=e.rows[b];g=e.apiRef.current.rowHasAutoHeight(C.id)}g||(f=Vt(a,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=Vt(a+e.viewportInnerWidth,e.columnPositions))}o={firstRowIndex:c,lastRowIndex:d,firstColumnIndex:f,lastColumnIndex:u}}return rm(e,o,n)}function ps(e,t,n){var s,a;const o=e.apiRef.current.getLastMeasuredRowIndex();let r=o===1/0;(s=e.range)!=null&&s.lastRowIndex&&!r&&(r=o>=e.range.lastRowIndex);const l=_t(o-(((a=e.range)==null?void 0:a.firstRowIndex)||0),0,e.rowsMeta.positions.length);return r||e.rowsMeta.positions[l]>=t?Vt(t,e.rowsMeta.positions,n):lm(t,e.rowsMeta.positions,l,n)}function rm(e,t,n){const[o,r]=Pr({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[l,s]=Pr({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns.left.length,maxLastIndex:e.visibleColumns.length-e.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),a=Wg({firstColumnToRender:l,apiRef:e.apiRef,firstRowToRender:o,lastRowToRender:r,visibleRows:e.rows});return{firstRowIndex:o,lastRowIndex:r,firstColumnIndex:a,lastColumnIndex:s}}function Vt(e,t,n=void 0,o=0,r=t.length){if(t.length<=0)return-1;if(o>=r)return o;const l=o+Math.floor((r-o)/2),s=t[l];let a;if(n!=null&&n.atStart){const c=(l===t.length-1?n.lastPosition:t[l+1])-s;a=e-c<s}else a=e<=s;return a?Vt(e,t,n,o,l):Vt(e,t,n,l+1,r)}function lm(e,t,n,o=void 0){let r=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=r,r*=2;return Vt(e,t,o,Math.floor(n/2),Math.min(n,t.length))}function Pr({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:o,minFirstIndex:r,maxLastIndex:l,positions:s,lastSize:a}){const c=s[e]-n,d=s[t]+o,f=Vt(c,s,{atStart:!0,lastPosition:s[s.length-1]+a}),u=Vt(d,s);return[_t(f,r,l),_t(u,r,l)]}function sm(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function Ba(e,t,n,o){const l=(n==="ltr"?1:-1)*(e[t.firstColumnIndex]??0)-(e[o]??0);return Math.abs(l)}function im(e,t){return e===0&&t===0?Re.NONE:Math.abs(t)>=Math.abs(e)?t>0?Re.DOWN:Re.UP:e>0?Re.RIGHT:Re.LEFT}function Ua(e,t,n,o,r,l){if(e==="rtl")switch(t){case Re.LEFT:t=Re.RIGHT;break;case Re.RIGHT:t=Re.LEFT;break}switch(t){case Re.NONE:return{rowAfter:n,rowBefore:n,columnAfter:o,columnBefore:o};case Re.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:l};case Re.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:l,columnBefore:0};case Re.UP:return{rowAfter:0,rowBefore:r,columnAfter:0,columnBefore:0};case Re.DOWN:return{rowAfter:r,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const am=()=>{var f,u;const e=ie(),t=J(),n=U(e,Dn),o=U(e,ul),r=n===0,l=U(e,Gi),s=!l&&r,a=!l&&n>0&&o===0;let c=null,d=null;return s&&(c="noRowsOverlay"),a&&(c="noResultsOverlay"),l&&(c="loadingOverlay",d=((u=(f=t.slotProps)==null?void 0:f.loadingOverlay)==null?void 0:u[r?"noRowsVariant":"variant"])||null),{overlayType:c,loadingOverlayVariant:d}},cm=we("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e,loadingOverlayVariant:t})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),um=we("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),dm=e=>{const{classes:t}=e;return fe({root:["overlayWrapper"],inner:["overlayWrapperInner"]},de,t)};function fm(e){const t=ie(),n=J(),o=on(t,n),r=U(t,et);let l=r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0);(n.autoHeight&&o.rows.length===0||l===0)&&(l=Vi(t));const s=dm(h({},e,{classes:n.classes}));return v.jsx(cm,h({className:me(s.root)},e,{children:v.jsx(um,h({className:me(s.inner),style:{height:l,width:r.viewportOuterSize.width}},e))}))}function Wa(e){var l,s;const{overlayType:t}=e,n=J();if(!t)return null;const o=(l=n.slots)==null?void 0:l[t],r=(s=n.slotProps)==null?void 0:s[t];return v.jsx(fm,h({},e,{children:v.jsx(o,h({},r))}))}const An=e=>e.columnMenu;function gm(){var C;const e=Ft(),t=J(),n=U(e,Ae),o=U(e,ia),r=U(e,na),l=U(e,ll),s=U(e,Wo),a=U(e,Ji),c=U(e,Qi),d=U(e,Nn),f=U(e,On),u=U(e,An),g=U(e,at),m=U(e,$a),p=!(a===null&&l===null&&s===null),b=e.current.columnHeadersContainerRef;return v.jsx(t.slots.columnHeaders,h({ref:b,visibleColumns:n,filterColumnLookup:o,sortColumnLookup:r,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:f,columnMenuState:u,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:p},(C=t.slotProps)==null?void 0:C.columnHeaders))}const mm=Wt(gm),hm=()=>{const e=Ft(),t=J(),n=U(e,Ae),o=U(e,Dn),r=U(e,On),l=U(e,ng);let s="grid";return t.treeData&&(s="treegrid"),{role:s,"aria-colcount":n.length,"aria-rowcount":r+1+l+o,"aria-multiselectable":rl(t)}},pm=we("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0}),bm=we("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})({flexGrow:1,position:"relative",overflow:"hidden"}),Cm=i.forwardRef((e,t)=>{const n=hm(),o=J();return v.jsxs(bm,h({ref:t,ownerState:o,className:e.className,tabIndex:-1},n,{children:[v.jsx(pm,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),wm=()=>fe({root:["topContainer"]},de,{}),Sm=we("div")({position:"sticky",zIndex:4,top:0});function ym(e){const t=wm();return v.jsx(Sm,h({},e,{className:me(t.root,e.className,_["container--top"]),role:"presentation"}))}const xm=()=>fe({root:["bottomContainer"]},de,{}),vm=we("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function Im(e){const t=xm();return v.jsx(vm,h({},e,{className:me(t.root,e.className,_["container--bottom"]),role:"presentation"}))}const Mm=(e,t)=>{const{classes:n}=e;return fe({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},de,n)},Pm=we("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),Em=i.forwardRef(function(t,n){var s;const o=J(),r=!o.autoHeight&&((s=t.style)==null?void 0:s.minHeight)==="auto",l=Mm(o,r);return v.jsx(Pm,h({ref:n},t,{ownerState:o,className:me(l.root,t.className)}))}),Fm=we("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),qa=we("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),km=we(qa)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),Dm=we(qa)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),Tm=we("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function Om({rowsLength:e}){const t=ie(),{viewportOuterSize:n,minimumSize:o,hasScrollX:r,hasScrollY:l,scrollbarSize:s,leftPinnedWidth:a,rightPinnedWidth:c}=U(t,et),d=r?s:0,f=n.height-o.height-d,u=Math.max(d,f);return u===0?null:v.jsxs(Fm,{className:_.filler,role:"presentation",style:{height:u,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[a>0&&v.jsx(km,{className:_["filler--pinnedLeft"],style:{width:a}}),v.jsx(Tm,{}),c>0&&v.jsx(Dm,{className:_["filler--pinnedRight"],style:{width:c+(l?s:0)}})]})}const _m=Wt(Om),Hm=["className"],Lm=e=>{const{classes:t}=e;return fe({root:["virtualScrollerRenderZone"]},de,t)},Gm=we("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),$m=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,Hm),l=ie(),s=J(),a=Lm(s),c=U(l,()=>{const d=tr(l);return rn(l.current.state).positions[d.firstRowIndex]??0});return v.jsx(Gm,h({ref:n,className:me(a.root,o),ownerState:s,style:{transform:`translate3d(0, ${c}px, 0)`}},r))}),Ka=e=>e.columnResize,Rm=se(Ka,e=>e.resizingColumnField),Xa={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1},qe=e=>e.editRows,Nt=e=>e.preferencePanel;var ht=function(e){return e.filters="filters",e.columns="columns",e}(ht||{});const Am=(e,t)=>{const{classes:n}=e,o={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return fe(o,de,n)},Ya=we("div")({position:"absolute",display:"inline-block",zIndex:6,"& > div":{display:"inline-block"},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),jm=we(Ya)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),zm=we(Ya)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Vm=we("div")({display:"inline-block"}),bs=i.forwardRef(function(t,n){const o=Ft(),r=J(),l=i.useRef(!1),s=i.useRef(0),a=i.useRef(null),c=i.useRef(null),d=Am(r,t.position),f=U(o,et),u=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",m=t.position==="vertical"?f.hasScrollX:f.hasScrollY,p=f.minimumSize[u]+(m?f.scrollbarSize:0),C=(t.position==="vertical"?f.viewportInnerSize.height:f.viewportOuterSize.width)*(p/f.viewportOuterSize[u]),w=_e(()=>{const T=o.current.virtualScrollerRef.current,O=a.current;if(T[g]===s.current)return;if(l.current){l.current=!1;return}l.current=!0;const A=T[g]/p;O[g]=A*C,s.current=T[g]}),x=_e(()=>{const T=o.current.virtualScrollerRef.current,O=a.current;if(l.current){l.current=!1;return}l.current=!0;const A=O[g]/C;T[g]=A*p});Ro(()=>{const T=o.current.virtualScrollerRef.current,O=a.current;return T.addEventListener("scroll",w,{capture:!0}),O.addEventListener("scroll",x,{capture:!0}),()=>{T.removeEventListener("scroll",w,{capture:!0}),O.removeEventListener("scroll",x,{capture:!0})}}),i.useEffect(()=>{c.current.style.setProperty(u,`${C}px`)},[C,u]);const L=t.position==="vertical"?jm:zm;return v.jsx(L,{ref:Ht(n,a),className:d.root,tabIndex:-1,"aria-hidden":"true",children:v.jsx(Vm,{ref:c,className:d.content})})}),Nm=(e,t,n)=>{const{classes:o}=e,r={root:["main",t.rightPinnedWidth>0&&"main--hasPinnedRight",n==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller"]};return fe(r,de,o)},Bm=we("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({position:"relative",height:"100%",overflow:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function Qa(e){const t=ie(),n=J(),o=U(t,et),r=am(),l=Nm(n,o,r.loadingOverlayVariant),s=om(),{getContainerProps:a,getScrollerProps:c,getContentProps:d,getRenderZoneProps:f,getScrollbarVerticalProps:u,getScrollbarHorizontalProps:g,getRows:m}=s,p=m();return v.jsxs(Cm,h({className:l.root},a(),{children:[v.jsx(ms,{scrollDirection:"left"}),v.jsx(ms,{scrollDirection:"right"}),v.jsxs(Bm,h({className:l.scroller},c(),{ownerState:n,children:[v.jsxs(ym,{children:[v.jsx(mm,{}),v.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:s})]}),v.jsx(Wa,h({},r)),v.jsx(Em,h({},d(),{children:v.jsxs($m,h({},f(),{children:[p,v.jsx(n.slots.detailPanels,{virtualScroller:s})]}))})),v.jsx(_m,{rowsLength:p.length}),v.jsx(Im,{children:v.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:s})})]})),o.hasScrollY&&v.jsx(bs,h({position:"vertical"},u())),o.hasScrollX&&v.jsx(bs,h({position:"horizontal"},g())),e.children]}))}function Ja(){var t;const e=J();return e.hideFooter?null:v.jsx(e.slots.footer,h({},(t=e.slotProps)==null?void 0:t.footer))}let gr;function Um(){return gr===void 0&&document.createElement("div").focus({get preventScroll(){return gr=!0,!1}}),gr}function Wm(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Ho(e,t){return e.closest(`.${t}`)}function $t(e){return e.replace(/["\\]/g,"\\$&")}function qm(e,t){return e.querySelector(`[role="columnheader"][data-field="${$t(t)}"]`)}function Za(e){return`.${_.row}[data-id="${$t(String(e))}"]`}function Km(e,t){return e.querySelector(Za(t))}function Xm(e,{id:t,field:n}){const o=Za(t),r=`.${_.cell}[data-field="${$t(n)}"]`,l=`${o} ${r}`;return e.querySelector(l)}function eo(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function Ym(e){return e.getAttribute("data-field")}function Qm(e,t){return e.querySelector(`[data-field="${$t(t)}"]`)}function Jm(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function Zm(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${$t(t)}-|"]`)??[])}function eh(e,t){var s;if(!Ho(e,_.root))throw new Error("MUI X: The root element is not found.");const o=e.getAttribute("aria-colindex");if(!o)return[];const r=Number(o)-1,l=[];return(s=t.virtualScrollerRef)!=null&&s.current?(nc(t).forEach(a=>{const c=a.getAttribute("data-id");if(!c)return;let d=r;const f=t.unstable_getCellColSpanInfo(c,r);f&&f.spannedByColSpan&&(d=f.leftVisibleCellIndex);const u=a.querySelector(`[data-colindex="${d}"]`);u&&l.push(u)}),l):[]}function Cs(e,t){return e.rootElementRef.current.querySelector(`.${_[t]}`)}const ec=({api:e,colIndex:t,position:n,filterFn:o})=>{if(t===null)return[];const r=[];return nc(e).forEach(l=>{l.getAttribute("data-id")&&l.querySelectorAll(`.${_[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(a=>{const c=_n(a);c!==null&&o(c)&&r.push(a)})}),r};function th(e,t){const n=_n(t);return ec({api:e,colIndex:n,position:"left",filterFn:o=>o>n})}function nh(e,t){const n=_n(t);return ec({api:e,colIndex:n,position:"right",filterFn:o=>o<n})}const tc=({api:e,colIndex:t,position:n,filterFn:o})=>{var l;if(!((l=e.columnHeadersContainerRef)!=null&&l.current))return[];if(t===null)return[];const r=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${_[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(s=>{const a=_n(s);a!==null&&o(a)&&r.push(s)}),r};function oh(e,t){const n=_n(t);return tc({api:e,position:"left",colIndex:n,filterFn:o=>o>n})}function rh(e,t){const n=_n(t);return tc({api:e,position:"right",colIndex:n,filterFn:o=>o<n})}function lh(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${$t(t)}"][role="columnheader"]`)}function sh(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${$t(t)}"][role="gridcell"]`))}function nc(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${_.row}`)}function _n(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}class Po extends Error{}function ih(e){const t=i.useCallback(u=>({field:u,colDef:e.current.getColumn(u)}),[e]),n=i.useCallback(u=>{const g=e.current.getRow(u);if(!g)throw new Po(`No row with id #${u} found`);return{id:u,columns:e.current.getAllColumns(),row:g}},[e]),o=i.useCallback((u,g)=>{const m=e.current.getColumn(g),p=e.current.getRow(u),b=e.current.getRowNode(u);if(!p||!b)throw new Po(`No row with id #${u} found`);const C=p[g],w=m!=null&&m.valueGetter?m.valueGetter(C,p,m,e):C,x=rt(e),L=Wo(e),T={id:u,field:g,row:p,rowNode:b,colDef:m,cellMode:e.current.getCellMode(u,g),hasFocus:x!==null&&x.field===g&&x.id===u,tabIndex:L&&L.field===g&&L.id===u?0:-1,value:w,formattedValue:w,isEditable:!1};return m&&m.valueFormatter&&(T.formattedValue=m.valueFormatter(w,p,m,e)),T.isEditable=m&&e.current.isCellEditable(T),T},[e]),r=i.useCallback((u,g)=>{const m=e.current.getColumn(g),p=e.current.getRow(u);if(!p)throw new Po(`No row with id #${u} found`);return!m||!m.valueGetter?p[g]:m.valueGetter(p[m.field],p,m,e)},[e]),l=i.useCallback((u,g)=>{const m=g.field;if(!g||!g.valueGetter)return u[m];const p=u[g.field];return g.valueGetter(p,u,g,e)},[e]),s=i.useCallback((u,g)=>{const m=l(u,g);return!g||!g.valueFormatter?m:g.valueFormatter(m,u,g,e)},[e,l]),a=i.useCallback(u=>e.current.rootElementRef.current?qm(e.current.rootElementRef.current,u):null,[e]),c=i.useCallback(u=>e.current.rootElementRef.current?Km(e.current.rootElementRef.current,u):null,[e]),d=i.useCallback((u,g)=>e.current.rootElementRef.current?Xm(e.current.rootElementRef.current,{id:u,field:g}):null,[e]);ce(e,{getCellValue:r,getCellParams:o,getCellElement:d,getRowValue:l,getRowFormattedValue:s,getRowParams:n,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:a},"public")}const nr=(e,t,n,o,r)=>{const l=t===n-1;return e===ke.LEFT&&l?!0:o?e===ke.LEFT?!0:e===ke.RIGHT?!l:!l||r:!1},or=(e,t)=>e===ke.RIGHT&&t===0,ah=["column","rowId","editCellState","align","children","colIndex","width","className","style","gridHasScrollX","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","sectionIndex","sectionLength","gridHasFiller","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],ch=["changeReason","unstable_updateValueOnRender"];let nt=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const oc={[nt.LEFT]:ke.LEFT,[nt.RIGHT]:ke.RIGHT,[nt.NONE]:void 0,[nt.VIRTUAL]:void 0},ws={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Se.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},uh=e=>{const{align:t,showLeftBorder:n,showRightBorder:o,pinnedPosition:r,isEditable:l,isSelected:s,isSelectionMode:a,classes:c}=e,d={root:["cell",`cell--text${Mn(t)}`,s&&"selected",l&&"cell--editable",n&&"cell--withLeftBorder",o&&"cell--withRightBorder",r===nt.LEFT&&"cell--pinnedLeft",r===nt.RIGHT&&"cell--pinnedRight",a&&!l&&"cell--selectionMode"]};return fe(d,de,c)},dh=i.forwardRef(function(t,n){var Oe;const{column:o,rowId:r,editCellState:l,align:s,colIndex:a,width:c,className:d,style:f,colSpan:u,disableDragEvents:g,isNotVisible:m,pinnedOffset:p,pinnedPosition:b,sectionIndex:C,sectionLength:w,gridHasFiller:x,onClick:L,onDoubleClick:T,onMouseDown:O,onMouseUp:A,onMouseOver:H,onKeyDown:F,onKeyUp:E,onDragEnter:R,onDragOver:$}=t,k=ne(t,ah),M=ie(),y=J(),I=o.field,P=U(M,()=>{try{const ge=M.current.getCellParams(r,I);return ge.api=M.current,ge}catch(le){if(le instanceof Po)return ws;throw le}},hi),S=U(M,()=>M.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:I})),{cellMode:j,hasFocus:D,isEditable:G=!1,value:z}=P,N=o.type==="actions"&&((Oe=o.getActions)==null?void 0:Oe.call(o,M.current.getRowParams(r)).some(le=>!le.props.disabled)),B=(j==="view"||!G)&&!N?P.tabIndex:-1,{classes:W,getCellClassName:Q}=y,Z=[U(M,()=>M.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:I}).filter(Boolean).join(" "))];o.cellClassName&&Z.push(typeof o.cellClassName=="function"?o.cellClassName(P):o.cellClassName),o.display==="flex"&&Z.push(_["cell--flex"]),Q&&Z.push(Q(P));const K=P.formattedValue??z,Y=i.useRef(null),te=Ht(n,Y),ae=i.useRef(null),re=y.cellSelection??!1,he=oc[b],De=or(he,C),$e=nr(he,C,w,y.showCellVerticalBorder,x),Te={align:s,showLeftBorder:De,showRightBorder:$e,isEditable:G,classes:y.classes,pinnedPosition:b,isSelected:S,isSelectionMode:re},ye=uh(Te),Le=i.useCallback(le=>ge=>{const xe=M.current.getCellParams(r,I||"");M.current.publishEvent(le,xe,ge),A&&A(ge)},[M,I,A,r]),Be=i.useCallback(le=>ge=>{const xe=M.current.getCellParams(r,I||"");M.current.publishEvent(le,xe,ge),O&&O(ge)},[M,I,O,r]),Ue=i.useCallback((le,ge)=>xe=>{if(!M.current.getRow(r))return;const oe=M.current.getCellParams(r,I||"");M.current.publishEvent(le,oe,xe),ge&&ge(xe)},[M,I,r]),tt=i.useMemo(()=>{if(m)return{padding:0,opacity:0,width:0,border:0};const le=h({"--width":`${c}px`},f);return b===nt.LEFT&&(le.left=p),b===nt.RIGHT&&(le.right=p),le},[c,m,f,p,b]);if(i.useEffect(()=>{if(!D||j===Se.Edit)return;const le=Xt(M.current.rootElementRef.current);if(Y.current&&!Y.current.contains(le.activeElement)){const ge=Y.current.querySelector('[tabindex="0"]'),xe=ae.current||ge||Y.current;if(Um())xe.focus({preventScroll:!0});else{const oe=M.current.getScrollPosition();xe.focus(),M.current.scroll(oe)}}},[D,j,M]),P===ws)return null;let Ve=k.onFocus,be,ue;if(l===null&&o.renderCell&&(be=o.renderCell(P)),l!==null&&o.renderEditCell){const le=M.current.getRowWithUpdatedValues(r,o.field),ge=ne(l,ch),xe=o.valueFormatter?o.valueFormatter(l.value,le,o,M):P.formattedValue,oe=h({},P,{row:le,formattedValue:xe},ge);be=o.renderEditCell(oe),Z.push(_["cell--editing"]),Z.push(W==null?void 0:W["cell--editing"])}if(be===void 0){const le=K==null?void 0:K.toString();be=le,ue=le}i.isValidElement(be)&&N&&(be=i.cloneElement(be,{focusElementRef:ae}));const ve=g?null:{onDragEnter:Ue("cellDragEnter",R),onDragOver:Ue("cellDragOver",$)};return v.jsx("div",h({ref:te,className:me(d,Z,ye.root),role:"gridcell","data-field":I,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":u,style:tt,title:ue,tabIndex:B,onClick:Ue("cellClick",L),onDoubleClick:Ue("cellDoubleClick",T),onMouseOver:Ue("cellMouseOver",H),onMouseDown:Be("cellMouseDown"),onMouseUp:Le("cellMouseUp"),onKeyDown:Ue("cellKeyDown",F),onKeyUp:Ue("cellKeyUp",E)},ve,k,{onFocus:Ve,children:be}))}),rc=Wt(dh),fh=["label","icon","showInMenu","onClick"],gh=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],mh=i.forwardRef((e,t)=>{var f;const n=J();if(!e.showInMenu){const{label:u,icon:g,onClick:m}=e,p=ne(e,fh),b=C=>{m==null||m(C)};return v.jsx(n.slots.baseIconButton,h({ref:t,size:"small",role:"menuitem","aria-label":u},p,{onClick:b},(f=n.slotProps)==null?void 0:f.baseIconButton,{children:i.cloneElement(g,{fontSize:"small"})}))}const{label:o,icon:r,onClick:l,closeMenuOnClick:s=!0,closeMenu:a}=e,c=ne(e,gh),d=u=>{l==null||l(u),s&&(a==null||a())};return v.jsxs(wt,h({ref:t},c,{onClick:d,children:[r&&v.jsx(jt,{children:r}),o]}))}),hh=["field","type","align","width","height","empty","style","className"],Ss="1.3em",ph="1.2em",ys=[40,80],bh={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},Ch=e=>{const{align:t,classes:n,empty:o}=e,r={root:["cell","cellSkeleton",`cell--text${t?Mn(t):"Left"}`,o&&"cellEmpty"]};return fe(r,de,n)},wh=jf(12345);function Sh(e){const{field:t,type:n,align:o,width:r,height:l,empty:s=!1,style:a,className:c}=e,d=ne(e,hh),u={classes:J().classes,align:o,empty:s},g=Ch(u),m=i.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:Ss,height:Ss};const[b,C]=n?bh[n]??ys:ys;return{variant:"text",width:`${Math.round(wh(b,C))}%`,height:ph}},[n]);return v.jsx("div",h({"data-field":t,className:me(g.root,c),style:h({height:l,maxWidth:r,minWidth:r},a)},d,{children:!s&&v.jsx(Hu,h({},m))}))}const lc=Wt(Sh);function yh(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Gu(pn(e.palette.divider,1),.88):$u(pn(e.palette.divider,1),.68)}const xs={[`.${_.columnSeparator}, .${_["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},vs={[`& .${_.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${_.menuIcon}`]:{width:"auto",visibility:"visible"}},xh="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",vh=Ge("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${_.autoHeight}`]:t.autoHeight},{[`&.${_.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${_["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${_["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${_["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${_.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${_["root--disableUserSelection"]} .${_.cell}`]:t["root--disableUserSelection"]},{[`&.${_.autosizing}`]:t.autosizing},{[`& .${_.editBooleanCell}`]:t.editBooleanCell},{[`& .${_.cell}`]:t.cell},{[`& .${_["cell--editing"]}`]:t["cell--editing"]},{[`& .${_["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${_["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${_["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${_["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${_["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${_["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${_["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${_["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${_.cellCheckbox}`]:t.cellCheckbox},{[`& .${_.cellSkeleton}`]:t.cellSkeleton},{[`& .${_.checkboxInput}`]:t.checkboxInput},{[`& .${_["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${_["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${_["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${_["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${_["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${_["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${_["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${_["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${_["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${_.columnHeader}`]:t.columnHeader},{[`& .${_.headerFilterRow}`]:t.headerFilterRow},{[`& .${_.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${_.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${_.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${_["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${_["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${_.columnSeparator}`]:t.columnSeparator},{[`& .${_.filterIcon}`]:t.filterIcon},{[`& .${_.iconSeparator}`]:t.iconSeparator},{[`& .${_.menuIcon}`]:t.menuIcon},{[`& .${_.menuIconButton}`]:t.menuIconButton},{[`& .${_.menuOpen}`]:t.menuOpen},{[`& .${_.menuList}`]:t.menuList},{[`& .${_["row--editable"]}`]:t["row--editable"]},{[`& .${_["row--editing"]}`]:t["row--editing"]},{[`& .${_["row--dragging"]}`]:t["row--dragging"]},{[`& .${_.row}`]:t.row},{[`& .${_.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${_.rowReorderCell}`]:t.rowReorderCell},{[`& .${_["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${_.sortIcon}`]:t.sortIcon},{[`& .${_.withBorderColor}`]:t.withBorderColor},{[`& .${_.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${_.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${_.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${_.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${_["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{var x,L;const t=Ft(),n=U(t,et),o=yh(e),r=e.shape.borderRadius,l=e.vars?e.vars.palette.background.default:((x=e.mixins.MuiDataGrid)==null?void 0:x.containerBackground)??e.palette.background.default,s=((L=e.mixins.MuiDataGrid)==null?void 0:L.pinnedBackground)??l,a=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:pn(e.palette.background.default,e.palette.action.disabledOpacity),c=(e.vars||e).palette.action.hoverOpacity,d=(e.vars||e).palette.action.hover,f=(e.vars||e).palette.action.selectedOpacity,u=e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${f})`:pn(e.palette.primary.main,f),g=e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} +
                ${e.vars.palette.action.hoverOpacity}
              ))`:pn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),m=e.vars?d:mr(s,d,c),p=e.vars?u:mr(s,u,f),b=e.vars?d:mr(p,d,c),C={backgroundColor:u,"&:hover":{backgroundColor:g,"@media (hover: none)":{backgroundColor:u}}};return h({"--unstable_DataGrid-radius":typeof r=="number"?`${r}px`:r,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":a,"--DataGrid-containerBackground":l,"--DataGrid-pinnedBackground":s,"--DataGrid-rowBorderColor":o,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:o,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[`.${_.main} > *:first-child${xh}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${_.autoHeight}`]:{height:"auto"},[`&.${_.autosizing}`]:{[`& .${_.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${_.iconButtonContainer}`]:{width:"0 !important",visibility:"hidden !important"},[`& .${_.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${_.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${_.groupingCriteriaCell}`]:{width:"unset"},[`& .${_.treeDataGroupingCell}`]:{width:"unset"}},[`& .${_.columnHeader}, & .${_.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${_.columnHeader}:focus-within, & .${_.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:pn(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${_.columnHeader}:focus, & .${_.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`&.${_["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${_["root--noToolbar"]} [aria-rowindex="1"] .${_["columnHeader--last"]}`]:{borderTopRightRadius:!n.hasScrollY||n.scrollbarSize===0?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${_.columnHeaderCheckbox}, & .${_.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${_.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${_["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${_["columnHeader--sorted"]} .${_.iconButtonContainer}, & .${_["columnHeader--filtered"]} .${_.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${_.columnHeader}:not(.${_["columnHeader--sorted"]}) .${_.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${_.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${_.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${_["columnHeader--filledGroup"]} .${_.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${_.sortIcon}, & .${_.filterIcon}`]:{fontSize:"inherit"},[`& .${_["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${_["columnHeader--alignCenter"]} .${_.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${_["columnHeader--alignRight"]} .${_.columnHeaderDraggableContainer}, & .${_["columnHeader--alignRight"]} .${_.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${_["columnHeader--alignCenter"]} .${_.menuIcon}, & .${_["columnHeader--alignRight"]} .${_.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${_["columnHeader--alignRight"]} .${_.menuIcon}, & .${_["columnHeader--alignRight"]} .${_.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${_["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${_["columnHeader--pinnedLeft"]}, & .${_["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},[`& .${_.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",color:o},[`& .${_.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${_.columnHeaders}:hover`]:xs,[`& .${_.columnHeader}:hover`]:vs,[`& .${_.columnHeader}:not(.${_["columnHeader--sorted"]}):hover .${_.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${_.columnHeaders}`]:xs,[`& .${_.columnHeader}`]:vs},[`& .${_["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${_["columnSeparator--sideRight"]}`]:{right:-12},[`& .${_["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:o}},[`&.${_["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${_.iconSeparator}`]:{color:"inherit"},[`& .${_.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${_.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${_.headerFilterRow}`]:{[`& .${_.columnHeader}`]:{boxSizing:"border-box",borderTop:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${_["row--borderBottom"]} .${_.columnHeader},
      & .${_["row--borderBottom"]} .${_.filler},
      & .${_["row--borderBottom"]} .${_.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${_["row--borderBottom"]} .${_.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${_.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${_["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":C},[`& .${_["container--top"]}, & .${_["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${_.cell}`]:{height:"var(--height)",minWidth:"var(--width)",maxWidth:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":C},[`& .${_["virtualScrollerContent--overflowed"]} .${_["row--lastVisible"]} .${_.cell}`]:{borderTopColor:"transparent"},[`&.${_["root--disableUserSelection"]} .${_.cell}`]:{userSelect:"none"},[`& .${_["row--dynamicHeight"]} > .${_.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${_.cellEmpty}`]:{padding:0,height:"unset"},[`& .${_.cell}.${_["cell--selectionMode"]}`]:{cursor:"default"},[`& .${_.cell}.${_["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${_["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${_["row--editing"]} .${_.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${_.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${_.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${_.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${_.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${_.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${_["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${_.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${_.withBorderColor}`]:{borderColor:o},[`& .${_["cell--withLeftBorder"]}, & .${_["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${_["cell--withRightBorder"]}, & .${_["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${_["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${_["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${_["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${_["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${_["cell--pinnedLeft"]}, & .${_["cell--pinnedRight"]}`]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)"},[`& .${_.virtualScrollerContent} .${_.row}`]:{"&:hover":{[`& .${_["cell--pinnedLeft"]}, & .${_["cell--pinnedRight"]}`]:{backgroundColor:m}},"&.Mui-selected":{[`& .${_["cell--pinnedLeft"]}, & .${_["cell--pinnedRight"]}`]:{backgroundColor:p},"&:hover":{[`& .${_["cell--pinnedLeft"]}, & .${_["cell--pinnedRight"]}`]:{backgroundColor:b}}}},[`& .${_.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${_.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${_.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${_.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${_["columnHeader--dragging"]}, & .${_["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${_["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${_.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${_.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${_.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${_.treeDataGroupingCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${_.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${_.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`.${_.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${_["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--rowBorderColor)"},[`&.${_["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${_.filler}`]:{flex:1},[`& .${_["filler--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${_["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${_.virtualScrollerContent}, & .${_["scrollbar--vertical"]}, & .${_.pinnedRows}`]:{display:"none"}}})});function mr(e,t,n,o=1){const r=(c,d)=>Math.round((c**(1/o)*(1-n)+d**(1/o)*n)**o),l=_l(e),s=_l(t),a=[r(l.values[0],s.values[0]),r(l.values[1],s.values[1]),r(l.values[2],s.values[2])];return Lu({type:"rgb",values:a})}const Ih=["className"],Mh=(e,t)=>{const{autoHeight:n,classes:o,showCellVerticalBorder:r}=e,l={root:["root",n&&"autoHeight",`root--density${Mn(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",r&&"withVerticalBorder"]};return fe(l,de,o)},sc=i.forwardRef(function(t,n){const o=J(),{className:r}=t,l=ne(t,Ih),s=Ft(),a=U(s,At),c=s.current.rootElementRef,d=Ht(c,n),f=o,u=Mh(f,a),[g,m]=i.useState(!1);return Ke(()=>{m(!0)},[]),g?v.jsx(vh,h({ref:d,className:me(r,u.root),ownerState:f},l)):null}),Ph=["className"],Eh=e=>{const{classes:t}=e;return fe({root:["footerContainer","withBorderColor"]},de,t)},Fh=we("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),ic=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,Ph),l=J(),s=Eh(l);return v.jsx(Fh,h({ref:n,className:me(s.root,o),ownerState:l},r))}),kh=["className"],Dh=e=>{const{classes:t}=e;return fe({root:["overlay"]},de,t)},Th=we("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),rr=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,kh),l=J(),s=Dh(l);return v.jsx(Th,h({ref:n,className:me(s.root,o),ownerState:l},r))}),Oh=["className","children"],_h=e=>{const{classes:t}=e;return fe({root:["toolbarContainer"]},de,t)},Hh=we("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),ac=i.forwardRef(function(t,n){const{className:o,children:r}=t,l=ne(t,Oh),s=J(),a=_h(s);return r?v.jsx(Hh,h({ref:n,className:me(o,a.root),ownerState:s},l,{children:r})):null}),Lh=e=>{const{classes:t,open:n}=e;return fe({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},de,t)},Gh=i.memo(e=>{var u,g;const{colDef:t,open:n,columnMenuId:o,columnMenuButtonId:r,iconButtonRef:l}=e,s=ie(),a=J(),c=h({},e,{classes:a.classes}),d=Lh(c),f=i.useCallback(m=>{m.preventDefault(),m.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]);return v.jsx("div",{className:d.root,children:v.jsx(a.slots.baseTooltip,h({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(u=a.slotProps)==null?void 0:u.baseTooltip,{children:v.jsx(a.slots.baseIconButton,h({ref:l,tabIndex:-1,className:d.button,"aria-label":s.current.getLocaleText("columnMenuLabel"),size:"small",onClick:f,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?o:void 0,id:r},(g=a.slotProps)==null?void 0:g.baseIconButton,{children:v.jsx(a.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function cc({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:o,field:r,open:l,target:s,onExited:a}){const c=ie(),d=c.current.getColumn(r),f=_e(u=>{u&&(u.stopPropagation(),s!=null&&s.contains(u.target))||c.current.hideColumnMenu()});return!s||!d?null:v.jsx(qn,{placement:`bottom-${d.align==="right"?"start":"end"}`,open:l,target:s,onClose:f,onExited:a,children:v.jsx(n,h({colDef:d,hideMenu:f,open:l,id:e,labelledby:t},o))})}const $h=["className"],Rh=e=>{const{classes:t}=e;return fe({root:["columnHeaderTitle"]},de,t)},Ah=we("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),jh=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,$h),l=J(),s=Rh(l);return v.jsx(Ah,h({ref:n,className:me(s.root,o),ownerState:l},r))});function uc(e){var c;const{label:t,description:n}=e,o=J(),r=i.useRef(null),[l,s]=i.useState(""),a=i.useCallback(()=>{if(!n&&(r!=null&&r.current)){const d=Wm(r.current);s(d?t:"")}},[n,t]);return v.jsx(o.slots.baseTooltip,h({title:n||l},(c=o.slotProps)==null?void 0:c.baseTooltip,{children:v.jsx(jh,{onMouseOver:a,ref:r,children:t})}))}const zh=["resizable","resizing","height","side"];var lr=function(e){return e.Left="left",e.Right="right",e}(lr||{});const Vh=e=>{const{resizable:t,resizing:n,classes:o,side:r}=e,l={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",r&&`columnSeparator--side${Mn(r)}`],icon:["iconSeparator"]};return fe(l,de,o)};function Nh(e){const{height:t,side:n=lr.Right}=e,o=ne(e,zh),r=J(),l=h({},e,{side:n,classes:r.classes}),s=Vh(l),a=i.useCallback(c=>{c.preventDefault(),c.stopPropagation()},[]);return v.jsx("div",h({className:s.root,style:{minHeight:t,opacity:r.showColumnVerticalBorder?0:1}},o,{onClick:a,children:v.jsx(r.slots.columnResizeIcon,{className:s.icon})}))}const dc=i.memo(Nh),Bh=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],fc=i.forwardRef(function(t,n){const{classes:o,colIndex:r,height:l,isResizing:s,sortDirection:a,hasFocus:c,tabIndex:d,separatorSide:f,isDraggable:u,headerComponent:g,description:m,width:p,columnMenuIconButton:b=null,columnMenu:C=null,columnTitleIconButtons:w=null,headerClassName:x,label:L,resizable:T,draggableContainerProps:O,columnHeaderSeparatorProps:A,style:H}=t,F=ne(t,Bh),E=Ft(),R=J(),$=i.useRef(null),k=Ht($,n);let M="none";return a!=null&&(M=a==="asc"?"ascending":"descending"),i.useLayoutEffect(()=>{var I;const y=E.current.state.columnMenu;if(c&&!y.open){const S=$.current.querySelector('[tabindex="0"]')||$.current;S==null||S.focus(),(I=E.current.columnHeadersContainerRef)!=null&&I.current&&(E.current.columnHeadersContainerRef.current.scrollLeft=0)}},[E,c]),v.jsxs("div",h({ref:k,className:me(o.root,x),style:h({},H,{height:l,width:p,minWidth:p,maxWidth:p}),role:"columnheader",tabIndex:d,"aria-colindex":r+1,"aria-sort":M,"aria-label":g==null?L:void 0},F,{children:[v.jsxs("div",h({className:o.draggableContainer,draggable:u,role:"presentation"},O,{children:[v.jsxs("div",{className:o.titleContainer,role:"presentation",children:[v.jsx("div",{className:o.titleContainerContent,children:g!==void 0?g:v.jsx(uc,{label:L,description:m,columnWidth:p})}),w]}),b]})),v.jsx(dc,h({resizable:!R.disableColumnResize&&!!T,resizing:s,height:l,side:f},A)),C]}))}),Uh=e=>{const{colDef:t,classes:n,isDragging:o,sortDirection:r,showRightBorder:l,showLeftBorder:s,filterItemsCounter:a,pinnedPosition:c}=e,d=r!=null,f=a!=null&&a>0,u=t.type==="number",g={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",o&&"columnHeader--moving",d&&"columnHeader--sorted",f&&"columnHeader--filtered",u&&"columnHeader--numeric","withBorderColor",l&&"columnHeader--withRightBorder",s&&"columnHeader--withLeftBorder",c==="left"&&"columnHeader--pinnedLeft",c==="right"&&"columnHeader--pinnedRight"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return fe(g,de,n)};function Wh(e){var Y,te,ae;const{colDef:t,columnMenuOpen:n,colIndex:o,headerHeight:r,isResizing:l,isLast:s,sortDirection:a,sortIndex:c,filterItemsCounter:d,hasFocus:f,tabIndex:u,disableReorder:g,separatorSide:m,style:p,pinnedPosition:b,indexInSection:C,sectionLength:w,gridHasFiller:x}=e,L=Ft(),T=J(),O=i.useRef(null),A=Pe(),H=Pe(),F=i.useRef(null),[E,R]=i.useState(n),$=i.useMemo(()=>!T.disableColumnReorder&&!g&&!t.disableReorder,[T.disableColumnReorder,g,t.disableReorder]);let k;t.renderHeader&&(k=t.renderHeader(L.current.getColumnHeaderParams(t.field)));const M=or(b,C),y=nr(b,C,w,T.showCellVerticalBorder,x),I=h({},e,{classes:T.classes,showRightBorder:y,showLeftBorder:M}),P=Uh(I),S=i.useCallback(re=>he=>{eo(he)||L.current.publishEvent(re,L.current.getColumnHeaderParams(t.field),he)},[L,t.field]),j=i.useMemo(()=>({onClick:S("columnHeaderClick"),onDoubleClick:S("columnHeaderDoubleClick"),onMouseOver:S("columnHeaderOver"),onMouseOut:S("columnHeaderOut"),onMouseEnter:S("columnHeaderEnter"),onMouseLeave:S("columnHeaderLeave"),onKeyDown:S("columnHeaderKeyDown"),onFocus:S("columnHeaderFocus"),onBlur:S("columnHeaderBlur")}),[S]),D=i.useMemo(()=>$?{onDragStart:S("columnHeaderDragStart"),onDragEnter:S("columnHeaderDragEnter"),onDragOver:S("columnHeaderDragOver"),onDragEnd:S("columnHeaderDragEnd")}:{},[$,S]),G=i.useMemo(()=>({onMouseDown:S("columnSeparatorMouseDown"),onDoubleClick:S("columnSeparatorDoubleClick")}),[S]);i.useEffect(()=>{E||R(n)},[E,n]);const z=i.useCallback(()=>{R(!1)},[]),N=!T.disableColumnMenu&&!t.disableColumnMenu&&v.jsx(Gh,{colDef:t,columnMenuId:A,columnMenuButtonId:H,open:E,iconButtonRef:F}),B=v.jsx(cc,{columnMenuId:A,columnMenuButtonId:H,field:t.field,open:n,target:F.current,ContentComponent:T.slots.columnMenu,contentComponentProps:(Y=T.slotProps)==null?void 0:Y.columnMenu,onExited:z}),W=t.sortingOrder??T.sortingOrder,Q=(t.sortable||a!=null)&&!t.hideSortIcons&&!T.disableColumnSorting,q=v.jsxs(i.Fragment,{children:[!T.disableColumnFilter&&v.jsx(T.slots.columnHeaderFilterIconButton,h({field:t.field,counter:d},(te=T.slotProps)==null?void 0:te.columnHeaderFilterIconButton)),Q&&v.jsx(T.slots.columnHeaderSortIcon,h({field:t.field,direction:a,index:c,sortingOrder:W,disabled:!t.sortable},(ae=T.slotProps)==null?void 0:ae.columnHeaderSortIcon))]});i.useLayoutEffect(()=>{var he;const re=L.current.state.columnMenu;if(f&&!re.open){const $e=O.current.querySelector('[tabindex="0"]')||O.current;$e==null||$e.focus(),(he=L.current.columnHeadersContainerRef)!=null&&he.current&&(L.current.columnHeadersContainerRef.current.scrollLeft=0)}},[L,f]);const Z=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,K=t.headerName??t.field;return v.jsx(fc,h({ref:O,classes:P,columnMenuOpen:n,colIndex:o,height:r,isResizing:l,sortDirection:a,hasFocus:f,tabIndex:u,separatorSide:m,isDraggable:$,headerComponent:k,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:N,columnTitleIconButtons:q,headerClassName:me(Z,s&&_["columnHeader--last"]),label:K,resizable:!T.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:B,draggableContainerProps:D,columnHeaderSeparatorProps:G,style:p},j))}const gc=Wt(Wh),qh=["className"],Kh=e=>{const{classes:t}=e;return fe({root:["iconButtonContainer"]},de,t)},Xh=we("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),mc=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,qh),l=J(),s=Kh(l);return v.jsx(Xh,h({ref:n,className:me(s.root,o),ownerState:l},r))}),Yh=["direction","index","sortingOrder","disabled"],Qh=e=>{const{classes:t}=e;return fe({icon:["sortIcon"]},de,t)};function Jh(e,t,n,o){let r;const l={};return t==="asc"?r=e.columnSortedAscendingIcon:t==="desc"?r=e.columnSortedDescendingIcon:(r=e.columnUnsortedIcon,l.sortingOrder=o),r?v.jsx(r,h({fontSize:"small",className:n},l)):null}function Zh(e){var g;const{direction:t,index:n,sortingOrder:o,disabled:r}=e,l=ne(e,Yh),s=ie(),a=J(),c=h({},e,{classes:a.classes}),d=Qh(c),f=Jh(a.slots,t,d.icon,o);if(!f)return null;const u=v.jsx(a.slots.baseIconButton,h({tabIndex:-1,"aria-label":s.current.getLocaleText("columnHeaderSortIconLabel"),title:s.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:r},(g=a.slotProps)==null?void 0:g.baseIconButton,l,{children:f}));return v.jsxs(mc,{children:[n!=null&&v.jsx(zr,{badgeContent:n,color:"default",overlap:"circular",children:u}),n==null&&u]})}const hc=i.memo(Zh),ep=e=>{const{classes:t}=e;return fe({icon:["filterIcon"]},de,t)};function pc(e){var p,b;const{counter:t,field:n,onClick:o}=e,r=ie(),l=J(),s=h({},e,{classes:l.classes}),a=ep(s),c=U(r,Nt),d=Pe(),f=Pe(),u=i.useCallback(C=>{C.preventDefault(),C.stopPropagation();const{open:w,openedPanelValue:x}=Nt(r.current.state);w&&x===ht.filters?r.current.hideFilterPanel():r.current.showFilterPanel(void 0,f,d),o&&o(r.current.getColumnHeaderParams(n),C)},[r,n,o,f,d]);if(!t)return null;const g=c.open&&c.labelId===d,m=v.jsx(l.slots.baseIconButton,h({id:d,onClick:u,color:"default","aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?f:void 0},(p=l.slotProps)==null?void 0:p.baseIconButton,{children:v.jsx(l.slots.columnFilteredIcon,{className:a.icon,fontSize:"small"})}));return v.jsx(l.slots.baseTooltip,h({title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},(b=l.slotProps)==null?void 0:b.baseTooltip,{children:v.jsxs(mc,{children:[t>1&&v.jsx(zr,{badgeContent:t,color:"default",children:m}),t===1&&m]})}))}const Er=Ee(v.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Fr=Ee(v.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),kr=Ee(v.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Dr=Ee(v.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),bc=Ee(v.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Tr=Ee(v.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),Cc=Ee(v.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),tp=Ee(v.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),np=Ee(v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),wc=Ee(v.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),Sc=Ee(v.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),yc=Ee(v.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),xc=Ee(v.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),vc=Ee(v.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),Ic=Ee(v.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Eo=Ee(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Or=Ee(v.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Mc=Ee(v.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Pc=Ee(v.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),_r=Ee(v.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Ec=Ee(v.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Fc=Ee(v.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),kc=Ee(v.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Dc=Ee(v.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),Tc=Ee(v.jsx("g",{children:v.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),Oc=Ee(v.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),op=Ee(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),_c=Ee(v.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),rp=["hideMenu","colDef","id","labelledby","className","children","open"],lp=Ge(Ao)(()=>({minWidth:248})),Hc=i.forwardRef(function(t,n){const{hideMenu:o,id:r,labelledby:l,className:s,children:a,open:c}=t,d=ne(t,rp),f=i.useCallback(u=>{Qo(u.key)&&u.preventDefault(),bl(u.key)&&o(u)},[o]);return v.jsx(lp,h({id:r,ref:n,className:me(_.menuList,s),"aria-labelledby":l,onKeyDown:f,autoFocus:c},d,{children:a}))}),sp=["displayOrder"],ip=e=>{const t=Ft(),{defaultSlots:n,defaultSlotProps:o,slots:r={},slotProps:l={},hideMenu:s,colDef:a,addDividers:c=!0}=e,d=i.useMemo(()=>h({},n,r),[n,r]),f=i.useMemo(()=>{if(!l||Object.keys(l).length===0)return o;const m=h({},l);return Object.entries(o).forEach(([p,b])=>{m[p]=h({},b,l[p]||{})}),m},[o,l]),u=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),g=i.useMemo(()=>{const m=Object.keys(n);return Object.keys(r).filter(p=>!m.includes(p))},[r,n]);return i.useMemo(()=>{const b=Array.from(new Set([...u,...g])).filter(C=>d[C]!=null).sort((C,w)=>{const x=f[C],L=f[w],T=Number.isFinite(x==null?void 0:x.displayOrder)?x.displayOrder:100,O=Number.isFinite(L==null?void 0:L.displayOrder)?L.displayOrder:100;return T-O});return b.reduce((C,w,x)=>{let L={colDef:a,onClick:s};const T=f[w];if(T){const O=ne(T,sp);L=h({},L,O)}return c&&x!==b.length-1?[...C,[d[w],L],[Ru,{}]]:[...C,[d[w],L]]},[])},[c,a,u,s,d,f,g])};function Lc(e){const{colDef:t,onClick:n}=e,o=ie(),r=J(),a=Ae(o).filter(d=>d.disableColumnMenu!==!0).length===1,c=i.useCallback(d=>{a||(o.current.setColumnVisibility(t.field,!1),n(d))},[o,t.field,n,a]);return r.disableColumnSelector||t.hideable===!1?null:v.jsxs(wt,{onClick:c,disabled:a,children:[v.jsx(jt,{children:v.jsx(r.slots.columnMenuHideIcon,{fontSize:"small"})}),v.jsx(Cn,{children:o.current.getLocaleText("columnMenuHideColumn")})]})}function Gc(e){const{onClick:t}=e,n=ie(),o=J(),r=i.useCallback(l=>{t(l),n.current.showPreferences(ht.columns)},[n,t]);return o.disableColumnSelector?null:v.jsxs(wt,{onClick:r,children:[v.jsx(jt,{children:v.jsx(o.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),v.jsx(Cn,{children:n.current.getLocaleText("columnMenuManageColumns")})]})}function $c(e){return v.jsxs(i.Fragment,{children:[v.jsx(Lc,h({},e)),v.jsx(Gc,h({},e))]})}function Rc(e){const{colDef:t,onClick:n}=e,o=ie(),r=J(),l=i.useCallback(s=>{n(s),o.current.showFilterPanel(t.field)},[o,t.field,n]);return r.disableColumnFilter||!t.filterable?null:v.jsxs(wt,{onClick:l,children:[v.jsx(jt,{children:v.jsx(r.slots.columnMenuFilterIcon,{fontSize:"small"})}),v.jsx(Cn,{children:o.current.getLocaleText("columnMenuFilter")})]})}function Ac(e){const{colDef:t,onClick:n}=e,o=ie(),r=U(o,st),l=J(),s=i.useMemo(()=>{if(!t)return null;const f=r.find(u=>u.field===t.field);return f==null?void 0:f.sort},[t,r]),a=t.sortingOrder??l.sortingOrder,c=i.useCallback(f=>{n(f);const u=f.currentTarget.getAttribute("data-value")||null;o.current.sortColumn(t.field,u===s?null:u)},[o,t,n,s]);if(l.disableColumnSorting||!t||!t.sortable||!a.some(f=>!!f))return null;const d=f=>{const u=o.current.getLocaleText(f);return typeof u=="function"?u(t):u};return v.jsxs(i.Fragment,{children:[a.includes("asc")&&s!=="asc"?v.jsxs(wt,{onClick:c,"data-value":"asc",children:[v.jsx(jt,{children:v.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),v.jsx(Cn,{children:d("columnMenuSortAsc")})]}):null,a.includes("desc")&&s!=="desc"?v.jsxs(wt,{onClick:c,"data-value":"desc",children:[v.jsx(jt,{children:v.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),v.jsx(Cn,{children:d("columnMenuSortDesc")})]}):null,a.includes(null)&&s!=null?v.jsxs(wt,{onClick:c,children:[v.jsx(jt,{}),v.jsx(Cn,{children:o.current.getLocaleText("columnMenuUnsort")})]}):null]})}const ap=["defaultSlots","defaultSlotProps","slots","slotProps"],jc={columnMenuSortItem:Ac,columnMenuFilterItem:Rc,columnMenuColumnsItem:$c},zc={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},Vc=i.forwardRef(function(t,n){const{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}=t,a=ne(t,ap),c=ip(h({},a,{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}));return v.jsx(Hc,h({ref:n},a,{children:c.map(([d,f],u)=>v.jsx(d,h({},f),u))}))}),Nc=i.forwardRef(function(t,n){return v.jsx(Vc,h({},t,{ref:n,defaultSlots:jc,defaultSlotProps:zc}))}),cp=["className","slotProps"],up=e=>{const{classes:t}=e;return fe({root:["panelWrapper"]},de,t)},dp=Ge("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),fp=()=>!0,xl=i.forwardRef(function(t,n){const{className:o,slotProps:r={}}=t,l=ne(t,cp),s=J(),a=up(s);return v.jsx(Au,h({open:!0,disableEnforceFocus:!0,isEnabled:fp},r.TrapFocus,{children:v.jsx(dp,h({ref:n,tabIndex:-1,className:me(o,a.root),ownerState:s},l))}))}),gp=(e,t)=>{const n=new Set(Object.keys(e).filter(l=>e[l]===!1)),o=new Set(Object.keys(t).filter(l=>t[l]===!1));if(n.size!==o.size)return!1;let r=!0;return n.forEach(l=>{o.has(l)||(r=!1)}),r},mp=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,hp=e=>{const{classes:t}=e;return fe({root:["columnsManagement"],header:["columnsManagementHeader"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},de,t)},Is=new Intl.Collator;function vl(e){var M,y,I;const t=ie(),n=i.useRef(null),o=U(t,gt),r=vn(()=>at(t)).current,l=U(t,at),s=J(),[a,c]=i.useState(""),d=hp(s),{sort:f,searchPredicate:u=mp,autoFocusSearchField:g=!0,disableShowHideToggle:m=!1,disableResetButton:p=!1,toggleAllMode:b="all",getTogglableColumns:C}=e,w=i.useMemo(()=>gp(l,r),[l,r]),x=i.useMemo(()=>{switch(f){case"asc":return[...o].sort((P,S)=>Is.compare(P.headerName||P.field,S.headerName||S.field));case"desc":return[...o].sort((P,S)=>-Is.compare(P.headerName||P.field,S.headerName||S.field));default:return o}},[o,f]),L=P=>{const{name:S}=P.target;t.current.setColumnVisibility(S,l[S]===!1)},T=i.useMemo(()=>{const P=C?C(x):null,S=P?x.filter(({field:j})=>P.includes(j)):x;return a?S.filter(j=>u(j,a.toLowerCase())):S},[x,a,u,C]),O=i.useCallback(P=>{const S=at(t),j=h({},S),D=C?C(o):null;return(b==="filteredOnly"?T:o).forEach(G=>{G.hideable&&(D==null||D.includes(G.field))&&(P?delete j[G.field]:j[G.field]=!1)}),t.current.setColumnVisibilityModel(j)},[t,o,C,b,T]),A=i.useCallback(P=>{c(P.target.value)},[]),H=i.useMemo(()=>T.filter(P=>P.hideable),[T]),F=i.useMemo(()=>H.every(P=>l[P.field]==null||l[P.field]!==!1),[l,H]),E=i.useMemo(()=>H.every(P=>l[P.field]===!1),[l,H]),R=i.useRef(null);i.useEffect(()=>{g?n.current.focus():R.current&&typeof R.current.focus=="function"&&R.current.focus()},[g]);let $=!1;const k=P=>$===!1&&P.hideable!==!1?($=!0,!0):!1;return v.jsxs(i.Fragment,{children:[v.jsx(bp,{className:d.header,ownerState:s,children:v.jsx(s.slots.baseTextField,h({placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,value:a,onChange:A,variant:"outlined",size:"small",InputProps:{startAdornment:v.jsx(s.slots.baseInputAdornment,{position:"start",children:v.jsx(s.slots.quickFilterIcon,{})}),sx:{pl:1.5}},fullWidth:!0},(M=s.slotProps)==null?void 0:M.baseTextField))}),v.jsxs(pp,{className:d.root,ownerState:s,children:[T.map(P=>{var S;return v.jsx(Hl,{className:d.row,control:v.jsx(s.slots.baseCheckbox,h({disabled:P.hideable===!1,checked:l[P.field]!==!1,onClick:L,name:P.field,sx:{p:.5},inputRef:k(P)?R:void 0},(S=s.slotProps)==null?void 0:S.baseCheckbox)),label:P.headerName||P.field},P.field)}),T.length===0&&v.jsx(wp,{ownerState:s,children:t.current.getLocaleText("columnsManagementNoColumns")})]}),(!m||!p)&&T.length>0?v.jsxs(Cp,{ownerState:s,className:d.footer,children:[m?v.jsx("span",{}):v.jsx(Hl,{control:v.jsx(s.slots.baseCheckbox,h({disabled:H.length===0,checked:F,indeterminate:!F&&!E,onClick:()=>O(!F),name:t.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},(y=s.slotProps)==null?void 0:y.baseCheckbox)),label:t.current.getLocaleText("columnsManagementShowHideAllText")}),p?null:v.jsx(s.slots.baseButton,h({onClick:()=>t.current.setColumnVisibilityModel(r),disabled:w},(I=s.slotProps)==null?void 0:I.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const pp=Ge("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(e,t)=>t.columnsManagement})(({theme:e})=>({padding:e.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),bp=Ge("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(e,t)=>t.columnsManagementHeader})(({theme:e})=>({padding:e.spacing(1.5,3)})),Cp=Ge("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(e,t)=>t.columnsManagementFooter})(({theme:e})=>({padding:e.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${e.palette.divider}`})),wp=Ge("div")(({theme:e})=>({padding:e.spacing(.5,0),color:e.palette.grey[500]}));function Bc(e){var n;const t=J();return v.jsx(xl,h({},e,{children:v.jsx(vl,h({},(n=t.slotProps)==null?void 0:n.columnsManagement))}))}const Sp=["children","className","classes"],Uc=Xs("MuiDataGrid",["panel","paper"]),yp=Ge(jr,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),xp=Ge(Zs,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${e.spacing(.5)})`,overflow:"auto"})),Wc=i.forwardRef((e,t)=>{const{children:n,className:o}=e,r=ne(e,Sp),l=ie(),s=J(),a=Uc,[c,d]=i.useState(!1),f=i.useCallback(()=>{l.current.hidePreferences()},[l]),u=i.useCallback(b=>{To(b.key)&&l.current.hidePreferences()},[l]),g=i.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{d(!0)},effect:()=>()=>{d(!1)}}],[]),[m,p]=i.useState(null);return i.useEffect(()=>{var C,w;const b=(w=(C=l.current.rootElementRef)==null?void 0:C.current)==null?void 0:w.querySelector('[data-id="gridPanelAnchor"]');b&&p(b)},[l]),m?v.jsx(yp,h({ref:t,placement:"bottom-start",className:me(o,a.panel),ownerState:s,anchorEl:m,modifiers:g},r,{children:v.jsx(Js,{mouseEvent:"onMouseUp",onClickAway:f,children:v.jsx(xp,{className:a.paper,ownerState:s,elevation:8,onKeyDown:u,children:c&&n})})})):null}),vp=["className"],Ip=e=>{const{classes:t}=e;return fe({root:["panelContent"]},de,t)},Mp=we("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function qc(e){const{className:t}=e,n=ne(e,vp),o=J(),r=Ip(o);return v.jsx(Mp,h({className:me(t,r.root),ownerState:o},n))}const Pp=["className"],Ep=e=>{const{classes:t}=e;return fe({root:["panelFooter"]},de,t)},Fp=we("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function Kc(e){const{className:t}=e,n=ne(e,Pp),o=J(),r=Ep(o);return v.jsx(Fp,h({className:me(t,r.root),ownerState:o},n))}const kp=["className"],Dp=e=>{const{classes:t}=e;return fe({root:["panelHeader"]},de,t)},Tp=we("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function Op(e){const{className:t}=e,n=ne(e,kp),o=J(),r=Dp(o);return v.jsx(Tp,h({className:me(t,r.root),ownerState:o},n))}const _p=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],Hp=["InputComponentProps"],Lp=e=>{const{classes:t}=e;return fe({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},de,t)},Gp=Ge("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),$p=Ge("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),Rp=Ge("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),Ap=Ge("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),jp=Ge("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),zp=Ge("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),Vp=e=>{switch(e){case Je.And:return"filterPanelOperatorAnd";case Je.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Gn=e=>e.headerName||e.field,Ms=new Intl.Collator,Hr=i.forwardRef(function(t,n){var $e,Te,ye,Le,Be,Ue,tt,Ve,be;const{item:o,hasMultipleFilters:r,deleteFilter:l,applyFilterChanges:s,showMultiFilterOperators:a,disableMultiFilterOperator:c,applyMultiFilterOperatorChanges:d,focusElementRef:f,logicOperators:u=[Je.And,Je.Or],columnsSort:g,filterColumns:m,deleteIconProps:p={},logicOperatorInputProps:b={},operatorInputProps:C={},columnInputProps:w={},valueInputProps:x={},readOnly:L}=t,T=ne(t,_p),O=ie(),A=U(O,Et),H=U(O,Kr),F=U(O,ze),E=Pe(),R=Pe(),$=Pe(),k=Pe(),M=J(),y=Lp(M),I=i.useRef(null),P=i.useRef(null),S=F.logicOperator??Je.And,j=r&&u.length>0,D=(($e=M.slotProps)==null?void 0:$e.baseFormControl)||{},z=(((Te=M.slotProps)==null?void 0:Te.baseSelect)||{}).native??!1,N=((ye=M.slotProps)==null?void 0:ye.baseInputLabel)||{},B=((Le=M.slotProps)==null?void 0:Le.baseSelectOption)||{},{InputComponentProps:W}=x,Q=ne(x,Hp),{filteredColumns:q,selectedField:Z}=i.useMemo(()=>{let ue=o.field;const ve=A[o.field].filterable===!1?A[o.field]:null;if(ve)return{filteredColumns:[ve],selectedField:ue};if(m===void 0||typeof m!="function")return{filteredColumns:H,selectedField:ue};const Oe=m({field:o.field,columns:H,currentFilters:(F==null?void 0:F.items)||[]});return{filteredColumns:H.filter(le=>{const ge=Oe.includes(le.field);return le.field===o.field&&!ge&&(ue=void 0),ge}),selectedField:ue}},[m,F==null?void 0:F.items,H,o.field,A]),K=i.useMemo(()=>{switch(g){case"asc":return q.sort((ue,ve)=>Ms.compare(Gn(ue),Gn(ve)));case"desc":return q.sort((ue,ve)=>-Ms.compare(Gn(ue),Gn(ve)));default:return q}},[q,g]),Y=o.field?O.current.getColumn(o.field):null,te=i.useMemo(()=>{var ue;return!o.operator||!Y?null:(ue=Y.filterOperators)==null?void 0:ue.find(ve=>ve.value===o.operator)},[o,Y]),ae=i.useCallback(ue=>{const ve=ue.target.value,Oe=O.current.getColumn(ve);if(Oe.field===Y.field)return;const le=Oe.filterOperators.find(oe=>oe.value===o.operator)||Oe.filterOperators[0];let xe=!le.InputComponent||le.InputComponent!==(te==null?void 0:te.InputComponent)||Oe.type!==Y.type?void 0:o.value;if(Oe.type==="singleSelect"&&xe!==void 0){const oe=Oe,Ce=Qt(oe);Array.isArray(xe)?xe=xe.filter(pe=>_o(pe,Ce,oe==null?void 0:oe.getOptionValue)!==void 0):_o(o.value,Ce,oe==null?void 0:oe.getOptionValue)===void 0&&(xe=void 0)}s(h({},o,{field:ve,operator:le.value,value:xe}))},[O,s,o,Y,te]),re=i.useCallback(ue=>{const ve=ue.target.value,Oe=Y==null?void 0:Y.filterOperators.find(ge=>ge.value===ve),le=!(Oe!=null&&Oe.InputComponent)||(Oe==null?void 0:Oe.InputComponent)!==(te==null?void 0:te.InputComponent);s(h({},o,{operator:ve,value:le?void 0:o.value}))},[s,o,Y,te]),he=i.useCallback(ue=>{const ve=ue.target.value===Je.And.toString()?Je.And:Je.Or;d(ve)},[d]),De=()=>{l(o)};return i.useImperativeHandle(f,()=>({focus:()=>{var ue;te!=null&&te.InputComponent?(ue=I==null?void 0:I.current)==null||ue.focus():P.current.focus()}}),[te]),v.jsxs(Gp,h({ref:n,className:y.root,"data-id":o.id,ownerState:M},T,{children:[v.jsx($p,h({variant:"standard",as:M.slots.baseFormControl},D,p,{className:me(y.deleteIcon,D.className,p.className),ownerState:M,children:v.jsx(M.slots.baseIconButton,h({"aria-label":O.current.getLocaleText("filterPanelDeleteIconLabel"),title:O.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:De,size:"small",disabled:L},(Be=M.slotProps)==null?void 0:Be.baseIconButton,{children:v.jsx(M.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),v.jsx(Rp,h({variant:"standard",as:M.slots.baseFormControl},D,b,{sx:h({display:j?"flex":"none",visibility:a?"visible":"hidden"},D.sx||{},b.sx||{}),className:me(y.logicOperatorInput,D.className,b.className),ownerState:M,children:v.jsx(M.slots.baseSelect,h({inputProps:{"aria-label":O.current.getLocaleText("filterPanelLogicOperator")},value:S??"",onChange:he,disabled:!!c||u.length===1,native:z},(Ue=M.slotProps)==null?void 0:Ue.baseSelect,{children:u.map(ue=>i.createElement(M.slots.baseSelectOption,h({},B,{native:z,key:ue.toString(),value:ue.toString()}),O.current.getLocaleText(Vp(ue))))}))})),v.jsxs(Ap,h({variant:"standard",as:M.slots.baseFormControl},D,w,{className:me(y.columnInput,D.className,w.className),ownerState:M,children:[v.jsx(M.slots.baseInputLabel,h({},N,{htmlFor:E,id:R,children:O.current.getLocaleText("filterPanelColumns")})),v.jsx(M.slots.baseSelect,h({labelId:R,id:E,label:O.current.getLocaleText("filterPanelColumns"),value:Z??"",onChange:ae,native:z,disabled:L},(tt=M.slotProps)==null?void 0:tt.baseSelect,{children:K.map(ue=>i.createElement(M.slots.baseSelectOption,h({},B,{native:z,key:ue.field,value:ue.field}),Gn(ue)))}))]})),v.jsxs(jp,h({variant:"standard",as:M.slots.baseFormControl},D,C,{className:me(y.operatorInput,D.className,C.className),ownerState:M,children:[v.jsx(M.slots.baseInputLabel,h({},N,{htmlFor:$,id:k,children:O.current.getLocaleText("filterPanelOperator")})),v.jsx(M.slots.baseSelect,h({labelId:k,label:O.current.getLocaleText("filterPanelOperator"),id:$,value:o.operator,onChange:re,native:z,inputRef:P,disabled:L},(Ve=M.slotProps)==null?void 0:Ve.baseSelect,{children:(be=Y==null?void 0:Y.filterOperators)==null?void 0:be.map(ue=>i.createElement(M.slots.baseSelectOption,h({},B,{native:z,key:ue.value,value:ue.value}),ue.label||O.current.getLocaleText(`filterOperator${Mn(ue.value)}`)))}))]})),v.jsx(zp,h({variant:"standard",as:M.slots.baseFormControl},D,Q,{className:me(y.valueInput,D.className,Q.className),ownerState:M,children:te!=null&&te.InputComponent?v.jsx(te.InputComponent,h({apiRef:O,item:o,applyValue:s,focusElementRef:I,disabled:L},te.InputComponentProps,W),o.field):null}))]}))}),Np=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Ps=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),Xc=i.forwardRef(function(t,n){var k,M;const o=ie(),r=J(),l=U(o,ze),s=U(o,Kr),a=U(o,Si),c=i.useRef(null),d=i.useRef(null),{logicOperators:f=[Je.And,Je.Or],columnsSort:u,filterFormProps:g,getColumnForNewFilter:m,disableAddFilterButton:p=!1,disableRemoveAllButton:b=!1}=t,C=ne(t,Np),w=o.current.upsertFilterItem,x=i.useCallback(y=>{o.current.setFilterLogicOperator(y)},[o]),L=i.useCallback(()=>{let y;if(m&&typeof m=="function"){const I=m({currentFilters:(l==null?void 0:l.items)||[],columns:s});if(I===null)return null;y=s.find(({field:P})=>P===I)}else y=s.find(I=>{var P;return(P=I.filterOperators)==null?void 0:P.length});return y?Ps(y):null},[l==null?void 0:l.items,s,m]),T=i.useCallback(()=>{if(m===void 0||typeof m!="function")return L();const y=l.items.length?l.items:[L()].filter(Boolean),I=m({currentFilters:y,columns:s});if(I===null)return null;const P=s.find(({field:S})=>S===I);return P?Ps(P):null},[l.items,s,m,L]),O=i.useMemo(()=>l.items.length?l.items:(d.current||(d.current=L()),d.current?[d.current]:[]),[l.items,L]),A=O.length>1,{readOnlyFilters:H,validFilters:F}=i.useMemo(()=>O.reduce((y,I)=>(a[I.field]?y.validFilters.push(I):y.readOnlyFilters.push(I),y),{readOnlyFilters:[],validFilters:[]}),[O,a]),E=i.useCallback(()=>{const y=T();y&&o.current.upsertFilterItems([...O,y])},[o,T,O]),R=i.useCallback(y=>{const I=F.length===1;o.current.deleteFilterItem(y),I&&o.current.hideFilterPanel()},[o,F.length]),$=i.useCallback(()=>F.length===1&&F[0].value===void 0?(o.current.deleteFilterItem(F[0]),o.current.hideFilterPanel()):o.current.setFilterModel(h({},l,{items:H}),"removeAllFilterItems"),[o,H,l,F]);return i.useEffect(()=>{f.length>0&&l.logicOperator&&!f.includes(l.logicOperator)&&x(f[0])},[f,x,l.logicOperator]),i.useEffect(()=>{F.length>0&&c.current.focus()},[F.length]),v.jsxs(xl,h({ref:n},C,{children:[v.jsxs(qc,{children:[H.map((y,I)=>v.jsx(Hr,h({item:y,applyFilterChanges:w,deleteFilter:R,hasMultipleFilters:A,showMultiFilterOperators:I>0,disableMultiFilterOperator:I!==1,applyMultiFilterOperatorChanges:x,focusElementRef:null,readOnly:!0,logicOperators:f,columnsSort:u},g),y.id==null?I:y.id)),F.map((y,I)=>v.jsx(Hr,h({item:y,applyFilterChanges:w,deleteFilter:R,hasMultipleFilters:A,showMultiFilterOperators:H.length+I>0,disableMultiFilterOperator:H.length+I!==1,applyMultiFilterOperatorChanges:x,focusElementRef:I===F.length-1?c:null,logicOperators:f,columnsSort:u},g),y.id==null?I+H.length:y.id))]}),!r.disableMultipleColumnsFiltering&&!(p&&b)?v.jsxs(Kc,{children:[p?v.jsx("span",{}):v.jsx(r.slots.baseButton,h({onClick:E,startIcon:v.jsx(r.slots.filterPanelAddIcon,{})},(k=r.slotProps)==null?void 0:k.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")})),!b&&F.length>0?v.jsx(r.slots.baseButton,h({onClick:$,startIcon:v.jsx(r.slots.filterPanelRemoveAllIcon,{})},(M=r.slotProps)==null?void 0:M.baseButton,{children:o.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),Yc=i.forwardRef(function(t,n){var m,p;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=Pe(),a=Pe(),c=ie(),d=J(),f=U(c,Nt),u=b=>{var C;f.open&&f.openedPanelValue===ht.columns?c.current.hidePreferences():c.current.showPreferences(ht.columns,a,s),(C=r.onClick)==null||C.call(r,b)};if(d.disableColumnSelector)return null;const g=f.open&&f.panelId===a;return v.jsx(d.slots.baseTooltip,h({title:c.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},l,(m=d.slotProps)==null?void 0:m.baseTooltip,{children:v.jsx(d.slots.baseButton,h({ref:n,id:s,size:"small","aria-label":c.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?a:void 0,startIcon:v.jsx(d.slots.columnSelectorIcon,{})},r,{onClick:u},(p=d.slotProps)==null?void 0:p.baseButton,{children:c.current.getLocaleText("toolbarColumns")}))}))}),Qc=i.forwardRef(function(t,n){var A,H;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=ie(),a=J(),c=U(s,At),d=Pe(),f=Pe(),[u,g]=i.useState(!1),m=i.useRef(null),p=Ht(n,m),b=[{icon:v.jsx(a.slots.densityCompactIcon,{}),label:s.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:v.jsx(a.slots.densityStandardIcon,{}),label:s.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:v.jsx(a.slots.densityComfortableIcon,{}),label:s.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],C=i.useMemo(()=>{switch(c){case"compact":return v.jsx(a.slots.densityCompactIcon,{});case"comfortable":return v.jsx(a.slots.densityComfortableIcon,{});default:return v.jsx(a.slots.densityStandardIcon,{})}},[c,a]),w=F=>{var E;g(R=>!R),(E=r.onClick)==null||E.call(r,F)},x=()=>{g(!1)},L=F=>{s.current.setDensity(F),g(!1)},T=F=>{Qo(F.key)&&F.preventDefault(),bl(F.key)&&g(!1)};if(a.disableDensitySelector)return null;const O=b.map((F,E)=>v.jsxs(wt,{onClick:()=>L(F.value),selected:F.value===c,children:[v.jsx(jt,{children:F.icon}),F.label]},E));return v.jsxs(i.Fragment,{children:[v.jsx(a.slots.baseTooltip,h({title:s.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},l,(A=a.slotProps)==null?void 0:A.baseTooltip,{children:v.jsx(a.slots.baseButton,h({ref:p,size:"small",startIcon:C,"aria-label":s.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?f:void 0,id:d},r,{onClick:w},(H=a.slotProps)==null?void 0:H.baseButton,{children:s.current.getLocaleText("toolbarDensity")}))})),v.jsx(qn,{open:u,target:m.current,onClose:x,position:"bottom-start",children:v.jsx(Ao,{id:f,className:_.menuList,"aria-labelledby":d,onKeyDown:T,autoFocusItem:u,children:O})})]})}),Bp=e=>{const{classes:t}=e;return fe({root:["toolbarFilterList"]},de,t)},Up=Ge("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),Jc=i.forwardRef(function(t,n){var w,x;const{slotProps:o={}}=t,r=o.button||{},l=o.tooltip||{},s=ie(),a=J(),c=U(s,dl),d=U(s,Et),f=U(s,Nt),u=Bp(a),g=Pe(),m=Pe(),p=i.useMemo(()=>{if(f.open)return s.current.getLocaleText("toolbarFiltersTooltipHide");if(c.length===0)return s.current.getLocaleText("toolbarFiltersTooltipShow");const L=O=>d[O.field].filterOperators.find(A=>A.value===O.operator).label||s.current.getLocaleText(`filterOperator${Mn(O.operator)}`).toString(),T=O=>{const{getValueAsString:A}=d[O.field].filterOperators.find(H=>H.value===O.operator);return A?A(O.value):O.value};return v.jsxs("div",{children:[s.current.getLocaleText("toolbarFiltersTooltipActive")(c.length),v.jsx(Up,{className:u.root,ownerState:a,children:c.map((O,A)=>h({},d[O.field]&&v.jsx("li",{children:`${d[O.field].headerName||O.field}
                  ${L(O)}
                  ${O.value!=null?T(O):""}`},A)))})]})},[s,a,f.open,c,d,u]),b=L=>{var A;const{open:T,openedPanelValue:O}=f;T&&O===ht.filters?s.current.hidePreferences():s.current.showPreferences(ht.filters,m,g),(A=r.onClick)==null||A.call(r,L)};if(a.disableColumnFilter)return null;const C=f.open&&f.panelId===m;return v.jsx(a.slots.baseTooltip,h({title:p,enterDelay:1e3},l,(w=a.slotProps)==null?void 0:w.baseTooltip,{children:v.jsx(a.slots.baseButton,h({ref:n,id:g,size:"small","aria-label":s.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":C?m:void 0,"aria-expanded":C,"aria-haspopup":!0,startIcon:v.jsx(zr,{badgeContent:c.length,color:"primary",children:v.jsx(a.slots.openFilterButtonIcon,{})})},r,{onClick:b},(x=a.slotProps)==null?void 0:x.baseButton,{children:s.current.getLocaleText("toolbarFilters")}))}))}),Zc=i.forwardRef(function(t,n){var x,L;const{children:o,slotProps:r={}}=t,l=r.button||{},s=r.tooltip||{},a=ie(),c=J(),d=Pe(),f=Pe(),[u,g]=i.useState(!1),m=i.useRef(null),p=Ht(n,m),b=T=>{var O;g(A=>!A),(O=l.onClick)==null||O.call(l,T)},C=()=>g(!1),w=T=>{Qo(T.key)&&T.preventDefault(),bl(T.key)&&C()};return o==null?null:v.jsxs(i.Fragment,{children:[v.jsx(c.slots.baseTooltip,h({title:a.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},s,(x=c.slotProps)==null?void 0:x.baseTooltip,{children:v.jsx(c.slots.baseButton,h({ref:p,size:"small",startIcon:v.jsx(c.slots.exportIcon,{}),"aria-expanded":u,"aria-label":a.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":u?f:void 0,id:d},l,{onClick:b},(L=c.slotProps)==null?void 0:L.baseButton,{children:a.current.getLocaleText("toolbarExport")}))})),v.jsx(qn,{open:u,target:m.current,onClose:C,position:"bottom-start",children:v.jsx(Ao,{id:f,className:_.menuList,"aria-labelledby":d,onKeyDown:w,autoFocusItem:u,children:i.Children.map(o,T=>i.isValidElement(T)?i.cloneElement(T,{hideMenu:C}):T)})})]})}),Wp=["hideMenu","options"],qp=["hideMenu","options"],Kp=["csvOptions","printOptions","excelOptions"];function eu(e){const t=ie(),{hideMenu:n,options:o}=e,r=ne(e,Wp);return v.jsx(wt,h({onClick:()=>{t.current.exportDataAsCsv(o),n==null||n()}},r,{children:t.current.getLocaleText("toolbarExportCSV")}))}function tu(e){const t=ie(),{hideMenu:n,options:o}=e,r=ne(e,qp);return v.jsx(wt,h({onClick:()=>{t.current.exportDataAsPrint(o),n==null||n()}},r,{children:t.current.getLocaleText("toolbarExportPrint")}))}const nu=i.forwardRef(function(t,n){const{csvOptions:o={},printOptions:r={},excelOptions:l}=t,s=ne(t,Kp),c=ie().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:l,csvOptions:o,printOptions:r}).sort((d,f)=>d.componentName>f.componentName?1:-1);return c.length===0?null:v.jsx(Zc,h({},s,{ref:n,children:c.map((d,f)=>i.cloneElement(d.component,{key:f}))}))}),Xp=["quickFilterParser","quickFilterFormatter","debounceMs","className"],Yp=e=>{const{classes:t}=e;return fe({root:["toolbarQuickFilter"]},de,t)},Qp=Ge(Vr,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),Jp=e=>e.split(" ").filter(t=>t!==""),Zp=e=>e.join(" ");function ou(e){var w,x;const t=ie(),n=J(),o=Yp(n),r=U(t,oa),{quickFilterParser:l=Jp,quickFilterFormatter:s=Zp,debounceMs:a=n.filterDebounceMs,className:c}=e,d=ne(e,Xp),[f,u]=i.useState(()=>s(r??[])),g=i.useRef(r);i.useEffect(()=>{zt(g.current,r)||(g.current=r,u(L=>zt(l(L),r)?L:s(r??[])))},[r,s,l]);const m=i.useCallback(L=>{const T=l(L);g.current=T,t.current.setQuickFilterValues(T)},[t,l]),p=i.useMemo(()=>ei(m,a),[m,a]),b=i.useCallback(L=>{const T=L.target.value;u(T),p(T)},[p]),C=i.useCallback(()=>{u(""),m("")},[m]);return v.jsx(Qp,h({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:f,onChange:b,className:me(c,o.root),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},d,{InputProps:h({startAdornment:v.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:v.jsx(n.slots.baseIconButton,h({"aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:f?"visible":"hidden"},onClick:C},(w=n.slotProps)==null?void 0:w.baseIconButton,{children:v.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},d.InputProps)},(x=n.slotProps)==null?void 0:x.baseTextField))}const eb=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],tb=i.forwardRef(function(t,n){const{csvOptions:o,printOptions:r,excelOptions:l,showQuickFilter:s=!1,quickFilterProps:a={}}=t,c=ne(t,eb),d=J();return d.disableColumnFilter&&d.disableColumnSelector&&d.disableDensitySelector&&!s?null:v.jsxs(ac,h({ref:n},c,{children:[v.jsx(Yc,{}),v.jsx(Jc,{}),v.jsx(Qc,{}),v.jsx(nu,{csvOptions:o,printOptions:r,excelOptions:l}),v.jsx(ju,{sx:{flex:1}}),s&&v.jsx(ou,h({},a))]}))}),nb=["className","selectedRowCount"],ob=e=>{const{classes:t}=e;return fe({root:["selectedRowCount"]},de,t)},rb=we("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),ru=i.forwardRef(function(t,n){const{className:o,selectedRowCount:r}=t,l=ne(t,nb),s=ie(),a=J(),c=ob(a),d=s.current.getLocaleText("footerRowSelected")(r);return v.jsx(rb,h({ref:n,className:me(c.root,o),ownerState:a},l,{children:d}))}),lu=i.forwardRef(function(t,n){var u,g;const o=ie(),r=J(),l=U(o,$i),s=U(o,Zi),a=U(o,Xo),c=!r.hideFooterSelectedRowCount&&s>0?v.jsx(ru,{selectedRowCount:s}):v.jsx("div",{}),d=!r.hideFooterRowCount&&!r.pagination?v.jsx(r.slots.footerRowCount,h({},(u=r.slotProps)==null?void 0:u.footerRowCount,{rowCount:l,visibleRowCount:a})):null,f=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&v.jsx(r.slots.pagination,h({},(g=r.slotProps)==null?void 0:g.pagination));return v.jsxs(ic,h({ref:n},t,{children:[c,d,f]}))});function lb(){var l,s;const e=ie(),t=U(e,gt),n=J(),o=U(e,Nt),r=e.current.unstable_applyPipeProcessors("preferencePanel",null,o.openedPanelValue??ht.filters);return v.jsx(n.slots.panel,h({as:n.slots.basePopper,open:t.length>0&&o.open,id:o.panelId,"aria-labelledby":o.labelId},(l=n.slotProps)==null?void 0:l.panel,(s=n.slotProps)==null?void 0:s.basePopper,{children:r}))}function su(){var t;const e=J();return v.jsxs(i.Fragment,{children:[v.jsx(lb,{}),e.slots.toolbar&&v.jsx(e.slots.toolbar,h({},(t=e.slotProps)==null?void 0:t.toolbar))]})}const Il=(e,t,n,o,r)=>{const l=r.hasScrollY?r.scrollbarSize:0;let s;switch(e){case ke.LEFT:s=o[n];break;case ke.RIGHT:s=r.columnsTotalWidth-o[n]-t+l;break;default:s=0;break}return s},xo={root:_.scrollbarFiller,header:_["scrollbarFiller--header"],borderTop:_["scrollbarFiller--borderTop"],pinnedRight:_["scrollbarFiller--pinnedRight"]};function Ml({header:e,borderTop:t=!0,pinnedRight:n}){return v.jsx("div",{role:"presentation",className:me(xo.root,e&&xo.header,t&&xo.borderTop,n&&xo.pinnedRight)})}const sb=we("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(e,t)=>t.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),ib=e=>{const{classes:t}=e;return fe({root:["skeletonLoadingOverlay"]},de,t)},Es=e=>parseInt(e.getAttribute("data-colindex"),10),ab=i.forwardRef(function(t,n){const o=J(),{slots:r}=o,l=ib({classes:o.classes}),s=i.useRef(null),a=Ht(s,n),c=ie(),d=U(c,et),f=(d==null?void 0:d.viewportInnerSize.height)??0,u=Math.ceil(f/d.rowHeight),g=U(c,Bo),m=U(c,Lt),p=i.useMemo(()=>m.filter(A=>A<=g).length,[g,m]),b=U(c,Ae),C=i.useMemo(()=>b.slice(0,p),[b,p]),w=U(c,kn),x=i.useCallback((A,H,F)=>{const E=Il(F,A,H,m,d);return{[F]:E}},[d,m]),L=i.useCallback(A=>{if(w.left.findIndex(H=>H.field===A)!==-1)return ke.LEFT;if(w.right.findIndex(H=>H.field===A)!==-1)return ke.RIGHT},[w.left,w.right]),T=i.useMemo(()=>{const A=[];for(let H=0;H<u;H+=1){const F=[];for(let E=0;E<C.length;E+=1){const R=C[E],$=L(R.field),k=$===ke.LEFT,M=$===ke.RIGHT,y=$?w[$].length:C.length-w.left.length-w.right.length,I=$?w[$].findIndex(Y=>Y.field===R.field):E-w.left.length,P=$&&x(R.computedWidth,E,$),S=d.columnsTotalWidth<d.viewportOuterSize.width,j=nr($,I,y,o.showCellVerticalBorder,S),D=or($,I),G=E===C.length-1,z=M&&I===0,N=z&&S,B=G&&!z&&S,W=d.viewportOuterSize.width-d.columnsTotalWidth,Q=Math.max(0,W),q=v.jsx(r.skeletonCell,{width:Q,empty:!0},`skeleton-filler-column-${H}`),Z=d.hasScrollY?d.scrollbarSize:0,K=G&&Z!==0;N&&F.push(q),F.push(v.jsx(r.skeletonCell,{field:R.field,type:R.type,align:R.align,width:"var(--width)",height:d.rowHeight,"data-colindex":E,className:me(k&&_["cell--pinnedLeft"],M&&_["cell--pinnedRight"],j&&_["cell--withRightBorder"],D&&_["cell--withLeftBorder"]),style:h({"--width":`${R.computedWidth}px`},P)},`skeleton-column-${H}-${R.field}`)),B&&F.push(q),K&&F.push(v.jsx(Ml,{pinnedRight:w.right.length>0}))}A.push(v.jsx("div",{className:me(_.row,_.rowSkeleton,H===0&&_["row--firstVisible"]),children:F},`skeleton-row-${H}`))}return A},[r,C,w,u,o.showCellVerticalBorder,d.columnsTotalWidth,d.viewportOuterSize.width,d.rowHeight,d.hasScrollY,d.scrollbarSize,L,x]);return ee(c,"columnResize",A=>{var P,S,j;const{colDef:H,width:F}=A,E=(P=s.current)==null?void 0:P.querySelectorAll(`[data-field="${$t(H.field)}"]`);if(!E)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const R=C.findIndex(D=>D.field===H.field),$=L(H.field),k=$===ke.LEFT,M=$===ke.RIGHT,y=getComputedStyle(E[0]).getPropertyValue("--width"),I=parseInt(y,10)-F;if(E&&E.forEach(D=>{D.style.setProperty("--width",`${F}px`)}),k){const D=(S=s.current)==null?void 0:S.querySelectorAll(`.${_["cell--pinnedLeft"]}`);D==null||D.forEach(G=>{Es(G)>R&&(G.style.left=`${parseInt(getComputedStyle(G).left,10)-I}px`)})}if(M){const D=(j=s.current)==null?void 0:j.querySelectorAll(`.${_["cell--pinnedRight"]}`);D==null||D.forEach(G=>{Es(G)<R&&(G.style.right=`${parseInt(getComputedStyle(G).right,10)+I}px`)})}}),v.jsx(sb,h({className:l.root,ref:a},t,{children:T}))}),cb=["variant","noRowsVariant","style"],ub={"circular-progress":{component:zu,style:{}},"linear-progress":{component:Vu,style:{display:"block"}},skeleton:{component:ab,style:{display:"block"}}},iu=i.forwardRef(function(t,n){const{variant:o="circular-progress",noRowsVariant:r="circular-progress",style:l}=t,s=ne(t,cb),a=ie(),c=U(a,Dn),d=ub[c===0?r:o];return v.jsx(rr,h({ref:n,style:h({},d.style,l)},s,{children:v.jsx(d.component,{})}))}),au=i.forwardRef(function(t,n){const r=ie().current.getLocaleText("noRowsLabel");return v.jsx(rr,h({ref:n},t,{children:r}))}),db=Ge(Nu)(({theme:e})=>({maxHeight:"calc(100% + 1px)",[`& .${Ll.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Ll.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),fb=(e,t)=>({from:n,to:o,count:r,page:l})=>e({from:n,to:o,count:r,page:l,estimated:t}),gb=({from:e,to:t,count:n,estimated:o})=>o?`${e}–${t} of ${n!==-1?n:`more than ${o>t?o:t}`}`:`${e}–${t} of ${n!==-1?n:`more than ${t}`}`,cu=i.forwardRef(function(t,n){const o=ie(),r=J(),l=U(o,Qe),s=U(o,Kt),a=U(o,gl),{paginationMode:c,loading:d,estimatedRowCount:f}=r,u=i.useMemo(()=>s===-1&&c==="server"&&d?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[d,c,s]),g=i.useMemo(()=>Math.max(0,a-1),[a]),m=i.useMemo(()=>s===-1||l.page<=g?l.page:g,[g,l.page,s]),p=i.useCallback(T=>{const O=Number(T.target.value);o.current.setPageSize(O)},[o]),b=i.useCallback((T,O)=>{o.current.setPage(O)},[o]),w=(T=>{for(let O=0;O<r.pageSizeOptions.length;O+=1){const A=r.pageSizeOptions[O];if(typeof A=="number"){if(A===T)return!0}else if(A.value===T)return!0}return!1})(l.pageSize)?r.pageSizeOptions:[],x=o.current.getLocaleText("MuiTablePagination"),L=fb(x.labelDisplayedRows||gb,f);return v.jsx(db,h({ref:n,component:"div",count:s,page:m,rowsPerPageOptions:w,rowsPerPage:l.pageSize,onPageChange:b,onRowsPerPageChange:p},u,x,{labelDisplayedRows:L},t))}),mb=["className","rowCount","visibleRowCount"],hb=e=>{const{classes:t}=e;return fe({root:["rowCount"]},de,t)},pb=we("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),uu=i.forwardRef(function(t,n){const{className:o,rowCount:r,visibleRowCount:l}=t,s=ne(t,mb),a=ie(),c=J(),d=hb(c);if(r===0)return null;const f=l<r?a.current.getLocaleText("footerTotalVisibleRows")(l,r):r.toLocaleString();return v.jsxs(pb,h({ref:n,className:me(d.root,o),ownerState:c},s,{children:[a.current.getLocaleText("footerTotalRows")," ",f]}))});function bb(e,t){return fe(t,de,e)}const Pl="__detail_panel_toggle__",Cb=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","dimensions","renderContext","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function wb({width:e}){return e?v.jsx("div",{role:"presentation",className:me(_.cell,_.cellEmpty),style:{"--width":`${e}px`}}):null}const Sb=i.forwardRef(function(t,n){var xe;const{selected:o,rowId:r,row:l,index:s,style:a,rowHeight:c,className:d,visibleColumns:f,pinnedColumns:u,offsetLeft:g,dimensions:m,renderContext:p,focusedColumnIndex:b,isFirstVisible:C,isLastVisible:w,isNotVisible:x,showBottomBorder:L,onClick:T,onDoubleClick:O,onMouseEnter:A,onMouseLeave:H,onMouseOut:F,onMouseOver:E}=t,R=ne(t,Cb),$=ie(),k=i.useRef(null),M=J(),y=on($,M),I=U($,st),P=U($,Xn),S=U($,On),j=U($,Lt),D=U($,qe),G=Ht(k,n),z=$.current.getRowNode(r),N=m.hasScrollY?m.scrollbarSize:0,B=m.columnsTotalWidth<m.viewportOuterSize.width,W=$.current.getRowMode(r)===Ie.Edit,Q=M.editMode===yt.Row,q=b!==void 0,Z=q&&b>=u.left.length&&b<p.firstColumnIndex,K=q&&b<f.length-u.right.length&&b>=p.lastColumnIndex,Y=s+S+2,te=bb(M.classes,{root:["row",o&&"selected",Q&&"row--editable",W&&"row--editing",C&&"row--firstVisible",w&&"row--lastVisible",L&&"row--borderBottom",c==="auto"&&"row--dynamicHeight"]});i.useLayoutEffect(()=>{if(y.range){const We=$.current.getRowIndexRelativeToVisibleRows(r);We!=null&&$.current.unstable_setLastMeasuredRowIndex(We)}const oe=k.current;if(!oe||c!=="auto"||typeof ResizeObserver>"u")return;const pe=new ResizeObserver(We=>{const[ot]=We,Ne=ot.borderBoxSize&&ot.borderBoxSize.length>0?ot.borderBoxSize[0].blockSize:ot.contentRect.height;$.current.unstable_storeRowHeightMeasurement(r,Ne)});return pe.observe(oe),()=>pe.disconnect()},[$,y.range,s,c,r]);const ae=i.useCallback((oe,Ce)=>pe=>{eo(pe)||$.current.getRow(r)&&($.current.publishEvent(oe,$.current.getRowParams(r),pe),Ce&&Ce(pe))},[$,r]),re=i.useCallback(oe=>{const Ce=Ho(oe.target,_.cell),pe=Ce==null?void 0:Ce.getAttribute("data-field");if(pe){if(pe===nn.field||pe===Pl||pe==="__reorder__"||$.current.getCellMode(r,pe)===Se.Edit)return;const We=$.current.getColumn(pe);if((We==null?void 0:We.type)===Kn)return}ae("rowClick",T)(oe)},[$,T,ae,r]),{slots:he,slotProps:De,disableColumnReorder:$e}=M,Te=M.rowReordering,ye=U($,()=>h({},$.current.unstable_getRowInternalSizes(r)),hi);let Le=c;Le==="auto"&&ye&&(ye.baseCenter??0)>0;const Be=i.useMemo(()=>{if(x)return{opacity:0,width:0,height:0};const oe=h({},a,{maxHeight:c==="auto"?"none":c,minHeight:Le,"--height":typeof c=="number"?`${c}px`:c});if(ye!=null&&ye.spacingTop){const Ce=M.rowSpacingType==="border"?"borderTopWidth":"marginTop";oe[Ce]=ye.spacingTop}if(ye!=null&&ye.spacingBottom){const Ce=M.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let pe=oe[Ce];typeof pe!="number"&&(pe=parseInt(pe||"0",10)),pe+=ye.spacingBottom,oe[Ce]=pe}return oe},[x,c,a,Le,ye,M.rowSpacingType]),Ue=$.current.unstable_applyPipeProcessors("rowClassName",[],r);if(typeof M.getRowClassName=="function"){const oe=s-(((xe=y.range)==null?void 0:xe.firstRowIndex)||0),Ce=h({},$.current.getRowParams(r),{isFirstVisible:oe===0,isLastVisible:oe===y.rows.length-1,indexRelativeToCurrentPage:oe});Ue.push(M.getRowClassName(Ce))}const tt=(oe,Ce,pe,We,ot=nt.NONE)=>{var Ol;const Ne=$.current.unstable_getCellColSpanInfo(r,pe);if(Ne!=null&&Ne.spannedByColSpan)return null;const ln=(Ne==null?void 0:Ne.cellProps.width)??oe.computedWidth,Hn=(Ne==null?void 0:Ne.cellProps.colSpan)??1,to=Il(oc[ot],oe.computedWidth,pe,j,m);if((z==null?void 0:z.type)==="skeletonRow")return v.jsx(he.skeletonCell,{type:oe.type,width:ln,height:c,field:oe.field,align:oe.align},oe.field);const no=((Ol=D[r])==null?void 0:Ol[oe.field])??null,oo=oe.field==="__reorder__",ro=Object.keys(D).length>0,sn=!($e||oe.disableReorder),lo=Te&&!I.length&&P<=1&&!ro,yu=!(sn||oo&&lo),xu=ot===nt.VIRTUAL;return v.jsx(he.cell,h({column:oe,width:ln,rowId:r,align:oe.align||"left",colIndex:pe,colSpan:Hn,disableDragEvents:yu,editCellState:no,isNotVisible:xu,pinnedOffset:to,pinnedPosition:ot,sectionIndex:Ce,sectionLength:We,gridHasFiller:B},De==null?void 0:De.cell),oe.field)};if(!z)return null;const Ve=u.left.map((oe,Ce)=>tt(oe,Ce,Ce,u.left.length,nt.LEFT)),be=u.right.map((oe,Ce)=>{const pe=f.length-u.right.length+Ce;return tt(oe,Ce,pe,u.right.length,nt.RIGHT)}),ue=f.length-u.left.length-u.right.length,ve=[];Z&&ve.push(tt(f[b],b-u.left.length,b,ue,nt.VIRTUAL));for(let oe=p.firstColumnIndex;oe<p.lastColumnIndex;oe+=1){const Ce=f[oe],pe=oe-u.left.length;ve.push(tt(Ce,pe,oe,ue))}K&&ve.push(tt(f[b],b-u.left.length,b,ue,nt.VIRTUAL));const Oe=l?{onClick:re,onDoubleClick:ae("rowDoubleClick",O),onMouseEnter:ae("rowMouseEnter",A),onMouseLeave:ae("rowMouseLeave",H),onMouseOut:ae("rowMouseOut",F),onMouseOver:ae("rowMouseOver",E)}:null,le=m.viewportOuterSize.width-m.columnsTotalWidth-N,ge=Math.max(0,le);return v.jsxs("div",h({ref:G,"data-id":r,"data-rowindex":s,role:"row",className:me(...Ue,te.root,d),"aria-rowindex":Y,"aria-selected":o,style:Be},Oe,R,{children:[Ve,v.jsx("div",{role:"presentation",className:_.cellOffsetLeft,style:{width:g}}),ve,ge>0&&v.jsx(wb,{width:ge}),be.length>0&&v.jsx("div",{role:"presentation",className:_.filler}),be,N!==0&&v.jsx(Ml,{pinnedRight:u.right.length>0})]}))}),du=Wt(Sb);function fu({privateApiRef:e,props:t,children:n}){const o=i.useRef(e.current.getPublicApi());return v.jsx(di.Provider,{value:t,children:v.jsx(Aa.Provider,{value:e,children:v.jsx(qr.Provider,{value:o,children:n})})})}const yb=e=>{const t=i.useRef(null),n=i.useRef(null),o=i.useRef(null),r=i.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:o,columnHeadersContainerRef:r})},xb=e=>{const t=en();e.current.state.theme||(e.current.state.theme=t);const n=i.useRef(!0);i.useEffect(()=>{n.current?n.current=!1:e.current.setState(o=>h({},o,{theme:t}))},[e,t])},vb=Rf()&&window.localStorage.getItem("DEBUG")!=null,Rn=()=>{},Ib={debug:Rn,info:Rn,warn:Rn,error:Rn},Fs=["debug","info","warn","error"];function ks(e,t,n=console){const o=Fs.indexOf(t);if(o===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return Fs.reduce((l,s,a)=>(a>=o?l[s]=(...c)=>{const[d,...f]=c;n[s](`MUI X: ${e} - ${d}`,...f)}:l[s]=Rn,l),{})}const Mb=(e,t)=>{const n=i.useCallback(o=>vb?ks(o,"debug",t.logger):t.logLevel?ks(o,t.logLevel.toString(),t.logger):Ib,[t.logLevel,t.logger]);ce(e,{getLogger:n},"private")};class Pb{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),l=Array.from(o.regular.keys());for(let s=r.length-1;s>=0;s-=1){const a=r[s];o.highPriority.has(a)&&a.apply(this,n)}for(let s=0;s<l.length;s+=1){const a=l[s];o.regular.has(a)&&a.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...l){o.removeListener(t,r),n.apply(o,l)})}}class El{static create(t){return new El(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{this.value=n,this.listeners.forEach(o=>o(n))},this.value=t,this.listeners=new Set}}const gu=Symbol("mui.api_private"),Eb=e=>e.isPropagationStopped!==void 0;let Ds=0;function Fb(e){var r;const t=(r=e.current)==null?void 0:r[gu];if(t)return t;const n={},o={state:n,store:El.create(n),instanceId:{id:Ds}};return Ds+=1,o.getPublicApi=()=>e.current,o.register=(l,s)=>{Object.keys(s).forEach(a=>{const c=s[a],d=o[a];if((d==null?void 0:d.spying)===!0?d.target=c:o[a]=c,l==="public"){const f=e.current,u=f[a];(u==null?void 0:u.spying)===!0?u.target=c:f[a]=c}})},o.register("private",{caches:{},eventManager:new Pb}),o}function kb(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[gu]:e.current}}function Db(e,t){var s;const n=i.useRef(),o=i.useRef();o.current||(o.current=Fb(n)),n.current||(n.current=kb(o));const r=i.useCallback((...a)=>{const[c,d,f={}]=a;if(f.defaultMuiPrevented=!1,Eb(f)&&f.isPropagationStopped())return;const u=t.signature===ft.DataGridPro||t.signature===ft.DataGridPremium?{api:o.current.getPublicApi()}:{};o.current.eventManager.emit(c,d,f,u)},[o,t.signature]),l=i.useCallback((a,c,d)=>{o.current.eventManager.on(a,c,d);const f=o.current;return()=>{f.eventManager.removeListener(a,c)}},[o]);return ce(o,{subscribeEvent:l,publishEvent:r},"public"),e&&!((s=e.current)!=null&&s.state)&&(e.current=n.current),i.useImperativeHandle(e,()=>n.current,[n]),i.useEffect(()=>{const a=o.current;return()=>{a.publishEvent("unmount")}},[o]),o}const Tb=(e,t)=>{const n=i.useCallback(o=>{if(t.localeText[o]==null)throw new Error(`Missing translation for key ${o}.`);return t.localeText[o]},[t.localeText]);e.current.register("public",{getLocaleText:n})},Ob=e=>{const t=i.useRef({}),n=i.useRef(!1),o=i.useCallback(f=>{n.current||!f||(n.current=!0,Object.values(f.appliers).forEach(u=>{u()}),n.current=!1)},[]),r=i.useCallback((f,u,g)=>{t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{}});const m=t.current[f];return m.processors.get(u)!==g&&(m.processors.set(u,g),m.processorsAsArray=Array.from(t.current[f].processors.values()),o(m)),()=>{t.current[f].processors.delete(u),t.current[f].processorsAsArray=Array.from(t.current[f].processors.values())}},[o]),l=i.useCallback((f,u,g)=>(t.current[f]||(t.current[f]={processors:new Map,processorsAsArray:[],appliers:{}}),t.current[f].appliers[u]=g,()=>{const m=t.current[f].appliers,p=ne(m,[u].map(jn));t.current[f].appliers=p}),[]),s=i.useCallback(f=>{o(t.current[f])},[o]),a=i.useCallback((...f)=>{const[u,g,m]=f;if(!t.current[u])return g;const p=t.current[u].processorsAsArray;let b=g;for(let C=0;C<p.length;C+=1)b=p[C](b,m);return b},[]),c={registerPipeProcessor:r,registerPipeApplier:l,requestPipeProcessorsApplication:s},d={unstable_applyPipeProcessors:a};ce(e,c,"private"),ce(e,d,"public")},He=(e,t,n)=>{const o=i.useRef(),r=i.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=i.useCallback(()=>{o.current=e.current.registerPipeProcessor(t,r.current,n)},[e,n,t]);Tn(()=>{l()});const s=i.useRef(!0);i.useEffect(()=>(s.current?s.current=!1:l(),()=>{o.current&&(o.current(),o.current=null)}),[l])},Fl=(e,t,n)=>{const o=i.useRef(),r=i.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=i.useCallback(()=>{o.current=e.current.registerPipeApplier(t,r.current,n)},[e,n,t]);Tn(()=>{l()});const s=i.useRef(!0);i.useEffect(()=>(s.current?s.current=!1:l(),()=>{o.current&&(o.current(),o.current=null)}),[l])},Lo=(e,t,n,o)=>{const r=i.useCallback(()=>{e.current.registerStrategyProcessor(t,n,o)},[e,o,n,t]);Tn(()=>{r()});const l=i.useRef(!0);i.useEffect(()=>{l.current?l.current=!1:r()},[r])},Jt="none",Ts={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},_b=e=>{const t=i.useRef(new Map),n=i.useRef({}),o=i.useCallback((c,d,f)=>{const u=()=>{const p=n.current[d],b=ne(p,[c].map(jn));n.current[d]=b};n.current[d]||(n.current[d]={});const g=n.current[d],m=g[c];return g[c]=f,!m||m===f||c===e.current.getActiveStrategy(Ts[d])&&e.current.publishEvent("activeStrategyProcessorChange",d),u},[e]),r=i.useCallback((c,d)=>{const f=e.current.getActiveStrategy(Ts[c]);if(f==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const u=n.current[c];if(!u||!u[f])throw new Error(`No processor found for processor "${c}" on strategy "${f}"`);const g=u[f];return g(d)},[e]),l=i.useCallback(c=>{const f=Array.from(t.current.entries()).find(([,u])=>u.group!==c?!1:u.isAvailable());return(f==null?void 0:f[0])??Jt},[]),s=i.useCallback((c,d,f)=>{t.current.set(d,{group:c,isAvailable:f}),e.current.publishEvent("strategyAvailabilityChange")},[e]);ce(e,{registerStrategyProcessor:o,applyStrategyProcessor:r,getActiveStrategy:l,setStrategyAvailability:s},"private")},Hb=e=>{const t=i.useRef({}),[,n]=i.useState(),o=i.useCallback(d=>{t.current[d.stateId]=d},[]),r=i.useCallback((d,f)=>{let u;if(Pi(d)?u=d(e.current.state):u=d,e.current.state===u)return!1;let g=!1;const m=[];if(Object.keys(t.current).forEach(p=>{const b=t.current[p],C=b.stateSelector(e.current.state,e.current.instanceId),w=b.stateSelector(u,e.current.instanceId);w!==C&&(m.push({stateId:b.stateId,hasPropChanged:w!==b.propModel}),b.propModel!==void 0&&w!==b.propModel&&(g=!0))}),m.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${m[0].stateId}, therefore, you're not allowed to update ${m.map(p=>p.stateId).join(", ")} in the same transaction.`);if(g||(e.current.state=u,e.current.publishEvent&&e.current.publishEvent("stateChange",u),e.current.store.update(u)),m.length===1){const{stateId:p,hasPropChanged:b}=m[0],C=t.current[p],w=C.stateSelector(u,e.current.instanceId);C.propOnChange&&b&&C.propOnChange(w,{reason:f,api:e.current}),g||e.current.publishEvent(C.changeEvent,w,{reason:f})}return!g},[e]),l=i.useCallback((d,f,u)=>e.current.setState(g=>h({},g,{[d]:f(g[d])}),u),[e]),s=i.useCallback(()=>n(()=>e.current.state),[e]),a={setState:r,forceUpdate:s},c={updateControlState:l,registerControlState:o};ce(e,a,"public"),ce(e,c,"private")},Lb=(e,t)=>{const n=Db(e,t);return yb(n),xb(n),Mb(n,t),Hb(n),Ob(n),_b(n),Tb(n,t),n.current.register("private",{rootProps:t}),n},Ye=(e,t,n)=>{const o=i.useRef(!1);o.current||(t.current.state=e(t.current.state,n,t),o.current=!0)};function Lr(e,t){const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const o=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`"'${o}"`:[t.delimiter,`
`,"\r",'"'].some(r=>n.includes(r))?`"${o}"`:o}return n}const mu=(e,t)=>{var l,s;const{csvOptions:n,ignoreValueFormatter:o}=t;let r;if(o){const a=e.colDef.type;a==="number"?r=String(e.value):a==="date"||a==="dateTime"?r=(l=e.value)==null?void 0:l.toISOString():typeof((s=e.value)==null?void 0:s.toString)=="function"?r=e.value.toString():r=e.value}else r=e.formattedValue;return Lr(r,n)};class Gr{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const Gb=({id:e,columns:t,getCellParams:n,csvOptions:o,ignoreValueFormatter:r})=>{const l=new Gr({csvOptions:o});return t.forEach(s=>{const a=n(e,s.field);l.addValue(mu(a,{ignoreValueFormatter:r,csvOptions:o}))}),l.getRowString()};function $b(e){const{columns:t,rowIds:n,csvOptions:o,ignoreValueFormatter:r,apiRef:l}=e,s=n.reduce((u,g)=>`${u}${Gb({id:g,columns:t,getCellParams:l.current.getCellParams,ignoreValueFormatter:r,csvOptions:o})}\r
`,"").trim();if(!o.includeHeaders)return s;const a=t.filter(u=>u.field!==nn.field),c=[];if(o.includeColumnGroupsHeaders){const u=l.current.getAllGroupDetails();let g=0;const m=a.reduce((p,b)=>{const C=l.current.getColumnGroupPath(b.field);return p[b.field]=C,g=Math.max(g,C.length),p},{});for(let p=0;p<g;p+=1){const b=new Gr({csvOptions:o,sanitizeCellValue:Lr});c.push(b),a.forEach(C=>{const w=(m[C.field]||[])[p],x=u[w];b.addValue(x?x.headerName||x.groupId:"")})}}const d=new Gr({csvOptions:o,sanitizeCellValue:Lr});return a.forEach(u=>{d.addValue(u.headerName||u.field)}),c.push(d),`${`${c.map(u=>u.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function Os(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Rb(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Os(e)}):Os(e)}function Ab(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const jb=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,o=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,r=t.clipboardCopyCellDelimiter,l=i.useCallback(s=>{if(!((s.ctrlKey||s.metaKey)&&s.key.toLowerCase()==="c"&&!s.shiftKey&&!s.altKey)||Ab(s.target))return;let a="";if(e.current.getSelectedRows().size>0)a=e.current.getDataAsCsv({includeHeaders:!1,delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1});else{const d=rt(e);if(d){const f=e.current.getCellParams(d.id,d.field);a=mu(f,{csvOptions:{delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:o})}}a=e.current.unstable_applyPipeProcessors("clipboardCopy",a),a&&(Rb(a),e.current.publishEvent("clipboardCopy",a))},[e,o,r]);fl(e,e.current.rootElementRef,"keydown",l),Me(e,"clipboardCopy",t.onClipboardCopy)},zb=e=>h({},e,{columnMenu:{open:!1}}),Vb=e=>{const t=je(e,"useGridColumnMenu"),n=i.useCallback(s=>{const a=An(e.current.state),c={open:!0,field:s};(c.open!==a.open||c.field!==a.field)&&(e.current.setState(f=>f.columnMenu.open&&f.columnMenu.field===s?f:(t.debug("Opening Column Menu"),h({},f,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),o=i.useCallback(()=>{const s=An(e.current.state);if(s.field){const d=Et(e),f=at(e),u=Mt(e);let g=s.field;if(d[g]||(g=u[0]),f[g]===!1){const m=u.filter(b=>b===g?!0:f[b]!==!1),p=m.indexOf(g);g=m[p+1]||m[p-1]}e.current.setColumnHeaderFocus(g)}const a={open:!1,field:void 0};(a.open!==s.open||a.field!==s.field)&&(e.current.setState(d=>(t.debug("Hiding Column Menu"),h({},d,{columnMenu:a}))),e.current.forceUpdate())},[e,t]),r=i.useCallback(s=>{t.debug("Toggle Column Menu");const a=An(e.current.state);!a.open||a.field!==s?n(s):o()},[e,t,n,o]);ce(e,{showColumnMenu:n,hideColumnMenu:o,toggleColumnMenu:r},"public"),ee(e,"columnResizeStart",o),ee(e,"virtualScrollerWheel",e.current.hideColumnMenu),ee(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Nb=(e,t,n)=>{var r,l,s;const o=mn({apiRef:n,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:t.columnVisibilityModel??((s=(l=t.initialState)==null?void 0:l.columns)==null?void 0:s.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return h({},e,{columns:o,pinnedColumns:e.pinnedColumns??Do})};function Bb(e,t){var R,$;const n=je(e,"useGridColumns"),o=i.useRef(t.columns);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:at,changeEvent:"columnVisibilityModelChange"});const r=i.useCallback(k=>{var M,y;n.debug("Updating columns state."),e.current.setState(_s(k)),e.current.publishEvent("columnsChange",k.orderedFields),(y=(M=e.current).updateRenderContext)==null||y.call(M),e.current.forceUpdate()},[n,e]),l=i.useCallback(k=>Et(e)[k],[e]),s=i.useCallback(()=>gt(e),[e]),a=i.useCallback(()=>Ae(e),[e]),c=i.useCallback((k,M=!0)=>(M?Ae(e):gt(e)).findIndex(I=>I.field===k),[e]),d=i.useCallback(k=>{const M=c(k);return Lt(e)[M]},[e,c]),f=i.useCallback(k=>{var y,I;at(e)!==k&&(e.current.setState(P=>h({},P,{columns:mn({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:k,keepOnlyColumnsToUpsert:!1})})),(I=(y=e.current).updateRenderContext)==null||I.call(y),e.current.forceUpdate())},[e]),u=i.useCallback(k=>{const M=mn({apiRef:e,columnsToUpsert:k,initialState:void 0,keepOnlyColumnsToUpsert:!1});r(M)},[e,r]),g=i.useCallback((k,M)=>{const y=at(e),I=y[k]??!0;if(M!==I){const P=h({},y,{[k]:M});e.current.setColumnVisibilityModel(P)}},[e]),m=i.useCallback(k=>Mt(e).findIndex(y=>y===k),[e]),p=i.useCallback((k,M)=>{const y=Mt(e),I=m(k);if(I===M)return;n.debug(`Moving column ${k} to index ${M}`);const P=[...y],S=P.splice(I,1)[0];P.splice(M,0,S),r(h({},St(e.current.state),{orderedFields:P}));const j={column:e.current.getColumn(k),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(k),oldIndex:I};e.current.publishEvent("columnIndexChange",j)},[e,n,r,m]),b=i.useCallback((k,M)=>{n.debug(`Updating column ${k} width to ${M}`);const y=St(e.current.state),I=y.lookup[k],P=h({},I,{width:M,hasBeenResized:!0});r(Ir(h({},y,{lookup:h({},y.lookup,{[k]:P})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(k),colDef:P,width:M})},[e,n,r]),C={getColumn:l,getAllColumns:s,getColumnIndex:c,getColumnPosition:d,getVisibleColumns:a,getColumnIndexRelativeToVisibleColumns:m,updateColumns:u,setColumnVisibilityModel:f,setColumnVisibility:g,setColumnWidth:b},w={setColumnIndex:p};ce(e,C,"public"),ce(e,w,t.signature===ft.DataGrid?"private":"public");const x=i.useCallback((k,M)=>{var D,G;const y={},I=at(e);(!M.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(((G=(D=t.initialState)==null?void 0:D.columns)==null?void 0:G.columnVisibilityModel)??{}).length>0||Object.keys(I).length>0)&&(y.columnVisibilityModel=I),y.orderedFields=Mt(e);const S=gt(e),j={};return S.forEach(z=>{if(z.hasBeenResized){const N={};Ra.forEach(B=>{let W=z[B];W===1/0&&(W=-1),N[B]=W}),j[z.field]=N}}),Object.keys(j).length>0&&(y.dimensions=j),h({},k,{columns:y})},[e,t.columnVisibilityModel,(R=t.initialState)==null?void 0:R.columns]),L=i.useCallback((k,M)=>{var S;const y=(S=M.stateToRestore.columns)==null?void 0:S.columnVisibilityModel,I=M.stateToRestore.columns;if(y==null&&I==null)return k;const P=mn({apiRef:e,columnsToUpsert:[],initialState:I,columnVisibilityModel:y,keepOnlyColumnsToUpsert:!1});return e.current.setState(_s(P)),I!=null&&e.current.publishEvent("columnsChange",P.orderedFields),k},[e]),T=i.useCallback((k,M)=>{var y;if(M===ht.columns){const I=t.slots.columnsPanel;return v.jsx(I,h({},(y=t.slotProps)==null?void 0:y.columnsPanel))}return k},[t.slots.columnsPanel,($=t.slotProps)==null?void 0:$.columnsPanel]),O=i.useCallback(k=>t.disableColumnSelector?k:[...k,"columnMenuColumnsItem"],[t.disableColumnSelector]);He(e,"columnMenu",O),He(e,"exportState",x),He(e,"restoreState",L),He(e,"preferencePanel",T);const A=i.useRef(null);ee(e,"viewportInnerSizeChange",k=>{A.current!==k.width&&(A.current=k.width,r(Ir(St(e.current.state),e.current.getRootDimensions())))});const F=i.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const k=mn({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});r(k)},[e,n,r]);Fl(e,"hydrateColumns",F);const E=i.useRef(!0);i.useEffect(()=>{if(E.current){E.current=!1;return}if(n.info(`GridColumns have changed, new length ${t.columns.length}`),o.current===t.columns)return;const k=mn({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});o.current=t.columns,r(k)},[n,e,r,t.columns]),i.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function _s(e){return t=>h({},t,{columns:e})}const Ub=(e,t)=>{var n;return h({},e,{density:((n=t.initialState)==null?void 0:n.density)??t.density??"standard"})},Wb=(e,t)=>{var a;const n=je(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:At,changeEvent:"densityChange"});const r={setDensity:_e(c=>{At(e.current.state)!==c&&(n.debug(`Set grid density to ${c}`),e.current.setState(f=>h({},f,{density:c})))})};ce(e,r,"public");const l=i.useCallback((c,d)=>{var g;const f=At(e.current.state);return!d.exportOnlyDirtyModels||t.density!=null||((g=t.initialState)==null?void 0:g.density)!=null?h({},c,{density:f}):c},[e,t.density,(a=t.initialState)==null?void 0:a.density]),s=i.useCallback((c,d)=>{var u;const f=(u=d.stateToRestore)!=null&&u.density?d.stateToRestore.density:At(e.current.state);return e.current.setState(g=>h({},g,{density:f})),c},[e]);He(e,"exportState",l),He(e,"restoreState",s),i.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function qb(e,t="csv",n=document.title||"untitled"){const o=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=o,l.click(),setTimeout(()=>{URL.revokeObjectURL(r)});return}throw new Error("MUI X: exportAs not supported.")}const hu=({apiRef:e,options:t})=>{const n=gt(e);return t.fields?t.fields.reduce((r,l)=>{const s=n.find(a=>a.field===l);return s&&r.push(s),r},[]):(t.allColumns?n:Ae(e)).filter(r=>!r.disableExport)},pu=({apiRef:e})=>{var c,d;const t=la(e),n=it(e),o=e.current.getSelectedRows(),r=t.filter(f=>n[f].type!=="footer"),l=Ut(e),s=((c=l==null?void 0:l.top)==null?void 0:c.map(f=>f.id))||[],a=((d=l==null?void 0:l.bottom)==null?void 0:d.map(f=>f.id))||[];return r.unshift(...s),r.push(...a),o.size>0?r.filter(f=>o.has(f)):r},Kb=(e,t)=>{const n=je(e,"useGridCsvExport"),o=t.ignoreValueFormatterDuringExport,r=(typeof o=="object"?o==null?void 0:o.csvExport:o)||!1,l=i.useCallback((d={})=>{n.debug("Get data as CSV");const f=hu({apiRef:e,options:d}),g=(d.getRowsToExport??pu)({apiRef:e});return $b({columns:f,rowIds:g,csvOptions:{delimiter:d.delimiter||",",shouldAppendQuotes:d.shouldAppendQuotes??!0,includeHeaders:d.includeHeaders??!0,includeColumnGroupsHeaders:d.includeColumnGroupsHeaders??!0,escapeFormulas:d.escapeFormulas??!0},ignoreValueFormatter:r,apiRef:e})},[n,e,r]),s=i.useCallback(d=>{n.debug("Export data as CSV");const f=l(d),u=new Blob([d!=null&&d.utf8WithBom?new Uint8Array([239,187,191]):"",f],{type:"text/csv"});qb(u,"csv",d==null?void 0:d.fileName)},[n,l]);ce(e,{getDataAsCsv:l,exportDataAsCsv:s},"public");const c=i.useCallback((d,f)=>{var u;return(u=f.csvOptions)!=null&&u.disableToolbarButton?d:[...d,{component:v.jsx(eu,{options:f.csvOptions}),componentName:"csvExport"}]},[]);He(e,"exportMenu",c)},Fo=(e,t,n)=>{let o=e.paginationModel;const r=e.rowCount,l=(n==null?void 0:n.pageSize)??o.pageSize,s=(n==null?void 0:n.page)??o.page,a=ca(r,l,s);n&&((n==null?void 0:n.page)!==o.page||(n==null?void 0:n.pageSize)!==o.pageSize)&&(o=n);const c=Ig(o.page,a);return c!==o.page&&(o=h({},o,{page:c})),da(o.pageSize,t),o},Xb=(e,t)=>{var p,b;const n=je(e,"useGridPaginationModel"),o=U(e,En),r=Math.floor(t.rowHeight*o);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Qe,changeEvent:"paginationModelChange"});const l=i.useCallback(C=>{const w=Qe(e);C!==w.page&&(n.debug(`Setting page to ${C}`),e.current.setPaginationModel({page:C,pageSize:w.pageSize}))},[e,n]),s=i.useCallback(C=>{const w=Qe(e);C!==w.pageSize&&(n.debug(`Setting page size to ${C}`),e.current.setPaginationModel({pageSize:C,page:w.page}))},[e,n]),a=i.useCallback(C=>{const w=Qe(e);C!==w&&(n.debug("Setting 'paginationModel' to",C),e.current.setState(x=>h({},x,{pagination:h({},x.pagination,{paginationModel:Fo(x.pagination,t.signature,C)})})))},[e,n,t.signature]);ce(e,{setPage:l,setPageSize:s,setPaginationModel:a},"public");const d=i.useCallback((C,w)=>{var T,O;const x=Qe(e);return!w.exportOnlyDirtyModels||t.paginationModel!=null||((O=(T=t.initialState)==null?void 0:T.pagination)==null?void 0:O.paginationModel)!=null||x.page!==0&&x.pageSize!==vg(t.autoPageSize)?h({},C,{pagination:h({},C.pagination,{paginationModel:x})}):C},[e,t.paginationModel,(b=(p=t.initialState)==null?void 0:p.pagination)==null?void 0:b.paginationModel,t.autoPageSize]),f=i.useCallback((C,w)=>{var L,T;const x=(L=w.stateToRestore.pagination)!=null&&L.paginationModel?h({},ua(t.autoPageSize),(T=w.stateToRestore.pagination)==null?void 0:T.paginationModel):Qe(e);return e.current.setState(O=>h({},O,{pagination:h({},O.pagination,{paginationModel:Fo(O.pagination,t.signature,x)})})),C},[e,t.autoPageSize,t.signature]);He(e,"exportState",d),He(e,"restoreState",f);const u=()=>{var w;const C=Qe(e);(w=e.current.virtualScrollerRef)!=null&&w.current&&e.current.scrollToIndexes({rowIndex:C.page*C.pageSize})},g=i.useCallback(()=>{if(!t.autoPageSize)return;const C=e.current.getRootDimensions(),w=Math.floor(C.viewportInnerSize.height/r);e.current.setPageSize(w)},[e,t.autoPageSize,r]),m=i.useCallback(C=>{if(C==null)return;const w=Qe(e),x=gl(e);w.page>x-1&&e.current.setPage(Math.max(0,x-1))},[e]);ee(e,"viewportInnerSizeChange",g),ee(e,"paginationModelChange",u),ee(e,"rowCountChange",m),i.useEffect(()=>{e.current.setState(C=>h({},C,{pagination:h({},C.pagination,{paginationModel:Fo(C.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),i.useEffect(g,[g])};function Yb(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function Qb(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const Jb=(e,t)=>{const n=je(e,"useGridPrintExport"),o=i.useRef(null),r=i.useRef(null),l=i.useRef({}),s=i.useRef([]),a=i.useRef();i.useEffect(()=>{o.current=Xt(e.current.rootElementRef.current)},[e]);const c=i.useCallback((b,C,w)=>new Promise(x=>{const L=hu({apiRef:e,options:{fields:b,allColumns:C}}).map(A=>A.field),T=gt(e),O={};T.forEach(A=>{O[A.field]=L.includes(A.field)}),w&&(O[nn.field]=!0),e.current.setColumnVisibilityModel(O),x()}),[e]),d=i.useCallback(b=>{const w=b({apiRef:e}).reduce((x,L)=>{const T=e.current.getRow(L);return T[Yt]||x.push(T),x},[]);e.current.setRows(w)},[e]),f=i.useCallback((b,C)=>{var M,y,I,P;const w=h({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},C),x=b.contentDocument;if(!x)return;const L=rn(e.current.state),T=e.current.rootElementRef.current,O=T.cloneNode(!0),A=O.querySelector(`.${_.main}`);A.style.overflow="visible",O.style.contain="size";let H=((M=T.querySelector(`.${_.toolbarContainer}`))==null?void 0:M.offsetHeight)||0,F=((y=T.querySelector(`.${_.footerContainer}`))==null?void 0:y.offsetHeight)||0;w.hideToolbar&&((I=O.querySelector(`.${_.toolbarContainer}`))==null||I.remove(),H=0),w.hideFooter&&((P=O.querySelector(`.${_.footerContainer}`))==null||P.remove(),F=0);const E=L.currentPageTotalHeight+Sl(e,t)+H+F;if(O.style.height=`${E}px`,O.style.boxSizing="content-box",!w.hideFooter){const S=O.querySelector(`.${_.footerContainer}`);S.style.position="absolute",S.style.width="100%",S.style.top=`${E-F}px`}const R=document.createElement("div");R.appendChild(O),x.body.style.marginTop="0px",x.body.innerHTML=R.innerHTML;const $=typeof w.pageStyle=="function"?w.pageStyle():w.pageStyle;if(typeof $=="string"){const S=x.createElement("style");S.appendChild(x.createTextNode($)),x.head.appendChild(S)}w.bodyClassName&&x.body.classList.add(...w.bodyClassName.split(" "));const k=[];if(w.copyStyles){const S=T.getRootNode(),D=(S.constructor.name==="ShadowRoot"?S:o.current).querySelectorAll("style, link[rel='stylesheet']");for(let G=0;G<D.length;G+=1){const z=D[G];if(z.tagName==="STYLE"){const N=x.createElement(z.tagName),B=z.sheet;if(B){let W="";for(let Q=0;Q<B.cssRules.length;Q+=1)typeof B.cssRules[Q].cssText=="string"&&(W+=`${B.cssRules[Q].cssText}\r
`);N.appendChild(x.createTextNode(W)),x.head.appendChild(N)}}else if(z.getAttribute("href")){const N=x.createElement(z.tagName);for(let B=0;B<z.attributes.length;B+=1){const W=z.attributes[B];W&&N.setAttribute(W.nodeName,W.nodeValue||"")}k.push(new Promise(B=>{N.addEventListener("load",()=>B())})),x.head.appendChild(N)}}}Promise.all(k).then(()=>{b.contentWindow.print()})},[e,o,t]),u=i.useCallback(b=>{var C,w;o.current.body.removeChild(b),e.current.restoreState(r.current||{}),(w=(C=r.current)==null?void 0:C.columns)!=null&&w.columnVisibilityModel||e.current.setColumnVisibilityModel(l.current),e.current.setState(x=>h({},x,{virtualization:a.current})),e.current.setRows(s.current),r.current=null,l.current={},s.current=[]},[e]),m={exportDataAsPrint:i.useCallback(async b=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(r.current=e.current.exportState(),l.current=at(e),s.current=e.current.getSortedRows().filter(w=>!w[Yt]),t.pagination){const x={page:0,pageSize:ul(e)};e.current.setState(L=>h({},L,{pagination:h({},L.pagination,{paginationModel:Fo(L.pagination,"DataGridPro",x)})}))}a.current=e.current.state.virtualization,e.current.setState(w=>h({},w,{virtualization:h({},w.virtualization,{enabled:!1,enabledForColumns:!1})})),await c(b==null?void 0:b.fields,b==null?void 0:b.allColumns,b==null?void 0:b.includeCheckboxes),d((b==null?void 0:b.getRowsToExport)??pu),await Yb();const C=Qb(b==null?void 0:b.fileName);C.onload=()=>{f(C,b),C.contentWindow.matchMedia("print").addEventListener("change",x=>{x.matches===!1&&u(C)})},o.current.body.appendChild(C)},[t,n,e,f,u,c,d])};ce(e,m,"public");const p=i.useCallback((b,C)=>{var w;return(w=C.printOptions)!=null&&w.disableToolbarButton?b:[...b,{component:v.jsx(tu,{options:C.printOptions}),componentName:"printExport"}]},[]);He(e,"exportMenu",p)},Zb=(e,t,n)=>{var r,l;const o=t.filterModel??((l=(r=t.initialState)==null?void 0:r.filter)==null?void 0:l.filterModel)??Sn();return h({},e,{filter:{filterModel:tl(o,t.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},eC=e=>e.filteredRowsLookup;function Hs(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function tC(){return pi(Object.values)}const nC=(e,t)=>{var E,R,$;const n=je(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:ze,changeEvent:"filterModelChange"});const o=i.useCallback(()=>{e.current.setState(k=>{const M=ze(k,e.current.instanceId),y=e.current.getFilterState(M),I=h({},k,{filter:h({},k.filter,y)}),P=Hs(e,I);return h({},I,{visibleRowsLookup:P})}),e.current.publishEvent("filteredRowsSet")},[e]),r=i.useCallback((k,M)=>M==null||M.filterable===!1||t.disableColumnFilter?k:[...k,"columnMenuFilterItem"],[t.disableColumnFilter]),l=i.useCallback(()=>{o(),e.current.forceUpdate()},[e,o]),s=i.useCallback(k=>{const M=ze(e),y=[...M.items],I=y.findIndex(P=>P.id===k.id);I===-1?y.push(k):y[I]=k,e.current.setFilterModel(h({},M,{items:y}),"upsertFilterItem")},[e]),a=i.useCallback(k=>{const M=ze(e),y=[...M.items];k.forEach(I=>{const P=y.findIndex(S=>S.id===I.id);P===-1?y.push(I):y[P]=I}),e.current.setFilterModel(h({},M,{items:y}),"upsertFilterItems")},[e]),c=i.useCallback(k=>{const M=ze(e),y=M.items.filter(I=>I.id!==k.id);y.length!==M.items.length&&e.current.setFilterModel(h({},M,{items:y}),"deleteFilterItem")},[e]),d=i.useCallback((k,M,y)=>{if(n.debug("Displaying filter panel"),k){const I=ze(e),P=I.items.filter(G=>{var W;if(G.value!==void 0)return!(Array.isArray(G.value)&&G.value.length===0);const N=(W=e.current.getColumn(G.field).filterOperators)==null?void 0:W.find(Q=>Q.value===G.operator);return!(typeof(N==null?void 0:N.requiresFilterValue)>"u"?!0:N==null?void 0:N.requiresFilterValue)});let S;const j=P.find(G=>G.field===k),D=e.current.getColumn(k);j?S=P:t.disableMultipleColumnsFiltering?S=[yr({field:k,operator:D.filterOperators[0].value},e)]:S=[...P,yr({field:k,operator:D.filterOperators[0].value},e)],e.current.setFilterModel(h({},I,{items:S}))}e.current.showPreferences(ht.filters,M,y)},[e,n,t.disableMultipleColumnsFiltering]),f=i.useCallback(()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()},[e,n]),u=i.useCallback(k=>{const M=ze(e);M.logicOperator!==k&&e.current.setFilterModel(h({},M,{logicOperator:k}),"changeLogicOperator")},[e]),g=i.useCallback(k=>{const M=ze(e);zt(M.quickFilterValues,k)||e.current.setFilterModel(h({},M,{quickFilterValues:[...k]}))},[e]),m=i.useCallback((k,M)=>{ze(e)!==k&&(n.debug("Setting filter model"),e.current.updateControlState("filter",ss(k,t.disableMultipleColumnsFiltering,e),M),e.current.unstable_applyFilters())},[e,n,t.disableMultipleColumnsFiltering]),p=i.useCallback(k=>{const M=tl(k,t.disableMultipleColumnsFiltering,e),y=t.filterMode==="client"?Uf(M,e,t.disableEval):null,I=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:y,filterModel:M??Sn()});return h({},I,{filterModel:M})},[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),b={setFilterLogicOperator:u,unstable_applyFilters:l,deleteFilterItem:c,upsertFilterItem:s,upsertFilterItems:a,setFilterModel:m,showFilterPanel:d,hideFilterPanel:f,setQuickFilterValues:g,ignoreDiacritics:t.ignoreDiacritics,getFilterState:p};ce(e,b,"public");const C=i.useCallback((k,M)=>{var P,S;const y=ze(e);return!M.exportOnlyDirtyModels||t.filterModel!=null||((S=(P=t.initialState)==null?void 0:P.filter)==null?void 0:S.filterModel)!=null||!zt(y,Sn())?h({},k,{filter:{filterModel:y}}):k},[e,t.filterModel,(R=(E=t.initialState)==null?void 0:E.filter)==null?void 0:R.filterModel]),w=i.useCallback((k,M)=>{var I;const y=(I=M.stateToRestore.filter)==null?void 0:I.filterModel;return y==null?k:(e.current.updateControlState("filter",ss(y,t.disableMultipleColumnsFiltering,e),"restoreState"),h({},k,{callbacks:[...k.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),x=i.useCallback((k,M)=>{var y;if(M===ht.filters){const I=t.slots.filterPanel;return v.jsx(I,h({},(y=t.slotProps)==null?void 0:y.filterPanel))}return k},[t.slots.filterPanel,($=t.slotProps)==null?void 0:$.filterPanel]),{getRowId:L}=t,T=vn(tC),O=i.useCallback(k=>{if(t.filterMode!=="client"||!k.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const M=Ot(e),y={},{isRowMatchingFilters:I}=k,P={},S={passingFilterItems:null,passingQuickFilterValues:null},j=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let z=0;z<j.length;z+=1){const N=j[z],B=L?L(N):N.id;I(N,void 0,S);const W=qf([S.passingFilterItems],[S.passingQuickFilterValues],k.filterModel,e,P);y[B]=W}const D="auto-generated-group-footer-root";return M[D]&&(y[D]=!0),{filteredRowsLookup:y,filteredDescendantCountLookup:{}}},[e,t.filterMode,L,T]);He(e,"columnMenu",r),He(e,"exportState",C),He(e,"restoreState",w),He(e,"preferencePanel",x),Lo(e,Jt,"filtering",O),Lo(e,Jt,"visibleRowsLookupCreation",eC);const A=i.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const k=ze(e),M=Et(e),y=k.items.filter(I=>I.field&&M[I.field]);y.length<k.items.length&&e.current.setFilterModel(h({},k,{items:y}))},[e,n]),H=i.useCallback(k=>{k==="filtering"&&e.current.unstable_applyFilters()},[e]),F=i.useCallback(()=>{e.current.setState(k=>h({},k,{visibleRowsLookup:Hs(e,k)})),e.current.forceUpdate()},[e]);ee(e,"rowsSet",o),ee(e,"columnsChange",A),ee(e,"activeStrategyProcessorChange",H),ee(e,"rowExpansionChange",F),ee(e,"columnVisibilityModelChange",()=>{const k=ze(e);k.quickFilterValues&&Di(k)&&e.current.unstable_applyFilters()}),Tn(()=>{e.current.unstable_applyFilters()}),Ke(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,n,t.filterModel])},oC=e=>h({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),rC=(e,t)=>{const n=je(e,"useGridFocus"),o=i.useRef(null),r=i.useCallback((H,F)=>{H&&e.current.getRow(H.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(H.id,H.field),F)},[e]),l=i.useCallback((H,F)=>{const E=rt(e);(E==null?void 0:E.id)===H&&(E==null?void 0:E.field)===F||(e.current.setState(R=>(n.debug(`Focusing on cell with id=${H} and field=${F}`),h({},R,{tabIndex:{cell:{id:H,field:F},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:H,field:F},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(H)&&(E&&r(E,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(H,F))))},[e,n,r]),s=i.useCallback((H,F={})=>{const E=rt(e);r(E,F),e.current.setState(R=>(n.debug(`Focusing on column header with colIndex=${H}`),h({},R,{tabIndex:{columnHeader:{field:H},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:H},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,r]),a=i.useCallback((H,F={})=>{const E=rt(e);r(E,F),e.current.setState(R=>(n.debug(`Focusing on column header filter with colIndex=${H}`),h({},R,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:H},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:H},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,r]),c=i.useCallback((H,F,E={})=>{const R=rt(e);R&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(R.id,R.field),E),e.current.setState($=>h({},$,{tabIndex:{columnGroupHeader:{field:H,depth:F},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:H,depth:F},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),d=i.useCallback(()=>Nn(e),[e]),f=i.useCallback((H,F,E)=>{let R=e.current.getColumnIndex(F);const $=Ae(e),k=Un(e,{pagination:t.pagination,paginationMode:t.paginationMode}),M=Ut(e),y=[].concat(M.top||[],k.rows,M.bottom||[]);let I=y.findIndex(D=>D.id===H);E==="right"?R+=1:E==="left"?R-=1:I+=1,R>=$.length?(I+=1,I<y.length&&(R=0)):R<0&&(I-=1,I>=0&&(R=$.length-1)),I=_t(I,0,y.length-1);const P=y[I];if(!P)return;const S=e.current.unstable_getCellColSpanInfo(P.id,R);S&&S.spannedByColSpan&&(E==="left"||E==="below"?R=S.leftVisibleCellIndex:E==="right"&&(R=S.rightVisibleCellIndex)),R=_t(R,0,$.length-1);const j=$[R];e.current.setCellFocus(P.id,j.field)},[e,t.pagination,t.paginationMode]),u=i.useCallback(({id:H,field:F})=>{e.current.setCellFocus(H,F)},[e]),g=i.useCallback((H,F)=>{F.key==="Enter"||F.key==="Tab"||F.key==="Shift"||Oo(F.key)||e.current.setCellFocus(H.id,H.field)},[e]),m=i.useCallback(({field:H},F)=>{F.target===F.currentTarget&&e.current.setColumnHeaderFocus(H,F)},[e]),p=i.useCallback(({fields:H,depth:F},E)=>{if(E.target!==E.currentTarget)return;const R=Nn(e);R!==null&&R.depth===F&&H.includes(R.field)||e.current.setColumnGroupHeaderFocus(H[0],F,E)},[e]),b=i.useCallback((H,F)=>{var E,R;(R=(E=F.relatedTarget)==null?void 0:E.getAttribute("class"))!=null&&R.includes(_.columnHeader)||(n.debug("Clearing focus"),e.current.setState($=>h({},$,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),C=i.useCallback(H=>{o.current=H},[]),w=i.useCallback(H=>{const F=o.current;o.current=null;const E=rt(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:H,cell:F}))return;if(!E){F&&e.current.setCellFocus(F.id,F.field);return}if((F==null?void 0:F.id)===E.id&&(F==null?void 0:F.field)===E.field)return;const $=e.current.getCellElement(E.id,E.field);$!=null&&$.contains(H.target)||(F?e.current.setCellFocus(F.id,F.field):(e.current.setState(k=>h({},k,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),r(E,H)))},[e,r]),x=i.useCallback(H=>{if(H.cellMode==="view")return;const F=rt(e);((F==null?void 0:F.id)!==H.id||(F==null?void 0:F.field)!==H.field)&&e.current.setCellFocus(H.id,H.field)},[e]),L=i.useCallback(()=>{const H=rt(e);H&&!e.current.getRow(H.id)&&e.current.setState(F=>h({},F,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),T=_e(()=>{const H=rt(e);if(!H)return;const F=Un(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(F.rows.find($=>$.id===H.id))return;const R=Ae(e);e.current.setState($=>h({},$,{tabIndex:{cell:{id:F.rows[0].id,field:R[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),O={setCellFocus:l,setColumnHeaderFocus:s,setColumnHeaderFilterFocus:a},A={moveFocusToRelativeCell:f,setColumnGroupHeaderFocus:c,getColumnGroupHeaderFocus:d};ce(e,O,"public"),ce(e,A,"private"),i.useEffect(()=>{const H=Xt(e.current.rootElementRef.current);return H.addEventListener("mouseup",w),()=>{H.removeEventListener("mouseup",w)}},[e,w]),ee(e,"columnHeaderBlur",b),ee(e,"cellDoubleClick",u),ee(e,"cellMouseDown",C),ee(e,"cellKeyDown",g),ee(e,"cellModeChange",x),ee(e,"columnHeaderFocus",m),ee(e,"columnGroupHeaderFocus",p),ee(e,"rowsSet",L),ee(e,"paginationModelChange",T)};function lC(e,t){const n=Ut(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const hr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,direction:o})=>{if(o==="rtl"){if(e<n)return e+1}else if(o==="ltr"&&e>t)return e-1;return null},pr=({currentColIndex:e,firstColIndex:t,lastColIndex:n,direction:o})=>{if(o==="rtl"){if(e>t)return e-1}else if(o==="ltr"&&e<n)return e+1;return null},sC=(e,t)=>{const n=je(e,"useGridKeyboardNavigation"),o=on(e,t).rows,r=en(),l=i.useMemo(()=>lC(e,o),[e,o]),s=t.signature!=="DataGrid"&&t.headerFilters,a=i.useCallback((w,x,L="left")=>{const T=Gt(e),O=e.current.unstable_getCellColSpanInfo(x,w);O&&O.spannedByColSpan&&(L==="left"?w=O.leftVisibleCellIndex:L==="right"&&(w=O.rightVisibleCellIndex));const A=T.findIndex(F=>F.id===x);n.debug(`Navigating to cell row ${A}, col ${w}`),e.current.scrollToIndexes({colIndex:w,rowIndex:A});const H=e.current.getVisibleColumns()[w].field;e.current.setCellFocus(x,H)},[e,n]),c=i.useCallback((w,x)=>{n.debug(`Navigating to header col ${w}`),e.current.scrollToIndexes({colIndex:w});const L=e.current.getVisibleColumns()[w].field;e.current.setColumnHeaderFocus(L,x)},[e,n]),d=i.useCallback((w,x)=>{n.debug(`Navigating to header filter col ${w}`),e.current.scrollToIndexes({colIndex:w});const L=e.current.getVisibleColumns()[w].field;e.current.setColumnHeaderFilterFocus(L,x)},[e,n]),f=i.useCallback((w,x,L)=>{n.debug(`Navigating to header col ${w}`),e.current.scrollToIndexes({colIndex:w});const{field:T}=e.current.getVisibleColumns()[w];e.current.setColumnGroupHeaderFocus(T,x,L)},[e,n]),u=i.useCallback(w=>{var x;return(x=l[w])==null?void 0:x.id},[l]),g=i.useCallback((w,x)=>{const L=x.currentTarget.querySelector(`.${_.columnHeaderTitleContainerContent}`);if(!!L&&L.contains(x.target)&&w.field!==nn.field)return;const O=e.current.getViewportPageSize(),A=w.field?e.current.getColumnIndex(w.field):0,H=l.length>0?0:null,F=l.length-1,E=0,R=Ae(e).length-1,$=On(e);let k=!0;switch(x.key){case"ArrowDown":{H!==null&&(s?d(A,x):a(A,u(H)));break}case"ArrowRight":{const M=pr({currentColIndex:A,firstColIndex:E,lastColIndex:R,direction:r.direction});M!==null&&c(M,x);break}case"ArrowLeft":{const M=hr({currentColIndex:A,firstColIndex:E,lastColIndex:R,direction:r.direction});M!==null&&c(M,x);break}case"ArrowUp":{$>0&&f(A,$-1,x);break}case"PageDown":{H!==null&&F!==null&&a(A,u(Math.min(H+O,F)));break}case"Home":{c(E,x);break}case"End":{c(R,x);break}case"Enter":{(x.ctrlKey||x.metaKey)&&e.current.toggleColumnMenu(w.field);break}case" ":break;default:k=!1}k&&x.preventDefault()},[e,l.length,s,d,a,u,r.direction,c,f]),m=i.useCallback((w,x)=>{const L=La(e)===w.field,T=Ga(e)===w.field;if(L||T||!Oo(x.key))return;const O=e.current.getViewportPageSize(),A=w.field?e.current.getColumnIndex(w.field):0,H=0,F=l.length-1,E=0,R=Ae(e).length-1;let $=!0;switch(x.key){case"ArrowDown":{const k=u(H);k!=null&&a(A,k);break}case"ArrowRight":{const k=pr({currentColIndex:A,firstColIndex:E,lastColIndex:R,direction:r.direction});k!==null&&d(k,x);break}case"ArrowLeft":{const k=hr({currentColIndex:A,firstColIndex:E,lastColIndex:R,direction:r.direction});k!==null?d(k,x):e.current.setColumnHeaderFilterFocus(w.field,x);break}case"ArrowUp":{c(A,x);break}case"PageDown":{F!==null&&a(A,u(Math.min(H+O,F)));break}case"Home":{d(E,x);break}case"End":{d(R,x);break}case" ":break;default:$=!1}$&&x.preventDefault()},[e,l.length,d,r.direction,c,a,u]),p=i.useCallback((w,x)=>{const L=Nn(e);if(L===null)return;const{field:T,depth:O}=L,{fields:A,depth:H,maxDepth:F}=w,E=e.current.getViewportPageSize(),R=e.current.getColumnIndex(T),$=T?e.current.getColumnIndex(T):0,k=0,M=l.length-1,y=0,I=Ae(e).length-1;let P=!0;switch(x.key){case"ArrowDown":{H===F-1?c(R,x):f(R,O+1,x);break}case"ArrowUp":{H>0&&f(R,O-1,x);break}case"ArrowRight":{const S=A.length-A.indexOf(T)-1;R+S+1<=I&&f(R+S+1,O,x);break}case"ArrowLeft":{const S=A.indexOf(T);R-S-1>=y&&f(R-S-1,O,x);break}case"PageDown":{M!==null&&a($,u(Math.min(k+E,M)));break}case"Home":{f(y,O,x);break}case"End":{f(I,O,x);break}case" ":break;default:P=!1}P&&x.preventDefault()},[e,l.length,c,f,a,u]),b=i.useCallback((w,x)=>{if(eo(x))return;const L=e.current.getCellParams(w.id,w.field);if(L.cellMode===Se.Edit||!Oo(x.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:L})||l.length===0)return;const O=r.direction,A=e.current.getViewportPageSize(),H=w.field?e.current.getColumnIndex(w.field):0,F=l.findIndex(y=>y.id===w.id),E=0,R=l.length-1,$=0,k=Ae(e).length-1;let M=!0;switch(x.key){case"ArrowDown":{F<R&&a(H,u(F+1));break}case"ArrowUp":{F>E?a(H,u(F-1)):s?d(H,x):c(H,x);break}case"ArrowRight":{const y=pr({currentColIndex:H,firstColIndex:$,lastColIndex:k,direction:O});y!==null&&a(y,u(F),O==="rtl"?"left":"right");break}case"ArrowLeft":{const y=hr({currentColIndex:H,firstColIndex:$,lastColIndex:k,direction:O});y!==null&&a(y,u(F),O==="rtl"?"right":"left");break}case"Tab":{x.shiftKey&&H>$?a(H-1,u(F),"left"):!x.shiftKey&&H<k&&a(H+1,u(F),"right");break}case" ":{if(w.field===Pl)break;const I=w.colDef;if(I&&I.field==="__tree_data_group__")break;!x.shiftKey&&F<R&&a(H,u(Math.min(F+A,R)));break}case"PageDown":{F<R&&a(H,u(Math.min(F+A,R)));break}case"PageUp":{const y=Math.max(F-A,E);y!==F&&y>=E?a(H,u(y)):c(H,x);break}case"Home":{x.ctrlKey||x.metaKey||x.shiftKey?a($,u(E)):a($,u(F));break}case"End":{x.ctrlKey||x.metaKey||x.shiftKey?a(k,u(R)):a(k,u(F));break}default:M=!1}M&&x.preventDefault()},[e,l,r.direction,a,u,s,d,c]),C=i.useCallback((w,{event:x})=>x.key===" "?!1:w,[]);He(e,"canStartEditing",C),ee(e,"columnHeaderKeyDown",g),ee(e,"headerFilterKeyDown",m),ee(e,"columnGroupHeaderKeyDown",p),ee(e,"cellKeyDown",b)},iC=(e,t)=>{var p,b;const n=je(e,"useGridRowCount"),o=U(e,Xo),r=U(e,Kt),l=U(e,bn),s=U(e,Qe),a=vn(()=>Qe(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Kt,changeEvent:"rowCountChange"});const d={setRowCount:i.useCallback(C=>{r!==C&&(n.debug("Setting 'rowCount' to",C),e.current.setState(w=>h({},w,{pagination:h({},w.pagination,{rowCount:C})})))},[e,n,r])};ce(e,d,"public");const f=i.useCallback((C,w)=>{var T,O;const x=Kt(e);return!w.exportOnlyDirtyModels||t.rowCount!=null||((O=(T=t.initialState)==null?void 0:T.pagination)==null?void 0:O.rowCount)!=null?h({},C,{pagination:h({},C.pagination,{rowCount:x})}):C},[e,t.rowCount,(b=(p=t.initialState)==null?void 0:p.pagination)==null?void 0:b.rowCount]),u=i.useCallback((C,w)=>{var L;const x=(L=w.stateToRestore.pagination)!=null&&L.rowCount?w.stateToRestore.pagination.rowCount:Kt(e);return e.current.setState(T=>h({},T,{pagination:h({},T.pagination,{rowCount:x})})),C},[e]);He(e,"exportState",f),He(e,"restoreState",u);const g=i.useCallback(C=>{t.paginationMode==="client"||!a.current||C.pageSize!==a.current&&(a.current=C.pageSize,r===-1&&e.current.setPage(0))},[t.paginationMode,a,r,e]);ee(e,"paginationModelChange",g),i.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(o):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,o,t.rowCount]);const m=l.hasNextPage===!1;i.useEffect(()=>{m&&r===-1&&e.current.setRowCount(s.pageSize*s.page+o)},[e,o,m,r,s])},aC=(e,t)=>{var c,d;const n=je(e,"useGridPaginationMeta"),o=U(e,bn);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:bn,changeEvent:"paginationMetaChange"});const l={setPaginationMeta:i.useCallback(f=>{o!==f&&(n.debug("Setting 'paginationMeta' to",f),e.current.setState(u=>h({},u,{pagination:h({},u.pagination,{meta:f})})))},[e,n,o])};ce(e,l,"public");const s=i.useCallback((f,u)=>{var p,b;const g=bn(e);return!u.exportOnlyDirtyModels||t.paginationMeta!=null||((b=(p=t.initialState)==null?void 0:p.pagination)==null?void 0:b.meta)!=null?h({},f,{pagination:h({},f.pagination,{meta:g})}):f},[e,t.paginationMeta,(d=(c=t.initialState)==null?void 0:c.pagination)==null?void 0:d.meta]),a=i.useCallback((f,u)=>{var m;const g=(m=u.stateToRestore.pagination)!=null&&m.meta?u.stateToRestore.pagination.meta:bn(e);return e.current.setState(p=>h({},p,{pagination:h({},p.pagination,{meta:g})})),f},[e]);He(e,"exportState",s),He(e,"restoreState",a),i.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},cC=(e,t)=>{var l,s,a,c,d,f;const n=h({},ua(t.autoPageSize),t.paginationModel??((s=(l=t.initialState)==null?void 0:l.pagination)==null?void 0:s.paginationModel));da(n.pageSize,t.signature);const o=t.rowCount??((c=(a=t.initialState)==null?void 0:a.pagination)==null?void 0:c.rowCount),r=t.paginationMeta??((f=(d=t.initialState)==null?void 0:d.pagination)==null?void 0:f.meta)??{};return h({},e,{pagination:{paginationModel:n,rowCount:o,meta:r}})},uC=(e,t)=>{aC(e,t),Xb(e,t),iC(e,t)},dC=(e,t)=>{var n;return h({},e,{preferencePanel:((n=t.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},fC=(e,t)=>{var u;const n=je(e,"useGridPreferencesPanel"),o=i.useRef(),r=i.useRef(),l=i.useCallback(()=>{n.debug("Hiding Preferences Panel");const g=Nt(e.current.state);g.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:g.openedPanelValue}),e.current.setState(m=>h({},m,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,n]),s=i.useCallback(()=>{r.current=setTimeout(()=>clearTimeout(o.current),0)},[]),a=i.useCallback(()=>{o.current=setTimeout(l,100)},[l]),c=i.useCallback((g,m,p)=>{n.debug("Opening Preferences Panel"),s(),e.current.setState(b=>h({},b,{preferencePanel:h({},b.preferencePanel,{open:!0,openedPanelValue:g,panelId:m,labelId:p})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:g}),e.current.forceUpdate()},[n,s,e]);ce(e,{showPreferences:c,hidePreferences:a},"public");const d=i.useCallback((g,m)=>{var C;const p=Nt(e.current.state);return!m.exportOnlyDirtyModels||((C=t.initialState)==null?void 0:C.preferencePanel)!=null||p.open?h({},g,{preferencePanel:p}):g},[e,(u=t.initialState)==null?void 0:u.preferencePanel]),f=i.useCallback((g,m)=>{const p=m.stateToRestore.preferencePanel;return p!=null&&e.current.setState(b=>h({},b,{preferencePanel:p})),g},[e]);He(e,"exportState",d),He(e,"restoreState",f),i.useEffect(()=>()=>{clearTimeout(o.current),clearTimeout(r.current)},[])},gC=["id","field"],mC=["id","field"],hC=(e,t)=>{const[n,o]=i.useState({}),r=i.useRef(n),l=i.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:a,cellModesModel:c,onCellModesModelChange:d}=t,f=I=>(...P)=>{t.editMode===yt.Cell&&I(...P)},u=i.useCallback((I,P)=>{const S=e.current.getCellParams(I,P);if(!e.current.isCellEditable(S))throw new Error(`MUI X: The cell with id=${I} and field=${P} is not editable.`)},[e]),g=i.useCallback((I,P,S)=>{if(e.current.getCellMode(I,P)!==S)throw new Error(`MUI X: The cell with id=${I} and field=${P} is not in ${S} mode.`)},[e]),m=i.useCallback((I,P)=>{if(!I.isEditable||I.cellMode===Se.Edit)return;const S=h({},I,{reason:It.cellDoubleClick});e.current.publishEvent("cellEditStart",S,P)},[e]),p=i.useCallback((I,P)=>{if(I.cellMode===Se.View||e.current.getCellMode(I.id,I.field)===Se.View)return;const S=h({},I,{reason:dt.cellFocusOut});e.current.publishEvent("cellEditStop",S,P)},[e]),b=i.useCallback((I,P)=>{if(I.cellMode===Se.Edit){if(P.which===229)return;let S;if(P.key==="Escape"?S=dt.escapeKeyDown:P.key==="Enter"?S=dt.enterKeyDown:P.key==="Tab"&&(S=P.shiftKey?dt.shiftTabKeyDown:dt.tabKeyDown,P.preventDefault()),S){const j=h({},I,{reason:S});e.current.publishEvent("cellEditStop",j,P)}}else if(I.isEditable){let S;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:P,cellParams:I,editMode:"cell"}))return;if(Ma(P)?S=It.printableKeyDown:Pa(P)?S=It.pasteKeyDown:P.key==="Enter"?S=It.enterKeyDown:(P.key==="Backspace"||P.key==="Delete")&&(S=It.deleteKeyDown),S){const D=h({},I,{reason:S,key:P.key});e.current.publishEvent("cellEditStart",D,P)}}},[e]),C=i.useCallback(I=>{const{id:P,field:S,reason:j}=I,D={id:P,field:S};(j===It.printableKeyDown||j===It.deleteKeyDown||j===It.pasteKeyDown)&&(D.deleteValue=!0),e.current.startCellEditMode(D)},[e]),w=i.useCallback(I=>{const{id:P,field:S,reason:j}=I;e.current.runPendingEditCellValueMutation(P,S);let D;j===dt.enterKeyDown?D="below":j===dt.tabKeyDown?D="right":j===dt.shiftTabKeyDown&&(D="left");const G=j==="escapeKeyDown";e.current.stopCellEditMode({id:P,field:S,ignoreModifications:G,cellToFocusAfter:D})},[e]),x=I=>async(...P)=>{var S;if(I){const{id:j,field:D}=P[0];((S=e.current.state.editRows[j][D])==null?void 0:S.error)||I(...P)}};ee(e,"cellDoubleClick",f(m)),ee(e,"cellFocusOut",f(p)),ee(e,"cellKeyDown",f(b)),ee(e,"cellEditStart",f(C)),ee(e,"cellEditStop",f(w)),Me(e,"cellEditStart",t.onCellEditStart),Me(e,"cellEditStop",x(t.onCellEditStop));const L=i.useCallback((I,P)=>{const S=qe(e.current.state);return S[I]&&S[I][P]?Se.Edit:Se.View},[e]),T=_e(I=>{const P=I!==t.cellModesModel;d&&P&&d(I,{api:e.current}),!(t.cellModesModel&&P)&&(o(I),r.current=I,e.current.publishEvent("cellModesModelChange",I))}),O=i.useCallback((I,P,S)=>{const j=h({},r.current);if(S!==null)j[I]=h({},j[I],{[P]:h({},S)});else{const D=j[I],G=ne(D,[P].map(jn));j[I]=G,Object.keys(j[I]).length===0&&delete j[I]}T(j)},[T]),A=i.useCallback((I,P,S)=>{e.current.setState(j=>{const D=h({},j.editRows);return S!==null?D[I]=h({},D[I],{[P]:h({},S)}):(delete D[I][P],Object.keys(D[I]).length===0&&delete D[I]),h({},j,{editRows:D})}),e.current.forceUpdate()},[e]),H=i.useCallback(I=>{const{id:P,field:S}=I,j=ne(I,gC);u(P,S),g(P,S,Se.View),O(P,S,h({mode:Se.Edit},j))},[u,g,O]),F=_e(I=>{const{id:P,field:S,deleteValue:j,initialValue:D}=I;let G=e.current.getCellValue(P,S);if(j)switch(e.current.getColumn(S).type){case"boolean":G=!1;break;case"date":case"dateTime":case"number":G=void 0;break;case"singleSelect":G=null;break;case"string":default:G="";break}else D&&(G=D);A(P,S,{value:G,error:!1,isProcessingProps:!1}),e.current.setCellFocus(P,S)}),E=i.useCallback(I=>{const{id:P,field:S}=I,j=ne(I,mC);g(P,S,Se.Edit),O(P,S,h({mode:Se.View},j))},[g,O]),R=_e(async I=>{const{id:P,field:S,ignoreModifications:j,cellToFocusAfter:D="none"}=I;g(P,S,Se.Edit),e.current.runPendingEditCellValueMutation(P,S);const G=()=>{A(P,S,null),O(P,S,null),D!=="none"&&e.current.moveFocusToRelativeCell(P,S,D)};if(j){G();return}const z=qe(e.current.state),{error:N,isProcessingProps:B}=z[P][S];if(N||B){l.current[P][S].mode=Se.Edit,O(P,S,{mode:Se.Edit});return}const W=e.current.getRowWithUpdatedValuesFromCellEditing(P,S);if(s){const Q=q=>{l.current[P][S].mode=Se.Edit,O(P,S,{mode:Se.Edit}),a&&a(q)};try{const q=e.current.getRow(P);Promise.resolve(s(W,q)).then(Z=>{e.current.updateRows([Z]),G()}).catch(Q)}catch(q){Q(q)}}else e.current.updateRows([W]),G()}),$=i.useCallback(async I=>{var q,Z;const{id:P,field:S,value:j,debounceMs:D,unstable_skipValueParser:G}=I;u(P,S),g(P,S,Se.Edit);const z=e.current.getColumn(S),N=e.current.getRow(P);let B=j;z.valueParser&&!G&&(B=z.valueParser(j,N,z,e));let W=qe(e.current.state),Q=h({},W[P][S],{value:B,changeReason:D?"debouncedSetEditCellValue":"setEditCellValue"});if(z.preProcessEditCellProps){const K=j!==W[P][S].value;Q=h({},Q,{isProcessingProps:!0}),A(P,S,Q),Q=await Promise.resolve(z.preProcessEditCellProps({id:P,row:N,props:Q,hasChanged:K}))}return e.current.getCellMode(P,S)===Se.View?!1:(W=qe(e.current.state),Q=h({},Q,{isProcessingProps:!1}),Q.value=z.preProcessEditCellProps?W[P][S].value:B,A(P,S,Q),W=qe(e.current.state),!((Z=(q=W[P])==null?void 0:q[S])!=null&&Z.error))},[e,u,g,A]),k=i.useCallback((I,P)=>{const S=e.current.getColumn(P),j=qe(e.current.state),D=e.current.getRow(I);if(!j[I]||!j[I][P])return e.current.getRow(I);const{value:G}=j[I][P];return S.valueSetter?S.valueSetter(G,D,S,e):h({},D,{[P]:G})},[e]),M={getCellMode:L,startCellEditMode:H,stopCellEditMode:E},y={setCellEditingEditCellValue:$,getRowWithUpdatedValuesFromCellEditing:k};ce(e,M,"public"),ce(e,y,"private"),i.useEffect(()=>{c&&T(c)},[c,T]),Ke(()=>{const I=Vn(e),P=l.current;l.current=Ei(n),Object.entries(n).forEach(([S,j])=>{Object.entries(j).forEach(([D,G])=>{var B,W;const z=((W=(B=P[S])==null?void 0:B[D])==null?void 0:W.mode)||Se.View,N=I[S]??S;G.mode===Se.Edit&&z===Se.View?F(h({id:N,field:D},G)):G.mode===Se.View&&z===Se.Edit&&R(h({id:N,field:D},G))})})},[e,n,F,R])},pC=["id"],bC=["id"],CC=(e,t)=>{const[n,o]=i.useState({}),r=i.useRef(n),l=i.useRef({}),s=i.useRef(),a=i.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:d,rowModesModel:f,onRowModesModelChange:u}=t,g=D=>(...G)=>{t.editMode===yt.Row&&D(...G)},m=i.useCallback((D,G)=>{const z=e.current.getCellParams(D,G);if(!e.current.isCellEditable(z))throw new Error(`MUI X: The cell with id=${D} and field=${G} is not editable.`)},[e]),p=i.useCallback((D,G)=>{if(e.current.getRowMode(D)!==G)throw new Error(`MUI X: The row with id=${D} is not in ${G} mode.`)},[e]),b=i.useCallback(D=>{const G=qe(e.current.state);return Object.values(G[D]).some(z=>z.error)},[e]),C=i.useCallback((D,G)=>{if(!D.isEditable||e.current.getRowMode(D.id)===Ie.Edit)return;const z=e.current.getRowParams(D.id),N=h({},z,{field:D.field,reason:Dt.cellDoubleClick});e.current.publishEvent("rowEditStart",N,G)},[e]),w=i.useCallback(D=>{a.current=D},[]),x=i.useCallback((D,G)=>{D.isEditable&&e.current.getRowMode(D.id)!==Ie.View&&(a.current=null,s.current=setTimeout(()=>{var z;if(((z=a.current)==null?void 0:z.id)!==D.id){if(!e.current.getRow(D.id)||e.current.getRowMode(D.id)===Ie.View||b(D.id))return;const N=e.current.getRowParams(D.id),B=h({},N,{field:D.field,reason:bt.rowFocusOut});e.current.publishEvent("rowEditStop",B,G)}}))},[e,b]);i.useEffect(()=>()=>{clearTimeout(s.current)},[]);const L=i.useCallback((D,G)=>{if(D.cellMode===Ie.Edit){if(G.which===229)return;let z;if(G.key==="Escape")z=bt.escapeKeyDown;else if(G.key==="Enter")z=bt.enterKeyDown;else if(G.key==="Tab"){const N=Fn(e).filter(B=>e.current.getColumn(B).type===Kn?!0:e.current.isCellEditable(e.current.getCellParams(D.id,B)));if(G.shiftKey?D.field===N[0]&&(z=bt.shiftTabKeyDown):D.field===N[N.length-1]&&(z=bt.tabKeyDown),G.preventDefault(),!z){const B=N.findIndex(Q=>Q===D.field),W=N[G.shiftKey?B-1:B+1];e.current.setCellFocus(D.id,W)}}if(z){if(z!==bt.escapeKeyDown&&b(D.id))return;const N=h({},e.current.getRowParams(D.id),{reason:z,field:D.field});e.current.publishEvent("rowEditStop",N,G)}}else if(D.isEditable){let z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:G,cellParams:D,editMode:"row"}))return;if(Ma(G)||Pa(G)?z=Dt.printableKeyDown:G.key==="Enter"?z=Dt.enterKeyDown:(G.key==="Backspace"||G.key==="Delete")&&(z=Dt.deleteKeyDown),z){const B=e.current.getRowParams(D.id),W=h({},B,{field:D.field,reason:z});e.current.publishEvent("rowEditStart",W,G)}}},[e,b]),T=i.useCallback(D=>{const{id:G,field:z,reason:N}=D,B={id:G,fieldToFocus:z};(N===Dt.printableKeyDown||N===Dt.deleteKeyDown)&&(B.deleteValue=!!z),e.current.startRowEditMode(B)},[e]),O=i.useCallback(D=>{const{id:G,reason:z,field:N}=D;e.current.runPendingEditCellValueMutation(G);let B;z===bt.enterKeyDown?B="below":z===bt.tabKeyDown?B="right":z===bt.shiftTabKeyDown&&(B="left");const W=z==="escapeKeyDown";e.current.stopRowEditMode({id:G,ignoreModifications:W,field:N,cellToFocusAfter:B})},[e]);ee(e,"cellDoubleClick",g(C)),ee(e,"cellFocusIn",g(w)),ee(e,"cellFocusOut",g(x)),ee(e,"cellKeyDown",g(L)),ee(e,"rowEditStart",g(T)),ee(e,"rowEditStop",g(O)),Me(e,"rowEditStart",t.onRowEditStart),Me(e,"rowEditStop",t.onRowEditStop);const A=i.useCallback(D=>{if(t.editMode===yt.Cell)return Ie.View;const G=qe(e.current.state);return G[D]&&Object.keys(G[D]).length>0?Ie.Edit:Ie.View},[e,t.editMode]),H=_e(D=>{const G=D!==t.rowModesModel;u&&G&&u(D,{api:e.current}),!(t.rowModesModel&&G)&&(o(D),r.current=D,e.current.publishEvent("rowModesModelChange",D))}),F=i.useCallback((D,G)=>{const z=h({},r.current);G!==null?z[D]=h({},G):delete z[D],H(z)},[H]),E=i.useCallback((D,G)=>{e.current.setState(z=>{const N=h({},z.editRows);return G!==null?N[D]=G:delete N[D],h({},z,{editRows:N})}),e.current.forceUpdate()},[e]),R=i.useCallback((D,G,z)=>{e.current.setState(N=>{const B=h({},N.editRows);return z!==null?B[D]=h({},B[D],{[G]:h({},z)}):(delete B[D][G],Object.keys(B[D]).length===0&&delete B[D]),h({},N,{editRows:B})}),e.current.forceUpdate()},[e]),$=i.useCallback(D=>{const{id:G}=D,z=ne(D,pC);p(G,Ie.View),F(G,h({mode:Ie.Edit},z))},[p,F]),k=_e(D=>{const{id:G,fieldToFocus:z,deleteValue:N,initialValue:B}=D,Q=Mt(e).reduce((q,Z)=>{if(!e.current.getCellParams(G,Z).isEditable)return q;let Y=e.current.getCellValue(G,Z);return z===Z&&(N||B)&&(Y=N?"":B),q[Z]={value:Y,error:!1,isProcessingProps:!1},q},{});E(G,Q),z&&e.current.setCellFocus(G,z)}),M=i.useCallback(D=>{const{id:G}=D,z=ne(D,bC);p(G,Ie.Edit),F(G,h({mode:Ie.View},z))},[p,F]),y=_e(D=>{const{id:G,ignoreModifications:z,field:N,cellToFocusAfter:B="none"}=D;e.current.runPendingEditCellValueMutation(G);const W=()=>{B!=="none"&&N&&e.current.moveFocusToRelativeCell(G,N,B),E(G,null),F(G,null)};if(z){W();return}const Q=qe(e.current.state),q=e.current.getRow(G);if(Object.values(Q[G]).some(Y=>Y.isProcessingProps)){l.current[G].mode=Ie.Edit;return}if(b(G)){l.current[G].mode=Ie.Edit,F(G,{mode:Ie.Edit});return}const K=e.current.getRowWithUpdatedValuesFromRowEditing(G);if(c){const Y=te=>{l.current[G].mode=Ie.Edit,F(G,{mode:Ie.Edit}),d&&d(te)};try{Promise.resolve(c(K,q)).then(te=>{e.current.updateRows([te]),W()}).catch(Y)}catch(te){Y(te)}}else e.current.updateRows([K]),W()}),I=i.useCallback(D=>{const{id:G,field:z,value:N,debounceMs:B,unstable_skipValueParser:W}=D;m(G,z);const Q=e.current.getColumn(z),q=e.current.getRow(G);let Z=N;Q.valueParser&&!W&&(Z=Q.valueParser(N,q,Q,e));let K=qe(e.current.state),Y=h({},K[G][z],{value:Z,changeReason:B?"debouncedSetEditCellValue":"setEditCellValue"});return Q.preProcessEditCellProps||R(G,z,Y),new Promise(te=>{const ae=[];if(Q.preProcessEditCellProps){const re=Y.value!==K[G][z].value;Y=h({},Y,{isProcessingProps:!0}),R(G,z,Y);const he=K[G],De=ne(he,[z].map(jn)),$e=Promise.resolve(Q.preProcessEditCellProps({id:G,row:q,props:Y,hasChanged:re,otherFieldsProps:De})).then(Te=>{if(e.current.getRowMode(G)===Ie.View){te(!1);return}K=qe(e.current.state),Te=h({},Te,{isProcessingProps:!1}),Te.value=Q.preProcessEditCellProps?K[G][z].value:Z,R(G,z,Te)});ae.push($e)}Object.entries(K[G]).forEach(([re,he])=>{if(re===z)return;const De=e.current.getColumn(re);if(!De.preProcessEditCellProps)return;he=h({},he,{isProcessingProps:!0}),R(G,re,he),K=qe(e.current.state);const $e=K[G],Te=ne($e,[re].map(jn)),ye=Promise.resolve(De.preProcessEditCellProps({id:G,row:q,props:he,hasChanged:!1,otherFieldsProps:Te})).then(Le=>{if(e.current.getRowMode(G)===Ie.View){te(!1);return}Le=h({},Le,{isProcessingProps:!1}),R(G,re,Le)});ae.push(ye)}),Promise.all(ae).then(()=>{e.current.getRowMode(G)===Ie.Edit?(K=qe(e.current.state),te(!K[G][z].error)):te(!1)})})},[e,m,R]),P=i.useCallback(D=>{const G=qe(e.current.state),z=e.current.getRow(D);if(!G[D])return e.current.getRow(D);let N=h({},z);return Object.entries(G[D]).forEach(([B,W])=>{const Q=e.current.getColumn(B);Q.valueSetter?N=Q.valueSetter(W.value,N,Q,e):N[B]=W.value}),N},[e]),S={getRowMode:A,startRowEditMode:$,stopRowEditMode:M},j={setRowEditingEditCellValue:I,getRowWithUpdatedValuesFromRowEditing:P};ce(e,S,"public"),ce(e,j,"private"),i.useEffect(()=>{f&&H(f)},[f,H]),Ke(()=>{const D=Vn(e),G=l.current;l.current=Ei(n);const z=new Set([...Object.keys(n),...Object.keys(G)]);Array.from(z).forEach(N=>{var q;const B=n[N]??{mode:Ie.View},W=((q=G[N])==null?void 0:q.mode)||Ie.View,Q=D[N]??N;B.mode===Ie.Edit&&W===Ie.View?k(h({id:Q},B)):B.mode===Ie.View&&W===Ie.Edit&&y(h({id:Q},B))})},[e,n,k,y])},wC=e=>h({},e,{editRows:{}}),SC=(e,t)=>{hC(e,t),CC(e,t);const n=i.useRef({}),{isCellEditable:o}=t,r=i.useCallback(g=>yn(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:o?o(g):!0,[o]),l=(g,m,p,b)=>{if(!p){b();return}if(n.current[g]||(n.current[g]={}),n.current[g][m]){const[x]=n.current[g][m];clearTimeout(x)}const C=()=>{const[x]=n.current[g][m];clearTimeout(x),b(),delete n.current[g][m]},w=setTimeout(()=>{b(),delete n.current[g][m]},p);n.current[g][m]=[w,C]};i.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([m,p])=>{Object.keys(p).forEach(b=>{const[C]=g[m][b];clearTimeout(C),delete g[m][b]})})}},[]);const s=i.useCallback((g,m)=>{if(n.current[g]){if(!m)Object.keys(n.current[g]).forEach(p=>{const[,b]=n.current[g][p];b()});else if(n.current[g][m]){const[,p]=n.current[g][m];p()}}},[]),a=i.useCallback(g=>{const{id:m,field:p,debounceMs:b}=g;return new Promise(C=>{l(m,p,b,async()=>{const w=t.editMode===yt.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(m,p)===Se.Edit){const x=await w(g);C(x)}})})},[e,t.editMode]),c=i.useCallback((g,m)=>t.editMode===yt.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,m):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),d=i.useCallback((g,m)=>{var b;return((b=qe(e.current.state)[g])==null?void 0:b[m])??null},[e]),f={isCellEditable:r,setEditCellValue:a,getRowWithUpdatedValues:c,unstable_getEditCellMeta:d},u={runPendingEditCellValueMutation:s};ce(e,f,"public"),ce(e,u,"private")},yC=(e,t,n)=>{const o=!!t.unstable_dataSource;return n.current.caches.rows=Mo({rows:o?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),h({},e,{rows:zi({apiRef:n,rowCountProp:t.rowCount,loadingProp:o?!0:t.loading,previousTree:null,previousTreeDepths:null})})},xC=(e,t)=>{const n=je(e,"useGridRows"),o=on(e,t),r=i.useRef(Date.now()),l=i.useRef(t.rowCount),s=In(),a=i.useCallback(S=>{const j=Ot(e)[S];if(j)return j;const D=e.current.getRowNode(S);return D&&yn(D)?{[Yt]:S}:null},[e]),c=t.getRowId,d=i.useCallback(S=>Yt in S?S[Yt]:c?c(S):S.id,[c]),f=i.useMemo(()=>o.rows.reduce((S,{id:j},D)=>(S[j]=D,S),{}),[o.rows]),u=i.useCallback(({cache:S,throttle:j})=>{const D=()=>{r.current=Date.now(),e.current.setState(z=>h({},z,{rows:zi({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:it(e),previousTreeDepths:xr(e),previousGroupsToFetch:eg(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(s.clear(),e.current.caches.rows=S,!j){D();return}const G=t.throttleRowsMs-(Date.now()-r.current);if(G>0){s.start(G,D);return}D()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),g=i.useCallback(S=>{n.debug(`Updating all rows, new length ${S.length}`);const j=Mo({rows:S,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),D=e.current.caches.rows;j.rowsBeforePartialUpdates=D.rowsBeforePartialUpdates,u({cache:j,throttle:!0})},[n,t.getRowId,t.loading,t.rowCount,u,e]),m=i.useCallback(S=>{if(t.signature===ft.DataGrid&&S.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const j=us(e,S,t.getRowId),D=cs({updates:j,getRowId:t.getRowId,previousCache:e.current.caches.rows});u({cache:D,throttle:!0})},[t.signature,t.getRowId,u,e]),p=i.useCallback((S,j)=>{const D=us(e,S,t.getRowId),G=cs({updates:D,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:j??[]});u({cache:G,throttle:!1})},[t.getRowId,u,e]),b=i.useCallback(S=>{S!==t.loading&&(n.debug(`Setting loading to ${S}`),e.current.setState(j=>h({},j,{rows:h({},j.rows,{loading:S})})),e.current.caches.rows.loadingPropBeforePartialUpdates=S)},[t.loading,e,n]),C=i.useCallback(()=>{const S=$n(e),j=Ot(e);return new Map(S.map(D=>[D,j[D]??{}]))},[e]),w=i.useCallback(()=>Dn(e),[e]),x=i.useCallback(()=>$n(e),[e]),L=i.useCallback(S=>f[S],[f]),T=i.useCallback((S,j)=>{const D=e.current.getRowNode(S);if(!D)throw new Error(`MUI X: No row with id #${S} found.`);if(D.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const G=h({},D,{childrenExpanded:j});e.current.setState(z=>h({},z,{rows:h({},z.rows,{tree:h({},z.rows.tree,{[S]:G})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",G)},[e]),O=i.useCallback(S=>it(e)[S]??null,[e]),A=i.useCallback(({skipAutoGeneratedRows:S=!0,groupId:j,applySorting:D,applyFiltering:G})=>{const z=it(e);let N;if(D){const B=z[j];if(!B)return[];const W=qo(e);N=[];const Q=W.findIndex(q=>q===j)+1;for(let q=Q;q<W.length&&z[W[q]].depth>B.depth;q+=1){const Z=W[q];(!S||!yn(z[Z]))&&N.push(Z)}}else N=nl(z,j,S);if(G){const B=il(e);N=N.filter(W=>B[W]!==!1)}return N},[e]),H=i.useCallback((S,j)=>{const D=e.current.getRowNode(S);if(!D)throw new Error(`MUI X: No row with id #${S} found.`);if(D.parent!==Ze)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(D.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(G=>{const z=it(G,e.current.instanceId)[Ze],N=z.children,B=N.findIndex(Q=>Q===S);if(B===-1||B===j)return G;n.debug(`Moving row ${S} to index ${j}`);const W=[...N];return W.splice(j,0,W.splice(B,1)[0]),h({},G,{rows:h({},G.rows,{tree:h({},G.rows.tree,{[Ze]:h({},z,{children:W})})})})}),e.current.publishEvent("rowsSet")},[e,n]),F=i.useCallback((S,j)=>{if(t.signature===ft.DataGrid&&j.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(j.length===0)return;if(Xn(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const G=h({},it(e)),z=h({},Ot(e)),N=h({},Vn(e)),B=G[Ze],W=[...B.children],Q=new Set;for(let Z=0;Z<j.length;Z+=1){const K=j[Z],Y=Uo(K,t.getRowId,"A row was provided without id when calling replaceRows()."),[te]=W.splice(S+Z,1,Y);Q.has(te)||(delete z[te],delete N[te],delete G[te]);const ae={id:Y,depth:0,parent:Ze,type:"leaf",groupingKey:null};z[Y]=K,N[Y]=Y,G[Y]=ae,Q.add(Y)}G[Ze]=h({},B,{children:W});const q=W.filter(Z=>{var K;return((K=G[Z])==null?void 0:K.type)==="leaf"});e.current.caches.rows.dataRowIdToModelLookup=z,e.current.caches.rows.dataRowIdToIdLookup=N,e.current.setState(Z=>h({},Z,{rows:h({},Z.rows,{dataRowIdToModelLookup:z,dataRowIdToIdLookup:N,dataRowIds:q,tree:G})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),E={getRow:a,setLoading:b,getRowId:d,getRowModels:C,getRowsCount:w,getAllRowIds:x,setRows:g,updateRows:m,getRowNode:O,getRowIndexRelativeToVisibleRows:L,unstable_replaceRows:F},R={setRowIndex:H,setRowChildrenExpansion:T,getRowGroupChildren:A},$={updateServerRows:p},k=i.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let S;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?S=h({},e.current.caches.rows,{updates:{type:"full",rows:$n(e)}}):S=Mo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),u({cache:S,throttle:!1})},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,u]),M=i.useCallback(S=>{S==="rowTreeCreation"&&k()},[k]),y=i.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==Ri(e)&&k()},[e,k]);ee(e,"activeStrategyProcessorChange",M),ee(e,"strategyAvailabilityChange",y);const I=i.useCallback(()=>{e.current.setState(S=>{const j=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:it(S,e.current.instanceId),treeDepths:xr(S,e.current.instanceId),dataRowIds:$n(S,e.current.instanceId),dataRowIdToModelLookup:Ot(S,e.current.instanceId),dataRowIdToIdLookup:Vn(S,e.current.instanceId)});return h({},S,{rows:h({},S.rows,j,{totalTopLevelRowCount:ji({tree:j.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Fl(e,"hydrateRows",I),ce(e,E,"public"),ce(e,R,t.signature===ft.DataGrid?"private":"public"),ce(e,$,"private");const P=i.useRef(!0);i.useEffect(()=>{var z;if(P.current){P.current=!1;return}let S=!1;t.rowCount!==l.current&&(S=!0,l.current=t.rowCount);const j=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,D=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,G=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;j&&(D||(e.current.setState(N=>h({},N,{rows:h({},N.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),G||(e.current.setState(N=>h({},N,{rows:h({},N.rows,{totalRowCount:Math.max(t.rowCount||0,N.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,N.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate()),!S)||(n.debug(`Updating all rows, new length ${(z=t.rows)==null?void 0:z.length}`),u({cache:Mo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,n,u,e])},vC=e=>{const t={[Ze]:h({},og(),{children:e})};for(let n=0;n<e.length;n+=1){const o=e[n];t[o]={id:o,depth:0,parent:Ze,type:"leaf",groupingKey:null}}return{groupingName:Jt,tree:t,treeDepths:{0:e.length},dataRowIds:e}},IC=({previousTree:e,actions:t})=>{const n=h({},e),o={};for(let s=0;s<t.remove.length;s+=1){const a=t.remove[s];o[a]=!0,delete n[a]}for(let s=0;s<t.insert.length;s+=1){const a=t.insert[s];n[a]={id:a,depth:0,parent:Ze,type:"leaf",groupingKey:null}}const r=n[Ze];let l=[...r.children,...t.insert];return Object.values(o).length&&(l=l.filter(s=>!o[s])),n[Ze]=h({},r,{children:l}),{groupingName:Jt,tree:n,treeDepths:{0:l.length},dataRowIds:l}},MC=e=>e.updates.type==="full"?vC(e.updates.rows):IC({previousTree:e.previousTree,actions:e.updates.actions}),PC=e=>{Lo(e,Jt,"rowTreeCreation",MC)},bu=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],EC=(e,t)=>h({},e,{rowSelection:t.rowSelection?bu(t.rowSelectionModel)??[]:[]}),FC=(e,t)=>{const n=je(e,"useGridSelection"),o=M=>(...y)=>{t.rowSelection&&M(...y)},r=i.useMemo(()=>bu(t.rowSelectionModel,lt(e.current.state)),[e,t.rowSelectionModel]),l=i.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:r,propOnChange:t.onRowSelectionModelChange,stateSelector:lt,changeEvent:"rowSelectionChange"});const{checkboxSelection:s,disableRowSelectionOnClick:a,isRowSelectable:c}=t,d=rl(t),f=on(e,t),u=i.useCallback(M=>{let y=M;const I=l.current??M,P=e.current.isRowSelected(M);if(P){const S=wn(e),j=S.findIndex(G=>G===I),D=S.findIndex(G=>G===y);if(j===D)return;j>D?y=S[D+1]:y=S[D-1]}l.current=M,e.current.selectRowRange({startId:I,endId:y},!P)},[e]),g=i.useCallback(M=>{if(t.signature===ft.DataGrid&&!d&&Array.isArray(M)&&M.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));lt(e.current.state)!==M&&(n.debug("Setting selection model"),e.current.setState(I=>h({},I,{rowSelection:t.rowSelection?M:[]})),e.current.forceUpdate())},[e,n,t.rowSelection,t.signature,d]),m=i.useCallback(M=>lt(e.current.state).includes(M),[e]),p=i.useCallback(M=>{if(c&&!c(e.current.getRowParams(M)))return!1;const y=e.current.getRowNode(M);return!((y==null?void 0:y.type)==="footer"||(y==null?void 0:y.type)==="pinnedRow")},[e,c]),b=i.useCallback(()=>ea(e),[e]),C=i.useCallback((M,y=!0,I=!1)=>{if(e.current.isRowSelectable(M))if(l.current=M,I)n.debug(`Setting selection for row ${M}`),e.current.setRowSelectionModel(y?[M]:[]);else{n.debug(`Toggling selection for row ${M}`);const S=lt(e.current.state).filter(D=>D!==M);y&&S.push(M),(S.length<2||d)&&e.current.setRowSelectionModel(S)}},[e,n,d]),w=i.useCallback((M,y=!0,I=!1)=>{n.debug("Setting selection for several rows");const P=M.filter(D=>e.current.isRowSelectable(D));let S;if(I)S=y?P:[];else{const D=h({},Bn(e));P.forEach(G=>{y?D[G]=G:delete D[G]}),S=Object.values(D)}(S.length<2||d)&&e.current.setRowSelectionModel(S)},[e,n,d]),x=i.useCallback(({startId:M,endId:y},I=!0,P=!1)=>{if(!e.current.getRow(M)||!e.current.getRow(y))return;n.debug(`Expanding selection from row ${M} to row ${y}`);const S=wn(e),j=S.indexOf(M),D=S.indexOf(y),[G,z]=j>D?[D,j]:[j,D],N=S.slice(G,z+1);e.current.selectRows(N,I,P)},[e,n]),L={selectRow:C,setRowSelectionModel:g,getSelectedRows:b,isRowSelected:m,isRowSelectable:p},T={selectRows:w,selectRowRange:x};ce(e,L,"public"),ce(e,T,t.signature===ft.DataGrid?"private":"public");const O=i.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const M=lt(e.current.state),y=Ot(e),I=h({},Bn(e));let P=!1;M.forEach(S=>{y[S]||(delete I[S],P=!0)}),P&&e.current.setRowSelectionModel(Object.values(I))},[e,t.keepNonExistentRowsSelected]),A=i.useCallback((M,y)=>{const I=y.metaKey||y.ctrlKey,P=!s&&!I&&!Tg(y),S=!d||P,j=e.current.isRowSelected(M);S?e.current.selectRow(M,P?!0:!j,!0):e.current.selectRow(M,!j,!1)},[e,d,s]),H=i.useCallback((M,y)=>{var S;if(a)return;const I=(S=y.target.closest(`.${_.cell}`))==null?void 0:S.getAttribute("data-field");if(I===nn.field||I===Pl)return;if(I){const j=e.current.getColumn(I);if((j==null?void 0:j.type)===Kn)return}e.current.getRowNode(M.id).type!=="pinnedRow"&&(y.shiftKey&&d?u(M.id):A(M.id,y))},[a,d,e,u,A]),F=i.useCallback((M,y)=>{var I;d&&y.shiftKey&&((I=window.getSelection())==null||I.removeAllRanges())},[d]),E=i.useCallback((M,y)=>{d&&y.nativeEvent.shiftKey?u(M.id):e.current.selectRow(M.id,M.value,!d)},[e,u,d]),R=i.useCallback(M=>{const y=t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?ml(e):wn(e),I=ze(e);e.current.selectRows(y,M.value,(I==null?void 0:I.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination,t.paginationMode]),$=i.useCallback((M,y)=>{if(e.current.getCellMode(M.id,M.field)!==Se.Edit&&!eo(y)){if(Oo(y.key)&&y.shiftKey){const I=rt(e);if(I&&I.id!==M.id){y.preventDefault();const P=e.current.isRowSelected(I.id);if(!d){e.current.selectRow(I.id,!P,!0);return}const S=e.current.getRowIndexRelativeToVisibleRows(I.id),j=e.current.getRowIndexRelativeToVisibleRows(M.id);let D,G;S>j?P?(D=j,G=S-1):(D=j,G=S):P?(D=S+1,G=j):(D=S,G=j);const z=f.rows.slice(D,G+1).map(N=>N.id);e.current.selectRows(z,!P);return}}if(y.key===" "&&y.shiftKey){y.preventDefault(),A(M.id,y);return}y.key==="a"&&(y.ctrlKey||y.metaKey)&&(y.preventDefault(),w(e.current.getAllRowIds(),!0))}},[e,A,w,f.rows,d]);ee(e,"sortedRowsSet",o(O)),ee(e,"rowClick",o(H)),ee(e,"rowSelectionCheckboxChange",o(E)),ee(e,"headerSelectionCheckboxChange",R),ee(e,"cellMouseDown",o(F)),ee(e,"cellKeyDown",o($)),i.useEffect(()=>{r!==void 0&&e.current.setRowSelectionModel(r)},[e,r,t.rowSelection]),i.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const k=r!=null;i.useEffect(()=>{if(k||!t.rowSelection)return;const M=lt(e.current.state);if(p){const y=M.filter(I=>p(I));y.length<M.length&&e.current.setRowSelectionModel(y)}},[e,p,k,t.rowSelection]),i.useEffect(()=>{if(!t.rowSelection||k)return;const M=lt(e.current.state);!d&&M.length>1&&e.current.setRowSelectionModel([])},[e,d,s,k,t.rowSelection])},kC=e=>{const{classes:t}=e;return i.useMemo(()=>fe({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},de,t),[t])},DC=(e,t)=>{const n={classes:t.classes},o=kC(n),r=i.useCallback(l=>{const s=h({},nn,{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),a=t.checkboxSelection,c=l.lookup[Tt]!=null;return a&&!c?(l.lookup[Tt]=s,l.orderedFields=[Tt,...l.orderedFields]):!a&&c?(delete l.lookup[Tt],l.orderedFields=l.orderedFields.filter(d=>d!==Tt)):a&&c&&(l.lookup[Tt]=h({},s,l.lookup[Tt])),l},[e,o,t.checkboxSelection]);He(e,"hydrateColumns",r)},TC=(e,t)=>{var o,r;const n=t.sortModel??((r=(o=t.initialState)==null?void 0:o.sorting)==null?void 0:r.sortModel)??[];return h({},e,{sorting:{sortModel:Ii(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},OC=(e,t)=>{var O,A;const n=je(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:st,changeEvent:"sortModelChange"});const o=i.useCallback((H,F)=>{const E=st(e),R=E.findIndex(k=>k.field===H);let $=[...E];return R>-1?(F==null?void 0:F.sort)==null?$.splice(R,1):$.splice(R,1,F):$=[...E,F],$},[e]),r=i.useCallback((H,F)=>{const R=st(e).find($=>$.field===H.field);if(R){const $=F===void 0?rs(H.sortingOrder??t.sortingOrder,R.sort):F;return $===void 0?void 0:h({},R,{sort:$})}return{field:H.field,sort:F===void 0?rs(H.sortingOrder??t.sortingOrder):F}},[e,t.sortingOrder]),l=i.useCallback((H,F)=>F==null||F.sortable===!1||t.disableColumnSorting?H:(F.sortingOrder||t.sortingOrder).some(R=>!!R)?[...H,"columnMenuSortItem"]:H,[t.sortingOrder,t.disableColumnSorting]),s=i.useCallback(()=>{e.current.setState(H=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),h({},H,{sorting:h({},H.sorting,{sortedRows:nl(it(e),Ze,!1)})});const F=st(H,e.current.instanceId),E=Hf(F,e),R=e.current.applyStrategyProcessor("sorting",{sortRowList:E});return h({},H,{sorting:h({},H.sorting,{sortedRows:R})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,n,t.sortingMode]),a=i.useCallback(H=>{st(e)!==H&&(n.debug("Setting sort model"),e.current.setState(os(H,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=i.useCallback((H,F,E)=>{const R=e.current.getColumn(H),$=r(R,F);let k;!E||t.disableMultipleColumnsSorting?k=($==null?void 0:$.sort)==null?[]:[$]:k=o(R.field,$),e.current.setSortModel(k)},[e,o,r,t.disableMultipleColumnsSorting]),d=i.useCallback(()=>st(e),[e]),f=i.useCallback(()=>Ko(e).map(F=>F.model),[e]),u=i.useCallback(()=>qo(e),[e]),g=i.useCallback(H=>e.current.getSortedRowIds()[H],[e]);ce(e,{getSortModel:d,getSortedRows:f,getSortedRowIds:u,getRowIdFromRowIndex:g,setSortModel:a,sortColumn:c,applySorting:s},"public");const p=i.useCallback((H,F)=>{var $,k;const E=st(e);return!F.exportOnlyDirtyModels||t.sortModel!=null||((k=($=t.initialState)==null?void 0:$.sorting)==null?void 0:k.sortModel)!=null||E.length>0?h({},H,{sorting:{sortModel:E}}):H},[e,t.sortModel,(A=(O=t.initialState)==null?void 0:O.sorting)==null?void 0:A.sortModel]),b=i.useCallback((H,F)=>{var R;const E=(R=F.stateToRestore.sorting)==null?void 0:R.sortModel;return E==null?H:(e.current.setState(os(E,t.disableMultipleColumnsSorting)),h({},H,{callbacks:[...H.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),C=i.useCallback(H=>{const F=it(e),E=F[Ze],R=H.sortRowList?H.sortRowList(E.children.map($=>F[$])):[...E.children];return E.footerId!=null&&R.push(E.footerId),R},[e]);He(e,"exportState",p),He(e,"restoreState",b),Lo(e,Jt,"sorting",C);const w=i.useCallback(({field:H,colDef:F},E)=>{if(!F.sortable||t.disableColumnSorting)return;const R=E.shiftKey||E.metaKey||E.ctrlKey;c(H,void 0,R)},[c,t.disableColumnSorting]),x=i.useCallback(({field:H,colDef:F},E)=>{!F.sortable||t.disableColumnSorting||E.key==="Enter"&&!E.ctrlKey&&!E.metaKey&&c(H,void 0,E.shiftKey)},[c,t.disableColumnSorting]),L=i.useCallback(()=>{const H=st(e),F=Et(e);if(H.length>0){const E=H.filter(R=>F[R.field]);E.length<H.length&&e.current.setSortModel(E)}},[e]),T=i.useCallback(H=>{H==="sorting"&&e.current.applySorting()},[e]);He(e,"columnMenu",l),ee(e,"columnHeaderClick",w),ee(e,"columnHeaderKeyDown",x),ee(e,"rowsSet",e.current.applySorting),ee(e,"columnsChange",L),ee(e,"activeStrategyProcessorChange",T),Tn(()=>{e.current.applySorting()}),Ke(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Ls(e){const{clientHeight:t,scrollTop:n,offsetHeight:o,offsetTop:r}=e,l=r+o;if(o>t)return r;if(l-t>n)return l-t;if(r<n)return r}const _C=(e,t)=>{const n=en(),o=je(e,"useGridScroll"),r=e.current.columnHeadersContainerRef,l=e.current.virtualScrollerRef,s=U(e,Gt),a=i.useCallback(u=>{var w;const g=et(e.current.state),m=Dn(e),p=Ae(e);if(!(u.rowIndex==null)&&m===0||p.length===0)return!1;o.debug(`Scrolling to cell at row ${u.rowIndex}, col: ${u.colIndex} `);let C={};if(u.colIndex!==void 0){const x=Lt(e);let L;if(typeof u.rowIndex<"u"){const T=(w=s[u.rowIndex])==null?void 0:w.id,O=e.current.unstable_getCellColSpanInfo(T,u.colIndex);O&&!O.spannedByColSpan&&(L=O.cellProps.width)}typeof L>"u"&&(L=p[u.colIndex].computedWidth),C.left=Ls({clientHeight:g.viewportInnerSize.width,scrollTop:Math.abs(l.current.scrollLeft),offsetHeight:L,offsetTop:x[u.colIndex]})}if(u.rowIndex!==void 0){const x=rn(e.current.state),L=fa(e),T=ga(e),O=t.pagination?u.rowIndex-L*T:u.rowIndex,A=x.positions[O+1]?x.positions[O+1]-x.positions[O]:x.currentPageTotalHeight-x.positions[O];C.top=Ls({clientHeight:g.viewportInnerSize.height,scrollTop:l.current.scrollTop,offsetHeight:A,offsetTop:x.positions[O]})}return C=e.current.unstable_applyPipeProcessors("scrollToIndexes",C,u),typeof C.left!==void 0||typeof C.top!==void 0?(e.current.scroll(C),!0):!1},[o,e,l,t.pagination,s]),c=i.useCallback(u=>{if(l.current&&u.left!==void 0&&r.current){const g=n.direction==="rtl"?-1:1;r.current.scrollLeft=u.left,l.current.scrollLeft=g*u.left,o.debug(`Scrolling left: ${u.left}`)}l.current&&u.top!==void 0&&(l.current.scrollTop=u.top,o.debug(`Scrolling top: ${u.top}`)),o.debug("Scrolling, updating container, and viewport")},[l,n.direction,r,o]),d=i.useCallback(()=>l!=null&&l.current?{top:l.current.scrollTop,left:l.current.scrollLeft}:{top:0,left:0},[l]);ce(e,{scroll:c,scrollToIndexes:a,getScrollPosition:d},"public")};function HC(e,t){Me(e,"columnHeaderClick",t.onColumnHeaderClick),Me(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Me(e,"columnHeaderOver",t.onColumnHeaderOver),Me(e,"columnHeaderOut",t.onColumnHeaderOut),Me(e,"columnHeaderEnter",t.onColumnHeaderEnter),Me(e,"columnHeaderLeave",t.onColumnHeaderLeave),Me(e,"cellClick",t.onCellClick),Me(e,"cellDoubleClick",t.onCellDoubleClick),Me(e,"cellKeyDown",t.onCellKeyDown),Me(e,"preferencePanelClose",t.onPreferencePanelClose),Me(e,"preferencePanelOpen",t.onPreferencePanelOpen),Me(e,"menuOpen",t.onMenuOpen),Me(e,"menuClose",t.onMenuClose),Me(e,"rowDoubleClick",t.onRowDoubleClick),Me(e,"rowClick",t.onRowClick),Me(e,"stateChange",t.onStateChange)}function LC(e,t=166){let n,o;const r=()=>{n=void 0,e(...o)};function l(...s){o=s,n===void 0&&(n=setTimeout(r,t))}return l.clear=()=>{clearTimeout(n),n=void 0},l}const hn={width:0,height:0},GC={isReady:!1,root:hn,viewportOuterSize:hn,viewportInnerSize:hn,contentSize:hn,minimumSize:hn,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},$C=e=>h({},e,{dimensions:GC});function RC(e,t){const n=je(e,"useResizeContainer"),o=i.useRef(!1),r=i.useRef(hn),l=U(e,et),s=U(e,rn),a=U(e,kn),c=U(e,En),d=Math.floor(t.rowHeight*c),f=Math.floor(t.columnHeaderHeight*c),u=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*c),g=jC(Bo(e),6),m=Sl(e,t),p=a.left.reduce((y,I)=>y+I.computedWidth,0),b=a.right.reduce((y,I)=>y+I.computedWidth,0),[C,w]=i.useState(),x=i.useMemo(()=>LC(w,t.resizeThrottleMs),[t.resizeThrottleMs]),L=i.useRef(),T=()=>e.current.state.dimensions,O=_e(y=>{e.current.setState(I=>h({},I,{dimensions:y}))}),A=i.useCallback(()=>{const y=e.current.mainElementRef.current;if(!y)return;const I=Bu(y).getComputedStyle(y),P={width:parseFloat(I.width)||0,height:parseFloat(I.height)||0};(!L.current||!Gs(L.current,P))&&(e.current.publishEvent("resize",P),L.current=P)},[e]),H=i.useCallback(()=>{const y=et(e.current.state);if(!y.isReady)return 0;const I=Un(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const S=tr(e),j=S.lastRowIndex-S.firstRowIndex;return Math.min(j-1,I.rows.length)}const P=Math.floor(y.viewportInnerSize.height/d);return Math.min(P,I.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,d]),F=i.useCallback(()=>{var Y,te;const y=e.current.rootElementRef.current,I=lg(e),P=AC(y,g,t.scrollbarSize),S=m+I.top,j=I.bottom,G={width:g-p-b,height:s.currentPageTotalHeight};let z,N,B=!1,W=!1;if(t.autoHeight)W=!1,B=Math.round(g)>Math.round(r.current.width),z={width:r.current.width,height:S+j+G.height},N={width:Math.max(0,z.width-(W?P:0)),height:Math.max(0,z.height-(B?P:0))};else{z={width:r.current.width,height:r.current.height},N={width:Math.max(0,z.width-p-b),height:Math.max(0,z.height-S-j)};const ae=G,re=N,he=ae.width>re.width,De=ae.height>re.height;(he||De)&&(W=De,B=ae.width+(W?P:0)>re.width,B&&(W=ae.height+P>re.height)),W&&(N.width-=P),B&&(N.height-=P)}const Q=Math.max(z.width,g+(W?P:0)),q={width:g,height:S+G.height+j},Z={isReady:!0,root:r.current,viewportOuterSize:z,viewportInnerSize:N,contentSize:G,minimumSize:q,hasScrollX:B,hasScrollY:W,scrollbarSize:P,headerHeight:f,headerFilterHeight:u,rowWidth:Q,rowHeight:d,columnsTotalWidth:g,leftPinnedWidth:p,rightPinnedWidth:b,headersTotalHeight:m,topContainerHeight:S,bottomContainerHeight:j},K=e.current.state.dimensions;O(Z),Gs(Z.viewportInnerSize,K.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",Z.viewportInnerSize),(te=(Y=e.current).updateRenderContext)==null||te.call(Y)},[e,O,t.scrollbarSize,t.autoHeight,s.currentPageTotalHeight,d,f,u,g,m,p,b]),E={resize:A,getRootDimensions:T},R={updateDimensions:F,getViewportPageSize:H};ce(e,E,"public"),ce(e,R,"private"),Ke(()=>{C&&(F(),e.current.publishEvent("debouncedResize",r.current))},[e,C,F]);const $=e.current.rootElementRef.current;Ke(()=>{if(!$)return;const y=(I,P)=>$.style.setProperty(I,P);y("--DataGrid-width",`${l.viewportOuterSize.width}px`),y("--DataGrid-hasScrollX",`${Number(l.hasScrollX)}`),y("--DataGrid-hasScrollY",`${Number(l.hasScrollY)}`),y("--DataGrid-scrollbarSize",`${l.scrollbarSize}px`),y("--DataGrid-rowWidth",`${l.rowWidth}px`),y("--DataGrid-columnsTotalWidth",`${l.columnsTotalWidth}px`),y("--DataGrid-leftPinnedWidth",`${l.leftPinnedWidth}px`),y("--DataGrid-rightPinnedWidth",`${l.rightPinnedWidth}px`),y("--DataGrid-headerHeight",`${l.headerHeight}px`),y("--DataGrid-headersTotalHeight",`${l.headersTotalHeight}px`),y("--DataGrid-topContainerHeight",`${l.topContainerHeight}px`),y("--DataGrid-bottomContainerHeight",`${l.bottomContainerHeight}px`),y("--height",`${l.rowHeight}px`)},[$,l]);const k=i.useRef(!0),M=i.useCallback(y=>{r.current=y;const I=/jsdom/.test(window.navigator.userAgent);if(y.height===0&&!o.current&&!t.autoHeight&&!I&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),o.current=!0),y.width===0&&!o.current&&!I&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),o.current=!0),k.current){w(y),k.current=!1;return}x(y)},[t.autoHeight,x,n]);Ke(F,[F]),Me(e,"sortedRowsSet",F),Me(e,"paginationModelChange",F),Me(e,"columnsChange",F),ee(e,"resize",M),Me(e,"debouncedResize",t.onResize)}function AC(e,t,n){if(n!==void 0)return n;if(e===null||t===0)return 0;const r=Xt(e).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",e.appendChild(r);const l=r.offsetWidth-r.clientWidth;return e.removeChild(r),l}function jC(e,t){return Math.round(e*10**t)/10**t}function Gs(e,t){return e.width===t.width&&e.height===t.height}const zC=e=>{const{classes:t,headerAlign:n,isDragging:o,isLastColumn:r,showLeftBorder:l,showRightBorder:s,groupId:a,pinnedPosition:c}=e;return fe({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",o&&"columnHeader--moving",s&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",c==="left"&&"columnHeader--pinnedLeft",c==="right"&&"columnHeader--pinnedRight",r&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},de,t)};function VC(e){var z;const{groupId:t,width:n,depth:o,maxDepth:r,fields:l,height:s,colIndex:a,hasFocus:c,tabIndex:d,isLastColumn:f,pinnedPosition:u,style:g,indexInSection:m,sectionLength:p,gridHasFiller:b}=e,C=J(),w=i.useRef(null),x=ie(),L=U(x,wl),T=t?L[t]:{},{headerName:O=t??"",description:A="",headerAlign:H=void 0}=T;let F;const E=t&&((z=L[t])==null?void 0:z.renderHeaderGroup),R=i.useMemo(()=>({groupId:t,headerName:O,description:A,depth:o,maxDepth:r,fields:l,colIndex:a,isLastColumn:f}),[t,O,A,o,r,l,a,f]);t&&E&&(F=E(R));const $=or(u,m),k=nr(u,m,p,C.showCellVerticalBorder,b),M=h({},e,{classes:C.classes,showLeftBorder:$,showRightBorder:k,headerAlign:H,depth:o,isDragging:!1}),y=O??t,I=Pe(),P=t===null?`empty-group-cell-${I}`:t,S=zC(M);i.useLayoutEffect(()=>{if(c){const B=w.current.querySelector('[tabindex="0"]')||w.current;B==null||B.focus()}},[x,c]);const j=i.useCallback(N=>B=>{eo(B)||x.current.publishEvent(N,R,B)},[x,R]),D=i.useMemo(()=>({onKeyDown:j("columnGroupHeaderKeyDown"),onFocus:j("columnGroupHeaderFocus"),onBlur:j("columnGroupHeaderBlur")}),[j]),G=typeof T.headerClassName=="function"?T.headerClassName(R):T.headerClassName;return v.jsx(fc,h({ref:w,classes:S,columnMenuOpen:!1,colIndex:a,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:d,isDraggable:!1,headerComponent:F,headerClassName:G,description:A,elementId:P,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:y,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`,style:g},D))}const $s=Ge("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})({display:"flex"}),NC=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:o,columnHeaderTabIndexState:r,columnGroupHeaderTabIndexState:l,columnHeaderFocus:s,columnGroupHeaderFocus:a,headerGroupingMaxDepth:c,columnMenuState:d,columnVisibility:f,columnGroupsHeaderStructure:u,hasOtherElementInTabSequence:g}=e,[m,p]=i.useState(""),[b,C]=i.useState(""),w=Ft(),x=en(),L=J(),T=U(w,et),O=U(w,er),A=U(w,Cl),H=U(w,Lt),F=U(w,za),E=U(w,kn),R=U(w,Ut),$=Ba(H,F,x.direction,E.left.length),k=T.columnsTotalWidth<T.viewportOuterSize.width;i.useEffect(()=>{w.current.columnHeadersContainerRef.current.scrollLeft=0},[w]);const M=i.useCallback(q=>C(q.field),[]),y=i.useCallback(()=>C(""),[]),I=i.useCallback(q=>p(q.field),[]),P=i.useCallback(()=>p(""),[]),S=i.useMemo(()=>E.left.length?{firstColumnIndex:0,lastColumnIndex:E.left.length}:null,[E.left.length]),j=i.useMemo(()=>E.right.length?{firstColumnIndex:t.length-E.right.length,lastColumnIndex:t.length}:null,[E.right.length,t.length]);ee(w,"columnResizeStart",M),ee(w,"columnResizeStop",y),ee(w,"columnHeaderDragStart",I),ee(w,"columnHeaderDragEnd",P);const D=q=>{const{renderContext:Z=F,maxLastColumn:K=t.length}=q||{},Y=O?Z.firstColumnIndex:0,te=O?Z.lastColumnIndex:K;return{renderedColumns:t.slice(Y,te),firstColumnToRender:Y,lastColumnToRender:te}},G=(q,Z,K,Y=!1)=>{const te=(q==null?void 0:q.position)===ke.RIGHT,ae=(q==null?void 0:q.position)===void 0,re=E.right.length>0&&te||E.right.length===0&&ae,he=$-K;return v.jsxs(i.Fragment,{children:[ae&&v.jsx("div",{role:"presentation",style:{width:he}}),Z,ae&&v.jsx("div",{role:"presentation",className:me(_.filler,Y&&_["filler--borderTop"])}),re&&v.jsx(Ml,{header:!0,borderTop:Y,pinnedRight:te})]})},z=({pinnedPosition:q,columnIndex:Z,computedWidth:K})=>{let Y;if(q==="left"||q==="right"){const te=Il(q,K,Z,H,T);q==="left"&&(Y={left:te}),q==="right"&&(Y={right:te})}return Y},N=(q,Z={})=>{const{renderedColumns:K,firstColumnToRender:Y}=D(q),te=[];for(let ae=0;ae<K.length;ae+=1){const re=K[ae],he=Y+ae,De=he===0,$e=r!==null&&r.field===re.field||De&&!g?0:-1,Te=s!==null&&s.field===re.field,ye=d.open&&d.field===re.field,Le=q==null?void 0:q.position,Be=z({pinnedPosition:Le,columnIndex:he,computedWidth:re.computedWidth});te.push(v.jsx(gc,h({},n[re.field],{columnMenuOpen:ye,filterItemsCounter:o[re.field]&&o[re.field].length,headerHeight:T.headerHeight,isDragging:re.field===m,colDef:re,colIndex:he,isResizing:b===re.field,isLast:he===H.length-1,hasFocus:Te,tabIndex:$e,pinnedPosition:Le,style:Be,indexInSection:ae,sectionLength:K.length,gridHasFiller:k},Z),re.field))}return G(q,te,0)},B=()=>v.jsxs($s,{role:"row","aria-rowindex":c+1,ownerState:L,className:R.top.length===0?_["row--borderBottom"]:void 0,children:[S&&N({position:ke.LEFT,renderContext:S,minFirstColumn:S.firstColumnIndex,maxLastColumn:S.lastColumnIndex},{disableReorder:!0}),N({renderContext:F,minFirstColumn:E.left.length,maxLastColumn:t.length-E.right.length}),j&&N({position:ke.RIGHT,renderContext:j,minFirstColumn:j.firstColumnIndex,maxLastColumn:j.lastColumnIndex},{disableReorder:!0,separatorSide:lr.Left})]}),W=({depth:q,params:Z})=>{var ve,Oe;const K=D(Z);if(K.renderedColumns.length===0)return null;const{renderedColumns:Y,firstColumnToRender:te,lastColumnToRender:ae}=K,re=u[q],he=t[te].field,De=((ve=A[he])==null?void 0:ve[q])??null,$e=re.findIndex(({groupId:le,columnFields:ge})=>le===De&&ge.includes(he)),Te=t[ae-1].field,ye=((Oe=A[Te])==null?void 0:Oe[q])??null,Le=re.findIndex(({groupId:le,columnFields:ge})=>le===ye&&ge.includes(Te)),Be=re.slice($e,Le+1).map(le=>h({},le,{columnFields:le.columnFields.filter(ge=>f[ge]!==!1)})).filter(le=>le.columnFields.length>0),Ue=Be[0].columnFields.indexOf(he),Ve=Be[0].columnFields.slice(0,Ue).reduce((le,ge)=>{const xe=w.current.getColumn(ge);return le+(xe.computedWidth??0)},0);let be=te;const ue=Be.map(({groupId:le,columnFields:ge},xe)=>{const oe=a!==null&&a.depth===q&&ge.includes(a.field),Ce=l!==null&&l.depth===q&&ge.includes(l.field)?0:-1,pe={groupId:le,width:ge.reduce((ln,Hn)=>ln+w.current.getColumn(Hn).computedWidth,0),fields:ge,colIndex:be,hasFocus:oe,tabIndex:Ce},We=Z.position,ot=z({pinnedPosition:We,columnIndex:be,computedWidth:pe.width});be+=ge.length;let Ne=xe;return We==="left"&&(Ne=be-1),v.jsx(VC,{groupId:le,width:pe.width,fields:pe.fields,colIndex:pe.colIndex,depth:q,isLastColumn:pe.colIndex===t.length-pe.fields.length,maxDepth:c,height:T.headerHeight,hasFocus:oe,tabIndex:Ce,pinnedPosition:We,style:ot,indexInSection:Ne,sectionLength:Y.length,gridHasFiller:k},xe)});return G(Z,ue,Ve)};return{renderContext:F,leftRenderContext:S,rightRenderContext:j,pinnedColumns:E,visibleColumns:t,getCellOffsetStyle:z,getFillers:G,getColumnHeadersRow:B,getColumnsToRender:D,getColumnGroupHeadersRows:()=>{if(c===0)return null;const q=[];for(let Z=0;Z<c;Z+=1)q.push(v.jsxs($s,{role:"row","aria-rowindex":Z+1,ownerState:L,children:[S&&W({depth:Z,params:{position:ke.LEFT,renderContext:S,minFirstColumn:S.firstColumnIndex,maxLastColumn:S.lastColumnIndex}}),W({depth:Z,params:{renderContext:F}}),j&&W({depth:Z,params:{position:ke.RIGHT,renderContext:j,minFirstColumn:j.firstColumnIndex,maxLastColumn:j.lastColumnIndex}})]},Z));return q},isDragging:!!m,getInnerProps:()=>({role:"rowgroup"})}},BC=["className"],UC=e=>{const{classes:t}=e;return fe({root:["columnHeaders"]},de,t)},WC=we("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),qC=i.forwardRef(function(t,n){const{className:o}=t,r=ne(t,BC),l=J(),s=UC(l);return v.jsx(WC,h({ref:n,className:me(o,s.root),ownerState:l},r,{role:"presentation"}))}),KC=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],XC=i.forwardRef(function(t,n){const{visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:f,columnMenuState:u,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:p}=t,b=ne(t,KC),{getInnerProps:C,getColumnHeadersRow:w,getColumnGroupHeadersRows:x}=NC({visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:d,headerGroupingMaxDepth:f,columnMenuState:u,columnVisibility:g,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:p});return v.jsxs(qC,h({ref:n},b,C(),{children:[x(),w()]}))}),Cu=Wt(XC);function YC(e){return null}function QC(e){return null}const JC=i.forwardRef(function(t,n){const r=ie().current.getLocaleText("noResultsOverlayLabel");return v.jsx(rr,h({ref:n},t,{children:r}))}),ZC=["sortingOrder"],ew=i.memo(function(t){const{sortingOrder:n}=t,o=ne(t,ZC),r=J(),[l]=n,s=l==="asc"?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return s?v.jsx(s,h({},o)):null}),tw=["native"];function nw(e){let{native:t}=e,n=ne(e,tw);return t?v.jsx("option",h({},n)):v.jsx(wt,h({},n))}const ow={booleanCellTrueIcon:Fc,booleanCellFalseIcon:Eo,columnMenuIcon:Ic,openFilterButtonIcon:bc,filterPanelDeleteIcon:Eo,columnFilteredIcon:Tr,columnSelectorIcon:wc,columnUnsortedIcon:ew,columnSortedAscendingIcon:Er,columnSortedDescendingIcon:Fr,columnResizeIcon:Sc,densityCompactIcon:yc,densityStandardIcon:xc,densityComfortableIcon:vc,exportIcon:Ec,moreActionsIcon:kc,treeDataCollapseIcon:Dr,treeDataExpandIcon:kr,groupingCriteriaCollapseIcon:Dr,groupingCriteriaExpandIcon:kr,detailPanelExpandIcon:Or,detailPanelCollapseIcon:Mc,rowReorderIcon:_r,quickFilterIcon:Cc,quickFilterClearIcon:Eo,columnMenuHideIcon:Dc,columnMenuSortAscendingIcon:Er,columnMenuSortDescendingIcon:Fr,columnMenuFilterIcon:Tr,columnMenuManageColumnsIcon:Tc,columnMenuClearIcon:Oc,loadIcon:Pc,filterPanelAddIcon:Or,filterPanelRemoveAllIcon:_c,columnReorderIcon:_r},rw=h({},ow,{baseCheckbox:Uu,baseTextField:Vr,baseFormControl:Wu,baseSelect:qu,baseButton:ti,baseIconButton:Ku,baseInputAdornment:Xu,baseTooltip:Yu,basePopper:jr,baseInputLabel:Qu,baseSelectOption:nw,baseChip:Ju}),lw=h({},rw,{cell:rc,skeletonCell:lc,columnHeaderFilterIconButton:pc,columnHeaderSortIcon:hc,columnMenu:Nc,columnHeaders:Cu,detailPanels:YC,footer:lu,footerRowCount:uu,toolbar:null,pinnedRows:QC,loadingOverlay:iu,noResultsOverlay:JC,noRowsOverlay:au,pagination:cu,filterPanel:Xc,columnsPanel:Bc,columnsManagement:vl,panel:Wc,row:du});function sw({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const o=h({},e);return Object.keys(n).forEach(r=>{const l=r;n[l]!==void 0&&(o[l]=n[l])}),o}function iw(e){const t=Object.keys(e);if(!t.some(r=>r.startsWith("aria-")||r.startsWith("data-")))return e;const n={},o=e.forwardedProps??{};for(let r=0;r<t.length;r+=1){const l=t[r];l.startsWith("aria-")||l.startsWith("data-")?o[l]=e[l]:n[l]=e[l]}return n.forwardedProps=o,n}function aw(e){return i.useMemo(()=>iw(e),[e])}const cw={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},Go={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:yt.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0},uw=lw,dw=e=>{const t=aw(Zu({props:e,name:"MuiDataGrid"})),n=i.useMemo(()=>h({},fi,t.localeText),[t.localeText]),o=i.useMemo(()=>sw({defaultSlots:uw,slots:t.slots}),[t.slots]),r=i.useMemo(()=>Object.keys(Go).reduce((l,s)=>(l[s]=t[s]??Go[s],l),{}),[t]);return i.useMemo(()=>h({},t,r,{localeText:n,slots:o},cw),[t,n,o,r])},fw=e=>h({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),Rs=(e,t,n)=>typeof e=="number"&&e>0?e:t,gw=(e,t)=>{const{getRowHeight:n,getRowSpacing:o,getEstimatedRowHeight:r}=t,l=i.useRef(Object.create(null)),s=i.useRef(-1),a=i.useRef(!1),c=U(e,En),d=U(e,ze),f=U(e,Jn),u=U(e,st),g=on(e,t),m=U(e,Ut),p=Rs(t.rowHeight,Go.rowHeight),b=Math.floor(p*c),C=i.useCallback(()=>{var I,P;a.current=!1;const k=S=>{l.current[S.id]||(l.current[S.id]={sizes:{baseCenter:b},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:j,needsFirstMeasurement:D,sizes:G}=l.current[S.id];let z=typeof b=="number"&&b>0?b:52;const N=G.baseCenter;if(j)z=N;else if(n){const Q=n(h({},S,{densityFactor:c}));Q==="auto"?(D?z=(r?r(h({},S,{densityFactor:c})):b)??b:z=N,a.current=!0,l.current[S.id].autoHeight=!0):(z=Rs(Q,b),l.current[S.id].needsFirstMeasurement=!1,l.current[S.id].autoHeight=!1)}else l.current[S.id].needsFirstMeasurement=!1;const B={baseCenter:z};if(o){const Q=e.current.getRowIndexRelativeToVisibleRows(S.id),q=o(h({},S,{isFirstVisible:Q===0,isLastVisible:Q===g.rows.length-1,indexRelativeToCurrentPage:Q}));B.spacingTop=q.top??0,B.spacingBottom=q.bottom??0}const W=e.current.unstable_applyPipeProcessors("rowHeight",B,S);return l.current[S.id].sizes=W,W},M=[],y=g.rows.reduce((S,j)=>{M.push(S);let D=0;const G=k(j);for(const z in G){const N=G[z];z!=="baseCenter"&&(D+=N)}return S+G.baseCenter+D},0);(I=m==null?void 0:m.top)==null||I.forEach(S=>{k(S)}),(P=m==null?void 0:m.bottom)==null||P.forEach(S=>{k(S)}),e.current.setState(S=>h({},S,{rowsMeta:{currentPageTotalHeight:y,positions:M}})),a.current||(s.current=1/0),e.current.forceUpdate()},[e,g.rows,b,n,o,r,m,c]),w=i.useCallback(k=>{const M=l.current[k];return M?M.sizes.baseCenter:b},[b]),x=k=>{var M;return(M=l.current[k])==null?void 0:M.sizes},L=i.useCallback((k,M)=>{l.current[k].sizes.baseCenter=M,l.current[k].isResized=!0,l.current[k].needsFirstMeasurement=!1,C()},[C]),T=i.useMemo(()=>ei(C,t.rowPositionsDebounceMs),[C,t.rowPositionsDebounceMs]),O=i.useCallback((k,M)=>{if(!l.current[k]||!l.current[k].autoHeight)return;const y=l.current[k].sizes.baseCenter!==M;l.current[k].needsFirstMeasurement=!1,l.current[k].sizes.baseCenter=M,y&&T()},[T]),A=i.useCallback(k=>{var M;return((M=l.current[k])==null?void 0:M.autoHeight)||!1},[]),H=i.useCallback(()=>s.current,[]),F=i.useCallback(k=>{a.current&&k>s.current&&(s.current=k)},[]),E=i.useCallback(()=>{l.current={},C()},[C]);i.useEffect(()=>{C()},[b,d,f,u,C]),Fl(e,"rowHeight",C);const R={unstable_setLastMeasuredRowIndex:F,unstable_getRowHeight:w,unstable_getRowInternalSizes:x,unstable_setRowHeight:L,unstable_storeRowHeightMeasurement:O,resetRowHeights:E},$={getLastMeasuredRowIndex:H,rowHasAutoHeight:A};ce(e,R,"public"),ce(e,$,"private")},mw=e=>{const t=i.useCallback((r={})=>e.current.unstable_applyPipeProcessors("exportState",{},r),[e]),n=i.useCallback(r=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:r}).callbacks.forEach(s=>{s()}),e.current.forceUpdate()},[e]);ce(e,{exportState:t,restoreState:n},"public")},hw=e=>{const t=i.useRef({}),n=(a,c)=>{var d;return(d=t.current[a])==null?void 0:d[c]},o=()=>{t.current={}},r=i.useCallback(({rowId:a,minFirstColumn:c,maxLastColumn:d,columns:f})=>{for(let u=c;u<d;u+=1){const g=pw({apiRef:e,lookup:t.current,columnIndex:u,rowId:a,minFirstColumnIndex:c,maxLastColumnIndex:d,columns:f});g.colSpan>1&&(u+=g.colSpan-1)}},[e]),l={unstable_getCellColSpanInfo:n},s={resetColSpan:o,calculateColSpan:r};ce(e,l,"public"),ce(e,s,"private"),ee(e,"columnOrderChange",o)};function pw(e){const{apiRef:t,lookup:n,columnIndex:o,rowId:r,minFirstColumnIndex:l,maxLastColumnIndex:s,columns:a}=e,c=a.length,d=a[o],f=t.current.getRow(r),u=t.current.getRowValue(f,d),g=typeof d.colSpan=="function"?d.colSpan(u,f,d,t):d.colSpan;if(!g||g===1)return br(n,r,o,{spannedByColSpan:!1,cellProps:{colSpan:1,width:d.computedWidth}}),{colSpan:1};let m=d.computedWidth;for(let p=1;p<g;p+=1){const b=o+p;if(b>=l&&b<s){const C=a[b];m+=C.computedWidth,br(n,r,o+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(o+g,c-1),leftVisibleCellIndex:o})}br(n,r,o,{spannedByColSpan:!1,cellProps:{colSpan:g,width:m}})}return{colSpan:g}}function br(e,t,n,o){e[t]||(e[t]={}),e[t][n]=o}const wu=(e,t,n)=>{if(el(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:o,children:r}=e;r.forEach(l=>{wu(l,[...t,o],n)})},$r=e=>{if(!e)return{};const t={};return e.forEach(n=>{wu(n,[],t)}),t},Rr=(e,t,n)=>{const o=c=>t[c]??[],r=[],l=Math.max(...e.map(c=>o(c).length)),s=(c,d,f)=>zt(o(c).slice(0,f+1),o(d).slice(0,f+1)),a=(c,d)=>!!(n!=null&&n.left&&n.left.includes(c)&&!n.left.includes(d)||n!=null&&n.right&&!n.right.includes(c)&&n.right.includes(d));for(let c=0;c<l;c+=1){const d=e.reduce((f,u)=>{const g=o(u)[c]??null;if(f.length===0)return[{columnFields:[u],groupId:g}];const m=f[f.length-1],p=m.columnFields[m.columnFields.length-1];return m.groupId!==g||!s(p,u,c)||a(p,u)?[...f,{columnFields:[u],groupId:g}]:[...f.slice(0,f.length-1),{columnFields:[...m.columnFields,u],groupId:g}]},[]);r.push(d)}return r},bw=["groupId","children"],kl=e=>{let t={};return e.forEach(n=>{if(el(n))return;const{groupId:o,children:r}=n,l=ne(n,bw);if(!o)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const s=h({},l,{groupId:o}),a=kl(r);if(a[o]!==void 0||t[o]!==void 0)throw new Error(`MUI X: The groupId ${o} is used multiple times in the columnGroupingModel.`);t=h({},t,a,{[o]:s})}),h({},t)},Cw=(e,t,n)=>{if(!t.columnGroupingModel)return e;const o=Mt(n),r=Fn(n),l=kl(t.columnGroupingModel??[]),s=$r(t.columnGroupingModel??[]),a=Rr(o,s,n.current.state.pinnedColumns??{}),c=r.length===0?0:Math.max(...r.map(d=>{var f;return((f=s[d])==null?void 0:f.length)??0}));return h({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:s,headerStructure:a,maxDepth:c}})},ww=(e,t)=>{const n=i.useCallback(a=>Cl(e)[a]??[],[e]),o=i.useCallback(()=>wl(e),[e]);ce(e,{getColumnGroupPath:n,getAllGroupDetails:o},"public");const l=i.useCallback(()=>{const a=$r(t.columnGroupingModel??[]);e.current.setState(c=>{var g;const d=((g=c.columns)==null?void 0:g.orderedFields)??[],f=c.pinnedColumns??{},u=Rr(d,a,f);return h({},c,{columnGrouping:h({},c.columnGrouping,{headerStructure:u})})})},[e,t.columnGroupingModel]),s=i.useCallback(a=>{var b,C;const c=((C=(b=e.current).getPinnedColumns)==null?void 0:C.call(b))??{},d=Mt(e),f=Fn(e),u=kl(a??[]),g=$r(a??[]),m=Rr(d,g,c),p=f.length===0?0:Math.max(...f.map(w=>{var x;return((x=g[w])==null?void 0:x.length)??0}));e.current.setState(w=>h({},w,{columnGrouping:{lookup:u,unwrappedGroupingModel:g,headerStructure:m,maxDepth:p}}))},[e]);ee(e,"columnIndexChange",l),ee(e,"columnsChange",()=>{s(t.columnGroupingModel)}),ee(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),i.useEffect(()=>{s(t.columnGroupingModel)},[s,t.columnGroupingModel])};function Sw(){let e,t;const n=new Promise((o,r)=>{e=o,t=r});return n.resolve=e,n.reject=t,n}function As(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const o=e.changedTouches[n];if(o.identifier===t)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function js(e,t,n,o){let r=e;return o==="Right"?r+=t-n.left:r+=n.right-t,r}function yw(e,t,n){return n==="Left"?e-t.left:t.right-e}function xw(e){return e==="Right"?"Left":"Right"}function vw(e,t){const n=e.classList.contains(_["columnSeparator--sideRight"])?"Right":"Left";return t==="rtl"?xw(n):n}function zs(e){e.preventDefault(),e.stopImmediatePropagation()}function Iw(e){const t=i.useRef(),n=()=>er(e),o=U(e,n);return i.useEffect(()=>{t.current&&o===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=Sw()}return t.current}}function Mw(e,t){if(e.length<4)return e;const n=e.slice();n.sort((a,c)=>a-c);const o=n[Math.floor(n.length*.25)],r=n[Math.floor(n.length*.75)-1],l=r-o,s=l<5?5:l*t;return n.filter(a=>a>o-s&&a<r+s)}function Pw(e,t,n){const o={},r=e.current.rootElementRef.current;return r.classList.add(_.autosizing),n.forEach(l=>{const a=sh(e.current,l.field).map(p=>p.getBoundingClientRect().width??0),c=t.includeOutliers?a:Mw(a,t.outliersFactor);if(t.includeHeaders){const p=lh(e.current,l.field);if(p){const b=p.querySelector(`.${_.columnHeaderTitle}`),C=p.querySelector(`.${_.columnHeaderTitleContainerContent}`),w=p.querySelector(`.${_.iconButtonContainer}`),x=p.querySelector(`.${_.menuIcon}`),L=b??C,T=window.getComputedStyle(p,null),O=parseInt(T.paddingLeft,10)+parseInt(T.paddingRight,10),H=L.scrollWidth+1+O+((w==null?void 0:w.clientWidth)??0)+((x==null?void 0:x.clientWidth)??0);c.push(H)}}const d=l.minWidth!==-1/0&&l.minWidth!==void 0,f=l.maxWidth!==1/0&&l.maxWidth!==void 0,u=d?l.minWidth:0,g=f?l.maxWidth:1/0,m=c.length===0?0:Math.max(...c);o[l.field]=_t(m,u,g)}),r.classList.remove(_.autosizing),o}const Ew=e=>h({},e,{columnResize:{resizingColumnField:""}});function Fw(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const kw=(e,t)=>{const n=en(),o=je(e,"useGridColumnResize"),r=vn(Fw).current,l=i.useRef(),s=i.useRef(),a=In(),c=i.useRef(),d=E=>{var P,S;o.debug(`Updating width to ${E} for col ${r.colDef.field}`);const R=r.columnHeaderElement.offsetWidth,$=E-R,k=E-r.initialColWidth,M=r.initialTotalWidth+k;(S=(P=e.current.rootElementRef)==null?void 0:P.current)==null||S.style.setProperty("--DataGrid-rowWidth",`${M}px`),r.colDef.computedWidth=E,r.colDef.width=E,r.colDef.flex=0,r.columnHeaderElement.style.width=`${E}px`,r.columnHeaderElement.style.minWidth=`${E}px`,r.columnHeaderElement.style.maxWidth=`${E}px`;const y=r.headerFilterElement;y&&(y.style.width=`${E}px`,y.style.minWidth=`${E}px`,y.style.maxWidth=`${E}px`),r.groupHeaderElements.forEach(j=>{const D=j;let G;D.getAttribute("aria-colspan")==="1"?G=`${E}px`:G=`${D.offsetWidth+$}px`,D.style.width=G,D.style.minWidth=G,D.style.maxWidth=G}),r.cellElements.forEach(j=>{const D=j;let G;D.getAttribute("aria-colspan")==="1"?G=`${E}px`:G=`${D.offsetWidth+$}px`,D.style.setProperty("--width",G)});const I=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);I===ke.LEFT&&(dn(r.fillerLeft,"width",$),r.leftPinnedCellsAfter.forEach(j=>{dn(j,"left",$)}),r.leftPinnedHeadersAfter.forEach(j=>{dn(j,"left",$)})),I===ke.RIGHT&&(dn(r.fillerRight,"width",$),r.rightPinnedCellsBefore.forEach(j=>{dn(j,"right",$)}),r.rightPinnedHeadersBefore.forEach(j=>{dn(j,"right",$)}))},f=E=>{if(w(),r.previousMouseClickEvent){const R=r.previousMouseClickEvent,$=R.timeStamp,k=R.clientX,M=R.clientY;if(E.timeStamp-$<300&&E.clientX===k&&E.clientY===M){r.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,E);return}}if(r.colDef){e.current.setColumnWidth(r.colDef.field,r.colDef.width),o.debug(`Updating col ${r.colDef.field} with new width: ${r.colDef.width}`);const R=St(e.current.state);r.groupHeaderElements.forEach($=>{const k=Jm($),M=$,I=`${k.reduce((P,S)=>R.columnVisibilityModel[S]!==!1?P+R.lookup[S].computedWidth:P,0)}px`;M.style.width=I,M.style.minWidth=I,M.style.maxWidth=I})}a.start(0,()=>{e.current.publishEvent("columnResizeStop",null,E)})},u=(E,R,$)=>{var I;const k=e.current.rootElementRef.current;r.initialColWidth=E.computedWidth,r.initialTotalWidth=e.current.getRootDimensions().rowWidth,r.colDef=E,r.columnHeaderElement=Qm(e.current.columnHeadersContainerRef.current,E.field);const M=k.querySelector(`.${_.headerFilterRow} [data-field="${$t(E.field)}"]`);M&&(r.headerFilterElement=M),r.groupHeaderElements=Zm((I=e.current.columnHeadersContainerRef)==null?void 0:I.current,E.field),r.cellElements=eh(r.columnHeaderElement,e.current),r.fillerLeft=Cs(e.current,"filler--pinnedLeft"),r.fillerRight=Cs(e.current,"filler--pinnedRight");const y=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);r.leftPinnedCellsAfter=y!==ke.LEFT?[]:th(e.current,r.columnHeaderElement),r.rightPinnedCellsBefore=y!==ke.RIGHT?[]:nh(e.current,r.columnHeaderElement),r.leftPinnedHeadersAfter=y!==ke.LEFT?[]:oh(e.current,r.columnHeaderElement),r.rightPinnedHeadersBefore=y!==ke.RIGHT?[]:rh(e.current,r.columnHeaderElement),s.current=vw(R,n.direction),l.current=yw($,r.columnHeaderElement.getBoundingClientRect(),s.current)},g=_e(f),m=_e(E=>{if(E.buttons===0){g(E);return}let R=js(l.current,E.clientX,r.columnHeaderElement.getBoundingClientRect(),s.current);R=_t(R,r.colDef.minWidth,r.colDef.maxWidth),d(R);const $={element:r.columnHeaderElement,colDef:r.colDef,width:R};e.current.publishEvent("columnResize",$,E)}),p=_e(E=>{As(E,c.current)&&f(E)}),b=_e(E=>{const R=As(E,c.current);if(!R)return;if(E.type==="mousemove"&&E.buttons===0){p(E);return}let $=js(l.current,R.x,r.columnHeaderElement.getBoundingClientRect(),s.current);$=_t($,r.colDef.minWidth,r.colDef.maxWidth),d($);const k={element:r.columnHeaderElement,colDef:r.colDef,width:$};e.current.publishEvent("columnResize",k,E)}),C=_e(E=>{const R=Ho(E.target,_["columnSeparator--resizable"]);if(!R)return;const $=E.changedTouches[0];$!=null&&(c.current=$.identifier);const k=Ho(E.target,_.columnHeader),M=Ym(k),y=e.current.getColumn(M);o.debug(`Start Resize on col ${y.field}`),e.current.publishEvent("columnResizeStart",{field:M},E),u(y,R,$.clientX);const I=Xt(E.currentTarget);I.addEventListener("touchmove",b),I.addEventListener("touchend",p)}),w=i.useCallback(()=>{const E=Xt(e.current.rootElementRef.current);E.body.style.removeProperty("cursor"),E.removeEventListener("mousemove",m),E.removeEventListener("mouseup",g),E.removeEventListener("touchmove",b),E.removeEventListener("touchend",p),setTimeout(()=>{E.removeEventListener("click",zs,!0)},100),r.columnHeaderElement&&(r.columnHeaderElement.style.pointerEvents="unset")},[e,r,m,g,b,p]),x=i.useCallback(({field:E})=>{e.current.setState(R=>h({},R,{columnResize:h({},R.columnResize,{resizingColumnField:E})})),e.current.forceUpdate()},[e]),L=i.useCallback(()=>{e.current.setState(E=>h({},E,{columnResize:h({},E.columnResize,{resizingColumnField:""})})),e.current.forceUpdate()},[e]),T=_e(({colDef:E},R)=>{if(R.button!==0||!R.currentTarget.classList.contains(_["columnSeparator--resizable"]))return;R.preventDefault(),o.debug(`Start Resize on col ${E.field}`),e.current.publishEvent("columnResizeStart",{field:E.field},R),u(E,R.currentTarget,R.clientX);const $=Xt(e.current.rootElementRef.current);$.body.style.cursor="col-resize",r.previousMouseClickEvent=R.nativeEvent,$.addEventListener("mousemove",m),$.addEventListener("mouseup",g),$.addEventListener("click",zs,!0)}),O=_e((E,R)=>{if(t.disableAutosize||R.button!==0)return;const $=e.current.state.columns.lookup[E.field];$.resizable!==!1&&e.current.autosizeColumns(h({},t.autosizeOptions,{columns:[$.field]}))}),A=Iw(e),H=i.useRef(!1),F=i.useCallback(async E=>{var y;if(!((y=e.current.rootElementRef)==null?void 0:y.current)||H.current)return;H.current=!0;const $=St(e.current.state),k=h({},Xa,E,{columns:(E==null?void 0:E.columns)??$.orderedFields});k.columns=k.columns.filter(I=>$.columnVisibilityModel[I]!==!1);const M=k.columns.map(I=>e.current.state.columns.lookup[I]);try{e.current.unstable_setColumnVirtualization(!1),await A();const I=Pw(e,k,M),P=M.map(S=>h({},S,{width:I[S.field],computedWidth:I[S.field]}));if(k.expand){const j=$.orderedFields.map(z=>$.lookup[z]).filter(z=>$.columnVisibilityModel[z.field]!==!1).reduce((z,N)=>z+(I[N.field]??N.computedWidth??N.width),0),G=e.current.getRootDimensions().viewportInnerSize.width-j;if(G>0){const z=G/(P.length||1);P.forEach(N=>{N.width+=z,N.computedWidth+=z})}}e.current.updateColumns(P),P.forEach((S,j)=>{if(S.width!==M[j].width){const D=S.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(S.field),colDef:S,width:D})}})}finally{e.current.unstable_setColumnVirtualization(!0),H.current=!1}},[e,A]);i.useEffect(()=>w,[w]),Ro(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),fl(e,()=>{var E;return(E=e.current.columnHeadersContainerRef)==null?void 0:E.current},"touchstart",C,{passive:!0}),ce(e,{autosizeColumns:F},"public"),ee(e,"columnResizeStop",L),ee(e,"columnResizeStart",x),ee(e,"columnSeparatorMouseDown",T),ee(e,"columnSeparatorDoubleClick",O),Me(e,"columnResize",t.onColumnResize),Me(e,"columnWidthChange",t.onColumnWidthChange)};function dn(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}const Dw=(e,t)=>{const n=Lb(e,t);return DC(n,t),PC(n),Ye($C,n,t),Ye(EC,n,t),Ye(Nb,n,t),Ye(yC,n,t),Ye(wC,n,t),Ye(oC,n,t),Ye(TC,n,t),Ye(dC,n,t),Ye(Zb,n,t),Ye(Ub,n,t),Ye(Ew,n,t),Ye(cC,n,t),Ye(fw,n,t),Ye(zb,n,t),Ye(Cw,n,t),Ye(Va,n,t),sC(n,t),FC(n,t),Bb(n,t),xC(n,t),ih(n),hw(n),ww(n,t),SC(n,t),rC(n,t),fC(n,t),nC(n,t),OC(n,t),Wb(n,t),kw(n,t),uC(n,t),gw(n,t),_C(n,t),Vb(n),Kb(n,t),Jb(n,t),jb(n,t),RC(n,t),HC(n,t),mw(n),Na(n,t),n},Su=i.forwardRef(function(t,n){const o=dw(t),r=Dw(o.apiRef,o);return v.jsx(fu,{privateApiRef:r,props:o,children:v.jsxs(sc,h({className:o.className,style:o.style,sx:o.sx,ref:n},o.forwardedProps,{children:[v.jsx(su,{}),v.jsx(Qa,{}),v.jsx(Ja,{})]}))})}),Tw=i.memo(Su);Su.propTypes={apiRef:V.shape({current:V.object.isRequired}),"aria-label":V.string,"aria-labelledby":V.string,autoHeight:V.bool,autoPageSize:V.bool,autosizeOnMount:V.bool,autosizeOptions:V.shape({columns:V.arrayOf(V.string),expand:V.bool,includeHeaders:V.bool,includeOutliers:V.bool,outliersFactor:V.number}),cellModesModel:V.object,checkboxSelection:V.bool,classes:V.object,clipboardCopyCellDelimiter:V.string,columnBufferPx:V.number,columnGroupingModel:V.arrayOf(V.object),columnHeaderHeight:V.number,columns:V.arrayOf(V.object).isRequired,columnVisibilityModel:V.object,density:V.oneOf(["comfortable","compact","standard"]),disableAutosize:V.bool,disableColumnFilter:V.bool,disableColumnMenu:V.bool,disableColumnResize:V.bool,disableColumnSelector:V.bool,disableColumnSorting:V.bool,disableDensitySelector:V.bool,disableEval:V.bool,disableMultipleRowSelection:V.bool,disableRowSelectionOnClick:V.bool,disableVirtualization:V.bool,editMode:V.oneOf(["cell","row"]),estimatedRowCount:V.number,experimentalFeatures:V.shape({warnIfFocusStateIsNotSynced:V.bool}),filterDebounceMs:V.number,filterMode:V.oneOf(["client","server"]),filterModel:V.shape({items:V.arrayOf(V.shape({field:V.string.isRequired,id:V.oneOfType([V.number,V.string]),operator:V.string.isRequired,value:V.any})).isRequired,logicOperator:V.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:V.bool,quickFilterLogicOperator:V.oneOf(["and","or"]),quickFilterValues:V.array}),forwardedProps:V.object,getCellClassName:V.func,getDetailPanelContent:V.func,getEstimatedRowHeight:V.func,getRowClassName:V.func,getRowHeight:V.func,getRowId:V.func,getRowSpacing:V.func,hideFooter:V.bool,hideFooterPagination:V.bool,hideFooterSelectedRowCount:V.bool,ignoreDiacritics:V.bool,ignoreValueFormatterDuringExport:V.oneOfType([V.shape({clipboardExport:V.bool,csvExport:V.bool}),V.bool]),initialState:V.object,isCellEditable:V.func,isRowSelectable:V.func,keepNonExistentRowsSelected:V.bool,loading:V.bool,localeText:V.object,logger:V.shape({debug:V.func.isRequired,error:V.func.isRequired,info:V.func.isRequired,warn:V.func.isRequired}),logLevel:V.oneOf(["debug","error","info","warn",!1]),nonce:V.string,onCellClick:V.func,onCellDoubleClick:V.func,onCellEditStart:V.func,onCellEditStop:V.func,onCellKeyDown:V.func,onCellModesModelChange:V.func,onClipboardCopy:V.func,onColumnHeaderClick:V.func,onColumnHeaderDoubleClick:V.func,onColumnHeaderEnter:V.func,onColumnHeaderLeave:V.func,onColumnHeaderOut:V.func,onColumnHeaderOver:V.func,onColumnOrderChange:V.func,onColumnResize:V.func,onColumnVisibilityModelChange:V.func,onColumnWidthChange:V.func,onDensityChange:V.func,onFilterModelChange:V.func,onMenuClose:V.func,onMenuOpen:V.func,onPaginationMetaChange:V.func,onPaginationModelChange:V.func,onPreferencePanelClose:V.func,onPreferencePanelOpen:V.func,onProcessRowUpdateError:V.func,onResize:V.func,onRowClick:V.func,onRowCountChange:V.func,onRowDoubleClick:V.func,onRowEditStart:V.func,onRowEditStop:V.func,onRowModesModelChange:V.func,onRowSelectionModelChange:V.func,onSortModelChange:V.func,onStateChange:V.func,pageSizeOptions:V.arrayOf(V.oneOfType([V.number,V.shape({label:V.string.isRequired,value:V.number.isRequired})]).isRequired),pagination:V.oneOf([!0]),paginationMeta:V.shape({hasNextPage:V.bool}),paginationMode:V.oneOf(["client","server"]),paginationModel:V.shape({page:V.number.isRequired,pageSize:V.number.isRequired}),processRowUpdate:V.func,resizeThrottleMs:V.number,rowBufferPx:V.number,rowCount:V.number,rowHeight:V.number,rowModesModel:V.object,rowPositionsDebounceMs:V.number,rows:V.arrayOf(V.object),rowSelection:V.bool,rowSelectionModel:V.oneOfType([V.arrayOf(V.oneOfType([V.number,V.string]).isRequired),V.number,V.string]),rowSpacingType:V.oneOf(["border","margin"]),scrollbarSize:V.number,showCellVerticalBorder:V.bool,showColumnVerticalBorder:V.bool,slotProps:V.object,slots:V.object,sortingMode:V.oneOf(["client","server"]),sortingOrder:V.arrayOf(V.oneOf(["asc","desc"])),sortModel:V.arrayOf(V.shape({field:V.string.isRequired,sort:V.oneOf(["asc","desc"])})),sx:V.oneOfType([V.arrayOf(V.oneOfType([V.func,V.object,V.bool])),V.func,V.object])};/**
 * @mui/x-data-grid v7.12.1
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const Ow=Object.freeze(Object.defineProperty({__proto__:null,COMFORTABLE_DENSITY_FACTOR:Ci,COMPACT_DENSITY_FACTOR:bi,DATA_GRID_PROPS_DEFAULT_VALUES:Go,DEFAULT_GRID_AUTOSIZE_OPTIONS:Xa,DEFAULT_GRID_COL_TYPE_KEY:Oa,DataGrid:Tw,EMPTY_PINNED_COLUMN_FIELDS:Do,EMPTY_RENDER_CONTEXT:yl,GRID_ACTIONS_COLUMN_TYPE:Kn,GRID_ACTIONS_COL_DEF:Li,GRID_BOOLEAN_COL_DEF:ol,GRID_CHECKBOX_SELECTION_COL_DEF:nn,GRID_CHECKBOX_SELECTION_FIELD:Tt,GRID_COLUMN_MENU_SLOTS:jc,GRID_COLUMN_MENU_SLOT_PROPS:zc,GRID_DATETIME_COL_DEF:ya,GRID_DATE_COL_DEF:Sa,GRID_DEFAULT_LOCALE_TEXT:fi,GRID_EXPERIMENTAL_ENABLED:af,GRID_NUMERIC_COL_DEF:Ia,GRID_ROOT_GROUP_ID:Ze,GRID_SINGLE_SELECT_COL_DEF:Ta,GRID_STRING_COL_DEF:mt,GridActionsCell:_i,GridActionsCellItem:mh,GridAddIcon:Or,GridApiContext:qr,GridArrowDownwardIcon:Fr,GridArrowUpwardIcon:Er,GridBody:Qa,GridBooleanCell:Ni,GridCell:rc,GridCellCheckboxForwardRef:Xi,GridCellCheckboxRenderer:Yi,GridCellEditStartReasons:It,GridCellEditStopReasons:dt,GridCellModes:Se,GridCheckCircleIcon:np,GridCheckIcon:Fc,GridClearIcon:Oc,GridCloseIcon:Eo,GridColumnHeaderFilterIconButton:pc,GridColumnHeaderItem:gc,GridColumnHeaderMenu:cc,GridColumnHeaderSeparator:dc,GridColumnHeaderSeparatorSides:lr,GridColumnHeaderSortIcon:hc,GridColumnHeaderTitle:uc,GridColumnHeaders:Cu,GridColumnIcon:wc,GridColumnMenu:Nc,GridColumnMenuColumnsItem:$c,GridColumnMenuContainer:Hc,GridColumnMenuFilterItem:Rc,GridColumnMenuHideItem:Lc,GridColumnMenuManageItem:Gc,GridColumnMenuSortItem:Ac,GridColumnsManagement:vl,GridColumnsPanel:Bc,GridContextProvider:fu,GridCsvExportMenuItem:eu,GridDeleteForeverIcon:_c,GridDeleteIcon:op,GridDragIcon:_r,GridEditBooleanCell:Ui,GridEditDateCell:pa,GridEditInputCell:xi,GridEditModes:yt,GridEditSingleSelectCell:Ea,GridExpandMoreIcon:Dr,GridFilterAltIcon:Tr,GridFilterForm:Hr,GridFilterInputBoolean:qi,GridFilterInputDate:qt,GridFilterInputMultipleSingleSelect:ka,GridFilterInputMultipleValue:Zr,GridFilterInputSingleSelect:vr,GridFilterInputValue:Ct,GridFilterListIcon:bc,GridFilterPanel:Xc,GridFooter:lu,GridFooterContainer:ic,GridFooterPlaceholder:Ja,GridGenericColumnMenu:Vc,GridHeader:su,GridHeaderCheckbox:ha,GridKeyboardArrowRight:kr,GridLoadIcon:Pc,GridLoadingOverlay:iu,GridLogicOperator:Je,GridMenu:qn,GridMenuIcon:tp,GridMoreVertIcon:kc,GridNoRowsOverlay:au,GridOverlay:rr,GridOverlays:Wa,GridPagination:cu,GridPanel:Wc,GridPanelContent:qc,GridPanelFooter:Kc,GridPanelHeader:Op,GridPanelWrapper:xl,GridPinnedColumnPosition:ke,GridPreferencePanelsValue:ht,GridPrintExportMenuItem:tu,GridRemoveIcon:Mc,GridRoot:sc,GridRow:du,GridRowCount:uu,GridRowEditStartReasons:Dt,GridRowEditStopReasons:bt,GridRowModes:Ie,GridSaveAltIcon:Ec,GridSearchIcon:Cc,GridSelectedRowCount:ru,GridSeparatorIcon:Sc,GridSignature:ft,GridSkeletonCell:lc,GridTableRowsIcon:xc,GridToolbar:tb,GridToolbarColumnsButton:Yc,GridToolbarContainer:ac,GridToolbarDensitySelector:Qc,GridToolbarExport:nu,GridToolbarExportContainer:Zc,GridToolbarFilterButton:Jc,GridToolbarQuickFilter:ou,GridTripleDotsVerticalIcon:Ic,GridViewColumnIcon:Tc,GridViewHeadlineIcon:yc,GridViewStreamIcon:vc,GridVisibilityOffIcon:Dc,checkGridRowIdIsValid:Ai,createUseGridApiEventHandler:gi,getDataGridUtilityClass:de,getDefaultGridFilterModel:Sn,getGridBooleanOperators:Ki,getGridDateOperators:hl,getGridDefaultColumnTypes:_a,getGridNumericOperators:va,getGridNumericQuickFilterFn:xa,getGridSingleSelectOperators:Da,getGridStringOperators:Oi,getGridStringQuickFilterFn:Ti,gridClasses:_,gridColumnDefinitionsSelector:gt,gridColumnFieldsSelector:Mt,gridColumnGroupingSelector:Zn,gridColumnGroupsHeaderMaxDepthSelector:On,gridColumnGroupsHeaderStructureSelector:$a,gridColumnGroupsLookupSelector:wl,gridColumnGroupsUnwrappedModelSelector:Cl,gridColumnLookupSelector:Et,gridColumnMenuSelector:An,gridColumnPositionsSelector:Lt,gridColumnResizeSelector:Ka,gridColumnVisibilityModelSelector:at,gridColumnsStateSelector:St,gridColumnsTotalWidthSelector:Bo,gridDataRowIdsSelector:$n,gridDateComparator:Qr,gridDateFormatter:Ca,gridDateTimeFormatter:wa,gridDensityFactorSelector:En,gridDensitySelector:At,gridDimensionsSelector:et,gridEditRowsStateSelector:qe,gridExpandedRowCountSelector:ul,gridExpandedSortedRowEntriesSelector:Gt,gridExpandedSortedRowIdsSelector:wn,gridFilterActiveItemsLookupSelector:ia,gridFilterActiveItemsSelector:dl,gridFilterModelSelector:ze,gridFilterableColumnDefinitionsSelector:Kr,gridFilterableColumnLookupSelector:Si,gridFilteredDescendantCountLookupSelector:wg,gridFilteredDescendantRowCountSelector:Sg,gridFilteredRowCountSelector:sa,gridFilteredRowsLookupSelector:il,gridFilteredSortedRowEntriesSelector:al,gridFilteredSortedRowIdsSelector:la,gridFilteredSortedTopLevelRowEntriesSelector:cl,gridFilteredTopLevelRowCountSelector:Xo,gridFocusCellSelector:rt,gridFocusColumnGroupHeaderSelector:Nn,gridFocusColumnHeaderFilterSelector:bg,gridFocusColumnHeaderSelector:Qi,gridFocusStateSelector:Yn,gridHasColSpanSelector:yi,gridHeaderFilteringEditFieldSelector:La,gridHeaderFilteringEnabledSelector:Ha,gridHeaderFilteringMenuSelector:Ga,gridHeaderFilteringStateSelector:Jo,gridNumberComparator:Yr,gridPageCountSelector:gl,gridPageSelector:fa,gridPageSizeSelector:ga,gridPaginatedVisibleSortedGridRowEntriesSelector:ma,gridPaginatedVisibleSortedGridRowIdsSelector:ml,gridPaginationMetaSelector:bn,gridPaginationModelSelector:Qe,gridPaginationRowCountSelector:Kt,gridPaginationRowRangeSelector:Yo,gridPaginationSelector:Jn,gridPanelClasses:Uc,gridPinnedColumnsSelector:wi,gridPreferencePanelStateSelector:Nt,gridQuickFilterValuesSelector:oa,gridRenderContextColumnsSelector:za,gridRenderContextSelector:tr,gridResizingColumnFieldSelector:Rm,gridRowCountSelector:Dn,gridRowGroupingNameSelector:Ri,gridRowMaximumTreeDepthSelector:Xn,gridRowSelectionStateSelector:lt,gridRowTreeDepthsSelector:xr,gridRowTreeSelector:it,gridRowsDataRowIdToIdLookupSelector:Vn,gridRowsLoadingSelector:Gi,gridRowsLookupSelector:Ot,gridRowsMetaSelector:rn,gridSortColumnLookupSelector:na,gridSortModelSelector:st,gridSortedRowEntriesSelector:Ko,gridSortedRowIdsSelector:qo,gridStringOrNumberComparator:Mi,gridTabIndexCellSelector:Wo,gridTabIndexColumnGroupHeaderSelector:Ji,gridTabIndexColumnHeaderFilterSelector:Cg,gridTabIndexColumnHeaderSelector:ll,gridTabIndexStateSelector:Qn,gridTopLevelRowCountSelector:$i,gridVirtualizationColumnEnabledSelector:er,gridVirtualizationEnabledSelector:ja,gridVirtualizationSelector:Zo,gridVisibleColumnDefinitionsSelector:Ae,gridVisibleColumnFieldsSelector:Fn,gridVisiblePinnedColumnDefinitionsSelector:kn,gridVisibleRowsLookupSelector:ra,isAutogeneratedRow:rg,isLeaf:el,renderActionsCell:Hi,renderBooleanCell:Bi,renderEditBooleanCell:Wi,renderEditDateCell:pl,renderEditInputCell:vi,renderEditSingleSelectCell:Fa,selectedGridRowsCountSelector:Zi,selectedGridRowsSelector:ea,selectedIdsLookupSelector:Bn,unstable_resetCleanupTracking:ff,useFirstRender:Tn,useGridApiContext:ie,useGridApiEventHandler:ee,useGridApiMethod:ce,useGridApiOptionHandler:Me,useGridApiRef:sf,useGridLogger:je,useGridNativeEventListener:fl,useGridRootProps:J,useGridSelector:U,useGridVirtualization:Na,useOnMount:Ro,useRunOnce:aa,virtualizationStateInitializer:Va},Symbol.toStringTag,{value:"Module"})),_w=ed(Ow);var Hw=X&&X.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Lw=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gw=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Hw(t,e,n);return Lw(t,e),t},$w=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.default=Vw;const kt=Gw(i),Rw=xt,Vs=_w,Cr=Pt,Ns=Zt,Aw=$w(Pn),jw=Bt,zw=(0,Rw.makeStyles)()(e=>({margin:{marginBottom:e.spacing(4)},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}));function Vw({value:e,prefix:t,name:n}){const{classes:o}=zw(),[r,l]=(0,kt.useState)(!1),s=Object.keys(e[0]).sort(),a=new Set(s),c=Object.entries(e).map(([u,g])=>{const{id:m,...p}=g;return{id:u,identifier:m,...p}});for(const u of e)for(const g of Object.keys(u))a.add(g);let d;a.has("id")?(a.delete("id"),d=["identifier",...a]):d=[...a];const f=d.map(u=>(0,Ns.measureGridWidth)(c.map(g=>g[u])));return a.size<s.length+5?kt.default.createElement("div",{className:o.margin},kt.default.createElement(Aw.default,{prefix:t,name:n}),kt.default.createElement(Cr.FormControlLabel,{control:kt.default.createElement(Cr.Checkbox,{checked:r,onChange:u=>l(u.target.checked)}),label:kt.default.createElement(Cr.Typography,{variant:"body2"},"Show options")}),kt.default.createElement(Vs.DataGrid,{autoHeight:!0,disableRowSelectionOnClick:!0,rows:c,rowHeight:20,columnHeaderHeight:35,hideFooter:c.length<25,slots:{toolbar:r?Vs.GridToolbar:null},slotProps:{toolbar:{printOptions:{disableToolbarButton:!0}}},columns:d.map((u,g)=>({field:u,renderCell:m=>{const p=m.value;return kt.default.createElement("div",{className:o.cell},kt.default.createElement(jw.SanitizedHTML,{html:(0,Ns.getStr)(p||"")}))},width:f[g]}))})):null}var vo={},Bs;function Nw(){if(Bs)return vo;Bs=1;var e=X&&X.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(vo,"__esModule",{value:!0}),vo.default=c;const t=e(i),n=e($o),o=xt,r=e(Ar()),l=e(Pn),s=e(Wn),a=(0,o.makeStyles)()(d=>({field:{display:"flex",flexWrap:"wrap"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:d.spacing(.5),border:`1px solid ${d.palette.action.selected}`,boxSizing:"border-box",overflow:"auto"}}));function c({name:d,value:f,description:u,prefix:g=[]}){const{classes:m}=a();return f.length===1?(0,n.default)(f[0])?t.default.createElement(r.default,{attributes:f[0],prefix:[...g,d]}):t.default.createElement("div",{className:m.field},t.default.createElement(l.default,{prefix:g,description:u,name:d}),t.default.createElement(s.default,{value:f[0]})):f.every(p=>(0,n.default)(p))?t.default.createElement(t.default.Fragment,null,f.map((p,b)=>t.default.createElement(r.default,{key:JSON.stringify(p)+"-"+b,attributes:p,prefix:[...g,d+"-"+b]}))):t.default.createElement("div",{className:m.field},t.default.createElement(l.default,{prefix:g,description:u,name:d}),f.map((p,b)=>t.default.createElement("div",{key:JSON.stringify(p)+"-"+b,className:m.fieldSubvalue},t.default.createElement(s.default,{value:p}))))}return vo}var Dl={},Tl=X&&X.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.default=Kw;const wr=Tl(i),Bw=Tl(Pn),Uw=xt,Ww=Tl(Wn),qw=(0,Uw.makeStyles)()({field:{display:"flex",flexWrap:"wrap"}});function Kw({value:e,prefix:t,name:n}){const{classes:o}=qw(),{uri:r,baseUri:l=""}=e;let s;try{s=new URL(r,l).href}catch{s=r}return wr.default.createElement("div",{className:o.field},wr.default.createElement(Bw.default,{prefix:t,name:n}),wr.default.createElement(Ww.default,{value:s}))}var Us;function Ar(){if(Us)return yo;Us=1;var e=X&&X.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(yo,"__esModule",{value:!0}),yo.default=u;const t=e(i),n=e($o),o=tn,r=Zt,l=e(Wr),s=e(Nw()),a=e(Dl),c=e(No),d=170,f=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"];function u(g){const{attributes:m,omit:p=[],omitSingleLevel:b=[],descriptions:C,formatter:w=E=>E,hideUris:x,prefix:L=[]}=g,T=new Set([...p,...f,...b]),{__jbrowsefmt:O,...A}=m,H={...A,...O},F=(0,o.generateMaxWidth)(Object.entries(H).filter(([E,R])=>R!==void 0&&!T.has(E)),L);return t.default.createElement(t.default.Fragment,null,Object.entries(H).filter(([E,R])=>R!==void 0&&!T.has(E)).map(([E,R])=>{const $=(0,o.accessNested)([...L,E],C);if(Array.isArray(R))return R.length>1&&R.every(k=>(0,n.default)(k))?t.default.createElement(l.default,{key:E,name:E,prefix:L,value:R}):t.default.createElement(s.default,{key:E,name:E,value:R,description:$,prefix:L});if((0,n.default)(R)){const{omitSingleLevel:k,...M}=g;return(0,r.isUriLocation)(R)?x?null:t.default.createElement(a.default,{key:E,name:E,prefix:L,value:R}):t.default.createElement(u,{key:E,...M,attributes:R,descriptions:C,prefix:[...L,E]})}else return t.default.createElement(c.default,{key:E,name:E,value:w(R,E),description:$,prefix:L,width:Math.min(F,d)})}))}return yo}(function(e){var t=X&&X.__createBinding||(Object.create?function($,k,M,y){y===void 0&&(y=M);var I=Object.getOwnPropertyDescriptor(k,M);(!I||("get"in I?!k.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return k[M]}}),Object.defineProperty($,y,I)}:function($,k,M,y){y===void 0&&(y=M),$[y]=k[M]}),n=X&&X.__setModuleDefault||(Object.create?function($,k){Object.defineProperty($,"default",{enumerable:!0,value:k})}:function($,k){$.default=k}),o=X&&X.__importStar||function($){if($&&$.__esModule)return $;var k={};if($!=null)for(var M in $)M!=="default"&&Object.prototype.hasOwnProperty.call($,M)&&t(k,$,M);return n(k,$),k},r=X&&X.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(e,"__esModule",{value:!0}),e.Attributes=e.BaseAttributes=e.BaseCoreDetails=void 0,e.BaseCard=L,e.FeatureDetails=F;const l=o(i),s=td,a=Pt,c=xt,d=ct,f=r(jo),u=Zt,g=Bt,m=r(li),p=r(No),b=r(Ar()),C=tn,w=["name","start","end","strand","refName","description","type"],x=(0,c.makeStyles)()($=>{var k;return{expansionPanelDetails:{display:"block",padding:$.spacing(1)},expandIcon:{color:((k=$.palette.tertiary)===null||k===void 0?void 0:k.contrastText)||"#fff"}}});function L({children:$,title:k,defaultExpanded:M=!0}){const{classes:y}=x(),[I,P]=(0,l.useState)(M);return l.default.createElement(a.Accordion,{expanded:I,onChange:()=>P(S=>!S),TransitionProps:{unmountOnExit:!0,timeout:150}},l.default.createElement(a.AccordionSummary,{expandIcon:l.default.createElement(f.default,{className:y.expandIcon})},l.default.createElement(a.Typography,{variant:"button"},k)),l.default.createElement(a.AccordionDetails,{className:y.expansionPanelDetails},$))}function T($){const{feature:k}=$,M=k.strand,y={"-1":"-",0:"",1:"+"},I=y[M]?`(${y[M]})`:"",P=(0,u.assembleLocString)(k);return l.default.createElement(l.default.Fragment,null,`${P} ${I}`)}function O($){const{feature:k}=$,M=k,y={...M,...M.__jbrowsefmt},{start:I,end:P}=y,S={...y,length:(0,u.toLocale)(P-I)},j={description:"Description",name:"Name",length:"Length",type:"Type"};return l.default.createElement(l.default.Fragment,null,l.default.createElement(p.default,{name:"Position",value:l.default.createElement(T,{...$,feature:y})}),Object.entries(j).map(([D,G])=>[G,S[D]]).filter(([,D])=>D!=null).map(([D,G])=>l.default.createElement(p.default,{key:D,name:D,value:G})))}const A=$=>{const{title:k="Primary data"}=$;return l.default.createElement(L,{...$,title:k},l.default.createElement(O,{...$}))};e.BaseCoreDetails=A;const H=$=>{const{feature:k}=$;return l.default.createElement(L,{...$,title:"Attributes"},l.default.createElement(b.default,{...$,attributes:k}))};e.BaseAttributes=H;function F($){const{omit:k=[],model:M,feature:y,depth:I=0}=$,{maxDepth:P}=M,{mate:S,name:j="",id:D="",type:G="",subfeatures:z,uniqueId:N}=y,B=(0,u.getEnv)(M).pluginManager,W=(0,u.getSession)(M),Q=B.evaluateExtensionPoint("Core-extraFeaturePanel",null,{session:W,feature:y,model:M});return l.default.createElement(L,{title:(0,C.generateTitle)(j,D,G)},l.default.createElement(a.Typography,null,"Core details"),l.default.createElement(O,{...$}),S?l.default.createElement(l.default.Fragment,null,l.default.createElement(a.Divider,null),l.default.createElement(a.Typography,null,"Mate details"),l.default.createElement(O,{...$,feature:{...S,start:S.start,end:S.end,refName:S.refName,uniqueId:N+"-mate"}})):null,l.default.createElement(a.Divider,null),l.default.createElement(a.Typography,null,"Attributes"),l.default.createElement(b.default,{attributes:y,...$,omit:k,omitSingleLevel:w}),l.default.createElement(s.ErrorBoundary,{FallbackComponent:q=>l.default.createElement(g.ErrorMessage,{error:q.error})},l.default.createElement(m.default,{...$})),Q?l.default.createElement(l.default.Fragment,null,l.default.createElement(a.Divider,null),l.default.createElement(L,{title:Q.name},l.default.createElement(Q.Component,{...$}))):null,I<P&&(z!=null&&z.length)?l.default.createElement(L,{title:"Subfeatures",defaultExpanded:I<1},z.map((q,Z)=>l.default.createElement(F,{key:JSON.stringify(q),feature:{...q,uniqueId:`${N}_${Z}`},model:M,depth:I+1}))):null)}const E=(0,d.observer)(function({model:$}){const{error:k,featureData:M}=$;if(k)return l.default.createElement(g.ErrorMessage,{error:k});if(!M)return null;const y=JSON.parse(JSON.stringify(M,(I,P)=>P===void 0?null:P));return(0,C.isEmpty)(y)?null:l.default.createElement(F,{model:$,feature:y})});e.default=E;var R=Ar();Object.defineProperty(e,"Attributes",{enumerable:!0,get:function(){return r(R).default}})})(ad);var Xw=qs();const Yw=Ws(Xw),Qw=nd()({textAreaFont:{fontFamily:"Courier New",wordWrap:"break-word"},dialogContent:{background:"lightgrey",margin:4,minWidth:"80em"}});function eS({str:e}){const{classes:t}=Qw(),[n,o]=i.useState(!1),[r,l]=i.useState(!1),[s,a]=i.useState(!1),c=e.map(([d,f])=>[d,r?f:f.replaceAll("-","")]).filter(d=>s?!0:!!d[1]).map(([d,f])=>`>${d}
${r?f:f.replaceAll("-","")}`).join(`
`);return an.createElement(an.Fragment,null,an.createElement(ti,{color:"primary",variant:"contained",onClick:()=>{Yw(c),o(!0),setTimeout(()=>{o(!1)},500)}},n?"Copied!":"Copy to clipboard"),an.createElement(Gl,{label:"Show gaps",checked:r,onChange:()=>{l(!r)}}),an.createElement(Gl,{label:"Show empty",checked:s,onChange:()=>{a(!s)}}),an.createElement(Vr,{variant:"outlined",multiline:!0,className:t.dialogContent,minRows:5,maxRows:10,fullWidth:!0,value:c,InputProps:{readOnly:!0,classes:{input:t.textAreaFont}}}))}export{ad as B,eS as S};
//# sourceMappingURL=SequenceTextArea-CFfValfM.js.map
